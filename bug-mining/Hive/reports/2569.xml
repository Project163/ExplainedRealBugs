<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:23:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-7777] Add CSV Serde based on OpenCSV</title>
                <link>https://issues.apache.org/jira/browse/HIVE-7777</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;There is no official support for csvSerde for hive while there is an open source project in github(&lt;a href=&quot;https://github.com/ogrodnek/csv-serde&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ogrodnek/csv-serde&lt;/a&gt;). CSV is of high frequency in use as a data format.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12734960">HIVE-7777</key>
            <summary>Add CSV Serde based on OpenCSV</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Ferd">Ferdinand Xu</assignee>
                                    <reporter username="Ferd">Ferdinand Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Aug 2014 06:25:56 +0000</created>
                <updated>Fri, 6 May 2016 17:06:30 +0000</updated>
                            <resolved>Tue, 16 Sep 2014 22:26:39 +0000</resolved>
                                                    <fixVersion>0.14.0</fixVersion>
                                    <component>Serializers/Deserializers</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>12</watches>
                                                                                                                <comments>
                            <comment id="14113406" author="ogrodnek" created="Thu, 28 Aug 2014 06:09:39 +0000"  >&lt;p&gt;Attached is the csv-serde source to the project referenced.&lt;/p&gt;

&lt;p&gt;It has already been released under the Apache 2 License.&lt;/p&gt;

&lt;p&gt;thanks.&lt;/p&gt;</comment>
                            <comment id="14126486" author="ferd" created="Tue, 9 Sep 2014 02:20:39 +0000"  >&lt;p&gt;Thank &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ogrodnek&quot; class=&quot;user-hover&quot; rel=&quot;ogrodnek&quot;&gt;ogrodnek&lt;/a&gt; for uploading the zip file. I have rebased the code.&lt;br/&gt;
&lt;a href=&quot;https://reviews.apache.org/r/25468/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/25468/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14126737" author="hiveqa" created="Tue, 9 Sep 2014 08:14:15 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12667327/HIVE-7777.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12667327/HIVE-7777.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6188 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/703/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/703/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/703/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/703/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-703/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-703/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12667327&lt;/p&gt;</comment>
                            <comment id="14128381" author="hiveqa" created="Wed, 10 Sep 2014 11:48:23 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12667616/HIVE-7777.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12667616/HIVE-7777.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6196 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.parse.TestParse.testParse_union
org.apache.hive.jdbc.miniHS2.TestHiveServer2.testConnection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/723/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/723/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/723/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/723/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-723/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-723/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12667616&lt;/p&gt;</comment>
                            <comment id="14131042" author="ferd" created="Fri, 12 Sep 2014 02:49:24 +0000"  >&lt;p&gt;add query test&lt;/p&gt;</comment>
                            <comment id="14131445" author="hiveqa" created="Fri, 12 Sep 2014 11:52:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12668248/HIVE-7777.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12668248/HIVE-7777.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 6201 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.metastore.txn.TestCompactionTxnHandler.testRevokeTimedOutWorkers
org.apache.hive.service.TestHS2ImpersonationWithRemoteMS.testImpersonation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/758/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/758/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/758/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/758/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-758/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-758/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12668248&lt;/p&gt;</comment>
                            <comment id="14132072" author="brocknoland" created="Fri, 12 Sep 2014 20:42:03 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;This patch looks great! However, since the dependency is not specified here: &lt;a href=&quot;https://github.com/apache/hive/blob/trunk/ql/pom.xml#L563&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/hive/blob/trunk/ql/pom.xml#L563&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I get the following error when using the serde:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Diagnostic Messages for this Task:
Error: java.lang.RuntimeException: java.lang.NoClassDefFoundError: au/com/bytecode/opencsv/CSVReader
	at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:195)
	at org.apache.hadoop.mapred.MapRunner.run(MapRunner.java:54)
	at org.apache.hadoop.mapred.MapTask.runOldMapper(MapTask.java:430)
	at org.apache.hadoop.mapred.MapTask.run(MapTask.java:342)
	at org.apache.hadoop.mapred.YarnChild$2.run(YarnChild.java:168)
	at java.security.AccessController.doPrivileged(Native Method)
	at javax.security.auth.Subject.doAs(Subject.java:415)
	at org.apache.hadoop.security.UserGroupInformation.doAs(UserGroupInformation.java:1548)
	at org.apache.hadoop.mapred.YarnChild.main(YarnChild.java:163)
Caused by: java.lang.NoClassDefFoundError: au/com/bytecode/opencsv/CSVReader
	at org.apache.hadoop.hive.serde2.OpenCSVSerde.newReader(OpenCSVSerde.java:179)
	at org.apache.hadoop.hive.serde2.OpenCSVSerde.deserialize(OpenCSVSerde.java:147)
	at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.readRow(MapOperator.java:155)
	at org.apache.hadoop.hive.ql.exec.MapOperator$MapOpCtx.access$200(MapOperator.java:128)
	at org.apache.hadoop.hive.ql.exec.MapOperator.process(MapOperator.java:509)
	at org.apache.hadoop.hive.ql.exec.mr.ExecMapper.map(ExecMapper.java:177)
	... 8 more
Caused by: java.lang.ClassNotFoundException: au.com.bytecode.opencsv.CSVReader
	at java.net.URLClassLoader$1.run(URLClassLoader.java:366)
	at java.net.URLClassLoader$1.run(URLClassLoader.java:355)
	at java.security.AccessController.doPrivileged(Native Method)
	at java.net.URLClassLoader.findClass(URLClassLoader.java:354)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:425)
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)
	at java.lang.ClassLoader.loadClass(ClassLoader.java:358)
	... 14 more

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14134835" author="ferd" created="Tue, 16 Sep 2014 02:06:54 +0000"  >&lt;p&gt;Update the patch. Modify the query test to ensure mapred task is triggered.&lt;/p&gt;</comment>
                            <comment id="14134986" author="brocknoland" created="Tue, 16 Sep 2014 05:27:12 +0000"  >&lt;p&gt;+1 pending tests&lt;/p&gt;</comment>
                            <comment id="14136036" author="hiveqa" created="Tue, 16 Sep 2014 19:24:19 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12668948/HIVE-7777.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12668948/HIVE-7777.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 6282 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/824/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/824/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/824/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/824/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-824/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-824/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12668948&lt;/p&gt;</comment>
                            <comment id="14136379" author="brocknoland" created="Tue, 16 Sep 2014 22:27:43 +0000"  >&lt;p&gt;Attribution for this fix goes to  Larry Ogrodnek and Ferdinand Xu.&lt;/p&gt;

&lt;p&gt;Thank you! I have committed this to trunk!&lt;/p&gt;</comment>
                            <comment id="14142364" author="lefty@hortonworks.com" created="Sun, 21 Sep 2014 06:57:53 +0000"  >&lt;p&gt;Doc note:  This could be documented in the following wikidocs, with release information and a link back to this JIRA ticket:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/SerDe#SerDe-Built-inSerDes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SerDe Overview &amp;#8211; Built-in SerDes &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-HiveSerDe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Developer Guide &amp;#8211; Hive SerDe &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RowFormat,StorageFormat,andSerDe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DDL &amp;#8211; Row Format, Storage Format, and SerDe &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14200053" author="goldshuv" created="Thu, 6 Nov 2014 10:23:45 +0000"  >&lt;p&gt;While the serde works fine, it has an issue, which is quite serious IMO - It forces all the column types to String. This means that running a query on data that isn&apos;t all string type can return wrong query results. In the unit tests I see a single example of a table using all string columns, and in the tests linked here there are many tables with non-string types, but all the queries seem to be simple COUNT&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_yellow.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;, which won&apos;t catch the problem.&lt;/p&gt;

&lt;p&gt;Consider the following example:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;CREATE EXTERNAL TABLE test (totalprice DECIMAL(38,10)) 
ROW FORMAT SERDE &apos;com.bizo.hive.serde.csv.CSVSerde&apos; with 
serdeproperties (&quot;separatorChar&quot; = &quot;,&quot;,&quot;quoteChar&quot;= &quot;&apos;&quot;,&quot;escapeChar&quot;= &quot;\\&quot;) 
STORED AS TEXTFILE 
LOCATION &apos;&amp;lt;some location&amp;gt;&apos; 
tblproperties (&quot;skip.header.line.count&quot;=&quot;1&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now consider this sql:&lt;/p&gt;

&lt;p&gt;hive&amp;gt; select min(totalprice) from test;&lt;/p&gt;

&lt;p&gt;in this case given my data, the result should have been 874.89, but the actual result became 100001.57 (as it is first according to byte ordering of a string type). this is a wrong result.&lt;/p&gt;

&lt;p&gt;hive&amp;gt; desc extended test;&lt;br/&gt;
OK&lt;br/&gt;
o_totalprice        	string              	from deserializer&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;I apologize if it&apos;s a false alarm and I&apos;m misusing the DDL somehow. Otherwise - this is a concern as wrong query results is a bad thing...&lt;/p&gt;</comment>
                            <comment id="14200341" author="brocknoland" created="Thu, 6 Nov 2014 15:41:20 +0000"  >&lt;p&gt;After some research, I think that was a limitation of the original Serde: &lt;a href=&quot;https://github.com/ogrodnek/csv-serde&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/ogrodnek/csv-serde&lt;/a&gt; however, we should be able to resolve this. Can you open a JIRA for adding non-string types to the OpenCSV Serde?&lt;/p&gt;</comment>
                            <comment id="14200979" author="rstokes@cloudera.com" created="Thu, 6 Nov 2014 21:39:27 +0000"  >&lt;p&gt;I have recently had to deal with this use case and worked around it by using a modified version of the Lazy Simple Serde extended to support quote enclosures , embedded delimiters and trimming of leading spaces in fields. This provides full support for the standard features of delimited textfiles but handles many of the common csv use cases .&lt;/p&gt;

&lt;p&gt;I am proposing to add these changes back to the main LazySimpleSerde&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-8763&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-8763&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14203915" author="goldshuv" created="Sun, 9 Nov 2014 13:25:22 +0000"  >&lt;p&gt;Either way should work (adding OpenCSV parsing on LazySimpleSerde or adding type support on this new CSV serde). &lt;/p&gt;

&lt;p&gt;IMO the deciding factor should be performance considerations. If adding quote stripping to LazySimpleSerde means it will slow down simple non quoted parsing (e.g, due to introducing the need to examine the state after each byte instead of seeking fast to the next line terminator) - I&apos;d say the solution is best represented in 2 separate serdes (as proposed in this JIRA). If that isn&apos;t the case though - a single serde (as proposed by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rstokes&quot; class=&quot;user-hover&quot; rel=&quot;rstokes&quot;&gt;rstokes&lt;/a&gt;) is more elegant/friendly. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rstokes&quot; class=&quot;user-hover&quot; rel=&quot;rstokes&quot;&gt;rstokes&lt;/a&gt; - can you share information on that respect, or share the code for your modified LazySimpleSerde?&lt;/p&gt;</comment>
                            <comment id="14203963" author="rstokes@cloudera.com" created="Sun, 9 Nov 2014 15:41:07 +0000"  >&lt;p&gt;Alon - I agree completely on the performance issue - so I am not proposing addition of opencsv support to LazySimpleSerde but relatively minor modifications to the code for parsing of fields and structs that will handle some of the more common use cases.&lt;/p&gt;

&lt;p&gt;Performance should be similar to current implementation and the same when enclosed quotes is not enabled&lt;/p&gt;</comment>
                            <comment id="14205126" author="rstokes@cloudera.com" created="Mon, 10 Nov 2014 18:32:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Goldshuv&quot; class=&quot;user-hover&quot; rel=&quot;Goldshuv&quot;&gt;Goldshuv&lt;/a&gt;, the code attached to the jira item&lt;/p&gt;</comment>
                            <comment id="14205720" author="szehon" created="Tue, 11 Nov 2014 00:58:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt; Added a new page and links in top two of three locations to help document this (seems most serde had a new page).  The bottom one seems to be about the &apos;stored as&apos; clause?  which is not for CSV serde.  Feel fix the format/wording.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/SerDe#SerDe-Built-inSerDes&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;SerDe Overview &#8211; Built-in SerDes&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/DeveloperGuide#DeveloperGuide-HiveSerDe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Developer Guide &#8211; Hive SerDe&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+DDL#LanguageManualDDL-RowFormat,StorageFormat,andSerDe&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;DDL &#8211; Row Format, Storage Format, and SerDe&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14210351" author="thejas" created="Thu, 13 Nov 2014 19:40:23 +0000"  >&lt;p&gt;This has been fixed in 0.14 release. Please open new jira if you see any issues.&lt;/p&gt;</comment>
                            <comment id="14213897" author="lefty@hortonworks.com" created="Sun, 16 Nov 2014 09:14:26 +0000"  >&lt;p&gt;Good docs, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt;.  I added CSV Serde to the wiki Home page too.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Home#Home-UserDocumentation&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Hive Home &amp;#8211; User Documentation &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/CSV+Serde&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;CSV Serde &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15270767" author="winghc" created="Wed, 4 May 2016 14:54:21 +0000"  >&lt;p&gt;any plan to support SERDEPROPERTIES(&quot;serialization.encoding&quot;=&apos;GBK&apos;) function in this csv server as mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7142?&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-7142?&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15274357" author="thejas" created="Fri, 6 May 2016 17:06:30 +0000"  >&lt;p&gt;Created two jiras to address &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Goldshuv&quot; class=&quot;user-hover&quot; rel=&quot;Goldshuv&quot;&gt;Goldshuv&lt;/a&gt;&apos;s comments.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13709&quot; title=&quot;OpenCSVSerde should support tables non string columns in tables&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13709&quot;&gt;HIVE-13709&lt;/a&gt; - to improve type support in this serde&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13708&quot; title=&quot;Create table should verify datatypes supported by the serde&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-13708&quot;&gt;HIVE-13708&lt;/a&gt; - to disallow create tables when serde doesn&apos;t support the column type specified&lt;/p&gt;

&lt;p&gt;Any volunteers for uploading patches for this ?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12472730">HIVE-1603</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12965650">HIVE-13708</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12753513">HIVE-8763</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12965654">HIVE-13709</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12667616" name="HIVE-7777.1.patch" size="11584" author="Ferd" created="Wed, 10 Sep 2014 06:45:00 +0000"/>
                            <attachment id="12668248" name="HIVE-7777.2.patch" size="17789" author="Ferd" created="Fri, 12 Sep 2014 02:49:24 +0000"/>
                            <attachment id="12668948" name="HIVE-7777.3.patch" size="18601" author="Ferd" created="Tue, 16 Sep 2014 02:06:54 +0000"/>
                            <attachment id="12667327" name="HIVE-7777.patch" size="9870" author="Ferd" created="Tue, 9 Sep 2014 02:20:52 +0000"/>
                            <attachment id="12664837" name="csv-serde-master.zip" size="12397" author="ogrodnek" created="Thu, 28 Aug 2014 06:09:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>412900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1z11z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>412886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>A CSVSerde based on OpenCSV has been added. This Serde works for most CSV data, but does not handled embedded newlines. To use the Serde, specify the fully qualified class name org.apache.hadoop.hive.serde2.OpenCSVSerde.</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>