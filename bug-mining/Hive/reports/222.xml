<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:53:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-344] Fix the Hive CLI to run on cygwin under windows</title>
                <link>https://issues.apache.org/jira/browse/HIVE-344</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Yes, I am guilty as charged, I don&apos;t use mac like the rest of you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;The Hive CLI currently doesn&apos;t work with cygwin under windows, this is due to the dual path model that cygwin employs (there are file paths relative to the cygwin virtual root, and file paths relative to the windows root)&lt;/p&gt;

&lt;p&gt;Since Sun&apos;s JDK is installed under the windows environment, if the paths are not converted to windows format before being passed along then java will be at a loss to where the files are. The solution is to use the cygpath command to convert the paths to windows format before passing along to java world.&lt;/p&gt;

&lt;p&gt;I have a fix for this already, still doing some further testing (to make sure it works under both unix and windows environments), then I will submit patch to this bug (should submit before end of this week).&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;&amp;#8211; amr&lt;/p&gt;</description>
                <environment>&lt;p&gt;windows xp&lt;/p&gt;</environment>
        <key id="12416704">HIVE-344</key>
            <summary>Fix the Hive CLI to run on cygwin under windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aaa">Amr Awadallah</assignee>
                                    <reporter username="aaa">Amr Awadallah</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Mar 2009 00:45:17 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:29 +0000</updated>
                            <resolved>Fri, 7 Aug 2009 20:36:45 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12706803" author="aaa" created="Thu, 7 May 2009 11:11:20 +0000"  >&lt;p&gt;&lt;br/&gt;
I upgraded the fix to work with Hive 0.3. Would be great if a couple of folks can try this under cygwin and let me know if it works fine. It shouldn&apos;t affect non-windows installations, and for windows installations it will change the relevant paths/dirs using  cygpath (I added the fix to all services: cli.sh, hwi.sh, hiveserver.sh, and lineage.sh)&lt;/p&gt;</comment>
                            <comment id="12707043" author="athusoo" created="Thu, 7 May 2009 19:05:33 +0000"  >&lt;p&gt;Thanks for the patch Amr. Like you I am a PC user as well. Will try it out.&lt;/p&gt;

&lt;p&gt;Sometime back I do remember seeing some email on the hadoop mailing list that they are going to deprecate support on cygwin. Don&apos;t know if that is true or not...&lt;/p&gt;

&lt;p&gt;Also you should try coLinux (it is a very lightweight linux vm that runs on windows). I have been able to do all my hive development on the FC7 image with that.&lt;/p&gt;
</comment>
                            <comment id="12708929" author="johanoskarsson" created="Wed, 13 May 2009 13:58:17 +0000"  >&lt;p&gt;Moving to 0.3.1 as 0.3.0 is released&lt;/p&gt;</comment>
                            <comment id="12709930" author="athusoo" created="Fri, 15 May 2009 18:42:05 +0000"  >&lt;p&gt;I tried this but it does not seem to work with auxilary jars. I get the following error&lt;/p&gt;

&lt;p&gt;bash-3.2$ hive/bin/hive&lt;br/&gt;
java.net.URISyntaxException: Illegal character in scheme name at index 4: file;c:/Users/Ashish/dev/hive/hive/auxlib/fbhive_hooks.jar&lt;/p&gt;

&lt;p&gt;AUX_PARAM has URIs in it so cygpath will probably cause problems there. The cygpath code for AUX_PARAMS needs to go at all the places where aux params are getting created from file names as opposed to at the end. I think that should fix this issue.&lt;/p&gt;
</comment>
                            <comment id="12713395" author="aaa" created="Wed, 27 May 2009 03:54:14 +0000"  >&lt;p&gt;@Ashish, sorry for delay replying and thanks for testing. I thought I tracked down all of the path params, I will take a closer look at AUX_PARAMS next week and submit another patch.&lt;/p&gt;

&lt;p&gt; &amp;#8211; amr&lt;/p&gt;</comment>
                            <comment id="12733174" author="johanoskarsson" created="Mon, 20 Jul 2009 09:56:00 +0000"  >&lt;p&gt;Since there&apos;s been no activity on this ticket for a while I suggest we move it to 0.3.2 so that 0.3.1 can be released.&lt;/p&gt;</comment>
                            <comment id="12734533" author="aaa" created="Thu, 23 Jul 2009 09:44:52 +0000"  >&lt;p&gt;@Ashish&lt;/p&gt;

&lt;p&gt;Can&apos;t believe it has been two months already, but please find a new patch attached (&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-344&quot; title=&quot;Fix the Hive CLI to run on cygwin under windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-344&quot;&gt;&lt;del&gt;HIVE-344&lt;/del&gt;&lt;/a&gt;-v2.patch). &lt;/p&gt;

&lt;p&gt;I think I tracked down all places where AUX_PARAM and AUX_CLASSPATH get set. &lt;/p&gt;

&lt;p&gt;Please give a try and let me know.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;/p&gt;

&lt;p&gt;&amp;#8211; amr&lt;/p&gt;</comment>
                            <comment id="12735725" author="athusoo" created="Mon, 27 Jul 2009 19:19:57 +0000"  >&lt;p&gt;Thanks Amr. Will try it out today.&lt;/p&gt;</comment>
                            <comment id="12738777" author="aaa" created="Tue, 4 Aug 2009 02:57:46 +0000"  >&lt;p&gt;ashish, worked?&lt;/p&gt;</comment>
                            <comment id="12740106" author="athusoo" created="Thu, 6 Aug 2009 15:25:46 +0000"  >&lt;p&gt;The first tests seem to be ok. Will do a bit more today and checkin if it works. I have one question though about the patch. The cygpath thingy is done in the cli.sh and lineage.sh files after HIVE_LIB is used. Should it not be before HIVE_LIB is used?&lt;/p&gt;</comment>
                            <comment id="12740479" author="aaa" created="Fri, 7 Aug 2009 09:32:56 +0000"  >&lt;p&gt;unfortunately HIVE_LIB is checked for validity inside these files using normal bash commands, so the cygpath translation for HIVE_LIB has to be done this late as opposed to in the main hive script (otherwise the verification in sub-scripts would fail).&lt;/p&gt;</comment>
                            <comment id="12740687" author="athusoo" created="Fri, 7 Aug 2009 19:41:06 +0000"  >&lt;p&gt;I am having problems with show tables.&lt;/p&gt;

&lt;p&gt;hive&amp;gt; show tables;&lt;br/&gt;
FAILED: Error in metadata: javax.jdo.JDODataStoreException: Exception thrown performing schema operation : Add classes to Catalog &quot;&quot;, Schema &quot;APP&quot;&lt;br/&gt;
NestedThrowables:&lt;br/&gt;
java.sql.SQLNonTransientConnectionException: No current connection.&lt;br/&gt;
FAILED: Execution Error, return code 1 from org.apache.hadoop.hive.ql.exec.DDLTask&lt;/p&gt;

&lt;p&gt;Prasad can you comment on this?&lt;/p&gt;</comment>
                            <comment id="12740704" author="athusoo" created="Fri, 7 Aug 2009 20:17:49 +0000"  >&lt;p&gt;Got it working. Looks all good to me.&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;

&lt;p&gt;Will  checkin once the unit tests pass.&lt;/p&gt;</comment>
                            <comment id="12740716" author="athusoo" created="Fri, 7 Aug 2009 20:36:45 +0000"  >&lt;p&gt;committed. Thanks Amr!!&lt;/p&gt;</comment>
                            <comment id="12740730" author="prasadc" created="Fri, 7 Aug 2009 20:57:10 +0000"  >&lt;p&gt;what was the problem?&lt;/p&gt;</comment>
                            <comment id="12858863" author="rymm" created="Tue, 20 Apr 2010 13:03:50 +0000"  >&lt;p&gt;Hi&lt;br/&gt;
I&apos;ve installed hadoop-0.19.2 and hive under cygwin&lt;br/&gt;
am trying to follow the tutorial &lt;a href=&quot;http://wiki.apache.org/hadoop/Hive/GettingStarted#Downloading_and_building&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://wiki.apache.org/hadoop/Hive/GettingStarted#Downloading_and_building&lt;/a&gt;&lt;br/&gt;
everything is working fine in the tutorial until I tried to execute an sql stmt &lt;br/&gt;
after performing following settings&lt;br/&gt;
hive&amp;gt;SET mapred.job.tracker=myhost.mycompany.com:50030;&lt;br/&gt;
hive&amp;gt;SET -v ;&lt;br/&gt;
then I get &quot;Number of reduce tasks is set to 0 since there&apos;s no reduce operator&quot;&lt;br/&gt;
first does the patch apply to this error&lt;br/&gt;
am a new to linux, how to apply the patch&lt;br/&gt;
isn&apos;t worth to work with co-linux?&lt;br/&gt;
thankx&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12414326" name="HIVE-344-v2.patch" size="3219" author="aaa" created="Thu, 23 Jul 2009 09:44:52 +0000"/>
                            <attachment id="12407452" name="HIVE-344.patch" size="2360" author="aaa" created="Thu, 7 May 2009 11:12:14 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73597</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 32 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0l9an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122156</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12310192" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Release Note</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>* Fixes for running hive under cygwin</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        </customfields>
    </item>
</channel>
</rss>