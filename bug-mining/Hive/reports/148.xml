<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 17:52:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-488] loading into a partition with more than one partition column fails if the partition is not created before.</title>
                <link>https://issues.apache.org/jira/browse/HIVE-488</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Following test fails on HDFS cluster but not on local file system.&lt;/p&gt;

&lt;p&gt;drop table hive_test_src;&lt;br/&gt;
drop table hive_test_dst;&lt;br/&gt;
create table hive_test_src ( col1 string ) stored as textfile ;&lt;br/&gt;
load data local inpath &apos;../data/files/test.dat&apos; overwrite into table hive_test_src ;&lt;br/&gt;
create table hive_test_dst ( col1 string ) partitioned by ( pcol1 string , pcol2 string) stored as sequencefile;&lt;br/&gt;
insert overwrite table hive_test_dst partition ( pcol1=&apos;test_part&apos;, pcol2=&apos;test_part&apos;) select col1 from hive_test_src ;&lt;br/&gt;
select * from hive_test_dst where pcol1=&apos;test_part&apos; and pcol2=&apos;test_part&apos;; &amp;#8211; returns zero rows.&lt;br/&gt;
drop table hive_test_src;&lt;br/&gt;
drop table hive_test_dst;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12425379">HIVE-488</key>
            <summary>loading into a partition with more than one partition column fails if the partition is not created before.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasadc">Prasad Chakka</assignee>
                                    <reporter username="prasadc">Prasad Chakka</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 May 2009 20:55:15 +0000</created>
                <updated>Sat, 17 Dec 2011 00:07:33 +0000</updated>
                            <resolved>Tue, 26 May 2009 17:04:59 +0000</resolved>
                                    <version>0.4.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12709224" author="prasadc" created="Thu, 14 May 2009 00:10:28 +0000"  >&lt;p&gt;a simple work around is to create the partition before doing insert overwrite using query like below&lt;/p&gt;

&lt;p&gt;alter table hive_test_dst add partition( pcol1=&apos;test_part&apos;, pcol2=&apos;test_part&apos;);&lt;/p&gt;</comment>
                            <comment id="12709242" author="prasadc" created="Thu, 14 May 2009 01:53:07 +0000"  >&lt;p&gt;if the partition is to be copied to  a/b/c and if a/b doesn&apos;t exist, rename(tmpdir, a/b/c) fails. this failure case was never caught but with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-442&quot; title=&quot;Partition is created before data is moved thus creating a window where data is incomplete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-442&quot;&gt;&lt;del&gt;HIVE-442&lt;/del&gt;&lt;/a&gt; this bug is exposed since &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-442&quot; title=&quot;Partition is created before data is moved thus creating a window where data is incomplete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-442&quot;&gt;&lt;del&gt;HIVE-442&lt;/del&gt;&lt;/a&gt; explicitly does not create the partition before data is moved. this patch tries to create parent directory (a/b) so it preserves the semantics of not creating a partition until data is moved.&lt;/p&gt;

&lt;p&gt;also removed &apos;add partition&apos; since load automatically creates the partition if one doesn&apos;t exist.&lt;/p&gt;</comment>
                            <comment id="12709243" author="prasadc" created="Thu, 14 May 2009 01:54:29 +0000"  >&lt;p&gt;added the data file used in the test.&lt;/p&gt;</comment>
                            <comment id="12710563" author="athusoo" created="Tue, 19 May 2009 00:49:50 +0000"  >&lt;p&gt;I think the checkin was not meant for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-488&quot; title=&quot;loading into a partition with more than one partition column fails if the partition is not created before.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-488&quot;&gt;&lt;del&gt;HIVE-488&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Also, how will the code work for the case where the partition hierarchy is n deep where n &amp;gt;= 3 ?&lt;/p&gt;</comment>
                            <comment id="12710573" author="athusoo" created="Tue, 19 May 2009 01:04:15 +0000"  >&lt;p&gt;Looks like this is a JIRA bug.&lt;/p&gt;

&lt;p&gt;+1 for the fix.&lt;/p&gt;</comment>
                            <comment id="12712887" author="jsensarma" created="Tue, 26 May 2009 07:29:17 +0000"  >&lt;p&gt;this looks like it&apos;s been committed for a while .. - mark as fixed?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12408090" name="hive-488.2.patch" size="5344" author="prasadc" created="Thu, 14 May 2009 01:54:29 +0000"/>
                            <attachment id="12408089" name="hive-488.patch" size="5113" author="prasadc" created="Thu, 14 May 2009 01:53:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>73500</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310191" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Hadoop Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10343"><![CDATA[Reviewed]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 27 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0la1z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>122279</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>