<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:16:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-6012] restore backward compatibility of arithmetic operations</title>
                <link>https://issues.apache.org/jira/browse/HIVE-6012</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5356&quot; title=&quot;Move arithmatic UDFs to generic UDF implementations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5356&quot;&gt;&lt;del&gt;HIVE-5356&lt;/del&gt;&lt;/a&gt; changed the behavior of some of the arithmetic operations, and the change is not backward compatible, as pointed out in this &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5356?focusedCommentId=13813398&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-13813398&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;jira comment&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; / &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; =&amp;gt; decimal
&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; / &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; =&amp;gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; * &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; =&amp;gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; + &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; =&amp;gt; &lt;span class=&quot;code-object&quot;&gt;double&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

</description>
                <environment></environment>
        <key id="12684130">HIVE-6012</key>
            <summary>restore backward compatibility of arithmetic operations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jdere">Jason Dere</assignee>
                                    <reporter username="thejas">Thejas Nair</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Dec 2013 00:03:36 +0000</created>
                <updated>Mon, 29 Dec 2014 09:53:49 +0000</updated>
                            <resolved>Sat, 15 Mar 2014 00:07:15 +0000</resolved>
                                    <version>0.13.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                    <component>Query Processor</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="13845916" author="sershe" created="Thu, 12 Dec 2013 00:34:01 +0000"  >&lt;p&gt;I started a dev alias thread about having ANSI flag to choose between old Hive mode and ANSI SQL mode&lt;/p&gt;</comment>
                            <comment id="13880225" author="jdere" created="Thu, 23 Jan 2014 19:02:23 +0000"  >&lt;p&gt;Taking a look at this. Listed below are the numeric operations that changed when they were converted to use GenericUDFs. For these operations the return type will be reverted back to the Hive-0.12 behavior:&lt;/p&gt;

&lt;p&gt;  int / int     -&amp;gt; decimal, used to be double in Hive-0.12&lt;br/&gt;
  float + int   -&amp;gt; double, used to be float in Hive-0.12&lt;br/&gt;
  float + float -&amp;gt; double, used to be float in Hive-0.12&lt;br/&gt;
  float * int   -&amp;gt; double, used to be float in Hive-0.12&lt;br/&gt;
  float * float -&amp;gt; double, used to be float in Hive-0.12&lt;/p&gt;

&lt;p&gt;  decimal + float  -&amp;gt; double, used to be decimal in Hive-0.12&lt;br/&gt;
  decimal + double -&amp;gt; double, used to be decimal in Hive-0.12&lt;br/&gt;
  decimal * float  -&amp;gt; double, used to be decimal in Hive-0.12&lt;br/&gt;
  decimal * double -&amp;gt; double, used to be decimal in Hive-0.12&lt;br/&gt;
  decimal / float  -&amp;gt; double, used to be decimal in Hive-0.12&lt;br/&gt;
  decimal / double -&amp;gt; double, used to be decimal in Hive-0.12&lt;/p&gt;

&lt;p&gt;Reverting the last 6 operations, involving decimal and float/double inputs, to return decimal type is a bit problematic, due to the fact that we would need to determine a precision/scale for the result type. The float/double inputs would need to be converted to a decimal value and it is not guaranteed that the value can be represented by a decimal, if the float/decimal value is too large.  Have a couple of options for what to do, if there is any feedback let me know.&lt;br/&gt;
  1) Revert the type to return decimal, and come up with some arbitrary precision/scale for the result type, such as the system precison/scale of 38/18. This means a bit more special case code, and a chance that we may not be able to represent the float/double portion if the value is larger than the precision.&lt;br/&gt;
  2) Given the large changes in the decimal type in this current release, make the call that it is ok to leave the changes in result type for the numeric operations involving decimal inputs, and consider these as part of the changes related to decimal types. This is the more SQL compliant behavior. Currently leaning toward this approach.&lt;/p&gt;</comment>
                            <comment id="13880229" author="jdere" created="Thu, 23 Jan 2014 19:04:46 +0000"  >&lt;p&gt;Also will add config setting hive.sql.ansi to be able to switch this return type behavior from the backward compatible mode to the more SQL compliant return types that were done in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5356&quot; title=&quot;Move arithmatic UDFs to generic UDF implementations&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5356&quot;&gt;&lt;del&gt;HIVE-5356&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13880241" author="sershe" created="Thu, 23 Jan 2014 19:11:10 +0000"  >&lt;p&gt;+1 for sql.ansi flag &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13880681" author="jdere" created="Fri, 24 Jan 2014 02:51:43 +0000"  >&lt;p&gt;Patch v1&lt;/p&gt;</comment>
                            <comment id="13880683" author="jdere" created="Fri, 24 Jan 2014 02:55:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://reviews.apache.org/r/17302/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://reviews.apache.org/r/17302/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13881904" author="hiveqa" created="Sat, 25 Jan 2014 14:15:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12624984/HIVE-6012.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12624984/HIVE-6012.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 93 failed/errored test(s), 4952 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestCliDriver.initializationError
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_allcolref_in_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_auto_join25
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_autogen_colalias
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_bucketsortoptimize_insert_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_cast1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_column_access_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ctas_hadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_precision
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_decimal_udf
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_grouping_sets1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_multi_insert_common_distinct
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_multi_single_reducer3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_groupby_sort_skew_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_input8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join38
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_reorder
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_reorder2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_join_reorder3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_leadlag_queries
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_limit_pushdown
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_load_dyn_part12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapjoin_hook
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce6
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce7
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_mapreduce8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_merge_dynamic_partition5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_multi_insert_lateral_view
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_num_op_type_conv
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_orc_empty_strings
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat10
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat11
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat8
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_wise_fileformat9
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_pcr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_constant_expr
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ppd_join_filter
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_ql_rewrite_gbtoidx
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_reduce_deduplicate_extended
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_sample_islocalmode_hook_hadoop20
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_skewjoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_subquery_notin_having
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_table_access_keys_stats
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_timestamp_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_pmod
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_union_top_level
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_uniquejoin
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_0
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_12
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_13
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_14
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_15
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_16
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_2
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_3
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_4
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_5
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_not
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vectorization_short_regress
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_view_cast
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_expressions
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_windowing_windowspec
org.apache.hadoop.hive.cli.TestHBaseCliDriver.testCliDriver_hbase_queries
org.apache.hadoop.hive.cli.TestHBaseMinimrCliDriver.testCliDriver_hbase_bulk
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketmapjoin6
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_import_exported_table
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_dyn_part
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_num_buckets
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_infer_bucket_sort_reducers_power_two
org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_load_hdfs_file_with_space_in_the_name
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_udf_assert_true2
org.apache.hadoop.hive.cli.TestNegativeMinimrCliDriver.testNegativeCliDriver_file_with_header_footer_negative
org.apache.hadoop.hive.ql.TestMTQueries.testMTQueries1
org.apache.hadoop.hive.ql.parse.TestParse.testParse_input8
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1015/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1015/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1015/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1015/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 93 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12624984&lt;/p&gt;</comment>
                            <comment id="13884379" author="jdere" created="Tue, 28 Jan 2014 18:20:20 +0000"  >&lt;p&gt;patch v2:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Since SessionState not available during map/reduce tasks, config setting should be read and saved during query compilation by Hive client, plan serialization will make the values available in map/reduce tasks.&lt;/li&gt;
	&lt;li&gt;update diffs&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13884809" author="hiveqa" created="Tue, 28 Jan 2014 22:46:54 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12625616/HIVE-6012.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12625616/HIVE-6012.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4980 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.ql.exec.TestExpressionEvaluator.testExprNodeSpeed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1072/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1072/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1072/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1072/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12625616&lt;/p&gt;</comment>
                            <comment id="13885159" author="lefty@hortonworks.com" created="Wed, 29 Jan 2014 09:14:17 +0000"  >&lt;p&gt;Please document &lt;b&gt;hive.sql.ansi&lt;/b&gt; in hive-default.xml.template, then I&apos;ll put it in the Configuration Properties wikidoc.&lt;/p&gt;

&lt;p&gt;When this is committed, details should also be documented in the wiki.  The int &amp;amp; float operations go in the Arithmetic Operators table in Operators and UDFs.  Decimal operations could go in the Decimal Types section of the Types doc, unless you want to keep all this information together and just have a link from the Types doc to the Arithmetic Operators table.&lt;/p&gt;

&lt;p&gt;Quick reference:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-ArithmeticOperators&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Operators and UDFs:  Arithmetic Operators &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/pages/viewpage.action?pageId=27838462#LanguageManualTypes-MathematicalUDFs&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Decimal Types:  Mathematical UDFs &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13885171" author="jdere" created="Wed, 29 Jan 2014 09:39:25 +0000"  >&lt;p&gt;fix remaining test failure, update hive-default.xml.template&lt;/p&gt;</comment>
                            <comment id="13885225" author="lefty@hortonworks.com" created="Wed, 29 Jan 2014 10:55:29 +0000"  >&lt;p&gt;Greetings night owl, maybe you need to rest &amp;#8211; you&apos;ve attached the wrong file.  Patch 3 contains a bunch of git commit records.  (Hoo hoo hoo ... wha?)&lt;/p&gt;</comment>
                            <comment id="13885592" author="jdere" created="Wed, 29 Jan 2014 18:00:37 +0000"  >&lt;p&gt;Oops! Didn&apos;t create diff properly, uploading patch v3 again.&lt;/p&gt;</comment>
                            <comment id="13885732" author="hiveqa" created="Wed, 29 Jan 2014 20:03:03 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12625909/HIVE-6012.3.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12625909/HIVE-6012.3.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 4980 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucket_num_reducers
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1100/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1100/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1100/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1100/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12625909&lt;/p&gt;</comment>
                            <comment id="13885789" author="thejas" created="Wed, 29 Jan 2014 20:40:00 +0000"  >&lt;p&gt;There are some practical problems with introducing a hive.sql.ansi flag. Lets say a hive user turns it to true in hive 0.13 and write several queries using hive 0.13. Then in hive 0.14 we find some other desirable standards compatible behavior (but backward incompatible with earlier versions of hive) and we control that using same flag. When the user upgrades to hive 0.14, the user queries can break with either values for the flag.&lt;/p&gt;

&lt;p&gt;I think it is better to have a more specific flag, say hive.sql.ansi.arithmetic&lt;/p&gt;

&lt;p&gt;Since the behavior of float arithmetic in hive 0.12 was SQL compliant, I think we can go back to old behavior without this config option. There more configurable the behavior is, there more untested configurations there will be.&lt;/p&gt;</comment>
                            <comment id="13885895" author="jdere" created="Wed, 29 Jan 2014 22:14:49 +0000"  >&lt;p&gt;A more specific config flag makes sense.  I&apos;ll see about trying to rework the patch.&lt;/p&gt;</comment>
                            <comment id="13889108" author="jdere" created="Sun, 2 Feb 2014 23:40:24 +0000"  >&lt;p&gt;Had some offline discussion about the config setting to use here.  Suggestion was to use a single config setting (say, hive.compat) to control backward compatibility behavior. Rather than make the config setting a simple true/false switch, the config setting would be a string to indicate what version of Hive behavior to support (0.12, 0.13, etc). So for Thejas&apos; example in his comment, setting hive.compat=0.12 would set int / int =&amp;gt; double.  If there were additional (configurable) behavior changes added in 0.14, they could be disabled by setting hive.compat=0.13, or even back to 0.12 if the user still wants the old int / int behavior.&lt;br/&gt;
I&apos;ll try to take a crack at this. &lt;/p&gt;</comment>
                            <comment id="13890343" author="jdere" created="Tue, 4 Feb 2014 03:41:55 +0000"  >&lt;p&gt;patch v4: rebased, use hive.compat setting for int division behavior&lt;/p&gt;</comment>
                            <comment id="13890650" author="hiveqa" created="Tue, 4 Feb 2014 13:21:52 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12626821/HIVE-6012.4.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12626821/HIVE-6012.4.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 5006 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1176/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1176/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1176/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1176/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12626821&lt;/p&gt;</comment>
                            <comment id="13921689" author="sershe" created="Thu, 6 Mar 2014 00:13:28 +0000"  >&lt;p&gt;lgtm; some small comment on RB&lt;/p&gt;</comment>
                            <comment id="13921707" author="jdere" created="Thu, 6 Mar 2014 00:25:32 +0000"  >&lt;p&gt;Thanks for looking; I need to rebase this patch with trunk, in process right now.&lt;/p&gt;</comment>
                            <comment id="13921848" author="jdere" created="Thu, 6 Mar 2014 01:30:47 +0000"  >&lt;p&gt;rebase with trunk&lt;/p&gt;</comment>
                            <comment id="13922081" author="hagleitn" created="Thu, 6 Mar 2014 07:04:25 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13926086" author="jdere" created="Mon, 10 Mar 2014 19:30:32 +0000"  >&lt;p&gt;still no precommit test results .. uploading patch again&lt;/p&gt;</comment>
                            <comment id="13931689" author="hiveqa" created="Wed, 12 Mar 2014 12:19:31 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12633756/HIVE-6012.6.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12633756/HIVE-6012.6.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 5391 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestMinimrCliDriver.testCliDriver_bucketizedhiveinputformat
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1708/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1708/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1708/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bigtop01.cloudera.org:8080/job/PreCommit-HIVE-Build/1708/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12633756&lt;/p&gt;</comment>
                            <comment id="13932080" author="lefty@hortonworks.com" created="Wed, 12 Mar 2014 17:58:23 +0000"  >&lt;p&gt;Doc questions:  Does &lt;b&gt;hive.compat&lt;/b&gt; accept any Hive release number, or only some?  The default is 0.12 but can it be set to 0.12.0?  Would it balk at 0.12.5 or just ignore .5?  What about 0.11 and earlier releases &amp;#8211; would they give the same behavior as 0.12?&lt;/p&gt;</comment>
                            <comment id="13932099" author="jdere" created="Wed, 12 Mar 2014 18:09:46 +0000"  >&lt;p&gt;Based on exact string match with the supported release numbers (0.12, 0.13, or &quot;latest&quot; to use latest supported level). If it does not recognize number it will squawk error and use default support level. &lt;/p&gt;</comment>
                            <comment id="13932100" author="jdere" created="Wed, 12 Mar 2014 18:11:10 +0000"  >&lt;p&gt;Test case Minimr bucketizedhiveinputformat.q passes for me when run locally, on both Mac/Linux. Flaky test?&lt;/p&gt;</comment>
                            <comment id="13935851" author="jdere" created="Sat, 15 Mar 2014 00:07:15 +0000"  >&lt;p&gt;Committed to 0.13 and trunk.&lt;/p&gt;</comment>
                            <comment id="14194344" author="lefty@hortonworks.com" created="Mon, 3 Nov 2014 08:04:50 +0000"  >&lt;p&gt;Review request:  &lt;b&gt;hive.compat&lt;/b&gt; is documented in the wiki and needs to be reviewed carefully.  For example, does the parameter affect other operations besides division of ints?&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.compat&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &amp;#8211; hive.compat &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Still to come (pending answer to question above):  documenting &lt;b&gt;hive.compat&lt;/b&gt; in the table of arithmetic operators:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-ArithmeticOperators&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Hive Operators and UDFs &amp;#8211; Arithmetic Operators &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14203223" author="lefty@hortonworks.com" created="Sat, 8 Nov 2014 05:06:50 +0000"  >&lt;p&gt;Pinging &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;jdere&lt;/a&gt; for doc review and more information.&lt;/p&gt;</comment>
                            <comment id="14203740" author="jdere" created="Sun, 9 Nov 2014 02:36:47 +0000"  >&lt;p&gt;Yes &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=leftylev&quot; class=&quot;user-hover&quot; rel=&quot;leftylev&quot;&gt;leftylev&lt;/a&gt; that looks correct.&lt;/p&gt;</comment>
                            <comment id="14204115" author="lefty@hortonworks.com" created="Sun, 9 Nov 2014 21:10:44 +0000"  >&lt;p&gt;Just to be crystal clear:  so &lt;b&gt;hive.compat&lt;/b&gt; only affects division of ints?&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jdere&quot; class=&quot;user-hover&quot; rel=&quot;jdere&quot;&gt;jdere&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14204450" author="jdere" created="Mon, 10 Nov 2014 07:20:14 +0000"  >&lt;p&gt;Yes that&apos;s currently the only setting affected by hive.compat.&lt;/p&gt;</comment>
                            <comment id="14259983" author="lefty@hortonworks.com" created="Mon, 29 Dec 2014 09:53:49 +0000"  >&lt;p&gt;Doc done: &lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/Configuration+Properties#ConfigurationProperties-hive.compat&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Configuration Properties &amp;#8211; hive.compat &lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/Hive/LanguageManual+UDF#LanguageManualUDF-ArithmeticOperators&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Hive Operators and UDFs &amp;#8211; Arithmetic Operators &amp;#8211; A / B &lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12670413">HIVE-5356</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12624984" name="HIVE-6012.1.patch" size="25590" author="jdere" created="Fri, 24 Jan 2014 02:51:43 +0000"/>
                            <attachment id="12625616" name="HIVE-6012.2.patch" size="1106338" author="jdere" created="Tue, 28 Jan 2014 18:20:20 +0000"/>
                            <attachment id="12625909" name="HIVE-6012.3.patch" size="1108296" author="jdere" created="Wed, 29 Jan 2014 18:00:37 +0000"/>
                            <attachment id="12626821" name="HIVE-6012.4.patch" size="1123722" author="jdere" created="Tue, 4 Feb 2014 03:41:55 +0000"/>
                            <attachment id="12632997" name="HIVE-6012.5.patch" size="801640" author="jdere" created="Thu, 6 Mar 2014 01:30:47 +0000"/>
                            <attachment id="12633756" name="HIVE-6012.6.patch" size="801640" author="jdere" created="Mon, 10 Mar 2014 19:30:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363202</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qlv3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363508</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>