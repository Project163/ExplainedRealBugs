<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:42:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-13070] Precommit HMS tests should run in addition to precommit normal tests, not instead of</title>
                <link>https://issues.apache.org/jira/browse/HIVE-13070</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;When a certain patch makes changes in the metastore upgrade scripts folder, precommit HMS tests are triggered. The problem is that precommit HMS marks the patch as tested, thus normal precommit tests are never triggered.&lt;/p&gt;

&lt;p&gt;I hit the issue while testing &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12994&quot; title=&quot;Implement support for NULLS FIRST/NULLS LAST&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12994&quot;&gt;&lt;del&gt;HIVE-12994&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12939767">HIVE-13070</key>
            <summary>Precommit HMS tests should run in addition to precommit normal tests, not instead of</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jcamacho">Jes&#250;s Camacho Rodr&#237;guez</assignee>
                                    <reporter username="jcamacho">Jes&#250;s Camacho Rodr&#237;guez</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Feb 2016 10:14:26 +0000</created>
                <updated>Tue, 27 Feb 2024 22:23:56 +0000</updated>
                            <resolved>Tue, 23 Feb 2016 17:50:08 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>Testing Infrastructure</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15151837" author="hiveqa" created="Thu, 18 Feb 2016 07:11:48 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12788230/HIVE-13070.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12788230/HIVE-13070.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 8 failed/errored test(s), 9775 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestMiniTezCliDriver-vector_decimal_round.q-cbo_windowing.q-tez_schema_evolution.q-and-12-more - did not produce a TEST-*.xml file
TestSparkCliDriver-timestamp_lazy.q-bucketsortoptimize_insert_4.q-date_udf.q-and-12-more - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_partition_coltype_literals
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_stats_only_null
org.apache.hadoop.hive.cli.TestNegativeCliDriver.testNegativeCliDriver_authorization_uri_import
org.apache.hadoop.hive.cli.TestSparkCliDriver.testCliDriver_stats_only_null
org.apache.hadoop.hive.metastore.TestHiveMetaStorePartitionSpecs.testGetPartitionSpecs_WithAndWithoutPartitionGrouping
org.apache.hive.jdbc.TestSSL.testSSLVersion
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7015/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7015/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7015/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/7015/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7015/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-7015/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 8 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12788230 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="15151975" author="jcamacho" created="Thu, 18 Feb 2016 08:58:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt;, could you review this one (it is blocking QA run of &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-12994&quot; title=&quot;Implement support for NULLS FIRST/NULLS LAST&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-12994&quot;&gt;&lt;del&gt;HIVE-12994&lt;/del&gt;&lt;/a&gt;)? What do we need to do to deploy the new script? Thanks&lt;/p&gt;</comment>
                            <comment id="15152898" author="ashutoshc" created="Thu, 18 Feb 2016 19:14:36 +0000"  >&lt;p&gt;Changes look good to me. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=szehon&quot; class=&quot;user-hover&quot; rel=&quot;szehon&quot;&gt;szehon&lt;/a&gt; Would you also like to take a look? Do we need to restart test master for having these changes take effect?&lt;/p&gt;</comment>
                            <comment id="15157936" author="szehon" created="Mon, 22 Feb 2016 23:24:18 +0000"  >&lt;p&gt;I think Sergio worked on this.  +&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;spena&lt;/a&gt; can you look at the patch and answer the question?&lt;/p&gt;</comment>
                            <comment id="15159116" author="spena" created="Tue, 23 Feb 2016 16:16:47 +0000"  >&lt;p&gt;Thanks. The patch looks good. &lt;/p&gt;

&lt;p&gt;I was thinking if we can move the &lt;tt&gt;export BUILD_POSTFIX=...&lt;/tt&gt; inside the process_jira function, and also add a &lt;tt&gt;test -n &quot;$BUILD_TAG&quot; ...&lt;/tt&gt; at the beginning of the process_jira function. That way we only edit one file, and process_jira will not depend on BUILD_POSTFIX to be set from whoever makes the process_jira call.&lt;/p&gt;</comment>
                            <comment id="15159261" author="jcamacho" created="Tue, 23 Feb 2016 17:38:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;spena&lt;/a&gt;, thanks for checking.&lt;/p&gt;

&lt;p&gt;The problem with the change you proposed is that process&amp;#95;jira is called in &lt;em&gt;jenkins-submit-build.sh&lt;/em&gt; script too, before the call to the tests execution is done: at that point, &lt;tt&gt;BUILD_TAG&lt;/tt&gt; is not set, and hence &lt;tt&gt;BUILD_POSTFIX&lt;/tt&gt; cannot be either. Thus, we cannot add &lt;tt&gt;test -n&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Nevertheless, I have uploaded a new patch to derive &lt;tt&gt;build_postfix&lt;/tt&gt; within process&amp;#95;jira iff &lt;tt&gt;BUILD_TAG&lt;/tt&gt; is set.&lt;/p&gt;</comment>
                            <comment id="15159276" author="spena" created="Tue, 23 Feb 2016 17:42:50 +0000"  >&lt;p&gt;Got it. The change looks good to me.&lt;br/&gt;
+1&lt;/p&gt;

&lt;p&gt;It is not necessary to restart Jenkins once this is committed. Jenkins always downloads a new copy of the jenkins-*.sh scripts everytime a new job is triggered.&lt;/p&gt;</comment>
                            <comment id="15159290" author="jcamacho" created="Tue, 23 Feb 2016 17:50:08 +0000"  >&lt;p&gt;No need to waste QA on this one; pushed to master.&lt;/p&gt;

&lt;p&gt;Thanks for the help &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=spena&quot; class=&quot;user-hover&quot; rel=&quot;spena&quot;&gt;spena&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12789253" name="HIVE-13070.01.patch" size="840" author="jcamachorodriguez" created="Tue, 23 Feb 2016 17:38:13 +0000"/>
                            <attachment id="12788230" name="HIVE-13070.patch" size="1616" author="jcamachorodriguez" created="Wed, 17 Feb 2016 11:22:31 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2sxqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>