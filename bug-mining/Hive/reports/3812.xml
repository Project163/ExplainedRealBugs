<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:36:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-11751] hive-exec-log4j2.xml settings causes DEBUG messages to be generated and ignored</title>
                <link>https://issues.apache.org/jira/browse/HIVE-11751</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Setting &quot;&amp;lt;Property name=&quot;hive.log.threshold&quot;&amp;gt;INFO&amp;lt;/Property&amp;gt;&quot; in dist/hive/conf/hive-exec-log4j2.xml fixes the problem. Should it be made as default in hive-exec-log4j2.xml? &quot;--hiveconf hive.log.level=INFO&quot; from commandline does not have any impact.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12862284">HIVE-11751</key>
            <summary>hive-exec-log4j2.xml settings causes DEBUG messages to be generated and ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="prasanth_j">Prasanth Jayachandran</assignee>
                                    <reporter username="rajesh.balamohan">Rajesh Balamohan</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Sep 2015 22:59:29 +0000</created>
                <updated>Tue, 16 Feb 2016 23:50:20 +0000</updated>
                            <resolved>Fri, 11 Sep 2015 17:03:55 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14735219" author="hagleitn" created="Tue, 8 Sep 2015 17:28:54 +0000"  >&lt;p&gt;fyi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=prasanth_j&quot; class=&quot;user-hover&quot; rel=&quot;prasanth_j&quot;&gt;prasanth_j&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14735885" author="prasanth_j" created="Wed, 9 Sep 2015 00:18:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh.balamohan&quot; class=&quot;user-hover&quot; rel=&quot;rajesh.balamohan&quot;&gt;rajesh.balamohan&lt;/a&gt; hive-log4j2.xml controls the client side logging (hive client, hadoop ipc client ) and hive-exec-log4j2.xml controls the server side logging. Can you try setting hive.log.level=INFO on both xml files and see if it solves the issue? With both being set, I am not seeing any DEBUG logs.&lt;/p&gt;</comment>
                            <comment id="14735891" author="prasanth_j" created="Wed, 9 Sep 2015 00:30:30 +0000"  >&lt;p&gt;&quot;--hiveconf hive.log.level=INFO&quot; -&amp;gt; This just sets the logging level for client. &lt;/p&gt;

&lt;p&gt;What is the value for this config hive.tez.log.level?&lt;/p&gt;</comment>
                            <comment id="14735956" author="rajesh.balamohan" created="Wed, 9 Sep 2015 01:31:47 +0000"  >&lt;p&gt;Attaching the log4j2 configs in my setup (both are of them are defaults and no changes done).&lt;/p&gt;

&lt;p&gt;&quot;hive.tez.log.level&quot; has not been changed, so it defaults to INFO. &lt;/p&gt;</comment>
                            <comment id="14736088" author="prasanth_j" created="Wed, 9 Sep 2015 03:29:10 +0000"  >&lt;p&gt;What is the value for tez.am.log.level? &lt;/p&gt;</comment>
                            <comment id="14736340" author="prasanth_j" created="Wed, 9 Sep 2015 07:09:29 +0000"  >&lt;p&gt;Following is the issue&lt;br/&gt;
There is no equivalent of log4j.threshold in log4j2. &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-11304&quot; title=&quot;Migrate to Log4j2 from Log4j 1.x&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-11304&quot;&gt;&lt;del&gt;HIVE-11304&lt;/del&gt;&lt;/a&gt; added the value hive.log.threshold to root logger&apos;s level. The appender inside the root logger has its own level set to the value of hive.log.level. So if hive.log.threshold is set to ALL then root logger will allow all logging levels but the appender referenced inside root logger will use hive.log.level (say INFO). As a result,  all loggers evaluate DEBUG/TRACE/INFO expression but later will be filtered by the appender. The call trace should trace log in ProtobufRpcEngine being evaluated but then filtered later by the appender. The fix for this issue is to set hive.log.level to root logger instead of the appender referenced inside. &lt;/p&gt;</comment>
                            <comment id="14736343" author="prasanth_j" created="Wed, 9 Sep 2015 07:12:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rajesh.balamohan&quot; class=&quot;user-hover&quot; rel=&quot;rajesh.balamohan&quot;&gt;rajesh.balamohan&lt;/a&gt; Thanks a lot for finding the issue. The attached patch should fix the problem.&lt;/p&gt;</comment>
                            <comment id="14738688" author="rajesh.balamohan" created="Thu, 10 Sep 2015 12:45:42 +0000"  >&lt;p&gt;Verified the patch. It no longer evaluates the DEBUG statements.&lt;/p&gt;</comment>
                            <comment id="14738779" author="hiveqa" created="Thu, 10 Sep 2015 13:58:18 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12754846/HIVE-11751.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12754846/HIVE-11751.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 9424 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hive.hcatalog.api.TestHCatClient.testTableSchemaPropagation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5221/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5221/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5221/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/5221/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5221/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-5221/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12754846 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14739923" author="sershe" created="Fri, 11 Sep 2015 00:35:12 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14741142" author="prasanth_j" created="Fri, 11 Sep 2015 17:03:55 +0000"  >&lt;p&gt;Patch committed to master branch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12846043">HIVE-11304</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12754846" name="HIVE-11751.1.patch" size="9056" author="prasanth_j" created="Wed, 9 Sep 2015 07:21:07 +0000"/>
                            <attachment id="12754783" name="hive-exec-log4j2.xml" size="4754" author="rajesh.balamohan" created="Wed, 9 Sep 2015 01:31:47 +0000"/>
                            <attachment id="12754782" name="hive-log4j2.xml" size="4784" author="rajesh.balamohan" created="Wed, 9 Sep 2015 01:31:46 +0000"/>
                            <attachment id="12754543" name="hiveserver2_log4j.png" size="181184" author="rajesh.balamohan" created="Mon, 7 Sep 2015 23:00:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jv87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>