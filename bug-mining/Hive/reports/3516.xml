<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:33:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-10684] Fix the unit test failures for HIVE-7553 after HIVE-10674 removed the binary jar files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-10684</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description></description>
                <environment></environment>
        <key id="12829128">HIVE-10684</key>
            <summary>Fix the unit test failures for HIVE-7553 after HIVE-10674 removed the binary jar files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="Ferd">Ferdinand Xu</assignee>
                                    <reporter username="Ferd">Ferdinand Xu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 May 2015 08:51:35 +0000</created>
                <updated>Thu, 4 Jun 2015 01:33:42 +0000</updated>
                            <resolved>Fri, 29 May 2015 01:11:28 +0000</resolved>
                                                    <fixVersion>1.2.1</fixVersion>
                                    <component>Tests</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14541540" author="ferd" created="Wed, 13 May 2015 07:45:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt;, could you take a look at this jira? Thank you!&lt;/p&gt;</comment>
                            <comment id="14542536" author="hiveqa" created="Wed, 13 May 2015 19:38:01 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12732502/HIVE-10684.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12732502/HIVE-10684.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 8921 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestEncryptedHDFSCliDriver.testCliDriver_encryption_insert_partition_static
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3879/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3879/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3879/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/3879/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3879/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-3879/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12732502 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14543007" author="ferd" created="Thu, 14 May 2015 00:53:47 +0000"  >&lt;p&gt;Failed case is irrelevant.&lt;/p&gt;</comment>
                            <comment id="14544456" author="sushanth" created="Thu, 14 May 2015 22:13:57 +0000"  >&lt;p&gt;Ferdinand, thanks for the patch update!&lt;/p&gt;

&lt;p&gt;I&apos;ve not been able to look at this yesterday or today, I will look into it tomorrow.&lt;/p&gt;</comment>
                            <comment id="14544695" author="ferd" created="Fri, 15 May 2015 00:55:54 +0000"  >&lt;p&gt;Thank you! Create the review board entry for this jira.&lt;/p&gt;</comment>
                            <comment id="14554545" author="ferd" created="Thu, 21 May 2015 15:45:57 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt;, do you have some circles reviewing this jira? Thank you!&lt;/p&gt;</comment>
                            <comment id="14554592" author="sushanth" created="Thu, 21 May 2015 16:15:17 +0000"  >&lt;p&gt;Hi, yes, I looked at it yesterday, and I&apos;m afraid I do have one issue with this solution - namely the same issue as with &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10477&quot; title=&quot;Provide option to disable Spark tests &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10477&quot;&gt;&lt;del&gt;HIVE-10477&lt;/del&gt;&lt;/a&gt; , and makes it so that we would have to skip these tests as well for Windows. In general, I think we should avoid usage of maven-antrun-plugin unless necessary, since it leads to our mvn-based build slowly leaking back to an ant-based build.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt;, could you suggest a way to resolve this in a cross-platform compatible manner?&lt;/p&gt;</comment>
                            <comment id="14555224" author="hsubramaniyan" created="Thu, 21 May 2015 23:05:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferd&lt;/a&gt; Is it possible to do whatever you have done as part of target/generate_session_jars.sh mentioned in ql/pom.xml using maven components/plugins itself. This would be the most desirable way to avoid any portability issues. Also, I currently don&apos;t see the need to put the script in generate-sources id since the generate_session_jars.sh does not actually generate any scripts from any template but rather move it from one location to another.&lt;/p&gt;

&lt;p&gt;The most effective way to work around portability issue would be to do something like what I have mentioned below, if at all possible.&lt;br/&gt;
For example, you can do something similar to  this in ql/pom.xml (I have not tested the below thing, but it should give you a start) :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;project&amp;gt;
  ...
  &amp;lt;build&amp;gt;
    &amp;lt;plugins&amp;gt;
      ...
      &amp;lt;plugin&amp;gt;
        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;RefreshedJarClassV1&amp;lt;/artifactId&amp;gt;
        &amp;lt;configuration&amp;gt;
          &amp;lt;outputDirectory&amp;gt;${basedir}/target&amp;lt;/outputDirectory&amp;gt;
        &amp;lt;includes&amp;gt;**/*RefreshedJarClassV1.&lt;span class=&quot;code-keyword&quot;&gt;class&amp;&lt;/span&gt;lt;/includes&amp;gt;
        &amp;lt;/configuration&amp;gt;
      &amp;lt;/plugin&amp;gt;
      &amp;lt;plugin&amp;gt;
        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;RefreshedJarClassV2&amp;lt;/artifactId&amp;gt;
        &amp;lt;configuration&amp;gt;
          &amp;lt;outputDirectory&amp;gt;${basedir}/target&amp;lt;/outputDirectory&amp;gt;
        &amp;lt;includes&amp;gt;**/*RefreshedJarClassV2.&lt;span class=&quot;code-keyword&quot;&gt;class&amp;&lt;/span&gt;lt;/includes&amp;gt;
        &amp;lt;/configuration&amp;gt;
      &amp;lt;/plugin&amp;gt;
      ...
    &amp;lt;/plugins&amp;gt;
  &amp;lt;/build&amp;gt;
  ...
&amp;lt;/project&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the worst case, if maven plugins does not provide you the option to do what you need and you don&apos;t bother about having this change on any non-linux platforms, you need to add profile for all the platform dependent exec code in pom.xml, so that the end-user can prevent these scripts from running if needed (by providing a -D or -P option) . You can take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10477&quot; title=&quot;Provide option to disable Spark tests &quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10477&quot;&gt;&lt;del&gt;HIVE-10477&lt;/del&gt;&lt;/a&gt; to see how this is done.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt; what do you think about my feedback.&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="14555830" author="hsubramaniyan" created="Fri, 22 May 2015 08:30:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferd&lt;/a&gt; I took a closer look at this implementation and it might be possible to achieve what you have done via the below addition to maven-jar-plugin in ql/pom.xml. Please test it after commenting out the previous change you made in maven-antrun-plugin(except creating the /tmp directory part) and let me know if this is what you intended to do.&lt;/p&gt;

&lt;p&gt;In ql/ pom.xml,&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;      &amp;lt;plugin&amp;gt;
        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;
        &amp;lt;artifactId&amp;gt;maven-jar-plugin&amp;lt;/artifactId&amp;gt;
        &amp;lt;executions&amp;gt;
.....
          &amp;lt;execution&amp;gt;
            &amp;lt;id&amp;gt;RefreshedJarClassV1&amp;lt;/id&amp;gt;
            &amp;lt;phase&amp;gt;prepare-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;&amp;lt;/phase&amp;gt;
            &amp;lt;goals&amp;gt;
              &amp;lt;goal&amp;gt;jar&amp;lt;/goal&amp;gt;
            &amp;lt;/goals&amp;gt;
            &amp;lt;configuration&amp;gt;
              &amp;lt;archive&amp;gt;
                &amp;lt;addMavenDescriptor&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/addMavenDescriptor&amp;gt;
              &amp;lt;/archive&amp;gt;
              &amp;lt;classesDirectory&amp;gt;${basedir}/target/test-classes&amp;lt;/classesDirectory&amp;gt;
              &amp;lt;includes&amp;gt;
                &amp;lt;include&amp;gt;**/RefreshedJarClass.&lt;span class=&quot;code-keyword&quot;&gt;class&amp;&lt;/span&gt;lt;/include&amp;gt;
              &amp;lt;/includes&amp;gt;
              &amp;lt;finalName&amp;gt;RefreshedJarClassV1&amp;lt;/finalName&amp;gt;
              &amp;lt;outputDirectory&amp;gt;${basedir}/target/tmp&amp;lt;/outputDirectory&amp;gt;
            &amp;lt;/configuration&amp;gt;
          &amp;lt;/execution&amp;gt;
          &amp;lt;execution&amp;gt;
            &amp;lt;id&amp;gt;RefreshedJarClassV2&amp;lt;/id&amp;gt;
            &amp;lt;phase&amp;gt;prepare-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;&amp;lt;/phase&amp;gt;
            &amp;lt;goals&amp;gt;
              &amp;lt;goal&amp;gt;jar&amp;lt;/goal&amp;gt;
            &amp;lt;/goals&amp;gt;
            &amp;lt;configuration&amp;gt;
              &amp;lt;archive&amp;gt;
                &amp;lt;addMavenDescriptor&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/addMavenDescriptor&amp;gt;
              &amp;lt;/archive&amp;gt;
              &amp;lt;classesDirectory&amp;gt;${basedir}/target/test-classes&amp;lt;/classesDirectory&amp;gt;
              &amp;lt;includes&amp;gt;
                &amp;lt;include&amp;gt;**/RefreshedJarClass.&lt;span class=&quot;code-keyword&quot;&gt;class&amp;&lt;/span&gt;lt;/include&amp;gt;
              &amp;lt;/includes&amp;gt;
              &amp;lt;finalName&amp;gt;RefreshedJarClassV2&amp;lt;/finalName&amp;gt;
              &amp;lt;outputDirectory&amp;gt;${basedir}/target/tmp&amp;lt;/outputDirectory&amp;gt;
            &amp;lt;/configuration&amp;gt;
          &amp;lt;/execution&amp;gt;
        &amp;lt;/executions&amp;gt;
      &amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14555834" author="ferd" created="Fri, 22 May 2015 08:38:16 +0000"  >&lt;p&gt;Thanks, I will try this one.&lt;/p&gt;</comment>
                            <comment id="14555850" author="ferd" created="Fri, 22 May 2015 08:47:37 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt;, do you mind uploading your pom.xml for ql module? The original purpose for this test involved in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-7553&quot; title=&quot;avoid the scheduling maintenance window for every jar change&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-7553&quot;&gt;&lt;del&gt;HIVE-7553&lt;/del&gt;&lt;/a&gt; is to verify the reloading functionality. &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Steps:
1. move A.jar in version 1 to the path
2. execute reload command
3. move A.jar in version 2 to the path in step 1
4. reload again
5. check the latest jar is used
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;To archive this, we have to use the same class and package name. This is why I use txt file instead of java source file. I am trying to use maven plugins to replace maven-antrun-plugin as &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt; suggests. And this will also solve the cross platform issue.&lt;/p&gt;</comment>
                            <comment id="14555854" author="hsubramaniyan" created="Fri, 22 May 2015 08:56:23 +0000"  >&lt;p&gt;I forgot to mention a few things to get the above thing working. Instead of creating the txt file, you can move RefreshedJarClassV1.txt to RefreshedJarClass.java inside ql/src/test/org/apache/hadoop/hive/ql/session/refreshedjar/v1 and similar for V2 as well to RefreshedJarClass.java inside  ql/src/test/org/apache/hadoop/hive/ql/session/refreshedjar/v2. This way, you need to change the classesDirectory in the above modification in ql/pom.xml I suggested from ${basedir}/target/test-classes to &lt;/p&gt;
{basedir}/target/test-classes/org/apache/hadoop/hive/ql/session/refreshedjar/v1 for RefreshedJarClassV1 execution id and {basedir}
&lt;p&gt;/target/test-classes/org/apache/hadoop/hive/ql/session/refreshedjar/v2 for RefreshedJarClassV2 id.&lt;/p&gt;

&lt;p&gt;If you dont want the above classes to be included in the test-jar created, you can always add an exclude option in the test-jar goal.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14555873" author="hsubramaniyan" created="Fri, 22 May 2015 09:22:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferd&lt;/a&gt; My bad, if you want the same package, none of my above suggestions will work. Sorry for not realizing this requirement in the first place. In this case, it will be better to follow what Sushanth had pointed out.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14557257" author="ferd" created="Sat, 23 May 2015 10:05:30 +0000"  >&lt;p&gt;It&apos;s easy to have a cmd script for windows as the bash script based on current solution. Any thoughts about crossing platform issue? Also Is there any suggestion about replacing the maven-antrun-plugin? The maven-jar-plugin is for the purpose of building a jar for the source code. I am wondering whether we can replace the maven-antrun-plugin by maven-jar-plugin. Any thoughts about it?&lt;/p&gt;

&lt;p&gt;Thank you! &lt;br/&gt;
Ferd&lt;/p&gt;</comment>
                            <comment id="14557495" author="hsubramaniyan" created="Sat, 23 May 2015 19:41:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferd&lt;/a&gt; Is it possible to introduce ant tasks instead of bash script, can you see if this is possible via the Tasks mentioned in &lt;a href=&quot;https://ant.apache.org/manual/Tasks/move.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ant.apache.org/manual/Tasks/move.html&lt;/a&gt; . I believe this should support portability as well.&lt;/p&gt;

&lt;p&gt;If the above method is not possible, It must be possible to get an equivalent windows script as well. But before the windows equivalent script can be checked in, it has to be tested in windows. You need a OS based maven profile for this purpose. This can be done as a separate jira; for the purpose of this jira, you can introduce a separate profile through which the end-user can provide a maven option (using -P or -D option) to skip executing the bash  in windows so that the maven command would not fail in windows.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14558380" author="ferd" created="Mon, 25 May 2015 16:43:53 +0000"  >&lt;p&gt;Update the patch resolving cross platform issue&lt;/p&gt;</comment>
                            <comment id="14558381" author="ferd" created="Mon, 25 May 2015 16:44:58 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt;, could you help me review the latest patch? Thank you!&lt;/p&gt;</comment>
                            <comment id="14558446" author="hiveqa" created="Mon, 25 May 2015 18:44:50 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12735187/HIVE-10684.1.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12735187/HIVE-10684.1.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 5 failed/errored test(s), 8971 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;TestCompareCliDriver - did not produce a TEST-*.xml file
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_crc32
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_udf_sha1
org.apache.hadoop.hive.cli.TestCliDriver.testCliDriver_vector_join30
org.apache.hadoop.hive.cli.TestMiniTezCliDriver.testCliDriver_vector_null_projection
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4032/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4032/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4032/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/jenkins/job/PreCommit-HIVE-TRUNK-Build/4032/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4032/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ec2-174-129-184-35.compute-1.amazonaws.com/logs/PreCommit-HIVE-TRUNK-Build-4032/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 5 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12735187 - PreCommit-HIVE-TRUNK-Build&lt;/p&gt;</comment>
                            <comment id="14558601" author="ferd" created="Tue, 26 May 2015 00:44:10 +0000"  >&lt;p&gt;Failed cases are not related.&lt;/p&gt;</comment>
                            <comment id="14560524" author="hsubramaniyan" created="Wed, 27 May 2015 06:59:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Ferd&quot; class=&quot;user-hover&quot; rel=&quot;Ferd&quot;&gt;Ferd&lt;/a&gt;  Sorry for the delay, I have a few minor comments here.   &lt;br/&gt;
1. For public int executeCmd (), can you make this a private function. Also the return value from this function is not used; i think it should either be removed or have it logged for debugging purpose. &lt;br/&gt;
2. &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;+&lt;span class=&quot;code-comment&quot;&gt;//      Files.copy(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;/tmp/&quot;&lt;/span&gt; + clazzV2FileName.toString()), dist);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The above line can be removed.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14562204" author="ferd" created="Thu, 28 May 2015 02:30:54 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt;,&lt;br/&gt;
thank you for your comments and update the patch addressing  your comments.&lt;/p&gt;</comment>
                            <comment id="14562370" author="hsubramaniyan" created="Thu, 28 May 2015 06:33:47 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="14564032" author="ferd" created="Fri, 29 May 2015 01:11:29 +0000"  >&lt;p&gt;Committed to the master, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt; for your review and comments.&lt;/p&gt;</comment>
                            <comment id="14567671" author="vgumashta" created="Mon, 1 Jun 2015 18:07:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sushanth&quot; class=&quot;user-hover&quot; rel=&quot;sushanth&quot;&gt;sushanth&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hsubramaniyan&quot; class=&quot;user-hover&quot; rel=&quot;hsubramaniyan&quot;&gt;hsubramaniyan&lt;/a&gt;: should this be put in 1.2.1 as well? There are some unit test failures this might fix (TestBeelineArgParsing#testAddLocalJarWithoutAddDriverClazz, testAddLocalJarWithoutAddDriverClazz, testAddLocalJar, testAddLocalJar).&lt;/p&gt;</comment>
                            <comment id="14567765" author="hsubramaniyan" created="Mon, 1 Jun 2015 18:42:49 +0000"  >&lt;p&gt;+1 for 1.2.1. As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vgumashta&quot; class=&quot;user-hover&quot; rel=&quot;vgumashta&quot;&gt;vgumashta&lt;/a&gt; mentioned, there are some unit test failures in branch-1.2 which can be resolved with this fix.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Hari&lt;/p&gt;</comment>
                            <comment id="14568522" author="ferd" created="Tue, 2 Jun 2015 04:58:06 +0000"  >&lt;p&gt;This patch will not fix the failures you mentioned. Please take a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-10705&quot; title=&quot;Update tests for HIVE-9302 after removing binaries&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-10705&quot;&gt;&lt;del&gt;HIVE-10705&lt;/del&gt;&lt;/a&gt;. And this patch has already be committed to branch 1.2. Thank you!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12828984">HIVE-10674</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12735187" name="HIVE-10684.1.patch" size="8117" author="Ferd" created="Mon, 25 May 2015 16:43:53 +0000"/>
                            <attachment id="12735778" name="HIVE-10684.2.patch" size="7236" author="Ferd" created="Thu, 28 May 2015 02:30:54 +0000"/>
                            <attachment id="12732502" name="HIVE-10684.patch" size="6808" author="Ferd" created="Wed, 13 May 2015 07:45:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2elyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>