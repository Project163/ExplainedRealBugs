<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:53:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-16193] Hive show compactions not reflecting the status of the application</title>
                <link>https://issues.apache.org/jira/browse/HIVE-16193</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;In a test for &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-13354&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;HIVE-13354&lt;/a&gt;, we set properties to make the compaction fail. Recently show compactions indicates that compactions have been succeeding on the tables though the corresponding application gets killed as expected. &lt;/p&gt;
</description>
                <environment></environment>
        <key id="13055772">HIVE-16193</key>
            <summary>Hive show compactions not reflecting the status of the application</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="wzheng">Wei Zheng</assignee>
                                    <reporter username="kavansuresh@gmail.com">Kavan Suresh</reporter>
                        <labels>
                    </labels>
                <created>Mon, 13 Mar 2017 23:44:36 +0000</created>
                <updated>Tue, 25 Jul 2017 20:05:25 +0000</updated>
                            <resolved>Wed, 12 Apr 2017 21:49:53 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.2.0</fixVersion>
                    <fixVersion>2.3.0</fixVersion>
                    <fixVersion>3.0.0</fixVersion>
                                    <component>Transactions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15923209" author="ekoifman" created="Mon, 13 Mar 2017 23:55:02 +0000"  >&lt;p&gt;most likely caused by &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15851&quot; title=&quot;CompactorMR.launchCompactionJob() should use JobClient.submitJob() not runJob&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15851&quot;&gt;&lt;del&gt;HIVE-15851&lt;/del&gt;&lt;/a&gt;.  Apparently it no longer throws an exception when the job dies&lt;/p&gt;</comment>
                            <comment id="15964949" author="wzheng" created="Tue, 11 Apr 2017 20:54:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;ekoifman&lt;/a&gt; Can you review please?&lt;/p&gt;</comment>
                            <comment id="15965004" author="ekoifman" created="Tue, 11 Apr 2017 21:44:00 +0000"  >&lt;p&gt;seems to me like this will revert &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-15851&quot; title=&quot;CompactorMR.launchCompactionJob() should use JobClient.submitJob() not runJob&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-15851&quot;&gt;&lt;del&gt;HIVE-15851&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15965159" author="wzheng" created="Tue, 11 Apr 2017 23:57:29 +0000"  >&lt;p&gt;patch 2 removed the blocking call. I will see if I can add a test for it.&lt;/p&gt;</comment>
                            <comment id="15965261" author="hiveqa" created="Wed, 12 Apr 2017 01:58:36 +0000"  >

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12862943/HIVE-16193.2.patch&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12862943/HIVE-16193.2.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to no test(s) being added or modified.&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 2 failed/errored test(s), 10570 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hadoop.hive.cli.TestBeeLineDriver.testCliDriver[smb_mapjoin_7] (batchId=234)
org.apache.hive.jdbc.TestJdbcDriver2.testResultSetMetaData (batchId=221)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/4647/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/4647/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/4647/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/4647/console&lt;/a&gt;&lt;br/&gt;
Test logs: &lt;a href=&quot;http://104.198.109.242/logs/PreCommit-HIVE-Build-4647/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://104.198.109.242/logs/PreCommit-HIVE-Build-4647/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.TestCheckPhase
Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests exited with: TestsFailedException: 2 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;

&lt;p&gt;ATTACHMENT ID: 12862943 - PreCommit-HIVE-Build&lt;/p&gt;</comment>
                            <comment id="15966647" author="wzheng" created="Wed, 12 Apr 2017 21:18:44 +0000"  >&lt;p&gt;Couldn&apos;t find an easy way to fail the MR job from unit test. But the fix should restore the logic as before - if the job fails, an exception will be thrown from CompactorMR, which will cause Worker to mark that specific compaction entry as failed. &lt;/p&gt;</comment>
                            <comment id="15966653" author="ekoifman" created="Wed, 12 Apr 2017 21:24:43 +0000"  >&lt;p&gt;I think this needs to be back ported to 2.x line&lt;/p&gt;

&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="15966700" author="wzheng" created="Wed, 12 Apr 2017 21:49:18 +0000"  >&lt;p&gt;Thanks Eugene for the review.&lt;/p&gt;

&lt;p&gt;Committed to master, branch-2, branch-2.3 and branch-2.2.&lt;/p&gt;</comment>
                            <comment id="15966884" author="wzheng" created="Wed, 12 Apr 2017 23:56:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ekoifman&quot; class=&quot;user-hover&quot; rel=&quot;ekoifman&quot;&gt;ekoifman&lt;/a&gt; Can you take a look at the addendum patch to see if the error message is good enough?&lt;/p&gt;</comment>
                            <comment id="15966896" author="ekoifman" created="Thu, 13 Apr 2017 00:04:01 +0000"  >&lt;p&gt;LGTM&lt;/p&gt;</comment>
                            <comment id="15967966" author="wzheng" created="Thu, 13 Apr 2017 17:58:08 +0000"  >&lt;p&gt;Committed addendum patch to same branches.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13041464">HIVE-15851</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12862917" name="HIVE-16193.1.patch" size="1209" author="wzheng" created="Tue, 11 Apr 2017 20:53:48 +0000"/>
                            <attachment id="12862943" name="HIVE-16193.2.patch" size="805" author="wzheng" created="Tue, 11 Apr 2017 23:56:38 +0000"/>
                            <attachment id="12863170" name="HIVE-16193.addendum.patch" size="2483" author="wzheng" created="Wed, 12 Apr 2017 23:56:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3c7qv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310320" key="com.atlassian.jira.plugin.system.customfieldtypes:multiversion">
                        <customfieldname>Target Version/s</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue id="12335837">2.2.0</customfieldvalue>
    <customfieldvalue id="12340268">3.0.0</customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>