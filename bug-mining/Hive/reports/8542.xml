<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:24:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-22961] Drop function in Hive should not send request for drop database to Ranger plugin. </title>
                <link>https://issues.apache.org/jira/browse/HIVE-22961</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;Issue here is how HIVE sends the&#160; &quot;HivePrivilegeObjects&quot; to Ranger when DROP fUNTION is done. This is different from how DROP TABLE is done.&lt;/p&gt;

&lt;p&gt;DROP TABLE the following is the request:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&apos;checkPrivileges&apos;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&apos;hiveOpType&apos;&lt;/span&gt;:DROPTABLE, &lt;span class=&quot;code-quote&quot;&gt;&apos;inputHObjs&apos;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&apos;HivePrivilegeObject&apos;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&apos;type&apos;&lt;/span&gt;:TABLE_OR_VIEW, &lt;span class=&quot;code-quote&quot;&gt;&apos;dbName&apos;&lt;/span&gt;:testdemo, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectType&apos;&lt;/span&gt;:TABLE_OR_VIEW, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectName&apos;&lt;/span&gt;:t1, &lt;span class=&quot;code-quote&quot;&gt;&apos;columns&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;partKeys&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;commandParams&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;actionType&apos;&lt;/span&gt;:OTHER, &lt;span class=&quot;code-quote&quot;&gt;&apos;owner&apos;&lt;/span&gt;:systest}], &lt;span class=&quot;code-quote&quot;&gt;&apos;outputHObjs&apos;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&apos;HivePrivilegeObject&apos;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&apos;type&apos;&lt;/span&gt;:TABLE_OR_VIEW, &lt;span class=&quot;code-quote&quot;&gt;&apos;dbName&apos;&lt;/span&gt;:testdemo, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectType&apos;&lt;/span&gt;:TABLE_OR_VIEW, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectName&apos;&lt;/span&gt;:t1, &lt;span class=&quot;code-quote&quot;&gt;&apos;columns&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;partKeys&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;commandParams&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;actionType&apos;&lt;/span&gt;:OTHER, &lt;span class=&quot;code-quote&quot;&gt;&apos;owner&apos;&lt;/span&gt;:systest}], &lt;span class=&quot;code-quote&quot;&gt;&apos;context&apos;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&apos;clientType&apos;&lt;/span&gt;:HIVESERVER2, &lt;span class=&quot;code-quote&quot;&gt;&apos;commandString&apos;&lt;/span&gt;:drop table t1, &lt;span class=&quot;code-quote&quot;&gt;&apos;ipAddress&apos;&lt;/span&gt;:10.65.42.125, &lt;span class=&quot;code-quote&quot;&gt;&apos;forwardedAddresses&apos;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;sessionString&apos;&lt;/span&gt;:58f89a16-2df5-4124-af0e-913aabbefe06}, &lt;span class=&quot;code-quote&quot;&gt;&apos;user&apos;&lt;/span&gt;:systest, &lt;span class=&quot;code-quote&quot;&gt;&apos;groups&apos;&lt;/span&gt;:[systest, wheel]}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Where as in DROP FUNCTION:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
{&lt;span class=&quot;code-quote&quot;&gt;&apos;hiveOpType&apos;&lt;/span&gt;:DROPFUNCTION, &lt;span class=&quot;code-quote&quot;&gt;&apos;inputHObjs&apos;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&apos;HivePrivilegeObject&apos;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&apos;type&apos;&lt;/span&gt;:FUNCTION, &lt;span class=&quot;code-quote&quot;&gt;&apos;dbName&apos;&lt;/span&gt;:udfdemo, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectType&apos;&lt;/span&gt;:FUNCTION, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectName&apos;&lt;/span&gt;:aes1, &lt;span class=&quot;code-quote&quot;&gt;&apos;columns&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;partKeys&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;commandParams&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;actionType&apos;&lt;/span&gt;:OTHER, &lt;span class=&quot;code-quote&quot;&gt;&apos;owner&apos;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}], &lt;span class=&quot;code-quote&quot;&gt;&apos;outputHObjs&apos;&lt;/span&gt;:[&lt;span class=&quot;code-quote&quot;&gt;&apos;HivePrivilegeObject&apos;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&apos;type&apos;&lt;/span&gt;:DATABASE, &lt;span class=&quot;code-quote&quot;&gt;&apos;dbName&apos;&lt;/span&gt;:udfdemo, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectType&apos;&lt;/span&gt;:DATABASE, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectName&apos;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;columns&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;partKeys&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;commandParams&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;actionType&apos;&lt;/span&gt;:OTHER, &lt;span class=&quot;code-quote&quot;&gt;&apos;owner&apos;&lt;/span&gt;:systest},&lt;span class=&quot;code-quote&quot;&gt;&apos;HivePrivilegeObject&apos;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&apos;type&apos;&lt;/span&gt;:FUNCTION, &lt;span class=&quot;code-quote&quot;&gt;&apos;dbName&apos;&lt;/span&gt;:udfdemo, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectType&apos;&lt;/span&gt;:FUNCTION, &lt;span class=&quot;code-quote&quot;&gt;&apos;objectName&apos;&lt;/span&gt;:aes1, &lt;span class=&quot;code-quote&quot;&gt;&apos;columns&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;partKeys&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;commandParams&apos;&lt;/span&gt;:[], &lt;span class=&quot;code-quote&quot;&gt;&apos;actionType&apos;&lt;/span&gt;:OTHER, &lt;span class=&quot;code-quote&quot;&gt;&apos;owner&apos;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;}], &lt;span class=&quot;code-quote&quot;&gt;&apos;context&apos;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&apos;clientType&apos;&lt;/span&gt;:HIVESERVER2, &lt;span class=&quot;code-quote&quot;&gt;&apos;commandString&apos;&lt;/span&gt;:drop function udfdemo.aes1, &lt;span class=&quot;code-quote&quot;&gt;&apos;ipAddress&apos;&lt;/span&gt;:10.65.42.125, &lt;span class=&quot;code-quote&quot;&gt;&apos;forwardedAddresses&apos;&lt;/span&gt;:&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;sessionString&apos;&lt;/span&gt;:442ca4d3-f34a-470c-878a-18542b99016c}, &lt;span class=&quot;code-quote&quot;&gt;&apos;user&apos;&lt;/span&gt;:systest, &lt;span class=&quot;code-quote&quot;&gt;&apos;groups&apos;&lt;/span&gt;:[systest, wheel]}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in DROP function in outputHObjs, there is this addition, DATABASE object which should not there and this causes the Ranger requested to be generated differently.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13289030">HIVE-22961</key>
            <summary>Drop function in Hive should not send request for drop database to Ranger plugin. </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rtrivedi12">Riju Trivedi</assignee>
                                    <reporter username="samuelan">Sam An</reporter>
                        <labels>
                            <label>pull-request-available</label>
                    </labels>
                <created>Mon, 2 Mar 2020 19:26:54 +0000</created>
                <updated>Fri, 29 Mar 2024 17:49:44 +0000</updated>
                            <resolved>Sat, 26 Aug 2023 17:10:11 +0000</resolved>
                                    <version>4.0.0</version>
                                    <fixVersion>4.0.0</fixVersion>
                                    <component>Hive</component>
                        <due>Tue, 31 Mar 2020 00:00:00 +0000</due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17759267" author="hemanth619" created="Sat, 26 Aug 2023 17:10:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rtrivedi12&quot; class=&quot;user-hover&quot; rel=&quot;rtrivedi12&quot;&gt;rtrivedi12&lt;/a&gt; - Patch merged to master branch. Thanks for contribution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 11 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0c39c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>