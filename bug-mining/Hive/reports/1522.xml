<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 18:10:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-5231] Remove TestSerDe.jar from data/files</title>
                <link>https://issues.apache.org/jira/browse/HIVE-5231</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;TestSerDe.jar should be removed from data/files. Even though, TestSerDe.java is present in ql/src/test/org/apache/hadoop/hive/serde2/TestSerDe.java, this is never compiled during build process. The jar file should be created as part of build process for testing purpose rather than using a hard-coded jar file.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12667180">HIVE-5231</key>
            <summary>Remove TestSerDe.jar from data/files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</assignee>
                                    <reporter username="hsubramaniyan">Hari Sankar Sivarama Subramaniyan</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Sep 2013 20:47:36 +0000</created>
                <updated>Sat, 28 Sep 2013 11:51:40 +0000</updated>
                            <resolved>Fri, 27 Sep 2013 17:53:52 +0000</resolved>
                                    <version>0.11.0</version>
                                    <fixVersion>0.13.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13762516" author="hsubramaniyan" created="Tue, 10 Sep 2013 00:33:16 +0000"  >&lt;p&gt;Patch added. TestSerDe.jar should be removed from data/files as part of commit since this file will not be used.&lt;/p&gt;</comment>
                            <comment id="13763659" author="ashutoshc" created="Tue, 10 Sep 2013 22:59:52 +0000"  >&lt;p&gt;+1&lt;/p&gt;</comment>
                            <comment id="13763797" author="ashutoshc" created="Wed, 11 Sep 2013 01:10:04 +0000"  >&lt;p&gt;deletejar.q test failed with following trace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    [junit] OK
    [junit] Begin query: deletejar.q
    [junit] Exception: Client Execution was expected to fail, but succeeded with error code 0 
    [junit] See build/ql/tmp/hive.log, or try &quot;ant test ... -Dtest.silent=false&quot; to get more logs.
    [junit] Failed query: deletejar.q
    [junit] junit.framework.AssertionFailedError: Client Execution was expected to fail, but succeeded with error code 0 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13776373" author="ashutoshc" created="Tue, 24 Sep 2013 15:04:46 +0000"  >&lt;p&gt;I think reason for deletejar.q failing is earlier TestSerDe.jar was not in ant test classpath. In testcase add jar command was loading classes from jar in thread&apos;s classloader but not in default classloader. But now with TestSerDe in default classloader remove jar is not able to unload classes from classloader. I think fix will be to compile testSerde but don&apos;t add it in classpath.&lt;/p&gt;</comment>
                            <comment id="13778207" author="hsubramaniyan" created="Wed, 25 Sep 2013 23:08:06 +0000"  >&lt;p&gt;1. Add a new directory with ql/test/excludedClasses which contains classes that should not be in the test classpath&lt;/p&gt;</comment>
                            <comment id="13778299" author="ashutoshc" created="Thu, 26 Sep 2013 00:42:29 +0000"  >&lt;p&gt;We need not to compile it differently, we just need to make sure TestSerdeClass is not in classpath when tests are running.&lt;/p&gt;</comment>
                            <comment id="13778546" author="hiveqa" created="Thu, 26 Sep 2013 07:22:33 +0000"  >

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;Overall&lt;/font&gt;: -1 at least one tests failed&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12605129/HIVE-5231.2.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12605129/HIVE-5231.2.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;red&quot;&gt;ERROR:&lt;/font&gt; -1 due to 1 failed/errored test(s), 3162 tests executed&lt;br/&gt;
&lt;b&gt;Failed tests:&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;org.apache.hcatalog.listener.TestNotificationListener.testAMQListener
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/906/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/906/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/906/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/906/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
Tests failed with: TestsFailedException: 1 tests failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13779293" author="hsubramaniyan" created="Thu, 26 Sep 2013 21:55:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ashutoshc&quot; class=&quot;user-hover&quot; rel=&quot;ashutoshc&quot;&gt;ashutoshc&lt;/a&gt; Removing a class from classpath is not trivial within ant. One method would be to rename TestSerDe.class to TestSerDe.class.unused just before junit tests are run so that this class is never accessed through test.classpath while the tests are running. Once the junit tests complete, I revert the class to the original file name so that it can be used elsewhere if required.&lt;br/&gt;
I am uploading patch 3 with the above change. Let me know if there is a better way to implement this fix. &lt;/p&gt;</comment>
                            <comment id="13779294" author="hsubramaniyan" created="Thu, 26 Sep 2013 21:57:00 +0000"  >&lt;p&gt;Make sure that all the tests pass after data/files/TestSerDe.jar is removed.&lt;/p&gt;</comment>
                            <comment id="13779307" author="ashutoshc" created="Thu, 26 Sep 2013 22:12:26 +0000"  >&lt;p&gt;Instead of moving file, I think you can just delete the file after jar is constructed.&lt;/p&gt;</comment>
                            <comment id="13779311" author="hsubramaniyan" created="Thu, 26 Sep 2013 22:19:44 +0000"  >&lt;p&gt;Deleting the class right after the jar file is constructed.&lt;/p&gt;</comment>
                            <comment id="13779668" author="hiveqa" created="Fri, 27 Sep 2013 05:05:44 +0000"  >

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;Overall&lt;/font&gt;: +1 all checks pass&lt;/p&gt;

&lt;p&gt;Here are the results of testing the latest attachment:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12605343/HIVE-5231.4.patch.txt&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12605343/HIVE-5231.4.patch.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;green&quot;&gt;SUCCESS:&lt;/font&gt; +1 3175 tests passed&lt;/p&gt;

&lt;p&gt;Test results: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/927/testReport&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/927/testReport&lt;/a&gt;&lt;br/&gt;
Console output: &lt;a href=&quot;https://builds.apache.org/job/PreCommit-HIVE-Build/927/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/PreCommit-HIVE-Build/927/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Messages:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Executing org.apache.hive.ptest.execution.PrepPhase
Executing org.apache.hive.ptest.execution.ExecutionPhase
Executing org.apache.hive.ptest.execution.ReportingPhase
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This message is automatically generated.&lt;/p&gt;</comment>
                            <comment id="13780159" author="ashutoshc" created="Fri, 27 Sep 2013 17:53:52 +0000"  >&lt;p&gt;Committed to trunk. Thanks, Hari!&lt;/p&gt;</comment>
                            <comment id="13780379" author="hudson" created="Fri, 27 Sep 2013 20:56:20 +0000"  >&lt;p&gt;SUCCESS: Integrated in Hive-trunk-hadoop1-ptest #183 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/183/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop1-ptest/183/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5231&quot; title=&quot;Remove TestSerDe.jar from data/files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5231&quot;&gt;&lt;del&gt;HIVE-5231&lt;/del&gt;&lt;/a&gt; : Remove TestSerDe.jar from data/files (Hari Sankar via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527004&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527004&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/TestSerDe.jar&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/deletejar.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_columns.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input16.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input16_cc.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13780469" author="hudson" created="Fri, 27 Sep 2013 21:43:48 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-h0.21 #2363 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-h0.21/2363/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-h0.21/2363/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5231&quot; title=&quot;Remove TestSerDe.jar from data/files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5231&quot;&gt;&lt;del&gt;HIVE-5231&lt;/del&gt;&lt;/a&gt; : Remove TestSerDe.jar from data/files (Hari Sankar via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527004&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527004&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/TestSerDe.jar&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/deletejar.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_columns.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input16.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input16_cc.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13780675" author="hudson" created="Sat, 28 Sep 2013 03:29:46 +0000"  >&lt;p&gt;FAILURE: Integrated in Hive-trunk-hadoop2-ptest #118 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/118/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2-ptest/118/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5231&quot; title=&quot;Remove TestSerDe.jar from data/files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5231&quot;&gt;&lt;del&gt;HIVE-5231&lt;/del&gt;&lt;/a&gt; : Remove TestSerDe.jar from data/files (Hari Sankar via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527004&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527004&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/TestSerDe.jar&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/deletejar.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_columns.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input16.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input16_cc.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13780796" author="hudson" created="Sat, 28 Sep 2013 11:51:40 +0000"  >&lt;p&gt;ABORTED: Integrated in Hive-trunk-hadoop2 #461 (See &lt;a href=&quot;https://builds.apache.org/job/Hive-trunk-hadoop2/461/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Hive-trunk-hadoop2/461/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-5231&quot; title=&quot;Remove TestSerDe.jar from data/files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-5231&quot;&gt;&lt;del&gt;HIVE-5231&lt;/del&gt;&lt;/a&gt; : Remove TestSerDe.jar from data/files (Hari Sankar via Ashutosh Chauhan) (hashutosh: &lt;a href=&quot;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527004&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewcvs.cgi/?root=Apache-SVN&amp;amp;view=rev&amp;amp;rev=1527004&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;/hive/trunk/build-common.xml&lt;/li&gt;
	&lt;li&gt;/hive/trunk/data/files/TestSerDe.jar&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/deletejar.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientnegative/invalid_columns.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/alter1.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input16.q&lt;/li&gt;
	&lt;li&gt;/hive/trunk/ql/src/test/queries/clientpositive/input16_cc.q&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12602239" name="HIVE-5231.1.patch.txt" size="5880" author="hsubramaniyan" created="Tue, 10 Sep 2013 00:33:16 +0000"/>
                            <attachment id="12605129" name="HIVE-5231.2.patch.txt" size="8000" author="hsubramaniyan" created="Wed, 25 Sep 2013 23:08:06 +0000"/>
                            <attachment id="12605341" name="HIVE-5231.3.patch.txt" size="5874" author="hsubramaniyan" created="Thu, 26 Sep 2013 21:57:00 +0000"/>
                            <attachment id="12605343" name="HIVE-5231.4.patch.txt" size="4829" author="hsubramaniyan" created="Thu, 26 Sep 2013 22:19:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347117</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1nutr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>347416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>