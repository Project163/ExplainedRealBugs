<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 19:27:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[HIVE-29296] Remove getPrimaryKeys codes from beeline module</title>
                <link>https://issues.apache.org/jira/browse/HIVE-29296</link>
                <project id="12310843" key="HIVE">Hive</project>
                    <description>&lt;p&gt;If you send a select query from Beeline client with --color, you can see exception in HS2 logs:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
./apache-hive-beeline-4.2.0-SNAPSHOT/bin/beeline -u &lt;span class=&quot;code-quote&quot;&gt;&quot;jdbc:hive2:&lt;span class=&quot;code-comment&quot;&gt;//127.0.0.1:10000/&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; hive&quot;&lt;/span&gt; --color&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;2025-09-18T16:22:34,121 ERROR &lt;span class=&quot;error&quot;&gt;&amp;#91;HiveServer2-Handler-Pool: Thread-166&amp;#93;&lt;/span&gt; thrift.ThriftCLIService: Failed to get primary keys &lt;span class=&quot;error&quot;&gt;&amp;#91;request: TGetPrimaryKeysReq(sessionHandle:TSessionHandle(sessionId:THandleIdentifier(guid:56 22 37 10 00 2D 4B BB B6 FE 42 49 E2 25 75 1F, secret:C7 E6 BF 96 D1 82 4E F5 82 36 AC A7 A1 3E 7A A6)), catalogName:, tableName:test12)&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.hive.service.cli.HiveSQLException: org.apache.thrift.protocol.TProtocolException: Required field &apos;db_name&apos; is unset! Struct:PrimaryKeysRequest(db_name:null, tbl_name:test12, catName:hive)&lt;br/&gt;
&#160;&lt;/p&gt;

&lt;p&gt;As i said in &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-29213&quot; title=&quot;HS2 report &amp;#39;Failed to get primary keys&amp;#39; if using old beeline client&quot; class=&quot;issue-link&quot; data-issue-key=&quot;HIVE-29213&quot;&gt;HIVE-29213&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/HIVE-29213?focusedCommentId=18033761&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-18033761&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/HIVE-29213?focusedCommentId=18033761&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-18033761&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I believe retrieving the primary key of a table on the beeline side is meaningless (the original purpose was only for coloring the beeline output).&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#172b4d&quot;&gt;We do not need to investigate how to retrieve the correct db_name to ensure the method &lt;em&gt;HiveDatabaseMetaData::getPrimaryKeys(String catalog, String schema, String table)&lt;/em&gt; executes properly. &lt;b&gt;I believe removing this code logic would suffice&lt;/b&gt;.&lt;/font&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13632825">HIVE-29296</key>
            <summary>Remove getPrimaryKeys codes from beeline module</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="zhangbutao">Butao Zhang</assignee>
                                    <reporter username="zhangbutao">Butao Zhang</reporter>
                        <labels>
                            <label>hive-4.2.0-must</label>
                            <label>pull-request-available</label>
                    </labels>
                <created>Thu, 30 Oct 2025 02:31:05 +0000</created>
                <updated>Fri, 7 Nov 2025 14:52:29 +0000</updated>
                            <resolved>Fri, 7 Nov 2025 14:52:29 +0000</resolved>
                                    <version>4.1.0</version>
                                    <fixVersion>4.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                    <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13629296">HIVE-29213</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1yd3s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                </customfields>
    </item>
</channel>
</rss>