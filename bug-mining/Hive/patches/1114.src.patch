diff --git a/metastore/scripts/upgrade/oracle/011-HIVE-3649.oracle.sql b/metastore/scripts/upgrade/oracle/011-HIVE-3649.oracle.sql
index 6b3f02f5c2..d4b46b5411 100644
--- a/metastore/scripts/upgrade/oracle/011-HIVE-3649.oracle.sql
+++ b/metastore/scripts/upgrade/oracle/011-HIVE-3649.oracle.sql
@@ -1 +1,10 @@
-alter table  SDS add IS_STOREDASSUBDIRECTORIES NUMBER(1) NOT NULL;
+-- Add new not null column into SDS table in three steps
+
+-- Step 1: Add the column allowing null
+ALTER TABLE  SDS ADD IS_STOREDASSUBDIRECTORIES NUMBER(1) NULL;
+
+ -- Step 2: Replace the null with default value (false)
+UPDATE SDS SET IS_STOREDASSUBDIRECTORIES = 0;
+
+-- Step 3: Alter the column to disallow null values
+ALTER TABLE SDS MODIFY(IS_STOREDASSUBDIRECTORIES NOT NULL);
