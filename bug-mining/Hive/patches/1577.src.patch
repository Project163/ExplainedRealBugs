diff --git a/common/build.xml b/common/build.xml
index 1804fc636f..1d42451929 100755
--- a/common/build.xml
+++ b/common/build.xml
@@ -30,9 +30,15 @@ to call at top-level: ant deploy-contrib compile-core-test
 
   <target name="compile" depends="init, setup, ivy-retrieve">
     <echo message="Project: ${ant.project.name}"/>
+    <!-- Restrict short version to just major.minor.change numbers -->
+    <propertyregex property="shortversion"
+      input="${version}" regexp="^([0-9]+\.[0-9]+\.[0-9]+)"
+      select="\1" defaultValue="${version}"
+    />
     <exec executable="bash" failonerror="true">
       <arg value="${basedir}/src/scripts/saveVersion.sh"/>
       <arg value="${version}"/>
+      <arg value="${shortversion}"/>
       <arg value="${basedir}/src"/>
     </exec>
     <javac
diff --git a/common/src/java/org/apache/hive/common/HiveVersionAnnotation.java b/common/src/java/org/apache/hive/common/HiveVersionAnnotation.java
index 0060ce83b5..140bdbc386 100644
--- a/common/src/java/org/apache/hive/common/HiveVersionAnnotation.java
+++ b/common/src/java/org/apache/hive/common/HiveVersionAnnotation.java
@@ -40,6 +40,12 @@
    */
   String version();
 
+  /**
+   * Get the Hive short version containing major/minor/change version numbers
+   * @return the short version string "0.6.3"
+   */
+  String shortVersion();
+
   /**
    * Get the username that compiled Hive.
    */
diff --git a/common/src/java/org/apache/hive/common/util/HiveVersionInfo.java b/common/src/java/org/apache/hive/common/util/HiveVersionInfo.java
index bd59b81d3f..de42e6c89d 100644
--- a/common/src/java/org/apache/hive/common/util/HiveVersionInfo.java
+++ b/common/src/java/org/apache/hive/common/util/HiveVersionInfo.java
@@ -57,6 +57,14 @@ public static String getVersion() {
     return version != null ? version.version() : "Unknown";
   }
 
+  /**
+   * Get the Hive short version, with major/minor/change version numbers.
+   * @return short version string, eg. "0.6.3"
+   */
+  public static String getShortVersion() {
+    return version != null ? version.shortVersion() : "Unknown";
+  }
+
   /**
    * Get the subversion revision number for the root directory
    * @return the revision number, eg. "451451"
diff --git a/common/src/scripts/saveVersion.sh b/common/src/scripts/saveVersion.sh
index db1ac0c6ee..55174960db 100644
--- a/common/src/scripts/saveVersion.sh
+++ b/common/src/scripts/saveVersion.sh
@@ -22,10 +22,11 @@ unset LANG
 unset LC_CTYPE
 unset LC_TIME
 version=$1
-src_dir=$2
-revision=$3
-branch=$4
-url=$5
+shortversion=$2
+src_dir=$3
+revision=$4
+branch=$5
+url=$6
 user=`whoami`
 date=`date`
 dir=`pwd`
@@ -68,14 +69,16 @@ url=`echo $url | tr -d '\r'`
 srcChecksum=`echo $srcChecksum | tr -d '\r'`
 
 cat << EOF | \
-  sed -e "s/VERSION/$version/" -e "s/USER/$user/" -e "s/DATE/$date/" \
+  sed -e "s/VERSION/$version/" -e "s/SHORTVERSION/$shortversion/" \
+      -e "s/USER/$user/" -e "s/DATE/$date/" \
       -e "s|URL|$url|" -e "s/REV/$revision/" \
       -e "s|BRANCH|$branch|" -e "s/SRCCHECKSUM/$srcChecksum/" \
       > $src_dir/gen/org/apache/hive/common/package-info.java
 /*
  * Generated by saveVersion.sh
  */
-@HiveVersionAnnotation(version="VERSION", revision="REV", branch="BRANCH",
+@HiveVersionAnnotation(version="VERSION", shortVersion="SHORTVERSION",
+                         revision="REV", branch="BRANCH",
                          user="USER", date="DATE", url="URL",
                          srcChecksum="SRCCHECKSUM")
 package org.apache.hive.common;
diff --git a/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreSchemaInfo.java b/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreSchemaInfo.java
index c4514685d3..810d26d90f 100644
--- a/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreSchemaInfo.java
+++ b/metastore/src/java/org/apache/hadoop/hive/metastore/MetaStoreSchemaInfo.java
@@ -130,9 +130,9 @@ private String generateUpgradeFileName(String fileVersion) {
     return UPGRADE_FILE_PREFIX +  fileVersion + "." + dbType + SQL_FILE_EXTENSION;
   }
 
-  // Current hive version, remove the 'SNAPSHOT' part if needed
+  // Current hive version, in majorVersion.minorVersion.changeVersion format
   public static String getHiveSchemaVersion() {
-    return HiveVersionInfo.getVersion().replace("-SNAPSHOT", "");
+    return HiveVersionInfo.getShortVersion();
   }
 
 }
