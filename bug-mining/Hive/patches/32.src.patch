diff --git a/CHANGES.txt b/CHANGES.txt
index 65d835cbe7..532d893f29 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -52,6 +52,8 @@ Trunk (unreleased changes)
 
   BUG FIXES
 
+    HIVE-188. Hive CLI quits when stdout is closed. (zshao)
+
     HIVE-104. Tables with at least 1 non-string columns to use DynamicSerDe.
     (zshao)
 
diff --git a/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java b/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java
index 037131d1e3..0c217396b1 100644
--- a/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java
+++ b/cli/src/java/org/apache/hadoop/hive/cli/CliDriver.java
@@ -178,6 +178,9 @@ public int processCmd(String cmd) {
           out.println(r);
       	}
         res.clear();
+        if (out.checkError()) {
+          break;
+        }
       }
       
       int cret = qp.close();
