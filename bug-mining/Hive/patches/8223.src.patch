diff --git a/common/src/java/org/apache/hadoop/hive/conf/HiveConfUtil.java b/common/src/java/org/apache/hadoop/hive/conf/HiveConfUtil.java
index 7985758932..179ee83b10 100644
--- a/common/src/java/org/apache/hadoop/hive/conf/HiveConfUtil.java
+++ b/common/src/java/org/apache/hadoop/hive/conf/HiveConfUtil.java
@@ -35,10 +35,12 @@
 import java.util.Collection;
 import java.util.Collections;
 import java.util.Comparator;
+import java.util.Enumeration;
 import java.util.HashSet;
 import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
+import java.util.Properties;
 import java.util.Set;
 import java.util.StringTokenizer;
 import java.util.stream.Stream;
@@ -276,4 +278,13 @@ private static void addKeyValuePair(Configuration jobConf, String property, Stri
     String propertyValue = HiveStringUtils.insertValue(keyName, newKeyValue, existingValue);
     jobConf.set(property, propertyValue);
   }
+
+  @SuppressWarnings("unchecked")
+  public static void copyFromProperties(Properties propSource, HiveConf confTarget) {
+    Enumeration<String> props = (Enumeration<String>) propSource.propertyNames();
+    while (props.hasMoreElements()) {
+      String key = props.nextElement();
+      confTarget.set(key, propSource.getProperty(key));
+    }
+  }
 }
diff --git a/llap-server/src/java/org/apache/hadoop/hive/llap/cli/service/AsyncTaskCreateUdfFile.java b/llap-server/src/java/org/apache/hadoop/hive/llap/cli/service/AsyncTaskCreateUdfFile.java
index 430471e10e..32b84fd7af 100644
--- a/llap-server/src/java/org/apache/hadoop/hive/llap/cli/service/AsyncTaskCreateUdfFile.java
+++ b/llap-server/src/java/org/apache/hadoop/hive/llap/cli/service/AsyncTaskCreateUdfFile.java
@@ -90,7 +90,7 @@ public Void call() throws Exception {
 
   private Set<String> downloadPermanentFunctions() throws HiveException, URISyntaxException, IOException {
     Map<String, String> udfs = new HashMap<String, String>();
-    HiveConf hiveConf = new HiveConf();
+    HiveConf hiveConf = new HiveConf(conf);
     // disable expensive operations on the metastore
     hiveConf.setBoolean(MetastoreConf.ConfVars.INIT_METADATA_COUNT_ENABLED.getVarname(), false);
     hiveConf.setBoolean(MetastoreConf.ConfVars.METRICS_ENABLED.getVarname(), false);
diff --git a/llap-server/src/java/org/apache/hadoop/hive/llap/cli/service/LlapServiceDriver.java b/llap-server/src/java/org/apache/hadoop/hive/llap/cli/service/LlapServiceDriver.java
index dae41b6eeb..e0a02a50cb 100644
--- a/llap-server/src/java/org/apache/hadoop/hive/llap/cli/service/LlapServiceDriver.java
+++ b/llap-server/src/java/org/apache/hadoop/hive/llap/cli/service/LlapServiceDriver.java
@@ -27,6 +27,7 @@
 import org.apache.hadoop.fs.Path;
 import org.apache.hadoop.fs.permission.FsPermission;
 import org.apache.hadoop.hive.conf.HiveConf;
+import org.apache.hadoop.hive.conf.HiveConfUtil;
 import org.apache.hadoop.hive.conf.HiveConf.ConfVars;
 import org.apache.hadoop.hive.llap.LlapUtil;
 import org.apache.hadoop.hive.llap.cli.LlapSliderUtils;
@@ -73,6 +74,9 @@ public LlapServiceDriver(LlapServiceCommandLine cl) throws Exception {
 
     SessionState ss = SessionState.get();
     this.conf = (ss != null) ? ss.getConf() : new HiveConf(SessionState.class);
+
+    HiveConfUtil.copyFromProperties(cl.getConfig(), this.conf);
+
     if (conf == null) {
       throw new Exception("Cannot load any configuration to run command");
     }
