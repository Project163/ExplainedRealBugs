diff --git a/ql/src/java/org/apache/hadoop/hive/ql/plan/VectorPTFDesc.java b/ql/src/java/org/apache/hadoop/hive/ql/plan/VectorPTFDesc.java
index 696c520696..b8c7fb5135 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/plan/VectorPTFDesc.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/plan/VectorPTFDesc.java
@@ -431,7 +431,7 @@ public static VectorPTFEvaluatorBase[] getEvaluators(VectorPTFDesc vectorPTFDesc
 
     VectorPTFEvaluatorBase[] evaluators = new VectorPTFEvaluatorBase[evaluatorCount];
     for (int i = 0; i < evaluatorCount; i++) {
-      String functionName = evaluatorFunctionNames[i];
+      String functionName = evaluatorFunctionNames[i].toLowerCase();
       boolean isDistinct = evaluatorsAreDistinct[i];
       WindowFrameDef windowFrameDef = evaluatorWindowFrameDefs[i];
       SupportedFunctionType functionType = VectorPTFDesc.supportedFunctionsMap.get(functionName);
diff --git a/ql/src/test/queries/clientpositive/vector_ptf_1.q b/ql/src/test/queries/clientpositive/vector_ptf_1.q
index 578cfbdf9f..75d905f0d7 100644
--- a/ql/src/test/queries/clientpositive/vector_ptf_1.q
+++ b/ql/src/test/queries/clientpositive/vector_ptf_1.q
@@ -22,4 +22,6 @@ select age, name, avg(gpa), sum(age) over (partition by name)
 from studentnull100
 group by age, name;
 
-EXPLAIN VECTORIZATION ONLY SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100;
+EXPLAIN VECTORIZATION ONLY
+SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100;
+SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100;
diff --git a/ql/src/test/results/clientpositive/llap/vector_ptf_1.q.out b/ql/src/test/results/clientpositive/llap/vector_ptf_1.q.out
index ed28e50b2c..7aed406d38 100644
--- a/ql/src/test/results/clientpositive/llap/vector_ptf_1.q.out
+++ b/ql/src/test/results/clientpositive/llap/vector_ptf_1.q.out
@@ -296,11 +296,13 @@ NULL	sarah ovid	1.62	NULL
 26	yuri robinson	1.22	26
 69	yuri zipper	NULL	69
 56	zach robinson	0.86	56
-PREHOOK: query: EXPLAIN VECTORIZATION ONLY SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100
+PREHOOK: query: EXPLAIN VECTORIZATION ONLY
+SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100
 PREHOOK: type: QUERY
 PREHOOK: Input: default@studentnull100
 #### A masked pattern was here ####
-POSTHOOK: query: EXPLAIN VECTORIZATION ONLY SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100
+POSTHOOK: query: EXPLAIN VECTORIZATION ONLY
+SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100
 POSTHOOK: type: QUERY
 POSTHOOK: Input: default@studentnull100
 #### A masked pattern was here ####
@@ -343,3 +345,112 @@ STAGE PLANS:
   Stage: Stage-0
     Fetch Operator
 
+PREHOOK: query: SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100
+PREHOOK: type: QUERY
+PREHOOK: Input: default@studentnull100
+#### A masked pattern was here ####
+POSTHOOK: query: SELECT ROW_NUMBER() OVER(order by age) AS rn FROM studentnull100
+POSTHOOK: type: QUERY
+POSTHOOK: Input: default@studentnull100
+#### A masked pattern was here ####
+rn
+1
+2
+3
+4
+5
+6
+7
+8
+9
+10
+11
+12
+13
+14
+15
+16
+17
+18
+19
+20
+21
+22
+23
+24
+25
+26
+27
+28
+29
+30
+31
+32
+33
+34
+35
+36
+37
+38
+39
+40
+41
+42
+43
+44
+45
+46
+47
+48
+49
+50
+51
+52
+53
+54
+55
+56
+57
+58
+59
+60
+61
+62
+63
+64
+65
+66
+67
+68
+69
+70
+71
+72
+73
+74
+75
+76
+77
+78
+79
+80
+81
+82
+83
+84
+85
+86
+87
+88
+89
+90
+91
+92
+93
+94
+95
+96
+97
+98
+99
+100
