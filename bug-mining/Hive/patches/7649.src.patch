diff --git a/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapZookeeperRegistryImpl.java b/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapZookeeperRegistryImpl.java
index 92c47716b3..cf4e7b8640 100644
--- a/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapZookeeperRegistryImpl.java
+++ b/llap-client/src/java/org/apache/hadoop/hive/llap/registry/impl/LlapZookeeperRegistryImpl.java
@@ -153,9 +153,10 @@ public String register() throws IOException {
             HiveConf.getVarWithoutType(conf, ConfVars.LLAP_DAEMON_TASK_SCHEDULER_WAIT_QUEUE_SIZE));
     populateConfigValues(capacityValues.entrySet());
 
-    String uniqueId = registerServiceRecord(daemonZkRecord);
+    String uniqueId = UNIQUE_ID.toString();
     long znodeCreationTimeout = 120;
 
+    initializeWithoutRegisteringInternal();
     // Create a znode under the rootNamespace parent for this instance of the server
     try {
       slotZnode = new SlotZnode(
@@ -171,6 +172,7 @@ public String register() throws IOException {
       throw (e instanceof IOException) ? (IOException)e : new IOException(e);
     }
 
+    registerServiceRecord(daemonZkRecord, uniqueId);
     LOG.info("Registered node. Created a znode on ZooKeeper for LLAP instance: rpc: {}, " +
             "shuffle: {}, webui: {}, mgmt: {}, znodePath: {}", rpcEndpoint, getShuffleEndpoint(),
             getServicesEndpoint(), getMngEndpoint(), getRegistrationZnodePath());
diff --git a/llap-client/src/java/org/apache/hadoop/hive/registry/impl/ZkRegistryBase.java b/llap-client/src/java/org/apache/hadoop/hive/registry/impl/ZkRegistryBase.java
index 2b21baaea4..249fa49db2 100644
--- a/llap-client/src/java/org/apache/hadoop/hive/registry/impl/ZkRegistryBase.java
+++ b/llap-client/src/java/org/apache/hadoop/hive/registry/impl/ZkRegistryBase.java
@@ -339,7 +339,7 @@ protected final void updateServiceRecord(
   }
 
 
-  final void initializeWithoutRegisteringInternal() throws IOException {
+  final protected void initializeWithoutRegisteringInternal() throws IOException {
     // Create a znode under the rootNamespace parent for this instance of the server
     try {
       try {
