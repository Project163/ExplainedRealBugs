diff --git a/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java b/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java
index 86df74d26d..a89db685e8 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java
@@ -556,7 +556,12 @@ private FunctionInfo getQualifiedFunctionInfoUnderLock(String qualifiedName) thr
     // and the current thread may not be able to resolve the UDF. Test for this condition
     // and if necessary load the JARs in this thread.
     if (isNative && info != null && info.isPersistent()) {
-      return registerToSessionRegistry(qualifiedName, info);
+      try {
+        info.getFunctionClass();
+      } catch (Exception e) {
+        return registerToSessionRegistry(qualifiedName, info);
+      }
+      return info;
     }
     if (info != null || !isNative) {
       return info; // We have the UDF, or we are in the session registry (or both).
