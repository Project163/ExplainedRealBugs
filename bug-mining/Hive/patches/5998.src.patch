diff --git a/service/src/java/org/apache/hive/service/server/HiveServer2.java b/service/src/java/org/apache/hive/service/server/HiveServer2.java
index 717c4d6b5e..89f7356c0d 100644
--- a/service/src/java/org/apache/hive/service/server/HiveServer2.java
+++ b/service/src/java/org/apache/hive/service/server/HiveServer2.java
@@ -186,26 +186,26 @@ public void run() {
       throw new RuntimeException("Failed to get metastore connection", e);
     }
 
-    WMFullResourcePlan resourcePlan;
-    try {
-      resourcePlan = sessionHive.getActiveResourcePlan();
-    } catch (HiveException e) {
-      throw new RuntimeException(e);
-    }
+    String wmQueue = HiveConf.getVar(hiveConf, ConfVars.HIVE_SERVER2_TEZ_INTERACTIVE_QUEUE);
+    if (wmQueue != null && !wmQueue.isEmpty()) {
+      WMFullResourcePlan resourcePlan;
+      try {
+        resourcePlan = sessionHive.getActiveResourcePlan();
+      } catch (HiveException e) {
+        throw new RuntimeException(e);
+      }
 
-    if (resourcePlan == null) {
-      if (!HiveConf.getBoolVar(hiveConf, ConfVars.HIVE_IN_TEST)) {
-        LOG.error("Cannot activate workload management - no active resource plan");
-      } else {
-        LOG.info("Creating a default resource plan for test");
-        resourcePlan = createTestResourcePlan();
+      if (resourcePlan == null) {
+        if (!HiveConf.getBoolVar(hiveConf, ConfVars.HIVE_IN_TEST)) {
+          LOG.error("Cannot activate workload management - no active resource plan");
+        } else {
+          LOG.info("Creating a default resource plan for test");
+          resourcePlan = createTestResourcePlan();
+        }
       }
-    }
 
-    if (resourcePlan != null) {
-      // Initialize workload management.
-      String wmQueue = HiveConf.getVar(hiveConf, ConfVars.HIVE_SERVER2_TEZ_INTERACTIVE_QUEUE);
-      if (wmQueue != null && !wmQueue.isEmpty()) {
+      if (resourcePlan != null) {
+        // Initialize workload management.
         LOG.info("Initializing workload management");
         try {
           wm = WorkloadManager.create(wmQueue, hiveConf, resourcePlan);
