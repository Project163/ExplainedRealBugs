diff --git a/storage-api/pom.xml b/storage-api/pom.xml
index 4095ed2c6b..4767be64cd 100644
--- a/storage-api/pom.xml
+++ b/storage-api/pom.xml
@@ -32,13 +32,22 @@
   </properties>
 
   <dependencies>
-    <!-- test inter-project -->
+    <!-- inter-project -->
+    <dependency>
+      <groupId>commons-lang</groupId>
+      <artifactId>commons-lang</artifactId>
+      <version>${commons-lang.version}</version>
+    </dependency>
     <dependency>
       <groupId>org.apache.hadoop</groupId>
       <artifactId>hadoop-common</artifactId>
       <version>${hadoop.version}</version>
-      <optional>true</optional>
+      <scope>provided</scope>
       <exclusions>
+        <exclusion>
+          <groupId>com.google.guava</groupId>
+          <artifactId>guava</artifactId>
+        </exclusion>
         <exclusion>
           <groupId>commmons-logging</groupId>
           <artifactId>commons-logging</artifactId>
@@ -52,7 +61,20 @@
           <artifactId>slf4j-log4j12</artifactId>
         </exclusion>
       </exclusions>
-   </dependency>
+    </dependency>
+    <dependency>
+      <groupId>org.slf4j</groupId>
+      <artifactId>slf4j-api</artifactId>
+      <version>${slf4j.version}</version>
+    </dependency>
+
+    <!-- test inter-project -->
+    <dependency>
+      <groupId>com.google.guava</groupId>
+      <artifactId>guava</artifactId>
+      <version>${guava.version}</version>
+      <scope>test</scope>
+    </dependency>
     <dependency>
       <groupId>junit</groupId>
       <artifactId>junit</artifactId>
diff --git a/storage-api/src/java/org/apache/hadoop/hive/common/DiskRangeInfo.java b/storage-api/src/java/org/apache/hadoop/hive/common/DiskRangeInfo.java
index 86b838c510..e5025bf140 100644
--- a/storage-api/src/java/org/apache/hadoop/hive/common/DiskRangeInfo.java
+++ b/storage-api/src/java/org/apache/hadoop/hive/common/DiskRangeInfo.java
@@ -17,12 +17,11 @@
  */
 package org.apache.hadoop.hive.common;
 
+import java.util.ArrayList;
 import java.util.List;
 
 import org.apache.hadoop.hive.common.io.DiskRange;
 
-import com.google.common.collect.Lists;
-
 /**
  * Disk range information class containing disk ranges and total length.
  */
@@ -31,7 +30,7 @@ public class DiskRangeInfo {
   long totalLength;
 
   public DiskRangeInfo(int indexBaseOffset) {
-    this.diskRanges = Lists.newArrayList();
+    this.diskRanges = new ArrayList<>();
     // Some data is missing from the stream for PPD uncompressed read (because index offset is
     // relative to the entire stream and we only read part of stream if RGs are filtered; unlike
     // with compressed data where PPD only filters CBs, so we always get full CB, and index offset
diff --git a/storage-api/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java b/storage-api/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java
index 33b70c24cd..4a745e4bf3 100644
--- a/storage-api/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java
+++ b/storage-api/src/java/org/apache/hadoop/hive/ql/util/JavaDataModel.java
@@ -18,8 +18,6 @@
 
 package org.apache.hadoop.hive.ql.util;
 
-import com.google.common.annotations.VisibleForTesting;
-
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
 
@@ -257,7 +255,7 @@ private static final class LazyHolder {
     private static final JavaDataModel MODEL_FOR_SYSTEM = getModelForSystem();
   }
 
-  @VisibleForTesting
+  //@VisibleForTesting
   static JavaDataModel getModelForSystem() {
     String props = null;
     try {
diff --git a/storage-api/src/java/org/apache/hive/common/util/BloomFilter.java b/storage-api/src/java/org/apache/hive/common/util/BloomFilter.java
index bb0b8f27bb..e60690d97f 100644
--- a/storage-api/src/java/org/apache/hive/common/util/BloomFilter.java
+++ b/storage-api/src/java/org/apache/hive/common/util/BloomFilter.java
@@ -21,8 +21,6 @@
 import java.util.Arrays;
 import java.util.List;
 
-import static com.google.common.base.Preconditions.checkArgument;
-
 /**
  * BloomFilter is a probabilistic data structure for set membership check. BloomFilters are
  * highly space efficient when compared to using a HashSet. Because of the probabilistic nature of
@@ -54,6 +52,12 @@ public BloomFilter(long expectedEntries) {
     this(expectedEntries, DEFAULT_FPP);
   }
 
+  static void checkArgument(boolean expression, String message) {
+    if (!expression) {
+      throw new IllegalArgumentException(message);
+    }
+  }
+
   public BloomFilter(long expectedEntries, double fpp) {
     checkArgument(expectedEntries > 0, "expectedEntries should be > 0");
     checkArgument(fpp > 0.0 && fpp < 1.0, "False positive probability should be > 0.0 & < 1.0");
