diff --git a/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java b/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java
index 1a6f338372..a29efed42a 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/exec/ExplainTask.java
@@ -65,13 +65,15 @@ static public JSONObject getJSONPlan(PrintStream out, ExplainWork work)
     }
 
     // Print out the parse AST
-    String jsonAST = outputAST(work.getAstStringTree(), out, jsonOutput, 0);
-    if (out != null) {
-      out.println();
-    }
+    if (work.getAstStringTree() != null) {
+      String jsonAST = outputAST(work.getAstStringTree(), out, jsonOutput, 0);
+      if (out != null) {
+        out.println();
+      }
 
-    if (jsonOutput) {
-      outJSONObject.put("ABSTRACT SYNTAX TREE", jsonAST);
+      if (jsonOutput) {
+        outJSONObject.put("ABSTRACT SYNTAX TREE", jsonAST);
+      }
     }
 
     JSONObject jsonDependencies = outputDependencies(out, jsonOutput,
