diff --git a/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSpace.java b/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSpace.java
index 3ff87810d5..bc39e5ba1b 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSpace.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/udf/UDFSpace.java
@@ -44,7 +44,7 @@ public Text evaluate(IntWritable n) {
       len = 0;
     }
 
-    if (result.getBytes().length >= len) {
+    if (result.getLength() >= len) {
       result.set(result.getBytes(), 0, len);
     } else {
       byte[] spaces = new byte[len];
diff --git a/ql/src/test/queries/clientpositive/udf_space2.q b/ql/src/test/queries/clientpositive/udf_space2.q
new file mode 100644
index 0000000000..b44b005c73
--- /dev/null
+++ b/ql/src/test/queries/clientpositive/udf_space2.q
@@ -0,0 +1,6 @@
+DESCRIBE FUNCTION space;
+DESCRIBE FUNCTION EXTENDED space;
+
+create table udf_space(i int);
+insert into udf_space values (5),(6),(7),(8),(9),(10),(11),(12),(13),(14);
+select i, SPACE(i) from udf_space;
diff --git a/ql/src/test/results/clientpositive/llap/udf_space2.q.out b/ql/src/test/results/clientpositive/llap/udf_space2.q.out
new file mode 100644
index 0000000000..3456ed78a2
--- /dev/null
+++ b/ql/src/test/results/clientpositive/llap/udf_space2.q.out
@@ -0,0 +1,50 @@
+PREHOOK: query: DESCRIBE FUNCTION space
+PREHOOK: type: DESCFUNCTION
+POSTHOOK: query: DESCRIBE FUNCTION space
+POSTHOOK: type: DESCFUNCTION
+space(n) - returns n spaces
+PREHOOK: query: DESCRIBE FUNCTION EXTENDED space
+PREHOOK: type: DESCFUNCTION
+POSTHOOK: query: DESCRIBE FUNCTION EXTENDED space
+POSTHOOK: type: DESCFUNCTION
+space(n) - returns n spaces
+Example:
+   > SELECT space(2) FROM src LIMIT 1;
+  '  '
+Function class:org.apache.hadoop.hive.ql.udf.UDFSpace
+Function type:BUILTIN
+PREHOOK: query: create table udf_space(i int)
+PREHOOK: type: CREATETABLE
+PREHOOK: Output: database:default
+PREHOOK: Output: default@udf_space
+POSTHOOK: query: create table udf_space(i int)
+POSTHOOK: type: CREATETABLE
+POSTHOOK: Output: database:default
+POSTHOOK: Output: default@udf_space
+PREHOOK: query: insert into udf_space values (5),(6),(7),(8),(9),(10),(11),(12),(13),(14)
+PREHOOK: type: QUERY
+PREHOOK: Input: _dummy_database@_dummy_table
+PREHOOK: Output: default@udf_space
+POSTHOOK: query: insert into udf_space values (5),(6),(7),(8),(9),(10),(11),(12),(13),(14)
+POSTHOOK: type: QUERY
+POSTHOOK: Input: _dummy_database@_dummy_table
+POSTHOOK: Output: default@udf_space
+POSTHOOK: Lineage: udf_space.i SCRIPT []
+PREHOOK: query: select i, SPACE(i) from udf_space
+PREHOOK: type: QUERY
+PREHOOK: Input: default@udf_space
+#### A masked pattern was here ####
+POSTHOOK: query: select i, SPACE(i) from udf_space
+POSTHOOK: type: QUERY
+POSTHOOK: Input: default@udf_space
+#### A masked pattern was here ####
+5	     
+6	      
+7	       
+8	        
+9	         
+10	          
+11	           
+12	            
+13	             
+14	              
