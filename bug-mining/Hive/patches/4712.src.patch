diff --git a/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java b/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java
index 9a3ba0404d..a872809a01 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/processors/SetProcessor.java
@@ -24,8 +24,10 @@
 
 import static org.apache.hadoop.hive.conf.SystemVariables.*;
 
+import java.util.HashSet;
 import java.util.Map;
 import java.util.Properties;
+import java.util.Set;
 import java.util.SortedMap;
 import java.util.TreeMap;
 
@@ -41,6 +43,7 @@
 import org.slf4j.LoggerFactory;
 
 import com.google.common.collect.Lists;
+import com.google.common.collect.Sets;
 
 /**
  * SetProcessor.
@@ -50,6 +53,7 @@ public class SetProcessor implements CommandProcessor {
   private static final Logger LOG = LoggerFactory.getLogger(SetProcessor.class);
 
   private static final String prefix = "set: ";
+  private static final Set<String> removedConfigs = Sets.newHashSet("hive.mapred.supports.subdirectories","hive.enforce.sorting","hive.enforce.bucketing");
 
   public static boolean getBoolean(String value) {
     if (value.equals("on") || value.equals("true")) {
@@ -202,7 +206,7 @@ public Map<String, String> getHiveVariable() {
           message.append("' FAILED in validation : ").append(fail).append('.');
           throw new IllegalArgumentException(message.toString());
         }
-      } else if (key.startsWith("hive.")) {
+      } else if (!removedConfigs.contains(key) && key.startsWith("hive.")) {
         throw new IllegalArgumentException("hive configuration " + key + " does not exists.");
       }
     }
diff --git a/ql/src/test/queries/clientpositive/set_metaconf.q b/ql/src/test/queries/clientpositive/set_metaconf.q
index ede3c02848..a679489146 100644
--- a/ql/src/test/queries/clientpositive/set_metaconf.q
+++ b/ql/src/test/queries/clientpositive/set_metaconf.q
@@ -1,3 +1,4 @@
+set hive.mapred.supports.subdirectories=true;
 set metaconf:hive.metastore.try.direct.sql;
 
 set metaconf:hive.metastore.try.direct.sql=false;
