diff --git a/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapServiceDriver.java b/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapServiceDriver.java
index 23531a330c..3eaaed716e 100644
--- a/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapServiceDriver.java
+++ b/llap-server/src/java/org/apache/hadoop/hive/llap/cli/LlapServiceDriver.java
@@ -398,7 +398,7 @@ public Void call() throws Exception {
               org.apache.logging.log4j.core.Appender.class, // log4j-core
               org.apache.logging.slf4j.Log4jLogger.class, // log4j-slf4j
               // log4j-1.2-API needed for NDC
-              org.apache.log4j.NDC.class,
+              org.apache.log4j.config.Log4j1ConfigurationFactory.class,
               io.netty.util.NetUtil.class, // netty4
               org.jboss.netty.util.NetUtil.class //netty3
               };
