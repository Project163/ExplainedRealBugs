diff --git a/CHANGES.txt b/CHANGES.txt
index 5f074c1197..649909a858 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -76,6 +76,9 @@ Trunk (unreleased changes)
     HIVE-366. Make id a non-bean attribute so that TestParse does not depend on that.
     (namit)
 
+    HIVE-342. Fix TestMTQueries
+    (Prasad Chakka via namit)
+
 Release 0.2.0 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java b/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java
index db5571e3db..4a293259d3 100644
--- a/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java
+++ b/ql/src/test/org/apache/hadoop/hive/ql/QTestUtil.java
@@ -159,8 +159,6 @@ public QTestUtil(String outDir, String logDir) throws Exception {
     this.logDir = logDir;
     conf = new HiveConf(Driver.class);
 
-    CliSessionState ss = new CliSessionState(conf);
-    SessionState.start(ss);
     // System.out.println(conf.toString());
     testFiles = conf.get("test.data.files").replace('\\', '/').replace("c:", "");
 
@@ -373,8 +371,9 @@ public void cliInit(String tname, boolean recreate) throws Exception {
       createSources();
     }
 
-    //CliSessionState ss = new CliSessionState(conf);
-    SessionState ss = SessionState.get();
+    CliSessionState ss = new CliSessionState(conf);
+    SessionState.start(ss);
+    assert ss!= null;
     ss.in = System.in;
 
     File qf = new File(outDir, tname);
