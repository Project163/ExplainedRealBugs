diff --git a/serde/ivy.xml b/serde/ivy.xml
index ab4ac30c24..040df5bac4 100644
--- a/serde/ivy.xml
+++ b/serde/ivy.xml
@@ -14,7 +14,7 @@
    See the License for the specific language governing permissions and
    limitations under the License.
 -->
-<ivy-module version="2.0">
+<ivy-module version="2.0" xmlns:m="http://ant.apache.org/ivy/maven">
   <info organisation="${hive.ivy.org}" module="hive-serde" revision="${version}">
     <license name="The Apache Software License, Version 2.0" url="http://www.apache.org/licenses/LICENSE-2.0.txt" />
     <description homepage="http://hive.apache.org">
@@ -51,6 +51,20 @@
                 transitive="false"/>
 
     <!-- Test Dependencies -->
+    <dependency org="org.apache.hadoop" name="hadoop-common"
+                rev="${hadoop.version.ant-internal}"
+                conf="hadoop23.test->default">
+      <artifact name="hadoop-common" type="tests" ext="jar" m:classifier="tests"/>
+      <exclude org="commons-daemon" module="commons-daemon"/><!--bad POM-->
+      <exclude org="org.apache.commons" module="commons-daemon"/><!--bad POM-->
+    </dependency>
+    <dependency org="org.apache.hadoop" name="hadoop-hdfs"
+                rev="${hadoop.version.ant-internal}"
+                conf="hadoop23.test->default">
+      <artifact name="hadoop-hdfs" type="tests" ext="jar" m:classifier="tests"/>
+      <exclude org="commons-daemon" module="commons-daemon"/><!--bad POM-->
+      <exclude org="org.apache.commons" module="commons-daemon"/><!--bad POM-->
+    </dependency>
     <dependency org="junit" name="junit" rev="${junit.version}" conf="test->default" />
   </dependencies>
 </ivy-module>
diff --git a/shims/ivy.xml b/shims/ivy.xml
index f30e111d27..8667a71023 100644
--- a/shims/ivy.xml
+++ b/shims/ivy.xml
@@ -47,7 +47,8 @@
     <dependency org="org.apache.hadoop" name="hadoop-common"
                 rev="${hadoop-0.23.version}"
                 conf="hadoop0.23.shim->default">
-      <include type="jar"/>
+      <artifact name="hadoop-common" ext="jar" />
+      <artifact name="hadoop-common" type="tests" ext="jar" m:classifier="tests"/>
       <exclude org="commons-daemon" module="commons-daemon"/><!--bad POM-->
       <exclude org="org.apache.commons" module="commons-daemon"/><!--bad POM-->
     </dependency>
