diff --git a/metastore/scripts/upgrade/hive/hive-schema-4.0.0.hive.sql b/metastore/scripts/upgrade/hive/hive-schema-4.0.0.hive.sql
index d0654a55a6..dfc1f993e3 100644
--- a/metastore/scripts/upgrade/hive/hive-schema-4.0.0.hive.sql
+++ b/metastore/scripts/upgrade/hive/hive-schema-4.0.0.hive.sql
@@ -1466,7 +1466,7 @@ SELECT DISTINCT
     HL.`HL_BLOCKEDBY_INT_ID`
 FROM SYS.`HIVE_LOCKS` AS HL;
 
-CREATE EXTERNAL TABLE IF NOT EXISTS `REPLICATION_METRICS` (
+CREATE EXTERNAL TABLE IF NOT EXISTS `REPLICATION_METRICS_ORIG` (
     `SCHEDULED_EXECUTION_ID` bigint,
     `POLICY_NAME` string,
     `DUMP_EXECUTION_ID` bigint,
@@ -1488,7 +1488,7 @@ TBLPROPERTIES (
 FROM \"REPLICATION_METRICS\""
 );
 
-CREATE OR REPLACE VIEW `REPLICATION_METRICS_VIEW` (
+CREATE OR REPLACE VIEW `REPLICATION_METRICS` (
     `SCHEDULED_EXECUTION_ID`,
     `POLICY_NAME`,
     `DUMP_EXECUTION_ID`,
@@ -1501,7 +1501,7 @@ SELECT DISTINCT
     RM.`DUMP_EXECUTION_ID`,
     RM.`METADATA`,
     deserialize(RM.`PROGRESS`, RM.`MESSAGE_FORMAT`)
-FROM SYS.`REPLICATION_METRICS` AS RM;
+FROM SYS.`REPLICATION_METRICS_ORIG` AS RM;
 
 CREATE EXTERNAL TABLE IF NOT EXISTS `NOTIFICATION_LOG` (
   `NL_ID` bigint,
diff --git a/metastore/scripts/upgrade/hive/upgrade-3.1.0-to-4.0.0.hive.sql b/metastore/scripts/upgrade/hive/upgrade-3.1.0-to-4.0.0.hive.sql
index fb765757a7..ca2d8395b3 100644
--- a/metastore/scripts/upgrade/hive/upgrade-3.1.0-to-4.0.0.hive.sql
+++ b/metastore/scripts/upgrade/hive/upgrade-3.1.0-to-4.0.0.hive.sql
@@ -527,7 +527,10 @@ SELECT DISTINCT
     HL.`HL_BLOCKEDBY_INT_ID`
 FROM SYS.`HIVE_LOCKS` AS HL;
 
-CREATE EXTERNAL TABLE IF NOT EXISTS `REPLICATION_METRICS` (
+DROP TABLE IF EXISTS `REPLICATION_METRICS`;
+DROP VIEW IF EXISTS `REPLICATION_METRICS_VIEW`;
+
+CREATE EXTERNAL TABLE IF NOT EXISTS `REPLICATION_METRICS_ORIG` (
     `SCHEDULED_EXECUTION_ID` bigint,
     `POLICY_NAME` string,
     `DUMP_EXECUTION_ID` bigint,
@@ -549,7 +552,7 @@ TBLPROPERTIES (
 FROM \"REPLICATION_METRICS\""
 );
 
-CREATE OR REPLACE VIEW `REPLICATION_METRICS_VIEW` (
+CREATE OR REPLACE VIEW `REPLICATION_METRICS` (
     `SCHEDULED_EXECUTION_ID`,
     `POLICY_NAME`,
     `DUMP_EXECUTION_ID`,
@@ -562,7 +565,7 @@ SELECT DISTINCT
     RM.`DUMP_EXECUTION_ID`,
     RM.`METADATA`,
     deserialize(RM.`PROGRESS`, RM.`MESSAGE_FORMAT`)
-FROM SYS.`REPLICATION_METRICS` AS RM;
+FROM SYS.`REPLICATION_METRICS_ORIG` AS RM;
 
 CREATE EXTERNAL TABLE IF NOT EXISTS `NOTIFICATION_LOG` (
   `NL_ID` bigint,
diff --git a/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFDeserialize.java b/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFDeserialize.java
index 9fa375a87c..4bcec5363b 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFDeserialize.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/udf/generic/GenericUDFDeserialize.java
@@ -72,9 +72,6 @@ public ObjectInspector initialize(ObjectInspector[] arguments)
     public Object evaluate(DeferredObject[] arguments) throws HiveException {
         String value = PrimitiveObjectInspectorUtils.getString(arguments[0].get(), stringOI);
         String compressionFormat = PrimitiveObjectInspectorUtils.getString(arguments[1].get(), this.compressionFormat);
-        if (value == null || StringUtils.isEmpty(compressionFormat)) {
-            return value;
-        }
         MessageEncoder encoder;
         try {
             encoder = MessageFactory.getInstance(compressionFormat);
diff --git a/ql/src/test/queries/clientpositive/replication_metrics_ingest.q b/ql/src/test/queries/clientpositive/replication_metrics_ingest.q
index a03aa864c3..35e7796590 100644
--- a/ql/src/test/queries/clientpositive/replication_metrics_ingest.q
+++ b/ql/src/test/queries/clientpositive/replication_metrics_ingest.q
@@ -1,10 +1,7 @@
---! qt:disabled:HIVE-25719
 --! qt:authorizer
 --! qt:scheduledqueryservice
 --! qt:sysdb
 
-set hive.repl.rootdir=${system:test.tmp.dir}/repl;
-
 dfs ${system:test.dfs.mkdir} ${system:test.tmp.dir}/repl/sentinel;
 dfs -rmr  ${system:test.tmp.dir}/repl;
 dfs ${system:test.dfs.mkdir} ${system:test.tmp.dir}/repl;
@@ -42,6 +39,7 @@ alter scheduled query repl2 disabled;
 
 show databases;
 
-select * from sys.replication_metrics;
+select POLICY_NAME, DUMP_EXECUTION_ID, METADATA, PROGRESS, MESSAGE_FORMAT
+from sys.replication_metrics_orig order by dump_execution_id;
 
-select * from sys.replication_metrics_view order by dump_execution_id;
+select POLICY_NAME, DUMP_EXECUTION_ID, METADATA, PROGRESS from sys.replication_metrics order by dump_execution_id;
diff --git a/ql/src/test/queries/clientpositive/udf_deserialize.q b/ql/src/test/queries/clientpositive/udf_deserialize.q
index b1ae43b407..d02d33b911 100644
--- a/ql/src/test/queries/clientpositive/udf_deserialize.q
+++ b/ql/src/test/queries/clientpositive/udf_deserialize.q
@@ -4,5 +4,4 @@ DESCRIBE FUNCTION EXTENDED deserialize;
 
 SELECT deserialize("H4sIAAAAAAAA/ytJLS4BAAx+f9gEAAAA", "gzip");
 SELECT deserialize("H4sIAAAAAAAA/ytJLS4BAAx+f9gEAAAA", "gzip(json-2.0)");
-SELECT deserialize("test", "");
 SELECT deserialize("{unitTest:'udf-deserialize'}", "json-0.2");
diff --git a/ql/src/test/results/clientpositive/llap/replication_metrics_ingest.q.out b/ql/src/test/results/clientpositive/llap/replication_metrics_ingest.q.out
index 6d6272501b..841638252d 100644
--- a/ql/src/test/results/clientpositive/llap/replication_metrics_ingest.q.out
+++ b/ql/src/test/results/clientpositive/llap/replication_metrics_ingest.q.out
@@ -72,25 +72,27 @@ destination
 information_schema
 src
 sys
-PREHOOK: query: select * from sys.replication_metrics
+PREHOOK: query: select POLICY_NAME, DUMP_EXECUTION_ID, METADATA, PROGRESS, MESSAGE_FORMAT
+from sys.replication_metrics_orig order by dump_execution_id
 PREHOOK: type: QUERY
-PREHOOK: Input: sys@replication_metrics
+PREHOOK: Input: sys@replication_metrics_orig
 #### A masked pattern was here ####
-POSTHOOK: query: select * from sys.replication_metrics
+POSTHOOK: query: select POLICY_NAME, DUMP_EXECUTION_ID, METADATA, PROGRESS, MESSAGE_FORMAT
+from sys.replication_metrics_orig order by dump_execution_id
 POSTHOOK: type: QUERY
-POSTHOOK: Input: sys@replication_metrics
+POSTHOOK: Input: sys@replication_metrics_orig
 #### A masked pattern was here ####
-1	repl1	0	{"dbName":"src","replicationType":"BOOTSTRAP","stagingDir":"dummyDir","lastReplId":0,"failoverMetadataLoc":null,"failoverEventId":0}	H4sIAAAAAAAAAG2PwQ6CMBBE/2XPHOTKTSsmJojEwskQ02gDJKUl2+2J9N8tEohEb7sz83ayI1gS5CwkwCvGUs4hmqRGBuk+gha9DN4tLbLHsboUs/sHQCq7KbqLQOrXOveSsHtubp2qnJXnaz6BT4coNTHjNH3yZEioZfXRCpX7Q5b+EvGWiH0d6hENZqYpBLWQaKdUBCgHxbUYbGsW9MsID9lZ8LV/A7NIwGISAQAA	gzip(json-2.0)
-2	repl2	1	{"dbName":"destination","replicationType":"BOOTSTRAP","stagingDir":"dummyDir","lastReplId":0,"failoverMetadataLoc":null,"failoverEventId":0}	H4sIAAAAAAAAAG2PwQqDMBBE/yVnD/XqzUYLBbFS9VSkBF1UiImsm5Pk3xu1CtLedmb3zbAzm0iQmVjA8pLzOM+Zt1gtOOs1MyUGcLtnnCXv5BFG2/YPgFT0y+nFY6CaYx6AsK9PWbcy5cX9kS5gbRBBEddG0XpPmoTcpfUOqAivSfxL+GfCt5WrR9SY6DYT1LFAGSk9hjDKXIlx6vSOumgzcARB0KzVTkYgYZP2y7hfpy3EVvYDvpfiNy0BAAA=	gzip(json-2.0)
-PREHOOK: query: select * from sys.replication_metrics_view order by dump_execution_id
+repl1	0	{"dbName":"src","replicationType":"BOOTSTRAP","stagingDir":"dummyDir","lastReplId":0,"failoverMetadataLoc":null,"failoverEventId":0}	H4sIAAAAAAAAAG2PwQ6CMBBE/2XPHOTKTSsmJojEwskQ02gDJKUl2+2J9N8tEohEb7sz83ayI1gS5CwkwCvGUs4hmqRGBuk+gha9DN4tLbLHsboUs/sHQCq7KbqLQOrXOveSsHtubp2qnJXnaz6BT4coNTHjNH3yZEioZfXRCpX7Q5b+EvGWiH0d6hENZqYpBLWQaKdUBCgHxbUYbGsW9MsID9lZ8LV/A7NIwGISAQAA	gzip(json-2.0)
+repl2	1	{"dbName":"destination","replicationType":"BOOTSTRAP","stagingDir":"dummyDir","lastReplId":0,"failoverMetadataLoc":null,"failoverEventId":0}	H4sIAAAAAAAAAG2PwQqDMBBE/yVnD/XqzUYLBbFS9VSkBF1UiImsm5Pk3xu1CtLedmb3zbAzm0iQmVjA8pLzOM+Zt1gtOOs1MyUGcLtnnCXv5BFG2/YPgFT0y+nFY6CaYx6AsK9PWbcy5cX9kS5gbRBBEddG0XpPmoTcpfUOqAivSfxL+GfCt5WrR9SY6DYT1LFAGSk9hjDKXIlx6vSOumgzcARB0KzVTkYgYZP2y7hfpy3EVvYDvpfiNy0BAAA=	gzip(json-2.0)
+PREHOOK: query: select POLICY_NAME, DUMP_EXECUTION_ID, METADATA, PROGRESS from sys.replication_metrics order by dump_execution_id
 PREHOOK: type: QUERY
 PREHOOK: Input: sys@replication_metrics
-PREHOOK: Input: sys@replication_metrics_view
+PREHOOK: Input: sys@replication_metrics_orig
 #### A masked pattern was here ####
-POSTHOOK: query: select * from sys.replication_metrics_view order by dump_execution_id
+POSTHOOK: query: select POLICY_NAME, DUMP_EXECUTION_ID, METADATA, PROGRESS from sys.replication_metrics order by dump_execution_id
 POSTHOOK: type: QUERY
 POSTHOOK: Input: sys@replication_metrics
-POSTHOOK: Input: sys@replication_metrics_view
+POSTHOOK: Input: sys@replication_metrics_orig
 #### A masked pattern was here ####
-1	repl1	0	{"dbName":"src","replicationType":"BOOTSTRAP","stagingDir":"dummyDir","lastReplId":0,"failoverMetadataLoc":null,"failoverEventId":0}	{"status":"SUCCESS","stages":[{"name":"REPL_DUMP","status":"SUCCESS","startTime":0,"endTime":0,"metrics":[{"name":"FUNCTIONS","currentCount":0,"totalCount":0},{"name":"TABLES","currentCount":1,"totalCount":1}],"errorLogPath":null,"replSnapshotCount":null,"replStats":null}]}
-2	repl2	1	{"dbName":"destination","replicationType":"BOOTSTRAP","stagingDir":"dummyDir","lastReplId":0,"failoverMetadataLoc":null,"failoverEventId":0}	{"status":"SUCCESS","stages":[{"name":"REPL_LOAD","status":"SUCCESS","startTime":0,"endTime":0,"metrics":[{"name":"FUNCTIONS","currentCount":0,"totalCount":0},{"name":"TABLES","currentCount":1,"totalCount":1}],"errorLogPath":null,"replSnapshotCount":{"numCreated":0,"numDeleted":0},"replStats":null}]}
+repl1	0	{"dbName":"src","replicationType":"BOOTSTRAP","stagingDir":"dummyDir","lastReplId":0,"failoverMetadataLoc":null,"failoverEventId":0}	{"status":"SUCCESS","stages":[{"name":"REPL_DUMP","status":"SUCCESS","startTime":0,"endTime":0,"metrics":[{"name":"FUNCTIONS","currentCount":0,"totalCount":0},{"name":"TABLES","currentCount":1,"totalCount":1}],"errorLogPath":null,"replSnapshotCount":null,"replStats":null}]}
+repl2	1	{"dbName":"destination","replicationType":"BOOTSTRAP","stagingDir":"dummyDir","lastReplId":0,"failoverMetadataLoc":null,"failoverEventId":0}	{"status":"SUCCESS","stages":[{"name":"REPL_LOAD","status":"SUCCESS","startTime":0,"endTime":0,"metrics":[{"name":"FUNCTIONS","currentCount":0,"totalCount":0},{"name":"TABLES","currentCount":1,"totalCount":1}],"errorLogPath":null,"replSnapshotCount":{"numCreated":0,"numDeleted":0},"replStats":null}]}
diff --git a/ql/src/test/results/clientpositive/llap/resourceplan.q.out b/ql/src/test/results/clientpositive/llap/resourceplan.q.out
index 2b190da102..8fcf133a3a 100644
--- a/ql/src/test/results/clientpositive/llap/resourceplan.q.out
+++ b/ql/src/test/results/clientpositive/llap/resourceplan.q.out
@@ -210,10 +210,10 @@ sys	replication_metrics			hive_test_user	USER	DELETE	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	INSERT	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	SELECT	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	UPDATE	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	DELETE	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	INSERT	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	SELECT	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	UPDATE	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	DELETE	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	INSERT	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	SELECT	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	UPDATE	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	DELETE	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	INSERT	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	SELECT	true	-1	hive_test_user
diff --git a/ql/src/test/results/clientpositive/llap/strict_managed_tables_sysdb.q.out b/ql/src/test/results/clientpositive/llap/strict_managed_tables_sysdb.q.out
index 5eb6e90926..ab08793855 100644
--- a/ql/src/test/results/clientpositive/llap/strict_managed_tables_sysdb.q.out
+++ b/ql/src/test/results/clientpositive/llap/strict_managed_tables_sysdb.q.out
@@ -300,10 +300,10 @@ sys	replication_metrics			hive_test_user	USER	DELETE	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	INSERT	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	SELECT	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	UPDATE	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	DELETE	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	INSERT	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	SELECT	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	UPDATE	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	DELETE	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	INSERT	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	SELECT	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	UPDATE	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	DELETE	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	INSERT	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	SELECT	true	-1	hive_test_user
@@ -494,7 +494,7 @@ PREHOOK: Output: sys@partition_params
 PREHOOK: Output: sys@partition_stats_view
 PREHOOK: Output: sys@partitions
 PREHOOK: Output: sys@replication_metrics
-PREHOOK: Output: sys@replication_metrics_view
+PREHOOK: Output: sys@replication_metrics_orig
 PREHOOK: Output: sys@role_map
 PREHOOK: Output: sys@roles
 PREHOOK: Output: sys@scheduled_executions
@@ -556,7 +556,7 @@ POSTHOOK: Output: sys@partition_params
 POSTHOOK: Output: sys@partition_stats_view
 POSTHOOK: Output: sys@partitions
 POSTHOOK: Output: sys@replication_metrics
-POSTHOOK: Output: sys@replication_metrics_view
+POSTHOOK: Output: sys@replication_metrics_orig
 POSTHOOK: Output: sys@role_map
 POSTHOOK: Output: sys@roles
 POSTHOOK: Output: sys@scheduled_executions
diff --git a/ql/src/test/results/clientpositive/llap/sysdb.q.out b/ql/src/test/results/clientpositive/llap/sysdb.q.out
index 80b6b49ab9..9013de190a 100644
--- a/ql/src/test/results/clientpositive/llap/sysdb.q.out
+++ b/ql/src/test/results/clientpositive/llap/sysdb.q.out
@@ -248,10 +248,10 @@ sys	replication_metrics			hive_test_user	USER	DELETE	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	INSERT	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	SELECT	true	-1	hive_test_user
 sys	replication_metrics			hive_test_user	USER	UPDATE	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	DELETE	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	INSERT	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	SELECT	true	-1	hive_test_user
-sys	replication_metrics_view			hive_test_user	USER	UPDATE	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	DELETE	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	INSERT	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	SELECT	true	-1	hive_test_user
+sys	replication_metrics_orig			hive_test_user	USER	UPDATE	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	DELETE	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	INSERT	true	-1	hive_test_user
 sys	role_map			hive_test_user	USER	SELECT	true	-1	hive_test_user
@@ -719,16 +719,16 @@ partitions	part_name
 partitions	sd_id
 partitions	tbl_id
 replication_metrics	dump_execution_id
-replication_metrics	message_format
 replication_metrics	metadata
 replication_metrics	policy_name
 replication_metrics	progress
 replication_metrics	scheduled_execution_id
-replication_metrics_view	dump_execution_id
-replication_metrics_view	metadata
-replication_metrics_view	policy_name
-replication_metrics_view	progress
-replication_metrics_view	scheduled_execution_id
+replication_metrics_orig	dump_execution_id
+replication_metrics_orig	message_format
+replication_metrics_orig	metadata
+replication_metrics_orig	policy_name
+replication_metrics_orig	progress
+replication_metrics_orig	scheduled_execution_id
 role_map	add_time
 role_map	grant_option
 role_map	grantor
@@ -1635,8 +1635,8 @@ default	sys	partition_keys	BASE_TABLE	NULL	NULL	NULL	NULL	NULL	YES	NO	NULL
 default	sys	partition_params	BASE_TABLE	NULL	NULL	NULL	NULL	NULL	YES	NO	NULL
 default	sys	partition_stats_view	VIEW	NULL	NULL	NULL	NULL	NULL	NO	NO	NULL
 default	sys	partitions	BASE_TABLE	NULL	NULL	NULL	NULL	NULL	YES	NO	NULL
-default	sys	replication_metrics	BASE_TABLE	NULL	NULL	NULL	NULL	NULL	YES	NO	NULL
-default	sys	replication_metrics_view	VIEW	NULL	NULL	NULL	NULL	NULL	NO	NO	NULL
+default	sys	replication_metrics	VIEW	NULL	NULL	NULL	NULL	NULL	NO	NO	NULL
+default	sys	replication_metrics_orig	BASE_TABLE	NULL	NULL	NULL	NULL	NULL	YES	NO	NULL
 default	sys	role_map	BASE_TABLE	NULL	NULL	NULL	NULL	NULL	YES	NO	NULL
 default	sys	roles	BASE_TABLE	NULL	NULL	NULL	NULL	NULL	YES	NO	NULL
 default	sys	scheduled_executions	BASE_TABLE	NULL	NULL	NULL	NULL	NULL	YES	NO	NULL
@@ -1760,7 +1760,7 @@ information_schema	views
 sys	compactions
 sys	locks
 sys	partition_stats_view
-sys	replication_metrics_view
+sys	replication_metrics
 sys	table_stats_view
 sys	transactions
 sys	version
diff --git a/ql/src/test/results/clientpositive/llap/udf_deserialize.q.out b/ql/src/test/results/clientpositive/llap/udf_deserialize.q.out
index b8bc16aca1..5a9f6701f2 100644
--- a/ql/src/test/results/clientpositive/llap/udf_deserialize.q.out
+++ b/ql/src/test/results/clientpositive/llap/udf_deserialize.q.out
@@ -32,15 +32,6 @@ POSTHOOK: type: QUERY
 POSTHOOK: Input: _dummy_database@_dummy_table
 #### A masked pattern was here ####
 test
-PREHOOK: query: SELECT deserialize("test", "")
-PREHOOK: type: QUERY
-PREHOOK: Input: _dummy_database@_dummy_table
-#### A masked pattern was here ####
-POSTHOOK: query: SELECT deserialize("test", "")
-POSTHOOK: type: QUERY
-POSTHOOK: Input: _dummy_database@_dummy_table
-#### A masked pattern was here ####
-test
 PREHOOK: query: SELECT deserialize("{unitTest:'udf-deserialize'}", "json-0.2")
 PREHOOK: type: QUERY
 PREHOOK: Input: _dummy_database@_dummy_table
diff --git a/standalone-metastore/metastore-server/src/main/sql/derby/hive-schema-4.0.0.derby.sql b/standalone-metastore/metastore-server/src/main/sql/derby/hive-schema-4.0.0.derby.sql
index 5c49580e94..1257ab967a 100644
--- a/standalone-metastore/metastore-server/src/main/sql/derby/hive-schema-4.0.0.derby.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/derby/hive-schema-4.0.0.derby.sql
@@ -811,7 +811,7 @@ CREATE TABLE "APP"."REPLICATION_METRICS" (
   "RM_METADATA" varchar(4000),
   "RM_PROGRESS" varchar(10000),
   "RM_START_TIME" integer not null,
-  "MESSAGE_FORMAT" VARCHAR(16),
+  "MESSAGE_FORMAT" VARCHAR(16) DEFAULT 'json-0.2',
   PRIMARY KEY("RM_SCHEDULED_EXECUTION_ID")
 );
 
diff --git a/standalone-metastore/metastore-server/src/main/sql/derby/upgrade-3.2.0-to-4.0.0.derby.sql b/standalone-metastore/metastore-server/src/main/sql/derby/upgrade-3.2.0-to-4.0.0.derby.sql
index 37e42d80b0..073f849211 100644
--- a/standalone-metastore/metastore-server/src/main/sql/derby/upgrade-3.2.0-to-4.0.0.derby.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/derby/upgrade-3.2.0-to-4.0.0.derby.sql
@@ -106,7 +106,7 @@ CREATE TABLE "APP"."REPLICATION_METRICS" (
   "RM_METADATA" varchar(4000),
   "RM_PROGRESS" varchar(10000),
   "RM_START_TIME" integer not null,
-  "MESSAGE_FORMAT" VARCHAR(16),
+  "MESSAGE_FORMAT" VARCHAR(16) DEFAULT 'json-0.2',
   PRIMARY KEY("RM_SCHEDULED_EXECUTION_ID")
 );
 
diff --git a/standalone-metastore/metastore-server/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql b/standalone-metastore/metastore-server/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql
index 72a402a2a3..440fba8494 100644
--- a/standalone-metastore/metastore-server/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/mssql/hive-schema-4.0.0.mssql.sql
@@ -1373,7 +1373,7 @@ CREATE TABLE "REPLICATION_METRICS" (
   "RM_METADATA" varchar(max),
   "RM_PROGRESS" varchar(max),
   "RM_START_TIME" integer NOT NULL,
-  "MESSAGE_FORMAT" nvarchar(16),
+  "MESSAGE_FORMAT" nvarchar(16) DEFAULT 'json-0.2',
 );
 
 -- Create indexes for the replication metrics table
diff --git a/standalone-metastore/metastore-server/src/main/sql/mssql/upgrade-3.2.0-to-4.0.0.mssql.sql b/standalone-metastore/metastore-server/src/main/sql/mssql/upgrade-3.2.0-to-4.0.0.mssql.sql
index 5460d7ac81..2382052d64 100644
--- a/standalone-metastore/metastore-server/src/main/sql/mssql/upgrade-3.2.0-to-4.0.0.mssql.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/mssql/upgrade-3.2.0-to-4.0.0.mssql.sql
@@ -132,7 +132,7 @@ CREATE TABLE "REPLICATION_METRICS" (
   "RM_START_TIME" integer NOT NULL
 );
 
-ALTER TABLE "REPLICATION_METRICS" ADD "MESSAGE_FORMAT" VARCHAR(16);
+ALTER TABLE "REPLICATION_METRICS" ADD "MESSAGE_FORMAT" VARCHAR(16) DEFAULT 'json-0.2';
 
 -- Create indexes for the replication metrics table
 CREATE INDEX "POLICY_IDX" ON "REPLICATION_METRICS" ("RM_POLICY");
diff --git a/standalone-metastore/metastore-server/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql b/standalone-metastore/metastore-server/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql
index 2ab4cf6f7b..d526b2f988 100644
--- a/standalone-metastore/metastore-server/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/mysql/hive-schema-4.0.0.mysql.sql
@@ -1276,7 +1276,7 @@ CREATE TABLE IF NOT EXISTS REPLICATION_METRICS (
   RM_METADATA varchar(4000),
   RM_PROGRESS varchar(10000),
   RM_START_TIME integer NOT NULL,
-  MESSAGE_FORMAT varchar(16),
+  MESSAGE_FORMAT varchar(16) DEFAULT 'json-0.2',
   PRIMARY KEY(RM_SCHEDULED_EXECUTION_ID)
 ) ENGINE=InnoDB DEFAULT CHARSET=latin1;
 
diff --git a/standalone-metastore/metastore-server/src/main/sql/mysql/upgrade-3.2.0-to-4.0.0.mysql.sql b/standalone-metastore/metastore-server/src/main/sql/mysql/upgrade-3.2.0-to-4.0.0.mysql.sql
index 89b6a9168d..34962094a5 100644
--- a/standalone-metastore/metastore-server/src/main/sql/mysql/upgrade-3.2.0-to-4.0.0.mysql.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/mysql/upgrade-3.2.0-to-4.0.0.mysql.sql
@@ -109,7 +109,7 @@ ALTER TABLE REPLICATION_METRICS MODIFY RM_PROGRESS varchar(24000);
 
 ALTER TABLE REPLICATION_METRICS MODIFY RM_PROGRESS varchar(10000);
 
-ALTER TABLE REPLICATION_METRICS ADD COLUMN `MESSAGE_FORMAT` VARCHAR(16);
+ALTER TABLE REPLICATION_METRICS ADD COLUMN `MESSAGE_FORMAT` VARCHAR(16) DEFAULT 'json-0.2';
 
 -- Create indexes for the replication metrics table
 CREATE INDEX POLICY_IDX ON REPLICATION_METRICS (RM_POLICY);
diff --git a/standalone-metastore/metastore-server/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql b/standalone-metastore/metastore-server/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql
index 055f1011e0..dc0ec42d89 100644
--- a/standalone-metastore/metastore-server/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/oracle/hive-schema-4.0.0.oracle.sql
@@ -1271,7 +1271,7 @@ CREATE TABLE "REPLICATION_METRICS" (
   "RM_METADATA" varchar2(4000),
   "RM_PROGRESS" varchar2(4000),
   "RM_START_TIME" integer NOT NULL,
-  "MESSAGE_FORMAT" VARCHAR(16)
+  "MESSAGE_FORMAT" VARCHAR(16) DEFAULT 'json-0.2',
 );
 
 --Create indexes for the replication metrics table
diff --git a/standalone-metastore/metastore-server/src/main/sql/oracle/upgrade-3.2.0-to-4.0.0.oracle.sql b/standalone-metastore/metastore-server/src/main/sql/oracle/upgrade-3.2.0-to-4.0.0.oracle.sql
index cce71a3007..b7818d0dce 100644
--- a/standalone-metastore/metastore-server/src/main/sql/oracle/upgrade-3.2.0-to-4.0.0.oracle.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/oracle/upgrade-3.2.0-to-4.0.0.oracle.sql
@@ -101,7 +101,7 @@ CREATE TABLE "REPLICATION_METRICS" (
   "RM_START_TIME" integer NOT NULL
 );
 
-ALTER TABLE "REPLICATION_METRICS" ADD "MESSAGE_FORMAT" VARCHAR(16);
+ALTER TABLE "REPLICATION_METRICS" ADD "MESSAGE_FORMAT" VARCHAR(16) DEFAULT 'json-0.2';
 
 --Create indexes for the replication metrics table
 CREATE INDEX POLICY_IDX ON "REPLICATION_METRICS" ("RM_POLICY");
diff --git a/standalone-metastore/metastore-server/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql b/standalone-metastore/metastore-server/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql
index 639f18d34c..147261ca86 100644
--- a/standalone-metastore/metastore-server/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/postgres/hive-schema-4.0.0.postgres.sql
@@ -1983,7 +1983,7 @@ CREATE TABLE "REPLICATION_METRICS" (
   "RM_METADATA" varchar(4000),
   "RM_PROGRESS" varchar(10000),
   "RM_START_TIME" integer NOT NULL,
-  "MESSAGE_FORMAT" VARCHAR(16),
+  "MESSAGE_FORMAT" VARCHAR(16) DEFAULT 'json-0.2',
   PRIMARY KEY("RM_SCHEDULED_EXECUTION_ID")
 );
 
diff --git a/standalone-metastore/metastore-server/src/main/sql/postgres/upgrade-3.2.0-to-4.0.0.postgres.sql b/standalone-metastore/metastore-server/src/main/sql/postgres/upgrade-3.2.0-to-4.0.0.postgres.sql
index a2c0a8119e..9dd47864a9 100644
--- a/standalone-metastore/metastore-server/src/main/sql/postgres/upgrade-3.2.0-to-4.0.0.postgres.sql
+++ b/standalone-metastore/metastore-server/src/main/sql/postgres/upgrade-3.2.0-to-4.0.0.postgres.sql
@@ -233,7 +233,7 @@ ALTER TABLE "REPLICATION_METRICS" ALTER "RM_PROGRESS" TYPE varchar(24000);
 
 ALTER TABLE "REPLICATION_METRICS" ALTER "RM_PROGRESS" TYPE varchar(10000);
 
-ALTER TABLE "REPLICATION_METRICS" ADD "MESSAGE_FORMAT" varchar(16);
+ALTER TABLE "REPLICATION_METRICS" ADD "MESSAGE_FORMAT" varchar(16) DEFAULT 'json-0.2';
 
 --Create indexes for the replication metrics table
 CREATE INDEX "POLICY_IDX" ON "REPLICATION_METRICS" ("RM_POLICY");
