diff --git a/bin/ext/debug.sh b/bin/ext/debug.sh
index ff7bc0bc92..a20dd310be 100644
--- a/bin/ext/debug.sh
+++ b/bin/ext/debug.sh
@@ -39,6 +39,11 @@ set_debug_param(){
       childSuspend)
       child_suspend="suspend=${pair[1]}"
       ;;
+      swapSuspend)
+      tmp=$child_suspend
+      child_suspend=$main_suspend
+      main_suspend=$tmp
+      ;;
       *)
       ;;
   esac
@@ -89,5 +94,6 @@ debug_help(){
   echo "port=<port_number>          Port on which main JVM listens for debug connection. Default: 8000"
   echo "mainSuspend=<y|n>           Should main JVM wait with execution for the debugger to connect. Default: y"
   echo "childSuspend=<y|n>          Should child JVMs wait with execution for the debugger to connect. Default: n"
+  echo "swapSuspend                 Swaps suspend options between main and child JVMs"
   echo
 }
diff --git a/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java b/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java
index 4eaf2c9a5c..a3e40f77cc 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/exec/MapRedTask.java
@@ -303,7 +303,7 @@ public int execute(DriverContext driverContext) {
     }
   }
 
-  private void configureDebugVariablesForChildJVM(Map<String, String> environmentVariables) {
+  static void configureDebugVariablesForChildJVM(Map<String, String> environmentVariables) {
     // this method contains various asserts to warn if environment variables are in a buggy state
     assert environmentVariables.containsKey(HADOOP_CLIENT_OPTS)
         && environmentVariables.get(HADOOP_CLIENT_OPTS) != null : HADOOP_CLIENT_OPTS
@@ -539,7 +539,7 @@ public static String isEligibleForLocalMode(HiveConf conf,
 
     return null;
   }
-  
+
   @Override
   public Operator<? extends Serializable> getReducer() {
     return getWork().getReducer();
diff --git a/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java b/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java
index dc084d01e1..d2b12a754f 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/exec/MapredLocalTask.java
@@ -200,6 +200,11 @@ public int execute(DriverContext driverContext) {
       } else {
         variables.put(HADOOP_OPTS_KEY, hadoopOpts);
       }
+
+      if(variables.containsKey(MapRedTask.HIVE_DEBUG_RECURSIVE)) {
+        MapRedTask.configureDebugVariablesForChildJVM(variables);
+      }
+
       env = new String[variables.size()];
       int pos = 0;
       for (Map.Entry<String, String> entry : variables.entrySet()) {
@@ -458,7 +463,7 @@ public boolean isMapRedLocalTask() {
   public Collection<Operator<? extends Serializable>> getTopOperators() {
     return getWork().getAliasToWork().values();
   }
-  
+
   @Override
   public String getName() {
     return "MAPREDLOCAL";
