diff --git a/hbase-handler/src/test/templates/TestHBaseCliDriver.vm b/hbase-handler/src/test/templates/TestHBaseCliDriver.vm
index 3e1619aed4..6b4ac8eb4b 100644
--- a/hbase-handler/src/test/templates/TestHBaseCliDriver.vm
+++ b/hbase-handler/src/test/templates/TestHBaseCliDriver.vm
@@ -100,7 +100,7 @@ public class $className extends TestCase {
     try {
       System.out.println("Begin query: " + "$fname");
 
-      qt.addFile("$qf.getCanonicalPath()");
+      qt.addFile("$qfilesMap.get($fname)");
 
       if (qt.shouldBeSkipped("$fname")) {
         System.out.println("Test $fname skipped");
diff --git a/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm b/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm
index 49f308f15f..4708ac542e 100644
--- a/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm
+++ b/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm
@@ -84,7 +84,7 @@ public class $className extends TestCase {
     try {
       System.out.println("Begin query: " + "$fname");
 
-      qt.addFile("$qf.getCanonicalPath()");
+      qt.addFile("$qfilesMap.get($fname)");
 
       if (qt.shouldBeSkipped("$fname")) {
         System.out.println("Test $fname skipped");
