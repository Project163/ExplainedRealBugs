diff --git a/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java b/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java
index c800a214bc..05926b5a55 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/exec/Registry.java
@@ -558,16 +558,7 @@ private FunctionInfo getQualifiedFunctionInfoUnderLock(String qualifiedName) thr
     // and the current thread may not be able to resolve the UDF. Test for this condition
     // and if necessary load the JARs in this thread.
     if (isNative && info != null && info.isPersistent()) {
-      Class<?> functionClass;
-      try {
-        functionClass = info.getFunctionClass();
-      } catch (Exception e) {
-        return registerToSessionRegistry(qualifiedName, info);
-      }
-      if (functionClass == null) {
-        return registerToSessionRegistry(qualifiedName, info);
-      }
-      return info;
+      return registerToSessionRegistry(qualifiedName, info);
     }
     if (info != null || !isNative) {
       return info; // We have the UDF, or we are in the session registry (or both).
diff --git a/ql/src/java/org/apache/hadoop/hive/ql/util/ResourceDownloader.java b/ql/src/java/org/apache/hadoop/hive/ql/util/ResourceDownloader.java
index 14102b5108..ff084ac91a 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/util/ResourceDownloader.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/util/ResourceDownloader.java
@@ -103,8 +103,11 @@ private String downloadResource(URI srcUri, String subDir, boolean convertToUnix
     File destinationDir = (subDir == null) ? resourceDir : new File(resourceDir, subDir);
     ensureDirectory(destinationDir);
     File destinationFile = new File(destinationDir, new Path(srcUri.toString()).getName());
-    FileSystem fs = FileSystem.get(srcUri, conf);
     String dest = destinationFile.getCanonicalPath();
+    if (destinationFile.exists()) {
+      return dest;
+    }
+    FileSystem fs = FileSystem.get(srcUri, conf);
     fs.copyToLocalFile(new Path(srcUri.toString()), new Path(dest));
     // add "execute" permission to downloaded resource file (needed when loading dll file)
     FileUtil.chmod(dest, "ugo+rx", true);
