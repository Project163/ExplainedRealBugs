diff --git a/ql/src/test/queries/clientpositive/index_in_db.q b/ql/src/test/queries/clientpositive/index_in_db.q
new file mode 100644
index 0000000000..253870cb68
--- /dev/null
+++ b/ql/src/test/queries/clientpositive/index_in_db.q
@@ -0,0 +1,13 @@
+set hive.optimize.index.filter=true; 
+drop database if exists index_test_db cascade;
+-- Test selecting selecting from a table that is backed by an index
+-- create table, index in a db, then set default db as current db, and try selecting
+
+create database index_test_db;
+
+use index_test_db;
+create table testtb (id int, name string);
+create index id_index on table testtb (id) as 'COMPACT' WITH DEFERRED REBUILD  in table testdb_id_idx_tb;
+
+use default;
+select * from index_test_db.testtb where id>2;
diff --git a/ql/src/test/results/clientpositive/index_in_db.q.out b/ql/src/test/results/clientpositive/index_in_db.q.out
new file mode 100644
index 0000000000..53faf99e0a
--- /dev/null
+++ b/ql/src/test/results/clientpositive/index_in_db.q.out
@@ -0,0 +1,42 @@
+PREHOOK: query: drop database if exists index_test_db cascade
+PREHOOK: type: DROPDATABASE
+POSTHOOK: query: drop database if exists index_test_db cascade
+POSTHOOK: type: DROPDATABASE
+PREHOOK: query: -- Test selecting selecting from a table that is backed by an index
+-- create table, index in a db, then set default db as current db, and try selecting
+
+create database index_test_db
+PREHOOK: type: CREATEDATABASE
+POSTHOOK: query: -- Test selecting selecting from a table that is backed by an index
+-- create table, index in a db, then set default db as current db, and try selecting
+
+create database index_test_db
+POSTHOOK: type: CREATEDATABASE
+PREHOOK: query: use index_test_db
+PREHOOK: type: SWITCHDATABASE
+POSTHOOK: query: use index_test_db
+POSTHOOK: type: SWITCHDATABASE
+PREHOOK: query: create table testtb (id int, name string)
+PREHOOK: type: CREATETABLE
+PREHOOK: Output: database:index_test_db
+POSTHOOK: query: create table testtb (id int, name string)
+POSTHOOK: type: CREATETABLE
+POSTHOOK: Output: database:index_test_db
+POSTHOOK: Output: index_test_db@testtb
+PREHOOK: query: create index id_index on table testtb (id) as 'COMPACT' WITH DEFERRED REBUILD  in table testdb_id_idx_tb
+PREHOOK: type: CREATEINDEX
+POSTHOOK: query: create index id_index on table testtb (id) as 'COMPACT' WITH DEFERRED REBUILD  in table testdb_id_idx_tb
+POSTHOOK: type: CREATEINDEX
+POSTHOOK: Output: index_test_db@testdb_id_idx_tb
+PREHOOK: query: use default
+PREHOOK: type: SWITCHDATABASE
+POSTHOOK: query: use default
+POSTHOOK: type: SWITCHDATABASE
+PREHOOK: query: select * from index_test_db.testtb where id>2
+PREHOOK: type: QUERY
+PREHOOK: Input: index_test_db@testtb
+#### A masked pattern was here ####
+POSTHOOK: query: select * from index_test_db.testtb where id>2
+POSTHOOK: type: QUERY
+POSTHOOK: Input: index_test_db@testtb
+#### A masked pattern was here ####
