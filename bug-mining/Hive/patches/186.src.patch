diff --git a/CHANGES.txt b/CHANGES.txt
index f5b7ac1f56..0f075e12b8 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -273,6 +273,9 @@ Trunk - Unreleased
     HIVE-560. Column Pruning for mapjoins
     (He Yongqiang via namit)
 
+    HIVE-583. Fix spurious 'default database not found'.
+    (Prasad Chakka via zshao)
+
 Release 0.3.1 - Unreleased
 
   INCOMPATIBLE CHANGES
diff --git a/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java b/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java
index 9a5a1910d1..ab5942f64c 100644
--- a/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java
+++ b/metastore/src/java/org/apache/hadoop/hive/metastore/ObjectStore.java
@@ -305,9 +305,9 @@ private MDatabase getMDatabase(String name) throws NoSuchObjectException {
       if(!commited) {
         rollbackTransaction();
       }
-      if(db == null) {
-        throw new NoSuchObjectException("There is no database named " + name);
-      }
+    }
+    if(db == null) {
+      throw new NoSuchObjectException("There is no database named " + name);
     }
     return db;
   }
