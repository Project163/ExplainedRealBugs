diff --git a/bin/hive.cmd b/bin/hive.cmd
index 7171751626..c2e985356a 100644
--- a/bin/hive.cmd
+++ b/bin/hive.cmd
@@ -236,6 +236,21 @@ if defined HIVE_CLASSPATH (
   set HADOOP_CLASSPATH=%HADOOP_CLASSPATH%;%HIVE_CLASSPATH%
 )
 
+@rem set hbase components
+if defined HBASE_HOME (
+  if not defined HBASE_CONF_DIR (
+    if exist %HBASE_HOME%\conf (
+      set HBASE_CONF_DIR=%HBASE_HOME%\conf
+    )
+  )
+  if defined HBASE_CONF_DIR (
+    call :AddToHadoopClassPath %HBASE_CONF_DIR%	
+  ) 
+  if exist %HBASE_HOME%\lib (
+    call :AddToHadoopClassPath %HBASE_HOME%\lib\*
+  ) 
+)
+
 if defined AUX_PARAM (
         set HIVE_OPTS=%HIVE_OPTS% -hiveconf hive.aux.jars.path="%AUX_PARAM%"
 	set AUX_JARS_CMD_LINE="-libjars %AUX_PARAM%"
@@ -359,3 +374,12 @@ if not defined AUX_PARAM (
 	)
 )
 goto :EOF
+
+:AddToHadoopClassPath
+if defined HADOOP_CLASSPATH (
+  set HADOOP_CLASSPATH=%HADOOP_CLASSPATH%;%1
+) else (
+    set HADOOP_CLASSPATH=%1
+  )  
+)
+goto :EOF
