diff --git a/metastore/scripts/upgrade/mysql/011-HIVE-3649.mysql.sql b/metastore/scripts/upgrade/mysql/011-HIVE-3649.mysql.sql
index 864dc3c018..a5775650ef 100644
--- a/metastore/scripts/upgrade/mysql/011-HIVE-3649.mysql.sql
+++ b/metastore/scripts/upgrade/mysql/011-HIVE-3649.mysql.sql
@@ -1,2 +1,11 @@
 SELECT '< HIVE-3649: Support stored as directories >' AS ' ';
-ALTER TABLE `SDS` ADD `IS_STOREDASSUBDIRECTORIES` bit(1) ;
+-- Add new not null column into SDS table in three steps
+
+-- Step 1: Add the column allowing null
+ALTER TABLE `SDS` ADD `IS_STOREDASSUBDIRECTORIES` bit(1);
+
+ -- Step 2: Replace the null with default value (false)
+UPDATE `SDS` SET `IS_STOREDASSUBDIRECTORIES` = false;
+
+-- Step 3: Alter the column to disallow null values
+ALTER TABLE `SDS` MODIFY COLUMN `IS_STOREDASSUBDIRECTORIES` bit(1) NOT NULL;
