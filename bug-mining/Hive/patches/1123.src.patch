diff --git a/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java b/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java
index 8300f2ff74..2d2e71d167 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/ppd/ExprWalkerProcFactory.java
@@ -93,7 +93,7 @@ public Object process(Node nd, Stack<Node> stack, NodeProcessorCtx procCtx,
         ctx.addAlias(exp, colAlias[0]);
       } else {
         if (colAlias == null) {
-          assert false;
+          return false;
         }
         ctx.addAlias(colref, colAlias[0]);
       }
diff --git a/ql/src/test/queries/clientpositive/test_boolean_whereclause.q b/ql/src/test/queries/clientpositive/test_boolean_whereclause.q
new file mode 100644
index 0000000000..d2da5ac174
--- /dev/null
+++ b/ql/src/test/queries/clientpositive/test_boolean_whereclause.q
@@ -0,0 +1,9 @@
+create table if not exists test_boolean(dummy tinyint);
+insert overwrite table test_boolean  select 1 from src limit 1;
+
+SELECT 1
+FROM (
+SELECT TRUE AS flag
+FROM test_boolean
+) a
+WHERE flag;
diff --git a/ql/src/test/results/clientpositive/test_boolean_whereclause.q.out b/ql/src/test/results/clientpositive/test_boolean_whereclause.q.out
new file mode 100644
index 0000000000..c8ea5cdffb
--- /dev/null
+++ b/ql/src/test/results/clientpositive/test_boolean_whereclause.q.out
@@ -0,0 +1,34 @@
+PREHOOK: query: create table if not exists test_boolean(dummy tinyint)
+PREHOOK: type: CREATETABLE
+POSTHOOK: query: create table if not exists test_boolean(dummy tinyint)
+POSTHOOK: type: CREATETABLE
+POSTHOOK: Output: default@test_boolean
+PREHOOK: query: insert overwrite table test_boolean  select 1 from src limit 1
+PREHOOK: type: QUERY
+PREHOOK: Input: default@src
+PREHOOK: Output: default@test_boolean
+POSTHOOK: query: insert overwrite table test_boolean  select 1 from src limit 1
+POSTHOOK: type: QUERY
+POSTHOOK: Input: default@src
+POSTHOOK: Output: default@test_boolean
+POSTHOOK: Lineage: test_boolean.dummy EXPRESSION []
+PREHOOK: query: SELECT 1
+FROM (
+SELECT TRUE AS flag
+FROM test_boolean
+) a
+WHERE flag
+PREHOOK: type: QUERY
+PREHOOK: Input: default@test_boolean
+#### A masked pattern was here ####
+POSTHOOK: query: SELECT 1
+FROM (
+SELECT TRUE AS flag
+FROM test_boolean
+) a
+WHERE flag
+POSTHOOK: type: QUERY
+POSTHOOK: Input: default@test_boolean
+#### A masked pattern was here ####
+POSTHOOK: Lineage: test_boolean.dummy EXPRESSION []
+1
