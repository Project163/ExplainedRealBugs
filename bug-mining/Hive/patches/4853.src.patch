diff --git a/bin/beeline b/bin/beeline
index c23ab22d06..8f4484c6b0 100644
--- a/bin/beeline
+++ b/bin/beeline
@@ -23,7 +23,7 @@ bin=`cd "$bin"; pwd`
 export HADOOP_USER_CLASSPATH_FIRST=true
 
 # If process is backgrounded, don't change terminal settings
-if [[ ! $(ps -o stat= -p $$) =~ "+" ]]; then
+if [[ ( ! $(ps -o stat= -p $$) =~ "+" ) && ! ( -p /dev/stdin ) ]]; then
   export HADOOP_CLIENT_OPTS="$HADOOP_CLIENT_OPTS -Djline.terminal=jline.UnsupportedTerminal"
 fi
 
diff --git a/bin/ext/cli.sh b/bin/ext/cli.sh
index b81648d01a..4933c2e46c 100644
--- a/bin/ext/cli.sh
+++ b/bin/ext/cli.sh
@@ -24,7 +24,7 @@ fi
 
 updateBeelineOpts() {
   # If process is backgrounded, don't change terminal settings
-  if [[ ! $(ps -o stat= -p $$) == *+ ]]; then
+  if [[ ( ! $(ps -o stat= -p $$) =~ *+ ) && ! ( -p /dev/stdin ) ]]; then
     export HADOOP_CLIENT_OPTS="$HADOOP_CLIENT_OPTS -Djline.terminal=jline.UnsupportedTerminal"
   fi
 }
