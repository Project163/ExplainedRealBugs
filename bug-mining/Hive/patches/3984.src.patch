diff --git a/beeline/src/java/org/apache/hive/beeline/BeeLine.java b/beeline/src/java/org/apache/hive/beeline/BeeLine.java
index 69e94182c8..4e049972cd 100644
--- a/beeline/src/java/org/apache/hive/beeline/BeeLine.java
+++ b/beeline/src/java/org/apache/hive/beeline/BeeLine.java
@@ -1108,8 +1108,8 @@ boolean dispatch(String line) {
     }
 
     if (isBeeLine) {
-      if (line.startsWith(COMMAND_PREFIX) && !line.contains(";")) {
-        // handle the case "!cmd" for beeline
+      if (line.startsWith(COMMAND_PREFIX)) {
+        // handle SQLLine command in beeline which starts with ! and does not end with ;
         return execCommandWithPrefix(line);
       } else {
         return commands.sql(line, getOpts().getEntireLineAsCommand());
diff --git a/itests/hive-unit/src/test/java/org/apache/hive/beeline/TestBeeLineWithArgs.java b/itests/hive-unit/src/test/java/org/apache/hive/beeline/TestBeeLineWithArgs.java
index 0465ef30dc..7cc0acf200 100644
--- a/itests/hive-unit/src/test/java/org/apache/hive/beeline/TestBeeLineWithArgs.java
+++ b/itests/hive-unit/src/test/java/org/apache/hive/beeline/TestBeeLineWithArgs.java
@@ -752,4 +752,12 @@ public void testEmbeddedBeelineOutputs() throws Throwable{
     final String EXPECTED_PATTERN = "Stage-1 map =";
     testScriptFile(SCRIPT_TEXT, EXPECTED_PATTERN, true, argList);
   }
+
+  @Test
+  public void testConnectionUrlWithSemiColon() throws Throwable{
+    List<String> argList = getBaseArgs(miniHS2.getJdbcURL("default", "sess_var_list?var1=value1"));
+    final String SCRIPT_TEXT = "set var1";
+    final String EXPECTED_PATTERN = "var1=value1";
+    testScriptFile(SCRIPT_TEXT, EXPECTED_PATTERN, true, argList);
+  }
 }
