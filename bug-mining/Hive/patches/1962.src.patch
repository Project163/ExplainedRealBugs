diff --git a/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java b/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java
index ec76055bb6..b8d1afc576 100644
--- a/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java
+++ b/metastore/src/java/org/apache/hadoop/hive/metastore/parser/ExpressionTree.java
@@ -378,7 +378,7 @@ private void generateJDOFilterOverPartitions(Configuration conf, Table table,
       }
       valString += keyEqual.length();
       if (partitionColumnIndex != (partitionColumnCount - 1)) {
-        valString += ", partitionName.indexOf(\"/\", " + indexOfKeyStr + keyEqual.length() + ")";
+        valString += ", partitionName.concat(\"/\").indexOf(\"/\", " + indexOfKeyStr + keyEqual.length() + ")";
       }
       valString += ")";
 
diff --git a/pom.xml b/pom.xml
index 4082d9a2e4..6503c94d96 100644
--- a/pom.xml
+++ b/pom.xml
@@ -85,9 +85,9 @@
     <antlr.version>3.4</antlr.version>
     <avro.version>1.7.5</avro.version>
     <bonecp.version>0.8.0.RELEASE</bonecp.version>
-    <datanucleus-api-jdo.version>3.2.1</datanucleus-api-jdo.version>
-    <datanucleus-core.version>3.2.2</datanucleus-core.version>
-    <datanucleus-rdbms.version>3.2.1</datanucleus-rdbms.version>
+    <datanucleus-api-jdo.version>3.2.6</datanucleus-api-jdo.version>
+    <datanucleus-core.version>3.2.10</datanucleus-core.version>
+    <datanucleus-rdbms.version>3.2.9</datanucleus-rdbms.version>
     <commons-cli.version>1.2</commons-cli.version>
     <commons-codec.version>1.4</commons-codec.version>
     <commons-compress.version>1.4.1</commons-compress.version>
