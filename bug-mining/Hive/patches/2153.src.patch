diff --git a/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcDriver2.java b/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcDriver2.java
index e71ccb98b5..192ee6b79d 100644
--- a/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcDriver2.java
+++ b/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcDriver2.java
@@ -343,59 +343,6 @@ public void testParentReferences() throws Exception {
     rs.close();
   }
 
-  /**
-   * This method tests whether while creating a new connection,
-   * the config variables specified in the JDBC URI are properly set for the connection.
-   * This is a test for HiveConnection#configureConnection.
-   * @throws Exception
-   */
-  @Test
-  public void testNewConnectionConfiguration() throws Exception {
-    // Start HiveServer2 with default conf
-    HiveServer2 hiveServer2 = new HiveServer2();
-    hiveServer2.init(new HiveConf());
-    hiveServer2.start();
-    Thread.sleep(3000);
-
-    // Set some conf parameters
-    String hiveConf = "hive.cli.print.header=true;hive.server2.async.exec.shutdown.timeout=20;" +
-        "hive.server2.async.exec.threads=30;hive.server2.thrift.http.max.worker.threads=15";
-    // Set some conf vars
-    String hiveVar = "stab=salesTable;icol=customerID";
-    String jdbcUri = "jdbc:hive2://localhost:10000/default" +
-        "?" + hiveConf +
-        "#" + hiveVar;
-
-    // Open a new connection with these conf & vars
-    Connection con1 = DriverManager.getConnection(jdbcUri);
-
-    // Execute "set" command and retrieve values for the conf & vars specified above
-    // Assert values retrieved
-    Statement stmt = con1.createStatement();
-
-    // Verify that the property has been properly set while creating the connection above
-    verifyConfProperty(stmt, "hive.cli.print.header", "true");
-    verifyConfProperty(stmt, "hive.server2.async.exec.shutdown.timeout", "20");
-    verifyConfProperty(stmt, "hive.server2.async.exec.threads", "30");
-    verifyConfProperty(stmt, "hive.server2.thrift.http.max.worker.threads", "15");
-    verifyConfProperty(stmt, "stab", "salesTable");
-    verifyConfProperty(stmt, "icol", "customerID");
-    con1.close();
-
-    if(hiveServer2 != null) {
-      hiveServer2.stop();
-    }
-  }
-
-  private void verifyConfProperty(Statement stmt, String property, String expectedValue)
-      throws Exception {
-    ResultSet res = stmt.executeQuery("set " + property);
-    while(res.next()) {
-      String resultValues[] = res.getString(1).split("=");
-      assertEquals(resultValues[1], expectedValue);
-    }
-  }
-
   @Test
   public void testDataTypes2() throws Exception {
     Statement stmt = con.createStatement();
diff --git a/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcWithMiniHS2.java b/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcWithMiniHS2.java
index 12de644bd7..0e769aed8e 100644
--- a/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcWithMiniHS2.java
+++ b/itests/hive-unit/src/test/java/org/apache/hive/jdbc/TestJdbcWithMiniHS2.java
@@ -246,4 +246,50 @@ private void verifyCurrentDB(String expectedDbName, Connection hs2Conn) throws E
      stmt.execute("DROP TABLE IF EXISTS " + expectedDbName + "." + verifyTab);
      stmt.close();
    }
+
+   /**
+    * This method tests whether while creating a new connection, the config
+    * variables specified in the JDBC URI are properly set for the connection.
+    * This is a test for HiveConnection#configureConnection.
+    *
+    * @throws Exception
+    */
+   @Test
+   public void testNewConnectionConfiguration() throws Exception {
+
+     // Set some conf parameters
+     String hiveConf = "hive.cli.print.header=true;hive.server2.async.exec.shutdown.timeout=20;"
+         + "hive.server2.async.exec.threads=30;hive.server2.thrift.http.max.worker.threads=15";
+     // Set some conf vars
+     String hiveVar = "stab=salesTable;icol=customerID";
+     String jdbcUri = miniHS2.getJdbcURL() + "?" + hiveConf + "#" + hiveVar;
+
+     // Open a new connection with these conf & vars
+     Connection con1 = DriverManager.getConnection(jdbcUri);
+
+     // Execute "set" command and retrieve values for the conf & vars specified
+     // above
+     // Assert values retrieved
+     Statement stmt = con1.createStatement();
+
+     // Verify that the property has been properly set while creating the
+     // connection above
+     verifyConfProperty(stmt, "hive.cli.print.header", "true");
+     verifyConfProperty(stmt, "hive.server2.async.exec.shutdown.timeout", "20");
+     verifyConfProperty(stmt, "hive.server2.async.exec.threads", "30");
+     verifyConfProperty(stmt, "hive.server2.thrift.http.max.worker.threads",
+         "15");
+     verifyConfProperty(stmt, "stab", "salesTable");
+     verifyConfProperty(stmt, "icol", "customerID");
+     con1.close();
+   }
+
+   private void verifyConfProperty(Statement stmt, String property,
+       String expectedValue) throws Exception {
+     ResultSet res = stmt.executeQuery("set " + property);
+     while (res.next()) {
+       String resultValues[] = res.getString(1).split("=");
+       assertEquals(resultValues[1], expectedValue);
+     }
+   }
   }
