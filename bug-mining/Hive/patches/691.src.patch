diff --git a/ant/build.xml b/ant/build.xml
index 17b3c3a7db..c4351d06c4 100644
--- a/ant/build.xml
+++ b/ant/build.xml
@@ -27,10 +27,12 @@ to call at top-level: ant deploy-contrib compile-core-test
   <property name="src.dir"  location="${basedir}/src"/>
   <import file="../build-common.xml"/>
 
-  <target name="init" depends="create-dirs"/>
+  <target name="init" depends="create-dirs">
+    <echo message="Project: ${ant.project.name}"/>
+  </target>
 
   <target name="compile" depends="init">
-    <echo message="Compiling: ${ant.project.name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}"
@@ -44,6 +46,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   </target>
 
   <target name="jar" depends="compile">
+    <echo message="Project: ${ant.project.name}"/>
     <copy file="${src.dir}/org/apache/hadoop/hive/ant/antlib.xml"
           todir="${build.dir}/classes/org/apache/hadoop/hive/ant"/>
     <jar destfile="${build.dir}/hive-anttasks-${version}.jar">
diff --git a/build-common.xml b/build-common.xml
index 9a738c99d0..ca5d938507 100644
--- a/build-common.xml
+++ b/build-common.xml
@@ -71,11 +71,6 @@
     <path refid="classpath"/>
   </path>
 
-  <taskdef resource="net/sf/antcontrib/antcontrib.properties">
-    <classpath>
-      <pathelement location="${hive.root}/testlibs/ant-contrib-1.0b3.jar"/>
-    </classpath>
-  </taskdef>
 
   <!-- IVY properties set here -->
   <property name="build.ivy.dir" location="${build.dir.hive}/ivy"/>
@@ -92,8 +87,9 @@
   <!-- Maven properties set here -->
   <property name="hive.ivy.org" value="org.apache.hive"/>
   <property name="mvn.publish.repo" value="snapshots"/>
-  <property name="mvn.publish.repo.id" value="apache.${mvn.publish.repo}.https" />
-  <property name="mvn.publish.repo.url" value="https://repository.apache.org/content/repositories/${mvn.publish.repo}"/>
+  <property name="mvn.jar.dir" value="${build.dir.hive}/maven/jars"/>
+  <property name="mvn.pom.dir" value="${build.dir.hive}/maven/poms"/>
+  <property name="mvn.license.dir" value="${build.dir.hive}/maven/licenses"/>
 
   <condition property="offline">
     <istrue value="${is-offline}"/>
@@ -111,76 +107,40 @@
   <!--this is the naming policy for artifacts we want pulled down-->
   <property name="ivy.artifact.retrieve.pattern" value="[conf]/[artifact]-[revision](-[classifier]).[ext]"/>
 
-  <target name="ivy-init-dirs">
-    <mkdir dir="${build.ivy.dir}" />
-    <mkdir dir="${build.ivy.lib.dir}" />
-    <mkdir dir="${build.ivy.report.dir}" />
-    <mkdir dir="${build.ivy.maven.dir}" />
-  </target>
-
-  <target name="ivy-probe-antlib" >
-    <condition property="ivy.found">
-      <typefound uri="antlib:org.apache.ivy.ant" name="cleancache"/>
-    </condition>
-  </target>
-
-  <target name="ivy-download" depends="ivy-init-dirs"
-          description="To download ivy" unless="offline">
-    <get src="${ivy_repo_url}" dest="${ivy.jar}" usetimestamp="true"/>
-  </target>
-
-  <!--
-  To avoid Ivy leaking things across big projects, always load Ivy in the same classloader.
-  Also note how we skip loading Ivy if it is already there, just to make sure all is well.
-  -->
-  <target name="ivy-init-antlib" depends="ivy-download,ivy-init-dirs,ivy-probe-antlib" unless="ivy.found">
-    <typedef uri="antlib:org.apache.ivy.ant" onerror="fail"
-      loaderRef="ivyLoader">
-      <classpath>
-        <pathelement location="${ivy.jar}"/>
-      </classpath>
-    </typedef>
-    <fail >
-      <condition >
-        <not>
-          <typefound uri="antlib:org.apache.ivy.ant" name="cleancache"/>
-        </not>
-      </condition>
-      You need Apache Ivy 2.1 or later from http://ant.apache.org/
-      It could not be loaded from ${ivy_repo_url}
-    </fail>
-  </target>
-
-
   <property name="ivyresolvelog" value="download-only"/>
   <property name="ivyretrievelog" value="quite"/>
 
-  <target name="ivy-init" depends="ivy-init-antlib" >
+  <target name="ivy-init">
     <!--Configure Ivy by reading in the settings file
         If anyone has already read in a settings file into this settings ID, it gets priority
     -->
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:settings id="${ant.project.name}.ivy.settings" file="${ivysettings.xml}"/>
   </target>
 
   <target name="ivy-resolve" depends="ivy-init" unless="offline">
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:resolve settingsRef="${ant.project.name}.ivy.settings"
       log="${ivyresolvelog}"/>
   </target>
 
   <target name="ivy-retrieve" depends="ivy-resolve"
     description="Retrieve Ivy-managed artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:retrieve settingsRef="${ant.project.name}.ivy.settings"
       pattern="${build.ivy.lib.dir}/${ivy.artifact.retrieve.pattern}"
       log="${ivyresolvelog}"/>
   </target>
 
   <target name="ivy-resolve-checkstyle" depends="ivy-init">
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:resolve settingsRef="${ant.project.name}.ivy.settings" conf="checkstyle"
       log="${ivyresolvelog}"/>
   </target>
 
   <target name="ivy-retrieve-checkstyle" depends="ivy-resolve-checkstyle"
     description="Retrieve Ivy-managed artifacts for the checkstyle configurations">
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:retrieve settingsRef="${ant.project.name}.ivy.settings"
       pattern="${build.ivy.lib.dir}/${ivy.artifact.retrieve.pattern}"
       log="${ivyresolvelog}"/>
@@ -188,12 +148,14 @@
   </target>
 
   <target name="ivy-resolve-maven-ant-tasks" depends="ivy-init">
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:resolve settingsRef="${ant.project.name}.ivy.settings" conf="maven"
       log="${ivyresolvelog}"/>
   </target>
 
   <target name="ivy-retrieve-maven-ant-tasks" depends="ivy-resolve-maven-ant-tasks"
     description="Retrieve Ivy-managed artifacts for the maven-ant-tasks configurations">
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:retrieve settingsRef="${ant.project.name}.ivy.settings"
       pattern="${build.ivy.lib.dir}/${ivy.artifact.retrieve.pattern}"
       log="${ivyresolvelog}"/>
@@ -202,12 +164,14 @@
 
   <target name="ivy-retrieve-hadoop-source" depends="ivy-init"
     description="Retrieve Ivy-managed Hadoop source artifacts" unless="ivy.skip">
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:retrieve settingsRef="${ant.project.name}.ivy.settings"
       pattern="${build.dir.hadoop}/[artifact]-[revision].[ext]"/>
   </target>
 
   <target name="ivy-docs" depends="ivy-init"
     description="Resolve, Retrieve Ivy-managed artifacts for docs configuration">
+    <echo message="Project: ${ant.project.name}"/>
     <ivy:resolve settingsRef="${ant.project.name}.ivy.settings" conf="docs"/>
     <ivy:retrieve settingsRef="${ant.project.name}.ivy.settings"
                   pattern="${build.ivy.lib.dir}/${ivy.artifact.retrieve.pattern}" conf="docs"/>
@@ -219,16 +183,19 @@
 
   <target name="install-hadoopcore-internal" depends="ivy-retrieve-hadoop-source"
     unless="hadoopcore.${hadoop.version.ant-internal}.install.done">
+    <echo message="Project: ${ant.project.name}"/>
     <untar src="${build.dir.hadoop}/hadoop-${hadoop.version.ant-internal}.tar.gz" dest="${build.dir.hadoop}" compression="gzip"/>
     <chmod file="${hadoop.root}/bin/hadoop" perm="+x"/>
     <touch file="${build.dir.hadoop}/hadoop-${hadoop.version.ant-internal}.installed"/>
   </target>
 
   <target name="install-hadoopcore-default" unless="hadoop.root.nondefault">
+    <echo message="Project: ${ant.project.name}"/>
     <antcall target="install-hadoopcore-internal"/>
   </target>
 
   <target name="install-hadoopcore">
+    <echo message="Project: ${ant.project.name}"/>
     <condition property="hadoop.root.nondefault">
       <not>
         <equals arg1="${hadoop.root}" arg2="${hadoop.root.default}"/>
@@ -277,9 +244,12 @@
     <mkdir dir="${test.build.classes}"/>
   </target>
 
-  <target name="init" depends="create-dirs, deploy-ant-tasks"/>
+  <target name="init" depends="create-dirs">
+    <echo message="Project: ${ant.project.name}"/>
+  </target>
 
   <target name="test-init">
+    <echo message="Project: ${ant.project.name}"/>
     <mkdir dir="${test.data.dir}"/>
     <mkdir dir="${test.log.dir}/clientpositive"/>
     <mkdir dir="${test.log.dir}/clientnegative"/>
@@ -289,10 +259,12 @@
     <mkdir dir="${test.data.dir}/metadb"/>
   </target>
 
-  <target name="setup"/>
+  <target name="setup">
+    <echo message="Project: ${ant.project.name}"/>
+  </target>
 
   <target name="compile" depends="init, setup">
-    <echo message="Compiling: ${ant.project.name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}"
@@ -309,7 +281,7 @@
   </target>
 
   <target name="jar" depends="compile">
-    <echo message="Jar: ${ant.project.name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <jar
       jarfile="${build.dir}/hive-${ant.project.name}-${version}.jar"
       basedir="${build.classes}">
@@ -326,6 +298,7 @@
 
   <!-- target to compile tests -->
   <target name="compile-test" depends="compile">
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${test.src.dir}"
@@ -356,6 +329,7 @@
   </target>
 
   <target name="test-jar" depends="compile-test">
+    <echo message="Project: ${ant.project.name}"/>
     <delete file="${test.build.dir}/test-udfs.jar"/>
     <jar jarfile="${test.build.dir}/test-udfs.jar">
         <fileset dir="${test.build.classes}" includes="**/udf/*.class"/>
@@ -364,6 +338,7 @@
   </target>
 
   <target name="test-conditions">
+    <echo message="Project: ${ant.project.name}"/>
 
     <condition property="qfile" value="">
       <not>
@@ -403,26 +378,11 @@
 
   </target>
 
-  <!-- target to deploy anttasks -->
 
-  <target name="compile-ant-tasks">
-    <subant target="compile">
-      <fileset dir=".." includes="ant/build.xml"/>
-    </subant>
+  <target name="gen-test">
+    <echo message="Project: ${ant.project.name}"/>
   </target>
 
-  <target name="deploy-ant-tasks" depends="compile-ant-tasks">
-    <subant target="jar">
-      <fileset dir=".." includes="ant/build.xml"/>
-    </subant>
-
-    <taskdef name="getversionpref" classname="org.apache.hadoop.hive.ant.GetVersionPref"
-             classpath="${build.dir.hive}/anttasks/hive-anttasks-${version}.jar"/>
-
-  </target>
-
-  <target name="gen-test"/>
-
   <!-- use pfile:/// as warehouse file system in 20 for non miniMR runs -->
   <condition property="test.warehouse.scheme" value="pfile://" else="">
     <not>
@@ -437,14 +397,13 @@
   <!-- target to run the tests -->
   <target name="test"
   	depends="test-conditions,gen-test,compile-test,test-jar,test-init">
+    <echo message="Project: ${ant.project.name}"/>
     <!--<property name="testcp" refid="test.classpath"/>-->
     <!--<echo message="test.classpath: ${testcp}"/>-->
     <junit showoutput="${test.output}" printsummary="yes" haltonfailure="no"
            fork="yes" maxmemory="512m" dir="${basedir}" timeout="${test.timeout}"
            errorProperty="tests.failed" failureProperty="tests.failed" filtertrace="off">
-      <!--
-      <jvmarg value="-Xdebug"/>
-      <jvmarg value="-Xrunjdwp:transport=dt_socket,address=8000,server=y,suspend=y"/> -->
+     
       <env key="HADOOP_HOME" value="${hadoop.root}"/>
       <env key="HADOOP_CLASSPATH" value="${test.src.data.dir}/conf:${build.dir.hive}/dist/lib/derby.jar:${build.dir.hive}/dist/lib/javaewah-0.3.jar"/>
       <env key="TZ" value="US/Pacific"/>
@@ -483,7 +442,9 @@
     </junit>
     <fail if="tests.failed">Tests failed!</fail>
   </target>
+  
   <target name="test-shims">
+    <echo message="Project: ${ant.project.name}"/>
      <subant target="test">
        <property name="hadoop.version" value="${hadoop.security.version}"/>
        <property name="hadoop.security.version" value="${hadoop.security.version}"/>
@@ -492,17 +453,19 @@
   </target>
 
   <target name="clean-test">
+    <echo message="Project: ${ant.project.name}"/>
     <delete dir="${test.build.dir}"/>
     <delete dir="${build.dir.hive}/ql/tmp"/>
     <delete dir="${build.dir.hive}/test"/>
   </target>
 
   <target name="clean">
-    <echo message="Cleaning: ${ant.project.name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <delete dir="${build.dir}"/>
   </target>
 
   <target name="check-thrift-home">
+    <echo message="Project: ${ant.project.name}"/>
     <condition property="thrift.home.defined">
       <or>
         <not>
@@ -514,10 +477,12 @@
   </target>
 
   <target name="check-ivy" depends="ivy-init">
+    <echo message="Project: ${ant.project.name}"/>
    <available file="${basedir}/ivy.xml" property="ivy.present"/>
   </target>
 
   <target name="make-pom" if="ivy.present" depends="check-ivy, jar">
+    <echo message="Project: ${ant.project.name}"/>
     <echo> Writing POM to ${build.dir}/pom.xml</echo>
 
     <ivy:makepom ivyfile="${basedir}/ivy.xml" pomfile="${build.dir}/pom.xml">
@@ -544,23 +509,38 @@
     </replace>
   </target>
 
-  <target name="mvn-taskdef" depends="ivy-retrieve-maven-ant-tasks">
-    <typedef resource="org/apache/maven/artifact/ant/antlib.xml"
-	     uri="urn:maven-artifact-ant" classpathref="maven-ant-tasks.classpath" />
-  </target>
-
   <!-- Deploy a single artifact to the maven repository -->
-  <target name="maven-publish-artifact" depends="mvn-taskdef">
+  <target name="maven-publish-artifact">
+    <echo message="Project: ${ant.project.name}"/>
     <artifact:pom
-       file="${build.dir.hive}/maven/poms/hive-${hive.project}-${version}.pom"
+       file="${mvn.pom.dir}/hive-${hive.project}-${version}.pom"
        id="hive.project.pom" />
-
     <artifact:install-provider artifactId="wagon-http" version="1.0-beta-2" />
-    <artifact:deploy
-       file="${build.dir.hive}/maven/jars/hive-${hive.project}-${version}.jar">
-      <remoteRepository id="${mvn.publish.repo.id}" url="${mvn.publish.repo.url}" />
-      <pom refid="hive.project.pom" />
-    </artifact:deploy>
+    <if>
+      <equals arg1="${mvn.publish.repo}" arg2="staging" />
+      <then>
+        <artifact:deploy
+            file="${mvn.jar.dir}/hive-${hive.project}-${version}.jar">
+          <pom refid="hive.project.pom" />
+          <remoteRepository
+              id="apache.staging.https"
+              url="https://repository.apache.org/service/local/staging/deploy/maven2" />
+          <attach file="${mvn.jar.dir}/hive-${hive.project}-${version}.jar.asc"
+                  type="jar.asc"/>
+          <attach file="${mvn.pom.dir}/hive-${hive.project}-${version}.pom.asc"
+                  type="pom.asc"/>
+        </artifact:deploy>
+      </then>
+      <else>
+        <artifact:deploy
+            file="${mvn.jar.dir}/hive-${hive.project}-${version}.jar">
+          <pom refid="hive.project.pom" />
+          <remoteRepository
+              id="apache.snapshots.https"
+              url="https://repository.apache.org/content/repositories/snapshots" />
+        </artifact:deploy>
+      </else>
+    </if>
   </target>
 
 </project>
diff --git a/build.xml b/build.xml
index 13b09c12fb..20494ca97a 100644
--- a/build.xml
+++ b/build.xml
@@ -58,6 +58,16 @@
     <isset property="offline"/>
   </condition>
 
+  <condition property="staging">
+    <equals arg1="${mvn.publish.repo}" arg2="staging"/>
+  </condition>
+
+  <taskdef resource="net/sf/antcontrib/antcontrib.properties">
+    <classpath>
+      <pathelement location="${hive.root}/testlibs/ant-contrib-1.0b3.jar"/>
+    </classpath>
+  </taskdef>
+
   <!-- ForTask is not defined in net/sf/antcontrib/antcontrib.properties! -->
   <taskdef name="for" classname="net.sf.antcontrib.logic.ForTask">
     <classpath>
@@ -160,17 +170,84 @@
     <path refid="common-classpath"/>
   </path>
 
-  <target name="init">
+
+
+  <target name="ivy-init-dirs">
+    <echo message="Project: ${ant.project.name}"/>
+    <mkdir dir="${build.ivy.dir}" />
+    <mkdir dir="${build.ivy.lib.dir}" />
+    <mkdir dir="${build.ivy.report.dir}" />
+    <mkdir dir="${build.ivy.maven.dir}" />
+  </target>
+
+  <target name="ivy-probe-antlib" >
+    <echo message="Project: ${ant.project.name}"/>
+    <condition property="ivy.found">
+      <typefound uri="antlib:org.apache.ivy.ant" name="cleancache"/>
+    </condition>
+  </target>
+
+  <target name="ivy-download" depends="ivy-init-dirs"
+          description="To download ivy" unless="offline">
+    <echo message="Project: ${ant.project.name}"/>
+    <get src="${ivy_repo_url}" dest="${ivy.jar}" usetimestamp="true"/>
+  </target>
+
+  <!--
+  To avoid Ivy leaking things across big projects, always load Ivy in the same classloader.
+  Also note how we skip loading Ivy if it is already there, just to make sure all is well.
+  -->
+  <target name="ivy-init-antlib" depends="ivy-download,ivy-init-dirs,ivy-probe-antlib" unless="ivy.found">
+    <echo message="Project: ${ant.project.name}"/>
+    <typedef uri="antlib:org.apache.ivy.ant" onerror="fail" loaderRef="ivyLoader">
+      <classpath>
+        <pathelement location="${ivy.jar}"/>
+      </classpath>
+    </typedef>
+    <fail>
+      <condition>
+        <not>
+          <typefound uri="antlib:org.apache.ivy.ant" name="cleancache"/>
+        </not>
+      </condition>
+      You need Apache Ivy 2.1 or later from http://ant.apache.org/
+      It could not be loaded from ${ivy_repo_url}
+    </fail>
+  </target>
+
+
+  <target name="init" depends="ivy-init-antlib,deploy-ant-tasks">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate-all target="init"/>
   </target>
 
   <target name="test-init">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate-all target="test-init"/>
   </target>
 
+  <!-- target to deploy anttasks -->
+  <target name="compile-ant-tasks">
+    <echo message="Project: ${ant.project.name}"/>
+    <subant target="compile">
+      <fileset dir="." includes="ant/build.xml"/>
+    </subant>
+  </target>
+
+  <target name="deploy-ant-tasks" depends="compile-ant-tasks">
+    <echo message="Project: ${ant.project.name}"/>
+    <subant target="jar">
+      <fileset dir="." includes="ant/build.xml"/>
+    </subant>
+    <taskdef name="getversionpref" classname="org.apache.hadoop.hive.ant.GetVersionPref"
+             classpath="${build.dir.hive}/anttasks/hive-anttasks-${version}.jar"/>
+  </target>
+
+  
   <target name="compile-cpp"
           depends="init"
           description="Build CPP artifacts" >
+    <echo message="Project: ${ant.project.name}"/>
     <fail unless="thrift.home">
       You must set thrift.home to the absolute path of your
       local Thrift installation.
@@ -180,28 +257,35 @@
 
   <target name="compile-cpp-clean"
           description="Clean CPP artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate-cpp target="clean"/>
   </target>
 
   <target name="compile" depends="compile-cpp">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate target="compile"/>
   </target>
 
   <target name="thriftif">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate-thriftif target="thriftif"/>
   </target>
 
   <target name="jar"
+          depends="init"
           description="Build JAR artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate target="jar"/>
   </target>
 
   <target name="jar-test" depends="jar"
           description="Build Java test artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate-test target="compile-test"/>
   </target>
 
   <target name="test" depends="clean-test,jar-test" description="Run tests">
+    <echo message="Project: ${ant.project.name}"/>
     <antcall target="test-shims">
       <param name="hadoop.version.ant-internal" value="${hadoop.security.version}" />
     </antcall>
@@ -221,6 +305,7 @@
   <!-- create an html report from junit output files -->
   <target name="testreport"
           description="Generate JUnit HTML test report">
+    <echo message="Project: ${ant.project.name}"/>
     <mkdir dir="${test.build.dir}"/>
     <junitreport todir="${test.build.dir}">
       <fileset dir="${build.dir.hive}">
@@ -232,6 +317,7 @@
 
   <target name="clean-test"
           description="Clean test results">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate target="clean-test"/>
     <delete dir="${build.dir.hive}/test"/>
     <delete dir="${hive.root}/ql/TempStatsStore"/>
@@ -239,6 +325,7 @@
 
   <target name="clean"
           description="Clean build artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <iterate-all target="clean"/>
     <iterate-cpp target="clean"/>
     <delete dir="${target.dir}"/>
@@ -247,10 +334,12 @@
   </target>
 
   <target name="clean-online" unless="offline">
+    <echo message="Project: ${ant.project.name}"/>
     <delete dir="${build.dir.hive}"/>
   </target>
 
   <target name="clean-offline" if="offline">
+    <echo message="Project: ${ant.project.name}"/>
     <!-- preserve the downloaded ivy .jar  -->
     <delete quiet="true" includeemptydirs="true">
       <fileset dir="${build.dir.hive}" excludes="ivy/**/ivy*.jar"/>
@@ -263,6 +352,7 @@
   <target name="gen-testdata"
           depends="jar"
           description="Generate test data">
+    <echo message="Project: ${ant.project.name}"/>
     <subant target="gen-testdata">
       <property name="build.dir.hive" location="${build.dir.hive}"/>
       <fileset dir="." includes="serde/build.xml"/>
@@ -272,6 +362,7 @@
   <target name="package-cpp"
           depends="package,compile-cpp"
           description="Deploy CPP artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <mkdir dir="${target.dir}/include"/>
     <copy todir="${target.dir}/include" preservelastmodified="true" flatten="true">
       <fileset file="${build.dir.hive}/odbc/include/*"/>
@@ -286,6 +377,7 @@
   <target name="package"
           depends="jar"
           description="Deploy JAR artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <echo message="Deploying Hive jars to ${target.dir}"/>
     <mkdir dir="${target.dir}"/>
     <mkdir dir="${target.lib.dir}"/>
@@ -407,7 +499,7 @@
   <!-- ====================================================== -->
   <target name="eclipse-files" depends="init"
           description="Generate files for Eclipse">
-
+    <echo message="Project: ${ant.project.name}"/>
     <condition property="hadoop.version.ant-internal" value="0.20">
       <not>
         <isset property="hadoop.version.ant-internal"/>
@@ -463,6 +555,7 @@
 
   <target name="clean-eclipse-files"
           description="Delete files for Eclipse">
+    <echo message="Project: ${ant.project.name}"/>
     <delete includeemptydirs="true">
       <fileset dir="." includes=".classpath .project .settings/ .externalToolBuilders/"/>
     </delete>
@@ -473,10 +566,12 @@
   <!-- ================================================================== -->
 
   <target name="docs" description="Generate documentation">
+    <echo message="Project: ${ant.project.name}"/>
     <antcall target="docs-anakia"/>
   </target>
 
   <target name="javadoc" depends="package" description="Generate Javadoc">
+    <echo message="Project: ${ant.project.name}"/>
     <mkdir dir="${build.javadoc}"/>
     <javadoc
       maxmemory="1024m"
@@ -536,6 +631,7 @@
   <!-- ================================================================== -->
 
   <target name="tar" depends="package, docs, javadoc" description="Make release tarball">
+    <echo message="Project: ${ant.project.name}"/>
     <macro_tar param.destfile="${build.dir.hive}/${tar.final.name}.tar.gz">
       <param.listofitems>
         <tarfileset dir="${build.dir.hive}/dist" mode="755" prefix="${tar.final.name}"
@@ -576,6 +672,7 @@
 
   <target name="binary" depends="package, docs, javadoc"
           description="Make release tarball without source and documentation">
+    <echo message="Project: ${ant.project.name}"/>
     <macro_tar param.destfile="${build.dir.hive}/${bin.final.name}.tar.gz">
       <param.listofitems>
         <tarfileset dir="${build.dir.hive}/dist" mode="755" prefix="${bin.final.name}"
@@ -607,6 +704,7 @@
   <target name="checkstyle" depends="ivy-retrieve-checkstyle,check-for-checkstyle"
           if="checkstyle.present"
           description="Run Checkstyle on source files">
+    <echo message="Project: ${ant.project.name}"/>
     <taskdef resource="checkstyletask.properties">
       <classpath refid="checkstyle-classpath"/>
     </taskdef>
@@ -631,12 +729,14 @@
   </target>
 
   <target name="check-for-checkstyle">
+    <echo message="Project: ${ant.project.name}"/>
     <available property="checkstyle.present" resource="checkstyletask.properties">
       <classpath refid="checkstyle-classpath"/>
     </available>
   </target>
 
   <target name="docs-anakia" depends="ivy-docs">
+    <echo message="Project: ${ant.project.name}"/>
     <echo message="Building xdocs with anakia"/>
     <mkdir dir="${build.dir.hive}/docs"/>
     <taskdef name="anakia" classname="org.apache.velocity.anakia.AnakiaTask">
@@ -664,108 +764,106 @@
 
   <!-- Prepare for maven deploy i.e. jars, poms, and licence -->
 
+  <target name="mvn-taskdef" depends="ivy-retrieve-maven-ant-tasks">
+    <echo message="Project: ${ant.project.name}"/>
+    <typedef resource="org/apache/maven/artifact/ant/antlib.xml"
+	     uri="urn:maven-artifact-ant" classpathref="maven-ant-tasks.classpath" />
+  </target>
+  
   <target name="maven-build" depends="jar" description="Build Maven artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <!-- create jars, poms licences directory -->
-    <mkdir dir="${build.dir.hive}/maven/jars" />
-    <mkdir dir="${build.dir.hive}/maven/poms" />
-    <mkdir dir="${build.dir.hive}/maven/licences" />
+    <mkdir dir="${mvn.jar.dir}" />
+    <mkdir dir="${mvn.pom.dir}" />
+    <mkdir dir="${mvn.license.dir}" />
 
     <!-- call make pom on all projects that have ivy.xml -->
     <iterate-all target="make-pom" />
 
     <!-- copy the jars  -->
     <copy file="${build.dir.hive}/anttasks/hive-anttasks-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/cli/hive-cli-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/common/hive-common-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/contrib/hive-contrib-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/hbase-handler/hive-hbase-handler-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/hwi/hive-hwi-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/jdbc/hive-jdbc-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/metastore/hive-metastore-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/ql/hive-exec-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/serde/hive-serde-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/service/hive-service-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/shims/hive-shims-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
     <copy file="${build.dir.hive}/pdk/hive-pdk-${version}.jar"
-          todir="${build.dir.hive}/maven/jars/" />
+          todir="${mvn.jar.dir}" />
 
     <!-- copy over maven pom files created using the make-pom target and rename to maven convention -->
     <copy file="${build.dir.hive}/anttasks/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-anttasks-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-anttasks-${version}.pom" />
     <copy file="${build.dir.hive}/cli/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-cli-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-cli-${version}.pom" />
     <copy file="${build.dir.hive}/common/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-common-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-common-${version}.pom" />
     <copy file="${build.dir.hive}/contrib/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-contrib-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-contrib-${version}.pom" />
     <copy file="${build.dir.hive}/hbase-handler/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-hbase-handler-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-hbase-handler-${version}.pom" />
     <copy file="${build.dir.hive}/hwi/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-hwi-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-hwi-${version}.pom" />
     <copy file="${build.dir.hive}/jdbc/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-jdbc-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-jdbc-${version}.pom" />
     <copy file="${build.dir.hive}/metastore/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-metastore-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-metastore-${version}.pom" />
     <copy file="${build.dir.hive}/ql/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-exec-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-exec-${version}.pom" />
     <copy file="${build.dir.hive}/serde/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-serde-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-serde-${version}.pom" />
     <copy file="${build.dir.hive}/service/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-service-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-service-${version}.pom" />
     <copy file="${build.dir.hive}/shims/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-shims-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-shims-${version}.pom" />
     <copy file="${build.dir.hive}/pdk/pom.xml"
-          tofile="${build.dir.hive}/maven/poms/hive-pdk-${version}.pom" />
+          tofile="${mvn.pom.dir}/hive-pdk-${version}.pom" />
 
     <!-- copy over licence -->
-    <copy file="${hive.root}/LICENSE" todir="${build.dir.hive}/maven/licences/" />
+    <copy file="${hive.root}/LICENSE" todir="${mvn.license.dir}" />
 
     <!-- checksum files -->
     <checksum forceOverwrite="yes" algorithm="MD5" fileext=".md5">
-      <fileset dir="${build.dir.hive}/maven/jars" excludes="**/*.sha1,**/*.md5" />
-      <fileset dir="${build.dir.hive}/maven/poms" excludes="**/*.sha1,**/*.md5" />
-      <fileset dir="${build.dir.hive}/maven/licences" excludes="**/*.sha1,**/*.md5" />
+      <fileset dir="${mvn.jar.dir}" excludes="**/*.sha1,**/*.md5" />
+      <fileset dir="${mvn.pom.dir}" excludes="**/*.sha1,**/*.md5" />
+      <fileset dir="${mvn.license.dir}" excludes="**/*.sha1,**/*.md5" />
     </checksum>
 
     <checksum forceOverwrite="yes" algorithm="SHA" fileext=".sha1">
-      <fileset dir="${build.dir.hive}/maven/jars" excludes="**/*.sha1,**/*.md5" />
-      <fileset dir="${build.dir.hive}/maven/poms" excludes="**/*.sha1,**/*.md5" />
-      <fileset dir="${build.dir.hive}/maven/licences" excludes="**/*.sha1,**/*.md5" />
+      <fileset dir="${mvn.jar.dir}" excludes="**/*.sha1,**/*.md5" />
+      <fileset dir="${mvn.pom.dir}" excludes="**/*.sha1,**/*.md5" />
+      <fileset dir="${mvn.license.dir}" excludes="**/*.sha1,**/*.md5" />
     </checksum>
 
     <echo>
-      To deploy using maven:
-      1) Copy the following to the ~/.m2/settings.xml file please
-      see:http://maven.apache.org/developers/committer-settings.html
-      &lt;servers&gt;
-      &lt;server&gt;
-      &lt;id&gt;apache.${repo}.https&lt;/id&gt;
-      &lt;username&gt;[username]&lt;/username&gt;
-      &lt;password&gt;[password]&lt;/password&gt;
-      &lt;/server&gt;
-      &lt;/servers&gt;
-     2)Read
-      http://www.apache.org/dev/repository-faq.html
-      http://www.apache.org/dev/publishing-maven-artifacts.html
-     3)Run the maven-publish target to publish
-      the artifact to the ASF Nexus
-      staging process
+      Please consult the HowToRelease page on the Hive Wiki for
+      a description of the remaining steps required to publish
+      Maven artifacts to the ASF repository:
+
+      https://cwiki.apache.org/confluence/display/Hive/HowToRelease
     </echo>
   </target>
 
-  <target name="maven-publish" description="Publish Maven artifacts">
+  <target name="maven-publish" depends="mvn-taskdef,maven-sign"
+          description="Publish Maven artifacts">
+    <echo message="Project: ${ant.project.name}"/>
     <antcall target="maven-publish-artifact">
       <param name="hive.project" value="anttasks" />
     </antcall>
@@ -807,4 +905,132 @@
     </antcall>
   </target>
 
+  <target name="maven-sign" if="staging">
+    <echo message="Project: ${ant.project.name}"/>
+    <input message="password:>" addproperty="gpg.passphrase">
+      <handler classname="org.apache.tools.ant.input.SecureInputHandler" />
+    </input>
+    <macrodef name="sign-artifact" description="Signs the artifact">
+      <attribute name="input.file"/>
+      <attribute name="output.file" default="@{input.file}.asc"/>
+      <attribute name="gpg.passphrase"/>
+      <sequential>
+        <echo>Signing @{input.file} Sig File: @{output.file}</echo>
+        <exec executable="gpg" >
+          <arg value="--armor"/>
+          <arg value="--output"/>
+          <arg value="@{output.file}"/>
+          <arg value="--passphrase"/>
+          <arg value="@{gpg.passphrase}"/>
+          <arg value="--detach-sig"/>
+          <arg value="@{input.file}"/>
+        </exec>
+      </sequential>
+    </macrodef>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-anttasks-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-anttasks-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-anttasks-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-anttasks-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-cli-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-cli-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-cli-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-cli-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-common-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-common-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-common-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-common-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-contrib-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-contrib-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-contrib-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-contrib-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-hbase-handler-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-hbase-handler-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-hbase-handler-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-hbase-handler-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-hwi-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-hwi-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-hwi-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-hwi-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-jdbc-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-jdbc-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-jdbc-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-jdbc-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-metastore-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-metastore-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-metastore-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-metastore-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-exec-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-exec-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-exec-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-exec-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-pdk-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-pdk-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-pdk-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-pdk-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-serde-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-serde-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-serde-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-serde-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-service-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-service-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-service-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-service-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.jar.dir}/hive-shims-${version}.jar"
+        output.file="${mvn.jar.dir}/hive-shims-${version}.jar.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+    <sign-artifact
+        input.file="${mvn.pom.dir}/hive-shims-${version}.pom"
+        output.file="${mvn.pom.dir}/hive-shims-${version}.pom.asc"
+        gpg.passphrase="${gpg.passphrase}"/>
+  </target>  
+  
 </project>
diff --git a/cli/build.xml b/cli/build.xml
index add53e155f..958cfe74c4 100755
--- a/cli/build.xml
+++ b/cli/build.xml
@@ -28,7 +28,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   <import file="../build-common.xml"/>
 
   <target name="compile" depends="init, setup, ivy-retrieve">
-    <echo message="Compiling: ${ant.project.name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}"
diff --git a/common/build.xml b/common/build.xml
index e8a0712068..66322dc038 100755
--- a/common/build.xml
+++ b/common/build.xml
@@ -28,7 +28,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   <import file="../build-common.xml"/>
 
   <target name="compile" depends="init, setup, ivy-retrieve">
-    <echo message="Compiling: ${ant.project.name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}"
@@ -45,6 +45,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   </target>
 
   <target name="test">
+    <echo message="Project: ${ant.project.name}"/>
     <echo message="Nothing to do!"/>
   </target>
 
diff --git a/contrib/build.xml b/contrib/build.xml
index cf1711c2af..14e1e20c7f 100644
--- a/contrib/build.xml
+++ b/contrib/build.xml
@@ -48,6 +48,7 @@
   </path>
 
   <target name="test-jar" depends="compile-test, jar">
+    <echo message="Project: ${ant.project.name}"/>
     <delete file="${test.build.dir}/test-udfs.jar"/>
     <jar jarfile="${test.build.dir}/test-udfs.jar">
         <fileset dir="${test.build.classes}" includes="**/udf/*.class"/>
@@ -55,7 +56,8 @@
     </jar>
   </target>
 
-  <target name="gen-test" depends="deploy-ant-tasks, test-conditions, test-init" >
+  <target name="gen-test" depends="test-conditions, test-init" >
+    <echo message="Project: ${ant.project.name}"/>
     <taskdef name="qtestgen" classname="org.apache.hadoop.hive.ant.QTestGenTask"
              classpath="${build.dir.hive}/anttasks/hive-anttasks-${version}.jar:${hive.root}/lib/velocity-1.5.jar:${hive.root}/lib/commons-collections-3.2.1.jar:${hive.root}/lib/commons-lang-2.4.jar"/>
     
diff --git a/hbase-handler/build.xml b/hbase-handler/build.xml
index 4990b13950..f45dbfc5ba 100644
--- a/hbase-handler/build.xml
+++ b/hbase-handler/build.xml
@@ -52,6 +52,7 @@
   </path>
 
   <target name="test-jar" depends="compile-test, jar">
+    <echo message="Project: ${ant.project.name}"/>
     <delete file="${test.build.dir}/test-udfs.jar"/>
     <jar jarfile="${test.build.dir}/test-udfs.jar">
         <fileset dir="${test.build.classes}" includes="**/udf/*.class"/>
@@ -59,7 +60,8 @@
     </jar>
   </target>
 
-  <target name="gen-test" depends="deploy-ant-tasks, test-conditions, test-init" >
+  <target name="gen-test" depends="test-conditions, test-init" >
+    <echo message="Project: ${ant.project.name}"/>
     <taskdef name="qtestgen" classname="org.apache.hadoop.hive.ant.QTestGenTask"
              classpath="${build.dir.hive}/anttasks/hive-anttasks-${version}.jar:${hive.root}/lib/velocity-1.5.jar:${hive.root}/lib/commons-collections-3.2.1.jar:${hive.root}/lib/commons-lang-2.4.jar"/>
     
diff --git a/hwi/build.xml b/hwi/build.xml
index 76bffa8e45..4919570ff4 100644
--- a/hwi/build.xml
+++ b/hwi/build.xml
@@ -44,6 +44,7 @@
 
   <!--hive_hwi.war file contains only the JSP sources -->
   <target name="war">
+    <echo message="Project: ${ant.project.name}"/>
     <jar jarfile="${build.dir.hive}/hwi/hive-hwi-${version}.war" basedir="${basedir}/web">
       <manifest>
         <!-- Not putting these in their own manifest section, since that inserts
@@ -61,7 +62,7 @@
        is called without changes to the upstream build infrastructure.
   -->
   <target name="compile" depends="init, install-hadoopcore, setup, war">
-    <echo message="Compiling: ${ant.project.name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}"
diff --git a/jdbc/build.xml b/jdbc/build.xml
index 9d9a59eb76..641938abab 100644
--- a/jdbc/build.xml
+++ b/jdbc/build.xml
@@ -41,6 +41,7 @@
   </path>
 
   <target name="core-compile" depends="init">
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}/java"
@@ -54,9 +55,11 @@
   </target>
  
   <target name="compile" depends="core-compile">
+    <echo message="Project: ${ant.project.name}"/>
   </target>
 
   <target name="clean">
-      <delete dir="${build.classes}/../"/>
+    <echo message="Project: ${ant.project.name}"/>
+    <delete dir="${build.classes}/../"/>
   </target>
 </project>
diff --git a/metastore/build.xml b/metastore/build.xml
index 7f01f9193b..af46bc95ad 100755
--- a/metastore/build.xml
+++ b/metastore/build.xml
@@ -23,6 +23,7 @@
   <property name="model.dir" value="${src.dir}/model"/>
 
   <target name="thriftif" depends="check-thrift-home">
+    <echo message="Project: ${ant.project.name}"/>
     <fail unless="thrift.home">You must set the 'thrift.home' property!</fail>
     <echo>Executing ${thrift.home}/bin/thrift on ${ant.project.name}/if/hive_metastore.thrift</echo>
     <exec executable="${thrift.home}/bin/thrift"  failonerror="true" dir=".">
@@ -36,6 +37,7 @@
   </uptodate>
 
   <target name="build-grammar" unless="grammarBuild.notRequired">
+    <echo message="Project: ${ant.project.name}"/>
     <echo>Building Grammar ${src.dir}/java/org/apache/hadoop/hive/metastore/parser/Filter.g  ....</echo>
     <java classname="org.antlr.Tool" classpathref="classpath" fork="false">
        <arg value="-fo" />
@@ -45,11 +47,12 @@
   </target>
 
   <target name="metastore-init">
+    <echo message="Project: ${ant.project.name}"/>
     <mkdir dir="${build.dir}/gen/antlr/gen-java/org/apache/hadoop/hive/metastore/parser"/>
   </target>
 
   <target name="core-compile" depends="init,metastore-init,build-grammar,model-compile,ivy-retrieve">
-    <echo message="Compiling: "/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}/java:${src.dir}/gen/thrift/gen-javabean:${build.dir}/gen/antlr/gen-java"
@@ -63,9 +66,11 @@
   </target>
 
   <target name="compile" depends="core-compile, model-compile, model-enhance">
+    <echo message="Project: ${ant.project.name}"/>
   </target>
 
   <target name="model-compile" depends="init">
+    <echo message="Project: ${ant.project.name}"/>
     <javac srcdir="${model.dir}"  destdir="${build.classes}" debug="${javac.debug}">
        <classpath refid="classpath"/>
     </javac>
@@ -79,6 +84,7 @@
   </uptodate>
 
   <target name="model-enhance" depends="model-compile" unless="enhanceModel.notRequired" >
+    <echo message="Project: ${ant.project.name}"/>
     <taskdef name="datanucleusenhancer"
                 classname="org.datanucleus.enhancer.tools.EnhancerTask">
        <classpath refid="classpath"/>
@@ -96,8 +102,10 @@
 	<jvmarg line="-Dlog4j.configuration=${basedir}/../conf/hive-log4j.properties"/>
     </datanucleusenhancer>
   </target>
+
+
   <target name="model-jar" depends="model-enhance">
-    <echo message="Jar: ${name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <jar
       jarfile="${build.dir}/${name}-model-${version}.jar"
       basedir="${build.classes}"
@@ -114,6 +122,7 @@
   </target>
 
   <target name="generate-schema">
+    <echo message="Project: ${ant.project.name}"/>
     <java classname="org.jpox.SchemaTool"  failonerror="true" dir="${basedir}" fork="true">
       <classpath>
         <path refid="classpath"/>
diff --git a/odbc/build.xml b/odbc/build.xml
index db9f4afbbf..cddbba4955 100644
--- a/odbc/build.xml
+++ b/odbc/build.xml
@@ -41,12 +41,14 @@
   </path>
 
   <target name="check-word-size">
+    <echo message="Project: ${ant.project.name}"/>
     <condition property="word.size" value="64" else="32">
       <contains string="${os.arch}" substring="64"/>
     </condition>
   </target>
 
   <target name="compile-cpp" depends="init,check-word-size">
+    <echo message="Project: ${ant.project.name}"/>
     <exec dir="." executable="${make.cmd}" failonerror="true">
       <env key="WORD_SIZE" value="${word.size}"/>
       <env key="THRIFT_HOME" value="${thrift.home}"/>
@@ -60,6 +62,7 @@
   </target>
 
   <target name="clean">
+    <echo message="Project: ${ant.project.name}"/>
     <delete dir="${build.dir.hive}/odbc/include"/>
     <exec dir="." executable="${make.cmd}" failonerror="true">
       <arg line="clean"/>
@@ -69,6 +72,7 @@
   </target>
 
   <target name="install" depends="check-word-size">
+    <echo message="Project: ${ant.project.name}"/>
     <exec dir="." executable="${make.cmd}" failonerror="true">
       <arg line="install"/>
       <env key="WORD_SIZE" value="${word.size}"/>
@@ -79,6 +83,7 @@
   </target>
 
   <target name="uninstall">
+    <echo message="Project: ${ant.project.name}"/>
     <exec dir="." executable="${make.cmd}" failonerror="true">
       <arg line="uninstall"/>
       <env key="HIVE_ROOT" value="${hive.root}"/>
@@ -88,6 +93,7 @@
 
   <!-- Only run tests if thrift.home is defined so that we don't break other tests -->
   <target name="test" depends="check-word-size,check-thrift-home" if="thrift.home.defined">
+    <echo message="Project: ${ant.project.name}"/>
     <exec dir="." executable="${make.cmd}" failonerror="true">
       <arg line="test"/>
       <env key="WORD_SIZE" value="${word.size}"/>
diff --git a/pdk/build.xml b/pdk/build.xml
index b1f6ed4d38..65294e6df7 100644
--- a/pdk/build.xml
+++ b/pdk/build.xml
@@ -28,7 +28,7 @@
   </path>
 
   <target name="compile" depends="init, setup">
-    <echo message="Compiling: ${ant.project.name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}"
@@ -42,6 +42,7 @@
   </target>
 
   <target name="test" unless="testcase">
+    <echo message="Project: ${ant.project.name}"/>
     <delete quiet="true" dir="${build.dir}/test-plugin"/>
     <copy todir="${build.dir}/test-plugin">
       <fileset dir="${basedir}/test-plugin"/>
diff --git a/ql/build.xml b/ql/build.xml
index ca8ba861a1..8b22508df1 100644
--- a/ql/build.xml
+++ b/ql/build.xml
@@ -55,6 +55,7 @@
   </path>
 
   <target name="thriftif" depends="check-thrift-home">
+    <echo message="Project: ${ant.project.name}"/>
     <fail unless="thrift.home">You must set the 'thrift.home' property!</fail>
     <echo>Executing ${thrift.home}/bin/thrift on ${ant.project.name}/if/queryplan.thrift</echo>
     <exec executable="${thrift.home}/bin/thrift"  failonerror="true" dir=".">
@@ -62,7 +63,8 @@
     </exec>
   </target>
 
-  <target name="gen-test" depends="deploy-ant-tasks, test-conditions, test-init" >
+  <target name="gen-test" depends="test-conditions, test-init" >
+    <echo message="Project: ${ant.project.name}"/>
     <taskdef name="qtestgen" classname="org.apache.hadoop.hive.ant.QTestGenTask"
              classpath="${build.dir.hive}/anttasks/hive-anttasks-${version}.jar:${hive.root}/lib/velocity-1.5.jar:${hive.root}/lib/commons-collections-3.2.1.jar:${hive.root}/lib/commons-lang-2.4.jar:${hive.root}/lib/derby.jar"/>
     
@@ -155,6 +157,7 @@
   </uptodate>
 
   <target name="build-grammar" unless="grammarBuild.notRequired">
+    <echo message="Project: ${ant.project.name}"/>
     <echo>Building Grammar ${src.dir}/org/apache/hadoop/hive/ql/parse/Hive.g  ....</echo>
     <java classname="org.antlr.Tool" classpathref="classpath" fork="true">
        <arg value="-fo" />
@@ -164,11 +167,12 @@
   </target>
 
   <target name="ql-init">
+    <echo message="Project: ${ant.project.name}"/>
     <mkdir dir="${build.dir}/gen/antlr/gen-java/org/apache/hadoop/hive/ql/parse"/>
   </target>
 
   <target name="compile" depends="init, ql-init, build-grammar, ivy-retrieve">
-    <echo message="Compiling: ${name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}:${basedir}/src/gen/thrift/gen-javabean:${build.dir}/gen/antlr/gen-java"
@@ -187,7 +191,7 @@
   <!-- Override jar target to specify main class and compiler stuff -->
 
   <target name="jar" depends="compile">
-    <echo message="Jar: ${name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <unzip src="${build.ivy.lib.dir}/default/libthrift-${libthrift.version}.jar" dest="${build.dir.hive}/thrift/classes">
       <patternset>
           <exclude name="META-INF"/>
@@ -228,7 +232,7 @@
 
   <!-- Override deploy since we are deploying hive_exec and not hive_ql -->
   <target name="deploy" depends="jar">
-    <echo message="hive: ${name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <mkdir dir="${deploy.dir}"/>
     <copy file="${build.dir}/hive-exec-${version}.jar"
           todir="${deploy.dir}"/>
diff --git a/serde/build.xml b/serde/build.xml
index 51ac8dd59f..471c43df12 100644
--- a/serde/build.xml
+++ b/serde/build.xml
@@ -29,7 +29,7 @@ to call at top-level: ant deploy-contrib compile-core-test
 
 
   <target name="dynamic-serde" depends="init" if="javacc.home">
-
+    <echo message="Project: ${ant.project.name}"/>
     <jjtree buildnodefiles="true"
       target="${src.dir}/java/org/apache/hadoop/hive/serde2/dynamic_type/thrift_grammar.jjt"
       outputdirectory="${src.dir}/java/org/apache/hadoop/hive/serde2/dynamic_type"
@@ -43,7 +43,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   </target>
 
   <target name="compile" depends="init,dynamic-serde,ivy-retrieve">
-    <echo message="Compiling: ${name}"/>
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}/java/:${src.dir}/gen/thrift/gen-javabean/:${src.dir}/gen/protobuf/gen-java/"
@@ -56,6 +56,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   </target>
 
   <target name="thriftif" depends="check-thrift-home">
+    <echo message="Project: ${ant.project.name}"/>
     <fail unless="thrift.home">You must set the 'thrift.home' property!</fail>
     <echo>Executing ${thrift.home}/bin/thrift to build java serde Constants... </echo>
     <exec executable="${thrift.home}/bin/thrift"  failonerror="true" dir=".">
@@ -72,6 +73,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   </target>
 
   <target name="gen-testdata" depends="compile-test,test-jar">
+    <echo message="Project: ${ant.project.name}"/>
     <echo>Generating data/files/complex.seq... </echo>
     <java
      dir="${hive.root}"
diff --git a/service/build.xml b/service/build.xml
index 3c5462539c..10e8cf12ea 100644
--- a/service/build.xml
+++ b/service/build.xml
@@ -41,6 +41,7 @@
   </path>
 
   <target name="thriftif" depends="check-thrift-home">
+    <echo message="Project: ${ant.project.name}"/>
     <fail unless="thrift.home">You must set the 'thrift.home' property!</fail>
     <echo>Executing ${thrift.home}/bin/thrift on ${ant.project.name}/if/hive_service.thrift</echo>
     <exec executable="${thrift.home}/bin/thrift"  failonerror="true" dir=".">
@@ -49,6 +50,7 @@
   </target>
 
   <target name="core-compile" depends="init">
+    <echo message="Project: ${ant.project.name}"/>
     <javac
      encoding="${build.encoding}"
      srcdir="${src.dir}/java:${src.dir}/gen/thrift/gen-javabean"
@@ -62,9 +64,11 @@
   </target>
  
   <target name="compile" depends="core-compile">
+    <echo message="Project: ${ant.project.name}"/>
   </target>
 
   <target name="clean">
-      <delete dir="${build.classes}/../"/>
+    <echo message="Project: ${ant.project.name}"/>
+    <delete dir="${build.classes}/../"/>
   </target>
 </project>
diff --git a/shims/build.xml b/shims/build.xml
index 9dadc8a144..3930ca2054 100644
--- a/shims/build.xml
+++ b/shims/build.xml
@@ -42,6 +42,7 @@ to call at top-level: ant deploy-contrib compile-core-test
 
   <target name="build_shims" depends="install-hadoopcore-internal, ivy-retrieve-hadoop-source"
           description="Build shims against a particular hadoop version">
+    <echo message="Project: ${ant.project.name}"/>
     <getversionpref property="hadoop.version.ant-internal.prefix" input="${hadoop.version.ant-internal}" />
     <echo message="Compiling shims against hadoop ${hadoop.version.ant-internal} (${hadoop.root})"/>
     <javac
@@ -59,6 +60,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   </target>
 
   <target name="compile" depends="init">
+    <echo message="Project: ${ant.project.name}"/>
     <antcall target="build_shims" inheritRefs="false" inheritAll="false">
       <param name="hadoop.version.ant-internal" value="${hadoop.version}" />
     </antcall>
@@ -81,6 +83,7 @@ to call at top-level: ant deploy-contrib compile-core-test
   
   <target name="compile_secure_test" depends="install-hadoopcore-internal, ivy-retrieve-hadoop-source" 
           description="Test shims against a particular hadoop version">
+    <echo message="Project: ${ant.project.name}"/>
     <getversionpref property="hadoop.version.ant-internal.prefix" input="${hadoop.version.ant-internal}" />
     <echo message="Compiling shim tests against hadoop ${hadoop.version.ant-internal} (${hadoop.root})"/>
     <javac
@@ -111,7 +114,9 @@ to call at top-level: ant deploy-contrib compile-core-test
       <classpath refid="classpath"/>
     </javac>
   </target>
+  
   <target name="compile-test" depends="compile">
+    <echo message="Project: ${ant.project.name}"/>
     <antcall target="compile_secure_test" inheritRefs="false" inheritAll="false">
       <param name="hadoop.version.ant-internal" value="${hadoop.security.version}" />
       <param name="hadoop.version.ant-internal.prefix" value="0.20S" />
