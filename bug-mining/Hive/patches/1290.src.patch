diff --git a/hbase-handler/src/test/templates/TestHBaseCliDriver.vm b/hbase-handler/src/test/templates/TestHBaseCliDriver.vm
index 9c1651a283..c59e882a0c 100644
--- a/hbase-handler/src/test/templates/TestHBaseCliDriver.vm
+++ b/hbase-handler/src/test/templates/TestHBaseCliDriver.vm
@@ -89,7 +89,7 @@ public class $className extends TestCase {
   #set ($fname = $qf.getName())
   #set ($eidx = $fname.indexOf('.'))
   #set ($tname = $fname.substring(0, $eidx))
-  #set ($fpath = $qf.getCanonicalPath())
+  #set ($fpath = $qf.getCanonicalPath().replaceAll("\\","\\\\"))
   public void testCliDriver_$tname() throws Exception {
     runTest("$tname", "$fname", "$fpath");
   }
diff --git a/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm b/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm
index 5940cbb506..aaab85b8be 100644
--- a/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm
+++ b/hbase-handler/src/test/templates/TestHBaseNegativeCliDriver.vm
@@ -68,7 +68,7 @@ public class $className extends TestCase {
   #set ($fname = $qf.getName())
   #set ($eidx = $fname.indexOf('.'))
   #set ($tname = $fname.substring(0, $eidx))
-  #set ($fpath = $qf.getCanonicalPath())
+  #set ($fpath = $qf.getCanonicalPath().replaceAll("\\","\\\\"))
   public void testCliDriver_$tname() throws Exception {
     runTest("$tname", "$fname", "$fpath");
   }
