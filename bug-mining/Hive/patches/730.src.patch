diff --git a/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java b/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
index ffce4fe68b..e6407b328a 100644
--- a/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
+++ b/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStore.java
@@ -3668,7 +3668,6 @@ public static void startMetaStore(int port, HadoopThriftAuthBridge bridge)
   public static void startMetaStore(int port, HadoopThriftAuthBridge bridge,
       HiveConf conf) throws Throwable {
     try {
-      HMSHandler handler = new HMSHandler("new db based metaserver", conf);
 
       // Server will create new threads up to max as necessary. After an idle
       // period, it will destory threads to keep the number of threads in the
@@ -3681,7 +3680,7 @@ public static void startMetaStore(int port, HadoopThriftAuthBridge bridge,
       TServerTransport serverTransport = tcpKeepAlive ?
           new TServerSocketKeepAlive(port) : new TServerSocket(port);
 
-      TProcessor processor = new ThriftHiveMetastore.Processor(handler);
+      TProcessor processor;
       TTransportFactory transFactory;
       if (useSasl) {
          saslServer = bridge.createServer(
@@ -3691,8 +3690,11 @@ public static void startMetaStore(int port, HadoopThriftAuthBridge bridge,
         // start delegation token manager
         saslServer.startDelegationTokenSecretManager(conf);
         transFactory = saslServer.createTransportFactory();
-        processor = saslServer.wrapProcessor(processor);
+        processor = saslServer.wrapProcessor(new ThriftHiveMetastore.Processor(
+            new HMSHandler("new db based metaserver", conf)));
       } else {
+        processor = new ThriftHiveMetastore.Processor(
+            new HMSHandler("new db based metaserver", conf));
         transFactory = new TTransportFactory();
       }
 
