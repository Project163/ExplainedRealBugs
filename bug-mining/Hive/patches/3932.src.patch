diff --git a/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java b/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java
index 7a2f883d5d..132cb8d3e6 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/plan/ExplainWork.java
@@ -79,7 +79,9 @@ public ExplainWork(Path resFile,
     this.fetchTask = fetchTask;
     this.astTree = astTree;
     this.analyzer = analyzer;
-    this.inputs = analyzer.getInputs();
+    if (analyzer != null) {
+      this.inputs = analyzer.getInputs();
+    }
     this.extended = extended;
     this.formatted = formatted;
     this.dependency = dependency;
