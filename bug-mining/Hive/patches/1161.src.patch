diff --git a/data/files/tiny_a.txt b/data/files/tiny_a.txt
new file mode 100644
index 0000000000..c7867e6c62
--- /dev/null
+++ b/data/files/tiny_a.txt
@@ -0,0 +1 @@
+103200920268924913312
diff --git a/data/files/tiny_b.txt b/data/files/tiny_b.txt
new file mode 100644
index 0000000000..c8cdef26d7
--- /dev/null
+++ b/data/files/tiny_b.txt
@@ -0,0 +1,2 @@
+10320092002467760023374853555556606672767778808187889090919092971001031041071081081091101131131131131131131141161161161171161171171171151151171171171211201311311311251251241241281281311311321331341341341342626\N\N\N\N116
+1032009202689249102591061311421592443203984174335536167108269179711046105110931112114212151220122612321267136415491646194821702272232524332534285229252992311932073279332334123637364536343450347336383688373637583812386238733868388341184134412741704216\N\N\N\N3139
diff --git a/ql/src/test/queries/clientpositive/join_array.q b/ql/src/test/queries/clientpositive/join_array.q
new file mode 100644
index 0000000000..e4d95a51fa
--- /dev/null
+++ b/ql/src/test/queries/clientpositive/join_array.q
@@ -0,0 +1,10 @@
+create table tinyA(a bigint, b bigint) stored as textfile;
+create table tinyB(a bigint, bList array<int>) stored as textfile;
+
+load data local inpath '../data/files/tiny_a.txt' into table tinyA;
+load data local inpath '../data/files/tiny_b.txt' into table tinyB;
+
+select * from tinyA;
+select * from tinyB;
+
+select tinyB.a, tinyB.bList from tinyB full outer join tinyA on tinyB.a = tinyA.a;
diff --git a/ql/src/test/results/clientpositive/join_array.q.out b/ql/src/test/results/clientpositive/join_array.q.out
new file mode 100644
index 0000000000..2bf2c892e5
--- /dev/null
+++ b/ql/src/test/results/clientpositive/join_array.q.out
@@ -0,0 +1,53 @@
+PREHOOK: query: create table tinyA(a bigint, b bigint) stored as textfile
+PREHOOK: type: CREATETABLE
+POSTHOOK: query: create table tinyA(a bigint, b bigint) stored as textfile
+POSTHOOK: type: CREATETABLE
+POSTHOOK: Output: default@tinyA
+PREHOOK: query: create table tinyB(a bigint, bList array<int>) stored as textfile
+PREHOOK: type: CREATETABLE
+POSTHOOK: query: create table tinyB(a bigint, bList array<int>) stored as textfile
+POSTHOOK: type: CREATETABLE
+POSTHOOK: Output: default@tinyB
+PREHOOK: query: load data local inpath '../data/files/tiny_a.txt' into table tinyA
+PREHOOK: type: LOAD
+PREHOOK: Output: default@tinya
+POSTHOOK: query: load data local inpath '../data/files/tiny_a.txt' into table tinyA
+POSTHOOK: type: LOAD
+POSTHOOK: Output: default@tinya
+PREHOOK: query: load data local inpath '../data/files/tiny_b.txt' into table tinyB
+PREHOOK: type: LOAD
+PREHOOK: Output: default@tinyb
+POSTHOOK: query: load data local inpath '../data/files/tiny_b.txt' into table tinyB
+POSTHOOK: type: LOAD
+POSTHOOK: Output: default@tinyb
+PREHOOK: query: select * from tinyA
+PREHOOK: type: QUERY
+PREHOOK: Input: default@tinya
+#### A masked pattern was here ####
+POSTHOOK: query: select * from tinyA
+POSTHOOK: type: QUERY
+POSTHOOK: Input: default@tinya
+#### A masked pattern was here ####
+10320092026892491	3312
+PREHOOK: query: select * from tinyB
+PREHOOK: type: QUERY
+PREHOOK: Input: default@tinyb
+#### A masked pattern was here ####
+POSTHOOK: query: select * from tinyB
+POSTHOOK: type: QUERY
+POSTHOOK: Input: default@tinyb
+#### A masked pattern was here ####
+10320092002467760	[0,23,37,48,53,55,55,56,60,66,72,76,77,78,80,81,87,88,90,90,91,90,92,97,100,103,104,107,108,108,109,110,113,113,113,113,113,113,114,116,116,116,117,116,117,117,117,115,115,117,117,117,121,120,131,131,131,125,125,124,124,128,128,131,131,132,133,134,134,134,134,26,26,null,null,null,null,116]
+10320092026892491	[0,2,59,106,131,142,159,244,320,398,417,433,553,616,710,826,917,971,1046,1051,1093,1112,1142,1215,1220,1226,1232,1267,1364,1549,1646,1948,2170,2272,2325,2433,2534,2852,2925,2992,3119,3207,3279,3323,3412,3637,3645,3634,3450,3473,3638,3688,3736,3758,3812,3862,3873,3868,3883,4118,4134,4127,4170,4216,null,null,null,null,3139]
+PREHOOK: query: select tinyB.a, tinyB.bList from tinyB full outer join tinyA on tinyB.a = tinyA.a
+PREHOOK: type: QUERY
+PREHOOK: Input: default@tinya
+PREHOOK: Input: default@tinyb
+#### A masked pattern was here ####
+POSTHOOK: query: select tinyB.a, tinyB.bList from tinyB full outer join tinyA on tinyB.a = tinyA.a
+POSTHOOK: type: QUERY
+POSTHOOK: Input: default@tinya
+POSTHOOK: Input: default@tinyb
+#### A masked pattern was here ####
+10320092002467760	[0,23,37,48,53,55,55,56,60,66,72,76,77,78,80,81,87,88,90,90,91,90,92,97,100,103,104,107,108,108,109,110,113,113,113,113,113,113,114,116,116,116,117,116,117,117,117,115,115,117,117,117,121,120,131,131,131,125,125,124,124,128,128,131,131,132,133,134,134,134,134,26,26,null,null,null,null,116]
+10320092026892491	[0,2,59,106,131,142,159,244,320,398,417,433,553,616,710,826,917,971,1046,1051,1093,1112,1142,1215,1220,1226,1232,1267,1364,1549,1646,1948,2170,2272,2325,2433,2534,2852,2925,2992,3119,3207,3279,3323,3412,3637,3645,3634,3450,3473,3638,3688,3736,3758,3812,3862,3873,3868,3883,4118,4134,4127,4170,4216,null,null,null,null,3139]
diff --git a/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java b/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java
index 94327b7266..ce0cfb3319 100644
--- a/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java
+++ b/serde/src/java/org/apache/hadoop/hive/serde2/lazy/LazyArray.java
@@ -187,7 +187,7 @@ private Object uncheckedGetElement(int index) {
         && 0 == LazyUtils
         .compare(bytes.getData(), startPosition[index], elementLength,
         nullSequence.getBytes(), 0, nullSequence.getLength())) {
-      return null;
+      return arrayElements[index] = null;
     }
     arrayElements[index] = LazyFactory
         .createLazyObject(oi.getListElementObjectInspector());
diff --git a/serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyArrayMapStruct.java b/serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyArrayMapStruct.java
index 7d6aaf8deb..99628dc133 100644
--- a/serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyArrayMapStruct.java
+++ b/serde/src/test/org/apache/hadoop/hive/serde2/lazy/TestLazyArrayMapStruct.java
@@ -95,6 +95,20 @@ public void testLazyArray() throws Throwable {
       assertNull((b.getListElementObject(5)));
       assertEquals(5, b.getList().size());
 
+      // -- HIVE-4149
+      b = (LazyArray) LazyFactory.createLazyObject(oi);
+
+      data = new byte[] {'a', '\t', '\\', 'N'};
+      TestLazyPrimitive.initLazyObject(b, data, 0, data.length);
+      assertEquals(new Text("a"), ((LazyString) b.getListElementObject(0)).getWritableObject());
+      assertNull(b.getListElementObject(1));
+
+      data = new byte[] {'\\', 'N', '\t', 'a'};
+      TestLazyPrimitive.initLazyObject(b, data, 0, data.length);
+      assertNull(b.getListElementObject(0));
+      assertNull(b.getListElementObject(0));  // twice (returns not cleaned cache)
+      assertEquals(new Text("a"), ((LazyString) b.getListElementObject(1)).getWritableObject());
+
     } catch (Throwable e) {
       e.printStackTrace();
       throw e;
