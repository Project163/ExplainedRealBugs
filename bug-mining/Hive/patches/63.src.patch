diff --git a/CHANGES.txt b/CHANGES.txt
index 8c25e37936..b4a96dda1c 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -84,6 +84,8 @@ Trunk (unreleased changes)
 
   BUG FIXES
 
+    HIVE-255. Propagate user name to Hive metastore. (Prasad Chakka via zshao)
+
     HIVE-235. Fixed DynamicSerDe to work with null values with Thrift
     Protocols that can have missing fields for null values. (zshao)
 
diff --git a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java b/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
index bbeb3cc69f..9275b86bf3 100644
--- a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
+++ b/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
@@ -18,16 +18,20 @@
 
 package org.apache.hadoop.hive.conf;
 
+import java.io.IOException;
 import java.io.PrintStream;
 import java.net.URL;
 import java.util.Iterator;
 import java.util.Map;
 import java.util.Properties;
 
+import javax.security.auth.login.LoginException;
+
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
 import org.apache.hadoop.conf.Configuration;
 import org.apache.hadoop.mapred.JobConf;
+import org.apache.hadoop.security.UserGroupInformation;
 
 import org.apache.commons.lang.StringUtils;
 
@@ -106,7 +110,7 @@ public static enum ConfVars {
     public final String defaultVal;
     public final int defaultIntVal;
     public final float defaultFloatVal;
-    public final Class valClass;
+    public final Class<?> valClass;
     public final boolean defaultBoolVal;
 
     ConfVars(String varname, String defaultVal) {
@@ -154,7 +158,7 @@ public static int getIntVar(Configuration conf, ConfVars var) {
     assert(var.valClass == Integer.class);
     return conf.getInt(var.varname, var.defaultIntVal);
   }
-
+  
   public int getIntVar(ConfVars var) {
     return getIntVar(this, var);
   }
@@ -202,12 +206,12 @@ public void logVars(PrintStream ps) {
   }
 
 
-  public HiveConf(Class cls) {
+  public HiveConf(Class<?> cls) {
     super();
     initialize(cls);
   }
 
-  public HiveConf(Configuration other, Class cls) {
+  public HiveConf(Configuration other, Class<?> cls) {
     super(other);
     initialize(cls);
   }
@@ -223,7 +227,7 @@ private Properties getUnderlyingProps() {
   }
 
 
-  private void initialize(Class cls) {
+  private void initialize(Class<?> cls) {
     hiveJar = (new JobConf(cls)).getJar();
     
     // preserve the original configuration
@@ -311,4 +315,18 @@ public String getAuxJars() {
   public void setAuxJars(String auxJars) {
     this.auxJars = auxJars;
   }
+  
+  /**
+   * @return the user name set in hadoop.job.ugi param or the current user from System
+   * @throws IOException
+   */
+  public String getUser() throws IOException {
+    try {
+      return UserGroupInformation.login(this).getUserName();
+    } catch (LoginException e) {
+      throw (IOException)new IOException().initCause(e);
+    }
+  }
+
+
 }
diff --git a/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java b/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java
index 6d0d262fdd..5e882c5835 100644
--- a/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java
+++ b/ql/src/java/org/apache/hadoop/hive/ql/exec/DDLTask.java
@@ -549,7 +549,11 @@ else if (alterTbl.getOp() == alterTableDesc.alterTableTypes.ADDCOLS) {
     }
 
     // set last modified by properties
-    tbl.setProperty("last_modified_by", System.getProperty("user.name"));
+    try {
+      tbl.setProperty("last_modified_by", conf.getUser());
+    } catch (IOException e) {
+      console.printError("Unable to get current user: " + e.getMessage(), StringUtils.stringifyException(e));
+    }
     tbl.setProperty("last_modified_time", Long.toString(System
         .currentTimeMillis() / 1000));
 
@@ -634,7 +638,7 @@ private int createTable(Hive db, createTableDesc crtTbl) throws HiveException {
         Iterator<Map.Entry<String, String>> iter = crtTbl.getMapProp()
             .entrySet().iterator();
         while (iter.hasNext()) {
-          Map.Entry<String, String> m = (Map.Entry) iter.next();
+          Map.Entry<String, String> m = (Map.Entry<String, String>) iter.next();
           tbl.setSerdeParam(m.getKey(), m.getValue());
         }
       }
