diff --git a/ql/src/test/queries/clientpositive/recursive_dir.q b/ql/src/test/queries/clientpositive/recursive_dir.q
index d703b8ee50..709c6eb454 100644
--- a/ql/src/test/queries/clientpositive/recursive_dir.q
+++ b/ql/src/test/queries/clientpositive/recursive_dir.q
@@ -11,6 +11,7 @@ ALTER TABLE fact_daily SET TBLPROPERTIES('EXTERNAL'='TRUE');
 ALTER TABLE fact_daily ADD PARTITION (ds='1')
 LOCATION 'pfile:${system:test.tmp.dir}/fact_tz/ds=1';
 
+set hive.mapred.supports.subdirectories=true;
 set mapred.input.dir.recursive=true;
 set hive.input.format=org.apache.hadoop.hive.ql.io.HiveInputFormat;
 
diff --git a/ql/src/test/results/clientpositive/recursive_dir.q.out b/ql/src/test/results/clientpositive/recursive_dir.q.out
index 874c19e518..d2c36b1328 100644
--- a/ql/src/test/results/clientpositive/recursive_dir.q.out
+++ b/ql/src/test/results/clientpositive/recursive_dir.q.out
@@ -56,10 +56,12 @@ POSTHOOK: Lineage: fact_tz PARTITION(ds=1,hr=1).x EXPRESSION [(src)src.FieldSche
 495	1
 PREHOOK: query: SELECT count(1) FROM fact_daily WHERE ds='1'
 PREHOOK: type: QUERY
+PREHOOK: Input: default@fact_daily
 PREHOOK: Input: default@fact_daily@ds=1
 #### A masked pattern was here ####
 POSTHOOK: query: SELECT count(1) FROM fact_daily WHERE ds='1'
 POSTHOOK: type: QUERY
+POSTHOOK: Input: default@fact_daily
 POSTHOOK: Input: default@fact_daily@ds=1
 #### A masked pattern was here ####
 POSTHOOK: Lineage: fact_tz PARTITION(ds=1,hr=1).x EXPRESSION [(src)src.FieldSchema(name:key, type:string, comment:default), ]
