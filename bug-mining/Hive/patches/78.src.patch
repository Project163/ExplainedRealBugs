diff --git a/CHANGES.txt b/CHANGES.txt
index 9a27c4a08c..eadd6a4e7e 100644
--- a/CHANGES.txt
+++ b/CHANGES.txt
@@ -19,6 +19,9 @@ Trunk (unreleased changes)
 
     HIVE-271. Move test-udfs creation to build-common in order to
     fix broken 0.17 build. (athusoo)
+    
+    HIVE-286. Use round(xxx,12) to make sure there is no precision
+    matching problem in testCliDriver_udf7. (zshao via johan)    
 
 Release 0.2.0 - Unreleased
 
diff --git a/ql/src/test/queries/clientpositive/udf7.q b/ql/src/test/queries/clientpositive/udf7.q
index 7ba1cde7bc..b9580b79a3 100644
--- a/ql/src/test/queries/clientpositive/udf7.q
+++ b/ql/src/test/queries/clientpositive/udf7.q
@@ -3,15 +3,16 @@ CREATE TABLE dest1(c1 STRING) STORED AS TEXTFILE;
 FROM src INSERT OVERWRITE TABLE dest1 SELECT '  abc  ' WHERE src.key = 86;
 
 EXPLAIN
-SELECT LN(3.0), LN(0.0), LN(-1), LOG(3.0), LOG(0.0), LOG(-1), LOG2(3.0),
-       LOG2(0.0), LOG2(-1), LOG10(3.0), LOG10(0.0), LOG10(-1), LOG(2, 3.0),
-       LOG(2, 0.0), LOG(2, -1), LOG(0.5, 2), LOG(2, 0.5), EXP(2.0),
+SELECT ROUND(LN(3.0),12), LN(0.0), LN(-1), ROUND(LOG(3.0),12), LOG(0.0),
+       LOG(-1), ROUND(LOG2(3.0),12), LOG2(0.0), LOG2(-1),
+       ROUND(LOG10(3.0),12), LOG10(0.0), LOG10(-1), ROUND(LOG(2, 3.0),12),
+       LOG(2, 0.0), LOG(2, -1), LOG(0.5, 2), LOG(2, 0.5), ROUND(EXP(2.0),12),
        POW(2,3), POWER(2,3), POWER(2,-3), POWER(0.5, -3), POWER(4, 0.5),
        POWER(-1, 0.5), POWER(-1, 2) FROM dest1;
 
-SELECT LN(3.0), LN(0.0), LN(-1), LOG(3.0), LOG(0.0), LOG(-1), LOG2(3.0),
-       LOG2(0.0), LOG2(-1), LOG10(3.0), LOG10(0.0), LOG10(-1), LOG(2, 3.0),
-       LOG(2, 0.0), LOG(2, -1), LOG(0.5, 2), LOG(2, 0.5), EXP(2.0),
+SELECT ROUND(LN(3.0),12), LN(0.0), LN(-1), ROUND(LOG(3.0),12), LOG(0.0),
+       LOG(-1), ROUND(LOG2(3.0),12), LOG2(0.0), LOG2(-1),
+       ROUND(LOG10(3.0),12), LOG10(0.0), LOG10(-1), ROUND(LOG(2, 3.0),12),
+       LOG(2, 0.0), LOG(2, -1), LOG(0.5, 2), LOG(2, 0.5), ROUND(EXP(2.0),12),
        POW(2,3), POWER(2,3), POWER(2,-3), POWER(0.5, -3), POWER(4, 0.5),
        POWER(-1, 0.5), POWER(-1, 2) FROM dest1;
-
diff --git a/ql/src/test/results/clientpositive/udf7.q.out b/ql/src/test/results/clientpositive/udf7.q.out
index 79f2b47c14..0f2f215adc 100644
--- a/ql/src/test/results/clientpositive/udf7.q.out
+++ b/ql/src/test/results/clientpositive/udf7.q.out
@@ -1,5 +1,5 @@
 ABSTRACT SYNTAX TREE:
-  (TOK_QUERY (TOK_FROM (TOK_TABREF dest1)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_FUNCTION LN 3.0)) (TOK_SELEXPR (TOK_FUNCTION LN 0.0)) (TOK_SELEXPR (TOK_FUNCTION LN (- 1))) (TOK_SELEXPR (TOK_FUNCTION LOG 3.0)) (TOK_SELEXPR (TOK_FUNCTION LOG 0.0)) (TOK_SELEXPR (TOK_FUNCTION LOG (- 1))) (TOK_SELEXPR (TOK_FUNCTION LOG2 3.0)) (TOK_SELEXPR (TOK_FUNCTION LOG2 0.0)) (TOK_SELEXPR (TOK_FUNCTION LOG2 (- 1))) (TOK_SELEXPR (TOK_FUNCTION LOG10 3.0)) (TOK_SELEXPR (TOK_FUNCTION LOG10 0.0)) (TOK_SELEXPR (TOK_FUNCTION LOG10 (- 1))) (TOK_SELEXPR (TOK_FUNCTION LOG 2 3.0)) (TOK_SELEXPR (TOK_FUNCTION LOG 2 0.0)) (TOK_SELEXPR (TOK_FUNCTION LOG 2 (- 1))) (TOK_SELEXPR (TOK_FUNCTION LOG 0.5 2)) (TOK_SELEXPR (TOK_FUNCTION LOG 2 0.5)) (TOK_SELEXPR (TOK_FUNCTION EXP 2.0)) (TOK_SELEXPR (TOK_FUNCTION POW 2 3)) (TOK_SELEXPR (TOK_FUNCTION POWER 2 3)) (TOK_SELEXPR (TOK_FUNCTION POWER 2 (- 3))) (TOK_SELEXPR (TOK_FUNCTION POWER 0.5 (- 3))) (TOK_SELEXPR (TOK_FUNCTION POWER 4 0.5)) (TOK_SELEXPR (TOK_FUNCTION POWER (- 1) 0.5)) (TOK_SELEXPR (TOK_FUNCTION POWER (- 1) 2)))))
+  (TOK_QUERY (TOK_FROM (TOK_TABREF dest1)) (TOK_INSERT (TOK_DESTINATION (TOK_DIR TOK_TMP_FILE)) (TOK_SELECT (TOK_SELEXPR (TOK_FUNCTION ROUND (TOK_FUNCTION LN 3.0) 12)) (TOK_SELEXPR (TOK_FUNCTION LN 0.0)) (TOK_SELEXPR (TOK_FUNCTION LN (- 1))) (TOK_SELEXPR (TOK_FUNCTION ROUND (TOK_FUNCTION LOG 3.0) 12)) (TOK_SELEXPR (TOK_FUNCTION LOG 0.0)) (TOK_SELEXPR (TOK_FUNCTION LOG (- 1))) (TOK_SELEXPR (TOK_FUNCTION ROUND (TOK_FUNCTION LOG2 3.0) 12)) (TOK_SELEXPR (TOK_FUNCTION LOG2 0.0)) (TOK_SELEXPR (TOK_FUNCTION LOG2 (- 1))) (TOK_SELEXPR (TOK_FUNCTION ROUND (TOK_FUNCTION LOG10 3.0) 12)) (TOK_SELEXPR (TOK_FUNCTION LOG10 0.0)) (TOK_SELEXPR (TOK_FUNCTION LOG10 (- 1))) (TOK_SELEXPR (TOK_FUNCTION ROUND (TOK_FUNCTION LOG 2 3.0) 12)) (TOK_SELEXPR (TOK_FUNCTION LOG 2 0.0)) (TOK_SELEXPR (TOK_FUNCTION LOG 2 (- 1))) (TOK_SELEXPR (TOK_FUNCTION LOG 0.5 2)) (TOK_SELEXPR (TOK_FUNCTION LOG 2 0.5)) (TOK_SELEXPR (TOK_FUNCTION ROUND (TOK_FUNCTION EXP 2.0) 12)) (TOK_SELEXPR (TOK_FUNCTION POW 2 3)) (TOK_SELEXPR (TOK_FUNCTION POWER 2 3)) (TOK_SELEXPR (TOK_FUNCTION POWER 2 (- 3))) (TOK_SELEXPR (TOK_FUNCTION POWER 0.5 (- 3))) (TOK_SELEXPR (TOK_FUNCTION POWER 4 0.5)) (TOK_SELEXPR (TOK_FUNCTION POWER (- 1) 0.5)) (TOK_SELEXPR (TOK_FUNCTION POWER (- 1) 2)))))
 
 STAGE DEPENDENCIES:
   Stage-1 is a root stage
@@ -13,31 +13,31 @@ STAGE PLANS:
             Select Operator
               Select Operator
                 expressions:
-                      expr: ln(3.0)
+                      expr: round(ln(3.0), 12)
                       type: double
                       expr: ln(0.0)
                       type: double
                       expr: ln(UDFToDouble(- 1))
                       type: double
-                      expr: log(3.0)
+                      expr: round(log(3.0), 12)
                       type: double
                       expr: log(0.0)
                       type: double
                       expr: log(UDFToDouble(- 1))
                       type: double
-                      expr: log2(3.0)
+                      expr: round(log2(3.0), 12)
                       type: double
                       expr: log2(0.0)
                       type: double
                       expr: log2(UDFToDouble(- 1))
                       type: double
-                      expr: log10(3.0)
+                      expr: round(log10(3.0), 12)
                       type: double
                       expr: log10(0.0)
                       type: double
                       expr: log10(UDFToDouble(- 1))
                       type: double
-                      expr: log(UDFToDouble(2), 3.0)
+                      expr: round(log(UDFToDouble(2), 3.0), 12)
                       type: double
                       expr: log(UDFToDouble(2), 0.0)
                       type: double
@@ -47,7 +47,7 @@ STAGE PLANS:
                       type: double
                       expr: log(UDFToDouble(2), 0.5)
                       type: double
-                      expr: exp(2.0)
+                      expr: round(exp(2.0), 12)
                       type: double
                       expr: pow(UDFToDouble(2), UDFToDouble(3))
                       type: double
@@ -75,4 +75,4 @@ STAGE PLANS:
       limit: -1
 
 
-1.0986122886681098	NULL	NULL	1.0986122886681098	NULL	NULL	1.5849625007211563	NULL	NULL	0.47712125471966244	NULL	NULL	1.5849625007211563	NULL	NULL	NULL	-1.0	7.38905609893065	8.0	8.0	0.125	8.0	2.0	NaN	1.0
+1.098612288668	NULL	NULL	1.098612288668	NULL	NULL	1.584962500721	NULL	NULL	0.47712125472	NULL	NULL	1.584962500721	NULL	NULL	NULL	-1.0	7.389056098931	8.0	8.0	0.125	8.0	2.0	NaN	1.0
