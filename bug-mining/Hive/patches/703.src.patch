diff --git a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java b/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
index 0cc8cf6c2a..ebf6816a42 100644
--- a/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
+++ b/common/src/java/org/apache/hadoop/hive/conf/HiveConf.java
@@ -54,6 +54,7 @@ public class HiveConf extends Configuration {
       HiveConf.ConfVars.METASTOREDIRECTORY,
       HiveConf.ConfVars.METASTOREWAREHOUSE,
       HiveConf.ConfVars.METASTOREURIS,
+      HiveConf.ConfVars.METASTORE_MODE,
       HiveConf.ConfVars.METASTORETHRIFTRETRIES,
       HiveConf.ConfVars.METASTORE_CLIENT_CONNECT_RETRY_DELAY,
       HiveConf.ConfVars.METASTORE_CLIENT_SOCKET_TIMEOUT,
@@ -225,6 +226,7 @@ public static enum ConfVars {
     METASTORE_AUTHORIZATION_STORAGE_AUTH_CHECKS("hive.metastore.authorization.storage.checks", false),
     METASTORE_EVENT_CLEAN_FREQ("hive.metastore.event.clean.freq",0L),
     METASTORE_EVENT_EXPIRY_DURATION("hive.metastore.event.expiry.duration",0L),
+    METASTORE_MODE("hive.metastore.local",true),
     // Default parameters for creating tables
     NEWTABLEDEFAULTPARA("hive.table.parameters.default",""),
 
diff --git a/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java b/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java
index c5d6c8fb67..ebdef8d3df 100644
--- a/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java
+++ b/metastore/src/java/org/apache/hadoop/hive/metastore/HiveMetaStoreClient.java
@@ -102,7 +102,7 @@ public HiveMetaStoreClient(HiveConf conf, HiveMetaHookLoader hookLoader)
     }
     this.conf = conf;
 
-    localMetaStore = conf.getBoolean("hive.metastore.local", false);
+    localMetaStore = conf.getBoolVar(ConfVars.METASTORE_MODE);
     if (localMetaStore) {
       // instantiate the metastore server handler directly instead of connecting
       // through the network
diff --git a/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java b/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java
index 32d206696c..dad795c248 100644
--- a/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java
+++ b/metastore/src/test/org/apache/hadoop/hive/metastore/TestMarkPartitionRemote.java
@@ -19,6 +19,7 @@
 package org.apache.hadoop.hive.metastore;
 
 import org.apache.hadoop.hive.conf.HiveConf;
+import org.apache.hadoop.hive.conf.HiveConf.ConfVars;
 
 public class TestMarkPartitionRemote extends TestMarkPartition{
 
@@ -41,7 +42,7 @@ protected void setUp() throws Exception {
     Thread t = new Thread(new RunMS());
     t.setDaemon(true);
     t.start();
-    hiveConf.set("hive.metastore.local", "false");
+    hiveConf.setBoolVar(ConfVars.METASTORE_MODE, false);
     hiveConf.setVar(HiveConf.ConfVars.METASTOREURIS, "thrift://localhost:29111");
     hiveConf.setIntVar(HiveConf.ConfVars.METASTORETHRIFTRETRIES, 3);
     Thread.sleep(30000);
diff --git a/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java b/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java
index 935956c269..a089269309 100644
--- a/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java
+++ b/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreAuthorization.java
@@ -39,7 +39,7 @@ public class TestMetaStoreAuthorization extends TestCase {
   public void setup() throws Exception {
     System.setProperty(HiveConf.ConfVars.METASTORE_AUTHORIZATION_STORAGE_AUTH_CHECKS.varname,
         "true");
-    conf.set("hive.metastore.local", "false");
+    conf.setBoolVar(ConfVars.METASTORE_MODE, false);
     conf.setVar(HiveConf.ConfVars.METASTOREURIS, "thrift://localhost:" + port);
     conf.setIntVar(HiveConf.ConfVars.METASTORETHRIFTRETRIES, 3);
     conf.setIntVar(ConfVars.METASTORE_CLIENT_CONNECT_RETRY_DELAY, 60);
diff --git a/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java b/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java
index d03483e798..1270610949 100644
--- a/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java
+++ b/metastore/src/test/org/apache/hadoop/hive/metastore/TestMetaStoreEventListener.java
@@ -78,7 +78,7 @@ protected void setUp() throws Exception {
     t.start();
     Thread.sleep(40000);
     hiveConf = new HiveConf(this.getClass());
-    hiveConf.set("hive.metastore.local", "false");
+    hiveConf.setBoolVar(ConfVars.METASTORE_MODE, false);
     hiveConf.setVar(HiveConf.ConfVars.METASTOREURIS, "thrift://localhost:" + msPort);
     hiveConf.setIntVar(HiveConf.ConfVars.METASTORETHRIFTRETRIES, 3);
     hiveConf.set(HiveConf.ConfVars.PREEXECHOOKS.varname, "");
diff --git a/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java b/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java
index a2a5710204..758c6d7459 100644
--- a/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java
+++ b/metastore/src/test/org/apache/hadoop/hive/metastore/TestRemoteHiveMetaStore.java
@@ -64,7 +64,7 @@ protected void setUp() throws Exception {
     Thread.sleep(5000);
 
     // hive.metastore.local should be defined in HiveConf
-    hiveConf.set("hive.metastore.local", "false");
+    hiveConf.setBoolVar(ConfVars.METASTORE_MODE, false);
     hiveConf.setVar(HiveConf.ConfVars.METASTOREURIS, "thrift://localhost:" + METASTORE_PORT);
     hiveConf.setIntVar(HiveConf.ConfVars.METASTORETHRIFTRETRIES, 3);
     hiveConf.setIntVar(ConfVars.METASTORE_CLIENT_CONNECT_RETRY_DELAY, 60);
diff --git a/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java b/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java
index dc34f060b6..aadb34dd95 100644
--- a/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java
+++ b/shims/src/test/org/apache/hadoop/hive/thrift/TestHadoop20SAuthBridge.java
@@ -22,9 +22,7 @@
 import java.io.DataInputStream;
 import java.io.IOException;
 import java.net.InetAddress;
-import java.net.InetSocketAddress;
 import java.net.NetworkInterface;
-import java.net.Socket;
 import java.security.PrivilegedExceptionAction;
 import java.util.ArrayList;
 import java.util.Arrays;
@@ -35,6 +33,7 @@
 import org.apache.hadoop.conf.Configuration;
 import org.apache.hadoop.fs.Path;
 import org.apache.hadoop.hive.conf.HiveConf;
+import org.apache.hadoop.hive.conf.HiveConf.ConfVars;
 import org.apache.hadoop.hive.metastore.HiveMetaStore;
 import org.apache.hadoop.hive.metastore.HiveMetaStoreClient;
 import org.apache.hadoop.hive.metastore.MetaStoreUtils;
@@ -42,8 +41,8 @@
 import org.apache.hadoop.hive.metastore.api.MetaException;
 import org.apache.hadoop.io.Text;
 import org.apache.hadoop.security.SaslRpcServer;
-import org.apache.hadoop.security.UserGroupInformation;
 import org.apache.hadoop.security.SaslRpcServer.AuthMethod;
+import org.apache.hadoop.security.UserGroupInformation;
 import org.apache.hadoop.security.UserGroupInformation.AuthenticationMethod;
 import org.apache.hadoop.security.authorize.AuthorizationException;
 import org.apache.hadoop.security.authorize.ProxyUsers;
@@ -117,7 +116,7 @@ public void setup(final int port) throws Exception {
     System.setProperty(HiveConf.ConfVars.METASTOREWAREHOUSE.varname, new Path(
         System.getProperty("test.build.data", "/tmp")).toString());
     conf = new HiveConf(TestHadoop20SAuthBridge.class);
-    conf.setBoolean("hive.metastore.local", false);
+    conf.setBoolVar(ConfVars.METASTORE_MODE, false);
     MetaStoreUtils.startMetaStore(port, new MyHadoopThriftAuthBridge20S());
   }
 
