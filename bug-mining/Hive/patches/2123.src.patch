diff --git a/metastore/scripts/upgrade/oracle/015-HIVE-5700.oracle.sql b/metastore/scripts/upgrade/oracle/015-HIVE-5700.oracle.sql
index b1c5c53fa3..0414fc64c6 100644
--- a/metastore/scripts/upgrade/oracle/015-HIVE-5700.oracle.sql
+++ b/metastore/scripts/upgrade/oracle/015-HIVE-5700.oracle.sql
@@ -1,15 +1,6 @@
 -- Normalize the date partition column values as best we can. No schema changes.
 
-CREATE FUNCTION hive13_to_date(date_str IN VARCHAR2)
-RETURN DATE
-IS dt DATE;
-BEGIN
-  dt := TO_DATE(date_str, 'YYYY-MM-DD');
-  RETURN dt;
-EXCEPTION
-  WHEN others THEN RETURN null;
-END;
-/
+CREATE FUNCTION hive13_to_date(date_str IN VARCHAR2) RETURN DATE IS dt DATE; BEGIN dt := TO_DATE(date_str, 'YYYY-MM-DD'); RETURN dt; EXCEPTION WHEN others THEN RETURN null; END;/
 
 MERGE INTO PARTITION_KEY_VALS
 USING (
diff --git a/metastore/scripts/upgrade/postgres/015-HIVE-5700.postgres.sql b/metastore/scripts/upgrade/postgres/015-HIVE-5700.postgres.sql
index d10d65974d..aedb2b5dbf 100644
--- a/metastore/scripts/upgrade/postgres/015-HIVE-5700.postgres.sql
+++ b/metastore/scripts/upgrade/postgres/015-HIVE-5700.postgres.sql
@@ -1,16 +1,7 @@
 SELECT '< HIVE-5700 enforce single date format for partition column storage >';
 
 -- Normalize the date partition column values as best we can. No schema changes.
-
-CREATE FUNCTION hive13_to_date(date_str text) RETURNS DATE AS $$
-DECLARE dt DATE;
-BEGIN
-  dt := date_str::DATE;
-  RETURN dt;
-EXCEPTION
-  WHEN others THEN RETURN null;
-END;
-$$ LANGUAGE plpgsql;
+CREATE FUNCTION hive13_to_date(date_str text) RETURNS DATE AS $$ DECLARE dt DATE; BEGIN dt := date_str::DATE; RETURN dt; EXCEPTION WHEN others THEN RETURN null; END; $$ LANGUAGE plpgsql;
 
 UPDATE "PARTITION_KEY_VALS"
 SET "PART_KEY_VAL" = COALESCE(TO_CHAR(hive13_to_date(src."PART_KEY_VAL"),'YYYY-MM-DD'), src."PART_KEY_VAL")
