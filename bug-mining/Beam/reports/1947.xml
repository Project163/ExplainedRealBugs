<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:10:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-10506] Flake / failure in SplunkEventWriterTest &gt; successfulSplunkWriteSingleBatchTest</title>
                <link>https://issues.apache.org/jira/browse/BEAM-10506</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PreCommit_Java_Commit/12391/testReport/junit/org.apache.beam.sdk.io.splunk/SplunkEventWriterTest/successfulSplunkWriteSingleBatchTest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PreCommit_Java_Commit/12391/testReport/junit/org.apache.beam.sdk.io.splunk/SplunkEventWriterTest/successfulSplunkWriteSingleBatchTest/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
org.mockserver.client.SocketCommunicationException: Response was not received from MockServer after 20000 milliseconds, to wait longer please use &lt;span class=&quot;code-quote&quot;&gt;&quot;mockserver.maxSocketTimeout&quot;&lt;/span&gt; system property or ConfigurationProperties.maxSocketTimeout(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; milliseconds)
	at org.mockserver.client.NettyHttpClient.sendRequest(NettyHttpClient.java:99)
	at org.mockserver.client.MockServerClient.sendRequest(MockServerClient.java:183)
	at org.mockserver.client.MockServerClient.upsert(MockServerClient.java:844)
	at org.mockserver.client.ForwardChainExpectation.respond(ForwardChainExpectation.java:49)
	at org.apache.beam.sdk.io.splunk.SplunkEventWriterTest.mockServerListening(SplunkEventWriterTest.java:275)
	at org.apache.beam.sdk.io.splunk.SplunkEventWriterTest.successfulSplunkWriteSingleBatchTest(SplunkEventWriterTest.java:109)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13317046">BEAM-10506</key>
            <summary>Flake / failure in SplunkEventWriterTest &gt; successfulSplunkWriteSingleBatchTest</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sabhyankar">Sameer Abhyankar</assignee>
                                    <reporter username="kenn">Kenneth Knowles</reporter>
                        <labels>
                            <label>flake</label>
                    </labels>
                <created>Wed, 15 Jul 2020 23:38:08 +0000</created>
                <updated>Sat, 15 May 2021 17:55:40 +0000</updated>
                            <resolved>Sat, 15 May 2021 17:55:40 +0000</resolved>
                                                    <fixVersion>2.23.0</fixVersion>
                                    <component>io-java-splunk</component>
                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="17158786" author="kenn" created="Wed, 15 Jul 2020 23:39:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sabhyankar&quot; class=&quot;user-hover&quot; rel=&quot;sabhyankar&quot;&gt;sabhyankar&lt;/a&gt; would you be able to help check on this? It looks like it could be due to Jenkins worker load, but we should find a way to make that &quot;not a problem&quot;.&lt;/p&gt;</comment>
                            <comment id="17159243" author="sabhyankar" created="Thu, 16 Jul 2020 14:21:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt;&#160;- I looked at this and it does seem to be related to the Jenkins worker load. The default mockserver timeout is 20s and while most of these tests run within that time, this particular test was slower (probably because the Jenkins worker was overloaded). I could do the following:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Set the max timeout to something higher (60s) - But that might increase the test time and may still eventually fail if the worker continues to be overloaded.&lt;/li&gt;
	&lt;li&gt;Catch and ignore that specific exception so its not a problem&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Let me know your thoughts and I can push a PR with this change if needed.&lt;/p&gt;</comment>
                            <comment id="17159341" author="kenn" created="Thu, 16 Jul 2020 16:42:08 +0000"  >&lt;p&gt;I like setting timeouts to something like 10x the average time (if I were better at statistics, maybe I would phrase this in terms of standard deviations). They only really exist to catch deadlocks and crash loops, etc. So if it is really just about slowness, let us increase the timeout. The load may also result in processes getting killed so if that happens we have to come up with other plans.&lt;/p&gt;</comment>
                            <comment id="17159343" author="kenn" created="Thu, 16 Jul 2020 16:43:06 +0000"  >&lt;p&gt;If we catch and ignore, will the test still be testing anything? Or are you suggesting a retry? Does the retry need to be in the IO? Can this happen in production?&lt;/p&gt;</comment>
                            <comment id="17159349" author="sabhyankar" created="Thu, 16 Jul 2020 16:49:25 +0000"  >&lt;p&gt;I meant to say that option #2 would just add a try-catch-ignore to the assertion in the test itself so a SocketTimeout is not a test failure. The IO itself has retries with exponential backoff so it is not a problem. This is a test problem in the mock-server library that is used for the unit test.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I will proceed with setting the mock-server-client timeout to 10x the average for now. Will send a PR shortly.&lt;/p&gt;</comment>
                            <comment id="17168255" author="altay" created="Thu, 30 Jul 2020 22:10:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/beam/pull/12279&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/12279&lt;/a&gt; is merged. Can we close this?&lt;/p&gt;</comment>
                            <comment id="17170075" author="sabhyankar" created="Mon, 3 Aug 2020 14:34:08 +0000"  >&lt;p&gt;Closed as the PR was merged in 2.23.0&lt;/p&gt;</comment>
                            <comment id="17345154" author="kenn" created="Sat, 15 May 2021 17:55:40 +0000"  >&lt;p&gt;Hello! Due to a bug in our Jira configuration, this issue had status:Resolved but resolution:Unresolved.&lt;/p&gt;

&lt;p&gt;I am bulk editing these issues to have resolution:Fixed&lt;/p&gt;

&lt;p&gt;If a different resolution is appropriate, please change it. To do this, click the &quot;Resolve&quot; button (you can do this even for closed issues) and set the Resolution field to the right value.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0gsz4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>