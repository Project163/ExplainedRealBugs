<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:43:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-1823] TimedOutException in postcommit</title>
                <link>https://issues.apache.org/jira/browse/BEAM-1823</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Mark, do you know what this error means? Where is the timeout configured.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/Beam/job/beam_PostCommit_Python_Verify/1657/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/Beam/job/beam_PostCommit_Python_Verify/1657/console&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I &lt;em&gt;think&lt;/em&gt; this is one of the underlying Dataflow executions and it completed (although much slower than usual):&lt;br/&gt;
&lt;a href=&quot;https://pantheon.corp.google.com/dataflow/job/2017-03-28_14_25_21-13472017589125356257?project=apache-beam-testing&amp;amp;organizationId=433637338589&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pantheon.corp.google.com/dataflow/job/2017-03-28_14_25_21-13472017589125356257?project=apache-beam-testing&amp;amp;organizationId=433637338589&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It makes sense to time out the test but I want to know how it is configured. Also, is it possible to print out output logs for failed/timed out tests so that we can clearly associate tests with job executions.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13059879">BEAM-1823</key>
            <summary>TimedOutException in postcommit</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markflyhigh">Mark Liu</assignee>
                                    <reporter username="altay">Ahmet Altay</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Mar 2017 23:12:54 +0000</created>
                <updated>Sat, 16 May 2020 13:54:11 +0000</updated>
                            <resolved>Fri, 7 Apr 2017 23:04:29 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>sdk-py-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15948173" author="markflyhigh" created="Thu, 30 Mar 2017 00:53:21 +0000"  >&lt;p&gt;We set ValidatesRunner test timeout here: &lt;a href=&quot;https://github.com/apache/beam/blob/master/sdks/python/run_postcommit.sh#L81&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/master/sdks/python/run_postcommit.sh#L81&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Currently it&apos;s 600s. So I think this is an special case that job exceeds time limit but succeeds in the end. From my observation, a ValidatesRunner generally takes about 4~5mins to finish. But we can increase the timeout considering bakend occasionally slow down.&lt;/p&gt;

&lt;p&gt;Log is controlled by nose. Need further investigate to see if full console log can print in this case. Also having job_id printed in ValidatesRunner test (&lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1728&quot; title=&quot;Hava job ids in ValidatesRunner tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1728&quot;&gt;BEAM-1728&lt;/a&gt;) definitely helps for debugging.&lt;/p&gt;</comment>
                            <comment id="15950076" author="altay" created="Thu, 30 Mar 2017 23:48:12 +0000"  >&lt;p&gt;Thank you Mark.&lt;/p&gt;

&lt;p&gt;I think 10 minutes timeout makes sense. &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1728&quot; title=&quot;Hava job ids in ValidatesRunner tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1728&quot;&gt;BEAM-1728&lt;/a&gt; will help a lot (so that we can verify manually that job actually passed) and also include in the error message that for how long the test waited for timeout.&lt;/p&gt;

&lt;p&gt;There was other instances today (&lt;a href=&quot;https://builds.apache.org/view/Beam/job/beam_PostCommit_Python_Verify/1673/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/Beam/job/beam_PostCommit_Python_Verify/1673/consoleFull&lt;/a&gt;, &lt;a href=&quot;https://builds.apache.org/view/Beam/job/beam_PostCommit_Python_Verify/1674/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/Beam/job/beam_PostCommit_Python_Verify/1674/consoleFull&lt;/a&gt;) and it is hard to debug without the above information.&lt;/p&gt;</comment>
                            <comment id="15950078" author="altay" created="Thu, 30 Mar 2017 23:50:18 +0000"  >&lt;p&gt;Before &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1728&quot; title=&quot;Hava job ids in ValidatesRunner tests&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1728&quot;&gt;BEAM-1728&lt;/a&gt; is there a way to find out the job ids from the logs?&lt;/p&gt;</comment>
                            <comment id="15950083" author="markflyhigh" created="Thu, 30 Mar 2017 23:53:28 +0000"  >&lt;p&gt;If pipeline failed, I think the full console log will be printed. But timeout is another case which seems nose framework not handles. &lt;/p&gt;</comment>
                            <comment id="15954083" author="markflyhigh" created="Mon, 3 Apr 2017 20:07:34 +0000"  >&lt;p&gt;nose capture logs but not print them when using mutiprocess and interrupted by TimedOutException. Created an issue on nose side: &lt;a href=&quot;https://github.com/nose-devs/nose/issues/1044&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nose-devs/nose/issues/1044&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A work around solution is to print job id/metrics to std out with &quot;-s&quot; flag (&lt;a href=&quot;http://nose.readthedocs.io/en/latest/man.html#cmdoption-s&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://nose.readthedocs.io/en/latest/man.html#cmdoption-s&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="15954156" author="altay" created="Mon, 3 Apr 2017 20:57:42 +0000"  >&lt;p&gt;Should we do the `-s` trick in our tests, does it have any other implications for us?&lt;/p&gt;</comment>
                            <comment id="15954342" author="markflyhigh" created="Mon, 3 Apr 2017 23:42:12 +0000"  >&lt;p&gt;I&apos;m okay with this trick before the issue is fixed in nosetest side, since general test run with nose framework will remain the same. &lt;/p&gt;

&lt;p&gt;One possible place I can think of to add is before &lt;a href=&quot;https://github.com/apache/beam/blob/master/sdks/python/apache_beam/runners/dataflow/test_dataflow_runner.py#L33&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;test_dataflow_runner.wait_until_finish()&lt;/a&gt;. Since this is more Dataflow related issue, printing job_id in test_dataflow_runner will not affect logs of other runners.&lt;/p&gt;</comment>
                            <comment id="15954347" author="altay" created="Mon, 3 Apr 2017 23:46:26 +0000"  >&lt;p&gt;That also works, we can just print job id from there.&lt;/p&gt;

&lt;p&gt;(Although I think there is value in capturing output from stuck tests in general to debug where they got stuck. This does not need to be solved now.)&lt;/p&gt;</comment>
                            <comment id="15961474" author="githubbot" created="Fri, 7 Apr 2017 21:37:35 +0000"  >&lt;p&gt;GitHub user markflyhigh opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2464&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2464&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1823&quot; title=&quot;TimedOutException in postcommit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1823&quot;&gt;&lt;del&gt;BEAM-1823&lt;/del&gt;&lt;/a&gt; Improve ValidatesRunner Test Log&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`. (Even better, enable&lt;br/&gt;
           Travis-CI on your fork and ensure the whole test matrix passes).&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Improve ValidatesRunner test log when using TestDataflowRunner. Job link is added to log and print to stdout since &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1890&quot; title=&quot;No INFO/DEBUG log if Python ValidatesRunner test timeout&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1890&quot;&gt;BEAM-1890&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1890&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/BEAM-1890&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;`--nocapture` flag needs to be added to test command so that job links will not to be captured by Nose and print to stdout in any cases.&lt;/li&gt;
	&lt;li&gt;use `--attr` instead of `-a` to increase verbosity.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/markflyhigh/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/markflyhigh/incubator-beam&lt;/a&gt; improve-vr-log&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2464.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2464.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2464&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 0bc66b806a4a9e5f5bb82a87d24ce78603e42d8e&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-04-07T21:30:44Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1823&quot; title=&quot;TimedOutException in postcommit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1823&quot;&gt;&lt;del&gt;BEAM-1823&lt;/del&gt;&lt;/a&gt; Improve ValidatesRunner Test Log&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15961497" author="githubbot" created="Fri, 7 Apr 2017 22:03:15 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2464&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2464&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13056404">BEAM-1728</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13061866">BEAM-1890</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cx33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>