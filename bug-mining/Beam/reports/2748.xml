<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:22:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-13611] CrossLanguageJdbcIOTest.test_xlang_jdbc_write failing in Python PostCommits</title>
                <link>https://issues.apache.org/jira/browse/BEAM-13611</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;apache_beam.io.external.xlang_jdbcio_it_test.CrossLanguageJdbcIOTest.test_xlang_jdbc_write has been failing for a while with exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;gt;       raise self._runtime_exception
E       RuntimeError: Pipeline BeamApp-jenkins-0107121045-d4c26ca6_6fb3ef1a-9704-4c9b-8e6a-b01577324d10 failed in state FAILED: java.lang.RuntimeException: Error received from SDK harness &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; instruction 3: org.apache.beam.sdk.util.UserCodeException: org.apache.beam.sdk.coders.CoderException: cannot encode a &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; Iterable
E       	at org.apache.beam.sdk.util.UserCodeException.wrap(UserCodeException.java:39)
E       	at org.apache.beam.fn.harness.FnApiDoFnRunner.outputTo(FnApiDoFnRunner.java:1751)
E       	at org.apache.beam.fn.harness.FnApiDoFnRunner.access$2700(FnApiDoFnRunner.java:144)
E       	at org.apache.beam.fn.harness.FnApiDoFnRunner$FinishBundleArgumentProvider$Context.output(FnApiDoFnRunner.java:2078)
E       	at org.apache.beam.sdk.io.jdbc.JdbcIO$1.finish(JdbcIO.java:1459)
E       	at org.apache.beam.sdk.io.jdbc.JdbcIO$1$DoFnInvoker.invokeFinishBundle(Unknown Source)
E       	at org.apache.beam.fn.harness.FnApiDoFnRunner.finishBundle(FnApiDoFnRunner.java:1729)
E       	at org.apache.beam.fn.harness.data.PTransformFunctionRegistry.lambda$register$0(PTransformFunctionRegistry.java:111)
E       	at org.apache.beam.fn.harness.control.ProcessBundleHandler.processBundle(ProcessBundleHandler.java:489)
E       	at org.apache.beam.fn.harness.control.BeamFnControlClient.delegateOnInstructionRequestType(BeamFnControlClient.java:151)
E       	at org.apache.beam.fn.harness.control.BeamFnControlClient$InboundObserver.lambda$onNext$0(BeamFnControlClient.java:116)
E       	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
E       	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
E       	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:748)
E       Caused by: org.apache.beam.sdk.coders.CoderException: cannot encode a &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; Iterable
E       	at org.apache.beam.sdk.coders.IterableLikeCoder.registerByteSizeObserver(IterableLikeCoder.java:195)
E       	at org.apache.beam.sdk.coders.IterableLikeCoder.registerByteSizeObserver(IterableLikeCoder.java:60)
E       	at org.apache.beam.fn.harness.data.PCollectionConsumerRegistry$SampleByteSizeDistribution.tryUpdate(PCollectionConsumerRegistry.java:374)
E       	at org.apache.beam.fn.harness.data.PCollectionConsumerRegistry$MetricTrackingFnDataReceiver.accept(PCollectionConsumerRegistry.java:248)
E       	at org.apache.beam.fn.harness.data.PCollectionConsumerRegistry$MetricTrackingFnDataReceiver.accept(PCollectionConsumerRegistry.java:209)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;First failure in Py3.8 PostCommit was &lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Python38/2110/testReport/junit/apache_beam.io.external.xlang_jdbcio_it_test/CrossLanguageJdbcIOTest/test_xlang_jdbc_write/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#2110&lt;/a&gt; but this actually had a different error. The first failure with this exception was &lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Python38/2130/testReport/junit/apache_beam.io.external.xlang_jdbcio_it_test/CrossLanguageJdbcIOTest/test_xlang_jdbc_write/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#2130&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13421383">BEAM-13611</key>
            <summary>CrossLanguageJdbcIOTest.test_xlang_jdbc_write failing in Python PostCommits</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pabloem">Pablo Estrada</assignee>
                                    <reporter username="bhulette">Brian Hulette</reporter>
                        <labels>
                            <label>sickbay</label>
                    </labels>
                <created>Fri, 7 Jan 2022 18:57:19 +0000</created>
                <updated>Thu, 20 Jan 2022 23:01:53 +0000</updated>
                            <resolved>Thu, 20 Jan 2022 23:01:53 +0000</resolved>
                                                    <fixVersion>2.36.0</fixVersion>
                                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="17475755" author="chamikara" created="Thu, 13 Jan 2022 21:24:38 +0000"  >&lt;p&gt;Seems like the relavent JDBCIO code was modified recently by &lt;a href=&quot;https://github.com/apache/beam/pull/15863&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/15863&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Is it possible that PR somehow broke the x-lang connector ?&lt;/p&gt;</comment>
                            <comment id="17478739" author="bhulette" created="Wed, 19 Jan 2022 14:55:42 +0000"  >&lt;p&gt;I sickbayed the test for now in pr/16554. Marking this as blocking 2.36.0 though since I think we should at least diagnose the issue and decide if its acceptable to release with it.&lt;/p&gt;</comment>
                            <comment id="17478915" author="chamikara" created="Wed, 19 Jan 2022 19:19:42 +0000"  >&lt;p&gt;I tried a revet of &lt;a href=&quot;https://github.com/apache/beam/pull/15863&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/15863&lt;/a&gt; and the test passed.&lt;/p&gt;

&lt;p&gt;So that PR seems to be the culprit.&lt;/p&gt;

&lt;p&gt;You can reproduce locally using following.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;./gradlew clean&lt;/p&gt;

&lt;p&gt;./gradlew :sdks:java:extensions:schemaio-expansion-service:build&lt;/p&gt;

&lt;p&gt;./gradlew :runners:flink:1.13:job-server:shadowJar&lt;/p&gt;

&lt;p&gt;./gradlew :sdks:java:container:java11:docker&lt;/p&gt;

&lt;p&gt;cd sdks/python&lt;/p&gt;

&lt;p&gt;(in a virtual env)&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
python -m pytest  -o log_cli=True -o log_level=Info apache_beam/io/external/xlang_jdbcio_it_test.py::CrossLanguageJdbcIOTest::test_xlang_jdbc_write  --test-pipeline-options=&lt;span class=&quot;code-quote&quot;&gt;&apos;--runner=FlinkRunner --sdk_location=dist/apache-beam-2.37.0.dev0.tar.gz&apos;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17479740" author="chamikara" created="Thu, 20 Jan 2022 23:01:46 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://github.com/apache/beam/pull/16569&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/16569&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0yd6w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>