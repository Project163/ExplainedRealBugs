<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:45:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-2571] Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext</title>
                <link>https://issues.apache.org/jira/browse/BEAM-2571</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;This appears to have been caused by &lt;a href=&quot;https://github.com/apache/beam/pull/3429&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3429&lt;/a&gt; which fixes a couple errors in how trigger timers were processed / final panes labeled.&lt;/p&gt;

&lt;p&gt;I am investigating, considering roll back vs forward fix. Since it is an esoteric use case where I would advise users to use a stateful DoFn instead, I think the bug fixed probably outweighs the bug introduced. I would like to fix for 2.1.0 but will report back soon.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13085580">BEAM-2571</key>
            <summary>Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aljoscha">Aljoscha Krettek</assignee>
                                    <reporter username="kenn">Kenneth Knowles</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Jul 2017 19:32:49 +0000</created>
                <updated>Sat, 16 May 2020 13:41:00 +0000</updated>
                            <resolved>Mon, 24 Jul 2017 13:55:52 +0000</resolved>
                                                    <fixVersion>2.1.0</fixVersion>
                    <fixVersion>2.2.0</fixVersion>
                                    <component>runner-flink</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16078582" author="kenn" created="Fri, 7 Jul 2017 19:44:33 +0000"  >&lt;p&gt;Reproduces via command line Maven:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn --batch-mode --errors verify -pl runners/flink -Dtest=CombineTest -DfailIfNoTests=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; -P validates-runner-tests -P local-validates-runner-tests
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16078589" author="kenn" created="Fri, 7 Jul 2017 19:53:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aljoscha&quot; class=&quot;user-hover&quot; rel=&quot;aljoscha&quot;&gt;aljoscha&lt;/a&gt; any idea why the linked PR would cause a problem for CombineWithContext with side inputs in streaming for the FlinkRunner?&lt;/p&gt;

&lt;p&gt;At a high level the changes are:&lt;br/&gt;
1. drop late processing time timers&lt;br/&gt;
2. when trigger/ReduceFnRunner timers arrive together, don&apos;t look at the timers themselves but just activate the window (this is finally making it match &lt;a href=&quot;https://s.apache.org/beam-triggers&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s.apache.org/beam-triggers&lt;/a&gt; and &lt;a href=&quot;https://s.apache.org/beam-lateness&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s.apache.org/beam-lateness&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="16078672" author="kenn" created="Fri, 7 Jul 2017 20:52:56 +0000"  >&lt;p&gt;I&apos;ve done a little stepping through the execution, but I didn&apos;t turn up any clues. Handing off the JIRA just to not block.&lt;/p&gt;</comment>
                            <comment id="16080254" author="aljoscha" created="Mon, 10 Jul 2017 12:30:55 +0000"  >&lt;p&gt;I&apos;m looking into this.&lt;/p&gt;</comment>
                            <comment id="16080623" author="aljoscha" created="Mon, 10 Jul 2017 16:43:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; with some super ugly debugging I think I found at least one problem: the Flink and Beam watermarks have slightly different semantics. In Beam, a watermark &lt;tt&gt;t&lt;/tt&gt; says there won&apos;t be elements with a timestamp &lt;tt&gt;&amp;lt; t&lt;/tt&gt; in the future. In Flink a watermark &lt;tt&gt;t&lt;/tt&gt; says there won&apos;t be elements with a timestamp &lt;tt&gt;&amp;lt;= t&lt;/tt&gt; in the future. This means, that Flink will fire a timer for time &lt;tt&gt;t0&lt;/tt&gt; when the current input watermark is at least &lt;tt&gt;t0&lt;/tt&gt;. The default Trigger, however, has this piece of code: &lt;a href=&quot;https://github.com/apache/beam/blob/ca41af8fe4711ab4a81c2a33746a64e64fb0ca37/runners/core-java/src/main/java/org/apache/beam/runners/core/triggers/DefaultTriggerStateMachine.java#L76-L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/ca41af8fe4711ab4a81c2a33746a64e64fb0ca37/runners/core-java/src/main/java/org/apache/beam/runners/core/triggers/DefaultTriggerStateMachine.java#L76-L76&lt;/a&gt;. Meaning it will only fire when the input watermark is past &lt;tt&gt;t0&lt;/tt&gt;. What this means here, is that we fire the only timer that was set but the Trigger doesn&apos;t think it&apos;s time yet and so doesn&apos;t fire.&lt;/p&gt;

&lt;p&gt;I&apos;m not yet sure how to solve this and if it is the only problem. A solution might be to shift everything that is timestamp related in the Flink runner by one, I&apos;d have to first find all the places, though, and put in very good tests.&lt;/p&gt;

&lt;p&gt;This is the branch that I used for debugging: &lt;a href=&quot;https://github.com/aljoscha/beam/tree/jira-2571-sleuthing-for-combinetest&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aljoscha/beam/tree/jira-2571-sleuthing-for-combinetest&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16080644" author="kenn" created="Mon, 10 Jul 2017 16:58:33 +0000"  >&lt;p&gt;Ouch. I don&apos;t see any way around just always adapting it. Doing the +1 or -1 at key places in FlinkTimerInternals is at least a good start. Ideally it might be the only thing that adapts a runner&apos;s notion of time to Beam&apos;s notion of time.&lt;/p&gt;</comment>
                            <comment id="16081106" author="kenn" created="Mon, 10 Jul 2017 20:39:25 +0000"  >&lt;p&gt;Since this is longstanding, and other tests of side inputs seem OK, I don&apos;t feel the same urgency to block 2.1.0 on it because of this failure. We might consider blocking any release based on the danger here...&lt;/p&gt;

&lt;p&gt;But I am a little surprised we got this far. Perhaps it is just because that one test is tighter than others?&lt;/p&gt;</comment>
                            <comment id="16081602" author="kenn" created="Tue, 11 Jul 2017 03:42:05 +0000"  >&lt;p&gt;I would hold off on making changes here. It seems Dataflow may have similar issues. It is unfortunate that there are so few tests catching this, but it may be a spec bug. Since it isn&apos;t a user-facing API we don&apos;t have to continue compatibility so we also have some freedom to do the most useful thing here.&lt;/p&gt;</comment>
                            <comment id="16081817" author="aljoscha" created="Tue, 11 Jul 2017 07:32:51 +0000"  >&lt;p&gt;What&apos;s the problem in Dataflow?&lt;/p&gt;

&lt;p&gt;In the real world this virtually doesn&apos;t occur, IMHO. The reason we&apos;re catching this here is because of the side inputs and the holding back of the main input. Things go roughly like this:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;main-input elements arrive, &lt;tt&gt;DoFnOperator&lt;/tt&gt; puts them in state and holds the input watermark back according to their timestamp&lt;/li&gt;
	&lt;li&gt;input watermark already goes to +Inf at this point&lt;/li&gt;
	&lt;li&gt;the first side-input element arrives, we notice that we can process one of the pushed-pack elements, the watermark is still &quot;tightly held&quot; by the other pushed-back elements, that&apos;s why it is exactly at the window end for some windows&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16082463" author="kenn" created="Tue, 11 Jul 2017 16:27:03 +0000"  >&lt;p&gt;OK, I was wrong. Dataflow and Beam agree. We had an experiment going on with unrelated problems.&lt;/p&gt;</comment>
                            <comment id="16083848" author="aljoscha" created="Wed, 12 Jul 2017 11:41:33 +0000"  >&lt;p&gt;I think it turns out that the fix for this is to change this line: &lt;a href=&quot;https://github.com/apache/beam/blob/e8f26085e889f8f618c0961a5458cbc42b432c01/runners/flink/src/main/java/org/apache/beam/runners/flink/translation/wrappers/streaming/DoFnOperator.java#L475-L475&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/e8f26085e889f8f618c0961a5458cbc42b432c01/runners/flink/src/main/java/org/apache/beam/runners/flink/translation/wrappers/streaming/DoFnOperator.java#L475-L475&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;timerService.advanceWatermark(actualInputWatermark - 1);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I think there could be some other issues, though, and I also want to make sure to add some tests around the watermark contract and how the Flink Operator observes it.&lt;/p&gt;</comment>
                            <comment id="16084001" author="githubbot" created="Wed, 12 Jul 2017 13:43:09 +0000"  >&lt;p&gt;GitHub user aljoscha opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3550&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; CombineTest.testSlidingWindowsCombineWithContext&lt;/p&gt;

&lt;p&gt;    R: @kennknowles @JingsongLi &lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aljoscha/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aljoscha/beam&lt;/a&gt; jira-2571-fix-flink-watermark-issues&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3550.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3550.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3550&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit dee393b2a4f287509a0af5b44841216804cae3b2&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T12:35:58Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Add check for output watermark in DoFnOperator on close()&lt;/p&gt;

&lt;p&gt;commit 39e47d973a243dfdf154b3be3e234e7bc598d4c5&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T12:39:58Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Clarify pushedback variable name in DoFnOperator&lt;/p&gt;

&lt;p&gt;commit 31791beca9d58a24cf0d851d137a1c1526221c32&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T12:42:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Change DoFnOperator to use Long.MAX_VALUE as max watermark&lt;/p&gt;

&lt;p&gt;    This is in line with what Flink does and what BoundesSourceWrapper and&lt;br/&gt;
    UnboundedSourceWrapper do.&lt;/p&gt;

&lt;p&gt;commit d0aee3d08e44de6587daa209592b766aced810bf&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T13:38:06Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Respect watermark contract in Flink DoFnOperator&lt;/p&gt;

&lt;p&gt;    In Flink, a watermark T specifies that there will be no elements with a&lt;br/&gt;
    timestamp &amp;lt;= T in the future. In Beam, a watermark T specifies that&lt;br/&gt;
    there will not be element with a timestamp &amp;lt; T in the future. This leads&lt;br/&gt;
    to problems when the watermark is exactly &quot;on the timer timestamp&quot;, most&lt;br/&gt;
    prominently, this happened with Triggers, where Flink would fire the&lt;br/&gt;
    Trigger too early and the Trigger would determine (based on the&lt;br/&gt;
    watermark) that it is not yet time to fire the window while Flink&lt;br/&gt;
    thought it was time.&lt;/p&gt;

&lt;p&gt;    This also adds a test that specifially tests the edge case.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16094417" author="githubbot" created="Thu, 20 Jul 2017 09:27:34 +0000"  >&lt;p&gt;GitHub user aljoscha opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3600&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3600&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; CombineTest.testSlidingWindowsCombineWithContext&lt;/p&gt;

&lt;p&gt;    This is a rebased version of #3550. I didn&apos;t want to mess with the comments and history on that other PR.&lt;/p&gt;

&lt;p&gt;    R: @peihe (and the others from the older PR)&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aljoscha/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aljoscha/beam&lt;/a&gt; jira-2571-fix-flink-watermark-issues-rebased&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3600.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3600.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3600&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2ed36cdfef5daf124d58673933ad2e685107dd8b&lt;br/&gt;
Author: Alex Filatov &amp;lt;alex-filatov@users.noreply.github.com&amp;gt;&lt;br/&gt;
Date:   2017-07-10T10:20:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2306&quot; title=&quot;@Deprecated without @deprecated javadoc explanation should cause build failure&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2306&quot;&gt;&lt;del&gt;BEAM-2306&lt;/del&gt;&lt;/a&gt; Add checkstyle check to fail the build when @Deprecated is used without @deprecated javadoc (or vice versa).&lt;/p&gt;

&lt;p&gt;    The check is disabled for existing violations where reason for deprecation and/or alternative is not clear.&lt;/p&gt;

&lt;p&gt;commit 34dd3d616ae0c4de28e12e1f09c62cf8d26a1468&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T12:42:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Change DoFnOperator to use Long.MAX_VALUE as max watermark&lt;/p&gt;

&lt;p&gt;    This is in line with what Flink does and what BoundedSourceWrapper and&lt;br/&gt;
    UnboundedSourceWrapper do.&lt;/p&gt;

&lt;p&gt;commit f24ef3830c1e61379429013d712ab1e4dc65c728&lt;br/&gt;
Author: Pei He &amp;lt;pei@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-07-17T15:34:27Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2630&quot; title=&quot;TestPipeline.getAppName() doesn&amp;#39;t work properly when TestPipeline is used as @Rule&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2630&quot;&gt;&lt;del&gt;BEAM-2630&lt;/del&gt;&lt;/a&gt; TestPipeline: construct job/app names based on Description in junit TestRule.&lt;/p&gt;

&lt;p&gt;commit 9833462f9dad726391ccf6e21102eb87ad9075ec&lt;br/&gt;
Author: Neville Li &amp;lt;neville@spotify.com&amp;gt;&lt;br/&gt;
Date:   2017-07-18T13:07:21Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2532&quot; title=&quot;BigQueryIO source should avoid expensive JSON schema parsing for every record&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2532&quot;&gt;&lt;del&gt;BEAM-2532&lt;/del&gt;&lt;/a&gt; Memoizes TableSchema in BigQuerySourceBase&lt;/p&gt;

&lt;p&gt;    Instead of parsing the JSON schema for every record.&lt;/p&gt;

&lt;p&gt;commit 9a8600d84b7a98ceecbe8b48ebce3b4f90976300&lt;br/&gt;
Author: Vikas Kedigehalli &amp;lt;vikasrk@google.com&amp;gt;&lt;br/&gt;
Date:   2017-07-18T17:06:46Z&lt;/p&gt;

&lt;p&gt;    Increase the gRPC message size to max value&lt;/p&gt;

&lt;p&gt;commit 56e2c7a939ba39e4077de89e829935aea6194301&lt;br/&gt;
Author: Sourabh Bajaj &amp;lt;sourabhbajaj@google.com&amp;gt;&lt;br/&gt;
Date:   2017-07-19T17:08:14Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2636&quot; title=&quot;user_score on DataflowRunner is broken&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2636&quot;&gt;&lt;del&gt;BEAM-2636&lt;/del&gt;&lt;/a&gt; Make sure we only override the correct class&lt;/p&gt;

&lt;p&gt;commit 014d80ab0cdb1672359cdb2cb76a3eabf9f2fbca&lt;br/&gt;
Author: Luke Cwik &amp;lt;lcwik@google.com&amp;gt;&lt;br/&gt;
Date:   2017-07-19T18:36:35Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2642&quot; title=&quot;Upgrade to Google Auth 0.7.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2642&quot;&gt;&lt;del&gt;BEAM-2642&lt;/del&gt;&lt;/a&gt; Update Google Auth to 0.7.1&lt;/p&gt;

&lt;p&gt;    Google auth libraries 0.6.1 and 0.7.1 have the same versions of dependencies.&lt;/p&gt;

&lt;p&gt;commit 6cd72d72493ff68f747aef5ba69d3a850aab156c&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T12:39:58Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Clarify pushedback variable name in DoFnOperator&lt;/p&gt;

&lt;p&gt;commit 8068ee3805ce868b7dcc28f5421bbb4782572111&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T13:38:06Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Respect watermark contract in Flink DoFnOperator&lt;/p&gt;

&lt;p&gt;    In Flink, a watermark T specifies that there will be no elements with a&lt;br/&gt;
    timestamp &amp;lt;= T in the future. In Beam, a watermark T specifies that&lt;br/&gt;
    there will not be element with a timestamp &amp;lt; T in the future. This leads&lt;br/&gt;
    to problems when the watermark is exactly &quot;on the timer timestamp&quot;, most&lt;br/&gt;
    prominently, this happened with Triggers, where Flink would fire the&lt;br/&gt;
    Trigger too early and the Trigger would determine (based on the&lt;br/&gt;
    watermark) that it is not yet time to fire the window while Flink&lt;br/&gt;
    thought it was time.&lt;/p&gt;

&lt;p&gt;    This also adds a test that specifially tests the edge case.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16098051" author="githubbot" created="Mon, 24 Jul 2017 08:04:40 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3600&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3600&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16098052" author="githubbot" created="Mon, 24 Jul 2017 08:04:40 +0000"  >&lt;p&gt;Github user aljoscha closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3550&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16098281" author="jbonofre" created="Mon, 24 Jul 2017 12:23:06 +0000"  >&lt;p&gt;As discussed on the mailing list, we should cherry-pick the fix on release-2.1.0 branch.&lt;/p&gt;</comment>
                            <comment id="16098293" author="githubbot" created="Mon, 24 Jul 2017 12:31:31 +0000"  >&lt;p&gt;GitHub user aljoscha opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3625&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Fix FlinkRunner Watermark issues on 2.1.0 branch&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aljoscha/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aljoscha/beam&lt;/a&gt; jira-2571-fix-flink-watermark-issues-2.1.0&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3625.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3625.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3625&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5c4a95aa63da23027b619a50928ebebe5beb05c2&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T12:39:58Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Clarify pushedback variable name in DoFnOperator&lt;/p&gt;

&lt;p&gt;commit 1686805d84316f2a8438c642214cdabe5b579381&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T12:42:37Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Change DoFnOperator to use Long.MAX_VALUE as max watermark&lt;/p&gt;

&lt;p&gt;    This is in line with what Flink does and what BoundedSourceWrapper and&lt;br/&gt;
    UnboundedSourceWrapper do.&lt;/p&gt;

&lt;p&gt;commit ade506526b4ff56eb4ed15e9eea04d1d3345bc13&lt;br/&gt;
Author: Aljoscha Krettek &amp;lt;aljoscha.krettek@gmail.com&amp;gt;&lt;br/&gt;
Date:   2017-07-12T13:38:06Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2571&quot; title=&quot;Flink ValidatesRunner failing CombineTest.testSlidingWindowsCombineWithContext&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2571&quot;&gt;&lt;del&gt;BEAM-2571&lt;/del&gt;&lt;/a&gt; Respect watermark contract in Flink DoFnOperator&lt;/p&gt;

&lt;p&gt;    In Flink, a watermark T specifies that there will be no elements with a&lt;br/&gt;
    timestamp &amp;lt;= T in the future. In Beam, a watermark T specifies that&lt;br/&gt;
    there will not be element with a timestamp &amp;lt; T in the future. This leads&lt;br/&gt;
    to problems when the watermark is exactly &quot;on the timer timestamp&quot;, most&lt;br/&gt;
    prominently, this happened with Triggers, where Flink would fire the&lt;br/&gt;
    Trigger too early and the Trigger would determine (based on the&lt;br/&gt;
    watermark) that it is not yet time to fire the window while Flink&lt;br/&gt;
    thought it was time.&lt;/p&gt;

&lt;p&gt;    This also adds a test that specifially tests the edge case.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16098448" author="githubbot" created="Mon, 24 Jul 2017 13:55:35 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3625&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3625&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 17 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3h98v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>