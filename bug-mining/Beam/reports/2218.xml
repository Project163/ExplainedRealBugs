<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:14:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-11377] beam_PostRelease_NightlySnapshot failing (connection reset fetching deps)</title>
                <link>https://issues.apache.org/jira/browse/BEAM-11377</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostRelease_NightlySnapshot/1195/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostRelease_NightlySnapshot/1195/&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
03:05:12 [ERROR] Failed to execute goal on project word-count-beam: Could not resolve dependencies &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; project org.example:word-count-beam:jar:0.1: Failed to collect dependencies at org.apache.beam:beam-sdks-java-io-google-cloud-platform:jar:2.27.0-SNAPSHOT -&amp;gt; com.google.cloud:google-cloud-spanner:jar:2.0.2: Failed to read artifact descriptor &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; com.google.cloud:google-cloud-spanner:jar:2.0.2: Could not transfer artifact com.google.cloud:google-cloud-spanner:pom:2.0.2 from/to central (https:&lt;span class=&quot;code-comment&quot;&gt;//repo.maven.apache.org/maven2): Connection reset -&amp;gt; [Help 1]&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13343646">BEAM-11377</key>
            <summary>beam_PostRelease_NightlySnapshot failing (connection reset fetching deps)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tysonjh">Tyson Hamilton</assignee>
                                    <reporter username="kenn">Kenneth Knowles</reporter>
                        <labels>
                            <label>flake</label>
                    </labels>
                <created>Tue, 1 Dec 2020 20:06:33 +0000</created>
                <updated>Mon, 15 Mar 2021 16:12:01 +0000</updated>
                            <resolved>Mon, 15 Mar 2021 16:11:29 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="42000">11h 40m</timespent>
                                <comments>
                            <comment id="17241838" author="kenn" created="Tue, 1 Dec 2020 20:11:14 +0000"  >&lt;p&gt;One solution may be to simply retry more via &lt;tt&gt;-Dmaven.wagon.http.retryHandler.count=5&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Perhaps a better solution is to not wipe out the local repository. This means we need &lt;tt&gt;.m2&lt;/tt&gt; to live outside the wiped area of the workspace (this is safe as it is a transparent cache of immutable things) and also need to change &lt;a href=&quot;https://github.com/apache/beam/blob/3de140f908295706bb3bf0e8bd42630c1ed815f1/release/src/main/groovy/TestScripts.groovy#L199&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this line&lt;/a&gt; which sets it to a subdirectory of a deleted temp dir.&lt;/p&gt;</comment>
                            <comment id="17241844" author="alanmyrvold" created="Tue, 1 Dec 2020 20:32:57 +0000"  >&lt;p&gt;It would be fine to cache all the dependencies and not wipe the local repository, but I expect the snapshot jars, like .m2/repository/org/apache/beam/beam-sdks-java-core/2.27.0-SNAPSHOT/beam-sdks-java-core-2.27.0-SNAPSHOT.jar should not be cached, if possible.&lt;/p&gt;</comment>
                            <comment id="17249970" author="udim" created="Tue, 15 Dec 2020 21:54:44 +0000"  >&lt;p&gt;Since the workspace is wiped when the job finished, how about a workspace-local .m2 repo?&lt;/p&gt;</comment>
                            <comment id="17251329" author="kenn" created="Thu, 17 Dec 2020 20:19:56 +0000"  >&lt;p&gt;The workspace-local &lt;tt&gt;.m2&lt;/tt&gt; wouldn&apos;t have any effect if it is wiped.&lt;/p&gt;

&lt;p&gt;Snapshots are not an issue. They are not published under names like &lt;tt&gt;beam-sdks-java-core-2.27.0-SNASHOT.jar&lt;/tt&gt;. They are published with dated jars like &lt;tt&gt;beam-sdks-java-core-2.27.0-20201210.070217-43.jar&lt;/tt&gt; (see &lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/beam/beam-sdks-java-core/2.27.0-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/beam/beam-sdks-java-core/2.27.0-SNAPSHOT/&lt;/a&gt;). The maven flag &lt;tt&gt;--update-snapshots&lt;/tt&gt; forces a check to see if there is a newer one.&lt;/p&gt;

&lt;p&gt;Oddly, in the console log it seems that we pass that flag for &lt;tt&gt;mvn archetype:generate&lt;/tt&gt; but not for &lt;tt&gt;mvn compile exec:java&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17260794" author="altay" created="Thu, 7 Jan 2021 20:24:36 +0000"  >&lt;p&gt;Kenn, who could look into this? Is this a flake or a permanent failure?&lt;/p&gt;</comment>
                            <comment id="17266402" author="ibzib" created="Fri, 15 Jan 2021 23:12:18 +0000"  >&lt;p&gt;Seems like a flake, since it passed most recently. Unless someone fixed it.&lt;/p&gt;</comment>
                            <comment id="17279107" author="altay" created="Thu, 4 Feb 2021 19:40:56 +0000"  >&lt;p&gt;This test seems to be failing quite often. I have not looked at the recent failures and I am not sure the if the root cause is the same. But it will be worth fixing this.&lt;/p&gt;

&lt;p&gt;/cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tysonjh&quot; class=&quot;user-hover&quot; rel=&quot;tysonjh&quot;&gt;tysonjh&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17282002" author="tysonjh" created="Tue, 9 Feb 2021 20:01:20 +0000"  >&lt;p&gt;5 retries reduced the problem but it is still failing. Only 1 of the tasks failed this last run as opposed to 5 of them.&lt;/p&gt;</comment>
                            <comment id="17283306" author="tysonjh" created="Thu, 11 Feb 2021 19:05:07 +0000"  >&lt;p&gt;Disabled httpkeepalive, so far the last execution passed successfully. I&apos;ll close this issue for now and reopen if there is a regression again.&lt;/p&gt;</comment>
                            <comment id="17284050" author="tysonjh" created="Sat, 13 Feb 2021 00:50:34 +0000"  >&lt;p&gt;Still failing. Going to try disabling the wagon keepalive next.&lt;/p&gt;</comment>
                            <comment id="17301735" author="tysonjh" created="Mon, 15 Mar 2021 16:12:01 +0000"  >&lt;p&gt;Alright! Tests passing now.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10020">
                    <name>Cloners</name>
                                            <outwardlinks description="is a clone of">
                                        <issuelink>
            <issuekey id="13304436">BEAM-9970</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13355497">BEAM-11713</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 35 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0l3vc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>