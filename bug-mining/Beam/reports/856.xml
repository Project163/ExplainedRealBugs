<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:53:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-6011] Enable Phrase triggering in Nexmark jobs</title>
                <link>https://issues.apache.org/jira/browse/BEAM-6011</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;We need to&#160;enable Phrase Triggering (running Jenkins jobs from PR) for Nexmark jobs so that we could&#160;check if pull requests are not breaking anything before merging them.&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Note&lt;/b&gt;: Currently Nexmark jobs run post commit&#160;on master and publish their results to BigQuery database. In order not to pollute the results collected for master&#160;we should save the results for Pr-triggered jobs in some other tables/datasets or even not save them at all (turn off publishing to BQ).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13196850">BEAM-6011</key>
            <summary>Enable Phrase triggering in Nexmark jobs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10003">Resolved</resolution>
                                        <assignee username="&#321;ukaszG">Lukasz Gajowy</assignee>
                                    <reporter username="&#321;ukaszG">Lukasz Gajowy</reporter>
                        <labels>
                    </labels>
                <created>Wed, 7 Nov 2018 15:40:06 +0000</created>
                <updated>Sat, 16 May 2020 13:29:26 +0000</updated>
                            <resolved>Thu, 15 Nov 2018 14:06:01 +0000</resolved>
                                                    <fixVersion>2.9.0</fixVersion>
                                    <component>testing-nexmark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="18000">5h</timespent>
                                <comments>
                            <comment id="16678445" author="&#322;ukaszg" created="Wed, 7 Nov 2018 16:12:35 +0000"  >&lt;p&gt;I made some attempts to prepare a quick fix for this. It was not so easy as I initially expected. I tried to use the&#160;$GIT_BRANCH environment variable to conditionally create the nexmark args needed for big query connection. It seems that this is not the right approach, because $GIT_BRANCH is evaluated while running the job whereas the rest of the code is evaluated while running the Seed job. Moreover, I don&apos;t like this solution because&#160;it&apos;s hiding the real intent of the job.&lt;/p&gt;

&lt;p&gt;Link to the PR (currently closed): &lt;a href=&quot;https://github.com/apache/beam/pull/6974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/6974&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;IMO, after some trying, the way&#160;it has to be done is that:&#160;&lt;br/&gt;
&#160;-&#160;every nexmark job should have a &quot;twin&quot; job that is for running on PRs (exclusively). The &quot;twin&quot; job should run the same queries (to verify performance the same way).&lt;br/&gt;
&#160;- PR triggered jobs should save to the big query database the same way as the periodic jobs (because saving also can change and we will need to test that in PRs too).&lt;/p&gt;

&lt;p&gt;&#160;- PR triggered jobs should save to a new BQ dataset and have the same table names.&#160;&#160;&lt;/p&gt;

&lt;p&gt;&#160;- Jenkins dsl&#160;code should be refactored so that it provides convenient methods for creating new jobs =&lt;/p&gt;

&lt;p&gt;CC: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; , &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=echauchot&quot; class=&quot;user-hover&quot; rel=&quot;echauchot&quot;&gt;echauchot&lt;/a&gt;&#160;WDYT? Do you have other comments/suggestions?&lt;/p&gt;

&lt;p&gt;We should do exactly the same for IO Performance tests (currently they suffer the same problems)...&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16681558" author="echauchot" created="Fri, 9 Nov 2018 14:58:32 +0000"  >&lt;p&gt;I agree that phrase triggering is needed on PRs for nexmark. Storing to BQ the results is also needed because it will allow us to track performance/functionnal regression before merging a PR allowing us to avoid rollbacks in case of problems. Of course, saving to other dataset is needed also to avoid pollution of the graphs that relate perfs on master. Avoiding pollution was the original argument to avoid phrase triggering in the first place, but write elsewhere is better.&lt;br/&gt;
Besides, I think it is a lot of work to create the dashboards for the new dataset (I made more than 100 graphs at the time) and it is not needed, having a jenkins script that shows the output of the nexmark run triggered (by selecting in perfs and output size tables) is enough IMHO.&lt;/p&gt;

&lt;p&gt;+1 to do the same with IOs&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13196859">BEAM-6012</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s00894:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>