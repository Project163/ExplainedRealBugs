<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:20:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-4149] SDK Harness should populate worker id in RPC headers</title>
                <link>https://issues.apache.org/jira/browse/BEAM-4149</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;The SDK harness currently does nothing to populate control plane headers with the harness worker id. This id is necessary in order to identify harnesses when multiple are run from the same runner server.&lt;/p&gt;

&lt;p&gt;Note that this affects the &lt;em&gt;SDK&lt;/em&gt;&#160;harness specifically (e.g., when running a local process or in-memory harness).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13153883">BEAM-4149</key>
            <summary>SDK Harness should populate worker id in RPC headers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10103" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">P3</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lcwik">Luke Cwik</assignee>
                                    <reporter username="bsidhom">Ben Sidhom</reporter>
                        <labels>
                            <label>Done</label>
                    </labels>
                <created>Fri, 20 Apr 2018 00:32:34 +0000</created>
                <updated>Tue, 26 Oct 2021 22:22:04 +0000</updated>
                            <resolved>Tue, 26 Oct 2021 22:22:04 +0000</resolved>
                                                    <fixVersion>2.35.0</fixVersion>
                                    <component>sdk-java-harness</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="11400">3h 10m</timespent>
                                <comments>
                            <comment id="16448638" author="bsidhom" created="Mon, 23 Apr 2018 18:24:30 +0000"  >&lt;p&gt;As a workaround for now, we should explicitly set &quot;worker_id&quot; to the empty string in the header accessor.&lt;/p&gt;</comment>
                            <comment id="16459046" author="angoenka" created="Mon, 30 Apr 2018 20:52:48 +0000"  >&lt;p&gt;Is the workaround good enough or should we fix it now?&lt;/p&gt;</comment>
                            <comment id="16459052" author="bsidhom" created="Mon, 30 Apr 2018 20:58:01 +0000"  >&lt;p&gt;The workaround is technically fine for now, but it will break as soon as we have multiple concurrent environments and need to run test cases for this. More importantly, having an empty worker id makes it harder to debug test and runtime failures due to SDK/runner communication issues.&lt;/p&gt;</comment>
                            <comment id="16459279" author="angoenka" created="Mon, 30 Apr 2018 23:41:15 +0000"  >&lt;p&gt;In reference to&#160;&lt;a href=&quot;https://github.com/apache/beam/blob/dffe50924f34d3cc994008703f01e802c99913d2/sdks/java/container/boot.go#L70&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/dffe50924f34d3cc994008703f01e802c99913d2/sdks/java/container/boot.go#L70&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;github.com/apache/beam/sdks/go/pkg/beam/util/grpcx/metadata.go/WriteWorkerID Only adds worker id in context of the go sdk. Java sdk&apos;s boot.go&#160;will&#160;not add worker_id to grpc channels created in java sdk.&lt;/p&gt;</comment>
                            <comment id="17078805" author="robertwb" created="Wed, 8 Apr 2020 23:19:58 +0000"  >&lt;p&gt;Updating Python SDKs to handle the non-stream-stream case was done in &lt;a href=&quot;https://github.com/apache/beam/pull/11235&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/11235&lt;/a&gt; . These get added to the channel factory in Java at &lt;a href=&quot;https://github.com/apache/beam/blob/release-2.20.0/sdks/java/harness/src/main/java/org/apache/beam/fn/harness/FnHarness.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/release-2.20.0/sdks/java/harness/src/main/java/org/apache/beam/fn/harness/FnHarness.java&lt;/a&gt; &lt;/p&gt;</comment>
                            <comment id="17428914" author="lcwik" created="Thu, 14 Oct 2021 16:55:31 +0000"  >&lt;p&gt;Re-opening this since it looks like there are still several references to &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-4149&quot; title=&quot;SDK Harness should populate worker id in RPC headers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-4149&quot;&gt;&lt;del&gt;BEAM-4149&lt;/del&gt;&lt;/a&gt; over the codebase&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13153850">BEAM-4145</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13101359">BEAM-2889</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 4 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3sson:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>