<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:45:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-2534] KafkaIO should allow gaps in message offsets</title>
                <link>https://issues.apache.org/jira/browse/BEAM-2534</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;KafkaIO reader logs a warning when it notices gaps in offsets for messages. While such gaps are not expected for normal Kafka topics, there could be gaps when log compaction is enabled (which deletes older messages for a key). &lt;/p&gt;

&lt;p&gt;This warning log is not very useful. Also we should take such gaps while estimating backlog.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13083253">BEAM-2534</key>
            <summary>KafkaIO should allow gaps in message offsets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10103" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">P3</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rangadi">Raghu Angadi</assignee>
                                    <reporter username="rangadi">Raghu Angadi</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Jun 2017 19:32:46 +0000</created>
                <updated>Sat, 16 May 2020 13:17:42 +0000</updated>
                            <resolved>Mon, 10 Jul 2017 19:56:30 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.1.0</fixVersion>
                                    <component>io-java-kafka</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16067106" author="githubbot" created="Wed, 28 Jun 2017 19:34:24 +0000"  >&lt;p&gt;GitHub user rangadi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3461&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3461&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2534&quot; title=&quot;KafkaIO should allow gaps in message offsets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2534&quot;&gt;&lt;del&gt;BEAM-2534&lt;/del&gt;&lt;/a&gt; Handle offset gaps in Kafka messages.&lt;/p&gt;

&lt;p&gt;    KafkaIO logged a warning when there is a gap in offstes for messages.&lt;br/&gt;
    Kafka also supports log compaction for topics some of the messages&lt;br/&gt;
    are deleted leading to gaps in offsets. Log compaction removes earlier messages for key. This PR removes the log and accounts for offset gaps in backlog estimate.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rangadi/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rangadi/incubator-beam&lt;/a&gt; handle_offset_gaps&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3461.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3461.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3461&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 3874bbaa6c88ace25adc132a9f785fb8ace4b68a&lt;br/&gt;
Author: Raghu Angadi &amp;lt;rangadi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-06-28T19:07:06Z&lt;/p&gt;

&lt;p&gt;    Handle offset gaps in Kafka messages.&lt;/p&gt;

&lt;p&gt;    KafkaIO logged a warning when there is a gap in offstes for messages.&lt;br/&gt;
    Kafka also support &apos;KV&apos; store style topics where some of the messages&lt;br/&gt;
    are deleted leading gaps in offsets. This PR removes the log and&lt;br/&gt;
    accounts for offset gaps in backlog estimate.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16072571" author="jbonofre" created="Mon, 3 Jul 2017 14:56:18 +0000"  >&lt;p&gt;Any update on this Jira for 2.1.0 release ?&lt;/p&gt;</comment>
                            <comment id="16076898" author="githubbot" created="Thu, 6 Jul 2017 16:59:47 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3461&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3461&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16076928" author="lzljs3620320" created="Thu, 6 Jul 2017 17:21:52 +0000"  >&lt;p&gt;Could be cherry-picked to 2.1.0 branch?&lt;/p&gt;</comment>
                            <comment id="16077590" author="kenn" created="Fri, 7 Jul 2017 05:06:39 +0000"  >&lt;p&gt;Yes. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rangadi&quot; class=&quot;user-hover&quot; rel=&quot;rangadi&quot;&gt;rangadi&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16077614" author="githubbot" created="Fri, 7 Jul 2017 05:26:20 +0000"  >&lt;p&gt;GitHub user rangadi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3514&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2534&quot; title=&quot;KafkaIO should allow gaps in message offsets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2534&quot;&gt;&lt;del&gt;BEAM-2534&lt;/del&gt;&lt;/a&gt; Cherry-pick #3461 into 2.1.0.&lt;/p&gt;

&lt;p&gt;    Cherry-pick #3461 : Handle offset gaps in Kafka messages.&lt;/p&gt;

&lt;p&gt;    R: @jbonofre CC: @kennknowles.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/rangadi/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/rangadi/beam&lt;/a&gt; cherrypick-pr-3461&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3514.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3514.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3514&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9ffaf185ceefaf7de51b1197e00d2d54bdbb6760&lt;br/&gt;
Author: Raghu Angadi &amp;lt;rangadi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-06-28T19:07:06Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2534&quot; title=&quot;KafkaIO should allow gaps in message offsets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2534&quot;&gt;&lt;del&gt;BEAM-2534&lt;/del&gt;&lt;/a&gt; Handle offset gaps in Kafka messages.&lt;/p&gt;

&lt;p&gt;    KafkaIO logged a warning when there is a gap in offstes for messages.&lt;br/&gt;
    Kafka also support &apos;KV&apos; store style topics where some of the messages&lt;br/&gt;
    are deleted leading gaps in offsets. This PR removes the log and&lt;br/&gt;
    accounts for offset gaps in backlog estimate.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16080984" author="githubbot" created="Mon, 10 Jul 2017 19:54:19 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3514&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3guyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>