<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:15:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-11848] publish_docker_images script fails to deploy images for 2.28.0 RC1</title>
                <link>https://issues.apache.org/jira/browse/BEAM-11848</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;I&apos;m trying to deploy Docker images for 2.28.0 RC1 as per release instructions.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://beam.apache.org/contribute/release-guide/#deploy-docker-images-to-dockerhub&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://beam.apache.org/contribute/release-guide/#deploy-docker-images-to-dockerhub&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;When I try the script I get following (for parameters 2.28.0 and 1).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Publish SDK docker images to Docker Hub.&lt;br/&gt;
 ================Setting Up Environment Variables===========&lt;br/&gt;
 Which release version are you working on: &lt;br/&gt;
 2.28.0&lt;br/&gt;
 Which release candidate will be the source of final docker images? (ex: 1)&lt;br/&gt;
 1&lt;br/&gt;
 ================Confirming Release and RC version===========&lt;br/&gt;
 We are using rc1 to push docker images for 2.28.0.&lt;br/&gt;
 Do you want to proceed? &lt;span class=&quot;error&quot;&gt;&amp;#91;y|N&amp;#93;&lt;/span&gt;&lt;br/&gt;
 y&lt;br/&gt;
 Publishing the following images: apache/beam_python3.8_sdk&lt;br/&gt;
 apache/beam_python3.7_sdk&lt;br/&gt;
 apache/beam_python3.6_sdk&lt;br/&gt;
 apache/beam_java8_sdk&lt;br/&gt;
 apache/beam_java11_sdk&lt;br/&gt;
 apache/beam_flink1.12_job_server&lt;br/&gt;
 apache/beam_flink1.11_job_server&lt;br/&gt;
 apache/beam_flink1.8_job_server&lt;br/&gt;
 apache/beam_flink1.10_job_server&lt;br/&gt;
 apache/beam_flink1.9_job_server&lt;br/&gt;
 apache/beam_spark_job_server&lt;br/&gt;
 Make sure the images are correct, then press any key to proceed.&lt;/p&gt;

&lt;p&gt;&quot;docker pull&quot; requires exactly 1 argument.&lt;br/&gt;
 See &apos;docker pull --help&apos;.&lt;/p&gt;

&lt;p&gt;Usage: docker pull &lt;span class=&quot;error&quot;&gt;&amp;#91;OPTIONS&amp;#93;&lt;/span&gt; NAME&lt;span class=&quot;error&quot;&gt;&amp;#91;:TAG|@DIGEST&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I tried adding quotes to Docker commands but then I get following.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Publish SDK docker images to Docker Hub.&lt;br/&gt;
================Setting Up Environment Variables===========&lt;br/&gt;
Which release version are you working on: &lt;br/&gt;
2.28.0&lt;br/&gt;
Which release candidate will be the source of final docker images? (ex: 1)&lt;br/&gt;
1&lt;br/&gt;
================Confirming Release and RC version===========&lt;br/&gt;
We are using rc1 to push docker images for 2.28.0.&lt;br/&gt;
Do you want to proceed? &lt;span class=&quot;error&quot;&gt;&amp;#91;y|N&amp;#93;&lt;/span&gt;&lt;br/&gt;
y&lt;br/&gt;
Publishing the following images: apache/beam_python3.8_sdk&lt;br/&gt;
apache/beam_python3.7_sdk&lt;br/&gt;
apache/beam_python3.6_sdk&lt;br/&gt;
apache/beam_java11_sdk&lt;br/&gt;
apache/beam_java8_sdk&lt;br/&gt;
apache/beam_flink1.8_job_server&lt;br/&gt;
apache/beam_flink1.10_job_server&lt;br/&gt;
apache/beam_flink1.11_job_server&lt;br/&gt;
apache/beam_flink1.12_job_server&lt;br/&gt;
apache/beam_flink1.9_job_server&lt;br/&gt;
apache/beam_spark_job_server&lt;br/&gt;
Make sure the images are correct, then press any key to proceed.&lt;/p&gt;

&lt;p&gt;invalid reference format&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Probably this is a bug introduced by recent&#160; &lt;a href=&quot;https://github.com/apache/beam/commit/34ce707370f2b0ff539e0ac24c84485aeb07207e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/commit/34ce707370f2b0ff539e0ac24c84485aeb07207e&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Assigning to Emily for now since Kyle is OOO.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13360163">BEAM-11848</key>
            <summary>publish_docker_images script fails to deploy images for 2.28.0 RC1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ibzib">Kyle Weaver</assignee>
                                    <reporter username="chamikara">Chamikara Madhusanka Jayalath</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 Feb 2021 18:33:39 +0000</created>
                <updated>Tue, 2 Mar 2021 18:19:59 +0000</updated>
                            <resolved>Tue, 2 Mar 2021 18:19:59 +0000</resolved>
                                                    <fixVersion>2.29.0</fixVersion>
                                    <component>project-management</component>
                    <component>sdk-java-harness</component>
                    <component>sdk-py-harness</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="8400">2h 20m</timespent>
                                <comments>
                            <comment id="17288564" author="chamikara" created="Mon, 22 Feb 2021 18:43:15 +0000"  >&lt;p&gt;I tried printing the Docker image we are trying to pull.&lt;/p&gt;

&lt;p&gt;echo &quot;Pulling Docker image ${IMAGE}:${RELEASE}_${RC_VERSION}&quot;&lt;/p&gt;

&lt;p&gt;Which resulted in (for the first pull):&lt;/p&gt;

&lt;p&gt;Pulling Docker image apache/beam_python3.8_sdk&lt;br/&gt;
apache/beam_python3.7_sdk&lt;br/&gt;
apache/beam_python3.6_sdk&lt;br/&gt;
apache/beam_java11_sdk&lt;br/&gt;
apache/beam_java8_sdk&lt;br/&gt;
apache/beam_flink1.8_job_server&lt;br/&gt;
apache/beam_flink1.10_job_server&lt;br/&gt;
apache/beam_flink1.12_job_server&lt;br/&gt;
apache/beam_flink1.11_job_server&lt;br/&gt;
apache/beam_flink1.9_job_server&lt;br/&gt;
apache/beam_spark_job_server:2.28.0_rc1&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;So seems like we are not splitting the list correctly and trying to pull an invalid image name.&lt;/p&gt;</comment>
                            <comment id="17288608" author="chamikara" created="Mon, 22 Feb 2021 20:18:31 +0000"  >&lt;p&gt;I could push the images by manually setting the IMAGES list to following.&lt;/p&gt;

&lt;p&gt;IMAGES=(&quot;apache/beam_python3.8_sdk&quot; &quot;apache/beam_python3.7_sdk&quot; &quot;apache/beam_python3.6_sdk&quot; &quot;apache/beam_java11_sdk&quot; &quot;apache/beam_java8_sdk&quot; &quot;apache/beam_flink1.8_job_server&quot; &quot;apache/beam_flink1.10_job_server&quot; &quot;apache/beam_flink1.11_job_server&quot; &quot;apache/beam_flink1.12_job_server&quot; &quot;apache/beam_flink1.9_job_server&quot; &quot;apache/beam_spark_job_server&quot;)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0nxwo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>