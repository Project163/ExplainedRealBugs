<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:02:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-8422] Send emails to builds@ when job ends with state &quot;ABORTED&quot;</title>
                <link>https://issues.apache.org/jira/browse/BEAM-8422</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;I noticed that timeouting jobs end up in an ABORTED state (black dot on the Jenkins dashboard). No email is sent to the builds@ list when this happens. It reduces the visibility of a problem - if one relies on builds@ they won&apos;t see that Jenkins job takes too much time.&lt;br/&gt;
&#160;&lt;br/&gt;
At the time of writing, 5 jobs are affected:&lt;br/&gt;
beam_PostCommit_Java11_ValidatesRunner_Dataflow_PR&lt;br/&gt;
beam_PostCommit_Java11_ValidatesRunner_PortabilityApi_Dataflow&lt;br/&gt;
beam_PostCommit_Java_PVR_Spark_Batch&lt;br/&gt;
beam_PostCommit_Python37_PR&lt;br/&gt;
beam_sonarqube_report&lt;br/&gt;
&#160;&lt;br/&gt;
I propose changing this behavior and send emails to builds@ when job ends with ABORTED state.&lt;/p&gt;

&lt;p&gt;The drawback of this solution is that every time someone aborts the job manually the email will be sent too -&#160; there&apos;s no way to distinguish those two situations. However, IMO we should not allow timeouts to be unnoticed and manual job aborting does not happen very often (even committers cannot do that now in Jenkins).&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13262832">BEAM-8422</key>
            <summary>Send emails to builds@ when job ends with state &quot;ABORTED&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="&#321;ukaszG">Lukasz Gajowy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 Oct 2019 10:34:56 +0000</created>
                <updated>Fri, 24 Jul 2020 20:02:24 +0000</updated>
                            <resolved>Sat, 2 Nov 2019 23:26:05 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>build-system</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="16953633" author="kamilwu" created="Thu, 17 Oct 2019 11:15:13 +0000"  >&lt;p&gt;There is also one job that is aborted very often: beam_PostCommit_Python37&lt;/p&gt;</comment>
                            <comment id="16953652" author="kamilwu" created="Thu, 17 Oct 2019 11:40:01 +0000"  >&lt;p&gt;Is there any way to notify about timeouted builds only if triggered by cron? I can hardly see a case when someone aborts such a job manually. Yet it should be possible to abort a job which was Phrase Triggered without notifying builds@ about the fact&lt;/p&gt;</comment>
                            <comment id="16953680" author="&#322;ukaszg" created="Thu, 17 Oct 2019 12:04:53 +0000"  >&lt;p&gt;That&apos;s a fair point - I agree with you. Looking more generally, I think that ANY job status from a phrase-triggered job SHOULD NOT be notified on builds@. The way I understand builds@ is that it&apos;s a place for builds from master only. On the contrary, PR triggers status&#160;is only for dev+reviewers information so it&apos;s not a thing that should be shared to whole mailing list imo.&#160;&lt;/p&gt;</comment>
                            <comment id="16959062" author="&#322;ukaszg" created="Thu, 24 Oct 2019 17:12:12 +0000"  >&lt;p&gt;I looked more into possibilities of turning off emails for phrase triggered jobs.&#160;&lt;/p&gt;

&lt;p&gt;This would be possible for jobs that have their definitions &quot;duplicated&quot; for PR triggers (with &lt;em&gt;PR suffix) and Cron jobs. We could deal with the problem on a job definition level and that&apos;s it - &quot;&lt;/em&gt;*_PR&quot; jobs skip mailers and others wouldn&apos;t.&lt;/p&gt;

&lt;p&gt;The problem is with jobs that have one definition (we still have some of them) - we cannot dynamically set mailers based on env variables (like BUILD_CAUSE variable) or some other conditions that we do not know upfront. Since build cause is known only after the job is defined in Jenkins this is impossible to do.&lt;/p&gt;

&lt;p&gt;IMO, at least for now, we should enable emails for all aborted jobs. Once we have all jobs duplicated as described above we can easily improve this.&#160;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16959579" author="kamilwu" created="Fri, 25 Oct 2019 09:04:52 +0000"  >&lt;p&gt;Alright, let&apos;s enable emails for all aborted jobs then.&lt;/p&gt;

&lt;p&gt;Maybe it would be worth to fill a Jira for duplicating jobs for PR triggers and Cron? So we won&apos;t forget about this in the future.&lt;/p&gt;</comment>
                            <comment id="16965517" author="&#322;ukaszg" created="Sat, 2 Nov 2019 23:25:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kamilwu&quot; class=&quot;user-hover&quot; rel=&quot;kamilwu&quot;&gt;kamilwu&lt;/a&gt;&#160;created:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-8548&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/BEAM-8548&lt;/a&gt;&#160;for future reference. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07op4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>