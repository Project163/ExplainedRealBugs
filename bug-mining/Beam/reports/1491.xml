<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:03:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-8481] Python 3.7 Postcommit test -- frequent timeouts</title>
                <link>https://issues.apache.org/jira/browse/BEAM-8481</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Python37/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Python37/&lt;/a&gt; &#8211; this suite seemingly frequently timing out. Other suites are not affected by these timeouts. From the history, the issues started before Oct 10 and we cannot pinpoint because history is lost.&#160;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13264373">BEAM-8481</key>
            <summary>Python 3.7 Postcommit test -- frequent timeouts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tvalentyn">Valentyn Tymofieiev</assignee>
                                    <reporter username="altay">Ahmet Altay</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Oct 2019 23:21:53 +0000</created>
                <updated>Sat, 16 May 2020 13:30:06 +0000</updated>
                            <resolved>Fri, 10 Jan 2020 20:42:55 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="21600">6h</timespent>
                                <comments>
                            <comment id="16965496" author="kenn" created="Sat, 2 Nov 2019 20:35:54 +0000"  >&lt;p&gt;I see the PR is merged. Does this need more followup or is that the scope of this ticket?&lt;/p&gt;</comment>
                            <comment id="16972933" author="ibzib" created="Wed, 13 Nov 2019 01:19:00 +0000"  >&lt;p&gt;Despite increasing the timeout all the way up to 2h30m, this suite is still mostly timing out. Runs that terminate seem to take only around 50m.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Python37/buildTimeTrend&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Python37/buildTimeTrend&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16974668" author="ibzib" created="Thu, 14 Nov 2019 23:16:24 +0000"  >&lt;p&gt;I looked at a couple of the aborted jobs and saw that workers are failing to start up with the error &quot;ModuleNotFoundError: No module named &apos;endpoints_pb2&apos;&quot;. Not sure what the root cause is, but that error has appeared many times in the past (e.g.&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-7527&quot; title=&quot;Python 3 test parallelization causes  test flakines due to ModuleNotFoundError.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-7527&quot;&gt;&lt;del&gt;BEAM-7527&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="16974682" author="tvalentyn" created="Thu, 14 Nov 2019 23:28:05 +0000"  >&lt;p&gt;Thanks for looking into this. In your last message, do you refer to Dataflow workers or Jenkins workers?&lt;/p&gt;</comment>
                            <comment id="16974689" author="ibzib" created="Fri, 15 Nov 2019 00:02:23 +0000"  >&lt;p&gt;Dataflow workers.&lt;/p&gt;</comment>
                            <comment id="16983956" author="udim" created="Wed, 27 Nov 2019 21:50:20 +0000"  >&lt;p&gt;Looking at the traceback, it says:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
I 2019-11-26T20:08:04.683754Z   File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/lib/python3.7/site-packages/apache_beam/portability/api/beam_runner_api_pb2.py&quot;&lt;/span&gt;, line 16, in &amp;lt;module&amp;gt; 
I 2019-11-26T20:08:04.683774Z     &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; endpoints_pb2 as endpoints__pb2 
I 2019-11-26T20:08:04.683784Z ModuleNotFoundError: No module named &lt;span class=&quot;code-quote&quot;&gt;&apos;endpoints_pb2&apos;&lt;/span&gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;however, the version generated on my workstation has an absolute import style:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from . &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; endpoints_pb2 as endpoints__pb2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16983961" author="udim" created="Wed, 27 Nov 2019 22:01:17 +0000"  >&lt;p&gt;It seems that using a beam_runner_api_pb2.py file generated for Py2.7 will not work on Py3.7 (absolute imports required).&lt;/p&gt;</comment>
                            <comment id="16984050" author="tvalentyn" created="Thu, 28 Nov 2019 00:48:07 +0000"  >&lt;p&gt;Starting looking into this failure. Thanks for taking a look, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=udim&quot; class=&quot;user-hover&quot; rel=&quot;udim&quot;&gt;udim&lt;/a&gt;. Futurization step&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; should take care of converting the generated stubs to Python3-compatible syntax. It is possible that a recent change&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; introduced some subtle failure mode here. Looking further.&lt;/p&gt;

&lt;p&gt;&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/f86d1ffa41437d97d90de7293679528197666b95/sdks/python/gen_protos.py#L152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/f86d1ffa41437d97d90de7293679528197666b95/sdks/python/gen_protos.py#L152&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&#160; &lt;a href=&quot;https://github.com/apache/beam/pull/9572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/9572&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16984064" author="tvalentyn" created="Thu, 28 Nov 2019 01:11:45 +0000"  >&lt;p&gt;Since we are staging Beam SDK to GCS, we should compare the SDK tarball in a passing vs failing jobs. It may offer some clues on whether generated protos were properly futurized.&#160;&lt;/p&gt;</comment>
                            <comment id="16984154" author="tvalentyn" created="Thu, 28 Nov 2019 05:24:27 +0000"  >&lt;p&gt;Confirmed that in runs that are timing out, generated protos are not futurized,&#160; then Dataflow workers fail to install Beam SDK, whereas on passing runs, the generated protos are futurized:&lt;/p&gt;

&lt;p&gt;Looked at apache_beam/portability/api/beam_runner_api_pb2.py&#160;&lt;/p&gt;

&lt;p&gt;Bad run (&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Python37/1000/console,&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Python37/1000/console,&lt;/a&gt; &lt;a href=&quot;https://console.cloud.google.com/dataflow/jobsDetail/locations/us-central1/jobs/2019-11-24_10_05_54-6500780864095669452?project=apache-beam-testing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/dataflow/jobsDetail/locations/us-central1/jobs/2019-11-24_10_05_54-6500780864095669452?project=apache-beam-testing&lt;/a&gt;, gs://temp-storage-for-end-to-end-tests/staging-it/beamapp-jenkins-1124180539-774412.1574618739.774621/dataflow_python_sdk.tar):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;import endpoints_pb2 as endpoints__pb2
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Good run (&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Python37/1024/console&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Python37/1024/console&lt;/a&gt;, &lt;a href=&quot;https://console.cloud.google.com/dataflow/jobsDetail/locations/us-central1/jobs/2019-11-27_17_56_02-3837996942992637611?project=apache-beam-testing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://console.cloud.google.com/dataflow/jobsDetail/locations/us-central1/jobs/2019-11-27_17_56_02-3837996942992637611?project=apache-beam-testing&lt;/a&gt;, gs://temp-storage-for-end-to-end-tests/staging-it/beamapp-jenkins-1128015551-757858.1574906151.757993/dataflow_python_sdk.tar):&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;from . import endpoints_pb2 as endpoints__pb2&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16986440" author="tvalentyn" created="Mon, 2 Dec 2019 22:54:43 +0000"  >&lt;p&gt;Looked up&#160;&lt;a href=&quot;https://s.apache.org/beam-community-metrics&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s.apache.org/beam-community-metrics&lt;/a&gt;&#160;-&amp;gt; Post-commit test reliability&#160; -&amp;gt; Post-commit job duration -&amp;gt; Click on the dashboard name -&amp;gt; More -&amp;gt; Enable legend -&amp;gt; Filter view for&#160; Python37 job.&#160;&lt;/p&gt;

&lt;p&gt;The increase in execution time starts happening on 2019-08-08 (which is before&#160;&lt;a href=&quot;https://github.com/apache/beam/pull/9572&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/9572)&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16986443" author="tvalentyn" created="Mon, 2 Dec 2019 22:58:06 +0000"  >&lt;p&gt;Another increase in execution time happens around end of October, when we start to mitigate the problem by increasing postcommit duration. We should revert these changes since they increase the execution time, but a mere increase will not help here, instead we will just hold up a slot in Jenkins worker for a longer period.&lt;/p&gt;</comment>
                            <comment id="16987223" author="udim" created="Tue, 3 Dec 2019 19:48:52 +0000"  >&lt;p&gt;I&apos;m guessing that the removal of the extra futurize calls in #9572 (cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chadrik&quot; class=&quot;user-hover&quot; rel=&quot;chadrik&quot;&gt;chadrik&lt;/a&gt;) may be the culprit here.&lt;br/&gt;
These extra calls were hiding an underlying issue (race?) that I don&apos;t quite understand.&lt;/p&gt;


&lt;p&gt;+1 for reducing the timeout back to what it was.&lt;/p&gt;</comment>
                            <comment id="16987352" author="tvalentyn" created="Tue, 3 Dec 2019 23:24:13 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=udim&quot; class=&quot;user-hover&quot; rel=&quot;udim&quot;&gt;udim&lt;/a&gt;, see my previous message, the error started happening earlier than #9572. After reviewing &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, I think &lt;a href=&quot;https://github.com/apache/beam/pull/9277&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/9277&lt;/a&gt; is the culprit. cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markflyhigh&quot; class=&quot;user-hover&quot; rel=&quot;markflyhigh&quot;&gt;markflyhigh&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/beam/pull/10257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/10257&lt;/a&gt; is out to restore the timeout. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/pulls?q=is%3Apr%20is%3Aclosed+merged%3A2019-08-07..2019-08-09+base%3Amaster+sort%3Aupdated-desc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pulls?q=is%3Apr%20is%3Aclosed+merged%3A2019-08-07..2019-08-09+base%3Amaster+sort%3Aupdated-desc&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16988369" author="udim" created="Thu, 5 Dec 2019 01:27:01 +0000"  >&lt;p&gt;Following up on a conversion with Valentyn.&lt;br/&gt;
Assuming that setup.py sdist creates the same tarball regardless of Python version (i.e. futurize is called and converts the aforementioned relative import of endpoints_pb2 to absolute),&lt;br/&gt;
the underlying issue seems to be a concurrency issue with running setup.py.&lt;br/&gt;
Assuming that nothing else but setup.py generates endpoints_pb2, perhaps we should prevent setup.py from running in parallel with itself.&lt;br/&gt;
What I&apos;m proposing is for setup.py to create and acquire a file lock (in the CWD for instance), to prevent multiple instances from stepping over each other.&lt;/p&gt;

&lt;p&gt;See also this bug which clearly spells out that setuptools is not thread or multi-process safe: &lt;a href=&quot;https://github.com/pypa/setuptools/issues/1222&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pypa/setuptools/issues/1222&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16988372" author="udim" created="Thu, 5 Dec 2019 01:32:04 +0000"  >&lt;p&gt;I mean ideally we should only be running sdist once per copy of the sources, and I&apos;m 80% sure we do that.&lt;br/&gt;
Except that according to the above setuptools issue, it seems that the same tmp directory is still used for each of these sdist invocations.&lt;br/&gt;
(this claim needs to be verified)&lt;/p&gt;</comment>
                            <comment id="16994009" author="tvalentyn" created="Thu, 12 Dec 2019 00:04:54 +0000"  >&lt;p&gt;I can reproduce the issue locally as follows:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; * replace run_integration_tests.sh with a code that simply copies the SDK tarball into a local folder, but does not launch any pipelines
 * simplify other gradle subtask to reduce feedback loop by cutting off inessential operations&#160;&#160;
 * run: $ for i in {1..10}; do gradlew clean ; rm -rf sdks/python/apache_beam/portability/api/*pb2*&#160;; gradlew :python37PostCommit; done
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Half of the time the produced SDK tarball is broken.&lt;/p&gt;</comment>
                            <comment id="16994018" author="udim" created="Thu, 12 Dec 2019 00:27:41 +0000"  >&lt;p&gt;By broken you mean the file is not fully readable or ?&lt;/p&gt;</comment>
                            <comment id="16994047" author="udim" created="Thu, 12 Dec 2019 01:28:10 +0000"  >&lt;p&gt;I don&apos;t know why exactly, but replacing installGcpTest with `dependsOn &apos;:sdks:python:sdist&apos;` and `dependsOn &apos;setupVirtualenv&apos;` fixes the issue for me.&lt;/p&gt;</comment>
                            <comment id="16995289" author="tvalentyn" created="Fri, 13 Dec 2019 02:24:56 +0000"  >&lt;p&gt;By broken I meant that protobuf stubs in generated tarball are not futurized.&lt;/p&gt;

&lt;p&gt;This is what happens.&lt;/p&gt;

&lt;p&gt;There is a race between tasks :sdks:python:sdist and :some:python:project:installGcpTest task. installGcpTest is a gradle-generated task that is added to build files that call applyPythonNature() and is defined in beamModulePlugin&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;sdist command runs python setup.py -q sdist &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;installGcpTest runs activates a new virtual environment and runs &lt;br/&gt;
 python -e {pathToSdkInJeniknsWorkspace}&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;gcp,test&amp;#93;&lt;/span&gt;,&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;There seems to be an intent &lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt; that installGcpTest should run after sdist, after tarball is generated, however this is not happening, I have verified that installGcpTest occasionally starts running before sdist.&lt;/p&gt;

&lt;p&gt;installGcpTest and sdist commands introduce side effects to the only copy sdk of sources, which is cloned into Jenkins workspace. These commands call python setup.py egg_info, which generates &lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;7&amp;#93;&lt;/span&gt; protocol buffer stubs, and futurizes &lt;span class=&quot;error&quot;&gt;&amp;#91;8&amp;#93;&lt;/span&gt; them. There is some caching&lt;span class=&quot;error&quot;&gt;&amp;#91;9&amp;#93;&lt;/span&gt; in proto generation logic: if stubs are already generated, re-generation may be skipped.&lt;/p&gt;

&lt;p&gt;In the following scenario, sdist produces a tarball where stubs are are not futurized:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;installGcpTest called&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;proto stubs are generated as part of installGcpTest, but not yet futurized&amp;#93;&lt;/span&gt; &lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;sdist is called&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;proto stubs are already generated, so regeneration is skipped&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;sdist finishes and prouduces sdk tarball, with stubs not futurized&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;proto stubs are futurized as part of installGcpTest&amp;#93;&lt;/span&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;installGcpTest finishes&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Following may be possible fixes of the issue:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Establish dependency relationship: &apos;installGcpTest&apos; must-run-after &apos;:sdks:python:sdist&apos; that actually works&lt;/li&gt;
	&lt;li&gt;Don&apos;t install sdk in a develop mode (that points virtualenv directory to a shared source folder), instead install sdk into virtualenv from a tarball.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/test-suites/dataflow/py37/build.gradle#L20&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/test-suites/dataflow/py37/build.gradle#L20&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L1808&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L1808&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/build.gradle#L48&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/build.gradle#L48&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L1812&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L1812&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L1816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy#L1816&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/setup.py#L293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/setup.py#L293&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;7&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/gen_protos.py#L140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/gen_protos.py#L140&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;8&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/gen_protos.py#L155&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/gen_protos.py#L155&lt;/a&gt;&lt;br/&gt;
 &lt;span class=&quot;error&quot;&gt;&amp;#91;9&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/gen_protos.py#L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/c7f7da602adc146806f04eb9f6b2070bab745d3d/sdks/python/gen_protos.py#L102&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17013191" author="tvalentyn" created="Fri, 10 Jan 2020 20:42:40 +0000"  >&lt;p&gt;This should be fixed now, let&apos;s reopen if we see these errors again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 44 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z07xqg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>