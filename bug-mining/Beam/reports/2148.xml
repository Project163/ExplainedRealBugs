<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:13:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-11472] taxi_dataframe example broken</title>
                <link>https://issues.apache.org/jira/browse/BEAM-11472</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;I just tried running the taxi_dataframe example at HEAD on Dataflow and found that it fails with the following error:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO:apache_beam.runners.dataflow.dataflow_runner:2020-12-15T16:27:55.653Z: JOB_MESSAGE_ERROR: Traceback (most recent call last):
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;apache_beam/runners/common.py&quot;&lt;/span&gt;, line 1214, in apache_beam.runners.common.DoFnRunner.process
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;apache_beam/runners/common.py&quot;&lt;/span&gt;, line 721, in apache_beam.runners.common.PerWindowInvoker.invoke_process
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;apache_beam/runners/common.py&quot;&lt;/span&gt;, line 753, in apache_beam.runners.common.PerWindowInvoker._should_process_window_for_sdf
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;apache_beam/runners/common.py&quot;&lt;/span&gt;, line 548, in apache_beam.runners.common.DoFnInvoker.invoke_create_tracker
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/lib/python3.8/site-packages/apache_beam/dataframe/io.py&quot;&lt;/span&gt;, line 313, in create_tracker
    tracker = beam.io.restriction_trackers.OffsetRestrictionTracker(restriction)
  File &lt;span class=&quot;code-quote&quot;&gt;&quot;/usr/local/lib/python3.8/site-packages/apache_beam/io/restriction_trackers.py&quot;&lt;/span&gt;, line 91, in __init__
    &lt;span class=&quot;code-keyword&quot;&gt;assert&lt;/span&gt; isinstance(offset_range, OffsetRange)
AssertionError 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/beam/pull/13443&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/13443&lt;/a&gt; Seems like the most likely culprit, and I confirmed that running with Beam before that commit (at bd825f574e342cfa83fb09767c7d5a19a3accc55) does not fail.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13346165">BEAM-11472</key>
            <summary>taxi_dataframe example broken</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="robertwb">Robert Bradshaw</assignee>
                                    <reporter username="bhulette">Brian Hulette</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Dec 2020 17:31:40 +0000</created>
                <updated>Wed, 16 Dec 2020 18:49:29 +0000</updated>
                            <resolved>Wed, 16 Dec 2020 18:49:29 +0000</resolved>
                                                    <fixVersion>2.27.0</fixVersion>
                                    <component>sdk-py-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17249821" author="bhulette" created="Tue, 15 Dec 2020 17:48:20 +0000"  >&lt;p&gt;This should block 2.27.0 as its a regression&lt;/p&gt;</comment>
                            <comment id="17249822" author="bhulette" created="Tue, 15 Dec 2020 17:49:11 +0000"  >&lt;p&gt;This is the full example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
from __future__ &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; absolute_import

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; argparse
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; logging

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; apache_beam as beam
from apache_beam.dataframe.convert &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; to_dataframe
from apache_beam.dataframe.convert &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; to_pcollection
from apache_beam.dataframe.io &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; read_csv
from apache_beam.io &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; ReadFromText
from apache_beam.options.pipeline_options &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; PipelineOptions


def run(argv=None):
  &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot;&quot;Main entry point; defines and runs the wordcount pipeline.&quot;&lt;/span&gt;&quot;&quot;
  parser = argparse.ArgumentParser()
  parser.add_argument(
      &lt;span class=&quot;code-quote&quot;&gt;&apos;--input&apos;&lt;/span&gt;,
      dest=&lt;span class=&quot;code-quote&quot;&gt;&apos;input&apos;&lt;/span&gt;,
      &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;=&lt;span class=&quot;code-quote&quot;&gt;&apos;gs:&lt;span class=&quot;code-comment&quot;&gt;//apache-beam-samples/nyc_taxi/2019/yellow_tripdata_2019-01.csv&apos;&lt;/span&gt;,
&lt;/span&gt;      help=&lt;span class=&quot;code-quote&quot;&gt;&apos;Input file to process.&apos;&lt;/span&gt;)
  parser.add_argument(
      &lt;span class=&quot;code-quote&quot;&gt;&apos;--output&apos;&lt;/span&gt;,
      dest=&lt;span class=&quot;code-quote&quot;&gt;&apos;output&apos;&lt;/span&gt;,
      required=True,
      help=&lt;span class=&quot;code-quote&quot;&gt;&apos;Output file to write results to.&apos;&lt;/span&gt;)
  known_args, pipeline_args = parser.parse_known_args(argv)

  # The pipeline will be run on exiting the with block.
  with beam.Pipeline(options=PipelineOptions(pipeline_args)) as p:
    df = p | read_csv(known_args.input, usecols=[&lt;span class=&quot;code-quote&quot;&gt;&apos;passenger_count&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;DOLocationID&apos;&lt;/span&gt;])

    # Count the number of passengers dropped off per LocationID
    agg = df.groupby(&lt;span class=&quot;code-quote&quot;&gt;&apos;DOLocationID&apos;&lt;/span&gt;).sum()
    agg.to_csv(known_args.output)


&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; __name__ == &lt;span class=&quot;code-quote&quot;&gt;&apos;__main__&apos;&lt;/span&gt;:
  logging.getLogger().setLevel(logging.INFO)
  run()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0lje8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>