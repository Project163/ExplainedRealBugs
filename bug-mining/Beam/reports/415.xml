<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:46:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-1487] BufferingStreamObserverTest, BeamFnLoggingClientTest repeatedly times out in precommit</title>
                <link>https://issues.apache.org/jira/browse/BEAM-1487</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;BufferingStreamObserverTest&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7401/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7401/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7248/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7248/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7267/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7267/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;BeamFnLoggingClientTest&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7274/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7274/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7256/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7256/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7265/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7265/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7288/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7288/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7254/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7254/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7111/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Java_MavenInstall/7111/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13043062">BEAM-1487</key>
            <summary>BufferingStreamObserverTest, BeamFnLoggingClientTest repeatedly times out in precommit</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10100" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">P0</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lcwik">Luke Cwik</assignee>
                                    <reporter username="tgroh">Thomas Groh</reporter>
                        <labels>
                            <label>flake</label>
                            <label>portability</label>
                    </labels>
                <created>Tue, 14 Feb 2017 20:32:31 +0000</created>
                <updated>Wed, 24 Mar 2021 21:15:29 +0000</updated>
                            <resolved>Tue, 17 Oct 2017 00:08:27 +0000</resolved>
                                                    <fixVersion>2.3.0</fixVersion>
                                    <component>beam-model</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15866644" author="githubbot" created="Tue, 14 Feb 2017 20:51:06 +0000"  >&lt;p&gt;GitHub user tgroh opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2005&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2005&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1487&quot; title=&quot;BufferingStreamObserverTest, BeamFnLoggingClientTest repeatedly times out in precommit&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1487&quot;&gt;&lt;del&gt;BEAM-1487&lt;/del&gt;&lt;/a&gt; Suppress flaky harness tests&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`. (Even better, enable&lt;br/&gt;
           Travis-CI on your fork and ensure the whole test matrix passes).&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.txt&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tgroh/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tgroh/beam&lt;/a&gt; suppress_flaky_harness_tests&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2005.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2005.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2005&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e5aaa6e7c730cb9566e15277ff659e06ac89ba67&lt;br/&gt;
Author: Thomas Groh &amp;lt;tgroh@google.com&amp;gt;&lt;br/&gt;
Date:   2017-02-09T19:37:33Z&lt;/p&gt;

&lt;p&gt;    Return a Forwarding View in View Overrides&lt;/p&gt;

&lt;p&gt;    This ensures that replacing an output will not fail to mark the&lt;br/&gt;
    overridden view as produced by the replacement transform.&lt;/p&gt;

&lt;p&gt;commit d03b553e90559c59d12d3df092c255df8caf8fd8&lt;br/&gt;
Author: Thomas Groh &amp;lt;tgroh@google.com&amp;gt;&lt;br/&gt;
Date:   2017-02-09T19:40:50Z&lt;/p&gt;

&lt;p&gt;    Add Pipeline#replaceTransform&lt;/p&gt;

&lt;p&gt;    This is the base method for Pipeline Surgery. It takes a&lt;br/&gt;
    PTransformMatcher and a PTransformOverrideFactory, and replaces all&lt;br/&gt;
    matching PTransforms with the result of the Override Factory.&lt;/p&gt;

&lt;p&gt;commit 9597db4c678f64b9fe9d5dadb9454b6159c120da&lt;br/&gt;
Author: Thomas Groh &amp;lt;tgroh@google.com&amp;gt;&lt;br/&gt;
Date:   2017-02-09T19:43:24Z&lt;/p&gt;

&lt;p&gt;    Add ParDo Matchers to PTransformMatchers&lt;/p&gt;

&lt;p&gt;    These match Splittable ParDos and ParDos that use State and Timers.&lt;/p&gt;

&lt;p&gt;commit f59334858a7f0df9e645bac73637b6c7210338cf&lt;br/&gt;
Author: Thomas Groh &amp;lt;tgroh@google.com&amp;gt;&lt;br/&gt;
Date:   2017-02-09T19:45:06Z&lt;/p&gt;

&lt;p&gt;    Use Graph Surgery in the DirectRunner&lt;/p&gt;

&lt;p&gt;    Remove DirectRunner#apply(). This migrates the DirectRunner to work on a&lt;br/&gt;
    runner-agnostic graph.&lt;/p&gt;

&lt;p&gt;commit e8d9641807f473c6214e9a9bbb6a9280d898bd6c&lt;br/&gt;
Author: Thomas Groh &amp;lt;tgroh@google.com&amp;gt;&lt;br/&gt;
Date:   2017-02-14T20:48:34Z&lt;/p&gt;

&lt;p&gt;    Suppress two Flaky Harness Tests&lt;/p&gt;

&lt;p&gt;    These tests are hanging forever in Jenkins&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15866780" author="githubbot" created="Tue, 14 Feb 2017 21:54:41 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2005&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2005&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16202796" author="lcwik" created="Thu, 12 Oct 2017 23:26:18 +0000"  >&lt;p&gt;BeamFnLoggingClient was fixed in &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3016&quot; title=&quot;BeamFnLoggingClient shutdown stability&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3016&quot;&gt;&lt;del&gt;BEAM-3016&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16203819" author="githubbot" created="Fri, 13 Oct 2017 16:41:12 +0000"  >&lt;p&gt;GitHub user lukecwik opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3992&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3992&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;BEAM-1487, BEAM-3016&amp;#93;&lt;/span&gt; Address termination correctness issues in BufferingStreamObserver &amp;amp; BeamFnLoggingClient&lt;/p&gt;

&lt;p&gt;    The issue with BeamFnLoggingClient is that we can&apos;t arriveAndDeregister during termination since&lt;br/&gt;
    the onReadyHandler may also arrive at the same time which is why we swap to using forced termination.&lt;br/&gt;
    Also, I added code that would guarantee that log messages produced by the thread which is shutting&lt;br/&gt;
    down are guaranteed to make it (this was being caught occassionally by the testLogging test).&lt;/p&gt;

&lt;p&gt;    The BufferingStreamObserver was incorrectly shutting down since it may attempt to enqueue something&lt;br/&gt;
    into a full queue with a reading thread that has already exitted for some reason so it would loop&lt;br/&gt;
    forever attempting to insert the poison pill.&lt;/p&gt;

&lt;p&gt;    Follow this checklist to help us incorporate your contribution quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure there is a &lt;span class=&quot;error&quot;&gt;&amp;#91;JIRA issue&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/projects/BEAM/issues/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/BEAM/issues/&lt;/a&gt;) filed for the change (usually before you start working on it).  Trivial changes like typos do not require a JIRA issue.  Your pull request should address just this issue, without pulling in other changes.&lt;/li&gt;
	&lt;li&gt;[ ] Each commit in the pull request should have a meaningful subject line and body.&lt;/li&gt;
	&lt;li&gt;[ ] Format the pull request title like `&lt;span class=&quot;error&quot;&gt;&amp;#91;BEAM-XXX&amp;#93;&lt;/span&gt; Fixes bug in ApproximateQuantiles`, where you replace `BEAM-XXX` with the appropriate JIRA issue.&lt;/li&gt;
	&lt;li&gt;[ ] Write a pull request description that is detailed enough to understand what the pull request does, how, and why.&lt;/li&gt;
	&lt;li&gt;[ ] Run `mvn clean verify` to make sure basic checks pass. A more thorough check will be performed on your pull request automatically.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/lukecwik/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lukecwik/incubator-beam&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3992.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3992.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3992&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 9dd1c5be1c79de55a49e827e8cd9d2418a9a55b8&lt;br/&gt;
Author: Luke Cwik &amp;lt;lcwik@google.com&amp;gt;&lt;br/&gt;
Date:   2017-10-12T23:26:29Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;BEAM-1487, BEAM-3016&amp;#93;&lt;/span&gt; Address termination correctness issues in BufferingStreamObserver &amp;amp; BeamFnLoggingClient&lt;/p&gt;

&lt;p&gt;    The issue with BeamFnLoggingClient is that we can&apos;t arriveAndDeregister during termination since&lt;br/&gt;
    the onReadyHandler may also arrive at the same time which is why we swap to using forced termination.&lt;br/&gt;
    Also, I added code that would guarantee that log messages produced by the thread which is shutting&lt;br/&gt;
    down are guaranteed to make it (this was being caught occassionally by the testLogging test).&lt;/p&gt;

&lt;p&gt;    The BufferingStreamObserver was incorrectly shutting down since it may attempt to enqueue something&lt;br/&gt;
    into a full queue with a reading thread that has already exitted for some reason so it would loop&lt;br/&gt;
    forever attempting to insert the poison pill.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16206777" author="githubbot" created="Mon, 16 Oct 2017 23:33:20 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3992&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3992&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3a2vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>