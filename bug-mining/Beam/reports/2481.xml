<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:18:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-12678] beam_PreCommit_GoPortable_Phrase failing to start the local job server</title>
                <link>https://issues.apache.org/jira/browse/BEAM-12678</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Failure: &lt;a href=&quot;https://ci-beam.apache.org/job/beam_PreCommit_GoPortable_Phrase/54&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PreCommit_GoPortable_Phrase/54&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Error:&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;ERROR:apache_beam.runners.portability.local_job_service:Error running pipeline. Traceback (most recent call last): File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/local_job_service.py&quot;, line 272, in _run_job result = fn_runner.FnApiRunner( File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/fn_runner.py&quot;, line 206, in run_via_runner_api return self.run_stages(stage_context, stages) File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/fn_runner.py&quot;, line 384, in run_stages stage_results = self._run_stage( File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/fn_runner.py&quot;, line 602, in _run_stage bundle_context_manager.extract_bundle_inputs_and_outputs()) File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/execution.py&quot;, line 868, in extract_bundle_inputs_and_outputs data_api_service_descriptor = self.data_api_service_descriptor() File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/execution.py&quot;, line 786, in data_api_service_descriptor return self.worker_handlers&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.data_api_service_descriptor() File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/execution.py&quot;, line 778, in worker_handlers self.execution_context.worker_handler_manager.get_worker_handlers( File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/worker_handlers.py&quot;, line 898, in get_worker_handlers worker_handler.start_worker() File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/worker_handlers.py&quot;, line 758, in start_worker self._container_id = subprocess.check_output([ File &quot;/usr/lib/python3.8/subprocess.py&quot;, line 411, in check_output return run(*popenargs, stdout=PIPE, timeout=timeout, check=True, File &quot;/usr/lib/python3.8/subprocess.py&quot;, line 512, in run raise CalledProcessError(retcode, process.args, subprocess.CalledProcessError: Command &apos;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;docker&amp;#39;, &amp;#39;run&amp;#39;, &amp;#39;-d&amp;#39;, &amp;#39;--network=host&amp;#39;, &amp;#39;apache/beam_java8_sdk:2.32.0.dev&amp;#39;, &amp;#39;--id=worker_5&amp;#39;, &amp;#39;--logging_endpoint=localhost:38279&amp;#39;, &amp;#39;--control_endpoint=localhost:33775&amp;#39;, &amp;#39;--artifact_endpoint=localhost:33775&amp;#39;, &amp;#39;--provision_endpoint=localhost:33775&amp;#39;&amp;#93;&lt;/span&gt;&apos; returned non-zero exit status 125. Exception in thread Thread-32: Traceback (most recent call last): File &quot;/usr/lib/python3.8/threading.py&quot;, line 932, in _bootstrap_inner self.run() File &quot;/usr/lib/python3.8/threading.py&quot;, line 870, in run self._target(*self._args, **self._kwargs) File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/local_job_service.py&quot;, line 272, in _run_job result = fn_runner.FnApiRunner( File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/fn_runner.py&quot;, line 206, in run_via_runner_api return self.run_stages(stage_context, stages) File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/fn_runner.py&quot;, line 384, in run_stages stage_results = self._run_stage( File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/fn_runner.py&quot;, line 602, in _run_stage bundle_context_manager.extract_bundle_inputs_and_outputs()) File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/execution.py&quot;, line 868, in extract_bundle_inputs_and_outputs data_api_service_descriptor = self.data_api_service_descriptor() File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/execution.py&quot;, line 786, in data_api_service_descriptor return self.worker_handlers&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.data_api_service_descriptor() File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/execution.py&quot;, line 778, in worker_handlers self.execution_context.worker_handler_manager.get_worker_handlers( File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/worker_handlers.py&quot;, line 898, in get_worker_handlers worker_handler.start_worker() File &quot;/home/jenkins/jenkins-slave/workspace/beam_PreCommit_GoPortable_Phrase/src/sdks/python/apache_beam/runners/portability/fn_api_runner/worker_handlers.py&quot;, line 758, in start_worker self._container_id = subprocess.check_output([ File &quot;/usr/lib/python3.8/subprocess.py&quot;, line 411, in check_output return run(*popenargs, stdout=PIPE, timeout=timeout, check=True, File &quot;/usr/lib/python3.8/subprocess.py&quot;, line 512, in run raise CalledProcessError(retcode, process.args, subprocess.CalledProcessError: Command &apos;&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;#39;docker&amp;#39;, &amp;#39;run&amp;#39;, &amp;#39;-d&amp;#39;, &amp;#39;--network=host&amp;#39;, &amp;#39;apache/beam_java8_sdk:2.32.0.dev&amp;#39;, &amp;#39;--id=worker_5&amp;#39;, &amp;#39;--logging_endpoint=localhost:38279&amp;#39;, &amp;#39;--control_endpoint=localhost:33775&amp;#39;, &amp;#39;--artifact_endpoint=localhost:33775&amp;#39;, &amp;#39;--provision_endpoint=localhost:33775&amp;#39;&amp;#93;&lt;/span&gt;&apos; returned non-zero exit status 125. Jul 29, 2021 4:24:00 AM org.apache.beam.sdk.expansion.service.ExpansionService expand&lt;/p&gt;</description>
                <environment></environment>
        <key id="13392493">BEAM-12678</key>
            <summary>beam_PreCommit_GoPortable_Phrase failing to start the local job server</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lostluck">Robert Burke</assignee>
                                    <reporter username="angoenka">Ankur Goenka</reporter>
                        <labels>
                            <label>stale-assigned</label>
                    </labels>
                <created>Thu, 29 Jul 2021 08:38:09 +0000</created>
                <updated>Thu, 9 Sep 2021 18:41:37 +0000</updated>
                            <resolved>Thu, 9 Sep 2021 18:41:37 +0000</resolved>
                                    <version>2.32.0</version>
                                    <fixVersion>2.32.0</fixVersion>
                                    <component>sdk-go</component>
                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10200">2h 50m</timespent>
                                <comments>
                            <comment id="17390069" author="lostluck" created="Thu, 29 Jul 2021 18:30:49 +0000"  >&lt;p&gt;They&apos;re all the XLang tests against the ULR.. It actually does start up, but then it can&apos;t find the Java container.&lt;/p&gt;


&lt;p&gt;&lt;b&gt;21:25:52&lt;/b&gt; 2021/07/29 04:25:40 2021-07-29 04:25:40. (26): Created Worker handler &amp;lt;apache_beam.runners.portability.fn_api_runner.worker_handlers.DockerSdkWorkerHandler object at 0x7fbcf0912d30&amp;gt; for environment eInEuaPSqXbeam:env:docker:v1 (beam:env:docker:v1, b&apos;\n apache/beam_java8_sdk:2.32.0.dev&apos;)&lt;b&gt;21:25:52&lt;/b&gt; 2021/07/29 04:25:40 2021-07-29 04:25:40. (27): Attempting to pull image apache/beam_java8_sdk:2.32.0.dev*21:25:52* 2021/07/29 04:25:41 2021-07-29 04:25:41. (28): Unable to pull image apache/beam_java8_sdk:2.32.0.dev, defaulting to local image if it exists&lt;/p&gt;</comment>
                            <comment id="17390153" author="angoenka" created="Thu, 29 Jul 2021 20:43:32 +0000"  >&lt;p&gt;I see, the java8 image is not created &lt;a href=&quot;https://hub.docker.com/r/apache/beam_java8_sdk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://hub.docker.com/r/apache/beam_java8_sdk&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Will update the instructions to do so.&lt;/p&gt;</comment>
                            <comment id="17390182" author="angoenka" created="Thu, 29 Jul 2021 22:11:47 +0000"  >&lt;p&gt;It looks like java8 image is not the problem as it defaults to local image&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;INFO:apache_beam.runners.portability.fn_api_runner.worker_handlers:Unable to pull image apache/beam_java8_sdk:2.32.0.dev, defaulting to local image if it exists&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;However, the container run failed with exit code 125.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17390183" author="angoenka" created="Thu, 29 Jul 2021 22:16:17 +0000"  >&lt;p&gt;Actually I missed the line. it eventually did not find the java8 image&lt;/p&gt;

&lt;p&gt;&quot;Unable to find image &apos;apache/beam_java8_sdk:2.32.0.dev&apos; locally&quot;&lt;/p&gt;</comment>
                            <comment id="17390195" author="lostluck" created="Thu, 29 Jul 2021 23:18:26 +0000"  >&lt;p&gt;I&apos;m confused why release branches get this mismatch, but not regular executions.&#160; A java container should be being built by the scripts...&lt;/p&gt;</comment>
                            <comment id="17391001" author="lostluck" created="Sat, 31 Jul 2021 16:59:27 +0000"  >&lt;p&gt;Maybe it&apos;s built 2.32.0 (speculation) but it&apos;s looking up 2.32.0.dev (known) ?&lt;/p&gt;</comment>
                            <comment id="17391804" author="angoenka" created="Mon, 2 Aug 2021 21:17:54 +0000"  >&lt;p&gt;We have not yet released 2.32 image as well so that would also fail.&#160;&lt;/p&gt;

&lt;p&gt;The CL for test adds the dev tag back to the repo just for the test I guess.&lt;/p&gt;</comment>
                            <comment id="17391880" author="lostluck" created="Tue, 3 Aug 2021 02:28:40 +0000"  >&lt;p&gt;I would not block the release on this TBH, as the SDK is experimental. It&apos;s worth noting that the Dataflow tests are passing with a locally built container.&lt;/p&gt;

&lt;p&gt; I need to do release work for the next release for the Go SDK for it to exit experimental, so I can look into this then. Marking as WAI.&lt;/p&gt;



&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17391882" author="lostluck" created="Tue, 3 Aug 2021 02:30:50 +0000"  >&lt;p&gt;Correction: marking as needing fixing for 2.33.0 and no longer a 2.32.0 blocker.&lt;/p&gt;</comment>
                            <comment id="17410016" author="beamjirabot" created="Sat, 4 Sep 2021 17:23:08 +0000"  >&lt;p&gt;This issue is assigned but has not received an update in 30 days so it has been labeled &quot;stale-assigned&quot;. If you are still working on the issue, please give an update and remove the label. If you are no longer working on the issue, please unassign so someone else may work on it. In 7 days the issue will be automatically unassigned.&lt;/p&gt;</comment>
                            <comment id="17412769" author="ibzib" created="Thu, 9 Sep 2021 18:41:23 +0000"  >&lt;p&gt;It looks like this is fixed now. Please reopen if that is not true.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0tfoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>