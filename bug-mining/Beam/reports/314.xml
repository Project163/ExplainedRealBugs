<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:44:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-2256] mongodb sdk MongoDbIO.BoundedMongoDbSource.splitKeysToFilters incorrect</title>
                <link>https://issues.apache.org/jira/browse/BEAM-2256</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;When use beam-sdks-java-io-mongodb to count a large collection in MongoDB, I always get a smaller number than actual size of the collection. It seems a puzzle, until I dived into source code and trace the execution. The fault exists in method MongoDbIO.BoundedMongoDbSource.splitKeysToFilters(), which should return one more FILTER than size of input argument splitKeys. &lt;br/&gt;
I check all version of this file, it seems none was correct.&lt;br/&gt;
Additionally, it seems no suitable &lt;span class=&quot;error&quot;&gt;&amp;#91;Component&amp;#93;&lt;/span&gt;. I choose a similar tag.&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13071070">BEAM-2256</key>
            <summary>mongodb sdk MongoDbIO.BoundedMongoDbSource.splitKeysToFilters incorrect</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="10722" iconUrl="https://issues.apache.org/jira/images/icons/statuses/generic.png" description="">Triage Needed</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jbonofre">Jean-Baptiste Onofr&#233;</assignee>
                                    <reporter username="hongmin">wang hongmin</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Thu, 11 May 2017 07:53:23 +0000</created>
                <updated>Thu, 21 Nov 2024 12:54:09 +0000</updated>
                            <resolved>Thu, 11 May 2017 22:15:55 +0000</resolved>
                                    <version>Not applicable</version>
                    <version>0.4.0</version>
                    <version>0.5.0</version>
                    <version>0.6.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>io-java-mongodb</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1800">0.5h</timeoriginalestimate>
                            <timeestimate seconds="1800">0.5h</timeestimate>
                                        <comments>
                            <comment id="16006625" author="dhalperi@google.com" created="Thu, 11 May 2017 15:20:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hongmin&quot; class=&quot;user-hover&quot; rel=&quot;hongmin&quot;&gt;hongmin&lt;/a&gt; wow, thanks for finding this issue and the excellent report. Would you be interested in sending a fix PR?&lt;/p&gt;</comment>
                            <comment id="16006627" author="dhalperi@google.com" created="Thu, 11 May 2017 15:20:57 +0000"  >&lt;p&gt;marking as a candidate blocker for 2.0.0 &amp;#8211; data loss is serious issue.&lt;/p&gt;</comment>
                            <comment id="16006633" author="dhalperi@google.com" created="Thu, 11 May 2017 15:26:35 +0000"  >&lt;p&gt;FYI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbonofre&quot; class=&quot;user-hover&quot; rel=&quot;jbonofre&quot;&gt;jbonofre&lt;/a&gt; to confirm existence of issue and possible fix if possible.&lt;/p&gt;</comment>
                            <comment id="16006638" author="jbonofre" created="Thu, 11 May 2017 15:29:21 +0000"  >&lt;p&gt;Thanks for the report ! Let me take a look.&lt;/p&gt;</comment>
                            <comment id="16007111" author="githubbot" created="Thu, 11 May 2017 20:11:11 +0000"  >&lt;p&gt;GitHub user jbonofre opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3093&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3093&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2256&quot; title=&quot;mongodb sdk MongoDbIO.BoundedMongoDbSource.splitKeysToFilters incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2256&quot;&gt;&lt;del&gt;BEAM-2256&lt;/del&gt;&lt;/a&gt; Add the last previous range filter&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; Make sure tests pass via `mvn clean verify`.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;X&amp;#93;&lt;/span&gt; If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jbonofre/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jbonofre/beam&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2256&quot; title=&quot;mongodb sdk MongoDbIO.BoundedMongoDbSource.splitKeysToFilters incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2256&quot;&gt;&lt;del&gt;BEAM-2256&lt;/del&gt;&lt;/a&gt;-MONGODBIO&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3093.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3093.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3093&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 48cdb57831f45236327ebb7fb26b5a771ec0e7d0&lt;br/&gt;
Author: Jean-Baptiste Onofr&#233; &amp;lt;jbonofre@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-05-11T20:09:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2256&quot; title=&quot;mongodb sdk MongoDbIO.BoundedMongoDbSource.splitKeysToFilters incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2256&quot;&gt;&lt;del&gt;BEAM-2256&lt;/del&gt;&lt;/a&gt; Add the last previous range filter&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16007275" author="githubbot" created="Thu, 11 May 2017 22:02:19 +0000"  >&lt;p&gt;GitHub user lukecwik opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3100&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Cherry pick #3093: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2256&quot; title=&quot;mongodb sdk MongoDbIO.BoundedMongoDbSource.splitKeysToFilters incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2256&quot;&gt;&lt;del&gt;BEAM-2256&lt;/del&gt;&lt;/a&gt; Add the last previous range filter&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Make sure tests pass via `mvn clean verify`.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/lukecwik/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lukecwik/incubator-beam&lt;/a&gt; beam2256&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3100.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3100.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3100&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 1ba1e031fe7494b94b10674bfb07b975894fde13&lt;br/&gt;
Author: Jean-Baptiste Onofr&#233; &amp;lt;jbonofre@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-05-11T20:09:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2256&quot; title=&quot;mongodb sdk MongoDbIO.BoundedMongoDbSource.splitKeysToFilters incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2256&quot;&gt;&lt;del&gt;BEAM-2256&lt;/del&gt;&lt;/a&gt; Add the last previous range filter&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16007453" author="githubbot" created="Fri, 12 May 2017 01:05:03 +0000"  >&lt;p&gt;Github user lukecwik closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3100&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3100&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16007655" author="githubbot" created="Fri, 12 May 2017 05:31:35 +0000"  >&lt;p&gt;Github user jbonofre closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3093&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3093&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ethr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>