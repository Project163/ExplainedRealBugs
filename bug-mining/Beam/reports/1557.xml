<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:04:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-8577] FileSystems may have not be initialized during ResourceId deserialization</title>
                <link>https://issues.apache.org/jira/browse/BEAM-8577</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;FileSystems use static registration using &lt;b&gt;FileSystems#setDefaultPipelineOptions&lt;/b&gt; method.&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;#setDefaultPipelineOptions&lt;/b&gt; is called either when deserializaing SerializablePipelineOptions or during opening of various beam operators.&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;FileIO#matchAll&lt;/b&gt; is expanded using &lt;b&gt;Reshuffle.viaRandomKey()&lt;/b&gt;.&lt;/li&gt;
	&lt;li&gt;Reshuffle is implemented using &lt;b&gt;.rebalance&lt;/b&gt;, that doesn&apos;t have a &quot;RichFunction&quot; lifecycle, so we need to find another way to register FileSystems, as the deserialization may happen before other &quot;rich operators&quot; get executed on particular task manager.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This results in random pipeline fails as the task assignment is not deterministic.&lt;/p&gt;

&lt;p&gt;We can workaround this, by registering FileSystems during coder deserialization.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13266839">BEAM-8577</key>
            <summary>FileSystems may have not be initialized during ResourceId deserialization</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="10722" iconUrl="https://issues.apache.org/jira/images/icons/statuses/generic.png" description="">Triage Needed</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dmvk">David Mor&#225;vek</assignee>
                                    <reporter username="dmvk">David Mor&#225;vek</reporter>
                        <labels>
                    </labels>
                <created>Thu, 7 Nov 2019 14:27:25 +0000</created>
                <updated>Thu, 13 Apr 2023 11:00:20 +0000</updated>
                            <resolved>Mon, 6 Jan 2020 18:41:39 +0000</resolved>
                                    <version>2.16.0</version>
                                    <fixVersion>2.19.0</fixVersion>
                                    <component>runner-flink</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9000">2.5h</timespent>
                                <comments>
                            <comment id="16976835" author="kenn" created="Mon, 18 Nov 2019 19:44:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mxm&quot; class=&quot;user-hover&quot; rel=&quot;mxm&quot;&gt;mxm&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dmvk&quot; class=&quot;user-hover&quot; rel=&quot;dmvk&quot;&gt;dmvk&lt;/a&gt;&#160;I see a PR under review. Is this a regression? Or is it quick &amp;amp; easy to finish review and cherrypick? Asking because it is tagged for 2.17.0&lt;/p&gt;</comment>
                            <comment id="16976838" author="davidmoravek" created="Mon, 18 Nov 2019 19:48:08 +0000"  >&lt;p&gt;This is broken in previous versions as well. Removing 2.17 tag as we still didn&apos;t reach consensus how to properly solve this (the PR is just a workaround).&lt;/p&gt;</comment>
                            <comment id="17007067" author="cchepelov" created="Thu, 2 Jan 2020 20:17:16 +0000"  >&lt;p&gt;Got hit by this while attempting to run a SCIO pipeline under Flink&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;scio 0.8.0-beta2&lt;/li&gt;
	&lt;li&gt;scala-2.12 (.10)&lt;/li&gt;
	&lt;li&gt;beam 2.16.0&lt;/li&gt;
	&lt;li&gt;flink 1.8.3 &amp;amp; 1.9.1&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13091736">BEAM-2712</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="13258384">BEAM-8303</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 45 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z08cyg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>