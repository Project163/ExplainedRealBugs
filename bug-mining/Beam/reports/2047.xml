<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:12:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-10921] Interactive Runner Python unit tests are flaky on Windows</title>
                <link>https://issues.apache.org/jira/browse/BEAM-10921</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Over the past few days python unit tests have been failing frequently. The errors always seem to occur when cleaning up the interactive environment:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...........                                                              [100%]
================================== FAILURES ===================================
_ PipelineInstrumentTest.test_able_to_cache_intermediate_unbounded_source_pcollection _
[gw2] win32 -- Python 3.5.4 d:\a\beam\beam\sdks\python\target\.tox\py35-win\scripts\python.exe

self = &amp;lt;apache_beam.runners.interactive.pipeline_instrument_test.PipelineInstrumentTest testMethod=test_able_to_cache_intermediate_unbounded_source_pcollection&amp;gt;

    def setUp(self):
&amp;gt;     ie.new_env()

apache_beam\runners\interactive\pipeline_instrument_test.py:46: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
apache_beam\runners\interactive\interactive_environment.py:117: in new_env
    _interactive_beam_env.cleanup()
apache_beam\runners\interactive\interactive_environment.py:273: in cleanup
    cache_manager.cleanup()
apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
    shutil.rmtree(self._cache_dir)
c:\hostedtoolcache\windows\python\3.5.4\x64\lib\shutil.py:494: in rmtree
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; _rmtree_unsafe(path, onerror)
c:\hostedtoolcache\windows\python\3.5.4\x64\lib\shutil.py:384: in _rmtree_unsafe
    _rmtree_unsafe(fullname, onerror)
c:\hostedtoolcache\windows\python\3.5.4\x64\lib\shutil.py:389: in _rmtree_unsafe
    onerror(os.unlink, fullname, sys.exc_info())
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

path = &lt;span class=&quot;code-quote&quot;&gt;&apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py35-win\\tmp\\it-8vh2z7pi2021914046928\\full&apos;&lt;/span&gt;
onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x000001D6C3E5C7B8&amp;gt;

    def _rmtree_unsafe(path, onerror):
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; os.path.islink(path):
                # symlinks to directories are forbidden, see bug #1669
                raise OSError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot call rmtree on a symbolic link&quot;&lt;/span&gt;)
        except OSError:
            onerror(os.path.islink, path, sys.exc_info())
            # can&apos;t &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt; even &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; onerror hook returns
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt;
        names = []
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
            names = os.listdir(path)
        except OSError:
            onerror(os.listdir, path, sys.exc_info())
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; name in names:
            fullname = os.path.join(path, name)
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
                mode = os.lstat(fullname).st_mode
            except OSError:
                mode = 0
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; stat.S_ISDIR(mode):
                _rmtree_unsafe(fullname, onerror)
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;:
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
&amp;gt;                   os.unlink(fullname)
E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &lt;span class=&quot;code-quote&quot;&gt;&apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py35-win\\tmp\\it-8vh2z7pi2021914046928\\full\\ac8879590f-2021876280456-2021876278608-2021914046928&apos;&lt;/span&gt;

c:\hostedtoolcache\windows\python\3.5.4\x64\lib\shutil.py:387: PermissionError
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13328092">BEAM-10921</key>
            <summary>Interactive Runner Python unit tests are flaky on Windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rohdesam">Sam Rohde</assignee>
                                    <reporter username="bhulette">Brian Hulette</reporter>
                        <labels>
                            <label>currently-failing</label>
                            <label>flake</label>
                    </labels>
                <created>Thu, 17 Sep 2020 16:59:50 +0000</created>
                <updated>Mon, 12 Apr 2021 21:44:23 +0000</updated>
                            <resolved>Mon, 12 Apr 2021 21:44:23 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>sdk-py-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="28800">8h</timespent>
                                <comments>
                            <comment id="17197814" author="bhulette" created="Thu, 17 Sep 2020 17:01:34 +0000"  >&lt;p&gt;CC: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohdesam&quot; class=&quot;user-hover&quot; rel=&quot;rohdesam&quot;&gt;rohdesam&lt;/a&gt; since the error is coming from the interactive environment&lt;/p&gt;

&lt;p&gt;I&apos;m testing out a rollback of &lt;a href=&quot;https://github.com/apache/beam/pull/12704&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/12704&lt;/a&gt; in &lt;a href=&quot;https://github.com/apache/beam/pull/12865&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/12865&lt;/a&gt; to see if that fixes it.&lt;/p&gt;</comment>
                            <comment id="17197848" author="bhulette" created="Thu, 17 Sep 2020 17:16:49 +0000"  >&lt;p&gt;Flakiness is resolved in the rollback (&lt;a href=&quot;https://github.com/apache/beam/pull/12865&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/12865&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohdesam&quot; class=&quot;user-hover&quot; rel=&quot;rohdesam&quot;&gt;rohdesam&lt;/a&gt; can you take a look?&lt;/p&gt;</comment>
                            <comment id="17197861" author="rohdesam" created="Thu, 17 Sep 2020 17:40:24 +0000"  >&lt;p&gt;I noticed the flakiness yesterday and integrated a fix into an ongoing PR: &lt;a href=&quot;https://github.com/apache/beam/pull/12799.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/12799.&lt;/a&gt;&#160;I&apos;ll move the changes to its own PR&lt;/p&gt;</comment>
                            <comment id="17197867" author="bhulette" created="Thu, 17 Sep 2020 17:46:42 +0000"  >&lt;p&gt;thank you!&lt;/p&gt;</comment>
                            <comment id="17197874" author="rohdesam" created="Thu, 17 Sep 2020 17:51:06 +0000"  >&lt;p&gt;Made &lt;a href=&quot;https://github.com/apache/beam/pull/12866&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/12866&lt;/a&gt;&#160;for fix&lt;/p&gt;</comment>
                            <comment id="17214908" author="bhulette" created="Thu, 15 Oct 2020 18:30:59 +0000"  >&lt;p&gt;It looks like this is happening again: &lt;a href=&quot;https://github.com/apache/beam/pull/13102/checks?check_run_id=1256599103&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/13102/checks?check_run_id=1256599103&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
================================== FAILURES ===================================
__________________ ElementStreamTest.test_done_if_terminated __________________
[gw0] win32 -- Python 3.7.9 d:\a\beam\beam\sdks\python\target\.tox\py37-win\scripts\python.exe

self = &amp;lt;apache_beam.runners.interactive.recording_manager_test.ElementStreamTest testMethod=test_done_if_terminated&amp;gt;

    def setUp(self):
&amp;gt;     ie.new_env()

apache_beam\runners\interactive\recording_manager_test.py:75: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
apache_beam\runners\interactive\interactive_environment.py:118: in new_env
    _interactive_beam_env.cleanup()
apache_beam\runners\interactive\interactive_environment.py:272: in cleanup
    cache_manager.cleanup()
apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
    shutil.rmtree(self._cache_dir)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:516: in rmtree
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; _rmtree_unsafe(path, onerror)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:395: in _rmtree_unsafe
    _rmtree_unsafe(fullname, onerror)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:400: in _rmtree_unsafe
    onerror(os.unlink, fullname, sys.exc_info())
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

path = &lt;span class=&quot;code-quote&quot;&gt;&apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4izmxjl32526131575432\\full&apos;&lt;/span&gt;
onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x0000024C29ADC948&amp;gt;

    def _rmtree_unsafe(path, onerror):
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
            with os.scandir(path) as scandir_it:
                entries = list(scandir_it)
        except OSError:
            onerror(os.scandir, path, sys.exc_info())
            entries = []
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; entry in entries:
            fullname = entry.path
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
                is_dir = entry.is_dir(follow_symlinks=False)
            except OSError:
                is_dir = False
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; is_dir:
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; entry.is_symlink():
                        # This can only happen &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; someone replaces
                        # a directory with a symlink after the call to
                        # os.scandir or entry.is_dir above.
                        raise OSError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot call rmtree on a symbolic link&quot;&lt;/span&gt;)
                except OSError:
                    onerror(os.path.islink, fullname, sys.exc_info())
                    &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;
                _rmtree_unsafe(fullname, onerror)
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;:
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
&amp;gt;                   os.unlink(fullname)
E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &lt;span class=&quot;code-quote&quot;&gt;&apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4izmxjl32526131575432\\full\\c24ca9d948-2526133224200-2526136692168-2526131575432&apos;&lt;/span&gt;

c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:398: PermissionError
_________________________ ElementStreamTest.test_read _________________________
[gw0] win32 -- Python 3.7.9 d:\a\beam\beam\sdks\python\target\.tox\py37-win\scripts\python.exe

self = &amp;lt;apache_beam.runners.interactive.recording_manager_test.ElementStreamTest testMethod=test_read&amp;gt;

    def setUp(self):
&amp;gt;     ie.new_env()

apache_beam\runners\interactive\recording_manager_test.py:75: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
apache_beam\runners\interactive\interactive_environment.py:118: in new_env
    _interactive_beam_env.cleanup()
apache_beam\runners\interactive\interactive_environment.py:272: in cleanup
    cache_manager.cleanup()
apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
    shutil.rmtree(self._cache_dir)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:516: in rmtree
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; _rmtree_unsafe(path, onerror)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:395: in _rmtree_unsafe
    _rmtree_unsafe(fullname, onerror)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:400: in _rmtree_unsafe
    onerror(os.unlink, fullname, sys.exc_info())
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

path = &lt;span class=&quot;code-quote&quot;&gt;&apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4izmxjl32526131575432\\full&apos;&lt;/span&gt;
onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x0000024C2A51C4C8&amp;gt;

    def _rmtree_unsafe(path, onerror):
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
            with os.scandir(path) as scandir_it:
                entries = list(scandir_it)
        except OSError:
            onerror(os.scandir, path, sys.exc_info())
            entries = []
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; entry in entries:
            fullname = entry.path
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
                is_dir = entry.is_dir(follow_symlinks=False)
            except OSError:
                is_dir = False
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; is_dir:
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; entry.is_symlink():
                        # This can only happen &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; someone replaces
                        # a directory with a symlink after the call to
                        # os.scandir or entry.is_dir above.
                        raise OSError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot call rmtree on a symbolic link&quot;&lt;/span&gt;)
                except OSError:
                    onerror(os.path.islink, fullname, sys.exc_info())
                    &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;
                _rmtree_unsafe(fullname, onerror)
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;:
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
&amp;gt;                   os.unlink(fullname)
E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &lt;span class=&quot;code-quote&quot;&gt;&apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4izmxjl32526131575432\\full\\c24ca9d948-2526133224200-2526136692168-2526131575432&apos;&lt;/span&gt;

c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:398: PermissionError
____________________ ElementStreamTest.test_read_duration _____________________
[gw0] win32 -- Python 3.7.9 d:\a\beam\beam\sdks\python\target\.tox\py37-win\scripts\python.exe

self = &amp;lt;apache_beam.runners.interactive.recording_manager_test.ElementStreamTest testMethod=test_read_duration&amp;gt;

    def setUp(self):
&amp;gt;     ie.new_env()

apache_beam\runners\interactive\recording_manager_test.py:75: 
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
apache_beam\runners\interactive\interactive_environment.py:118: in new_env
    _interactive_beam_env.cleanup()
apache_beam\runners\interactive\interactive_environment.py:272: in cleanup
    cache_manager.cleanup()
apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
    shutil.rmtree(self._cache_dir)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:516: in rmtree
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; _rmtree_unsafe(path, onerror)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:395: in _rmtree_unsafe
    _rmtree_unsafe(fullname, onerror)
c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:400: in _rmtree_unsafe
    onerror(os.unlink, fullname, sys.exc_info())
_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _

path = &lt;span class=&quot;code-quote&quot;&gt;&apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4izmxjl32526131575432\\full&apos;&lt;/span&gt;
onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x0000024C2A4E0DC8&amp;gt;

    def _rmtree_unsafe(path, onerror):
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
            with os.scandir(path) as scandir_it:
                entries = list(scandir_it)
        except OSError:
            onerror(os.scandir, path, sys.exc_info())
            entries = []
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; entry in entries:
            fullname = entry.path
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
                is_dir = entry.is_dir(follow_symlinks=False)
            except OSError:
                is_dir = False
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; is_dir:
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; entry.is_symlink():
                        # This can only happen &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; someone replaces
                        # a directory with a symlink after the call to
                        # os.scandir or entry.is_dir above.
                        raise OSError(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot call rmtree on a symbolic link&quot;&lt;/span&gt;)
                except OSError:
                    onerror(os.path.islink, fullname, sys.exc_info())
                    &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;
                _rmtree_unsafe(fullname, onerror)
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;:
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;:
&amp;gt;                   os.unlink(fullname)
E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &lt;span class=&quot;code-quote&quot;&gt;&apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4izmxjl32526131575432\\full\\c24ca9d948-2526133224200-2526136692168-2526131575432&apos;&lt;/span&gt;

c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:398: PermissionError
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17217151" author="rohdesam" created="Mon, 19 Oct 2020 22:56:34 +0000"  >&lt;p&gt;Ack, taking a look&lt;/p&gt;</comment>
                            <comment id="17226835" author="tvalentyn" created="Thu, 5 Nov 2020 17:00:25 +0000"  >&lt;p&gt;This  is still happening:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;2020-11-05T11:47:51.1631037Z ================================== FAILURES ===================================
2020-11-05T11:47:51.1749033Z __________________ ElementStreamTest.test_done_if_terminated __________________
2020-11-05T11:47:51.1750168Z [gw1] win32 -- Python 3.7.9 d:\a\beam\beam\sdks\python\target\.tox\py37-win\scripts\python.exe
2020-11-05T11:47:51.1750723Z 
2020-11-05T11:47:51.1751840Z self = &amp;lt;apache_beam.runners.interactive.recording_manager_test.ElementStreamTest testMethod=test_done_if_terminated&amp;gt;
2020-11-05T11:47:51.1752763Z 
2020-11-05T11:47:51.1753189Z     def setUp(self):
2020-11-05T11:47:51.1753609Z &amp;gt;     ie.new_env()
2020-11-05T11:47:51.1753885Z 
2020-11-05T11:47:51.1754533Z apache_beam\runners\interactive\recording_manager_test.py:75: 
2020-11-05T11:47:51.1755113Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1755836Z apache_beam\runners\interactive\interactive_environment.py:118: in new_env
2020-11-05T11:47:51.1756568Z     _interactive_beam_env.cleanup()
2020-11-05T11:47:51.1757293Z apache_beam\runners\interactive\interactive_environment.py:272: in cleanup
2020-11-05T11:47:51.1758004Z     cache_manager.cleanup()
2020-11-05T11:47:51.1758679Z apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
2020-11-05T11:47:51.1759484Z     shutil.rmtree(self._cache_dir)
2020-11-05T11:47:51.1760246Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:516: in rmtree
2020-11-05T11:47:51.1760866Z     return _rmtree_unsafe(path, onerror)
2020-11-05T11:47:51.1761508Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:395: in _rmtree_unsafe
2020-11-05T11:47:51.1762150Z     _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1762789Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:400: in _rmtree_unsafe
2020-11-05T11:47:51.1763417Z     onerror(os.unlink, fullname, sys.exc_info())
2020-11-05T11:47:51.1763895Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1764196Z 
2020-11-05T11:47:51.1764716Z path = &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full&apos;
2020-11-05T11:47:51.1765437Z onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x00000230F3721438&amp;gt;
2020-11-05T11:47:51.1765824Z 
2020-11-05T11:47:51.1766232Z     def _rmtree_unsafe(path, onerror):
2020-11-05T11:47:51.1766646Z         try:
2020-11-05T11:47:51.1767304Z             with os.scandir(path) as scandir_it:
2020-11-05T11:47:51.1767801Z                 entries = list(scandir_it)
2020-11-05T11:47:51.1768260Z         except OSError:
2020-11-05T11:47:51.1768704Z             onerror(os.scandir, path, sys.exc_info())
2020-11-05T11:47:51.1769169Z             entries = []
2020-11-05T11:47:51.1769624Z         for entry in entries:
2020-11-05T11:47:51.1770071Z             fullname = entry.path
2020-11-05T11:47:51.1770476Z             try:
2020-11-05T11:47:51.1771157Z                 is_dir = entry.is_dir(follow_symlinks=False)
2020-11-05T11:47:51.1771664Z             except OSError:
2020-11-05T11:47:51.1772024Z                 is_dir = False
2020-11-05T11:47:51.1772394Z             if is_dir:
2020-11-05T11:47:51.1772862Z                 try:
2020-11-05T11:47:51.1773268Z                     if entry.is_symlink():
2020-11-05T11:47:51.1773779Z                         # This can only happen if someone replaces
2020-11-05T11:47:51.1774340Z                         # a directory with a symlink after the call to
2020-11-05T11:47:51.1774889Z                         # os.scandir or entry.is_dir above.
2020-11-05T11:47:51.1775524Z                         raise OSError(&quot;Cannot call rmtree on a symbolic link&quot;)
2020-11-05T11:47:51.1776047Z                 except OSError:
2020-11-05T11:47:51.1776591Z                     onerror(os.path.islink, fullname, sys.exc_info())
2020-11-05T11:47:51.1777115Z                     continue
2020-11-05T11:47:51.1777583Z                 _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1778015Z             else:
2020-11-05T11:47:51.1778318Z                 try:
2020-11-05T11:47:51.1778711Z &amp;gt;                   os.unlink(fullname)
2020-11-05T11:47:51.1779695Z E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full\\8170481a1c-2409262631816-2409262744904-2409300810632&apos;
2020-11-05T11:47:51.1780527Z 
2020-11-05T11:47:51.1781103Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:398: PermissionError
2020-11-05T11:47:51.1782296Z _________________________ ElementStreamTest.test_read _________________________
2020-11-05T11:47:51.1783009Z [gw1] win32 -- Python 3.7.9 d:\a\beam\beam\sdks\python\target\.tox\py37-win\scripts\python.exe
2020-11-05T11:47:51.1783454Z 
2020-11-05T11:47:51.1784358Z self = &amp;lt;apache_beam.runners.interactive.recording_manager_test.ElementStreamTest testMethod=test_read&amp;gt;
2020-11-05T11:47:51.1785202Z 
2020-11-05T11:47:51.1785635Z     def setUp(self):
2020-11-05T11:47:51.1786015Z &amp;gt;     ie.new_env()
2020-11-05T11:47:51.1786273Z 
2020-11-05T11:47:51.1786784Z apache_beam\runners\interactive\recording_manager_test.py:75: 
2020-11-05T11:47:51.1787324Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1787908Z apache_beam\runners\interactive\interactive_environment.py:118: in new_env
2020-11-05T11:47:51.1788574Z     _interactive_beam_env.cleanup()
2020-11-05T11:47:51.1789430Z apache_beam\runners\interactive\interactive_environment.py:272: in cleanup
2020-11-05T11:47:51.1790133Z     cache_manager.cleanup()
2020-11-05T11:47:51.1790850Z apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
2020-11-05T11:47:51.1791526Z     shutil.rmtree(self._cache_dir)
2020-11-05T11:47:51.1792197Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:516: in rmtree
2020-11-05T11:47:51.1792870Z     return _rmtree_unsafe(path, onerror)
2020-11-05T11:47:51.1793605Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:395: in _rmtree_unsafe
2020-11-05T11:47:51.1794299Z     _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1794942Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:400: in _rmtree_unsafe
2020-11-05T11:47:51.1795737Z     onerror(os.unlink, fullname, sys.exc_info())
2020-11-05T11:47:51.1796239Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1796559Z 
2020-11-05T11:47:51.1797114Z path = &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full&apos;
2020-11-05T11:47:51.1797839Z onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x00000230F60C85E8&amp;gt;
2020-11-05T11:47:51.1798250Z 
2020-11-05T11:47:51.1798690Z     def _rmtree_unsafe(path, onerror):
2020-11-05T11:47:51.1799135Z         try:
2020-11-05T11:47:51.1799602Z             with os.scandir(path) as scandir_it:
2020-11-05T11:47:51.1800223Z                 entries = list(scandir_it)
2020-11-05T11:47:51.1800701Z         except OSError:
2020-11-05T11:47:51.1801230Z             onerror(os.scandir, path, sys.exc_info())
2020-11-05T11:47:51.1801814Z             entries = []
2020-11-05T11:47:51.1802246Z         for entry in entries:
2020-11-05T11:47:51.1802678Z             fullname = entry.path
2020-11-05T11:47:51.1803125Z             try:
2020-11-05T11:47:51.1803662Z                 is_dir = entry.is_dir(follow_symlinks=False)
2020-11-05T11:47:51.1804189Z             except OSError:
2020-11-05T11:47:51.1804626Z                 is_dir = False
2020-11-05T11:47:51.1805020Z             if is_dir:
2020-11-05T11:47:51.1805415Z                 try:
2020-11-05T11:47:51.1805969Z                     if entry.is_symlink():
2020-11-05T11:47:51.1806506Z                         # This can only happen if someone replaces
2020-11-05T11:47:51.1807106Z                         # a directory with a symlink after the call to
2020-11-05T11:47:51.1807710Z                         # os.scandir or entry.is_dir above.
2020-11-05T11:47:51.1808273Z                         raise OSError(&quot;Cannot call rmtree on a symbolic link&quot;)
2020-11-05T11:47:51.1808730Z                 except OSError:
2020-11-05T11:47:51.1809226Z                     onerror(os.path.islink, fullname, sys.exc_info())
2020-11-05T11:47:51.1809862Z                     continue
2020-11-05T11:47:51.1810403Z                 _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1810906Z             else:
2020-11-05T11:47:51.1811308Z                 try:
2020-11-05T11:47:51.1811753Z &amp;gt;                   os.unlink(fullname)
2020-11-05T11:47:51.1812829Z E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full\\8170481a1c-2409262631816-2409262744904-2409300810632&apos;
2020-11-05T11:47:51.1813697Z 
2020-11-05T11:47:51.1814349Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:398: PermissionError
2020-11-05T11:47:51.1815203Z ____________________ ElementStreamTest.test_read_duration _____________________
2020-11-05T11:47:51.1816097Z [gw1] win32 -- Python 3.7.9 d:\a\beam\beam\sdks\python\target\.tox\py37-win\scripts\python.exe
2020-11-05T11:47:51.1816681Z 
2020-11-05T11:47:51.1817686Z self = &amp;lt;apache_beam.runners.interactive.recording_manager_test.ElementStreamTest testMethod=test_read_duration&amp;gt;
2020-11-05T11:47:51.1818565Z 
2020-11-05T11:47:51.1818958Z     def setUp(self):
2020-11-05T11:47:51.1819372Z &amp;gt;     ie.new_env()
2020-11-05T11:47:51.1819653Z 
2020-11-05T11:47:51.1820207Z apache_beam\runners\interactive\recording_manager_test.py:75: 
2020-11-05T11:47:51.1820785Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1821426Z apache_beam\runners\interactive\interactive_environment.py:118: in new_env
2020-11-05T11:47:51.1822169Z     _interactive_beam_env.cleanup()
2020-11-05T11:47:51.1822902Z apache_beam\runners\interactive\interactive_environment.py:272: in cleanup
2020-11-05T11:47:51.1824135Z     cache_manager.cleanup()
2020-11-05T11:47:51.1824825Z apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
2020-11-05T11:47:51.1825530Z     shutil.rmtree(self._cache_dir)
2020-11-05T11:47:51.1826214Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:516: in rmtree
2020-11-05T11:47:51.1826894Z     return _rmtree_unsafe(path, onerror)
2020-11-05T11:47:51.1827596Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:395: in _rmtree_unsafe
2020-11-05T11:47:51.1828294Z     _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1828996Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:400: in _rmtree_unsafe
2020-11-05T11:47:51.1829732Z     onerror(os.unlink, fullname, sys.exc_info())
2020-11-05T11:47:51.1830274Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1830549Z 
2020-11-05T11:47:51.1831866Z path = &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full&apos;
2020-11-05T11:47:51.1832653Z onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x00000230F61C7318&amp;gt;
2020-11-05T11:47:51.1833218Z 
2020-11-05T11:47:51.1833659Z     def _rmtree_unsafe(path, onerror):
2020-11-05T11:47:51.1834127Z         try:
2020-11-05T11:47:51.1834597Z             with os.scandir(path) as scandir_it:
2020-11-05T11:47:51.1835078Z                 entries = list(scandir_it)
2020-11-05T11:47:51.1835534Z         except OSError:
2020-11-05T11:47:51.1835962Z             onerror(os.scandir, path, sys.exc_info())
2020-11-05T11:47:51.1836368Z             entries = []
2020-11-05T11:47:51.1836699Z         for entry in entries:
2020-11-05T11:47:51.1837066Z             fullname = entry.path
2020-11-05T11:47:51.1837389Z             try:
2020-11-05T11:47:51.1837770Z                 is_dir = entry.is_dir(follow_symlinks=False)
2020-11-05T11:47:51.1838191Z             except OSError:
2020-11-05T11:47:51.1838468Z                 is_dir = False
2020-11-05T11:47:51.1838759Z             if is_dir:
2020-11-05T11:47:51.1839031Z                 try:
2020-11-05T11:47:51.1839356Z                     if entry.is_symlink():
2020-11-05T11:47:51.1839791Z                         # This can only happen if someone replaces
2020-11-05T11:47:51.1840288Z                         # a directory with a symlink after the call to
2020-11-05T11:47:51.1840796Z                         # os.scandir or entry.is_dir above.
2020-11-05T11:47:51.1841309Z                         raise OSError(&quot;Cannot call rmtree on a symbolic link&quot;)
2020-11-05T11:47:51.1841759Z                 except OSError:
2020-11-05T11:47:51.1842192Z                     onerror(os.path.islink, fullname, sys.exc_info())
2020-11-05T11:47:51.1842652Z                     continue
2020-11-05T11:47:51.1843040Z                 _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1843401Z             else:
2020-11-05T11:47:51.1843669Z                 try:
2020-11-05T11:47:51.1843983Z &amp;gt;                   os.unlink(fullname)
2020-11-05T11:47:51.1844932Z E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full\\8170481a1c-2409262631816-2409262744904-2409300810632&apos;
2020-11-05T11:47:51.1845743Z 
2020-11-05T11:47:51.1846269Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:398: PermissionError
2020-11-05T11:47:51.1846984Z ________________________ ElementStreamTest.test_read_n ________________________
2020-11-05T11:47:51.1847658Z [gw1] win32 -- Python 3.7.9 d:\a\beam\beam\sdks\python\target\.tox\py37-win\scripts\python.exe
2020-11-05T11:47:51.1848031Z 
2020-11-05T11:47:51.1848916Z self = &amp;lt;apache_beam.runners.interactive.recording_manager_test.ElementStreamTest testMethod=test_read_n&amp;gt;
2020-11-05T11:47:51.1849721Z 
2020-11-05T11:47:51.1849998Z     def setUp(self):
2020-11-05T11:47:51.1850303Z &amp;gt;     ie.new_env()
2020-11-05T11:47:51.1850473Z 
2020-11-05T11:47:51.1850909Z apache_beam\runners\interactive\recording_manager_test.py:75: 
2020-11-05T11:47:51.1851376Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1851907Z apache_beam\runners\interactive\interactive_environment.py:118: in new_env
2020-11-05T11:47:51.1852514Z     _interactive_beam_env.cleanup()
2020-11-05T11:47:51.1853073Z apache_beam\runners\interactive\interactive_environment.py:272: in cleanup
2020-11-05T11:47:51.1853675Z     cache_manager.cleanup()
2020-11-05T11:47:51.1854581Z apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
2020-11-05T11:47:51.1855316Z     shutil.rmtree(self._cache_dir)
2020-11-05T11:47:51.1856079Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:516: in rmtree
2020-11-05T11:47:51.1856716Z     return _rmtree_unsafe(path, onerror)
2020-11-05T11:47:51.1857541Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:395: in _rmtree_unsafe
2020-11-05T11:47:51.1858257Z     _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1858963Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:400: in _rmtree_unsafe
2020-11-05T11:47:51.1859788Z     onerror(os.unlink, fullname, sys.exc_info())
2020-11-05T11:47:51.1860317Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1860654Z 
2020-11-05T11:47:51.1861232Z path = &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full&apos;
2020-11-05T11:47:51.1861980Z onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x00000230F61C7AF8&amp;gt;
2020-11-05T11:47:51.1862420Z 
2020-11-05T11:47:51.1862876Z     def _rmtree_unsafe(path, onerror):
2020-11-05T11:47:51.1863389Z         try:
2020-11-05T11:47:51.1863875Z             with os.scandir(path) as scandir_it:
2020-11-05T11:47:51.1864525Z                 entries = list(scandir_it)
2020-11-05T11:47:51.1865155Z         except OSError:
2020-11-05T11:47:51.1865773Z             onerror(os.scandir, path, sys.exc_info())
2020-11-05T11:47:51.1866299Z             entries = []
2020-11-05T11:47:51.1866703Z         for entry in entries:
2020-11-05T11:47:51.1867212Z             fullname = entry.path
2020-11-05T11:47:51.1867658Z             try:
2020-11-05T11:47:51.1868168Z                 is_dir = entry.is_dir(follow_symlinks=False)
2020-11-05T11:47:51.1868712Z             except OSError:
2020-11-05T11:47:51.1869163Z                 is_dir = False
2020-11-05T11:47:51.1869574Z             if is_dir:
2020-11-05T11:47:51.1869966Z                 try:
2020-11-05T11:47:51.1870417Z                     if entry.is_symlink():
2020-11-05T11:47:51.1870984Z                         # This can only happen if someone replaces
2020-11-05T11:47:51.1871617Z                         # a directory with a symlink after the call to
2020-11-05T11:47:51.1872169Z                         # os.scandir or entry.is_dir above.
2020-11-05T11:47:51.1872788Z                         raise OSError(&quot;Cannot call rmtree on a symbolic link&quot;)
2020-11-05T11:47:51.1873345Z                 except OSError:
2020-11-05T11:47:51.1873940Z                     onerror(os.path.islink, fullname, sys.exc_info())
2020-11-05T11:47:51.1874502Z                     continue
2020-11-05T11:47:51.1875002Z                 _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1875528Z             else:
2020-11-05T11:47:51.1875904Z                 try:
2020-11-05T11:47:51.1876434Z &amp;gt;                   os.unlink(fullname)
2020-11-05T11:47:51.1877646Z E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full\\8170481a1c-2409262631816-2409262744904-2409300810632&apos;
2020-11-05T11:47:51.1878497Z 
2020-11-05T11:47:51.1879118Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:398: PermissionError
2020-11-05T11:47:51.1879906Z _________________________ RecordingTest.test_computed _________________________
2020-11-05T11:47:51.1880643Z [gw1] win32 -- Python 3.7.9 d:\a\beam\beam\sdks\python\target\.tox\py37-win\scripts\python.exe
2020-11-05T11:47:51.1881173Z 
2020-11-05T11:47:51.1882090Z self = &amp;lt;apache_beam.runners.interactive.recording_manager_test.RecordingTest testMethod=test_computed&amp;gt;
2020-11-05T11:47:51.1882929Z 
2020-11-05T11:47:51.1883308Z     def setUp(self):
2020-11-05T11:47:51.1883716Z &amp;gt;     ie.new_env()
2020-11-05T11:47:51.1883994Z 
2020-11-05T11:47:51.1884531Z apache_beam\runners\interactive\recording_manager_test.py:197: 
2020-11-05T11:47:51.1885102Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1885870Z apache_beam\runners\interactive\interactive_environment.py:118: in new_env
2020-11-05T11:47:51.1886524Z     _interactive_beam_env.cleanup()
2020-11-05T11:47:51.1887132Z apache_beam\runners\interactive\interactive_environment.py:272: in cleanup
2020-11-05T11:47:51.1887824Z     cache_manager.cleanup()
2020-11-05T11:47:51.1888396Z apache_beam\runners\interactive\caching\streaming_cache.py:391: in cleanup
2020-11-05T11:47:51.1888964Z     shutil.rmtree(self._cache_dir)
2020-11-05T11:47:51.1889592Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:516: in rmtree
2020-11-05T11:47:51.1890108Z     return _rmtree_unsafe(path, onerror)
2020-11-05T11:47:51.1890693Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:395: in _rmtree_unsafe
2020-11-05T11:47:51.1891276Z     _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1891855Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:400: in _rmtree_unsafe
2020-11-05T11:47:51.1892466Z     onerror(os.unlink, fullname, sys.exc_info())
2020-11-05T11:47:51.1892860Z _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _
2020-11-05T11:47:51.1893028Z 
2020-11-05T11:47:51.1893473Z path = &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full&apos;
2020-11-05T11:47:51.1894087Z onerror = &amp;lt;function rmtree.&amp;lt;locals&amp;gt;.onerror at 0x00000230F61C75E8&amp;gt;
2020-11-05T11:47:51.1894436Z 
2020-11-05T11:47:51.1894763Z     def _rmtree_unsafe(path, onerror):
2020-11-05T11:47:51.1895061Z         try:
2020-11-05T11:47:51.1895474Z             with os.scandir(path) as scandir_it:
2020-11-05T11:47:51.1895896Z                 entries = list(scandir_it)
2020-11-05T11:47:51.1896256Z         except OSError:
2020-11-05T11:47:51.1896675Z             onerror(os.scandir, path, sys.exc_info())
2020-11-05T11:47:51.1897072Z             entries = []
2020-11-05T11:47:51.1897395Z         for entry in entries:
2020-11-05T11:47:51.1897717Z             fullname = entry.path
2020-11-05T11:47:51.1898038Z             try:
2020-11-05T11:47:51.1898425Z                 is_dir = entry.is_dir(follow_symlinks=False)
2020-11-05T11:47:51.1898840Z             except OSError:
2020-11-05T11:47:51.1899164Z                 is_dir = False
2020-11-05T11:47:51.1899704Z             if is_dir:
2020-11-05T11:47:51.1900114Z                 try:
2020-11-05T11:47:51.1900557Z                     if entry.is_symlink():
2020-11-05T11:47:51.1901112Z                         # This can only happen if someone replaces
2020-11-05T11:47:51.1901736Z                         # a directory with a symlink after the call to
2020-11-05T11:47:51.1902339Z                         # os.scandir or entry.is_dir above.
2020-11-05T11:47:51.1902919Z                         raise OSError(&quot;Cannot call rmtree on a symbolic link&quot;)
2020-11-05T11:47:51.1903489Z                 except OSError:
2020-11-05T11:47:51.1904078Z                     onerror(os.path.islink, fullname, sys.exc_info())
2020-11-05T11:47:51.1904653Z                     continue
2020-11-05T11:47:51.1905158Z                 _rmtree_unsafe(fullname, onerror)
2020-11-05T11:47:51.1905693Z             else:
2020-11-05T11:47:51.1906071Z                 try:
2020-11-05T11:47:51.1906504Z &amp;gt;                   os.unlink(fullname)
2020-11-05T11:47:51.1907632Z E                   PermissionError: [WinError 32] The process cannot access the file because it is being used by another process: &apos;D:\\a\\beam\\beam\\sdks\\python\\target\\.tox\\py37-win\\tmp\\it-4g2l8t_s2409300810632\\full\\8170481a1c-2409262631816-2409262744904-2409300810632&apos;
2020-11-05T11:47:51.1908537Z 
2020-11-05T11:47:51.1909119Z c:\hostedtoolcache\windows\python\3.7.9\x64\lib\shutil.py:398: PermissionError
2020-11-05T11:47:51.1909826Z ============================== warnings summary ===============================
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17228876" author="tvalentyn" created="Tue, 10 Nov 2020 00:25:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ningk&quot; class=&quot;user-hover&quot; rel=&quot;ningk&quot;&gt;ningk&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohdesam&quot; class=&quot;user-hover&quot; rel=&quot;rohdesam&quot;&gt;rohdesam&lt;/a&gt;: this fails on the release branch. Please advise &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lostluck&quot; class=&quot;user-hover&quot; rel=&quot;lostluck&quot;&gt;lostluck&lt;/a&gt; whether this is a release blocker. &lt;/p&gt;</comment>
                            <comment id="17238409" author="bhulette" created="Tue, 24 Nov 2020 23:36:17 +0000"  >&lt;p&gt;It looks like this is resolved by pr/13335. I&apos;ll check next week and re-open if there have been any more occurrences.&lt;/p&gt;</comment>
                            <comment id="17241673" author="bhulette" created="Tue, 1 Dec 2020 16:22:39 +0000"  >&lt;p&gt;Just checked and it looks like the Python tests on GitHub actions have been green since pr/13335 went in. Thanks again &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rohdesam&quot; class=&quot;user-hover&quot; rel=&quot;rohdesam&quot;&gt;rohdesam&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17319455" author="yoshiki.obata" created="Mon, 12 Apr 2021 13:17:01 +0000"  >&lt;p&gt;Similar errors found on another tests under runners/interactive, but seem to be not so frequently.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/beam/pull/14496/checks?check_run_id=2305880730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/14496/checks?check_run_id=2305880730&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13339593">BEAM-11209</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ioxs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>