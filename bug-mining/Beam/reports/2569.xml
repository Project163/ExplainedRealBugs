<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:20:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-12694] DICOMIoIntegrationTest flaky due to store ID (Python PreCommit)</title>
                <link>https://issues.apache.org/jira/browse/BEAM-12694</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;DICOMIoIntegrationTest flaky with error message:&#160;&lt;/p&gt;

&lt;p&gt;requests.exceptions.HTTPError: 409 Client Error: Conflict for url:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://healthcare.googleapis.com/v1/projects/apache-beam-testing/locations/us-central1/datasets/apache-beam-integration-testing/dicomStores?dicomStoreId=DICOM_store_Sb5HCWRmhFzqnPc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://healthcare.googleapis.com/v1/projects/apache-beam-testing/locations/us-central1/datasets/apache-beam-integration-testing/dicomStores?dicomStoreId=DICOM_store_Sb5HCWRmhFzqnPc&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Example: &lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Python36/4172/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Python36/4172/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Looks like random string generator for name (&lt;a href=&quot;https://github.com/apache/beam/blob/master/sdks/python/apache_beam/io/gcp/dicomio_integration_test.py#L129-L130)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/master/sdks/python/apache_beam/io/gcp/dicomio_integration_test.py#L129-L130)&lt;/a&gt;&#160;needs to be changed?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13392800">BEAM-12694</key>
            <summary>DICOMIoIntegrationTest flaky due to store ID (Python PreCommit)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ibzib">Kyle Weaver</assignee>
                                    <reporter username="emilymye">Emily Ye</reporter>
                        <labels>
                            <label>currently-failing</label>
                            <label>flake</label>
                            <label>flaky</label>
                    </labels>
                <created>Fri, 30 Jul 2021 17:31:29 +0000</created>
                <updated>Mon, 25 Oct 2021 23:54:15 +0000</updated>
                            <resolved>Mon, 11 Oct 2021 21:16:18 +0000</resolved>
                                    <version>2.33.0</version>
                                    <fixVersion>2.35.0</fixVersion>
                                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>8</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="7200">2h</timespent>
                                <comments>
                            <comment id="17400038" author="lcwik" created="Mon, 16 Aug 2021 22:45:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=emilymye&quot; class=&quot;user-hover&quot; rel=&quot;emilymye&quot;&gt;emilymye&lt;/a&gt; are you the right owner for this, if not can you see if the &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jiahaowu&quot; class=&quot;user-hover&quot; rel=&quot;jiahaowu&quot;&gt;jiahaowu&lt;/a&gt; should be fixing it?&lt;/p&gt;</comment>
                            <comment id="17400500" author="dranderson@google.com" created="Tue, 17 Aug 2021 17:19:08 +0000"  >&lt;p&gt;In looking at the issue, the DICOM Store ID is being generated using a random string generator and the HTTP 409 error that is generated should be a very rare occurrence, but this won&apos;t impact the actual IO Connector and is really related to the Integration Test.&lt;/p&gt;

&lt;p&gt;The issue is that the store id that was generated for the test already existed in that project, region, dataset combination. Should be improbable for happening regularly, hence I think the tag Flaky is appropriate. I believe this can be fixed by appending a timestamp after the randomly generated string to eliminate the possibility of a duplicate generated store id.&lt;/p&gt;

&lt;p&gt;I will begin working on a fix today(08/17/2021)&lt;/p&gt;</comment>
                            <comment id="17402307" author="kenn" created="Fri, 20 Aug 2021 16:32:55 +0000"  >&lt;p&gt;Is there a rollback that would restore testing signal while we fix this? Or if it is a flake would it possibly be P1? How much is this blocking people from working?&lt;/p&gt;</comment>
                            <comment id="17402316" author="altay" created="Fri, 20 Aug 2021 16:55:59 +0000"  >&lt;p&gt;This cannot be addressed with a rollback. It is not related to a new change. Based on the problem description it should be a rare flake, and could be a P1. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dranderson%40google.com&quot; class=&quot;user-hover&quot; rel=&quot;dranderson@google.com&quot;&gt;dranderson@google.com&lt;/a&gt; is working to fix this before the 2.33.0 cut date.&lt;/p&gt;</comment>
                            <comment id="17412278" author="tvalentyn" created="Thu, 9 Sep 2021 02:20:36 +0000"  >&lt;p&gt;This is a common flake that is still happening.&lt;/p&gt;</comment>
                            <comment id="17412283" author="tvalentyn" created="Thu, 9 Sep 2021 02:25:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dranderson%40google.com&quot; class=&quot;user-hover&quot; rel=&quot;dranderson@google.com&quot;&gt;dranderson@google.com&lt;/a&gt; are you still working on this?&lt;/p&gt;</comment>
                            <comment id="17413414" author="udim" created="Fri, 10 Sep 2021 22:32:18 +0000"  >&lt;p&gt;I believe this test is flakey for release 2.33.0. I&apos;ll increment the fix version&lt;/p&gt;</comment>
                            <comment id="17427364" author="ibzib" created="Mon, 11 Oct 2021 21:15:44 +0000"  >&lt;p&gt;The test was much flakier than you would expect if the problem was truly random collisions.&#160;Random collisions of 15-character-length random strings using lowercase, uppercase, and digits are extremely unlikely &#8211; there are 62^15 possible strings. And I saw the same collision occur in two separate test runs (on DICOM_store_WRmhFzqnPc8ZnNj). So maybe the problem was the random seeding.&lt;/p&gt;

&lt;p&gt;Regardless, I believe &lt;a href=&quot;https://github.com/apache/beam/pull/15697&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/15697&lt;/a&gt;&#160;should fix the issue. Please reopen if you see this flake occur again.&lt;/p&gt;</comment>
                            <comment id="17434050" author="ibzib" created="Mon, 25 Oct 2021 23:54:15 +0000"  >&lt;p&gt;I saw another collision with&#160;DICOM_store_WRmhFzqnPc8ZnNj on the 2.34.0 release branch. Either I&apos;m bad at math, or this is incredibly unlikely to happen if the string was truly random. &lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Python37_PR/299/testReport/apache_beam.io.gcp.dicomio_integration_test/DICOMIoIntegrationTest/test_dicom_search_instances/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Python37_PR/299/testReport/apache_beam.io.gcp.dicomio_integration_test/DICOMIoIntegrationTest/test_dicom_search_instances/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13398510">BEAM-12826</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 3 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0thkw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>