<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:42:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-1715] Wordcount on Dataflow checksum mismatch</title>
                <link>https://issues.apache.org/jira/browse/BEAM-1715</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;This run failed: &lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/view/Beam/job/beam_PostCommit_Python_Verify/1502/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/Beam/job/beam_PostCommit_Python_Verify/1502/consoleFull&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Output is: &lt;br/&gt;
root: INFO: Read from given path gs://temp-storage-for-end-to-end-tests/py-wordcount-cloud/output/py-wordcount-1489489356/results*&lt;del&gt;of&lt;/del&gt;*, 3179 lines, checksum: a9bcb4acd65daf8f6a9ac5e026de7803cc09f662.&lt;br/&gt;
root: INFO: Read from given path gs://temp-storage-for-end-to-end-tests/py-wordcount-cloud/output/py-wordcount-1489489356/results*&lt;del&gt;of&lt;/del&gt;*, 4784 lines, checksum: 33535a832b7db6d78389759577d4ff495980b9c0.&lt;/p&gt;

&lt;p&gt;Dataflow job: &lt;a href=&quot;https://pantheon.corp.google.com/dataflow/job/2017-03-14_05_14_52-13300760513112605405?pli=1&amp;amp;project=apache-beam-testing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pantheon.corp.google.com/dataflow/job/2017-03-14_05_14_52-13300760513112605405?pli=1&amp;amp;project=apache-beam-testing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Mark, can you confirm that this is actually a checksum mismatch and not a failures in the test framework? And could you also make the error more clear, add a message like mismatch ....&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056004">BEAM-1715</key>
            <summary>Wordcount on Dataflow checksum mismatch</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markflyhigh">Mark Liu</assignee>
                                    <reporter username="altay">Ahmet Altay</reporter>
                        <labels>
                    </labels>
                <created>Tue, 14 Mar 2017 17:29:57 +0000</created>
                <updated>Fri, 24 Jul 2020 20:18:02 +0000</updated>
                            <resolved>Tue, 4 Apr 2017 17:38:52 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>sdk-py-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15924792" author="markflyhigh" created="Tue, 14 Mar 2017 18:53:05 +0000"  >&lt;p&gt;File matcher contains function to describe mismatch(&lt;a href=&quot;https://github.com/apache/beam/blob/master/sdks/python/apache_beam/tests/pipeline_verifiers.py#L116&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/master/sdks/python/apache_beam/tests/pipeline_verifiers.py#L116&lt;/a&gt;). I think it&apos;s essentially a problem of GCS inconsistency, and it also happens in Java. Output verification was executed twice. Failed at first time and succeeded at second. (The second one is to retrieve mismatch message. This is implementation detail of hamcrest.all_of).&lt;/p&gt;

&lt;p&gt;I&apos;d like to add ~20s wait before verification to have all output file ready on GCS.&lt;/p&gt;</comment>
                            <comment id="15924931" author="githubbot" created="Tue, 14 Mar 2017 20:29:11 +0000"  >&lt;p&gt;GitHub user markflyhigh opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2244&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1715&quot; title=&quot;Wordcount on Dataflow checksum mismatch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1715&quot;&gt;&lt;del&gt;BEAM-1715&lt;/del&gt;&lt;/a&gt; Fix Python WordCount on Dataflow Mismatch&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`. (Even better, enable&lt;br/&gt;
           Travis-CI on your fork and ensure the whole test matrix passes).&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.txt&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add more logs&lt;/li&gt;
	&lt;li&gt;Add sleep before verification in order to give more time to have files ready on FS, especially GCS.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/markflyhigh/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/markflyhigh/incubator-beam&lt;/a&gt; python-file-verifier-inconsistency&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2244.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2244.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2244&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c9d9dc45de8e6ad915fdc9bc48e304cb0ac5121d&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-03-14T19:43:45Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1715&quot; title=&quot;Wordcount on Dataflow checksum mismatch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1715&quot;&gt;&lt;del&gt;BEAM-1715&lt;/del&gt;&lt;/a&gt; Fix Python WordCount on Dataflow Mismatch&lt;/p&gt;

&lt;p&gt;commit 0a76a232a713dd35623d47e4dd40140b4b4f0f74&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-03-14T19:47:18Z&lt;/p&gt;

&lt;p&gt;    fixup! Remove unused import&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15937346" author="githubbot" created="Wed, 22 Mar 2017 23:16:52 +0000"  >&lt;p&gt;Github user markflyhigh closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2244&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15937347" author="githubbot" created="Wed, 22 Mar 2017 23:16:55 +0000"  >&lt;p&gt;GitHub user markflyhigh reopened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2244&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1715&quot; title=&quot;Wordcount on Dataflow checksum mismatch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1715&quot;&gt;&lt;del&gt;BEAM-1715&lt;/del&gt;&lt;/a&gt; Fix Python WordCount on Dataflow Mismatch&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`. (Even better, enable&lt;br/&gt;
           Travis-CI on your fork and ensure the whole test matrix passes).&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.txt&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Add more logs for debugging&lt;/li&gt;
	&lt;li&gt;Add sleep before verification in order to give more time to have files ready on FS, especially GCS.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/markflyhigh/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/markflyhigh/incubator-beam&lt;/a&gt; python-file-verifier-inconsistency&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2244.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2244.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2244&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c9d9dc45de8e6ad915fdc9bc48e304cb0ac5121d&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-03-14T19:43:45Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1715&quot; title=&quot;Wordcount on Dataflow checksum mismatch&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1715&quot;&gt;&lt;del&gt;BEAM-1715&lt;/del&gt;&lt;/a&gt; Fix Python WordCount on Dataflow Mismatch&lt;/p&gt;

&lt;p&gt;commit 0a76a232a713dd35623d47e4dd40140b4b4f0f74&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-03-14T19:47:18Z&lt;/p&gt;

&lt;p&gt;    fixup! Remove unused import&lt;/p&gt;

&lt;p&gt;commit ba31373a62d4f7848dadc91d9b713774ab795873&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-03-15T00:06:57Z&lt;/p&gt;

&lt;p&gt;    Make sleep time configurable from commandline&lt;/p&gt;

&lt;p&gt;commit 08037d289319374401b9189c3a5df27b37b13e33&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-03-15T19:00:11Z&lt;/p&gt;

&lt;p&gt;    fixup! Fix error sleep_secs type&lt;/p&gt;

&lt;p&gt;commit aefd83ab2b7af56dfac988c788eecc2afe9d7165&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-03-17T00:06:38Z&lt;/p&gt;

&lt;p&gt;    fixup! Sleep in WordcountIT should be optionsal&lt;/p&gt;

&lt;p&gt;commit 01040815569fefde981c9681c208cd28d51f8bcd&lt;br/&gt;
Author: Mark Liu &amp;lt;markliu@google.com&amp;gt;&lt;br/&gt;
Date:   2017-03-22T22:51:03Z&lt;/p&gt;

&lt;p&gt;    fixup! Improve Comments&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15937462" author="githubbot" created="Thu, 23 Mar 2017 00:34:58 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2244&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3c96f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>