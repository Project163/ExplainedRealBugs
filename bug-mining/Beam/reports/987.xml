<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:56:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-6510] [beam_PostCommit_Java_Nexmark_Flink] Consistently timing out</title>
                <link>https://issues.apache.org/jira/browse/BEAM-6510</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;&lt;em&gt;Use this form to file an issue for test failure:&lt;/em&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Java_Nexmark_Flink/1688/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Jenkins Job&lt;/a&gt; (This is the first instance where it times out.)&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://scans.gradle.com/s/cnh2qe3m5xbw4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Gradle Build Scan&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Initial investigation:&lt;/p&gt;

&lt;p&gt;Test seems to be timing out without an obvious reason.  Strangely, the Gradle scans show it succeeding no problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13211963">BEAM-6510</key>
            <summary>[beam_PostCommit_Java_Nexmark_Flink] Consistently timing out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kenn">Kenneth Knowles</assignee>
                                    <reporter username="danoliveira">Daniel Oliveira</reporter>
                        <labels>
                            <label>SQL</label>
                    </labels>
                <created>Fri, 25 Jan 2019 23:51:53 +0000</created>
                <updated>Fri, 24 Jul 2020 20:01:44 +0000</updated>
                            <resolved>Tue, 29 Jan 2019 15:09:12 +0000</resolved>
                                    <version>2.10.0</version>
                    <version>2.11.0</version>
                                    <fixVersion>2.11.0</fixVersion>
                                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="6600">1h 50m</timespent>
                                <comments>
                            <comment id="16754465" author="kenn" created="Tue, 29 Jan 2019 00:40:24 +0000"  >&lt;p&gt;I do notice that the lines &lt;tt&gt;18:54:04 INFO: Unbounded Flink Source 12/16 is reading from sources:&lt;/tt&gt; only include 1/16 through 15/16. Not that I have any idea if that indicates a problem.&lt;/p&gt;</comment>
                            <comment id="16754467" author="kenn" created="Tue, 29 Jan 2019 00:41:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mxm&quot; class=&quot;user-hover&quot; rel=&quot;mxm&quot;&gt;mxm&lt;/a&gt; the two commits are changing the Flink runner. I am going to try to open a revert PR and see if it goes green. Any other ideas?&lt;/p&gt;</comment>
                            <comment id="16754468" author="kenn" created="Tue, 29 Jan 2019 00:44:04 +0000"  >&lt;p&gt;There&apos;s clearly a problem with Jenkins vs Gradle scan, because they both have reasonable, but different, last log lines&lt;/p&gt;

&lt;p&gt;Jenkins:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
22:49:46 Build timed out (after 240 minutes). Marking the build as aborted.
22:49:46 Build was aborted
22:49:46 Jan 21, 2019 6:49:46 AM org.apache.flink.runtime.blob.AbstractBlobCache close
22:49:46 INFO: Shutting down BLOB cache
22:49:47 
22:49:47 &amp;gt; Task :beam-sdks-java-nexmark:run FAILED
22:49:47 
22:49:47 FAILURE: Build failed with an exception.
22:49:47 
22:49:47 * What went wrong:
22:49:47 Execution failed &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; task &lt;span class=&quot;code-quote&quot;&gt;&apos;:beam-sdks-java-nexmark:run&apos;&lt;/span&gt;.
22:49:47 &amp;gt; &lt;span class=&quot;code-object&quot;&gt;Process&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;command &apos;&lt;/span&gt;/usr/local/asfpackages/java/jdk1.8.0_191/bin/java&apos;&apos; finished with non-zero exit value 143
22:49:47 
22:49:47 * Try:
22:49:47 Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.
22:49:47 
22:49:47 * Get more help at https:&lt;span class=&quot;code-comment&quot;&gt;//help.gradle.org
&lt;/span&gt;22:49:47 
22:49:47 Deprecated Gradle features were used in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; build, making it incompatible with Gradle 5.0.
22:49:47 Use &lt;span class=&quot;code-quote&quot;&gt;&apos;--warning-mode all&apos;&lt;/span&gt; to show the individual deprecation warnings.
22:49:47 See https:&lt;span class=&quot;code-comment&quot;&gt;//docs.gradle.org/4.10.3/userguide/command_line_interface.html#sec:command_line_warnings
&lt;/span&gt;22:49:47 
22:49:47 BUILD FAILED in 3h 55m 58s
22:49:47 68 actionable tasks: 2 executed, 66 up-to-date
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Gradle Scan:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Performance:
  Conf  &lt;span class=&quot;code-object&quot;&gt;Runtime&lt;/span&gt;(sec)    (Baseline)  Events(/sec)    (Baseline)       Results    (Baseline)
  0000           1.4                     73046.0                      100000              
  0001           0.6                    165016.5                       92000              
  0002           0.5                    197628.5                         351              
  0003          10.8                      9257.5                         580              
  0004           6.1                      1635.1                          40              
  0005           5.7                     17476.4                          12              
  0006           5.4                      1853.6                         103              
  0007           6.5                     15278.8                           1              
  0008           7.9                     12659.8                        6000              
  0009           5.5                      1813.9                         298              
  0010           6.7                     14883.2                           1              
  0011           7.7                     12933.3                        1919              
  0012           5.8                     17138.0                        1919              
  0013           0.6                    162337.7                       92000              
  0014           6.5                     15427.3                       92000              
==========================================================================================
Deprecated Gradle features were used in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; build, making it incompatible with Gradle 5.0.
Use &lt;span class=&quot;code-quote&quot;&gt;&apos;--warning-mode all&apos;&lt;/span&gt; to show the individual deprecation warnings.
See https:&lt;span class=&quot;code-comment&quot;&gt;//docs.gradle.org/4.10.3/userguide/command_line_interface.html#sec:command_line_warnings
&lt;/span&gt;BUILD SUCCESSFUL in 3m 57s
68 actionable tasks: 63 executed, 5 from cache
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16754471" author="kenn" created="Tue, 29 Jan 2019 00:48:03 +0000"  >&lt;p&gt;There should be three more gradle scans. Usually there are.&lt;/p&gt;</comment>
                            <comment id="16754476" author="kenn" created="Tue, 29 Jan 2019 00:57:01 +0000"  >&lt;p&gt;Yes, you can see the succesful Gradle run is the first half of the Jenkins log.&lt;/p&gt;</comment>
                            <comment id="16754825" author="mxm" created="Tue, 29 Jan 2019 10:17:44 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I do notice that the lines 18:54:04 INFO: Unbounded Flink Source 12/16 is reading from sources: only include 1/16 through 15/16. Not that I have any idea if that indicates a problem.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That is indeed strange. We should see 0-15. The output is a bit misleading because it is zero-based. However, I see 16 outputs on the first failing build: &lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Java_Nexmark_Flink/1688/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Java_Nexmark_Flink/1688/consoleFull&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I think I know what is wrong here. The test pipelines do not shutdown correctly because the default shutdown behavior in streaming mode changed. Should use the TestFlinkRunner. Will open a PR.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi0c68:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>