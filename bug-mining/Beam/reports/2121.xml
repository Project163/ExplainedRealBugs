<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:13:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-11266] Cannot use Python MongoDB connector with Atlas MongoDB</title>
                <link>https://issues.apache.org/jira/browse/BEAM-11266</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Cannot use the Python MongoDB connector with a managed Atlas instance. The current implementations makes use of splitVector which is a high-privilege function that cannot be assigned to any user in Atlas. Getting error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
pymongo.errors.OperationFailure: not authorized on properties to execute command
 { splitVector: &lt;span class=&quot;code-quote&quot;&gt;&quot;properties.properties&quot;&lt;/span&gt;, keyPattern: { _id: 1 },
...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-4567&quot; title=&quot;Can&amp;#39;t use mongo connector with Atlas MongoDB&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-4567&quot;&gt;&lt;del&gt;BEAM-4567&lt;/del&gt;&lt;/a&gt; addressed the same issue in Java connector.&lt;/p&gt;

&lt;p&gt;Proposed solution for Python is to add &lt;tt&gt;bucket_auto&lt;/tt&gt; option for the connector which would configure it to use &lt;tt&gt;@bucketAuto&lt;/tt&gt; MongoDB aggregation instead of &lt;tt&gt;splitVector&lt;/tt&gt; command:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
pipeline | ReadFromMongoDB(uri=&lt;span class=&quot;code-quote&quot;&gt;&apos;mongodb+srv:&lt;span class=&quot;code-comment&quot;&gt;//user:pwd@cluster0.mongodb.net&apos;&lt;/span&gt;,
&lt;/span&gt;                           db=&lt;span class=&quot;code-quote&quot;&gt;&apos;testdb&apos;&lt;/span&gt;,
                           coll=&lt;span class=&quot;code-quote&quot;&gt;&apos;input&apos;&lt;/span&gt;,
                           bucket_auto=True)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Google Cloud Dataflow</environment>
        <key id="13340701">BEAM-11266</key>
            <summary>Cannot use Python MongoDB connector with Atlas MongoDB</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="10722" iconUrl="https://issues.apache.org/jira/images/icons/statuses/generic.png" description="">Triage Needed</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="yichi">Yichi Zhang</assignee>
                                    <reporter username="EugeneNikolaiev">Eugene Nikolaiev</reporter>
                        <labels>
                            <label>mongodb</label>
                            <label>python</label>
                    </labels>
                <created>Sun, 15 Nov 2020 12:11:13 +0000</created>
                <updated>Thu, 13 Apr 2023 11:03:15 +0000</updated>
                            <resolved>Sun, 6 Dec 2020 16:30:41 +0000</resolved>
                                    <version>2.25.0</version>
                                    <fixVersion>2.27.0</fixVersion>
                                    <component>io-py-mongodb</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="10200">2h 50m</timespent>
                                <comments>
                            <comment id="17232238" author="eugenenikolaiev" created="Sun, 15 Nov 2020 12:12:45 +0000"  >&lt;p&gt;I am working on this issue.&lt;/p&gt;</comment>
                            <comment id="17232290" author="eugenenikolaiev" created="Sun, 15 Nov 2020 14:00:52 +0000"  >&lt;p&gt;PR opened:&#160;&lt;a href=&quot;https://github.com/apache/beam/pull/13350&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&#160;#13350&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17244772" author="eugenenikolaiev" created="Sun, 6 Dec 2020 16:30:41 +0000"  >&lt;p&gt;This has been resolved with PR&#160;&lt;a href=&quot;https://github.com/apache/beam/pull/13350&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;#13350&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13166399">BEAM-4567</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0klqo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>