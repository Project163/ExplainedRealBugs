<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:48:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-3690] Dependency Conflict problems: several conflicting classes exist in different JARs (mockito-all/hamcrest-all)</title>
                <link>https://issues.apache.org/jira/browse/BEAM-3690</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Hi, we found that there are duplicate classes exist in different JARs, and these classes have different features.&lt;/p&gt;

&lt;p&gt;The conflicting JAR&#160;pairs are:&lt;/p&gt;

&lt;p&gt;1.&#160;jar-pair:&amp;lt;org.mockito:&lt;b&gt;mockito-all&lt;/b&gt;:1.9.5:&amp;gt;&amp;lt;org.hamcrest:&lt;b&gt;hamcrest-all&lt;/b&gt;:1.3:&amp;gt;&lt;/p&gt;

&lt;p&gt;2.&#160;jar-pair:&amp;lt;org.mockito:&lt;b&gt;mockito-all&lt;/b&gt;:1.9.5:&amp;gt;&amp;lt;org.hamcrest:&lt;b&gt;hamcrest-core&lt;/b&gt;:1.3:&amp;gt;&lt;/p&gt;

&lt;p&gt;Some of method only exist in one version of duplicate classes.&lt;/p&gt;

&lt;p&gt;As&#160;the JVM only load the classes present first on the classpath and shadow the other duplicate ones with the same names. The dependency conflict problem brings high risks of&#160;&quot;&lt;b&gt;NoSuchMethodException&lt;/b&gt;&quot; or &quot;&lt;b&gt;NoSuchMethodError&lt;/b&gt;&quot; &#160;issues at runtime. The conflicting details are listed in the attachment. Please notice that. Thanks.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13137794">BEAM-3690</key>
            <summary>Dependency Conflict problems: several conflicting classes exist in different JARs (mockito-all/hamcrest-all)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10103" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">P3</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="PandaMonkey">PandaMonkey</assignee>
                                    <reporter username="PandaMonkey">PandaMonkey</reporter>
                        <labels>
                            <label>Done</label>
                    </labels>
                <created>Mon, 12 Feb 2018 08:27:29 +0000</created>
                <updated>Tue, 6 Oct 2020 21:55:17 +0000</updated>
                            <resolved>Fri, 23 Feb 2018 14:40:35 +0000</resolved>
                                    <version>2.2.0</version>
                                    <fixVersion>2.4.0</fixVersion>
                                    <component>sdk-java-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="11400">3h 10m</timespent>
                                <comments>
                            <comment id="16361059" author="kenn" created="Mon, 12 Feb 2018 16:53:21 +0000"  >&lt;p&gt;Thanks for filing this. The SDK core does depend on Hamcrest core. It should not be including mockito or hamcrest-all. I will not be able to look at this right away - would you be willing to take a look?&lt;/p&gt;</comment>
                            <comment id="16361083" author="lcwik" created="Mon, 12 Feb 2018 17:03:05 +0000"  >&lt;p&gt;Note, the gradle build bans hamcrest-all and mockito-all and forces people to depend on hamcrest-core, mockito-core, ...&lt;/p&gt;

&lt;p&gt;So only fixes to Maven are required.&lt;/p&gt;</comment>
                            <comment id="16363396" author="pandamonkey" created="Wed, 14 Feb 2018 02:30:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lcwik&quot; class=&quot;user-hover&quot; rel=&quot;lcwik&quot;&gt;lcwik&lt;/a&gt;, Thx for your quick reply.&#160;To keep the consistency of dependencies in gradle and Maven, should I submit a pull request to use mockito-core instead of mockito-all in pom?&lt;/p&gt;</comment>
                            <comment id="16363864" author="iemejia" created="Wed, 14 Feb 2018 12:12:28 +0000"  >&lt;p&gt;Mmm this seems like a handy report, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=PandaMonkey&quot; class=&quot;user-hover&quot; rel=&quot;PandaMonkey&quot;&gt;PandaMonkey&lt;/a&gt; is the tool you used to find this error public/open source ? I am curious to give it a try (also for other stuff).&lt;/p&gt;</comment>
                            <comment id="16364352" author="kenn" created="Wed, 14 Feb 2018 16:20:09 +0000"  >&lt;p&gt;Related, but not the same:&#160;I have tried turning on dependency convergence in the maven enforcer plugin. We need the same for gradle to ensure long-term health and protect from regressions. Maybe the tool that generated this report can also fail the build? That would be nice.&lt;/p&gt;</comment>
                            <comment id="16364414" author="lcwik" created="Wed, 14 Feb 2018 16:54:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=PandaMonkey&quot; class=&quot;user-hover&quot; rel=&quot;PandaMonkey&quot;&gt;PandaMonkey&lt;/a&gt;, swapping to use mockito-core, hamcrest-core and hamcrest-library is the right thing to do. Feel free to open up a PR against the repository. It would also be nice if we banned these dependencies from the maven build, see &lt;a href=&quot;https://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html&lt;/a&gt;&#160;for details.&lt;/p&gt;</comment>
                            <comment id="16365085" author="pandamonkey" created="Thu, 15 Feb 2018 03:06:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iemejia&quot; class=&quot;user-hover&quot; rel=&quot;iemejia&quot;&gt;iemejia&lt;/a&gt; thanks for your interest about our tool.&#160;The conflict detection tool is in the development and evaluation phase. I&apos;m so honored to help open source project to ensure long-term health and protect from regressions. You are welcome to try it when we release it later!&lt;/p&gt;</comment>
                            <comment id="16365088" author="pandamonkey" created="Thu, 15 Feb 2018 03:08:16 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lcwik&quot; class=&quot;user-hover&quot; rel=&quot;lcwik&quot;&gt;lcwik&lt;/a&gt;, thanks for your&#160;affirmation. I would like to&#160;contribute to BEAM.&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/star_red.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16369381" author="lcwik" created="Mon, 19 Feb 2018 17:56:29 +0000"  >&lt;p&gt;Now, all that is needed is to configure the maven enforcer plugin to ban hamcrest-all/mockito-all using&#160;&lt;a href=&quot;https://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/enforcer/enforcer-rules/bannedDependencies.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;This will prevent this issue from reoccurring.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12910163" name="beam_conflicts.txt" size="12501" author="PandaMonkey" created="Mon, 12 Feb 2018 08:27:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 39 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3q25r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>