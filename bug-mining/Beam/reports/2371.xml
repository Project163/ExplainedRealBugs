<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:17:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-12250] Java ValidatesRunner Postcommits timing out</title>
                <link>https://issues.apache.org/jira/browse/BEAM-12250</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Affected test suites:&lt;br/&gt;
&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow_Java11/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow_Java11/&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow_Streaming/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow_Streaming/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;See the commit list here to see likely culprits: &lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/6409/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/6409/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;As far as I can tell, there is no one test or specific hanging that is causing this to time out. Instead it seems like the test was slowed down from ~3h30m to ~4h30m which is the timeout limit. In fact, this run contains the culprit commit and managed to pass at 4h26m, just under the cutoff: &lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow_Java11/2158/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow_Java11/2158/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;By looking at the gradle scans with the slower execution above and comparing it to the previous execution, it seems that the tests themselves haven&apos;t been slowed down. The sum of test durations remains the same, but the total time for the whole gradle task to run is slower, indicating that something is either slowing down execution between tests, or the tests are running with less concurrency:&lt;br/&gt;
Slow Execution: &lt;a href=&quot;https://scans.gradle.com/s/5eene57whr45o/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Gradle Scan&lt;/a&gt;&lt;br/&gt;
Fast Execution: &lt;a href=&quot;https://scans.gradle.com/s/v4ezmrlvfswcw/tests&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Gradle Scan&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13375710">BEAM-12250</key>
            <summary>Java ValidatesRunner Postcommits timing out</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kenn">Kenneth Knowles</assignee>
                                    <reporter username="danoliveira">Daniel Oliveira</reporter>
                        <labels>
                            <label>flake</label>
                    </labels>
                <created>Wed, 28 Apr 2021 23:27:10 +0000</created>
                <updated>Wed, 12 May 2021 16:45:25 +0000</updated>
                            <resolved>Wed, 12 May 2021 16:00:01 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>runner-dataflow</component>
                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="13200">3h 40m</timespent>
                                <comments>
                            <comment id="17335787" author="kenn" created="Thu, 29 Apr 2021 19:26:56 +0000"  >&lt;p&gt;If their normal runtime is anywhere near the timeout, we should increase it. We only want timeouts when something is broken and crashlooping.&lt;/p&gt;</comment>
                            <comment id="17335788" author="kenn" created="Thu, 29 Apr 2021 19:27:31 +0000"  >&lt;p&gt;Confirmed that V1 streaming is very close to its timeout: &lt;a href=&quot;https://github.com/apache/beam/pull/14688&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/14688&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17335789" author="kenn" created="Thu, 29 Apr 2021 19:28:53 +0000"  >&lt;p&gt;Dataflow V1 main VR suite bumped from 3.5 to 4.5 hours at &lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/6409/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/6409/&lt;/a&gt; so that is possibly a serious regression. It does pass if given enough time. I also see individual jobs timing out. So there seems possible to be a bad regression in performance causing those timeouts.&lt;/p&gt;</comment>
                            <comment id="17340471" author="altay" created="Thu, 6 May 2021 22:42:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; do you know what needs to happen to fix this issue?&lt;/p&gt;</comment>
                            <comment id="17340484" author="kenn" created="Thu, 6 May 2021 23:40:17 +0000"  >&lt;p&gt;I just looked at the other two jobs and they are also simply too near their timeout so to remove flakes we should just fix it at &lt;a href=&quot;https://github.com/apache/beam/pull/14747&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/14747&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After that, it is a good time to consider how to speed up our test runs and/or run only necessary tests.&lt;/p&gt;</comment>
                            <comment id="17340895" author="bhulette" created="Fri, 7 May 2021 15:35:02 +0000"  >&lt;p&gt;Python Dataflow VR jobs are also nearing their 1h40m timeout. I&apos;m going to piggyback on this Jira for that.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Py_VR_Dataflow/7893/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Py_VR_Dataflow/7893/&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_Py_VR_Dataflow_V2/1984/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_Py_VR_Dataflow_V2/1984/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qkbk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>