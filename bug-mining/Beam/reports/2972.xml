<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:25:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-14265] Flink should hold the watermark at the output timestamp for processing time timers</title>
                <link>https://issues.apache.org/jira/browse/BEAM-14265</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Currently the Flink runner doesn&apos;t support output timestamps on processing time timers, and instead uses the current output watermark when the timer fires.&lt;/p&gt;

&lt;p&gt;We should update the runner to correctly set a watermark hold at the output timestamp and use it when firing the timer.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13438188">BEAM-14265</key>
            <summary>Flink should hold the watermark at the output timestamp for processing time timers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="janl">Jan Lukavsk&#253;</assignee>
                                    <reporter username="SteveNiemitz">Steve Niemitz</reporter>
                        <labels>
                    </labels>
                <created>Wed, 6 Apr 2022 13:53:27 +0000</created>
                <updated>Sun, 5 Jun 2022 01:22:15 +0000</updated>
                                            <version>2.39.0</version>
                                    <fixVersion>2.40.0</fixVersion>
                                    <component>runner-flink</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="600">10m</timespent>
                                <comments>
                            <comment id="17525890" author="kenn" created="Thu, 21 Apr 2022 17:37:42 +0000"  >&lt;p&gt;Does it ignore the value (a data correctness bug) or does it reject the pipeline or fail at runtime?&lt;/p&gt;</comment>
                            <comment id="17525891" author="kenn" created="Thu, 21 Apr 2022 17:38:12 +0000"  >&lt;p&gt;Raising to P1 in the event it is data correctness, and can lower to P2 if it is a feature request.&lt;/p&gt;</comment>
                            <comment id="17525916" author="steveniemitz" created="Thu, 21 Apr 2022 18:01:22 +0000"  >&lt;p&gt;The output timestamp is ignored yes.&#160; I was hesitant to make this a P1 because it seems like it&apos;s always been like this, although new validation added to outputs from timestamps made it more noticeable that the timestamp was incorrect.&lt;/p&gt;</comment>
                            <comment id="17528788" author="kenn" created="Wed, 27 Apr 2022 13:21:49 +0000"  >&lt;p&gt;Yea I think that the short-term action item, and the thing that should have blocked inclusion of the feature, is a quick check to reject pipelines that use the feature, for runners that don&apos;t yet support it. We need to work out a way to &quot;reject by default&quot; for new features so that feature authors don&apos;t have to dive into all of their code.&lt;/p&gt;</comment>
                            <comment id="17534312" author="je-ik" created="Tue, 10 May 2022 12:17:30 +0000"  >&lt;p&gt;Unfortunately there is no way of telling if a particular Pipeline uses processing-time timers with output timestamp, hence rejecting a Pipeline at Pipeline submission time seems impossible (only option would be to reject all processing-time timers, but that would be a regression). I think the fix is not that complicated (most complicated part is probably a correct construction of a &lt;tt&gt;@ValidatesRunner&lt;/tt&gt; test), I&apos;ll try to look into that before next release. Marking this as fix version of 2.40.0.&lt;/p&gt;</comment>
                            <comment id="17550151" author="JIRAUSER282469" created="Sun, 5 Jun 2022 01:22:15 +0000"  >&lt;p&gt;This issue has been migrated to &lt;a href=&quot;https://github.com/apache/beam/issues/21712&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/issues/21712&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 23 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z117xs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>