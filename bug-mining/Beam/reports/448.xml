<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:47:20 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-3174] Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6</title>
                <link>https://issues.apache.org/jira/browse/BEAM-3174</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description></description>
                <environment></environment>
        <key id="13117814">BEAM-3174</key>
            <summary>Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tvalentyn">Valentyn Tymofieiev</assignee>
                                    <reporter username="holden">Holden Karau</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Nov 2017 19:26:19 +0000</created>
                <updated>Fri, 24 Jul 2020 20:19:42 +0000</updated>
                            <resolved>Sat, 23 Dec 2017 07:44:06 +0000</resolved>
                                                    <fixVersion>2.3.0</fixVersion>
                                    <component>sdk-py-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16250587" author="githubbot" created="Tue, 14 Nov 2017 00:45:23 +0000"  >&lt;p&gt;GitHub user holdenk opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/4125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;/p&gt;

&lt;p&gt;    parse_version seems to also sometimes directly return the tuple (presumably depending on package utils version) so support both formats in dependency.py&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/holdenk/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/holdenk/beam&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt;-python-sdk-py-2-7-6&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/4125.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #4125&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 04730488bc3732ccd5093d3feb1ad1ce6a1dfdcf&lt;br/&gt;
Author: Holden Karau &amp;lt;holden@pigscanfly.ca&amp;gt;&lt;br/&gt;
Date:   2017-11-14T00:44:21Z&lt;/p&gt;

&lt;p&gt;    If parse_version just gives us a regular tuple use that for formatting&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16269678" author="githubbot" created="Tue, 28 Nov 2017 23:22:24 +0000"  >&lt;p&gt;aaltay commented on issue #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#issuecomment-347698007&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#issuecomment-347698007&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Is this ready for review?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16271637" author="githubbot" created="Wed, 29 Nov 2017 22:15:43 +0000"  >&lt;p&gt;holdenk commented on a change in pull request #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#discussion_r153931514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#discussion_r153931514&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: sdks/python/apache_beam/runners/dataflow/internal/dependency.py&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -547,8 +547,12 @@ def _get_required_container_version(job_type=None):&lt;br/&gt;
     version = pkg_resources.get_distribution(GOOGLE_PACKAGE_NAME).version&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;We drop any pre/post parts of the version and we keep only the X.Y.Z&lt;/li&gt;
	&lt;li&gt;format.  For instance the 0.3.0rc2 SDK version translates into 0.3.0.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;container_version = (&lt;/li&gt;
	&lt;li&gt;&apos;%s.%s.%s&apos; % pkg_resources.parse_version(version)._version.release)&lt;br/&gt;
+    parsed_version = pkg_resources.parse_version(version)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   So it appears to be an old version of setuptools, however its still the default one in ubuntu LTS. We could also fix this by requiring a new setuptools in setup.py (either way)&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16271640" author="githubbot" created="Wed, 29 Nov 2017 22:16:39 +0000"  >&lt;p&gt;holdenk commented on issue #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#issuecomment-348015235&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#issuecomment-348015235&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   It is now, although the other option is just listing a different version of setuptools as required in our setup file.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16271653" author="githubbot" created="Wed, 29 Nov 2017 22:22:53 +0000"  >&lt;p&gt;charlesccychen commented on a change in pull request #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#discussion_r153933197&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#discussion_r153933197&lt;/a&gt;&lt;/p&gt;



&lt;p&gt; ##########&lt;br/&gt;
 File path: sdks/python/apache_beam/runners/dataflow/internal/dependency.py&lt;br/&gt;
 ##########&lt;br/&gt;
 @@ -547,8 +547,12 @@ def _get_required_container_version(job_type=None):&lt;br/&gt;
     version = pkg_resources.get_distribution(GOOGLE_PACKAGE_NAME).version&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;We drop any pre/post parts of the version and we keep only the X.Y.Z&lt;/li&gt;
	&lt;li&gt;format.  For instance the 0.3.0rc2 SDK version translates into 0.3.0.&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;container_version = (&lt;/li&gt;
	&lt;li&gt;&apos;%s.%s.%s&apos; % pkg_resources.parse_version(version)._version.release)&lt;br/&gt;
+    parsed_version = pkg_resources.parse_version(version)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; Review comment:&lt;br/&gt;
   I think we should prefer using specifying a &amp;gt;= version for setuptools, if possible, instead of continuing to maintain workarounds like these.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16271909" author="githubbot" created="Thu, 30 Nov 2017 00:43:40 +0000"  >&lt;p&gt;aaltay commented on issue #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#issuecomment-348045289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#issuecomment-348045289&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   I think it will be cleaner to require min setuptools version, that does not cause this issue.&lt;/p&gt;

&lt;p&gt;   @tvalentyn do you know what would be the minimum version of setuptools for this?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16271949" author="githubbot" created="Thu, 30 Nov 2017 01:11:21 +0000"  >&lt;p&gt;tvalentyn commented on issue #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#issuecomment-348050425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#issuecomment-348050425&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @aaltay I don&apos;t know the very minimal version for which it will work. Are there concerns with setting 36.7.2?&lt;/p&gt;

&lt;p&gt;   Also do we really need to parse version here to get the container name as opposed to using `container_version=pkg_resources.get_distribution(GOOGLE_PACKAGE_NAME).version`?&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16271965" author="githubbot" created="Thu, 30 Nov 2017 01:18:09 +0000"  >&lt;p&gt;aaltay commented on issue #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#issuecomment-348051566&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#issuecomment-348051566&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   In the past we had seen issues with other dependencies that required particular versions of setuptools, or higher version of setuptools. It manifiests as installation problems, with incompatible setuptools requirements. It also creates issues if a user has a lower version and mid-installation setuptools is upgraded.&lt;/p&gt;

&lt;p&gt;   &amp;gt; Also do we really need to parse version here to get the container name as opposed to using container_version=pkg_resources.get_distribution(GOOGLE_PACKAGE_NAME).version?&lt;/p&gt;

&lt;p&gt;   I believe this is correct. If you can verify this, this would be a better and simpler solution.&lt;/p&gt;



&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16272023" author="githubbot" created="Thu, 30 Nov 2017 02:01:17 +0000"  >&lt;p&gt;tvalentyn commented on issue #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#issuecomment-348058837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#issuecomment-348058837&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &amp;gt; I believe this is correct. If you can verify this, this would be a better and simpler solution.&lt;br/&gt;
   I can take a look - feel free to reassign me the JIRA tracking this problem. &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16272024" author="githubbot" created="Thu, 30 Nov 2017 02:01:31 +0000"  >&lt;p&gt;tvalentyn commented on issue #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125#issuecomment-348058837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125#issuecomment-348058837&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &amp;gt; I believe this is correct. If you can verify this, this would be a better and simpler solution.&lt;/p&gt;

&lt;p&gt;   I can take a look - feel free to reassign me the JIRA tracking this problem. &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16297685" author="githubbot" created="Wed, 20 Dec 2017 00:16:56 +0000"  >&lt;p&gt;aaltay closed pull request #4125: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3174&quot; title=&quot;Master python sdk seems broken with test_harness_override_present_in_dataflow_distributions on Py 2.7.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3174&quot;&gt;&lt;del&gt;BEAM-3174&lt;/del&gt;&lt;/a&gt; If parse_version just gives us a regular tuple use that for formatting&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/sdks/python/apache_beam/runners/dataflow/internal/dependency.py b/sdks/python/apache_beam/runners/dataflow/internal/dependency.py&lt;br/&gt;
index fba2df27551..fc0ce2cfd6e 100644&lt;br/&gt;
&amp;#8212; a/sdks/python/apache_beam/runners/dataflow/internal/dependency.py&lt;br/&gt;
+++ b/sdks/python/apache_beam/runners/dataflow/internal/dependency.py&lt;br/&gt;
@@ -54,7 +54,6 @@&lt;br/&gt;
 import glob&lt;br/&gt;
 import logging&lt;br/&gt;
 import os&lt;br/&gt;
-import re&lt;br/&gt;
 import shutil&lt;br/&gt;
 import sys&lt;br/&gt;
 import tempfile&lt;br/&gt;
@@ -544,15 +543,7 @@ def _get_required_container_version(job_type=None):&lt;br/&gt;
   &quot;&quot;&quot;&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;TODO(silviuc): Handle apache-beam versions when we have official releases.&lt;br/&gt;
   try:&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;version = pkg_resources.get_distribution(GOOGLE_PACKAGE_NAME).version&lt;/li&gt;
	&lt;li&gt;# We drop any pre/post parts of the version and we keep only the X.Y.Z&lt;/li&gt;
	&lt;li&gt;# format.  For instance the 0.3.0rc2 SDK version translates into 0.3.0.&lt;/li&gt;
	&lt;li&gt;container_version = (&lt;/li&gt;
	&lt;li&gt;&apos;%s.%s.%s&apos; % pkg_resources.parse_version(version)._version.release)&lt;/li&gt;
	&lt;li&gt;# We do, however, keep the &quot;.dev&quot; suffix if it is present.&lt;/li&gt;
	&lt;li&gt;if re.match(r&apos;.&lt;b&gt;\.dev&lt;span class=&quot;error&quot;&gt;&amp;#91;0-9&amp;#93;&lt;/span&gt;&lt;/b&gt;$&apos;, version):&lt;/li&gt;
	&lt;li&gt;container_version += &apos;.dev&apos;&lt;/li&gt;
	&lt;li&gt;return container_version&lt;br/&gt;
+    return pkg_resources.get_distribution(GOOGLE_PACKAGE_NAME).version&lt;br/&gt;
   except pkg_resources.DistributionNotFound:&lt;/li&gt;
&lt;/ul&gt;
&lt;ol&gt;
	&lt;li&gt;This case covers Apache Beam end-to-end testing scenarios. All these tests&lt;/li&gt;
	&lt;li&gt;will run with a special container version.&lt;/li&gt;
&lt;/ol&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16302256" author="tvalentyn" created="Sat, 23 Dec 2017 07:43:51 +0000"  >&lt;p&gt;With  &lt;a href=&quot;https://github.com/apache/beam/pull/4125&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4125&lt;/a&gt; and &lt;a href=&quot;https://github.com/apache/beam/pull/4325&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4325&lt;/a&gt;  merged, this should be fixed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mopb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>