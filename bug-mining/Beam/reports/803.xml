<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:53:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-5439] StringUtf8Coder is slower than expected</title>
                <link>https://issues.apache.org/jira/browse/BEAM-5439</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;While working on Scio&apos;s next version, I noticed that &lt;tt&gt;StringUtf8Coder&lt;/tt&gt; is slower than expected.&lt;/p&gt;

&lt;p&gt;I wrote a small micro-benchmark using &lt;tt&gt;jmh&lt;/tt&gt; that serialises a (scala) List of a 1000 Strings using a custom &lt;tt&gt;Coder[List&lt;span class=&quot;error&quot;&gt;&amp;#91;_&amp;#93;&lt;/span&gt;]&lt;/tt&gt;. While profiling it, I noticed that a lot of time is spent in &lt;tt&gt;java.io.DataInputStream.&amp;lt;init&amp;gt;(java.io.InputStream)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Looking into the code for&#160;&lt;br/&gt;
&lt;tt&gt;StringUtf8Coder&lt;/tt&gt;, the&#160;&lt;tt&gt;readString&lt;/tt&gt; method is directly reading bytes. It therefore does not seem that a&#160;&lt;tt&gt;DataInputStream&lt;/tt&gt; is necessary.&lt;br/&gt;
I replaced&#160;&lt;tt&gt;StringUtf8Coder&lt;/tt&gt; with a &lt;tt&gt;Coder&lt;span class=&quot;error&quot;&gt;&amp;#91;String&amp;#93;&lt;/span&gt;&lt;/tt&gt; implementation (in Scala), that is essentially the same as&#160;&lt;tt&gt;StringUtf8Coder&lt;/tt&gt; but is not using&#160;&lt;tt&gt;DataInputStream&lt;/tt&gt;.&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-scala&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;object&lt;/span&gt; ScioStringCoder &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AtomicCoder[String] {
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.beam.sdk.util.VarInt
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.nio.charset.StandardCharsets
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.beam.sdk.values.TypeDescriptor
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.google.common.base.Utf8

  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; decode(dis: InputStream): String = {
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; len = VarInt.decodeInt(dis)
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (len &amp;lt; 0) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CoderException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Invalid encoded string length: &quot;&lt;/span&gt; + len)
    }
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; bytes = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Array[Byte](len)
    dis.read(bytes)
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; String(bytes, StandardCharsets.UTF_8)
  }

  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; encode(value: String, outStream: OutputStream): Unit = {
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; bytes = value.getBytes(StandardCharsets.UTF_8)
    VarInt.encode(bytes.length, outStream)
    outStream.write(bytes)
  }

  &lt;span class=&quot;code-keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; verifyDeterministic() = ()
  &lt;span class=&quot;code-keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; consistentWithEquals() = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; TYPE_DESCRIPTOR = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TypeDescriptor[String] {}
  &lt;span class=&quot;code-keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; getEncodedTypeDescriptor() = TYPE_DESCRIPTOR
  &lt;span class=&quot;code-keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; getEncodedElementByteSize(value: String) = {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CoderException(&lt;span class=&quot;code-quote&quot;&gt;&quot;cannot encode a &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; String&quot;&lt;/span&gt;)
    }
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; size = Utf8.encodedLength(value)
    VarInt.getLength(size) + size
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
Using that &lt;tt&gt;Coder&lt;/tt&gt; is about 27% faster than&#160;&lt;tt&gt;StringUtf8Coder&lt;/tt&gt;. I&apos;ve added the jmh output in &quot;Docs Text&quot;&lt;/p&gt;

&lt;p&gt;Is there any particular reason to use &lt;tt&gt;DataInputStream&lt;/tt&gt; ? &lt;br/&gt;
Do you think we can remove that to make &lt;tt&gt;StringUtf8Coder&lt;/tt&gt; more efficient ?&lt;br/&gt;
&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13186336">BEAM-5439</key>
            <summary>StringUtf8Coder is slower than expected</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jto">Julien Tournay</assignee>
                                    <reporter username="jto">Julien Tournay</reporter>
                        <labels>
                            <label>Done</label>
                            <label>perfomance</label>
                    </labels>
                <created>Thu, 20 Sep 2018 12:56:10 +0000</created>
                <updated>Tue, 6 Oct 2020 21:55:28 +0000</updated>
                            <resolved>Wed, 24 Oct 2018 22:31:26 +0000</resolved>
                                    <version>2.6.0</version>
                                    <fixVersion>2.9.0</fixVersion>
                                    <component>sdk-java-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1200">20m</timespent>
                                <comments>
                            <comment id="16656897" author="iemejia" created="Fri, 19 Oct 2018 15:00:26 +0000"  >&lt;p&gt;This looks interesting, I don&apos;t have historic context on this one. Do you want to provide a PR please to fix it?&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lcwik&quot; class=&quot;user-hover&quot; rel=&quot;lcwik&quot;&gt;lcwik&lt;/a&gt; any context eventually on this, or opinion on the proposed fix?&lt;/p&gt;</comment>
                            <comment id="16657550" author="lcwik" created="Fri, 19 Oct 2018 23:17:00 +0000"  >&lt;p&gt;The decoding seems to have a bug, it needs to loop around the read(byte[]) since it may return less bytes then the length of the byte array which is why we are using DataInputStream.readFully(byte[]).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Do you see the same performance benefit if you perform the loop yourself or use a utility method like ByteStreams.readFully(InputStream, byte[]): &lt;a href=&quot;https://google.github.io/guava/releases/20.0/api/docs/com/google/common/io/ByteStreams.html#readFully-java.io.InputStream-byte:A-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://google.github.io/guava/releases/20.0/api/docs/com/google/common/io/ByteStreams.html#readFully-java.io.InputStream-byte:A-&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If yes, then it is likely there are a couple of places where we could do this since we have a few usages of DataInputStream that follow this pattern.&lt;/p&gt;</comment>
                            <comment id="16662082" author="jto" created="Wed, 24 Oct 2018 10:36:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iemejia&quot; class=&quot;user-hover&quot; rel=&quot;iemejia&quot;&gt;iemejia&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lcwik&quot; class=&quot;user-hover&quot; rel=&quot;lcwik&quot;&gt;lcwik&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I just tried the suggested fix and it does seem to improve the performance quite significantly:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[info] KryoAtomicCoderBenchmark.stringScioStringCoderDecode       avgt   20  12023.466 &#177;  561.226  ns/op
[info] KryoAtomicCoderBenchmark.stringStringCoderReadFullyDecode  avgt   20  12212.836 &#177;  509.935  ns/op
[info] KryoAtomicCoderBenchmark.stringUTF8CoderDecode             avgt   20  15253.582 &#177; 1054.685  ns/op
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;stringScioStringCoderDecode&lt;/tt&gt; Is the version of ScioStringCoder (removed DataInputStream completely)&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;stringStringCoderReadFullyDecode&lt;/tt&gt; Is the version using &lt;tt&gt;ByteStreams.readFully(InputStream, byte[])&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;stringUTF8CoderDecode&lt;/tt&gt; is beam&apos;s default coder.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I micro benchmarked it by decoding a string containing &quot;stringvalue1 stringvalue2 stringvalue3...&quot; up until &quot;stringvalue1000&quot;.&lt;/p&gt;

&lt;p&gt;Here&apos;s the &quot;fixed&quot; coder implementation:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-scala&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;object&lt;/span&gt; StringCoderReadFully &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; AtomicCoder[String] {
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.beam.sdk.coders.CoderException
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.beam.sdk.util.VarInt
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.nio.charset.StandardCharsets
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.beam.sdk.values.TypeDescriptor
  &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; com.google.common.base.Utf8

  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; decode(dis: InputStream): String = {
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; len = VarInt.decodeInt(dis)
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (len &amp;lt; 0) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CoderException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Invalid encoded string length: &quot;&lt;/span&gt; + len)
    }
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; bytes = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Array[Byte](len)
    com.google.common.io.ByteStreams.readFully(dis, bytes)
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; String(bytes, StandardCharsets.UTF_8)
  }

  &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; encode(value: String, outStream: OutputStream): Unit = {
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; bytes = value.getBytes(StandardCharsets.UTF_8)
    VarInt.encode(bytes.length, outStream)
    outStream.write(bytes)
  }

  &lt;span class=&quot;code-keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; verifyDeterministic() = ()
  &lt;span class=&quot;code-keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; consistentWithEquals() = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;
  &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; TYPE_DESCRIPTOR = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TypeDescriptor[String] {}
  &lt;span class=&quot;code-keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; getEncodedTypeDescriptor() = TYPE_DESCRIPTOR
  &lt;span class=&quot;code-keyword&quot;&gt;override&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;def&lt;/span&gt; getEncodedElementByteSize(value: String) = {
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (value == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;) {
      &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; CoderException(&lt;span class=&quot;code-quote&quot;&gt;&quot;cannot encode a &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; String&quot;&lt;/span&gt;)
    }
    &lt;span class=&quot;code-keyword&quot;&gt;val&lt;/span&gt; size = Utf8.encodedLength(value)
    VarInt.getLength(size) + size
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll submit a PR on beam.&lt;/p&gt;</comment>
                            <comment id="16662934" author="lcwik" created="Wed, 24 Oct 2018 22:28:27 +0000"  >&lt;p&gt;Great&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                            <customfield id="customfield_12312720" key="com.atlassian.jira.plugin.system.customfieldtypes:textarea">
                        <customfieldname>Docs Text</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>&amp;nbsp;--- CUSTOM STRING CODER ---&lt;br/&gt;
&lt;br/&gt;
sbt:scio-jmh&amp;gt; jmh:run -f1 -wi 10 -i 20 com.spotify.scio.jmh.KryoAtomicCoderBenchmark.derivedStringListDecode&lt;br/&gt;
Running (fork) org.openjdk.jmh.Main -f1 -wi 10 -i 20 com.spotify.scio.jmh.KryoAtomicCoderBenchmark.derivedStringListDecode&lt;br/&gt;
# JMH version: 1.21&lt;br/&gt;
# VM version: JDK 1.8.0_162, Java HotSpot(TM) 64-Bit Server VM, 25.162-b12&lt;br/&gt;
# VM invoker: /Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home/jre/bin/java&lt;br/&gt;
# VM options: &amp;lt;none&amp;gt;&lt;br/&gt;
# Warmup: 10 iterations, 10 s each&lt;br/&gt;
# Measurement: 20 iterations, 10 s each&lt;br/&gt;
# Timeout: 10 min per iteration&lt;br/&gt;
# Threads: 1 thread, will synchronize iterations&lt;br/&gt;
# Benchmark mode: Average time, time/op&lt;br/&gt;
# Benchmark: com.spotify.scio.jmh.KryoAtomicCoderBenchmark.derivedStringListDecode&lt;br/&gt;
# Run progress: 0.00% complete, ETA 00:05:00&lt;br/&gt;
# Fork: 1 of 1&lt;br/&gt;
# Warmup Iteration   1: 143871.184 ns/op&lt;br/&gt;
# Warmup Iteration   2: 146251.283 ns/op&lt;br/&gt;
# Warmup Iteration   3: 142170.401 ns/op&lt;br/&gt;
# Warmup Iteration   4: 142894.955 ns/op&lt;br/&gt;
# Warmup Iteration   5: 118899.188 ns/op&lt;br/&gt;
# Warmup Iteration   6: 114858.595 ns/op&lt;br/&gt;
# Warmup Iteration   7: 122067.406 ns/op&lt;br/&gt;
# Warmup Iteration   8: 126001.842 ns/op&lt;br/&gt;
# Warmup Iteration   9: 114815.008 ns/op&lt;br/&gt;
# Warmup Iteration  10: 114770.945 ns/op&lt;br/&gt;
Iteration   1: 125273.345 ns/op&lt;br/&gt;
Iteration   2: 138278.789 ns/op&lt;br/&gt;
Iteration   3: 140561.592 ns/op&lt;br/&gt;
Iteration   4: 144293.970 ns/op&lt;br/&gt;
Iteration   5: 143969.709 ns/op&lt;br/&gt;
Iteration   6: 143922.836 ns/op&lt;br/&gt;
Iteration   7: 114001.757 ns/op&lt;br/&gt;
Iteration   8: 127505.765 ns/op&lt;br/&gt;
Iteration   9: 124477.706 ns/op&lt;br/&gt;
Iteration  10: 119351.929 ns/op&lt;br/&gt;
Iteration  11: 125093.176 ns/op&lt;br/&gt;
Iteration  12: 124471.535 ns/op&lt;br/&gt;
Iteration  13: 124345.109 ns/op&lt;br/&gt;
Iteration  14: 125401.103 ns/op&lt;br/&gt;
Iteration  15: 117102.858 ns/op&lt;br/&gt;
Iteration  16: 124733.919 ns/op&lt;br/&gt;
Iteration  17: 125247.740 ns/op&lt;br/&gt;
Iteration  18: 124482.480 ns/op&lt;br/&gt;
Iteration  19: 123607.365 ns/op&lt;br/&gt;
Iteration  20: 123227.978 ns/op&lt;br/&gt;
Result &amp;quot;com.spotify.scio.jmh.KryoAtomicCoderBenchmark.derivedStringListDecode&amp;quot;:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;127967.533 &amp;#xB1;(99.9%) 7870.248 ns/op [Average]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;(min, avg, max) = (114001.757, 127967.533, 144293.970), stdev = 9063.390&lt;br/&gt;
&amp;nbsp;&amp;nbsp;CI (99.9%): [120097.285, 135837.782] (assumes normal distribution)&lt;br/&gt;
# Run complete. Total time: 00:05:05&lt;br/&gt;
REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on&lt;br/&gt;
why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial&lt;br/&gt;
experiments, perform baseline and negative tests that provide experimental control, make sure&lt;br/&gt;
the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.&lt;br/&gt;
Do not assume the numbers tell you what you want them to tell.&lt;br/&gt;
Benchmark                                         Mode  Cnt       Score      Error  Units&lt;br/&gt;
KryoAtomicCoderBenchmark.derivedStringListDecode  avgt   20  127967.533 &amp;#xB1; 7870.248  ns/op&lt;br/&gt;
&lt;br/&gt;
&lt;br/&gt;
--- StringUtf8Coder ---&lt;br/&gt;
&lt;br/&gt;
sbt:scio-jmh&amp;gt; jmh:run -f1 -wi 10 -i 20 com.spotify.scio.jmh.KryoAtomicCoderBenchmark.derivedStringListDecode&lt;br/&gt;
&lt;br/&gt;
Done compiling.&lt;br/&gt;
Packaging /Users/julient/Documents/Spotify/scio/scio-jmh/target/scala-2.12/scio-jmh_2.12-0.7.0-SNAPSHOT-jmh.jar ...&lt;br/&gt;
Done packaging.&lt;br/&gt;
Running (fork) org.openjdk.jmh.Main -f1 -wi 10 -i 20 com.spotify.scio.jmh.KryoAtomicCoderBenchmark.derivedStringListDecode&lt;br/&gt;
# JMH version: 1.21&lt;br/&gt;
# VM version: JDK 1.8.0_162, Java HotSpot(TM) 64-Bit Server VM, 25.162-b12&lt;br/&gt;
# VM invoker: /Library/Java/JavaVirtualMachines/jdk1.8.0_162.jdk/Contents/Home/jre/bin/java&lt;br/&gt;
# VM options: &amp;lt;none&amp;gt;&lt;br/&gt;
# Warmup: 10 iterations, 10 s each&lt;br/&gt;
# Measurement: 20 iterations, 10 s each&lt;br/&gt;
# Timeout: 10 min per iteration&lt;br/&gt;
# Threads: 1 thread, will synchronize iterations&lt;br/&gt;
# Benchmark mode: Average time, time/op&lt;br/&gt;
# Benchmark: com.spotify.scio.jmh.KryoAtomicCoderBenchmark.derivedStringListDecode&lt;br/&gt;
# Run progress: 0.00% complete, ETA 00:05:00&lt;br/&gt;
# Fork: 1 of 1&lt;br/&gt;
# Warmup Iteration   1: 168293.193 ns/op&lt;br/&gt;
# Warmup Iteration   2: 193340.092 ns/op&lt;br/&gt;
# Warmup Iteration   3: 195244.767 ns/op&lt;br/&gt;
# Warmup Iteration   4: 195866.848 ns/op&lt;br/&gt;
# Warmup Iteration   5: 196383.206 ns/op&lt;br/&gt;
# Warmup Iteration   6: 196160.991 ns/op&lt;br/&gt;
# Warmup Iteration   7: 196214.871 ns/op&lt;br/&gt;
# Warmup Iteration   8: 193079.657 ns/op&lt;br/&gt;
# Warmup Iteration   9: 179553.851 ns/op&lt;br/&gt;
# Warmup Iteration  10: 194834.527 ns/op&lt;br/&gt;
Iteration   1: 195892.368 ns/op&lt;br/&gt;
Iteration   2: 195410.418 ns/op&lt;br/&gt;
Iteration   3: 196291.456 ns/op&lt;br/&gt;
Iteration   4: 196202.431 ns/op&lt;br/&gt;
Iteration   5: 151604.550 ns/op&lt;br/&gt;
Iteration   6: 168512.092 ns/op&lt;br/&gt;
Iteration   7: 171496.853 ns/op&lt;br/&gt;
Iteration   8: 154729.598 ns/op&lt;br/&gt;
Iteration   9: 169235.528 ns/op&lt;br/&gt;
Iteration  10: 171641.574 ns/op&lt;br/&gt;
Iteration  11: 195484.899 ns/op&lt;br/&gt;
Iteration  12: 195493.509 ns/op&lt;br/&gt;
Iteration  13: 170587.460 ns/op&lt;br/&gt;
Iteration  14: 173990.184 ns/op&lt;br/&gt;
Iteration  15: 179476.846 ns/op&lt;br/&gt;
Iteration  16: 162233.480 ns/op&lt;br/&gt;
Iteration  17: 171842.634 ns/op&lt;br/&gt;
Iteration  18: 173480.442 ns/op&lt;br/&gt;
Iteration  19: 170351.037 ns/op&lt;br/&gt;
Iteration  20: 162195.772 ns/op&lt;br/&gt;
Result &amp;quot;com.spotify.scio.jmh.KryoAtomicCoderBenchmark.derivedStringListDecode&amp;quot;:&lt;br/&gt;
&amp;nbsp;&amp;nbsp;176307.657 &amp;#xB1;(99.9%) 12630.618 ns/op [Average]&lt;br/&gt;
&amp;nbsp;&amp;nbsp;(min, avg, max) = (151604.550, 176307.657, 196291.456), stdev = 14545.439&lt;br/&gt;
&amp;nbsp;&amp;nbsp;CI (99.9%): [163677.038, 188938.275] (assumes normal distribution)&lt;br/&gt;
# Run complete. Total time: 00:05:04&lt;br/&gt;
REMEMBER: The numbers below are just data. To gain reusable insights, you need to follow up on&lt;br/&gt;
why the numbers are the way they are. Use profilers (see -prof, -lprof), design factorial&lt;br/&gt;
experiments, perform baseline and negative tests that provide experimental control, make sure&lt;br/&gt;
the benchmarking environment is safe on JVM/OS/HW level, ask for reviews from the domain experts.&lt;br/&gt;
Do not assume the numbers tell you what you want them to tell.&lt;br/&gt;
Benchmark                                         Mode  Cnt       Score       Error  Units&lt;br/&gt;
KryoAtomicCoderBenchmark.derivedStringListDecode  avgt   20  176307.657 &amp;#xB1; 12630.618  ns/op&lt;br/&gt;
</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3yax3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>