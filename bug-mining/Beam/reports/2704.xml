<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:21:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-13526] Unable to use the KafkaIO.Read.withValueDeserializer(DeserializerProvider) method</title>
                <link>https://issues.apache.org/jira/browse/BEAM-13526</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;I&apos;m trying to configure my pipeline to read AVRO-encoded messages from Kafka with deserialization delegated to the ConfluentSchemaRegistryDeserialzerProvider, and I&apos;m getting the following error:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.IllegalAccessError: failed to access class org.apache.beam.sdk.io.kafka.DeserializerProvider from class MyClass (both are in unnamed module of loader &apos;app&apos;)&lt;/p&gt;

&lt;p&gt;The way I configure the KafkaIO.Read is like:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
KafkaIO.read&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, GenericRecord&amp;gt;()
    .withBootstrapServers(...)
    .withKeyDeserializer(StringDeserializer::&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;java)
    .withValueDeserializer(ConfluentSchemaRegistryDeserializerProvider.of&amp;lt;GenericRecord&amp;gt;(...))
    .withTopic(...)
    ...&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I checked the DeserializerProvider interface and it&apos;s package-private - it&apos;s not even listed in the official java docs for Beam (&lt;a href=&quot;https://beam.apache.org/releases/javadoc/2.34.0/org/apache/beam/sdk/io/kafka/package-summary.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://beam.apache.org/releases/javadoc/2.34.0/org/apache/beam/sdk/io/kafka/package-summary.html&lt;/a&gt;); the ConfluentSchemaRegistryDeserialzerProvider is public.&lt;/p&gt;

&lt;p&gt;Am I the only one trying to use this API, or am I doing sth terribly wrong?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13419085">BEAM-13526</key>
            <summary>Unable to use the KafkaIO.Read.withValueDeserializer(DeserializerProvider) method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jigga">Arkadiusz Gasinski</assignee>
                                    <reporter username="jigga">Arkadiusz Gasinski</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Dec 2021 20:59:12 +0000</created>
                <updated>Mon, 10 Jan 2022 10:11:58 +0000</updated>
                            <resolved>Tue, 28 Dec 2021 09:29:26 +0000</resolved>
                                    <version>2.34.0</version>
                                    <fixVersion>2.36.0</fixVersion>
                                    <component>io-java-kafka</component>
                        <due></due>
                            <votes>6</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17464424" author="jigga" created="Thu, 23 Dec 2021 10:37:39 +0000"  >&lt;p&gt;So I built a version of the Java Kafka IO SDK where I added a public modifier to the DeserializerProvider interface and it worked like a charm, that is no IllegalAccessError and I was able to deserialize incoming messages by means of the ConfluentSchemaRegistryDeserialzerProvider class.&lt;/p&gt;

&lt;p&gt;Shall I raise a PR with the public modifier added to the interface definition, or there&apos;s more to the story that I&apos;m not aware of?&lt;/p&gt;</comment>
                            <comment id="17464471" author="jigga" created="Thu, 23 Dec 2021 11:16:29 +0000"  >&lt;p&gt;I raised &lt;a href=&quot;https://github.com/apache/beam/pull/16339&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;a PR on github&lt;/a&gt; to address the issue.&lt;/p&gt;</comment>
                            <comment id="17465804" author="aromanenko" created="Mon, 27 Dec 2021 16:09:02 +0000"  >&lt;p&gt;I think it should be public, good catch!&lt;/p&gt;</comment>
                            <comment id="17471834" author="JIRAUSER282532" created="Mon, 10 Jan 2022 10:11:58 +0000"  >&lt;p&gt;Thanks for taking a look at this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aromanenko&quot; class=&quot;user-hover&quot; rel=&quot;aromanenko&quot;&gt;aromanenko&lt;/a&gt; ! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 44 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xz1s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>