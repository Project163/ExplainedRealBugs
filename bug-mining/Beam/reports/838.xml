<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:53:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-5957] [beam_PerformanceTests_Python] Consistently failing due to failing integration test.</title>
                <link>https://issues.apache.org/jira/browse/BEAM-5957</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Most recent failure: &lt;a href=&quot;https://builds.apache.org/job/beam_PerformanceTests_Python/1634/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PerformanceTests_Python/1634/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I haven&apos;t been able to debug the root cause of the failure with what I know. From what I can tell the performance test fails because one of the integration tests it&apos;s benchmarking has failed. But I can&apos;t tell what integration test is causing the failure.&lt;/p&gt;

&lt;p&gt;Relevant parts of the logs:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;11:19:01 BUILD FAILED in 36s
11:19:01 
11:19:01 2018-11-02 18:19:01,413 3c18295b MainThread beam_integration_benchmark(1/1) ERROR    Error during benchmark beam_integration_benchmark
11:19:01 Traceback (most recent call last):
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/pkb.py&quot;, line 719, in RunBenchmark
11:19:01     DoRunPhase(spec, collector, detailed_timer)
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/pkb.py&quot;, line 580, in DoRunPhase
11:19:01     samples = spec.BenchmarkRun(spec)
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/linux_benchmarks/beam_integration_benchmark.py&quot;, line 160, in Run
11:19:01     job_type=job_type)
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/providers/gcp/gcp_dpb_dataflow.py&quot;, line 90, in SubmitJob
11:19:01     assert retcode == 0, &quot;Integration Test Failed.&quot;
11:19:01 AssertionError: Integration Test Failed.
11:19:01 2018-11-02 18:19:01,414 3c18295b MainThread beam_integration_benchmark(1/1) INFO     Cleaning up benchmark beam_integration_benchmark
11:19:01 2018-11-02 18:19:01,416 3c18295b MainThread beam_integration_benchmark(1/1) ERROR    Exception running benchmark
11:19:01 Traceback (most recent call last):
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/pkb.py&quot;, line 860, in RunBenchmarkTask
11:19:01     RunBenchmark(spec, collector)
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/pkb.py&quot;, line 719, in RunBenchmark
11:19:01     DoRunPhase(spec, collector, detailed_timer)
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/pkb.py&quot;, line 580, in DoRunPhase
11:19:01     samples = spec.BenchmarkRun(spec)
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/linux_benchmarks/beam_integration_benchmark.py&quot;, line 160, in Run
11:19:01     job_type=job_type)
11:19:01   File &quot;/home/jenkins/jenkins-slave/workspace/beam_PerformanceTests_Python/PerfKitBenchmarker/perfkitbenchmarker/providers/gcp/gcp_dpb_dataflow.py&quot;, line 90, in SubmitJob
11:19:01     assert retcode == 0, &quot;Integration Test Failed.&quot;
11:19:01 AssertionError: Integration Test Failed.
11:19:01 2018-11-02 18:19:01,416 3c18295b MainThread beam_integration_benchmark(1/1) ERROR    Benchmark 1/1 beam_integration_benchmark (UID: beam_integration_benchmark0) failed. Execution will continue.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13196005">BEAM-5957</key>
            <summary>[beam_PerformanceTests_Python] Consistently failing due to failing integration test.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markflyhigh">Mark Liu</assignee>
                                    <reporter username="danoliveira">Daniel Oliveira</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Nov 2018 23:30:42 +0000</created>
                <updated>Sat, 16 May 2020 14:00:04 +0000</updated>
                            <resolved>Tue, 6 Nov 2018 19:24:51 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>sdk-py-core</component>
                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="16673821" author="altay" created="Fri, 2 Nov 2018 23:44:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markflyhigh&quot; class=&quot;user-hover&quot; rel=&quot;markflyhigh&quot;&gt;markflyhigh&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanmyrvold&quot; class=&quot;user-hover&quot; rel=&quot;alanmyrvold&quot;&gt;alanmyrvold&lt;/a&gt; How can we debug this failures? The log has information about some job failing with a non-zero return code but it does not have a link to the job or does not have additional logs.&lt;/p&gt;

&lt;p&gt;Can we update the perfkitbenchmarker plugin to include this additional information?&lt;/p&gt;</comment>
                            <comment id="16674461" author="markflyhigh" created="Sun, 4 Nov 2018 17:55:45 +0000"  >&lt;p&gt;There is another JIRA &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3270&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/BEAM-3270&lt;/a&gt; tracking the performance test logging issue. A Perfkit fix is out to enable detail logs.&lt;/p&gt;</comment>
                            <comment id="16675695" author="markflyhigh" created="Mon, 5 Nov 2018 19:50:29 +0000"  >&lt;p&gt;Since Perfkit will eventually run Gradle command in a subprocess, Gradle log will be printed in Jenkins console output and always contains more details. Here are some useful log from console output:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
...
10:19:01 &amp;gt; Task :beam-sdks-python:integrationTest FAILED
10:19:01 Unknown option: --staging_location=gs:&lt;span class=&quot;code-comment&quot;&gt;//temp-storage-&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;-end-to-end-tests/staging-it
&lt;/span&gt;10:19:01 4 actionable tasks: 4 executed
10:19:01 
10:19:01 Publishing build scan...
10:19:01 https:&lt;span class=&quot;code-comment&quot;&gt;//gradle.com/s/2bvsfzm5wk2t6
&lt;/span&gt;...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The problem comes from Python Gradle task which invokes postcommit shell script. &lt;a href=&quot;https://github.com/apache/beam/pull/6938&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/6938&lt;/a&gt; is out to fix the Gradle script issue.&lt;/p&gt;</comment>
                            <comment id="16677205" author="markflyhigh" created="Tue, 6 Nov 2018 19:24:39 +0000"  >&lt;p&gt;beam_PerformanceTests_Python starts passing since &lt;a href=&quot;https://builds.apache.org/view/A-D/view/Beam/job/beam_PerformanceTests_Python/1652/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/A-D/view/Beam/job/beam_PerformanceTests_Python/1652/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s0031s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>