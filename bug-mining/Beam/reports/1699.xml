<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:06:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-9573] Watermark hold for timer output timestamp is not computed correctly</title>
                <link>https://issues.apache.org/jira/browse/BEAM-9573</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;With the introduction of timer output timestamp, a new watermark hold had been added to the Flink Runner. The watermark computation works on the keyed state backend which computes a key-scoped watermark hold and not the desired operator-wide watermark hold.&lt;/p&gt;

&lt;p&gt;Computation: &lt;a href=&quot;https://github.com/apache/beam/blob/b564239081e9351c56fb0e7d263495b95dd3f8f3/runners/flink/src/main/java/org/apache/beam/runners/flink/translation/wrappers/streaming/DoFnOperator.java#L1140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/b564239081e9351c56fb0e7d263495b95dd3f8f3/runners/flink/src/main/java/org/apache/beam/runners/flink/translation/wrappers/streaming/DoFnOperator.java#L1140&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Key-scoped state: &lt;a href=&quot;https://github.com/apache/beam/blob/b564239081e9351c56fb0e7d263495b95dd3f8f3/runners/flink/src/main/java/org/apache/beam/runners/flink/translation/wrappers/streaming/DoFnOperator.java#L1130&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/b564239081e9351c56fb0e7d263495b95dd3f8f3/runners/flink/src/main/java/org/apache/beam/runners/flink/translation/wrappers/streaming/DoFnOperator.java#L1130&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We need to change this to operate on all keys. This has to be done before fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-9566&quot; title=&quot;Performance regression of FlinkRunner stream mode due to watermark holds update&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-9566&quot;&gt;&lt;del&gt;BEAM-9566&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13293323">BEAM-9573</key>
            <summary>Watermark hold for timer output timestamp is not computed correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10100" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">P0</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mxm">Maximilian Michels</assignee>
                                    <reporter username="mxm">Maximilian Michels</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Mar 2020 15:29:49 +0000</created>
                <updated>Sat, 16 May 2020 14:21:59 +0000</updated>
                            <resolved>Fri, 27 Mar 2020 08:35:48 +0000</resolved>
                                    <version>2.20.0</version>
                                    <fixVersion>2.20.0</fixVersion>
                                    <component>runner-flink</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="30600">8.5h</timespent>
                                <comments>
                            <comment id="17065011" author="amaliujia" created="Mon, 23 Mar 2020 18:39:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mxm&quot; class=&quot;user-hover&quot; rel=&quot;mxm&quot;&gt;mxm&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;RC0 is being built already. Could you move this JIRA to 2.21.0?&lt;/p&gt;

&lt;p&gt;If you still want to make this Jira release into 2.20.0, could you answer the following question to help me make a decision if I should adopt it:&lt;/p&gt;

&lt;p&gt;Is this a regression from a previous release?&lt;br/&gt;
Is this a new feature or related to a new feature?&lt;br/&gt;
What percentage of users would be impacted by this issue if it is not fixed?&lt;br/&gt;
Would it be possible for the impacted users to skip this version?&lt;/p&gt;</comment>
                            <comment id="17065015" author="mxm" created="Mon, 23 Mar 2020 18:48:55 +0000"  >&lt;p&gt;I understand that this may mean additional work for you as a release manager. I&apos;m sorry but we can&apos;t release with a bug like this.&lt;/p&gt;

&lt;p&gt;Is this a regression from a previous release? Yes.&lt;br/&gt;
Is this a new feature or related to a new feature? It&apos;s a new feature. Timer output timestamps.&lt;br/&gt;
What percentage of users would be impacted by this issue if it is not fixed? 100% of the users.&lt;br/&gt;
Would it be possible for the impacted users to skip this version? I can&apos;t answer this question.&lt;/p&gt;</comment>
                            <comment id="17065039" author="amaliujia" created="Mon, 23 Mar 2020 19:28:23 +0000"  >&lt;p&gt;Ok. Let&apos;s make the fix to 2.20.0. I will wait for PR.&lt;/p&gt;</comment>
                            <comment id="17065105" author="mxm" created="Mon, 23 Mar 2020 21:18:44 +0000"  >&lt;p&gt;Thank you for your patience!&lt;/p&gt;</comment>
                            <comment id="17066558" author="sunjincheng121" created="Wed, 25 Mar 2020 09:42:32 +0000"  >&lt;p&gt;Close it as the PR is already merged &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17066560" author="iemejia" created="Wed, 25 Mar 2020 09:44:57 +0000"  >&lt;p&gt;Reopening it until it is cherry picked.&lt;/p&gt;</comment>
                            <comment id="17066588" author="mxm" created="Wed, 25 Mar 2020 10:37:30 +0000"  >&lt;p&gt;Yes, the issue was open on purpose until the &quot;Fix Version&quot; target is reached.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13293141">BEAM-9566</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ct1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>