<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:17:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-11227] Upgrade beam-vendor-grpc-1_26_0-0.3 to fix CVE-2020-27216</title>
                <link>https://issues.apache.org/jira/browse/BEAM-11227</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;&lt;b&gt;&lt;ins&gt;Description&lt;/ins&gt;&lt;/b&gt;&lt;b&gt;:&lt;/b&gt; &lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.beam/beam-vendor-grpc-1_26_0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Apache Beam :: Vendored Dependencies :: GRPC :: 1.26.0&lt;/a&gt;&#160;&#187;&#160;&lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.beam/beam-vendor-grpc-1_26_0/0.3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;0.3&lt;/a&gt; uses the dependency Eclipse Jetty (9.2.10.v20150310), which is prone to a &#160;privilege escalation vulnerability. This issue (CVE-2020-27216) was published on 23/10/2020.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&lt;ins&gt;Affected Versions:&lt;/ins&gt;&lt;/b&gt;&lt;br/&gt;
 Eclipse Jetty versions 9.4.32.v20200930 and prior, 10.0.0.beta2 and prior and 11.0.0.beta2 and prior.&lt;/p&gt;

&lt;p&gt;&#160;&lt;b&gt;&lt;ins&gt;Recommendation/&lt;/ins&gt;&lt;/b&gt; &lt;b&gt;&lt;ins&gt;Update Suggestion:&lt;/ins&gt;&lt;/b&gt;&lt;br/&gt;
Update&#160;the Eclipse Jetty dependency to version 9.4.33.v20201020, 10.0.0.beta3, 11.0.0.beta3 or later.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13339858">BEAM-11227</key>
            <summary>Upgrade beam-vendor-grpc-1_26_0-0.3 to fix CVE-2020-27216</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="10722" iconUrl="https://issues.apache.org/jira/images/icons/statuses/generic.png" description="">Triage Needed</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="suztomo">Tomo Suzuki</assignee>
                                    <reporter username="bmbodj">Boury Mbodj</reporter>
                        <labels>
                            <label>apache-beam</label>
                            <label>beam</label>
                    </labels>
                <created>Tue, 10 Nov 2020 23:37:17 +0000</created>
                <updated>Thu, 13 Apr 2023 11:05:04 +0000</updated>
                            <resolved>Tue, 25 May 2021 19:36:03 +0000</resolved>
                                    <version>2.21.0</version>
                    <version>2.22.0</version>
                    <version>2.23.0</version>
                    <version>2.24.0</version>
                    <version>2.25.0</version>
                                    <fixVersion>2.30.0</fixVersion>
                                    <component>build-system</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>9</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="586800">163h</timespent>
                                <comments>
                            <comment id="17248031" author="beamjirabot" created="Fri, 11 Dec 2020 17:12:39 +0000"  >&lt;p&gt;This issue is assigned but has not received an update in 30 days so it has been labeled &quot;stale-assigned&quot;. If you are still working on the issue, please give an update and remove the label. If you are no longer working on the issue, please unassign so someone else may work on it. In 7 days the issue will be automatically unassigned.&lt;/p&gt;</comment>
                            <comment id="17251881" author="beamjirabot" created="Fri, 18 Dec 2020 17:12:48 +0000"  >&lt;p&gt;This issue was marked &quot;stale-assigned&quot; and has not received a public comment in 7 days. It is now automatically unassigned. If you are still working on it, you can assign it to yourself again. Please also give an update about the status of the work.&lt;/p&gt;</comment>
                            <comment id="17287496" author="suztomo" created="Sat, 20 Feb 2021 04:25:08 +0000"  >&lt;p&gt;I ran &lt;tt&gt;../../gradlew dependencies&lt;/tt&gt; at &lt;tt&gt;:vendor:grpc-1_26_0&lt;/tt&gt; module, but could not find&#160;Eclipse Jetty (9.2.10.v20150310):&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://gist.github.com/suztomo/6503ceaa4acc8e528a28affb1edaa8a3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/suztomo/6503ceaa4acc8e528a28affb1edaa8a3&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It&apos;s technically possible just upgrade the gRPC version from 1.26 to 1.35. However, how can we confirm the CVE is properly addressed after upgrading the gRPC version?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17287602" author="iemejia" created="Sat, 20 Feb 2021 09:02:24 +0000"  >&lt;p&gt;Yes this is possible actually this is what we did in the past when moving from version 1.13.1.&lt;/p&gt;

&lt;p&gt;Notice that this process has two steps:&lt;br/&gt;
1. Upgrade and release (independently) the vendored dependency.&lt;br/&gt;
2. Update the Beam codebase to use the vendored dependency (usually a huge but relatively straight forward PR).&lt;/p&gt;

&lt;p&gt;(1) requires a vote in the mailing list and ideally (2) to have been tested in advance.&lt;/p&gt;

&lt;p&gt;I can help with the vote/release part if you like when we can confirm that the upgrade works. Also I think the upgrade is worth to catch up with the latest releases and improvements of gRPC independent of the security issue but that&apos;s a good question. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bmbodj&quot; class=&quot;user-hover&quot; rel=&quot;bmbodj&quot;&gt;bmbodj&lt;/a&gt; How did you get to know about this vulnerability and its relation with this module?. Seems odd because gRPC seems not to have any use jetty&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17287607" author="iemejia" created="Sat, 20 Feb 2021 09:13:24 +0000"  >&lt;p&gt;Oh sorry I had not checked in the right place. It seems that probably it should be an automatic dependency vulnerability detector looking at this one &lt;a href=&quot;https://github.com/apache/beam/blob/70335bbf323ce4d6bb728cc8e80d6dcb29cf363e/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring_1_26_0.groovy#L76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/70335bbf323ce4d6bb728cc8e80d6dcb29cf363e/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring_1_26_0.groovy#L76&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=suztomo&quot; class=&quot;user-hover&quot; rel=&quot;suztomo&quot;&gt;suztomo&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I am a bit surprised that grpc is not better self-contained and even wondering if we do really need to declare all those deps (to be checked).&lt;/p&gt;</comment>
                            <comment id="17288567" author="suztomo" created="Mon, 22 Feb 2021 18:51:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iemejia&quot; class=&quot;user-hover&quot; rel=&quot;iemejia&quot;&gt;iemejia&lt;/a&gt;&#160;Thank you for your response. I&#160;see &quot;alpn_api_version = &quot;1.1.2.v20150522&quot; and &quot;org.eclipse.jetty.alpn:alpn-api:&quot;, not the Jetty itself. Reading &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=567921#c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=567921#c2&lt;/a&gt;, the CVE is about Jetty&apos;s use of temporary directories.&lt;/p&gt;

&lt;p&gt;I take this as false positive of the automatic dependency vulnerability detector (and going to close the PR 14028). Let me know if you think otherwise.&lt;/p&gt;</comment>
                            <comment id="17288698" author="iemejia" created="Mon, 22 Feb 2021 23:33:26 +0000"  >&lt;p&gt;I agree in the fact that this is probably a false positive, but companies are really picky about using libraries/tools reported by vulnerability reports. Still the open question is if the upgrade guarantees that the jetty upgrade to a non vulnerable version.&lt;/p&gt;

&lt;p&gt;The other question is if Beam may benefit or some recent improvements of gRPC to make it worth too but well that&apos;s less important than the security issue.&lt;/p&gt;</comment>
                            <comment id="17289193" author="suztomo" created="Tue, 23 Feb 2021 17:07:07 +0000"  >&lt;p&gt;&amp;gt; companies are really picky about using libraries/tools reported by vulnerability reports&lt;/p&gt;

&lt;p&gt;That makes sense. We want the automatic detector to unmark the vendored gRPC artifact.&lt;/p&gt;

&lt;p&gt;Even if we upgrade to the latest version of gRPC, the line &quot;org.eclipse.jetty.alpn:alpn-api:$alpn_api_version&quot; remains with version &quot;1.1.2.v20150522&quot; (&lt;a href=&quot;https://github.com/apache/beam/pull/14028/files#diff-20e6ab6fadc3019303d5534ed1b041f154a31e9e7a8e5829d6b8fc0a7218f6dfR76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;my current attempt&lt;/a&gt;) (It&apos;s less than &quot;9.4.32&quot; mentioned in &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=567921#c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=567921#c2&lt;/a&gt;. The latest is &lt;a href=&quot;https://search.maven.org/artifact/org.eclipse.jetty.alpn/alpn-api/1.1.3.v20160715/jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&quot;1.1.3.v20160715&quot;&lt;/a&gt;). On the other hand, this issue description clearly say &quot;Eclipse Jetty (9.2.10.v20150310)&quot;. Where is this version coming from?&lt;/p&gt;

&lt;p&gt;I&apos;ll wait for &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bmbodj&quot; class=&quot;user-hover&quot; rel=&quot;bmbodj&quot;&gt;bmbodj&lt;/a&gt;&apos;s response before committing something.&lt;/p&gt;</comment>
                            <comment id="17289215" author="kenn" created="Tue, 23 Feb 2021 17:36:26 +0000"  >&lt;p&gt;We actually want to upgrade anyhow for performance reasons, so I would really like to continue.&lt;/p&gt;</comment>
                            <comment id="17293819" author="suztomo" created="Tue, 2 Mar 2021 16:27:27 +0000"  >&lt;p&gt;Looking at Boury Mbodj&apos;s &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bmbodj&amp;amp;selectedTab=com.atlassian.streams.streams-jira-plugin:user-profile-stream-panel&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;activity&lt;/a&gt;, it seems that this is one-off ticket (not by automation).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; Sure. Let me continue &lt;a href=&quot;https://github.com/apache/beam/pull/14028&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/14028&lt;/a&gt; to see what would break.&lt;/p&gt;
&lt;h1&gt;&lt;a name=&quot;Memo&quot;&gt;&lt;/a&gt;Memo&lt;/h1&gt;

&lt;p&gt;Previous emails&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://lists.apache.org/thread.html/rea4a27c47529a27936ab2c51162c8e532b8b625c4d70c4f7f485c7cd%40%3Cdev.beam.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;[VOTE] Vendored Dependencies Release gRPC 1.26.0 v0.3 for BEAM-9288 RC #3&lt;/a&gt; (vote passed)&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://lists.apache.org/thread.html/rc6372c9873a2b00cf5dc30efeeb0b13bb1aa92a0f93e2417211effc4%40%3Cdev.beam.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;[VOTE] Vendored Dependencies Release gRPC 1.26.0 v0.3 for BEAM-9288 RC #2&lt;/a&gt; (commit id mistake)&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://lists.apache.org/thread.html/r31fb38e8480889ecb23db7135771d419c9cf43fd20be96c4aa179e54%40%3Cdev.beam.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Re: [VOTE] Vendored Dependencies Release gRPC 1.26.0 v0.3 for BEAM-9288&lt;/a&gt; (-&amp;gt; conscrypt was in JAR)&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
suztomo@suztomo:~/beam$ jar tvf vendor/grpc-1_36_0/build/libs/beam-vendor-grpc-1_36_0-0.1.jar  | grep conscrypt
suztomo@suztomo:~/beam$ 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Previous version (beam-vendor-grpc-1_26_0-0.3):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
suztomo-macbookpro44%  jar tvf ~/Downloads/beam-vendor-grpc-1_26_0-0.3.jar|grep &lt;span class=&quot;code-quote&quot;&gt;&apos;\.so$&apos;&lt;/span&gt;
2626449 Sat Sep 21 10:06:14 EDT 2019 META-INF/&lt;span class=&quot;code-keyword&quot;&gt;native&lt;/span&gt;/liborg_apache_beam_vendor_grpc_v1p26p0_netty_tcnative_linux_x86_64.so
 59545 Wed Nov 26 20:02:18 EST 2014 linux/amd64/liblz4-java.so
 68840 Wed Nov 26 20:02:18 EST 2014 linux/i386/liblz4-java.so
161360 Wed Nov 26 20:02:18 EST 2014 win32/amd64/liblz4-java.so
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Current proposal&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;suztomo-macbookpro44% jar tvf vendor/grpc-1_36_0/build/libs/beam-vendor-grpc-1_36_0-0.1.jar  | grep &apos;\.so$&apos; 
2628280 Fri Aug 21 11:19:38 EDT 2020 META-INF/native/liborg_apache_beam_vendor_grpc_v1p36p0_netty_tcnative_linux_x86_64.so
1933284 Fri Aug 21 11:19:38 EDT 2020 META-INF/native/liborg_apache_beam_vendor_grpc_v1p36p0_netty_tcnative_linux_aarch64.so
suztomo-macbookpro44% 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;h1&gt;&lt;a name=&quot;Consideration&quot;&gt;&lt;/a&gt;Consideration&lt;/h1&gt;
&lt;h2&gt;&lt;a name=&quot;protobufjavaversion&quot;&gt;&lt;/a&gt;protobuf-java version&lt;/h2&gt;

&lt;p&gt;gRPC 1.36 uses protobuf-java 3.12.0 and com.google.api.grpc:proto-google-common-protos:2.0.1 draws protobuf-java 3.13.0. Gradle&apos;s dependency mediation chooses 3.13.0 (higher) which has the Java8-incompatibility problem (&lt;a href=&quot;https://github.com/protocolbuffers/protobuf/issues/7827&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/protocolbuffers/protobuf/issues/7827&lt;/a&gt;). We need to set a higher version to avoid having the problem in the vendored gRPC.&lt;/p&gt;
&lt;h2&gt;&lt;a name=&quot;Removedependenciesthatseemunused&quot;&gt;&lt;/a&gt;Remove dependencies that seem unused&lt;/h2&gt;

&lt;p&gt;In preparing the vendored gRPC 1.26, it seems that unnecessary dependencies were added to the vendored gRPC project just to resolve the error messages by Linkage Checker. Let&apos;s verify whether they are really needed or not.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
      &lt;span class=&quot;code-quote&quot;&gt;&quot;io.perfmark:perfmark-api:$perfmark_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;com.github.jponge:lzma-java:$lzma_java_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.protobuf.nano:protobuf-javanano:$protobuf_javanano_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;com.jcraft:jzlib:$jzlib_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;com.ning:compress-lzf:$compress_lzf_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;net.jpountz.lz4:lz4:$lz4_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;org.bouncycastle:bcpkix-jdk15on:$bouncycastle_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;org.bouncycastle:bcprov-jdk15on:$bouncycastle_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.alpn:alpn-api:$alpn_api_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;org.eclipse.jetty.npn:npn-api:$npn_api_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;org.jboss.marshalling:jboss-marshalling:$jboss_marshalling_version&quot;&lt;/span&gt;,
      &lt;span class=&quot;code-quote&quot;&gt;&quot;org.jboss.modules:jboss-modules:$jboss_modules_version&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If they are not needed by Beam&apos;s use of gRPC, then we can&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;remove the source class that appear in the linkage errors&lt;/li&gt;
	&lt;li&gt;add &lt;a href=&quot;https://github.com/GoogleCloudPlatform/cloud-opensource-java/wiki/Linkage-Checker-Exclusion-File&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;exclusion file&lt;/a&gt; for Linkage Checker&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Linkage Errors when I remove them: &lt;a href=&quot;https://gist.github.com/suztomo/6e76e09b33ff834726634175c458f096&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/suztomo/6e76e09b33ff834726634175c458f096&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;(continuing)&lt;/p&gt;
&lt;h1&gt;&lt;a name=&quot;LinkageErrors&quot;&gt;&lt;/a&gt;Linkage Errors&lt;/h1&gt;

&lt;p&gt;I ran checkJavaLinkage task (&lt;a href=&quot;https://gist.github.com/suztomo/c1d9c587ea58ad4cfd25c853ad921c93#file-beam-vendor-grpc-1_36_0_with_protobuf_3-15-txt-L6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;output&lt;/a&gt;).&lt;br/&gt;
&#160;&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;org.jboss.marshalling.Marshaller&quot;&gt;&lt;/a&gt;org.jboss.marshalling.Marshaller&lt;/h3&gt;

&lt;p&gt;If the netty user is not using MarshallingEncoder, the linkage errors will not cause an error.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;io.netty:netty-codec:4.1.52.Final
25 target classes causing linkage errors referenced from 42 source classes.

Class org.jboss.marshalling.Marshaller is not found, referenced from 3 classes &#9660;

io.netty.handler.codec.marshalling.ThreadLocalMarshallerProvider
io.netty.handler.codec.marshalling.MarshallingEncoder
io.netty.handler.codec.marshalling.CompatibleMarshallingEncoder
Class org.jboss.marshalling.MarshallerFactory is not found, referenced from 4 classes &#9660;

io.netty.handler.codec.marshalling.ThreadLocalMarshallerProvider
io.netty.handler.codec.marshalling.ThreadLocalUnmarshallerProvider
io.netty.handler.codec.marshalling.DefaultMarshallerProvider
io.netty.handler.codec.marshalling.DefaultUnmarshallerProvider
Class org.jboss.marshalling.Unmarshaller is not found, referenced from 4 classes &#9660;

io.netty.handler.codec.marshalling.ThreadLocalUnmarshallerProvider
io.netty.handler.codec.marshalling.ContextBoundUnmarshallerProvider
io.netty.handler.codec.marshalling.MarshallingDecoder
io.netty.handler.codec.marshalling.CompatibleMarshallingDecoder

Class org.jboss.marshalling.ByteInput is not found, referenced from 2 classes &#9660;

io.netty.handler.codec.marshalling.LimitingByteInput
io.netty.handler.codec.marshalling.ChannelBufferByteInput
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;netty-codec declares jboss-marshalling as optional.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;org.jboss.marshalling&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;jboss-marshalling&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;This indicates that only those who need this serialization algorithm declare the dependencies.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;protobufnano&quot;&gt;&lt;/a&gt;protobuf-nano&lt;/h3&gt;

&lt;p&gt;Netty supports protobuf serialization.&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Class com.google.protobuf.nano.MessageNano is not found, referenced from 2 classes &#9660;

io.netty.handler.codec.protobuf.ProtobufDecoderNano
io.netty.handler.codec.protobuf.ProtobufEncoderNano
Class com.google.protobuf.nano.CodedOutputByteBufferNano is not found, referenced from io.netty.handler.codec.protobuf.ProtobufEncoderNano
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;tt&gt;com.google.protobuf.nano.MessageNano&lt;/tt&gt;&#160;is in protobuf-javanano and netty-codec declares the artifact as optional dependency.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;com.google.protobuf.nano&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;protobuf-javanano&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This indicates that only those who need this serialization algorithm declare the dependencies.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;jzlib&quot;&gt;&lt;/a&gt;jzlib&lt;/h3&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Class com.jcraft.jzlib.Deflater is not found, referenced from 2 classes &#9660;

io.netty.handler.codec.compression.JZlibEncoder
io.netty.handler.codec.compression.ZlibUtil
Class com.jcraft.jzlib.JZlib is not found, referenced from 3 classes &#9660;

io.netty.handler.codec.compression.JZlibEncoder
io.netty.handler.codec.compression.ZlibUtil
io.netty.handler.codec.compression.JZlibDecoder

Class com.jcraft.jzlib.Inflater is not found, referenced from 2 classes &#9660;

io.netty.handler.codec.compression.ZlibUtil
io.netty.handler.codec.compression.JZlibDecoder
Class com.jcraft.jzlib.JZlib$WrapperType is not found, referenced from io.netty.handler.codec.compression.ZlibUtil
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;netty-codec declares jzlib dependency as optional.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;com.jcraft&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;jzlib&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;&lt;a href=&quot;https://livebook.manning.com/book/netty-in-action/chapter-11/50&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Netty in action Chapter 11&lt;/a&gt;&#160;says this dependency is only needed when users want the compression and using JDK 6 or earlier.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;lzma&quot;&gt;&lt;/a&gt;lzma&lt;/h3&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Class lzma.sdk.lzma.Encoder is not found, referenced from io.netty.handler.codec.compression.LzmaFrameEncoder
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;lzma-java is declared as optional.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;com.github.jponge&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;lzma-java&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;This indicates that only those who need the compression algorithm declare the dependencies.&lt;/p&gt;

&lt;h3&gt;&lt;a name=&quot;lzf&quot;&gt;&lt;/a&gt;lzf&lt;/h3&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Class com.ning.compress.lzf.LZFChunk is not found, referenced from io.netty.handler.codec.compression.LzfEncoder

Class com.ning.compress.lzf.ChunkEncoder is not found, referenced from io.netty.handler.codec.compression.LzfEncoder

Class com.ning.compress.lzf.util.ChunkEncoderFactory is not found, referenced from io.netty.handler.codec.compression.LzfEncoder

Class com.ning.compress.BufferRecycler is not found, referenced from 2 classes &#9660;

io.netty.handler.codec.compression.LzfEncoder
io.netty.handler.codec.compression.LzfDecoder
Class com.ning.compress.lzf.LZFEncoder is not found, referenced from io.netty.handler.codec.compression.LzfEncoder
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;netty-codec declares compress-lzf dependency as optional.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;com.ning&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;compress-lzf&amp;lt;/artifactId&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;This indicates that only those who need the compression algorithm declare the dependencies.&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;tcnative.SSL&quot;&gt;&lt;/a&gt;tcnative.SSL&lt;/h3&gt;

&lt;p&gt;&#160;&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Class io.netty.internal.tcnative.SSL is not found, referenced from 8 classes &#9660;

io.netty.handler.ssl.ReferenceCountedOpenSslEngine
io.netty.handler.ssl.OpenSslSessionContext
io.netty.handler.ssl.ReferenceCountedOpenSslContext
io.netty.handler.ssl.OpenSslX509KeyManagerFactory
io.netty.handler.ssl.OpenSslKeyMaterialProvider
io.netty.handler.ssl.OpenSslPrivateKey
io.netty.handler.ssl.DefaultOpenSslKeyMaterial
io.netty.handler.ssl.OpenSslServerSessionContext
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;netty-handler declares tcnative dependency as optional:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;${project.groupId}&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;${tcnative.artifactId}&amp;lt;/artifactId&amp;gt;
      &amp;lt;classifier&amp;gt;${tcnative.classifier}&amp;lt;/classifier&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;The value of&#160;&lt;tt&gt;${tcnative.classifier&lt;/tt&gt;}&#160;differs depending on profiles defined in netty-parent. By default it uses&#160;&lt;tt&gt;netty-tcnative&lt;/tt&gt;&#160;but users can opt to use boringssl&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;      &amp;lt;id&amp;gt;boringssl&amp;lt;/id&amp;gt;
      &amp;lt;properties&amp;gt;
        &amp;lt;tcnative.artifactId&amp;gt;netty-tcnative-boringssl-static&amp;lt;/tcnative.artifactId&amp;gt;
        &amp;lt;tcnative.classifier /&amp;gt;
      &amp;lt;/properties&amp;gt;
    &amp;lt;/profile&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;Why is tcnative (netty&apos;s folk of Tomcat Native) optional? It&apos;s because netty users should choose the artifact depending on their platform:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;io.netty&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;netty-tcnative&amp;lt;/artifactId&amp;gt;
      &amp;lt;version&amp;gt;2.0.0.Final&amp;lt;/version&amp;gt;
      &amp;lt;classifier&amp;gt;${os.detected.classifier}&amp;lt;/classifier&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;from&#160;&lt;a href=&quot;https://netty.io/wiki/forked-tomcat-native.html#wiki-h2-4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Netty&apos;s documentation&lt;/a&gt;.&lt;/p&gt;
&lt;h3&gt;&lt;a name=&quot;BlockHound&quot;&gt;&lt;/a&gt;BlockHound&lt;/h3&gt;

&lt;p&gt;Netty-BlockHound integration detects blocking calls. If we don&apos;t use BlockHound, then we don&apos;t need it.&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Class reactor.blockhound.integration.BlockHoundIntegration is not found, referenced from io.netty.util.internal.Hidden

Class reactor.blockhound.BlockHound$Builder is not found, referenced from io.netty.util.internal.Hidden
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://search.maven.org/artifact/io.netty/netty-common/4.1.52.Final/jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;netty-common&lt;/a&gt; declares the blockhound dependency as optional:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;io.projectreactor.tools&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;blockhound&amp;lt;/artifactId&amp;gt;
      &amp;lt;version&amp;gt;1.0.3.RELEASE&amp;lt;/version&amp;gt;
      &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;
    &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="17294806" author="suztomo" created="Wed, 3 Mar 2021 20:24:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=iemejia&quot; class=&quot;user-hover&quot; rel=&quot;iemejia&quot;&gt;iemejia&lt;/a&gt; I&apos;m going to send email about this upgrade to dev@beam.apache.org. As per &lt;a href=&quot;https://s.apache.org/beam-release-vendored-artifacts&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s.apache.org/beam-release-vendored-artifacts&lt;/a&gt;, can I nominate you as the release manager?&lt;br/&gt;
(Once I finish the &lt;a href=&quot;https://github.com/apache/beam/pull/14028&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR#14028&lt;/a&gt;. I would like the release manager to take over &quot;Build a release candidate&quot; and voting in the doc. )&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;2. Update the Beam codebase to use the vendored dependency (usually a huge but relatively straight forward PR).&lt;br/&gt;
...&lt;br/&gt;
(2) to have been tested in advance&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, before voting, let me think about how I can test the vendored guava. I think inserting few commands to install the vendored artifact locally (as in &lt;a href=&quot;https://github.com/apache/beam/pull/14028/files#diff-127a723f9b1317696bc8bcbc91190d0133ec55700142b019393f56c0cb2744e2R38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;README.md&lt;/a&gt;) for Jenkins would make it possible to confirm it without actually publishing the artifact.&lt;/p&gt;</comment>
                            <comment id="17300472" author="kenn" created="Fri, 12 Mar 2021 17:35:23 +0000"  >&lt;p&gt;I think we should get this cherrypicked into 2.29.0. How is it going?&lt;/p&gt;</comment>
                            <comment id="17300603" author="suztomo" created="Fri, 12 Mar 2021 20:50:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; Yes, it worked (&lt;a href=&quot;https://github.com/apache/beam/pull/14028#issuecomment-797568330&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;link&lt;/a&gt;). With &lt;a href=&quot;https://github.com/apache/beam/pull/14028/files#diff-c0dfa6bc7a8685217f70a860145fbdf416d449eaff052fa28352c5cec1a98c06R344&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this hack&lt;/a&gt; to install the vendored gRPC artifact to local Maven repository, the checks on the pull request runs against the new vendored artifact.&lt;/p&gt;

&lt;p&gt;I need somebody with committer permission to perform the release. Can I nominate you as a release manager?&lt;/p&gt;

&lt;p&gt;I expect the following tasks from the release manager:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Check out my branch in the &lt;a href=&quot;https://github.com/apache/beam/pull/14028&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR#14028&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Build the vendored artifact by &lt;tt&gt;./gradlew -p vendor/grpc-1_36_0 -PisRelease -PvendoredDependenciesOnly publish&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Follow the rest in &lt;a href=&quot;https://s.apache.org/beam-release-vendored-artifacts&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://s.apache.org/beam-release-vendored-artifacts&lt;/a&gt; for svn, voting, and etc.&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="17300713" author="kenn" created="Sat, 13 Mar 2021 03:58:47 +0000"  >&lt;p&gt;Yes I can do that. I will take this issue until I have completed it.&lt;/p&gt;</comment>
                            <comment id="17301691" author="suztomo" created="Mon, 15 Mar 2021 15:12:44 +0000"  >&lt;p&gt;Thank you. I&apos;ve sent an email to the dev mailing list. I&apos;m confirming &lt;a href=&quot;https://github.com/apache/beam/pull/14028&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the PR&lt;/a&gt; passes &quot;SQL Post Commit Tests&quot;, which was fixed in master this morning.&lt;/p&gt;</comment>
                            <comment id="17302338" author="iemejia" created="Tue, 16 Mar 2021 08:53:55 +0000"  >&lt;p&gt;I don&apos;t think this issue should be blocking the release because even if we release the vendored gRPC version the follow up PR to update the use of the vendored dependency on the code will still be needed and that looks like a huge (and hellish) thing to cherry pick. WDYT? Maybe we should just move the version where this will be fixed to 2.30.0&lt;/p&gt;</comment>
                            <comment id="17306254" author="suztomo" created="Mon, 22 Mar 2021 14:45:42 +0000"  >&lt;p&gt;I&apos;m ok this to be fixed in 2.30.0. (It&apos;s not blocking me)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I saw Kenn&apos;s email about the vote passed for the vendored gRPC release and &lt;a href=&quot;https://search.maven.org/artifact/org.apache.beam/beam-vendor-grpc-1_36_0/0.1/jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://search.maven.org/artifact/org.apache.beam/beam-vendor-grpc-1_36_0/0.1/jar&lt;/a&gt;&#160;is available. I&apos;ll work on the PR today.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17314029" author="suztomo" created="Fri, 2 Apr 2021 18:49:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/beam/pull/14295&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/14295&lt;/a&gt;&#160;upgraded the dependency. The vendored gRPC does not have Eclipse Jetty dependency.&lt;/p&gt;</comment>
                            <comment id="17318238" author="suztomo" created="Fri, 9 Apr 2021 19:59:42 +0000"  >&lt;p&gt;Reopening this issue as the commit was reverted, because we started observing frequent (not always) build timeouts in &quot;Java Precommit Cron&quot; (&lt;a href=&quot;https://github.com/apache/beam/pull/14466#issuecomment-815343974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;detail&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Investigation:&#160;&lt;a href=&quot;https://github.com/apache/beam/pull/14474&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/14474&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;gRPC 1.36.0&apos;s netty dependency:&#160;4.1.52.Final (Bad)&lt;/li&gt;
	&lt;li&gt;gRPC 1.34.0&apos;s netty dependency: 4.1.51.Final (Bad)&lt;/li&gt;
	&lt;li&gt;gRPC 1.32.2&apos;s netty dependency:&#160;4.1.51.Final (Good)&lt;/li&gt;
	&lt;li&gt;gRPC 1.26.0&apos;s netty dependency:&#160;4.1.42.Final (Good)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Good/Bad is from&#160;&lt;a href=&quot;https://github.com/apache/beam/pull/14295#issuecomment-806071087&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/14295#issuecomment-806071087&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17322604" author="kenn" created="Fri, 16 Apr 2021 04:15:32 +0000"  >&lt;p&gt;Thanks for the deep investigation. Is it valuable to upgrade to 1.32.2 then?&lt;/p&gt;</comment>
                            <comment id="17341936" author="suztomo" created="Mon, 10 May 2021 14:34:16 +0000"  >&lt;p&gt;(Sorry for late response) I prefer to have newer version and investigate the problem investigated further. Let me try gRPC 1.37.0 to see any improvement.&lt;/p&gt;</comment>
                            <comment id="17350603" author="heejong" created="Mon, 24 May 2021 20:08:55 +0000"  >&lt;p&gt;Looks like the upgrade was successfully merged. Can we close this now?&lt;/p&gt;</comment>
                            <comment id="17351322" author="suztomo" created="Tue, 25 May 2021 19:36:56 +0000"  >&lt;p&gt;I just marked Fixed.&lt;/p&gt;</comment>
                            <comment id="17351334" author="iemejia" created="Tue, 25 May 2021 20:07:00 +0000"  >&lt;p&gt;Thanks a lot for all your attention to this issue &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=suztomo&quot; class=&quot;user-hover&quot; rel=&quot;suztomo&quot;&gt;suztomo&lt;/a&gt; !&lt;/p&gt;</comment>
                            <comment id="17351690" author="abelmatos" created="Wed, 26 May 2021 10:47:24 +0000"  >&lt;p&gt;Hi guys,&#160;&lt;br/&gt;
The version&#160;&#160;1.36 will fix the&#160;netty dependency issue.&#160;&lt;br/&gt;
Do you guys have any information about the log4j-api issue ?&#160;&lt;br/&gt;
2.6.2 -&amp;gt; 2.8.2&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13025979/13025979_image+%2828%29.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17351798" author="iemejia" created="Wed, 26 May 2021 13:48:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=abelmatos&quot; class=&quot;user-hover&quot; rel=&quot;abelmatos&quot;&gt;abelmatos&lt;/a&gt; the issue for Beam should be covered by &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-11055&quot; title=&quot;Update log4j to version 2.14.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-11055&quot;&gt;&lt;del&gt;BEAM-11055&lt;/del&gt;&lt;/a&gt; (Notice that if you use HCatalogIO the issue might be still there because this requires a harder todo version upgrade).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13377598">BEAM-12316</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13025979" name="image (28).png" size="28880" author="abelmatos" created="Wed, 26 May 2021 10:46:42 +0000"/>
                            <attachment id="13025978" name="image (28).png" size="28880" author="abelmatos" created="Wed, 26 May 2021 10:46:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://nvd.nist.gov/vuln/detail/CVE-2020-27216]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 24 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0kgjc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>