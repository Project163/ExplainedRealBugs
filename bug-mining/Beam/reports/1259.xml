<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:00:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-7546] Portable WordCount-on-Flink Precommit is flaky - temporary folder not found.</title>
                <link>https://issues.apache.org/jira/browse/BEAM-7546</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;On a few occasions I see this test fail due to a temp directory being missing.&lt;/p&gt;

&lt;p&gt;Sample scan from &lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Cron/745/:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Cron/745/:&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://scans.gradle.com/s/3ra4xw4hqvlyw/console-log?task=:sdks:python:portableWordCountBatch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://scans.gradle.com/s/3ra4xw4hqvlyw/console-log?task=:sdks:python:portableWordCountBatch&lt;/a&gt;&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[grpc-default-executor-0] ERROR sdk_worker._execute - Error processing instruction 8. Original traceback is
Traceback (most recent call last):
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/runners/worker/sdk_worker.py&quot;, line 157, in _execute
    response = task()
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/runners/worker/sdk_worker.py&quot;, line 190, in &amp;lt;lambda&amp;gt;
    self._execute(lambda: worker.do_instruction(work), work)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/runners/worker/sdk_worker.py&quot;, line 342, in do_instruction
    request.instruction_id)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/runners/worker/sdk_worker.py&quot;, line 368, in process_bundle
    bundle_processor.process_bundle(instruction_id))
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/runners/worker/bundle_processor.py&quot;, line 589, in process_bundle
    ].process_encoded(data.data)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/runners/worker/bundle_processor.py&quot;, line 143, in process_encoded
    self.output(decoded_value)
  File &quot;apache_beam/runners/worker/operations.py&quot;, line 255, in apache_beam.runners.worker.operations.Operation.output
    def output(self, windowed_value, output_index=0):
  File &quot;apache_beam/runners/worker/operations.py&quot;, line 256, in apache_beam.runners.worker.operations.Operation.output
    cython.cast(Receiver, self.receivers[output_index]).receive(windowed_value)
  File &quot;apache_beam/runners/worker/operations.py&quot;, line 143, in apache_beam.runners.worker.operations.SingletonConsumerSet.receive
    self.consumer.process(windowed_value)
  File &quot;apache_beam/runners/worker/operations.py&quot;, line 593, in apache_beam.runners.worker.operations.DoOperation.process
    with self.scoped_process_state:
  File &quot;apache_beam/runners/worker/operations.py&quot;, line 594, in apache_beam.runners.worker.operations.DoOperation.process
    delayed_application = self.dofn_receiver.receive(o)
  File &quot;apache_beam/runners/common.py&quot;, line 778, in apache_beam.runners.common.DoFnRun
ner.receive
    self.process(windowed_value)
  File &quot;apache_beam/runners/common.py&quot;, line 784, in apache_beam.runners.common.DoFnRunner.process
    self._reraise_augmented(exn)
  File &quot;apache_beam/runners/common.py&quot;, line 851, in apache_beam.runners.common.DoFnRunner._reraise_augmented
    raise_with_traceback(new_exn)
  File &quot;apache_beam/runners/common.py&quot;, line 782, in apache_beam.runners.common.DoFnRunner.process
    return self.do_fn_invoker.invoke_process(windowed_value)
  File &quot;apache_beam/runners/common.py&quot;, line 594, in apache_beam.runners.common.PerWindowInvoker.invoke_process
    self._invoke_process_per_window(
  File &quot;apache_beam/runners/common.py&quot;, line 666, in apache_beam.runners.common.PerWindowInvoker._invoke_process_per_window
    windowed_value, self.process_method(*args_for_process))
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/io/iobase.py&quot;, line 1041, in process
    self.writer = self.sink.open_writer(init_result, str(uuid.uuid4()))
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/options/value_provider.py&quot;, line 137, in _f
    return fnc(self, *args, **kwargs)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/io/filebasedsink.py&quot;, line 185, in open_writer
    return FileBasedSinkWriter(self, os.path.join(init_result, uid) + suffix)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/io/filebasedsink.py&quot;, line 389, in __init__
    self.temp_handle = self.sink.open(temp_shard_path)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/io/textio.py&quot;, line 391, in open
    file_handle = super(_TextSink, self).open(temp_path)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/options/value_provider.py&quot;, line 137, in _f
    return fnc(self, *args, **kwargs)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/io/filebasedsink.py&quot;, line 129, in open
    return FileSystems.create(temp_path, self.mime_type, self.compression_type)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/io/filesystems.py&quot;, line 203, in create
    return file
system.create(path, mime_type, compression_type)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/io/localfilesystem.py&quot;, line 151, in create
    return self._path_open(path, &apos;wb&apos;, mime_type, compression_type)
  File &quot;/usr/local/lib/python2.7/site-packages/apache_beam/io/localfilesystem.py&quot;, line 134, in _path_open
    raw_file = open(path, mode)
RuntimeError: IOError: [Errno 2] No such file or directory: &apos;/tmp/beam-temp-py-wordcount-direct-d3ca98a287bd11e997e842010a80006f/213ae725-add1-4ded-8e9b-ee9ac1ab6fd0.py-wordcount-direct&apos; [while running &apos;write/Write/WriteImpl/WriteBundles&apos;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There is also following exception earlier.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;:sdks:python:portableWordCountBatch FAILED
INFO:root:Using latest locally built Python SDK docker image.
INFO:root:==================== &amp;lt;function lift_combiners at 0x7f63550fcf50&amp;gt; ====================
INFO:root:==================== &amp;lt;function expand_sdf at 0x7f63550f5050&amp;gt; ====================
[main] INFO org.apache.beam.runners.fnexecution.jobsubmission.JobServerDriver - ArtifactStagingService started on localhost:34803
[main] INFO org.apache.beam.runners.fnexecution.jobsubmission.JobServerDriver - Java ExpansionService started on localhost:59151
[main] INFO org.apache.beam.runners.fnexecution.jobsubmission.JobServerDriver - JobService started on localhost:57157
[grpc-default-executor-0] ERROR org.apache.beam.runners.fnexecution.jobsubmission.InMemoryJobService - Encountered Unexpected Exception for Invocation job_8dd6b809-0f47-4943-9d3e-4587db962ab9
org.apache.beam.vendor.grpc.v1p13p1.io.grpc.StatusException: NOT_FOUND
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.Status.asException(Status.java:534)
	at org.apache.beam.runners.fnexecution.jobsubmission.InMemoryJobService.getInvocation(InMemoryJobService.java:341)
	at org.apache.beam.runners.fnexecution.jobsubmission.InMemoryJobService.getStateStream(InMemoryJobService.java:262)
	at org.apache.beam.model.jobmanagement.v1.JobServiceGrpc$MethodHandlers.invoke(JobServiceGrpc.java:770)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.stub.ServerCalls$UnaryServerCallHandler$UnaryServerCallListener.onHalfClose(ServerCalls.java:171)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.PartialForwardingServerCallListener.onHalfClose(PartialForwardingServerCallListener.java:35)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.ForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:23)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.ForwardingServerCallListener$SimpleForwardingServerCallListener.onHalfClose(ForwardingServerCallListener.java:40)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.Contexts$ContextualizedServerCallListener.onHalfClose(Contexts.java:86)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.internal.ServerCallImpl$ServerStreamListenerImpl.halfClosed(ServerCallImpl.java:283)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.internal.ServerImpl$JumpToApplicationThreadServerStreamListener$1HalfClosed.runInContext(ServerImpl.java:707)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.internal.ContextRunnable.run(ContextRunnable.java:37)
	at org.apache.beam.vendor.grpc.v1p13p1.io.grpc.internal.SerializingExecutor.run(SerializingExecutor.java:123)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)
	at java.lang.Thread.run(Thread.java:748)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13239097">BEAM-7546</key>
            <summary>Portable WordCount-on-Flink Precommit is flaky - temporary folder not found.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="angoenka">Ankur Goenka</assignee>
                                    <reporter username="tvalentyn">Valentyn Tymofieiev</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Jun 2019 17:47:15 +0000</created>
                <updated>Sat, 16 May 2020 14:02:48 +0000</updated>
                            <resolved>Tue, 13 Aug 2019 19:01:16 +0000</resolved>
                                                    <fixVersion>2.15.0</fixVersion>
                                    <component>runner-flink</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="16862312" author="tvalentyn" created="Wed, 12 Jun 2019 17:48:13 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=angoenka&quot; class=&quot;user-hover&quot; rel=&quot;angoenka&quot;&gt;angoenka&lt;/a&gt;, is this something you can take a look or triage? Thanks.&lt;br/&gt;
cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mxm&quot; class=&quot;user-hover&quot; rel=&quot;mxm&quot;&gt;mxm&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robertwb&quot; class=&quot;user-hover&quot; rel=&quot;robertwb&quot;&gt;robertwb&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=altay&quot; class=&quot;user-hover&quot; rel=&quot;altay&quot;&gt;altay&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16863383" author="tvalentyn" created="Thu, 13 Jun 2019 19:00:25 +0000"  >&lt;p&gt;Happened again: &lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Commit/4155/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Commit/4155/consoleFull&lt;/a&gt; &lt;br/&gt;
cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lcwik&quot; class=&quot;user-hover&quot; rel=&quot;lcwik&quot;&gt;lcwik&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16865772" author="udim" created="Mon, 17 Jun 2019 16:58:27 +0000"  >&lt;p&gt;Again here as well: &lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Phrase/225/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Phrase/225/consoleFull&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16865836" author="tvalentyn" created="Mon, 17 Jun 2019 18:04:33 +0000"  >&lt;p&gt;Another flake: &lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Commit/4194/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Commit/4194/consoleFull&lt;/a&gt; , also noticed this message in the log in addition to the messages above:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;WARN org.apache.beam.runners.fnexecution.environment.DockerCommand - Unable to pull docker image jenkins-docker-apache.bintray.io/beam/python:latest, cause: Received exit code 1 for command &apos;docker pull jenkins-docker-apache.bintray.io/beam/python:latest&apos;. stderr: Error response from daemon: unknown: Repo &apos;apache&apos; was not found.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16865997" author="angoenka" created="Mon, 17 Jun 2019 21:18:08 +0000"  >&lt;p&gt;The warning is harmless. We can ignore it.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The error seems to be because we use docker environment to run this test. It is very likely that we kill a docker container and start a new one in Batch mode. As we use local file systems which is associated with docker container, the file system also gets deleted.&lt;/p&gt;

&lt;p&gt;To mitigate this problem we added a 10s environment cache which seems to be insufficient or not working.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16868034" author="ardagan" created="Wed, 19 Jun 2019 21:45:58 +0000"  >&lt;p&gt;Another repro:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Cron/801/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PreCommit_Portable_Python_Cron/801/consoleFull&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16905575" author="markflyhigh" created="Mon, 12 Aug 2019 20:45:58 +0000"  >&lt;p&gt;&lt;del&gt;Happened again recently in &lt;a href=&quot;https://builds.apache.org/view/A-D/view/Beam/view/PostCommit/job/beam_PreCommit_Portable_Python_Cron/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;beam_PreCommit_Portable_Python_Cron&lt;/a&gt; (e.g. &lt;a href=&quot;https://builds.apache.org/view/A-D/view/Beam/view/PostCommit/job/beam_PreCommit_Portable_Python_Cron/1015/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/A-D/view/Beam/view/PostCommit/job/beam_PreCommit_Portable_Python_Cron/1015/&lt;/a&gt;)&lt;/del&gt;&lt;/p&gt;

&lt;p&gt;The error looks similar but actually not the same. I&apos;ll file a separate jira to track that.&lt;/p&gt;</comment>
                            <comment id="16906531" author="angoenka" created="Tue, 13 Aug 2019 19:00:37 +0000"  >&lt;p&gt;Shall we close this issue as its not happening any more?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z03oc8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>