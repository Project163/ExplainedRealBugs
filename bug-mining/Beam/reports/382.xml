<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:45:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-2734] Dataflow ValidatesRunner broken at HEAD</title>
                <link>https://issues.apache.org/jira/browse/BEAM-2734</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/view/Beam/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/Beam/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Last stable build (#3567), 23 days ago&lt;/p&gt;

&lt;p&gt;We need to fix this.&lt;/p&gt;

&lt;p&gt;One of the issues is something I broke recently myself: SplittableDoFnTest is broken due to serialization incompatibility by &lt;a href=&quot;https://github.com/apache/beam/pull/3649&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3649&lt;/a&gt; which slightly changed that BoundedToUnboundedSourceAdapter class, which changed its serialVersionUID. I don&apos;t know why this is so fragile - we should also fix the fact that it is so fragile.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13092635">BEAM-2734</key>
            <summary>Dataflow ValidatesRunner broken at HEAD</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="jkff">Eugene Kirpichov</assignee>
                                    <reporter username="jkff">Eugene Kirpichov</reporter>
                        <labels>
                    </labels>
                <created>Fri, 4 Aug 2017 23:32:17 +0000</created>
                <updated>Fri, 24 Jul 2020 20:13:03 +0000</updated>
                            <resolved>Thu, 25 Jan 2018 20:24:45 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>runner-dataflow</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16115114" author="jkff" created="Fri, 4 Aug 2017 23:43:48 +0000"  >&lt;p&gt;Another issue is also something I broke with &lt;a href=&quot;https://github.com/apache/beam/pull/3360&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3360&lt;/a&gt; because I forgot to rebuild and release the Dataflow worker after the changes to runners-core in that PR.&lt;/p&gt;

&lt;p&gt;All failing tests are :&lt;/p&gt;

&lt;p&gt; org.apache.beam.sdk.transforms.SplittableDoFnTest.testSideInput&lt;br/&gt;
 org.apache.beam.sdk.transforms.SplittableDoFnTest.testAdditionalOutput&lt;br/&gt;
 org.apache.beam.sdk.transforms.SplittableDoFnTest.testLifecycleMethods&lt;br/&gt;
 org.apache.beam.sdk.transforms.SplittableDoFnTest.testPairWithIndexWindowedTimestamped&lt;br/&gt;
 org.apache.beam.sdk.transforms.SplittableDoFnTest.testOutputAfterCheckpoint&lt;br/&gt;
 org.apache.beam.sdk.transforms.SplittableDoFnTest.testPairWithIndexBasic&lt;/p&gt;

&lt;p&gt; org.apache.beam.sdk.metrics.MetricsTest.testUnboundedSourceMetrics&lt;br/&gt;
 org.apache.beam.sdk.metrics.MetricsTest.testBoundedSourceMetrics&lt;br/&gt;
 org.apache.beam.sdk.metrics.MetricsTest.testAttemptedCounterMetrics&lt;br/&gt;
 org.apache.beam.sdk.transforms.windowing.WindowTest.testMergingCustomWindows&lt;br/&gt;
 org.apache.beam.sdk.transforms.windowing.WindowTest.testMergingCustomWindowsKeyedCollection&lt;/p&gt;</comment>
                            <comment id="16115125" author="githubbot" created="Fri, 4 Aug 2017 23:51:10 +0000"  >&lt;p&gt;GitHub user jkff opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3693&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3693&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2734&quot; title=&quot;Dataflow ValidatesRunner broken at HEAD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2734&quot;&gt;&lt;del&gt;BEAM-2734&lt;/del&gt;&lt;/a&gt; Unbreaks some Dataflow ValidatesRunner tests&lt;/p&gt;

&lt;p&gt;    This is a partial revert of &lt;a href=&quot;https://github.com/apache/beam/pull/3649&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3649&lt;/a&gt;, changing UnboundedReadFromBoundedSource to be identical to the version before that PR.&lt;/p&gt;

&lt;p&gt;    The Source is serialized in the pipeline and deserialized on the worker using the worker&apos;s different (fixed per-worker) version of runners-core-construction so the serialVersionUID has to match.&lt;/p&gt;

&lt;p&gt;    This Source does not declare a serialVersionUID, so one is computed by the JVM automatically, and in practice that means the class needs to be completely identical.&lt;/p&gt;

&lt;p&gt;    The current PR is a quick emergency fix. The right solution is I suppose to declare a serialVersionUID for everything serializable in runners-core-construction, or to make the worker not contain a fixed version of runners-core-construction (not sure if it&apos;s feasible) - but it&apos;s outside the scope of this PR.&lt;/p&gt;

&lt;p&gt;    R: @tgroh &lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/jkff/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jkff/incubator-beam&lt;/a&gt; unbreak-serialization&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3693.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3693.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3693&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit fc0c3c00613ab6524d621353ea44b5fb0646bcfa&lt;br/&gt;
Author: Eugene Kirpichov &amp;lt;kirpichov@google.com&amp;gt;&lt;br/&gt;
Date:   2017-08-04T23:46:42Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2734&quot; title=&quot;Dataflow ValidatesRunner broken at HEAD&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2734&quot;&gt;&lt;del&gt;BEAM-2734&lt;/del&gt;&lt;/a&gt; Unbreaks some Dataflow ValidatesRunner tests&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16115254" author="githubbot" created="Sat, 5 Aug 2017 03:37:55 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3693&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3693&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16339823" author="jkff" created="Thu, 25 Jan 2018 20:24:45 +0000"  >&lt;p&gt;This was fixed a while ago.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ig7b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>