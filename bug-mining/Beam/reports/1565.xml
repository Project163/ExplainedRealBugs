<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:05:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-9065] Spark runner accumulates metrics (incorrectly) between runs</title>
                <link>https://issues.apache.org/jira/browse/BEAM-9065</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;When pipeline.run() is called, MetricsAccumulator (wrapper of MetricsContainerStepMap spark accumulator) is initialized. Spark needs this class to be a singleton for failover. The problem is that when several pipelines are run inside the same JVM, the initialization of&#160;MetricsAccumulator singleton does not reset the underlying spark accumulator&#160; causing metrics to be accumulated between runs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13278128">BEAM-9065</key>
            <summary>Spark runner accumulates metrics (incorrectly) between runs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="10722" iconUrl="https://issues.apache.org/jira/images/icons/statuses/generic.png" description="">Triage Needed</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="echauchot">Etienne Chauchot</assignee>
                                    <reporter username="echauchot">Etienne Chauchot</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Jan 2020 10:28:36 +0000</created>
                <updated>Thu, 13 Apr 2023 10:59:08 +0000</updated>
                            <resolved>Mon, 27 Jan 2020 20:15:24 +0000</resolved>
                                                    <fixVersion>2.19.0</fixVersion>
                                    <component>runner-spark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9000">2.5h</timespent>
                                <comments>
                            <comment id="17011100" author="udim" created="Thu, 9 Jan 2020 00:40:51 +0000"  >&lt;p&gt;2.18.0 has been cut 5 weeks ago. Let&apos;s push this fix to 2.19.0 and this as a Known Issue to the release notes.&lt;/p&gt;</comment>
                            <comment id="17011875" author="echauchot" created="Thu, 9 Jan 2020 14:24:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=udim&quot; class=&quot;user-hover&quot; rel=&quot;udim&quot;&gt;udim&lt;/a&gt; If 2.18 is not released when the patch is ready I prefer that it is cherry picked to 2.18&lt;/p&gt;

&lt;p&gt;Also I&apos;m still investigating in the precise environment to reproduce this observed behavior so it might not come before 2.19&lt;/p&gt;</comment>
                            <comment id="17017450" author="boyuanz" created="Thu, 16 Jan 2020 20:16:00 +0000"  >&lt;p&gt;Hey, just wanna let you know that 2.19.0 release branch has been cut. If any changes applied to 2.19.0, please cherry-pick it into release branch.&lt;/p&gt;</comment>
                            <comment id="17020486" author="boyuanz" created="Tue, 21 Jan 2020 18:52:13 +0000"  >&lt;p&gt;Hey Etienne, I&apos;m going to move this  into 2.20.0 release. Please let me know if a cherry-pick into 2.19.0 release is needed.&lt;/p&gt;</comment>
                            <comment id="17020913" author="echauchot" created="Wed, 22 Jan 2020 09:22:16 +0000"  >&lt;p&gt;Hey ! Yes, no problem, no hurry, we are still waiting to reproduce the failure in a UTest&lt;/p&gt;</comment>
                            <comment id="17024551" author="boyuanz" created="Mon, 27 Jan 2020 18:27:59 +0000"  >&lt;p&gt;Can we mark this issue as resolved?&lt;/p&gt;</comment>
                            <comment id="17024634" author="iemejia" created="Mon, 27 Jan 2020 20:15:42 +0000"  >&lt;p&gt;Done, thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=boyuanz&quot; class=&quot;user-hover&quot; rel=&quot;boyuanz&quot;&gt;boyuanz&lt;/a&gt; !&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310660">
                    <name>Completes</name>
                                            <outwardlinks description="fixes">
                                        <issuelink>
            <issuekey id="13077255">BEAM-2409</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13230241">BEAM-7156</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0aals:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>