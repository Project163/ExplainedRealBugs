<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:23:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-14072] XVR_PythonUsingJava_Dataflow and XVR_PythonUsingJavaSQL_Dataflow failing due to a timeout</title>
                <link>https://issues.apache.org/jira/browse/BEAM-14072</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;First failures:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_XVR_PythonUsingJava_Dataflow/144/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_XVR_PythonUsingJava_Dataflow/144/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://ci-beam.apache.org/job/beam_PostCommit_XVR_PythonUsingJavaSQL_Dataflow/138/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-beam.apache.org/job/beam_PostCommit_XVR_PythonUsingJavaSQL_Dataflow/138/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13432739">BEAM-14072</key>
            <summary>XVR_PythonUsingJava_Dataflow and XVR_PythonUsingJavaSQL_Dataflow failing due to a timeout</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="SteveNiemitz">Steve Niemitz</assignee>
                                    <reporter username="chamikara">Chamikara Madhusanka Jayalath</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Mar 2022 03:16:52 +0000</created>
                <updated>Tue, 15 Mar 2022 16:18:19 +0000</updated>
                            <resolved>Tue, 15 Mar 2022 16:18:19 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>cross-language</component>
                    <component>test-failures</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="9000">2.5h</timespent>
                                <comments>
                            <comment id="17503271" author="chamikara" created="Wed, 9 Mar 2022 03:17:10 +0000"  >&lt;p&gt;Testing a revert: &lt;a href=&quot;https://github.com/apache/beam/pull/17049&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/17049&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17503706" author="chamikara" created="Wed, 9 Mar 2022 16:28:05 +0000"  >&lt;p&gt;Revert confirms that &lt;a href=&quot;https://github.com/apache/beam/pull/16998&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/16998&lt;/a&gt; is the culprit.&lt;/p&gt;</comment>
                            <comment id="17503715" author="chamikara" created="Wed, 9 Mar 2022 16:35:57 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=SteveNiemitz&quot; class=&quot;user-hover&quot; rel=&quot;SteveNiemitz&quot;&gt;SteveNiemitz&lt;/a&gt; assigning to you since &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-13993&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/BEAM-13993&lt;/a&gt; is assigned to you.&lt;/p&gt;</comment>
                            <comment id="17503717" author="steveniemitz" created="Wed, 9 Mar 2022 16:39:27 +0000"  >&lt;p&gt;Yeah I saw this last night, do you have any more context on the failures?&#160; I can&apos;t view the dataflow jobs (I assume?) so I can&apos;t see why they&apos;re failing (or hanging?)&lt;/p&gt;</comment>
                            <comment id="17503724" author="steveniemitz" created="Wed, 9 Mar 2022 16:52:06 +0000"  >&lt;p&gt;Or I guess alternatively how can I run this on my own (in my own GCP project?)&lt;/p&gt;</comment>
                            <comment id="17503837" author="chamikara" created="Wed, 9 Mar 2022 20:44:31 +0000"  >&lt;p&gt;I tried running a job from HEAD but couldn&apos;t reproduce that way.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://pantheon.corp.google.com/dataflow/jobs/us-central1/2022-03-09_12_28_37-7536018425747630121?project=apache-beam-testing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pantheon.corp.google.com/dataflow/jobs/us-central1/2022-03-09_12_28_37-7536018425747630121?project=apache-beam-testing&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But you should be able to reproduce by triggering the test suite.&lt;/p&gt;

&lt;p&gt;Could we revert the PR for now since this could hide other critical bugs ?&lt;/p&gt;</comment>
                            <comment id="17503842" author="chamikara" created="Wed, 9 Mar 2022 20:51:21 +0000"  >&lt;p&gt;Mentioning the instructions in case you want to try a single job.&lt;/p&gt;

&lt;p&gt;I ran the example here: &lt;a href=&quot;https://github.com/apache/beam/tree/master/examples/multi-language&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/tree/master/examples/multi-language&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;But you need to override containers to run from HEAD.&lt;/p&gt;

&lt;p&gt;export PROJECT=&amp;lt;PROJECT&amp;gt;&lt;br/&gt;
export DOCKER_ROOT=&amp;lt;DOCKER_ROOT&amp;gt;&lt;br/&gt;
export GCS_BUCKET=&amp;lt;BUCKET&amp;gt;&lt;br/&gt;
export REGION=&quot;us-central1&quot;&lt;br/&gt;
export JOB_NAME=&quot;wordcount-xlang-`date +%Y%m%d-%H%M%S`&quot;&lt;br/&gt;
export NUM_WORKERS=&quot;1&quot;&lt;br/&gt;
export JAVA_CONTAINER_NAME=$DOCKER_ROOT/beam_java11_sdk:latest&lt;br/&gt;
export PYTHON_CONTAINER_NAME=$DOCKER_ROOT/beam_python3.7_sdk:latest&lt;br/&gt;
export PYTHON_DISTRIBUTION=&amp;lt;PYTHON DIST&amp;gt;&lt;/p&gt;

&lt;p&gt;./gradlew :sdks:java:container:java11:docker -Pdocker-repository-root=$DOCKER_ROOT -Pdocker-tag=latest&lt;br/&gt;
docker push $DOCKER_ROOT/beam_java11_sdk:latest&lt;/p&gt;

&lt;p&gt;./gradlew :sdks:python:container:py37:docker -Pdocker-repository-root=$DOCKER_ROOT -Pdocker-tag=latest&lt;br/&gt;
docker push $DOCKER_ROOT/beam_python3.7_sdk:latest&lt;/p&gt;

&lt;p&gt;In Shell 1:&lt;br/&gt;
java -jar examples/multi-language/build/libs/beam-examples-multi-language-2.38.0-SNAPSHOT.jar 12345&lt;/p&gt;

&lt;p&gt;In Shell 2:&lt;br/&gt;
python addprefix.py \&lt;br/&gt;
      --runner DataflowRunner \&lt;br/&gt;
      --temp_location &quot;$GCS_BUCKET/javaprefix/temp&quot; \&lt;br/&gt;
      --project $PROJECT \&lt;br/&gt;
      --region $REGION \&lt;br/&gt;
      --job_name $JOB_NAME \&lt;br/&gt;
      --num_workers $NUM_WORKERS \&lt;br/&gt;
      --input &quot;gs://dataflow-samples/shakespeare/kinglear.txt&quot; \&lt;br/&gt;
      --output &quot;$GCS_BUCKET/javaprefix/output&quot; \&lt;br/&gt;
      --expansion_service_port 12345 \&lt;br/&gt;
      --sdk_location $PYTHON_DISTRIBUTION \&lt;br/&gt;
      --sdk_container_image ${PYTHON_CONTAINER_NAME} \&lt;br/&gt;
      --sdk_harness_container_image_overrides &quot;.&lt;b&gt;java.&lt;/b&gt;,${JAVA_CONTAINER_NAME}&quot;&lt;/p&gt;


</comment>
                            <comment id="17505101" author="JIRAUSER285712" created="Fri, 11 Mar 2022 19:57:28 +0000"  >&lt;p&gt;Ran the integration test suite by making some changes to the build files to allow them to run with our GCP setup.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-sh&quot;&gt;
./gradlew -Pdocker-pull-licenses -PpythonVersion=3.7 -PdataflowProject=twttr-udp-e2e-jobs-prod :runners:google-cloud-dataflow-java:validatesCrossLanguageRunnerPythonUsingJava
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The job ran with the following beam plugins,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
--beam_plugins=&apos;apache_beam.io.filesystem.FileSystem, apache_beam.io.hadoopfilesystem.HadoopFileSystem, apache_beam.io.localfilesystem.LocalFileSystem, apache_beam.io.gcp.gcsfilesystem.GCSFileSystem, apache_beam.io.aws.s3filesystem.S3FileSystem, apache_beam.io.azure.blobstoragefilesystem.BlobStorageFileSystem, apache_beam.io.filesystem_test.TestingFileSystem, apache_beam.runners.portability.sdk_container_builder.SdkContainerImageBuilder, apache_beam.runners.portability.sdk_container_builder._SdkContainerImageLocalBuilder, apache_beam.runners.portability.sdk_container_builder._SdkContainerImageCloudBuilder, apache_beam.runners.interactive.display.pipeline_graph_renderer.PipelineGraphRenderer, apache_beam.runners.interactive.display.pipeline_graph_renderer.MuteRenderer, apache_beam.runners.interactive.display.pipeline_graph_renderer.TextRenderer, apache_beam.runners.interactive.display.pipeline_graph_renderer.PydotRenderer
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and failed with the following error,&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 Traceback (most recent call last): &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;/usr/local/lib/python3.7/site-packages/apache_beam/runners/worker/sdk_worker_main.py&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 55, in _import_beam_plugins &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 importlib.import_module(plugin) &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;/usr/local/lib/python3.7/importlib/__init__.py&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 127, in import_module &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; _bootstrap._gcd_import(name[level:], &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;, level) &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 1006, in _gcd_import &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 983, in _find_and_load &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 953, in _find_and_load_unlocked &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 219, in _call_with_frames_removed &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 1006, in _gcd_import &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 983, in _find_and_load &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 967, in _find_and_load_unlocked &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 677, in _load_unlocked &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap_external&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 728, in exec_module &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;&amp;lt;frozen importlib._bootstrap&amp;gt;&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 219, in _call_with_frames_removed &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 File &quot;&lt;/span&gt;/usr/local/lib/python3.7/site-packages/apache_beam/io/filesystem_test.py&lt;span class=&quot;code-quote&quot;&gt;&quot;, line 34, in &amp;lt;module&amp;gt; &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 from parameterized &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; param &quot;&lt;/span&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;2022/03/11 03:53:04 ModuleNotFoundError: No module named &lt;span class=&quot;code-quote&quot;&gt;&apos;parameterized&apos;&lt;/span&gt; &quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Apache Beam SDK does not ship with test packages aka &lt;tt&gt;parameterized&lt;/tt&gt; and hence the import fails. With the fix of ignoring the module if the import fails with a warning message seems to pass the integration tests.&lt;/p&gt;</comment>
                            <comment id="17507031" author="chamikara" created="Tue, 15 Mar 2022 16:18:04 +0000"  >&lt;p&gt;Thanks for the quick fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 34 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z10ax4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>