<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:59:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-2943] Non-existing fileToStage results in ClassNotFoundException</title>
                <link>https://issues.apache.org/jira/browse/BEAM-2943</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I followed the guide &lt;a href=&quot;https://beam.apache.org/get-started/quickstart-java/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://beam.apache.org/get-started/quickstart-java/&lt;/a&gt; to run beam program within a flink cluster. &lt;/p&gt;

&lt;p&gt;The output of the dependency-command is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn dependency:tree -Pflink-runner |grep flink                                                                              
[INFO] \- org.apache.beam:beam-runners-flink_2.10:jar:2.1.0:runtime
[INFO]    +- org.apache.flink:flink-clients_2.10:jar:1.3.0:runtime
[INFO]    |  +- org.apache.flink:flink-optimizer_2.10:jar:1.3.0:runtime
[INFO]    |  \- org.apache.flink:force-shading:jar:1.3.0:runtime
[INFO]    +- org.apache.flink:flink-core:jar:1.3.0:runtime
[INFO]    |  +- org.apache.flink:flink-annotations:jar:1.3.0:runtime
[INFO]    +- org.apache.flink:flink-metrics-core:jar:1.3.0:runtime
[INFO]    +- org.apache.flink:flink-java:jar:1.3.0:runtime
[INFO]    |  +- org.apache.flink:flink-shaded-hadoop2:jar:1.3.0:runtime
[INFO]    +- org.apache.flink:flink-runtime_2.10:jar:1.3.0:runtime
[INFO]    +- org.apache.flink:flink-streaming-java_2.10:jar:1.3.0:runtime
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then I started the flink cluster with the correct version with docker-compose&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;export JOB_MANAGER_RPC_ADDRESS=[HOST_IP]
export FLINK_DOCKER_IMAGE_NAME=flink:1.3.0-hadoop27-scala_2.10

docker-compose up -d
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The compose file looks like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;version: &lt;span class=&quot;code-quote&quot;&gt;&apos;3.3&apos;&lt;/span&gt;
services:
  jobmanager:
    image: ${FLINK_DOCKER_IMAGE_NAME:-flink}
    expose:
      - &lt;span class=&quot;code-quote&quot;&gt;&quot;6123&quot;&lt;/span&gt;
    ports:
      - &lt;span class=&quot;code-quote&quot;&gt;&quot;6123:6123&quot;&lt;/span&gt;
      - &lt;span class=&quot;code-quote&quot;&gt;&quot;8081:8081&quot;&lt;/span&gt;
    volumes:
      - /tmp:/tmp
    command: jobmanager
    environment:
      - JOB_MANAGER_RPC_ADDRESS=[HOST_IP]

  taskmanager:
    image: ${FLINK_DOCKER_IMAGE_NAME:-flink}
    expose:
      - &lt;span class=&quot;code-quote&quot;&gt;&quot;6121&quot;&lt;/span&gt;
      - &lt;span class=&quot;code-quote&quot;&gt;&quot;6122&quot;&lt;/span&gt;
    depends_on:
      - jobmanager
    command: taskmanager
    environment:
      - JOB_MANAGER_RPC_ADDRESS=[HOST_IP]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The flink cluster works, but when I execute &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn exec:java -Dexec.mainClass=org.apache.beam.examples.WordCount \
    -Pflink-runner \
    -Dexec.args=&quot;--runner=FlinkRunner \
      --inputFile=pom.xml \
      --output=/path/to/counts \
      --flinkMaster=[HOST_IP]:6123 \
      --filesToStage=target/word-count-beam-bundled-0.1.jar&quot;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I get:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;2017-09-12 06:39:57,226 INFO  org.apache.flink.runtime.jobmanager.JobManager                - Submitting job a913f922506053e65e732eeb8336b3bd (wordcount-grg-0912063956-c7ea6199).
2017-09-12 06:39:57,227 INFO  org.apache.flink.runtime.jobmanager.JobManager                - Using restart strategy NoRestartStrategy &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; a913f922506053e65e732eeb8336b3bd.
2017-09-12 06:39:57,227 INFO  org.apache.flink.runtime.executiongraph.ExecutionGraph        - Job recovers via failover strategy: full graph restart
2017-09-12 06:39:57,229 INFO  org.apache.flink.runtime.jobmanager.JobManager                - Running initialization on master &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; job wordcount-grg-0912063956-c7ea6199 (a913f922506053e65e732eeb8336b3bd).
2017-09-12 06:39:57,230 ERROR org.apache.flink.runtime.jobmanager.JobManager                - Failed to submit job a913f922506053e65e732eeb8336b3bd (wordcount-grg-0912063956-c7ea6199)
org.apache.flink.runtime.client.JobExecutionException: Cannot initialize task &lt;span class=&quot;code-quote&quot;&gt;&apos;DataSource (at Read(CompressedSource) (org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat))&apos;&lt;/span&gt;: Deserializing the InputFormat (org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat@58e7a91a) failed: Could not read the user code wrapper: org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat
	at org.apache.flink.runtime.executiongraph.ExecutionGraphBuilder.buildGraph(ExecutionGraphBuilder.java:153)
	at org.apache.flink.runtime.jobmanager.JobManager.org$apache$flink$runtime$jobmanager$JobManager$$submitJob(JobManager.scala:1315)
	at org.apache.flink.runtime.jobmanager.JobManager$$anonfun$handleMessage$1.applyOrElse(JobManager.scala:495)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply$mcVL$sp(AbstractPartialFunction.scala:33)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:33)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:25)
	at org.apache.flink.runtime.LeaderSessionMessageFilter$$anonfun$receive$1.applyOrElse(LeaderSessionMessageFilter.scala:38)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply$mcVL$sp(AbstractPartialFunction.scala:33)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:33)
	at scala.runtime.AbstractPartialFunction$mcVL$sp.apply(AbstractPartialFunction.scala:25)
	at org.apache.flink.runtime.LogMessages$$anon$1.apply(LogMessages.scala:33)
	at org.apache.flink.runtime.LogMessages$$anon$1.apply(LogMessages.scala:28)
	at scala.PartialFunction$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;applyOrElse(PartialFunction.scala:118)
	at org.apache.flink.runtime.LogMessages$$anon$1.applyOrElse(LogMessages.scala:28)
	at akka.actor.Actor$&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;aroundReceive(Actor.scala:467)
	at org.apache.flink.runtime.jobmanager.JobManager.aroundReceive(JobManager.scala:125)
	at akka.actor.ActorCell.receiveMessage(ActorCell.scala:516)
	at akka.actor.ActorCell.invoke(ActorCell.scala:487)
	at akka.dispatch.Mailbox.processMailbox(Mailbox.scala:238)
	at akka.dispatch.Mailbox.run(Mailbox.scala:220)
	at akka.dispatch.ForkJoinExecutorConfigurator$AkkaForkJoinTask.exec(AbstractDispatcher.scala:397)
	at scala.concurrent.forkjoin.ForkJoinTask.doExec(ForkJoinTask.java:260)
	at scala.concurrent.forkjoin.ForkJoinPool$WorkQueue.runTask(ForkJoinPool.java:1339)
	at scala.concurrent.forkjoin.ForkJoinPool.runWorker(ForkJoinPool.java:1979)
	at scala.concurrent.forkjoin.ForkJoinWorkerThread.run(ForkJoinWorkerThread.java:107)
Caused by: java.lang.Exception: Deserializing the InputFormat (org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat@58e7a91a) failed: Could not read the user code wrapper: org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat
	at org.apache.flink.runtime.jobgraph.InputFormatVertex.initializeOnMaster(InputFormatVertex.java:66)
	at org.apache.flink.runtime.executiongraph.ExecutionGraphBuilder.buildGraph(ExecutionGraphBuilder.java:150)
	... 24 more
Caused by: org.apache.flink.runtime.operators.util.CorruptConfigurationException: Could not read the user code wrapper: org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat
	at org.apache.flink.runtime.operators.util.TaskConfig.getStubWrapper(TaskConfig.java:290)
	at org.apache.flink.runtime.jobgraph.InputFormatVertex.initializeOnMaster(InputFormatVertex.java:63)
	... 25 more
Caused by: java.lang.ClassNotFoundException: org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat
	at java.net.URLClassLoader.findClass(URLClassLoader.java:381)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:424)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.loadClass(&lt;span class=&quot;code-object&quot;&gt;ClassLoader&lt;/span&gt;.java:357)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName0(Native Method)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:348)
	at org.apache.flink.util.InstantiationUtil$ClassLoaderObjectInputStream.resolveClass(InstantiationUtil.java:64)
	at java.io.ObjectInputStream.readNonProxyDesc(ObjectInputStream.java:1826)
	at java.io.ObjectInputStream.readClassDesc(ObjectInputStream.java:1713)
	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2000)
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)
	at java.io.ObjectInputStream.defaultReadFields(ObjectInputStream.java:2245)
	at java.io.ObjectInputStream.readSerialData(ObjectInputStream.java:2169)
	at java.io.ObjectInputStream.readOrdinaryObject(ObjectInputStream.java:2027)
	at java.io.ObjectInputStream.readObject0(ObjectInputStream.java:1535)
	at java.io.ObjectInputStream.readObject(ObjectInputStream.java:422)
	at org.apache.flink.util.InstantiationUtil.deserializeObject(InstantiationUtil.java:290)
	at org.apache.flink.util.InstantiationUtil.readObjectFromConfig(InstantiationUtil.java:248)
	at org.apache.flink.runtime.operators.util.TaskConfig.getStubWrapper(TaskConfig.java:288)
	... 26 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Debian 9.1 / 4.9.0-3-amd64 #1 SMP Debian 4.9.30-2+deb9u3 (2017-08-06) x86_64 GNU/Linux&lt;br/&gt;
</environment>
        <key id="13101545">BEAM-2943</key>
            <summary>Non-existing fileToStage results in ClassNotFoundException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10103" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">P3</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mxm">Maximilian Michels</assignee>
                                    <reporter username="guenhter">Guenther Grill</reporter>
                        <labels>
                            <label>flink</label>
                    </labels>
                <created>Tue, 12 Sep 2017 06:54:42 +0000</created>
                <updated>Sat, 16 May 2020 13:19:52 +0000</updated>
                            <resolved>Tue, 4 Jun 2019 10:17:05 +0000</resolved>
                                    <version>2.1.0</version>
                                    <fixVersion>2.14.0</fixVersion>
                                    <component>runner-flink</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>9</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="16166276" author="aljoscha" created="Thu, 14 Sep 2017 13:08:27 +0000"  >&lt;p&gt;Could you verify that &lt;tt&gt;org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat&lt;/tt&gt; is in the jar file? I just want to rule out the easy cases but it could still be a more involved problem.&lt;/p&gt;</comment>
                            <comment id="16166404" author="guenhter" created="Thu, 14 Sep 2017 14:57:07 +0000"  >&lt;p&gt;I double checked it, by looking into the &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;target/word-count-beam-bundled-0.1.jar&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; file. The class is there.&lt;/p&gt;</comment>
                            <comment id="16345099" author="grzegorz_kolakowski" created="Tue, 30 Jan 2018 14:25:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=guenhter&quot; class=&quot;user-hover&quot; rel=&quot;guenhter&quot;&gt;guenhter&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I tried to reproduce your problem and eventually I managed to observe the same exception.&lt;/p&gt;

&lt;p&gt;The key question is how you built the project? You didn&apos;t mention it in the description but it turned out to be a crucial step.&lt;/p&gt;

&lt;p&gt;The class &lt;tt&gt;org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat&lt;/tt&gt; is a part of &lt;tt&gt;org.apache.beam:beam-runners-flink_2.10&lt;/tt&gt; dependency, which is included into uber-jar only if the &lt;tt&gt;flink-runner&lt;/tt&gt; profile is used. I guess you just simply run &lt;tt&gt;mvn package&lt;/tt&gt; instead of &lt;tt&gt;mvn package -Pflink-runner&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16350790" author="guenhter" created="Fri, 2 Feb 2018 18:42:06 +0000"  >&lt;p&gt;As far as I can remember, I just followed the instructions under&#160;&lt;a href=&quot;https://beam.apache.org/get-started/quickstart-java/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://beam.apache.org/get-started/quickstart-java/&lt;/a&gt;&#160; where the library was built via&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; exec:java -Dexec.mainClass=org.apache.beam.examples.WordCount \ -Dexec.args=&lt;span class=&quot;code-quote&quot;&gt;&quot;--runner=FlinkRunner --flinkMaster=&amp;lt;flink master&amp;gt; --filesToStage=target/word-count-beam-bundled-0.1.jar \ --inputFile=/path/to/quickstart/pom.xml --output=/tmp/counts&quot;&lt;/span&gt; -Pflink-runner&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16709050" author="adrishdas" created="Tue, 4 Dec 2018 17:57:15 +0000"  >&lt;p&gt;The error is caused by wrong path or filename in &quot;filesToStage&quot; argument. Note the correct jar file name from &quot;target&quot; folder and specify in the argument.&lt;/p&gt;

&lt;p&gt;Correct filename: (1) word-count-beam-bundled-0.1.jar; OR (2)&#160;&quot;word-count-beam-0.1-shaded.jar&quot; (with version 2.8.0).&#160;Both work fine in the argument.&lt;/p&gt;

&lt;p&gt;Mvn package build process creates the above 2 files - first the fat jar then the shaded version.&#160;&#160;&lt;/p&gt;

&lt;p&gt;As of now, flink runner Quickstart guide at&#160;&lt;a href=&quot;https://beam.apache.org/documentation/runners/flink/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://beam.apache.org/documentation/runners/flink/&lt;/a&gt;&#160;page wrongly guides to use&lt;/p&gt;

&lt;p&gt;&quot;-&lt;tt&gt;filesToStage=target/word-count-beam&lt;/tt&gt;&lt;tt&gt;-bundled-0.1.jar&lt;/tt&gt;&quot;&lt;/p&gt;</comment>
                            <comment id="16717670" author="mxm" created="Tue, 11 Dec 2018 18:05:57 +0000"  >&lt;p&gt;Thanks for the info &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=adrishdas&quot; class=&quot;user-hover&quot; rel=&quot;adrishdas&quot;&gt;adrishdas&lt;/a&gt;. Verified that this is caused by the typo. Will fix and then close this issue.&lt;/p&gt;</comment>
                            <comment id="16718756" author="mxm" created="Wed, 12 Dec 2018 10:39:39 +0000"  >&lt;p&gt;The Flink Runner page has been updated.&lt;/p&gt;</comment>
                            <comment id="16777948" author="marcojk" created="Tue, 26 Feb 2019 14:14:27 +0000"  >&lt;p&gt;Hi!&lt;/p&gt;

&lt;p&gt;I&apos;m still getting the error &lt;b&gt;&quot;java.lang.ClassNotFoundException: org.apache.beam.runners.flink.translation.wrappers.SourceInputFormat&quot;&lt;/b&gt;&#160;exactly as describe above but with the Beam version 2.10.0 when running in a Flink 1.7.0 standalone cluster.&lt;/p&gt;

&lt;p&gt;My Flink dependency tree is (please, note I&apos;m using beam-runners-flink-1.7 as &lt;a href=&quot;https://beam.apache.org/documentation/runners/flink/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://beam.apache.org/documentation/runners/flink/&lt;/a&gt;&#160;page recommends):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn dependency:tree -Pflink-runner |grep flink
[INFO] \- org.apache.beam:beam-runners-flink-1.7:jar:2.10.0:runtime
[INFO] +- org.apache.flink:flink-clients_2.11:jar:1.7.1:runtime
[INFO] | +- org.apache.flink:flink-optimizer_2.11:jar:1.7.1:runtime
[INFO] | \- org.apache.flink:force-shading:jar:1.7.1:runtime
[INFO] +- org.apache.flink:flink-core:jar:1.7.1:runtime
[INFO] | +- org.apache.flink:flink-annotations:jar:1.7.1:runtime
[INFO] | +- org.apache.flink:flink-shaded-asm:jar:5.0.4-5.0:runtime
[INFO] +- org.apache.flink:flink-metrics-core:jar:1.7.1:runtime
[INFO] +- org.apache.flink:flink-java:jar:1.7.1:runtime
[INFO] +- org.apache.flink:flink-runtime_2.11:jar:1.7.1:runtime
[INFO] | +- org.apache.flink:flink-queryable-state-client-java_2.11:jar:1.7.1:runtime
[INFO] | +- org.apache.flink:flink-hadoop-fs:jar:1.7.1:runtime
[INFO] | +- org.apache.flink:flink-shaded-netty:jar:4.1.24.Final-5.0:runtime
[INFO] | +- org.apache.flink:flink-shaded-guava:jar:18.0-5.0:runtime
[INFO] | +- org.apache.flink:flink-shaded-jackson:jar:2.7.9-5.0:runtime
[INFO] \- org.apache.flink:flink-streaming-java_2.11:jar:1.7.1:runtime
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;And I run the program with the following maven command:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
mvn &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; exec:java -Dexec.mainClass=org.apache.beam.examples.WordCount -Dexec.args=&lt;span class=&quot;code-quote&quot;&gt;&quot;--runner=FlinkRunner --flinkMaster=&amp;lt;master-host&amp;gt; --filesToStage=target/word-count-beam-bundled-0.1.jar --inputFile=/tmp/input.dat --output=/tmp/counts&quot;&lt;/span&gt; -Pflink-runner
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Surprisingly, If I submit the bundled jar directly from the Job Manager Dashboard Web interface, everything works fine.&#160;&lt;/p&gt;

&lt;p&gt;Can anyone, please, tell if I&apos;m doing something wrong or if this is really a bug?&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="16778229" author="mxm" created="Tue, 26 Feb 2019 17:36:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marcojk&quot; class=&quot;user-hover&quot; rel=&quot;marcojk&quot;&gt;marcojk&lt;/a&gt; Are you sure that the file &lt;tt&gt;target/word-count-beam-bundled-0.1.jar&lt;/tt&gt; exists?&lt;/p&gt;</comment>
                            <comment id="16778248" author="marcojk" created="Tue, 26 Feb 2019 17:50:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mxm&quot; class=&quot;user-hover&quot; rel=&quot;mxm&quot;&gt;mxm&lt;/a&gt; thanks!&lt;/p&gt;

&lt;p&gt;You&apos;re correct! I&apos;ve slightly changed the pom&apos;s artifact name (added a v2 for a test) and forgot to reflect this change in the maven command line... Thanks a lot!&lt;/p&gt;

&lt;p&gt;PS: In such cases, it would be great if Beam gives the developer a FileNotFoundException instead of a ClassNotFoundException.&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16779140" author="mxm" created="Wed, 27 Feb 2019 10:55:17 +0000"  >&lt;p&gt;Yeah you&apos;re right, we should check if `filesToStage` contains valid files.&lt;/p&gt;</comment>
                            <comment id="16779141" author="mxm" created="Wed, 27 Feb 2019 10:57:08 +0000"  >&lt;p&gt;Reopened and modified the issue title.&lt;/p&gt;</comment>
                            <comment id="16802117" author="kenn" created="Tue, 26 Mar 2019 20:04:12 +0000"  >&lt;p&gt;Does this block 2.12.0? It seems nice, but maybe not a critical bug.&lt;/p&gt;</comment>
                            <comment id="16802738" author="mxm" created="Wed, 27 Mar 2019 12:49:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; Not a blocked. Removed the Fix Version.&lt;/p&gt;</comment>
                            <comment id="16855544" author="mxm" created="Tue, 4 Jun 2019 10:17:45 +0000"  >&lt;p&gt;Fixed via &lt;a href=&quot;https://github.com/apache/beam/pull/8744&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/8744&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 24 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3jy6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>