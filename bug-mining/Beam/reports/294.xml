<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:44:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-1723] FlinkRunner should deduplicate when an UnboundedSource requires Deduping</title>
                <link>https://issues.apache.org/jira/browse/BEAM-1723</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;UnboundedSource implementations can require deduping, and the FlinkRunner currently logs a warning that this is not supported.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/beam/blob/master/runners/flink/runner/src/main/java/org/apache/beam/runners/flink/translation/wrappers/streaming/io/UnboundedSourceWrapper.java#L139&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/master/runners/flink/runner/src/main/java/org/apache/beam/runners/flink/translation/wrappers/streaming/io/UnboundedSourceWrapper.java#L139&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13056138">BEAM-1723</key>
            <summary>FlinkRunner should deduplicate when an UnboundedSource requires Deduping</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aljoscha">Aljoscha Krettek</assignee>
                                    <reporter username="tgroh">Thomas Groh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Mar 2017 00:47:17 +0000</created>
                <updated>Fri, 24 Jul 2020 20:20:02 +0000</updated>
                            <resolved>Tue, 9 May 2017 04:19:14 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>runner-flink</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15959226" author="lzljs3620320" created="Thu, 6 Apr 2017 16:26:06 +0000"  >&lt;p&gt;I see &lt;tt&gt;CachedIdDeduplicator&lt;/tt&gt; in direct runner. It use &lt;tt&gt;LoadingCache&lt;/tt&gt; to dedup. The expireAfterAccess is 10 minutes and the maximumSize is 100_000. Do these two values need to be parameterized?&lt;/p&gt;

&lt;p&gt;Do these caches need be snapshotted in flink runner?  (Fault tolerance)&lt;/p&gt;</comment>
                            <comment id="15959390" author="kenn" created="Thu, 6 Apr 2017 17:36:42 +0000"  >&lt;p&gt;The caches do need to be fault-tolerant or you&apos;ll get dupes.&lt;/p&gt;

&lt;p&gt;It is simplest to have no configuration, but hard to say. I think there could be some discussion here. The deduplication window is really about the potential for re-delivery of a message, not like allowed lateness at all.&lt;/p&gt;

&lt;p&gt;For example, in &lt;tt&gt;PubsubIO&lt;/tt&gt; duplicates occur when output is committed but &lt;tt&gt;finalizeCheckpoint&lt;/tt&gt; does not succeed at ACKing all messages. Then Pubsub will redeliver the message.&lt;/p&gt;</comment>
                            <comment id="15962077" author="lzljs3620320" created="Sun, 9 Apr 2017 09:11:12 +0000"  >&lt;p&gt;I understand. The reason for the duplication is that &lt;tt&gt;PubSubIO&lt;/tt&gt; use Pull-Ack model, &lt;tt&gt;acknowledge()&lt;/tt&gt; in &lt;tt&gt;finalizeCheckpoint()&lt;/tt&gt; may be fail, while Kafka use offset to restore.&lt;/p&gt;</comment>
                            <comment id="15962125" author="lzljs3620320" created="Sun, 9 Apr 2017 12:20:40 +0000"  >&lt;p&gt;I think it is necessary to be configurable because the deduplication window is related to the checkpoint interval.&lt;/p&gt;</comment>
                            <comment id="15962136" author="githubbot" created="Sun, 9 Apr 2017 13:19:54 +0000"  >&lt;p&gt;GitHub user JingsongLi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2476&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2476&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1723&quot; title=&quot;FlinkRunner should deduplicate when an UnboundedSource requires Deduping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1723&quot;&gt;&lt;del&gt;BEAM-1723&lt;/del&gt;&lt;/a&gt; deduplication of UnboundedSource in Flink runner&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`. (Even better, enable&lt;br/&gt;
           Travis-CI on your fork and ensure the whole test matrix passes).&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/JingsongLi/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/JingsongLi/beam&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1723&quot; title=&quot;FlinkRunner should deduplicate when an UnboundedSource requires Deduping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1723&quot;&gt;&lt;del&gt;BEAM-1723&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2476.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2476.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2476&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2dc6ea51bb60f8f4beb397bc7179e1829be30d77&lt;br/&gt;
Author: JingsongLi &amp;lt;lzljs3620320@aliyun.com&amp;gt;&lt;br/&gt;
Date:   2017-04-09T13:16:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1723&quot; title=&quot;FlinkRunner should deduplicate when an UnboundedSource requires Deduping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1723&quot;&gt;&lt;del&gt;BEAM-1723&lt;/del&gt;&lt;/a&gt; deduplication of UnboundedSource in Flink runner&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16001239" author="githubbot" created="Mon, 8 May 2017 18:18:24 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2476&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2476&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16001252" author="kenn" created="Mon, 8 May 2017 18:24:00 +0000"  >&lt;p&gt;For things targeting 2.0.0 we should keep them open until they are merged to release-2.0.0 I think.&lt;/p&gt;</comment>
                            <comment id="16001428" author="githubbot" created="Mon, 8 May 2017 19:45:54 +0000"  >&lt;p&gt;GitHub user aljoscha opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2959&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2959&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1723&quot; title=&quot;FlinkRunner should deduplicate when an UnboundedSource requires Deduping&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1723&quot;&gt;&lt;del&gt;BEAM-1723&lt;/del&gt;&lt;/a&gt; deduplication of UnboundedSource in Flink runner&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/aljoscha/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/aljoscha/beam&lt;/a&gt; cherry-pick-1723&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2959.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2959.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2959&lt;/p&gt;

&lt;hr /&gt;

&lt;hr /&gt;</comment>
                            <comment id="16001431" author="aljoscha" created="Mon, 8 May 2017 19:46:42 +0000"  >&lt;p&gt;That sound good! I opened a PR: &lt;a href=&quot;https://github.com/apache/beam/pull/2959&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2959&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16002003" author="aljoscha" created="Tue, 9 May 2017 04:19:14 +0000"  >&lt;p&gt;Closing for good, now that it&apos;s on the release-2.0.0 branch as well.&lt;/p&gt;</comment>
                            <comment id="16002004" author="githubbot" created="Tue, 9 May 2017 04:19:29 +0000"  >&lt;p&gt;Github user aljoscha closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2959&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2959&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 28 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ca07:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>