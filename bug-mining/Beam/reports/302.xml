<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:44:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-2095] The hasNext method of the iterator returned by SourceRDD#compute is not idempotent</title>
                <link>https://issues.apache.org/jira/browse/BEAM-2095</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;When reading an Avro from HDFS with the new HDFSFileSource, we experience the following exceptions:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;17/04/27 11:48:38 ERROR executor.Executor: Exception in task 2.0 in stage 1.0 (TID 32)
java.util.NoSuchElementException
	at com.gfk.hyperlane.engine.target_group_evaluation.dataset.HDFSFileSource$HDFSFileReader.getCurrent(HDFSFileSource.java:498)
	at org.apache.beam.runners.spark.io.SourceRDD$Bounded$1.next(SourceRDD.java:142)
	at org.apache.beam.runners.spark.io.SourceRDD$Bounded$1.next(SourceRDD.java:111)
	at scala.collection.convert.Wrappers$JIteratorWrapper.next(Wrappers.scala:42)
	at org.apache.spark.InterruptibleIterator.next(InterruptibleIterator.scala:43)
	at scala.collection.Iterator$$anon$12.next(Iterator.scala:357)
	at org.apache.spark.InterruptibleIterator.next(InterruptibleIterator.scala:43)
	at scala.collection.convert.Wrappers$IteratorWrapper.next(Wrappers.scala:30)
	at org.apache.beam.runners.spark.translation.SparkProcessContext$ProcCtxtIterator.computeNext(SparkProcessContext.java:165)
	at org.apache.beam.spark.repackaged.com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:145)
	at org.apache.beam.spark.repackaged.com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:140)
	at org.apache.beam.runners.spark.translation.SparkProcessContext$ProcCtxtIterator.computeNext(SparkProcessContext.java:162)
	at org.apache.beam.spark.repackaged.com.google.common.collect.AbstractIterator.tryToComputeNext(AbstractIterator.java:145)
	at org.apache.beam.spark.repackaged.com.google.common.collect.AbstractIterator.hasNext(AbstractIterator.java:140)
	at org.apache.beam.runners.spark.translation.SparkProcessContext.processPartition(SparkProcessContext.java:64)
	at org.apache.beam.runners.spark.translation.DoFnFunction.call(DoFnFunction.java:105)
	at org.apache.beam.runners.spark.translation.DoFnFunction.call(DoFnFunction.java:48)
	at org.apache.spark.api.java.JavaRDDLike$$anonfun$fn$4$1.apply(JavaRDDLike.scala:159)
	at org.apache.spark.api.java.JavaRDDLike$$anonfun$fn$4$1.apply(JavaRDDLike.scala:159)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1$$anonfun$apply$20.apply(RDD.scala:710)
	at org.apache.spark.rdd.RDD$$anonfun$mapPartitions$1$$anonfun$apply$20.apply(RDD.scala:710)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.rdd.MapPartitionsRDD.compute(MapPartitionsRDD.scala:38)
	at org.apache.spark.rdd.RDD.computeOrReadCheckpoint(RDD.scala:306)
	at org.apache.spark.rdd.RDD.iterator(RDD.scala:270)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:73)
	at org.apache.spark.scheduler.ShuffleMapTask.runTask(ShuffleMapTask.scala:41)
	at org.apache.spark.scheduler.Task.run(Task.scala:89)
	at org.apache.spark.executor.Executor$TaskRunner.run(Executor.scala:214)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:745)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The error comes from a call to BoundedReader#getCurrent after it has been closed.&lt;/p&gt;

&lt;p&gt;We logged the following call patterns:&lt;br/&gt;
(for data)&lt;br/&gt;
  advance&lt;br/&gt;
  getCurrent&lt;br/&gt;
(when drained)&lt;br/&gt;
advance&lt;br/&gt;
  close&lt;br/&gt;
getCurrent&lt;/p&gt;

&lt;p&gt;The issue probably comes from the implementation in SourceRDD &lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/beam/blob/3101e69c438d5c42577fc7d3476d623f6e551837/runners/spark/src/main/java/org/apache/beam/runners/spark/io/SourceRDD.java#L145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/3101e69c438d5c42577fc7d3476d623f6e551837/runners/spark/src/main/java/org/apache/beam/runners/spark/io/SourceRDD.java#L145&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A repeated call to hasNext will result in repeated calls of advance. This results in a data loss and may return different results. In particular, it may cause the issue as observed.&lt;/p&gt;

&lt;p&gt;The usual solution is to use hasNext() to already retrieve and cache the next element if cache empty and return and reset the cache in next().&lt;/p&gt;</description>
                <environment></environment>
        <key id="13067351">BEAM-2095</key>
            <summary>The hasNext method of the iterator returned by SourceRDD#compute is not idempotent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="staslev">Stas Levin</assignee>
                                    <reporter username="arvid">Arvid Heise</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Apr 2017 12:31:42 +0000</created>
                <updated>Tue, 22 Jun 2021 14:06:37 +0000</updated>
                            <resolved>Fri, 12 May 2017 19:34:32 +0000</resolved>
                                    <version>0.6.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>runner-spark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15994352" author="githubbot" created="Wed, 3 May 2017 06:43:14 +0000"  >&lt;p&gt;GitHub user staslev opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2854&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2854&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2095&quot; title=&quot;The hasNext method of the iterator returned by SourceRDD#compute is not idempotent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2095&quot;&gt;&lt;del&gt;BEAM-2095&lt;/del&gt;&lt;/a&gt; Made SourceRDD hasNext idempotent&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`.&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/staslev/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/staslev/beam&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2095&quot; title=&quot;The hasNext method of the iterator returned by SourceRDD#compute is not idempotent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2095&quot;&gt;&lt;del&gt;BEAM-2095&lt;/del&gt;&lt;/a&gt;-SourceRDD-hasNext-not-idempotent&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2854.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2854.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2854&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 0cc5b42b4df24261ded37066a3e6e11a4103a938&lt;br/&gt;
Author: Stas Levin &amp;lt;staslevin@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-05-01T04:30:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2095&quot; title=&quot;The hasNext method of the iterator returned by SourceRDD#compute is not idempotent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2095&quot;&gt;&lt;del&gt;BEAM-2095&lt;/del&gt;&lt;/a&gt; Made SourceRDD hasNext idempotent&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16002197" author="githubbot" created="Tue, 9 May 2017 07:10:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2854&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2854&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16002206" author="staslev" created="Tue, 9 May 2017 07:22:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arvid+heise&quot; class=&quot;user-hover&quot; rel=&quot;arvid heise&quot;&gt;arvid heise&lt;/a&gt; this fix is currently in the master branch and will make its way to version &lt;tt&gt;2.1.0&lt;/tt&gt; (or perhaps even &lt;tt&gt;2.0&lt;/tt&gt; if we manage to confirm it).&lt;/p&gt;

&lt;p&gt;Since you seem to be on top of it, I was wondering if you&apos;d be willing to run your app against the master and let me know if the problem persists.&lt;/p&gt;

&lt;p&gt;-Stas&lt;/p&gt;</comment>
                            <comment id="16006268" author="arvid" created="Thu, 11 May 2017 11:29:46 +0000"  >&lt;p&gt;Hi Stas,&lt;/p&gt;

&lt;p&gt;I have been using 0.6.0 so far and I&apos;m probably not able to port everything to 2.0.0 just now (not sure how much has changed, but a major probably means a lot of work).&lt;/p&gt;

&lt;p&gt;Is it possible to use the spark-runner 2.0.0 with the beam API from 0.6.0? Then I could give it a go.&lt;/p&gt;

&lt;p&gt;Thx Arvid&lt;/p&gt;</comment>
                            <comment id="16006299" author="staslev" created="Thu, 11 May 2017 12:00:56 +0000"  >&lt;p&gt;Hi Arvid,&lt;/p&gt;

&lt;p&gt;Sorry I did not provide any context here.&lt;/p&gt;

&lt;p&gt;I was hoping you&apos;d be willing to check your issue against the &lt;tt&gt;master&lt;/tt&gt; branch, which is where this fix is merged to at the moment. &lt;br/&gt;
Regarding your concern, I&apos;m not sure if there were any API breaking changes between &lt;tt&gt;0.6&lt;/tt&gt; and &lt;tt&gt;master&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;The motivation here is that if this fix does indeed resolve the problem you reported, we can make an effort to get it in for version &lt;tt&gt;2.0.0&lt;/tt&gt; (a.k.a, stable release) which is being worked on as we speak.&lt;/p&gt;

&lt;p&gt;Also, just to make sure, &lt;tt&gt;Beam 2.0.0&lt;/tt&gt; does not imply &lt;tt&gt;spark-runner&lt;/tt&gt; is migrating to &lt;tt&gt;Spark 2.0.0&lt;/tt&gt;, for now it keeps building upon &lt;tt&gt;Spark 1.6.3&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="16008319" author="lcwik" created="Fri, 12 May 2017 16:14:53 +0000"  >&lt;p&gt;Cherry-picked into the release.&lt;/p&gt;</comment>
                            <comment id="16008322" author="githubbot" created="Fri, 12 May 2017 16:20:17 +0000"  >&lt;p&gt;GitHub user lukecwik opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3119&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3119&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Cherry pick #2854: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2095&quot; title=&quot;The hasNext method of the iterator returned by SourceRDD#compute is not idempotent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2095&quot;&gt;&lt;del&gt;BEAM-2095&lt;/del&gt;&lt;/a&gt; Made SourceRDD.Bounded iterator&apos;s hasNext idempotent&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`.&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/lukecwik/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lukecwik/incubator-beam&lt;/a&gt; cp2854&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3119.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3119.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3119&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 56262d8f3064031606e01801eb36322cb3a38b95&lt;br/&gt;
Author: Davor Bonaci &amp;lt;davor@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-05T22:53:46Z&lt;/p&gt;

&lt;p&gt;    Update version number from 0.7.0-SNAPSHOT to 2.0.0-SNAPSHOT&lt;/p&gt;

&lt;p&gt;commit 1a77e208e440ef34b7d0f7e1104d5c8c5ee04474&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-05T23:32:54Z&lt;/p&gt;

&lt;p&gt;    This cherry-picks #2926&lt;/p&gt;

&lt;p&gt;commit b9c8cfe227d7a6bcb258b93717969a78a31dac07&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T00:24:12Z&lt;/p&gt;

&lt;p&gt;    This closes #2932&lt;/p&gt;

&lt;p&gt;commit d2fa51b78892f7ebf13da1a5fc7bb45755440a5f&lt;br/&gt;
Author: Davor Bonaci &amp;lt;davor@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-05T23:17:43Z&lt;/p&gt;

&lt;p&gt;    Cherry-pick pull request #2911 into release-2.0.0&lt;/p&gt;

&lt;p&gt;commit 67ea7ae4d2144525582c7de03b17d06daa9f35bb&lt;br/&gt;
Author: Davor Bonaci &amp;lt;davor@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-05T23:20:28Z&lt;/p&gt;

&lt;p&gt;    Cherry-pick pull request #2907 into release-2.0.0 branch&lt;/p&gt;

&lt;p&gt;commit 96aeb97cc41b4a93bec7d72cff4887e9f358eef2&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T00:26:41Z&lt;/p&gt;

&lt;p&gt;    This closes #2931&lt;/p&gt;

&lt;p&gt;commit 1ad3f84c68235eeae6927f283180829de2f0aa33&lt;br/&gt;
Author: Davor Bonaci &amp;lt;davor@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T00:36:09Z&lt;/p&gt;

&lt;p&gt;    Set Dataflow runner&apos;s worker container image for version 2.0.0&lt;/p&gt;

&lt;p&gt;commit f97e52b3b677a5a35bac7a2012366837b7bb15cb&lt;br/&gt;
Author: Davor Bonaci &amp;lt;davor@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T01:46:31Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;maven-release-plugin&amp;#93;&lt;/span&gt; prepare release v2.0.0-RC1&lt;/p&gt;

&lt;p&gt;commit 3b7a62301fba55f3caf68d8876b39c53e80f171a&lt;br/&gt;
Author: Davor Bonaci &amp;lt;davor@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-07T02:16:30Z&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;maven-release-plugin&amp;#93;&lt;/span&gt; rollback changes from release preparation of v2.0.0-RC1&lt;/p&gt;

&lt;p&gt;commit a71f6cd481800a977022ce8cddce5ef9640bbe4e&lt;br/&gt;
Author: Kenneth Knowles &amp;lt;klk@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T12:13:34Z&lt;/p&gt;

&lt;p&gt;    Register the TestDataflowRunner via registrar&lt;/p&gt;

&lt;p&gt;commit d305d6d382179c2eadd77dac3c603d73f65c80e4&lt;br/&gt;
Author: Kenneth Knowles &amp;lt;klk@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T12:22:03Z&lt;/p&gt;

&lt;p&gt;    Move TestDataflowRunner into dataflow package&lt;/p&gt;

&lt;p&gt;commit 6eab5c9465bda3da4d8a1ea9f73a74e9c8faec85&lt;br/&gt;
Author: chinmaykolhatkar &amp;lt;chinmay@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-03-01T11:29:46Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-831&quot; title=&quot;ParDo Chaining&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-831&quot;&gt;&lt;del&gt;BEAM-831&lt;/del&gt;&lt;/a&gt; ParDo Fusion of Apex Runner&lt;/p&gt;

&lt;p&gt;commit 3f5282d515fa53516fda6d0376cc912560fd6d85&lt;br/&gt;
Author: Thomas Weise &amp;lt;thw@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-05-05T13:45:34Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-831&quot; title=&quot;ParDo Chaining&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-831&quot;&gt;&lt;del&gt;BEAM-831&lt;/del&gt;&lt;/a&gt; Fix chaining, add test.&lt;br/&gt;
    closes #2216&lt;/p&gt;

&lt;p&gt;commit bec30b3beaa241483814e859d781f1e04479394b&lt;br/&gt;
Author: Ahmet Altay &amp;lt;altay@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T06:31:42Z&lt;/p&gt;

&lt;p&gt;    Cherry-pick pull request #2946 in 2.0.0 release branch.&lt;br/&gt;
    Fix typo in datastore_wordcount.py.&lt;/p&gt;

&lt;p&gt;commit 021468e03e5a5b0851e21f333ebc07060dc471cd&lt;br/&gt;
Author: Ahmet Altay &amp;lt;altay@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T17:25:40Z&lt;/p&gt;

&lt;p&gt;    This closes #2955&lt;/p&gt;

&lt;p&gt;commit 72241117cbf2d9682054a69ea895e4c6f6a93146&lt;br/&gt;
Author: Sourabh Bajaj &amp;lt;sourabhbajaj@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-07T20:55:20Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2206&quot; title=&quot;Move pipeline options into separate package from beam/utils&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2206&quot;&gt;&lt;del&gt;BEAM-2206&lt;/del&gt;&lt;/a&gt; Move pipelineOptions into options modules&lt;/p&gt;

&lt;p&gt;commit c4f234c8cfb349d877eeb5c62eec7d80e844be07&lt;br/&gt;
Author: Sourabh Bajaj &amp;lt;sourabhbajaj@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T01:08:49Z&lt;/p&gt;

&lt;p&gt;    Only cythonize files within apache_beam&lt;/p&gt;

&lt;p&gt;commit 741bf7442d88a9e30064bd132046e5db55e7a740&lt;br/&gt;
Author: Ahmet Altay &amp;lt;altay@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T21:02:54Z&lt;/p&gt;

&lt;p&gt;    This closes #2964&lt;/p&gt;

&lt;p&gt;commit 25cda3abb0f6442f02ab6f31f0a4850be66d09d9&lt;br/&gt;
Author: Sourabh Bajaj &amp;lt;sourabhbajaj@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T02:15:48Z&lt;/p&gt;

&lt;p&gt;    Update python dataflow worker&lt;/p&gt;

&lt;p&gt;commit 265405bc85f9f705776e88680e3af26fab4e7de3&lt;br/&gt;
Author: Ahmet Altay &amp;lt;altay@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T21:06:17Z&lt;/p&gt;

&lt;p&gt;    This closes #2943&lt;/p&gt;

&lt;p&gt;commit e0faeeef80211ddbc632e622ecefc1e005c5ca29&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T02:06:03Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2212&quot; title=&quot;ValueProvider-ification of core transforms makes logs and errors worse&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2212&quot;&gt;&lt;del&gt;BEAM-2212&lt;/del&gt;&lt;/a&gt; FileBasedSource: improve message when logging.&lt;/p&gt;

&lt;p&gt;    ValueProvider should not be printed, rather the string instead.&lt;/p&gt;

&lt;p&gt;commit bff819a9858c79c6c3232b4c03f262421d325c00&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T16:59:16Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2212&quot; title=&quot;ValueProvider-ification of core transforms makes logs and errors worse&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2212&quot;&gt;&lt;del&gt;BEAM-2212&lt;/del&gt;&lt;/a&gt; FileBasedSource: refactor to remove uses of fileOrPatternSpec.get()&lt;/p&gt;

&lt;p&gt;    Makes it less likely to have errors from printing ValueProviders instead of runtime values&lt;/p&gt;

&lt;p&gt;commit 94d104064cc0e209fa54dd63f4cbe99cd6f2d591&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T21:15:48Z&lt;/p&gt;

&lt;p&gt;    This closes #2958&lt;/p&gt;

&lt;p&gt;commit 4ec11de1a8b876a8263c95c21b7ce830fb4e962b&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T00:16:34Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2190&quot; title=&quot;User depending on IO-GCP still gets a dependency on protobuf-lite&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2190&quot;&gt;&lt;del&gt;BEAM-2190&lt;/del&gt;&lt;/a&gt; pom.xml: do a better job of dependency management&lt;/p&gt;

&lt;p&gt;    Even if Beam appears to have the correct dependencies, we cannot&lt;br/&gt;
    guarantee that modules that depend on us transitively get the right&lt;br/&gt;
    dependencies. For example, even though grpc-protobuf-lite has&lt;br/&gt;
    protobuf-lite excluded, and the Maven Enforcer banned-dependencies&lt;br/&gt;
    check passes... if a user happens to get a transitive dependency on&lt;br/&gt;
    grpc-all first, they may pull in grpc-protobuf from that other source&lt;br/&gt;
    without the exclusion. Thus we need to exclude protobuf-lite from&lt;br/&gt;
    grpc-all as well.&lt;/p&gt;

&lt;p&gt;    While we&apos;re here, also add guava-jdk5 to the set of banned dependencies,&lt;br/&gt;
    though (as above) we cannot currently properly identify the places it&lt;br/&gt;
    might be transitively exposed in a users&apos; pom.xml.&lt;/p&gt;

&lt;p&gt;commit 58e2db06144abc463988284c06d553ad85dd43e2&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T21:26:13Z&lt;/p&gt;

&lt;p&gt;    This closes #2957&lt;/p&gt;

&lt;p&gt;commit 469f177a52664ab4389f8929eb52f2ed04529ec9&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-06T02:49:29Z&lt;/p&gt;

&lt;p&gt;    Convert Executor Services to use Daemon Threads&lt;/p&gt;

&lt;p&gt;    This will cause the DirectRunner to automatically shut down when the&lt;br/&gt;
    worker threads are shut down.&lt;/p&gt;

&lt;p&gt;commit 20bfa9411b9b77c6678c17ed465249c3dc4b210d&lt;br/&gt;
Author: Thomas Groh &amp;lt;tgroh@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T21:36:35Z&lt;/p&gt;

&lt;p&gt;    This closes #2961&lt;/p&gt;

&lt;p&gt;commit 7dfc45563825b04f761af07d1cd5ae43ec38588b&lt;br/&gt;
Author: Kenneth Knowles &amp;lt;klk@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T22:35:15Z&lt;/p&gt;

&lt;p&gt;    This closes #2952: Cherry pick #2927 (Apex ParDo chaining) to release-2.0.0&lt;/p&gt;

&lt;p&gt;      &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-831&quot; title=&quot;ParDo Chaining&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-831&quot;&gt;&lt;del&gt;BEAM-831&lt;/del&gt;&lt;/a&gt; Fix chaining, add test. closes #2216&lt;br/&gt;
      &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-831&quot; title=&quot;ParDo Chaining&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-831&quot;&gt;&lt;del&gt;BEAM-831&lt;/del&gt;&lt;/a&gt; ParDo Fusion of Apex Runner&lt;/p&gt;

&lt;p&gt;commit 40bdbcb28d5507c601d0791059c3f6ac9581a8f8&lt;br/&gt;
Author: Eugene Kirpichov &amp;lt;kirpichov@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T20:41:01Z&lt;/p&gt;

&lt;p&gt;    This closes #2953&lt;/p&gt;

&lt;p&gt;commit 8f18344329d3af5882886a50a841d01062d408ef&lt;br/&gt;
Author: Eugene Kirpichov &amp;lt;kirpichov@google.com&amp;gt;&lt;br/&gt;
Date:   2017-05-08T23:06:15Z&lt;/p&gt;

&lt;p&gt;    This closes #2970: Cherry pick #2953 to release-2.0.0&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16008324" author="githubbot" created="Fri, 12 May 2017 16:20:41 +0000"  >&lt;p&gt;Github user lukecwik closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3119&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3119&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16008326" author="githubbot" created="Fri, 12 May 2017 16:21:36 +0000"  >&lt;p&gt;GitHub user lukecwik opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3120&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Cherry pick #2854: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2095&quot; title=&quot;The hasNext method of the iterator returned by SourceRDD#compute is not idempotent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2095&quot;&gt;&lt;del&gt;BEAM-2095&lt;/del&gt;&lt;/a&gt; Made SourceRDD.Bounded iterator&apos;s hasNext idempotent&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`.&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/lukecwik/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/lukecwik/incubator-beam&lt;/a&gt; cp2854&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3120.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3120.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #3120&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 538c6bf0d4cad186eed575e686918775fd50d9e6&lt;br/&gt;
Author: Stas Levin &amp;lt;staslevin@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-05-01T04:30:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2095&quot; title=&quot;The hasNext method of the iterator returned by SourceRDD#compute is not idempotent&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2095&quot;&gt;&lt;del&gt;BEAM-2095&lt;/del&gt;&lt;/a&gt; Made SourceRDD hasNext idempotent&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16008601" author="githubbot" created="Fri, 12 May 2017 19:34:02 +0000"  >&lt;p&gt;Github user lukecwik closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/3120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/3120&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16008603" author="lcwik" created="Fri, 12 May 2017 19:34:32 +0000"  >&lt;p&gt;Was cherry picked into release 2.0.0 branch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 27 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3e6kf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>