<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:52:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-5779] Failure in beam_PostCommit_Python_Verify PubSubIntegrationTest on Dataflow</title>
                <link>https://issues.apache.org/jira/browse/BEAM-5779</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Python_Verify/6296/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Python_Verify/6296/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Path to failure:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(Jenkins) beam_PostCommit_Python_Verify&lt;/li&gt;
	&lt;li&gt;(gradle) :beam-sdks-python:postCommitITTests&lt;/li&gt;
	&lt;li&gt;(py module) test_streaming_data_only&lt;/li&gt;
	&lt;li&gt;(test class) apache_beam.io.gcp.pubsub_integration_test.PubSubIntegrationTest&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
AssertionError: 
Expected: (Test pipeline expected terminated in state: RUNNING and Expected 2 messages.)
     but: Expected 2 messages. Got 0 messages. Diffs (item, count):
  Expected but not in actual: [(&lt;span class=&quot;code-quote&quot;&gt;&apos;data002-seen&apos;&lt;/span&gt;, 1), (&lt;span class=&quot;code-quote&quot;&gt;&apos;data001-seen&apos;&lt;/span&gt;, 1)]
  Unexpected: []
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Looks like a legitimate failure. It is flakey as it went green later.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13192317">BEAM-5779</key>
            <summary>Failure in beam_PostCommit_Python_Verify PubSubIntegrationTest on Dataflow</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="udim">Udi Meiri</assignee>
                                    <reporter username="kenn">Kenneth Knowles</reporter>
                        <labels>
                            <label>flake</label>
                    </labels>
                <created>Wed, 17 Oct 2018 17:16:22 +0000</created>
                <updated>Sat, 16 May 2020 14:05:48 +0000</updated>
                            <resolved>Fri, 21 Dec 2018 19:31:59 +0000</resolved>
                                                    <fixVersion>Not applicable</fixVersion>
                                    <component>sdk-py-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3600">1h</timespent>
                                <comments>
                            <comment id="16656977" author="kenn" created="Fri, 19 Oct 2018 15:50:30 +0000"  >&lt;p&gt;Another at &lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Python_Verify/6317/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Python_Verify/6317/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16657012" author="udim" created="Fri, 19 Oct 2018 16:16:03 +0000"  >&lt;p&gt;The log from 6317 shows TestDataflowRunner attempting to cancel the job at about 17:27:40 (expected since streaming jobs never end).&lt;br/&gt;
However, the job is still starting up and fails at 17:28:07 with the message:&lt;/p&gt;

&lt;p&gt;Workflow failed. Causes: Step &quot;setup_resource_projects/apache-beam-testing/subscriptions/psit_subscription_input1a6def20-8a5b-4de7-a10b-609290f545b4_&lt;em&gt;df_internale53817409a1b9ef015&quot; failed., Step setup_resource_projects/apache-beam-testing/subscriptions/psit_subscription_input1a6def20-8a5b-4de7-a10b-609290f545b4&lt;/em&gt;&lt;em&gt;df_internale53817409a1b9ef015: Set up of resource projects/apache-beam-testing/subscriptions/psit_subscription_input1a6def20-8a5b-4de7-a10b-609290f545b4&lt;/em&gt;_df_internale53817409a1b9ef0 failed, Getting metadata for pubsub subscription projects/apache-beam-testing/subscriptions/psit_subscription_input1a6def20-8a5b-4de7-a10b-609290f545b4 failed with error: Resource not found (resource=psit_subscription_input1a6def20-8a5b-4de7-a10b-609290f545b4).&lt;/p&gt;

&lt;p&gt;I believe increasing TEST_PIPELINE_DURATION_MS will fix the flakiness, which affects how long we wait for the pipeline to complete.&lt;br/&gt;
I think I set it aggressively low at 30s, while streaming_wordcount_it_test uses 3m.&lt;/p&gt;</comment>
                            <comment id="16657063" author="kenn" created="Fri, 19 Oct 2018 16:45:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Python_Verify/6321/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Python_Verify/6321/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16657065" author="kenn" created="Fri, 19 Oct 2018 16:46:03 +0000"  >&lt;p&gt;Cool. Seems like setting it high is fine. The timeout is really just a backstop for killing a hung job. There is no value in it being anywhere near the actual target duration, if a successful run terminates right away.&lt;/p&gt;</comment>
                            <comment id="16657078" author="udim" created="Fri, 19 Oct 2018 16:52:25 +0000"  >&lt;p&gt;Sadly it doesn&apos;t. The on_success_matcher is only run after the &quot;timeout&quot;. Since it&apos;s a streaming job it always times out.&lt;/p&gt;</comment>
                            <comment id="16657103" author="udim" created="Fri, 19 Oct 2018 17:06:07 +0000"  >&lt;p&gt;I think the error in 6321 is similar in nature: the job was cancelled (successfully this time) before it managed to process and write the expected output.&lt;/p&gt;</comment>
                            <comment id="16661104" author="udim" created="Tue, 23 Oct 2018 18:38:51 +0000"  >&lt;p&gt;Still failing: &lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Python_Verify/6354/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Python_Verify/6354/consoleFull&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16726998" author="udim" created="Fri, 21 Dec 2018 19:31:37 +0000"  >&lt;p&gt;Went away on its own. Closing, please reopen if this happens again.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 47 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3zbm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>