<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:40:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-674] Add GridFS support to MongoDB IO</title>
                <link>https://issues.apache.org/jira/browse/BEAM-674</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;&lt;br/&gt;
MongoDB has an &quot;extension&quot; called GridFS that allows storing of very large &quot;files&quot; into the MongoDB database in a relatively efficient way.   It would be good to add a GridFS API based IO to allow retrieving the data for processing. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13007598">BEAM-674</key>
            <summary>Add GridFS support to MongoDB IO</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkulp">Daniel Kulp</assignee>
                                    <reporter username="dkulp">Daniel Kulp</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Sep 2016 14:55:11 +0000</created>
                <updated>Sat, 16 May 2020 13:36:20 +0000</updated>
                            <resolved>Sun, 2 Oct 2016 13:43:52 +0000</resolved>
                                                    <fixVersion>0.3.0-incubating</fixVersion>
                                    <component>io-java-mongodb</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15523309" author="jbonofre" created="Mon, 26 Sep 2016 14:59:41 +0000"  >&lt;p&gt;Ready to review.&lt;/p&gt;</comment>
                            <comment id="15523335" author="githubbot" created="Mon, 26 Sep 2016 15:11:38 +0000"  >&lt;p&gt;GitHub user dkulp opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1003&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1003&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-674&quot; title=&quot;Add GridFS support to MongoDB IO&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-674&quot;&gt;&lt;del&gt;BEAM-674&lt;/del&gt;&lt;/a&gt; Source part of GridFS IO&lt;/p&gt;

&lt;p&gt;    This is the &quot;Source&quot; part for GridFS based IO for beam.  (will work on Sink next, but would like to get this reviewed and merged first) . The &quot;default&quot; is to parse each file as text files (by line), but a parser function can be provided to take the InputStream and parse via whatever is required.   &lt;/p&gt;

&lt;p&gt;    For runners that can split into bundles it attempts to assign files in the grid to different bundles.  &lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dkulp/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dkulp/incubator-beam&lt;/a&gt; gridfs&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1003.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1003.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1003&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d5cdc2429622f65a762774de8b5baf15334e55e2&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-16T20:58:56Z&lt;/p&gt;

&lt;p&gt;    Add GridFS io&lt;/p&gt;

&lt;p&gt;commit a9212662744c14f10cd811540c3e9268c32c25c4&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-16T21:19:50Z&lt;/p&gt;

&lt;p&gt;    Fix checkstyle issues&lt;/p&gt;

&lt;p&gt;commit cee0a06b6a465a276c2c5410d7d3f9af703982d4&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-19T17:22:44Z&lt;/p&gt;

&lt;p&gt;    Attempt to get a converter in there&lt;/p&gt;

&lt;p&gt;commit fafa8fa607f22eacf918abb13419f28df9d2a8e9&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-19T17:32:44Z&lt;/p&gt;

&lt;p&gt;    Fix javac compile problem&lt;/p&gt;

&lt;p&gt;commit 7e9872f12c74902f1a23e5a27eb0027ae753947a&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-19T17:50:11Z&lt;/p&gt;

&lt;p&gt;    Force a serializable&lt;/p&gt;

&lt;p&gt;commit 265747946864b226235ee5b758e6c10b7cc3992f&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-19T17:56:03Z&lt;/p&gt;

&lt;p&gt;    Add the needed coder&lt;/p&gt;

&lt;p&gt;commit 4f54495afe7ff4768d873350c345d39905d812fc&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-19T18:02:39Z&lt;/p&gt;

&lt;p&gt;    Change to using the GridFSDBFile instead of InputStream so the parsingFn can have access to tall the metadata&lt;/p&gt;

&lt;p&gt;commit cbeebf02542a5e5a5f4b9a6c370b1b68b46d2deb&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-19T18:25:23Z&lt;/p&gt;

&lt;p&gt;    Flip to allowing the parser to have complete control over how the item is added to the collection&lt;/p&gt;

&lt;p&gt;commit a08007b9f444fedcde78ab38c6cdf505b3864c61&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-19T18:26:19Z&lt;/p&gt;

&lt;p&gt;    Fix unused imports&lt;/p&gt;

&lt;p&gt;commit a4840e98d891d3fa783654a472af06c4d399a929&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-21T19:51:45Z&lt;/p&gt;

&lt;p&gt;    Add test for the parser functionality and cleanup some of that code&lt;/p&gt;

&lt;p&gt;commit 438a792a796be77186d79aa3fdb221efcced6d4f&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-21T20:01:33Z&lt;/p&gt;

&lt;p&gt;    Move the coder out from the parser&lt;/p&gt;

&lt;p&gt;commit e8fcdbf3cebd6fa4648f328484dee07fec35b21a&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-22T12:36:50Z&lt;/p&gt;

&lt;p&gt;    Fix test&lt;/p&gt;

&lt;p&gt;commit 1d1a373fc7cec4e78bf0e618a902c15005fc36b4&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-23T14:49:53Z&lt;/p&gt;

&lt;p&gt;    Flip to using BoundedSource so it can be broken up into bundles&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15530050" author="githubbot" created="Wed, 28 Sep 2016 15:55:26 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1003&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1003&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15533267" author="githubbot" created="Thu, 29 Sep 2016 16:36:39 +0000"  >&lt;p&gt;GitHub user dkulp opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1025&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1025&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-674&quot; title=&quot;Add GridFS support to MongoDB IO&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-674&quot;&gt;&lt;del&gt;BEAM-674&lt;/del&gt;&lt;/a&gt; Gridfs Source refactoring&lt;/p&gt;

&lt;p&gt;    Refactor of the GridFS based Source based on feedback from @jkff &lt;/p&gt;

&lt;p&gt;    BoundedSource is now a source of ObjectID&apos;s and a separate DoFn is used to convert/parse the GridFSDBFile into usable chunks.   &lt;/p&gt;

&lt;p&gt;    Testcase for splitting added.&lt;/p&gt;

&lt;p&gt;    Variables not needed by the Source are pulled out and stuck on the transform instead.&lt;/p&gt;

&lt;p&gt;    Optimized the non-split case a bit by not querying all the ObjectIds up front.  &lt;/p&gt;

&lt;p&gt;    Optimize unit tests by setting up test data per class instead of per test.&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dkulp/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dkulp/incubator-beam&lt;/a&gt; gridfs-t2&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1025.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1025.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1025&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 5aad971bcd1d32ba06cec9d4870e7aa9e9dc17f5&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-29T02:44:37Z&lt;/p&gt;

&lt;p&gt;    Split BoundedSource into a BoundedSource&amp;lt;ObjectID&amp;gt; and a DoFn&amp;lt;...&amp;gt;&lt;/p&gt;

&lt;p&gt;commit 2fc219cdd33e89d65d457dd3767bd378ff1111c0&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-29T13:03:31Z&lt;/p&gt;

&lt;p&gt;    Optimize reading for non-split case&lt;/p&gt;

&lt;p&gt;commit e58fc61868988cc40c325d913fca37b26e3db99c&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-29T13:18:17Z&lt;/p&gt;

&lt;p&gt;    Use objectId timestamp&lt;/p&gt;

&lt;p&gt;commit ed73d77b21651d6ef1d8cf2892dc267794d52d10&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-29T13:57:44Z&lt;/p&gt;

&lt;p&gt;    Pull parser out of BoundedSource, add maxSkew&lt;/p&gt;

&lt;p&gt;commit 277667527cf0a23704b3ae3d05b2c8e2c2bcea3c&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-29T14:48:42Z&lt;/p&gt;

&lt;p&gt;    Add test case for the split&lt;/p&gt;

&lt;p&gt;commit db30aabac4629ae167e4ede73de79257b4a93336&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-29T15:00:44Z&lt;/p&gt;

&lt;p&gt;    Don&apos;t need the generic on the Source and Reader&lt;/p&gt;

&lt;p&gt;commit 1cdb2ce716b7e020c5306494b414b5bb136abb24&lt;br/&gt;
Author: Daniel Kulp &amp;lt;dkulp@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-29T16:29:51Z&lt;/p&gt;

&lt;p&gt;    Rename maxSkew to allowedTimestampSkew to match other DoFn&apos;s&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15535121" author="jbonofre" created="Fri, 30 Sep 2016 05:47:10 +0000"  >&lt;p&gt;Reopen to merge improvements PR.&lt;/p&gt;</comment>
                            <comment id="15540382" author="githubbot" created="Sun, 2 Oct 2016 13:43:54 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1025&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1025&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 7 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34307:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>