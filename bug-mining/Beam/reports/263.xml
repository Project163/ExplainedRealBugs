<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:43:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-2096] NullPointerException in DataflowMetrics</title>
                <link>https://issues.apache.org/jira/browse/BEAM-2096</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;This started failing some time yesterday it looks like: &lt;a href=&quot;https://builds.apache.org/view/Beam/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/2949/#showFailuresLink&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/Beam/job/beam_PostCommit_Java_ValidatesRunner_Dataflow/2949/#showFailuresLink&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Possible culprit at &lt;a href=&quot;https://github.com/apache/beam/commit/4faa8feba822db000b4b42636408245422ed324d#diff-fff6f69683ac0e26db7e3ad095d7cdf0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/commit/4faa8feba822db000b4b42636408245422ed324d#diff-fff6f69683ac0e26db7e3ad095d7cdf0&lt;/a&gt; since that is when it starting failing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13067395">BEAM-2096</key>
            <summary>NullPointerException in DataflowMetrics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10100" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">P0</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dhalperi">Dan Halperin</assignee>
                                    <reporter username="kenn">Kenneth Knowles</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Apr 2017 14:13:18 +0000</created>
                <updated>Fri, 24 Jul 2020 20:17:35 +0000</updated>
                            <resolved>Thu, 27 Apr 2017 20:33:17 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>runner-dataflow</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15986692" author="kenn" created="Thu, 27 Apr 2017 14:14:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dhalperi%40google.com&quot; class=&quot;user-hover&quot; rel=&quot;dhalperi@google.com&quot;&gt;dhalperi@google.com&lt;/a&gt; you may also have some context here on your change&lt;/p&gt;</comment>
                            <comment id="15986795" author="dhalperi@google.com" created="Thu, 27 Apr 2017 15:14:09 +0000"  >&lt;p&gt;This looks like an actual bug in the DataflowRunner exposed by actually running tests. Woo!&lt;/p&gt;

&lt;p&gt;Pablo, if this is something you know about please take a look &amp;#8211; but if not something you can handle fairly quickly then please triage forward. Needs to get fixed, but your work on Aggregators is a better use of your time.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bchambers&quot; class=&quot;user-hover&quot; rel=&quot;bchambers&quot;&gt;bchambers&lt;/a&gt; &#8211; this type of error worries me. Before first stable release, can we make the DataflowMetrics code more resilient to evolution of metrics representations? It seems very hard to not break the current code.&lt;/p&gt;</comment>
                            <comment id="15986810" author="kenn" created="Thu, 27 Apr 2017 15:18:33 +0000"  >&lt;p&gt;(the best kind of &quot;culprit&quot; commit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15986828" author="githubbot" created="Thu, 27 Apr 2017 15:31:34 +0000"  >&lt;p&gt;GitHub user dhalperi opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2739&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2739&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2096&quot; title=&quot;NullPointerException in DataflowMetrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2096&quot;&gt;&lt;del&gt;BEAM-2096&lt;/del&gt;&lt;/a&gt; Make DataflowMetrics more resilient&lt;/p&gt;

&lt;p&gt;    DataflowMetrics seems to have many hard-coded assumptions about what will be&lt;br/&gt;
    returned by the Dataflow service that, which will likely break when users&lt;br/&gt;
    use new types of metrics or if the Dataflow service makes minor adjustments&lt;br/&gt;
    in our it sends metrics back to the user.&lt;/p&gt;

&lt;p&gt;    In order for code to continue working in these cases, handle errors by logging&lt;br/&gt;
    and skipping.&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/dhalperi/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/dhalperi/beam&lt;/a&gt; metrics-npe&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2739.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2739.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2739&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 4f418cdd57c5ebff2f406c1487db7dee420e3df6&lt;br/&gt;
Author: Dan Halperin &amp;lt;dhalperi@google.com&amp;gt;&lt;br/&gt;
Date:   2017-04-27T15:30:47Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-2096&quot; title=&quot;NullPointerException in DataflowMetrics&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-2096&quot;&gt;&lt;del&gt;BEAM-2096&lt;/del&gt;&lt;/a&gt; Make DataflowMetrics more resilient&lt;/p&gt;

&lt;p&gt;    DataflowMetrics seems to have many hard-coded assumptions about what will be&lt;br/&gt;
    returned by the Dataflow service that, which will likely break when users&lt;br/&gt;
    use new types of metrics or if the Dataflow service makes minor adjustments&lt;br/&gt;
    in our it sends metrics back to the user.&lt;/p&gt;

&lt;p&gt;    In order for code to continue working in these cases, handle errors by logging&lt;br/&gt;
    and skipping.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15987545" author="githubbot" created="Thu, 27 Apr 2017 20:11:01 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2739&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2739&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15987682" author="kenn" created="Thu, 27 Apr 2017 21:07:30 +0000"  >&lt;p&gt;JIRA to track followups after this quick build restore?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3e6u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>