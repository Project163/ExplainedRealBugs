<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:48:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-3228] KinesisMockReadTest is flaky</title>
                <link>https://issues.apache.org/jira/browse/BEAM-3228</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;The test failed a few times recently in Java PostCommit test suite &lt;span class=&quot;error&quot;&gt;&amp;#91;1, 2&amp;#93;&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;Please refer to /home/jenkins/jenkins-slave/workspace/beam_PostCommit_Java_MavenInstall/src/sdks/java/io/kinesis/target/surefire-reports for the individual test results.&lt;br/&gt;
Please refer to dump files (if any exist) &lt;span class=&quot;error&quot;&gt;&amp;#91;date&amp;#93;&lt;/span&gt;-jvmRun&lt;span class=&quot;error&quot;&gt;&amp;#91;N&amp;#93;&lt;/span&gt;.dump, &lt;span class=&quot;error&quot;&gt;&amp;#91;date&amp;#93;&lt;/span&gt;.dumpstream and &lt;span class=&quot;error&quot;&gt;&amp;#91;date&amp;#93;&lt;/span&gt;-jvmRun&lt;span class=&quot;error&quot;&gt;&amp;#91;N&amp;#93;&lt;/span&gt;.dumpstream.&lt;br/&gt;
The forked VM terminated without properly saying goodbye. VM crash or System.exit called?&lt;br/&gt;
Command was /bin/sh -c cd /home/jenkins/jenkins-slave/workspace/beam_PostCommit_Java_MavenInstall/src/sdks/java/io/kinesis &amp;amp;&amp;amp; /usr/local/asfpackages/java/jdk1.8.0_152/jre/bin/java org.apache.maven.surefire.booter.ForkedBooter /home/jenkins/jenkins-slave/workspace/beam_PostCommit_Java_MavenInstall/src/sdks/java/io/kinesis/target/surefire 2017-11-17T21-31-27_966-jvmRun1 surefire8885947147781365641tmp surefire_234035066469521508403tmp&lt;br/&gt;
Error occurred in starting fork, check output in log&lt;br/&gt;
Process Exit Code: 1&lt;br/&gt;
Crashed tests:&lt;br/&gt;
org.apache.beam.sdk.io.kinesis.KinesisMockReadTest&lt;br/&gt;
org.apache.maven.surefire.booter.SurefireBooterForkException: The forked VM terminated without properly saying goodbye. VM crash or System.exit called?&lt;br/&gt;
Command was /bin/sh -c cd /home/jenkins/jenkins-slave/workspace/beam_PostCommit_Java_MavenInstall/src/sdks/java/io/kinesis &amp;amp;&amp;amp; /usr/local/asfpackages/java/jdk1.8.0_152/jre/bin/java org.apache.maven.surefire.booter.ForkedBooter /home/jenkins/jenkins-slave/workspace/beam_PostCommit_Java_MavenInstall/src/sdks/java/io/kinesis/target/surefire 2017-11-17T21-31-27_966-jvmRun1 surefire8885947147781365641tmp surefire_234035066469521508403tmp&lt;br/&gt;
Error occurred in starting fork, check output in log&lt;br/&gt;
Process Exit Code: 1&lt;br/&gt;
Crashed tests:&lt;br/&gt;
org.apache.beam.sdk.io.kinesis.KinesisMockReadTest&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:679)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.fork(ForkStarter.java:533)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:279)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.booterclient.ForkStarter.run(ForkStarter.java:243)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeProvider(AbstractSurefireMojo.java:1077)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.AbstractSurefireMojo.executeAfterPreconditionsChecked(AbstractSurefireMojo.java:907)&lt;br/&gt;
	at org.apache.maven.plugin.surefire.AbstractSurefireMojo.execute(AbstractSurefireMojo.java:785)&lt;br/&gt;
	at org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:134)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:208)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:116)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:80)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.builder.singlethreaded.SingleThreadedBuilder.build(SingleThreadedBuilder.java:51)&lt;br/&gt;
	at org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:128)&lt;br/&gt;
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:307)&lt;br/&gt;
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:193)&lt;br/&gt;
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:106)&lt;br/&gt;
	at org.jvnet.hudson.maven3.launcher.Maven33Launcher.main(Maven33Launcher.java:129)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:498)&lt;br/&gt;
	at org.codehaus.plexus.classworlds.launcher.Launcher.launchStandard(Launcher.java:330)&lt;br/&gt;
	at org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:238)&lt;br/&gt;
	at jenkins.maven3.agent.Maven33Main.launch(Maven33Main.java:176)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:498)&lt;br/&gt;
	at hudson.maven.Maven3Builder.call(Maven3Builder.java:139)&lt;br/&gt;
	at hudson.maven.Maven3Builder.call(Maven3Builder.java:70)&lt;br/&gt;
	at hudson.remoting.UserRequest.perform(UserRequest.java:181)&lt;br/&gt;
	at hudson.remoting.UserRequest.perform(UserRequest.java:52)&lt;br/&gt;
	at hudson.remoting.Request$2.run(Request.java:336)&lt;br/&gt;
	at hudson.remoting.InterceptingExecutorService$1.call(InterceptingExecutorService.java:68)&lt;br/&gt;
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1149)&lt;br/&gt;
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:624)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:748)&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://builds.apache.org/view/A-D/view/Beam/job/beam_PostCommit_Java_MavenInstall/5261/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/A-D/view/Beam/job/beam_PostCommit_Java_MavenInstall/5261/consoleFull&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://builds.apache.org/view/A-D/view/Beam/job/beam_PostCommit_Java_MavenInstall/5259/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/A-D/view/Beam/job/beam_PostCommit_Java_MavenInstall/5259/consoleFull&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13120016">BEAM-3228</key>
            <summary>KinesisMockReadTest is flaky</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="10722" iconUrl="https://issues.apache.org/jira/images/icons/statuses/generic.png" description="">Triage Needed</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="aromanenko">Alexey Romanenko</assignee>
                                    <reporter username="tvalentyn">Valentyn Tymofieiev</reporter>
                        <labels>
                            <label>flake</label>
                    </labels>
                <created>Tue, 21 Nov 2017 17:53:31 +0000</created>
                <updated>Sat, 23 Nov 2024 09:38:45 +0000</updated>
                            <resolved>Thu, 15 Feb 2018 13:25:07 +0000</resolved>
                                                    <fixVersion>2.4.0</fixVersion>
                                    <component>io-java-kinesis</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4800">1h 20m</timespent>
                                <comments>
                            <comment id="16309535" author="githubbot" created="Wed, 3 Jan 2018 11:46:56 +0000"  >&lt;p&gt;aromanenko-dev opened a new pull request #4337: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3228&quot; title=&quot;KinesisMockReadTest is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3228&quot;&gt;&lt;del&gt;BEAM-3228&lt;/del&gt;&lt;/a&gt; Add fix to prevent crashing forked VM when running Kinesis tests&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4337&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4337&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Follow this checklist to help us incorporate your contribution quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Make sure there is a &lt;span class=&quot;error&quot;&gt;&amp;#91;JIRA issue&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/projects/BEAM/issues/&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/BEAM/issues/&lt;/a&gt;) filed for the change (usually before you start working on it).  Trivial changes like typos do not require a JIRA issue.  Your pull request should address just this issue, without pulling in other changes.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Each commit in the pull request should have a meaningful subject line and body.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Format the pull request title like `&lt;span class=&quot;error&quot;&gt;&amp;#91;BEAM-XXX&amp;#93;&lt;/span&gt; Fixes bug in ApproximateQuantiles`, where you replace `BEAM-XXX` with the appropriate JIRA issue.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Write a pull request description that is detailed enough to understand what the pull request does, how, and why.&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Run `mvn clean verify` to make sure basic checks pass. A more thorough check will be performed on your pull request automatically.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   &amp;#8212;&lt;/p&gt;

&lt;p&gt;   Kinesis tests are hanging on KinesisMockReadTest and then it fails because of crashing forked VM. &lt;br/&gt;
   Since it affects master build and the root cause is not clear for now, then the fast fix to prevent this issue will be to fork every running test. Later, the root cause should be investigated and, probably, fixed if needed. &lt;br/&gt;
   The total time of running the all Kinesis tests was not drastically increased, only a little bit due to small number of Kinesis test suits. &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16309911" author="githubbot" created="Wed, 3 Jan 2018 16:54:09 +0000"  >&lt;p&gt;iemejia closed pull request #4337: &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3228&quot; title=&quot;KinesisMockReadTest is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3228&quot;&gt;&lt;del&gt;BEAM-3228&lt;/del&gt;&lt;/a&gt; Add fix to prevent crashing forked VM when running Kinesis tests&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/beam/pull/4337&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/4337&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/sdks/java/io/kinesis/pom.xml b/sdks/java/io/kinesis/pom.xml&lt;br/&gt;
index 93dc2c54d76..45a20645506 100644&lt;br/&gt;
&amp;#8212; a/sdks/java/io/kinesis/pom.xml&lt;br/&gt;
+++ b/sdks/java/io/kinesis/pom.xml&lt;br/&gt;
@@ -52,6 +52,15 @@&lt;br/&gt;
           &amp;lt;/execution&amp;gt;&lt;br/&gt;
         &amp;lt;/executions&amp;gt;&lt;br/&gt;
       &amp;lt;/plugin&amp;gt;&lt;br/&gt;
+      &amp;lt;plugin&amp;gt;&lt;br/&gt;
+        &amp;lt;groupId&amp;gt;org.apache.maven.plugins&amp;lt;/groupId&amp;gt;&lt;br/&gt;
+        &amp;lt;artifactId&amp;gt;maven-surefire-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
+        &amp;lt;configuration&amp;gt;&lt;br/&gt;
+          &amp;lt;!-- &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3228&quot; title=&quot;KinesisMockReadTest is flaky&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3228&quot;&gt;&lt;del&gt;BEAM-3228&lt;/del&gt;&lt;/a&gt; Temp fix to prevent crashing forked VM during tests. --&amp;gt;&lt;br/&gt;
+          &amp;lt;forkCount&amp;gt;1&amp;lt;/forkCount&amp;gt;&lt;br/&gt;
+          &amp;lt;reuseForks&amp;gt;false&amp;lt;/reuseForks&amp;gt;&lt;br/&gt;
+        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
+      &amp;lt;/plugin&amp;gt;&lt;br/&gt;
     &amp;lt;/plugins&amp;gt;&lt;br/&gt;
   &amp;lt;/build&amp;gt;&lt;/p&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16353283" author="kenn" created="Tue, 6 Feb 2018 03:12:38 +0000"  >&lt;p&gt;I haven&apos;t seen this one in a bit.&lt;/p&gt;</comment>
                            <comment id="16360746" author="iemejia" created="Mon, 12 Feb 2018 13:29:04 +0000"  >&lt;p&gt;This was silenced because we are forcing the Kinesis tests to run sequentially as a workaround, but a proper fix is still pending.&lt;/p&gt;</comment>
                            <comment id="16360749" author="iemejia" created="Mon, 12 Feb 2018 13:31:59 +0000"  >&lt;p&gt;Oups just discovered that there is a more recent issue tracking the exact error case so resolving this one.&lt;/p&gt;</comment>
                            <comment id="16364101" author="iemejia" created="Wed, 14 Feb 2018 14:16:19 +0000"  >&lt;p&gt;I overlooked this one confusing it with &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-3317&quot; title=&quot;KinesisReaderTest is Flaky due to overadvanced watermarks&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-3317&quot;&gt;&lt;del&gt;BEAM-3317&lt;/del&gt;&lt;/a&gt;. This is still alive and reproducible by removing the workaround on the pom file.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 39 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3n29b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>