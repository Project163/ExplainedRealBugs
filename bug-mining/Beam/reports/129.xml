<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:41:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-1130] SparkRunner ResumeFromCheckpointStreamingTest Failing</title>
                <link>https://issues.apache.org/jira/browse/BEAM-1130</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Failing in (at least) suites:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Java_RunnableOnService_Spark/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Java_RunnableOnService_Spark/&lt;/a&gt;&lt;br/&gt;
381 - 385&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Java_MavenInstall/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Java_MavenInstall/&lt;/a&gt;&lt;br/&gt;
2063 - 2066&lt;/p&gt;

&lt;p&gt;Culprit change seems to be:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/incubator-beam/commit/aba40e2de9ba058f33086eb6a913fa583a82b058&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/commit/aba40e2de9ba058f33086eb6a913fa583a82b058&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Success aggregator should be greater than zero.
Expected: not &amp;lt;0&amp;gt;
     but: was &amp;lt;0&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Sample output:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Java_RunnableOnService_Spark/lastCompletedBuild/org.apache.beam$beam-runners-spark/testReport/org.apache.beam.runners.spark.translation.streaming/ResumeFromCheckpointStreamingTest/testRun/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Java_RunnableOnService_Spark/lastCompletedBuild/org.apache.beam$beam-runners-spark/testReport/org.apache.beam.runners.spark.translation.streaming/ResumeFromCheckpointStreamingTest/testRun/&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13027318">BEAM-1130</key>
            <summary>SparkRunner ResumeFromCheckpointStreamingTest Failing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="amitsela">Amit Sela</assignee>
                                    <reporter username="jaku">Jason Kuster</reporter>
                        <labels>
                    </labels>
                <created>Mon, 12 Dec 2016 01:51:38 +0000</created>
                <updated>Sat, 16 May 2020 13:46:18 +0000</updated>
                            <resolved>Tue, 13 Dec 2016 07:56:36 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                    <component>runner-spark</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15741422" author="amitsela" created="Mon, 12 Dec 2016 09:23:58 +0000"  >&lt;p&gt;This is yet another reminder of Spak runner flaky streaming tests.&lt;br/&gt;
I&apos;ll add some properties to Spark&apos;s &lt;tt&gt;Read.Unbounded&lt;/tt&gt; to block until read is complete (mainly for tests).   &lt;/p&gt;</comment>
                            <comment id="15741603" author="amitsela" created="Mon, 12 Dec 2016 10:47:58 +0000"  >&lt;p&gt;There are currently three tests reading from Kafka (also testing &lt;tt&gt;Read.Unbounded&lt;/tt&gt;), and until we have proper streaming support via triggers we rely (optimistically) on elements to be read in the same batch.&lt;br/&gt;
The flakiness comes from the fact that this becomes very unpredictable on slow environments (such as Jenkins).&lt;br/&gt;
By adding the possibility to manually set the bound on max records per batch (up until now it was only via &lt;tt&gt;RateController&lt;/tt&gt; feedback) I can give batches a longer read time and stop reading (before this time ended) when I hit the max records bound.&lt;br/&gt;
This should do the trick though in some extreme cases of verrrry slow env. it could still happen.&lt;br/&gt;
This is only putting-out fires until I provide trigger support. &lt;/p&gt;</comment>
                            <comment id="15741619" author="githubbot" created="Mon, 12 Dec 2016 10:55:55 +0000"  >&lt;p&gt;GitHub user amitsela opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1579&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;BEAM-1130, BEAM-1133&amp;#93;&lt;/span&gt; Allow users to define max records per batch, update tests accordingly.&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`. (Even better, enable&lt;br/&gt;
           Travis-CI on your fork and ensure the whole test matrix passes).&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.txt&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/amitsela/incubator-beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/amitsela/incubator-beam&lt;/a&gt; readunbounded-minread-in-microbatch&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1579.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1579.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #1579&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d5382819a3c9c3975ab5aac81cde01d9ba79da93&lt;br/&gt;
Author: Sela &amp;lt;ansela@paypal.com&amp;gt;&lt;br/&gt;
Date:   2016-12-12T10:37:32Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1133&quot; title=&quot;Add maxNumRecords per micro-batch for Spark runner options. &quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1133&quot;&gt;&lt;del&gt;BEAM-1133&lt;/del&gt;&lt;/a&gt; Add maxNumRecords per micro-batch for Spark runner options.&lt;/p&gt;

&lt;p&gt;commit 84fc4da6484baf023015b4745dc9be12ec4d35ab&lt;br/&gt;
Author: Sela &amp;lt;ansela@paypal.com&amp;gt;&lt;br/&gt;
Date:   2016-12-12T10:41:34Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1130&quot; title=&quot;SparkRunner ResumeFromCheckpointStreamingTest Failing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1130&quot;&gt;&lt;del&gt;BEAM-1130&lt;/del&gt;&lt;/a&gt; SparkRunner ResumeFromCheckpointStreamingTest Failing.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15742924" author="githubbot" created="Mon, 12 Dec 2016 19:38:53 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/incubator-beam/pull/1579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/incubator-beam/pull/1579&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13027413">BEAM-1133</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i37gj3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>