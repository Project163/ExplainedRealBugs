<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:44:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-1676] SdkCoreApiSurfaceTest Failed When Directory Contains Space</title>
                <link>https://issues.apache.org/jira/browse/BEAM-1676</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;Test failed if build directory contains space. For example: &quot;~/dir with space/beam/...&quot;&lt;br/&gt;
The failure happened on Jenkins and can be reproduced from local.&lt;/p&gt;

&lt;p&gt;GcpApiSurfaceTest may have same problem.&lt;/p&gt;

&lt;p&gt;error is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Failed tests: 
  SdkCoreApiSurfaceTest.testSdkApiSurface:59 
Expected: API surface to include only:
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.beam&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.client&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.services.bigquery&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.services.cloudresourcemanager&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.services.pubsub&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.services.storage&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.auth&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.protobuf&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.fasterxml.jackson.annotation&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.fasterxml.jackson.core&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.fasterxml.jackson.databind&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.hamcrest&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.codehaus.jackson&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.joda.time&quot;&lt;/span&gt;
	Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.junit&quot;&lt;/span&gt;
	
     but: The following white-listed scopes did not have matching classes on the API surface:
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.fasterxml.jackson.annotation&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.fasterxml.jackson.core&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.fasterxml.jackson.databind&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.client&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.services.bigquery&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.services.cloudresourcemanager&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.services.pubsub&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.api.services.storage&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.auth&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;com.google.protobuf&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.avro&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.beam&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.codehaus.jackson&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.hamcrest&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.joda.time&quot;&lt;/span&gt;
	No Classes in &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;org.junit&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Job link from Jenkins:&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Java_Version_Test/14/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Java_Version_Test/14/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;One of the Jenkins job uses &quot;JDK 1.8 (latest)&quot; which is also part of project directory.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13049705">BEAM-1676</key>
            <summary>SdkCoreApiSurfaceTest Failed When Directory Contains Space</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10102" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">P2</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="staslev">Stas Levin</assignee>
                                    <reporter username="markflyhigh">Mark Liu</reporter>
                        <labels>
                            <label>Done</label>
                    </labels>
                <created>Thu, 9 Mar 2017 18:53:49 +0000</created>
                <updated>Tue, 6 Oct 2020 21:55:21 +0000</updated>
                            <resolved>Mon, 1 May 2017 21:24:36 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                    <component>sdk-java-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15904078" author="markflyhigh" created="Thu, 9 Mar 2017 23:48:43 +0000"  >&lt;p&gt;two discovers from job logs:&lt;br/&gt;
1. failed version test uses matrixJob.steps.maven() to run maven command, instead of mavenJob() directly. After compared job logs, it looks like Jenkins uses different build mechanism to start maven job.&lt;/p&gt;

&lt;p&gt;2. Found this error right after maven command got executed:&lt;br/&gt;
/home/jenkins/tools/maven/apache-maven-3.3.3/bin/mvn: 200: local: 1.8: bad variable name&lt;br/&gt;
JDK 1.8 (latest) is used in &quot;-Djdk=JDK 1.8 (latest)&quot; and &quot;-Dmaven.repo.local=/home/jenkins/jenkins-slave/workspace/beam_PostCommit_Java_Version_Test/jdk/JDK 1.8 (latest)/label/beam/.repository&quot; in execution command, which might be the reason causing test failure?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Java_Version_Test/14/jdk=JDK%201.8%20(latest),label=beam/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Java_Version_Test/14/jdk=JDK%201.8%20(latest),label=beam/consoleFull&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://builds.apache.org/view/Beam/job/beam_PostCommit_Java_MavenInstall/2847/consoleFull&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/view/Beam/job/beam_PostCommit_Java_MavenInstall/2847/consoleFull&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15904103" author="davor" created="Thu, 9 Mar 2017 23:59:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt;, any ideas perhaps?&lt;/p&gt;</comment>
                            <comment id="15904372" author="kenn" created="Fri, 10 Mar 2017 03:40:40 +0000"  >&lt;p&gt;If you can come up with an invocation that reproduces this, I am happy to debug. Based on the fact that there are different commands under the hood, perhaps the CLI will not be able to repro. It seems likely to have to do with classloaders.&lt;/p&gt;</comment>
                            <comment id="15905748" author="markflyhigh" created="Fri, 10 Mar 2017 21:46:38 +0000"  >&lt;p&gt;Thank you Kenn, let me see if I can reproduce the error on local machine.&lt;/p&gt;</comment>
                            <comment id="15905810" author="markflyhigh" created="Fri, 10 Mar 2017 22:39:35 +0000"  >&lt;p&gt;I removed environment parameters that starts with &quot;-Dghprb&quot;, which seems redundant params appended by Jenkins, and run on Linux machine but failed to reproduce the failure.&lt;/p&gt;

&lt;p&gt;command I used:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn -f pom.xml -Dlabel=beam -Dsha1=origin/pr/2204/merge &lt;span class=&quot;code-quote&quot;&gt;&quot;-Djdk=JDK 1.8 (latest)&quot;&lt;/span&gt; -DGIT_BRANCH=jenkins_java_sdk_version_test &lt;span class=&quot;code-quote&quot;&gt;&quot;-Dmaven.repo.local=/tmp/beam_PostCommit_Java_Version_Test/jdk/JDK 1.8 (latest)/label/beam/.repository&quot;&lt;/span&gt;  -P release,dataflow-runner clean install coveralls:report -DrepoToken=**** -DskipITs=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;-DintegrationTestPipelineOptions=[ &lt;span class=&quot;code-quote&quot;&gt;&quot;--project=apache-beam-testing&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;--tempRoot=gs:&lt;span class=&quot;code-comment&quot;&gt;//temp-storage-&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;-end-to-end-tests&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;--runner=org.apache.beam.runners.dataflow.testing.TestDataflowRunner&quot;&lt;/span&gt; ]&apos;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, test on Jenkins failed consistently: &lt;a href=&quot;https://builds.apache.org/job/beam_PostCommit_Java_Version_Test/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/beam_PostCommit_Java_Version_Test/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15924973" author="markflyhigh" created="Tue, 14 Mar 2017 20:52:19 +0000"  >&lt;p&gt;After spend a lot of time digging into this problem, I think the key is using different job method to build the project. Looks like Jenkins use different mechanism to run maven job when we use &quot;mavenJob&quot; or &quot;matrixJob&quot;. The latter one is basically a freestyle job but the former uses &quot;maven2-moduleset&quot;.&lt;/p&gt;

&lt;p&gt;I tried to use configure block to manually integrate matrix axes to mavenJob but failed. &lt;/p&gt;</comment>
                            <comment id="15925018" author="markflyhigh" created="Tue, 14 Mar 2017 21:15:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davor&quot; class=&quot;user-hover&quot; rel=&quot;davor&quot;&gt;davor&lt;/a&gt; Any thoughts? Since this block us to use Jenkins matrix configuration plugin. If no further progress on that, I&apos;d rather not to use it currently.&lt;/p&gt;</comment>
                            <comment id="15925403" author="davor" created="Wed, 15 Mar 2017 01:48:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markflyhigh&quot; class=&quot;user-hover&quot; rel=&quot;markflyhigh&quot;&gt;markflyhigh&lt;/a&gt;, I&apos;m sorry, but I don&apos;t follow. As Kenn said above, we should understand the environment in which this happens.&lt;/p&gt;

&lt;p&gt;At some point, a Maven command is invoked. We need to figure out what that command is. Then, there&apos;s environment &amp;#8211; in what directory is it run, what is the contents of that directory at the time of invocation, and what are the environment variables. This can be captured easily, e.g., running pwd &amp;amp;&amp;amp; ls -alR &amp;amp;&amp;amp; export, before running Maven. At that point, we have a pretty hermetic view of this problem, which can be reproduced and debugged accordingly. Even further, we can log into the machine executing this and inspect it &lt;b&gt;locally&lt;/b&gt;.&lt;/p&gt;</comment>
                            <comment id="15925449" author="kenn" created="Wed, 15 Mar 2017 02:44:54 +0000"  >&lt;p&gt;Is it true that a maven command is run as such? The symptoms made me wonder, so I&apos;ve done some browsing through Jenkins Maven  support (native and plugin) and I don&apos;t have an answer yet.&lt;/p&gt;

&lt;p&gt;On the other hand, this test is inspecting a static (not behavioral) property of our code, so there&apos;s no value added by checking it in different environments other than making sure a user/dev in that environment can successfully build it from source. So perhaps it isn&apos;t important for this matrix. I would rather not introduce exceptions, just to keep the tests simple and clean, but I would not rule it out as an option.&lt;/p&gt;</comment>
                            <comment id="15926725" author="markflyhigh" created="Wed, 15 Mar 2017 18:32:54 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=davor&quot; class=&quot;user-hover&quot; rel=&quot;davor&quot;&gt;davor&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt;. That&apos;s good idea to inspect into the build environment. Will do and have more investigation.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; I think you are referring to &quot;release&quot; profile and coveralls:report? That&apos;s a good idea not to introduce exceptions while I&apos;m still debugging. The maven command I provided above is almost the same as the one from build log, which is:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[beam] $ /home/jenkins/tools/maven/apache-maven-3.3.3/bin/mvn -f pom.xml -Dsha1=master &lt;span class=&quot;code-quote&quot;&gt;&quot;-Djdk=JDK 1.8 (latest)&quot;&lt;/span&gt; -Dlabel=beam &lt;span class=&quot;code-quote&quot;&gt;&quot;-Dmaven.repo.local=/home/jenkins/jenkins-slave/workspace/beam_PostCommit_Java_Version_Test/jdk/JDK 1.8 (latest)/label/beam/.repository&quot;&lt;/span&gt; -B -e -P release,dataflow-runner clean install coveralls:report -DrepoToken=**** -DskipITs=&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;-DintegrationTestPipelineOptions=[ &lt;span class=&quot;code-quote&quot;&gt;&quot;--project=apache-beam-testing&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;--tempRoot=gs:&lt;span class=&quot;code-comment&quot;&gt;//temp-storage-&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;-end-to-end-tests&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;--runner=org.apache.beam.runners.dataflow.testing.TestDataflowRunner&quot;&lt;/span&gt; ]&apos;&lt;/span&gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15928540" author="kenn" created="Thu, 16 Mar 2017 18:02:51 +0000"  >&lt;p&gt;I mean that you can just exclude the surface tests from the versions test matrix. It is not useful to run against multiple JDKs, etc. But I don&apos;t think you should do this, but just fix/workaround the root cause instead.&lt;/p&gt;</comment>
                            <comment id="15928600" author="davor" created="Thu, 16 Mar 2017 18:29:33 +0000"  >&lt;p&gt;I think I wouldn&apos;t like to go down that path &amp;#8211; the matrix job is replacing the current jobs, and every cell should just run everything. Otherwise, we&apos;ll get a mess.&lt;/p&gt;</comment>
                            <comment id="15928607" author="jasonkuster" created="Thu, 16 Mar 2017 18:33:56 +0000"  >&lt;p&gt;To bring the discussion we had offline yesterday to here, the real problem is the space in the directory name. We decided to fix that root cause instead of omitting suites which are broken by the space. Our consensus was that was the best way forward. Should we change this issue to reflect that? &lt;/p&gt;</comment>
                            <comment id="15929001" author="markflyhigh" created="Thu, 16 Mar 2017 22:08:25 +0000"  >&lt;p&gt;I built project in a directory that contains space on my Linux machine and found there are several sub-projects (including sdks-java-maven-archetype and sdks-python) are failed to build due to the directory-with-space issue, and none of them is easy fix for me. IMHO, I suggest to have a general JIRA to keep track all bugs from this issue. This one (&lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1676&quot; title=&quot;SdkCoreApiSurfaceTest Failed When Directory Contains Space&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1676&quot;&gt;&lt;del&gt;BEAM-1676&lt;/del&gt;&lt;/a&gt;) can be converted to a sub-task. &lt;/p&gt;</comment>
                            <comment id="15931625" author="staslev" created="Sun, 19 Mar 2017 09:42:56 +0000"  >&lt;p&gt;Good catch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markflyhigh&quot; class=&quot;user-hover&quot; rel=&quot;markflyhigh&quot;&gt;markflyhigh&lt;/a&gt;, looks like it has to do with &lt;a href=&quot;http://bugs.java.com/bugdatabase/view_bug.do?bug_id=4466485&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this issue in the JDK&lt;/a&gt;, which comes into play &lt;a href=&quot;https://github.com/apache/beam/blob/master/sdks/java/core/src/main/java/org/apache/beam/sdk/util/ApiSurface.java#L353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; in &lt;tt&gt;ApiSurface&lt;/tt&gt; which uses Guava&apos;s &lt;tt&gt;ClassPath&lt;/tt&gt; utility.&lt;/p&gt;

&lt;p&gt;Further investigation will need to take a deeper look to see if this needs to be fixed on the &lt;tt&gt;Beam&lt;/tt&gt; level, or the &lt;tt&gt;Guava&lt;/tt&gt; level.&lt;/p&gt;</comment>
                            <comment id="15948913" author="staslev" created="Thu, 30 Mar 2017 11:50:49 +0000"  >&lt;p&gt;This has recently been fixed in &lt;tt&gt;Guava&lt;/tt&gt;&apos;s &lt;a href=&quot;https://github.com/google/guava/commit/896c51abd32e136621c13d56b6130d0a72f4957a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;master&lt;/a&gt;. &lt;br/&gt;
We should probably grab the next release (22?) once it&apos;s out.&lt;/p&gt;</comment>
                            <comment id="15952864" author="jasonkuster" created="Sun, 2 Apr 2017 21:50:00 +0000"  >&lt;p&gt;Briefly chatted with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dhalperi%40google.com&quot; class=&quot;user-hover&quot; rel=&quot;dhalperi@google.com&quot;&gt;dhalperi@google.com&lt;/a&gt; &amp;#8211; he seemed to be under the impression that grabbing the next version of Guava was going to be difficult for Java8-related issues. Dan, can you elaborate and provide guidance here?&lt;/p&gt;</comment>
                            <comment id="15975461" author="markflyhigh" created="Wed, 19 Apr 2017 20:35:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=staslev&quot; class=&quot;user-hover&quot; rel=&quot;staslev&quot;&gt;staslev&lt;/a&gt; Looks like Guava 21.0 (the one we&apos;ll upgrade to) only support Java 8 (&lt;a href=&quot;https://github.com/google/guava/releases&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/google/guava/releases&lt;/a&gt;). Afaik, Beam Java still supports Java lower version. Is it possible for us to have a walk around solution in Beam?&lt;/p&gt;</comment>
                            <comment id="15990193" author="staslev" created="Sun, 30 Apr 2017 10:54:03 +0000"  >&lt;p&gt;We can internalize (euphemism for copy-paste) the fixed &lt;tt&gt;ClassPath&lt;/tt&gt; class implementation from the &lt;tt&gt;Guava&lt;/tt&gt; master, and use it within &lt;tt&gt;ApiSurface&lt;/tt&gt; (by keeping it private to &lt;tt&gt;ApiSurface&lt;/tt&gt; it should prevent any clashes with the other &lt;tt&gt;ClassPath&lt;/tt&gt; class residing in the current &lt;tt&gt;Guava&lt;/tt&gt; version).&lt;/p&gt;

&lt;p&gt;I have played with it briefly and it looks ok.&lt;/p&gt;

&lt;p&gt;What do you think?&lt;/p&gt;
</comment>
                            <comment id="15990572" author="davor" created="Mon, 1 May 2017 03:57:05 +0000"  >&lt;p&gt;This is the best path forward, almost certainly.&lt;/p&gt;

&lt;p&gt;Fixed Guava requires (or, will require) Java 8, which we may not be ready to upgrade to. So, waiting for a Guava fix is not the right strategy, and we should move from the Guava implementation somewhere else.&lt;/p&gt;

&lt;p&gt;If there&apos;s no other good, easy-to-use, lean library that provides this, we should just re-implement/copy-paste Guava&apos;s code. No worries from the licensing perspective; it&apos;s Apache 2-licensed code.&lt;/p&gt;</comment>
                            <comment id="15990737" author="githubbot" created="Mon, 1 May 2017 11:29:55 +0000"  >&lt;p&gt;GitHub user staslev opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2799&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2799&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1676&quot; title=&quot;SdkCoreApiSurfaceTest Failed When Directory Contains Space&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1676&quot;&gt;&lt;del&gt;BEAM-1676&lt;/del&gt;&lt;/a&gt; Internalize ClassPath from Guava 21.0.&lt;/p&gt;

&lt;p&gt;    Be sure to do all of the following to help us incorporate your contribution&lt;br/&gt;
    quickly and easily:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Make sure the PR title is formatted like:&lt;br/&gt;
       `&lt;a href=&quot;#&amp;gt;&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;BEAM-&amp;lt;Jira issue #&amp;gt;&lt;/a&gt; Description of pull request`&lt;/li&gt;
	&lt;li&gt;[ ] Make sure tests pass via `mvn clean verify`. (Even better, enable&lt;br/&gt;
           Travis-CI on your fork and ensure the whole test matrix passes).&lt;/li&gt;
	&lt;li&gt;[ ] Replace `&amp;lt;Jira issue #&amp;gt;` in the title with the actual Jira issue&lt;br/&gt;
           number, if there is one.&lt;/li&gt;
	&lt;li&gt;[ ] If this contribution is large, please file an Apache&lt;br/&gt;
           &lt;span class=&quot;error&quot;&gt;&amp;#91;Individual Contributor License Agreement&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://www.apache.org/licenses/icla.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.apache.org/licenses/icla.pdf&lt;/a&gt;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    &amp;#8212;&lt;/p&gt;


&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/staslev/beam&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/staslev/beam&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1676&quot; title=&quot;SdkCoreApiSurfaceTest Failed When Directory Contains Space&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1676&quot;&gt;&lt;del&gt;BEAM-1676&lt;/del&gt;&lt;/a&gt;-api-surface-tests-fail-with-spaces-in-dir-name&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2799.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2799.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2799&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 0624a70bd824c82219107e1a1594aafe7383e993&lt;br/&gt;
Author: Stas Levin &amp;lt;staslevin@apache.org&amp;gt;&lt;br/&gt;
Date:   2017-04-30T10:56:40Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-1676&quot; title=&quot;SdkCoreApiSurfaceTest Failed When Directory Contains Space&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-1676&quot;&gt;&lt;del&gt;BEAM-1676&lt;/del&gt;&lt;/a&gt; Internalize ClassPath from Guava 21.0 to fix the failures related to having whitespaces in resource names.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15991578" author="githubbot" created="Mon, 1 May 2017 21:24:18 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/beam/pull/2799&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/2799&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15991582" author="dhalperi@google.com" created="Mon, 1 May 2017 21:24:53 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=staslev&quot; class=&quot;user-hover&quot; rel=&quot;staslev&quot;&gt;staslev&lt;/a&gt;l!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13045712">BEAM-1544</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3b70v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>