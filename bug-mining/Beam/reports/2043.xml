<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 11:12:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-7009] Add Go SDK test for Standard Coders using the yaml data.</title>
                <link>https://issues.apache.org/jira/browse/BEAM-7009</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;The Go SDK doesn&apos;t currently do this validation, against the standard yaml file. &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
The Java and Python&#160;equivalents of the test can be found&#160;from here &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;.&lt;br/&gt;
&#160;&lt;br/&gt;
Care would need to be taken so that Beam Go SDK users (such as they are) aren&apos;t forced to run them, and not have the yaml file to read. I&apos;d suggest putting it with the integration tests &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;.&lt;/p&gt;

&lt;p&gt;The other thing of note is that the Go SDK has no notion of &quot;nested&quot; vs &quot;unnested&quot; coders. All coders are &quot;nested&quot; in the Go SDK, and should have their lengths prefixed to them as appropriate.&lt;/p&gt;


&lt;p&gt;1:&#160;&lt;a href=&quot;https://github.com/apache/beam/blob/master/model/fn-execution/src/main/resources/org/apache/beam/model/fnexecution/v1/standard_coders.yaml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/master/model/fn-execution/src/main/resources/org/apache/beam/model/fnexecution/v1/standard_coders.yaml&lt;/a&gt;&lt;br/&gt;
2:&#160;&lt;a href=&quot;https://github.com/apache/beam/search?q=standard_coders.yaml&amp;amp;unscoped_q=standard_coders.yaml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/search?q=standard_coders.yaml&amp;amp;unscoped_q=standard_coders.yaml&lt;/a&gt;&lt;br/&gt;
3:&#160;&lt;a href=&quot;https://github.com/apache/beam/tree/master/sdks/go/test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/tree/master/sdks/go/test&#160;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13226243">BEAM-7009</key>
            <summary>Add Go SDK test for Standard Coders using the yaml data.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10101" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">P1</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lostluck">Robert Burke</assignee>
                                    <reporter username="lostluck">Robert Burke</reporter>
                        <labels>
                            <label>stale-P2</label>
                    </labels>
                <created>Thu, 4 Apr 2019 20:40:43 +0000</created>
                <updated>Thu, 13 Jan 2022 21:52:15 +0000</updated>
                            <resolved>Mon, 11 Jan 2021 16:15:40 +0000</resolved>
                                                    <fixVersion>Missing</fixVersion>
                                    <component>beam-model</component>
                    <component>sdk-go</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="28800">8h</timespent>
                                <comments>
                            <comment id="17122862" author="beamjirabot" created="Tue, 2 Jun 2020 04:15:04 +0000"  >&lt;p&gt;This issue is P2 but has been unassigned without any comment for 60 days so it has been labeled &quot;stale-P2&quot;. If this issue is still affecting you, we care! Please comment and remove the label. Otherwise, in 14 days the issue will be moved to P3.&lt;/p&gt;

&lt;p&gt;Please see &lt;a href=&quot;https://beam.apache.org/contribute/jira-priorities/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://beam.apache.org/contribute/jira-priorities/&lt;/a&gt; for a detailed explanation of what these priorities mean.&lt;/p&gt;</comment>
                            <comment id="17136100" author="lostluck" created="Mon, 15 Jun 2020 18:46:04 +0000"  >&lt;p&gt;Just like with proto files, external files are a bit variable and I&apos;d rather not have these tests be brittle based on where the user&apos;s test code is running. In particular, the package tests shouldn&apos;t fail if the code is being used elsewhere.&lt;/p&gt;

&lt;p&gt;As such, we&apos;ll likely need to generate the tests from the YAML file, and check in that test. This runs into the same problem with protos, with the risk of the tests getting out of date, but coder formats change sparingly, so it&apos;s likely fine with clear enough documentation around the generated tests. &lt;br/&gt;
We have other things that call go-generate, so this should work out ok. In particular, I think I&apos;ll generate a package that the actual tests will use, with the tests being manually written and configured, rather than being clever in the generator.&lt;/p&gt;

&lt;p&gt;Edit,re-reading the JIRA description, I already had the clever idea of putting it with the integration tests instead, which would resolve the weirdness I previously described.&lt;/p&gt;</comment>
                            <comment id="17139101" author="lostluck" created="Thu, 18 Jun 2020 05:26:30 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lcwik&quot; class=&quot;user-hover&quot; rel=&quot;lcwik&quot;&gt;lcwik&lt;/a&gt;&lt;br/&gt;
TIL that the ISO_8859_1 encoded examples are not encoded as ISO_8859_1 strings. They&apos;re ordinary bytes, &lt;b&gt;interpreted&lt;/b&gt; as ISO_8859_1, and written out. That way. The Java String constructor with a charset takes in bytes, and the specified way to interpret the bytes, not the way one wishes to encode the bytes. To extract ISO_8859_1 bytes from a Java string one must wrap the bytes normally, and use the getBytes(charset). The API is being used backwards.&lt;/p&gt;

&lt;p&gt;I was converting the raw bytes to UTF8 by decoding a ISO_8859_1 representation of the strings, but instead, I need to &quot;encode&quot; the read in bytes to ISO_8859_1, in order to get the native go representation (UTF8).&lt;/p&gt;

&lt;p&gt;I&apos;m assuming this is a mistake, as it&apos;s not clear to me why one would do that intentionally.&lt;/p&gt;

&lt;p&gt;This explains why I&apos;m seeing the python code &quot;encode&quot; everything instead of &quot;decode&quot; everything, which is very confusing.&lt;/p&gt;</comment>
                            <comment id="17139556" author="lcwik" created="Thu, 18 Jun 2020 17:03:21 +0000"  >&lt;p&gt;That makes sense to me but it would be good to confirm with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=heejong&quot; class=&quot;user-hover&quot; rel=&quot;heejong&quot;&gt;heejong&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17154894" author="lostluck" created="Thu, 9 Jul 2020 19:50:44 +0000"  >&lt;p&gt;I have most of this work done, and am ushering it in along with the row coder work from&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-9615&quot; title=&quot;[Go SDK] Beam Schemas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-9615&quot;&gt;&lt;del&gt;BEAM-9615&lt;/del&gt;&lt;/a&gt;. The coders I haven&apos;t bothered to implement at this time are Timer and ParamWindowCoders as they also require Panes to be implemented, which aren&apos;t currently present in the Go SDK in a meaningful fashion.&lt;/p&gt;</comment>
                            <comment id="17173910" author="beamjirabot" created="Sun, 9 Aug 2020 17:06:24 +0000"  >&lt;p&gt;This issue is assigned but has not received an update in 30 days so it has been labeled &quot;stale-assigned&quot;. If you are still working on the issue, please give an update and remove the label. If you are no longer working on the issue, please unassign so someone else may work on it. In 7 days the issue will be automatically unassigned.&lt;/p&gt;</comment>
                            <comment id="17174940" author="lostluck" created="Mon, 10 Aug 2020 17:32:17 +0000"  >&lt;p&gt;I have a working test set up for standard_coders.yaml, but to submit it I need to progress&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/BEAM-9615&quot; title=&quot;[Go SDK] Beam Schemas&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BEAM-9615&quot;&gt;&lt;del&gt;BEAM-9615&lt;/del&gt;&lt;/a&gt;&#160;further.&lt;/p&gt;</comment>
                            <comment id="17179754" author="beamjirabot" created="Tue, 18 Aug 2020 17:06:35 +0000"  >&lt;p&gt;This issue was marked &quot;stale-assigned&quot; and has not received a public comment in 7 days. It is now automatically unassigned. If you are still working on it, you can assign it to yourself again. Please also give an update about the status of the work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 12 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01ha0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>