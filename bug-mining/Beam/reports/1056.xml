<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Tue Nov 11 10:56:51 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BEAM-6726] Gradle Publish fails with Gradle 5</title>
                <link>https://issues.apache.org/jira/browse/BEAM-6726</link>
                <project id="12319527" key="BEAM">Beam</project>
                    <description>&lt;p&gt;cc: &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alanmyrvold&quot; class=&quot;user-hover&quot; rel=&quot;alanmyrvold&quot;&gt;alanmyrvold&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;:beam-sdks-java-bom:signMavenJavaPublication task fails with an obscure error: (&lt;a href=&quot;https://scans.gradle.com/s/mcbb4axlx6agy/failure?openFailures=WzBd&amp;amp;openStackTraces=WzFd#top=0):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://scans.gradle.com/s/mcbb4axlx6agy/failure?openFailures=WzBd&amp;amp;openStackTraces=WzFd#top=0):&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Duplicate key pom-default.xml.asc:xml.asc:asc:null (attempted merging values Signature pom-default.xml.asc:xml.asc:asc:null and Signature pom-default.xml.asc:xml.asc:asc:null)&lt;/p&gt;

&lt;p&gt;Downgrading to Gradle 4 by reverting &lt;a href=&quot;https://github.com/apache/beam/commit/cadb6f7fabc6faedc6037104338306688f17652f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/commit/cadb6f7fabc6faedc6037104338306688f17652f&lt;/a&gt; works.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13217344">BEAM-6726</key>
            <summary>Gradle Publish fails with Gradle 5</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="10100" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">P0</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="michel">Michael Luckey</assignee>
                                    <reporter username="altay">Ahmet Altay</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Feb 2019 03:01:34 +0000</created>
                <updated>Sat, 16 May 2020 14:21:31 +0000</updated>
                            <resolved>Mon, 11 Mar 2019 20:57:04 +0000</resolved>
                                    <version>2.11.0</version>
                                    <fixVersion>2.12.0</fixVersion>
                                    <component>build-system</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="14400">4h</timespent>
                                <comments>
                            <comment id="16774709" author="kenn" created="Fri, 22 Feb 2019 03:05:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michel&quot; class=&quot;user-hover&quot; rel=&quot;michel&quot;&gt;michel&lt;/a&gt; FYI&lt;/p&gt;</comment>
                            <comment id="16774712" author="kenn" created="Fri, 22 Feb 2019 03:10:13 +0000"  >&lt;p&gt;Some possibly-related links I&apos;ve collected:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://sea-region.github.com/vanniktech/gradle-maven-publish-plugin/issues/38&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sea-region.github.com/vanniktech/gradle-maven-publish-plugin/issues/38&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://github.com/gradle/gradle/issues/8213&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gradle/gradle/issues/8213&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;It may be a bug in our configuration has been triggered.&lt;/p&gt;</comment>
                            <comment id="16774714" author="altay" created="Fri, 22 Feb 2019 03:18:35 +0000"  >&lt;p&gt;&amp;gt; &lt;a href=&quot;https://github.com/gradle/gradle/issues/8213&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gradle/gradle/issues/8213&lt;/a&gt;&lt;br/&gt;
This one led me to try with Gradle 4, and the first link was duplicated to this one. I could not find any other information anywhere else. I tried the suggestion on the issue (&lt;a href=&quot;https://github.com/gradle/gradle/issues/8213#issuecomment-453278398&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gradle/gradle/issues/8213#issuecomment-453278398&lt;/a&gt;) and it did not work weither.&lt;/p&gt;

&lt;p&gt;Question: Could we revert this change in the release branch? Would use of Gradle 4 result in different beam artifacts? I am guessing not unless our artifacts depends on the build tool we use.&lt;/p&gt;</comment>
                            <comment id="16774721" author="kenn" created="Fri, 22 Feb 2019 03:32:04 +0000"  >&lt;p&gt;I think we can revert on the release branch. Even if the artifacts were different, if they validate is there a problem?&lt;/p&gt;</comment>
                            <comment id="16774726" author="altay" created="Fri, 22 Feb 2019 03:38:12 +0000"  >&lt;p&gt;Validation was fine, but I did the validation with gradle 5. This issue happens later; when signing the artifacts.&lt;/p&gt;

&lt;p&gt;I also noticed that I can downgrade gradle just before signing the artifacts. Not sure if it is any better.&lt;/p&gt;</comment>
                            <comment id="16774891" author="michel" created="Fri, 22 Feb 2019 08:09:03 +0000"  >&lt;p&gt;I will look into that.&lt;/p&gt;</comment>
                            <comment id="16775173" author="michel" created="Fri, 22 Feb 2019 14:08:08 +0000"  >&lt;p&gt;Opened PR &lt;a href=&quot;https://github.com/apache/beam/pull/7925&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/pull/7925&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;With this change, I was able to sign projects artifacts. As &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kenn&quot; class=&quot;user-hover&quot; rel=&quot;kenn&quot;&gt;kenn&lt;/a&gt; already stated, this was triggered by improper configuration on our side. (Thx btw for those links, Kenn, as those provided the relevant information to understand this issue)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=altay&quot; class=&quot;user-hover&quot; rel=&quot;altay&quot;&gt;altay&lt;/a&gt; this should render it unnecessary to downgrade for the release. Hope, no other issues will show up, as I did not test the full release cycle.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16775359" author="altay" created="Fri, 22 Feb 2019 16:41:52 +0000"  >&lt;p&gt;Thank you. After merging please send a cherry pick PR for the release branch. I already cut RC1, if we happen to need an RC2 I will cut it with this change.&lt;/p&gt;</comment>
                            <comment id="16777679" author="altay" created="Tue, 26 Feb 2019 07:37:19 +0000"  >&lt;p&gt;I patched this for RC2 and it is still failing. With the following error:&lt;/p&gt;

&lt;p&gt;&quot;&amp;gt; Task :beam-runners-apex:buildDependencyTree&lt;br/&gt;
See the report at: &lt;a href=&quot;file:///usr/local/google/home/altay/build_release_candidate/beam/runners/apex/build/classes/java/main/org/apache/beam/runners/apex/dependency-tree&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///usr/local/google/home/altay/build_release_candidate/beam/runners/apex/build/classes/java/main/org/apache/beam/runners/apex/dependency-tree&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; Task :beam-sdks-java-bom:signMavenJavaPublication FAILED&lt;/p&gt;

&lt;p&gt;FAILURE: Build failed with an exception.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;What went wrong:&lt;br/&gt;
A problem was found with the configuration of task &apos;:beam-sdks-java-bom:signMavenJavaPublication&apos;.&lt;br/&gt;
&amp;gt; No value has been specified for property &apos;signatory.keyId&apos;.&lt;br/&gt;
&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I will revert the commits back and would not use gradle 5.0 for 2.11 release.&lt;/p&gt;</comment>
                            <comment id="16777784" author="michel" created="Tue, 26 Feb 2019 10:07:28 +0000"  >&lt;p&gt;Oh well... I guess I have to try releasing myself and see, where exactly is the problem.&lt;/p&gt;

&lt;p&gt;I did not use beams release workflow, but just signed the artifacts. And of course sign plugin needs the key to sign with... dunno how that&apos;s specified in beams release process... will have a look.&lt;/p&gt;

&lt;p&gt;Sorry for the inconvenience...&lt;/p&gt;</comment>
                            <comment id="16780440" author="michel" created="Thu, 28 Feb 2019 11:59:22 +0000"  >&lt;p&gt;After digging into that I have to confirm that, although gradle documentation states &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Without any further configuration the gpg2 (on Windows: gpg2.exe) executable found on the PATH will be used. The password is supplied by the gpg-agent and the default key is used for signing.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;this is not working anymore. I think this is an unintentional regression on gradle side and qualifies as a bug.&lt;/p&gt;

&lt;p&gt;Unfortunately also the provided error message is misleading. To be able to sign with gradle 5.1+ we need to provide the to be used key. This could be done either by adding &lt;em&gt;-Psigning.gnupg.keyName=&amp;lt;KEY-ID&amp;gt;&lt;/em&gt; - which probably has to be done by some environment vars similar to &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; as the call to gradle is wrapped in corresponding shell script &lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; - or by adding the key id to the developers gradle.properties file.&lt;/p&gt;

&lt;p&gt;As I am not using default keys for signing and also always have project specific gradle home, I have set this as&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;$ cat beam-gradle-home/gradle.properties 
signing.gnupg.keyName=&amp;lt;MY-APACHE-SIGNING-KEY-ID&amp;gt;
signing.gnupg.executable=gpg2 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Of course for those who sign with default key anyway, it does not make a difference to add this to global developers gradle properties in &lt;em&gt;~/.gradle/gradle.properties&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Do you think this will be too much of a burden?&lt;/p&gt;

&lt;p&gt;Note: AFAICT this issue was &quot;introduced&quot; with gradle 5.1, i.e. 5.0 was still working. Downgrading to 5.0 seems to be no option, though.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://docs.gradle.org/current/userguide/signing_plugin.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.gradle.org/current/userguide/signing_plugin.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/master/release/src/main/scripts/build_release_candidate.sh#L48-L55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/master/release/src/main/scripts/build_release_candidate.sh#L48-L55&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://github.com/apache/beam/blob/master/release/src/main/scripts/build_release_candidate.sh#L92-L94&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/beam/blob/master/release/src/main/scripts/build_release_candidate.sh#L92-L94&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16780675" author="michel" created="Thu, 28 Feb 2019 16:02:34 +0000"  >&lt;p&gt;fwiw, opened &lt;a href=&quot;https://github.com/gradle/gradle/issues/8657&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;issue #8657&lt;/a&gt;&#160;against gradle.&lt;/p&gt;</comment>
                            <comment id="16780756" author="altay" created="Thu, 28 Feb 2019 17:14:35 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=michel&quot; class=&quot;user-hover&quot; rel=&quot;michel&quot;&gt;michel&lt;/a&gt;. This should be manageable. Do you mind adding a note to the release guide so that the next person doing the release would be aware of this.&lt;/p&gt;</comment>
                            <comment id="16781846" author="michel" created="Fri, 1 Mar 2019 16:28:22 +0000"  >&lt;p&gt;Sure. Will do.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 37 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi1980:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>