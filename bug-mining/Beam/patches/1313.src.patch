diff --git a/sdks/python/build.gradle b/sdks/python/build.gradle
index af02d84b9d6..b829e34d16a 100644
--- a/sdks/python/build.gradle
+++ b/sdks/python/build.gradle
@@ -28,7 +28,7 @@ task buildPython(dependsOn: 'setupVirtualenv') {
     logger.info('Building Python Dependencies')
     exec {
       executable 'sh'
-      args '-c', ". ${project.ext.envdir}/bin/activate && python setup.py build --build-base ${project.buildDir}"
+      args '-c', ". ${envdir}/bin/activate && python setup.py build --build-base ${buildDir}"
     }
   }
 }
@@ -68,13 +68,17 @@ artifacts {
 // Results will be stored in files under Gradle build directory.
 task depSnapshot(dependsOn: 'installGcpTest') {
   doLast {
-    def requirements_file = new File("${project.buildDir}/requirements.txt")
-    requirements_file.createNewFile()
+    def outputDir = file(project.buildDir)
+    if (!outputDir.exists()) {
+      outputDir.mkdirs()
+    }
+    def requirementsFile = "${outputDir}/requirements.txt"
+
     logger.info('Snapshoting full dependencies requirements with versions info to build/requirements.txt.')
     exec {
       // Remove useless item "pkg-resources" from file which is introduced by a bug in Ubuntu.
       executable 'sh'
-      args '-c', ". ${project.ext.envdir}/bin/activate && pip freeze --local --all | grep -v \"pkg-resources\" > ${requirements_file}"
+      args '-c', ". ${project.ext.envdir}/bin/activate && pip freeze --local --all | grep -v \"pkg-resources\" > ${requirementsFile}"
     }
   }
 }
