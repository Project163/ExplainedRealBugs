diff --git a/sdks/python/build.gradle b/sdks/python/build.gradle
index b43edf66e28..bd0d4127d0c 100644
--- a/sdks/python/build.gradle
+++ b/sdks/python/build.gradle
@@ -301,6 +301,9 @@ task portableWordCount(dependsOn: 'installGcpTest') {
     ]
     if (project.hasProperty("streaming"))
       options += ["--streaming"]
+    else
+      // workaround for local file output in docker container
+      options += ["--environment_cache_millis=10000"]
     if (project.hasProperty("jobEndpoint"))
       options += ["--job_endpoint=${project.property('jobEndpoint')}"]
     exec {
