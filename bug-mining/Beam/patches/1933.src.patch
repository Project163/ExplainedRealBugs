diff --git a/sdks/python/apache_beam/runners/portability/local_job_service_test.py b/sdks/python/apache_beam/runners/portability/local_job_service_test.py
index 5ba54271c4f..9a2d08f89b2 100644
--- a/sdks/python/apache_beam/runners/portability/local_job_service_test.py
+++ b/sdks/python/apache_beam/runners/portability/local_job_service_test.py
@@ -60,7 +60,9 @@ class LocalJobServerTest(unittest.TestCase):
     ]
     self.assertEqual([s.state for s in state_results], expected_states)
 
-    self.assertEqual([s.state_response.state for s in message_results],
+    stateful_messages = filter(
+        lambda m: m.HasField('state_response'), message_results)
+    self.assertEqual([s.state_response.state for s in stateful_messages],
                      expected_states)
 
   def test_error_messages_after_pipeline_failure(self):
