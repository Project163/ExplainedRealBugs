diff --git a/.test-infra/jenkins/PrecommitJobBuilder.groovy b/.test-infra/jenkins/PrecommitJobBuilder.groovy
index 0b8147150e1..af0ef837c53 100644
--- a/.test-infra/jenkins/PrecommitJobBuilder.groovy
+++ b/.test-infra/jenkins/PrecommitJobBuilder.groovy
@@ -103,11 +103,13 @@ class PrecommitJobBuilder {
           rootBuildScriptDir(commonJobProperties.checkoutDir)
           tasks(gradleTask)
           commonJobProperties.setGradleSwitches(delegate)
-          switches('-PgithubPullRequestId=${ghprbPullId}')
-	  if (nameBase == 'Java') {
+          if (scope.binding.hasVariable('ghprbPullId')) {
+            switches('-PgithubPullRequestId=${ghprbPullId}')
+          }
+          if (nameBase == 'Java') {
             // BEAM-5035: Parallel builds are very flaky
             switches('--no-parallel')
-	  }
+          }
         }
       }
     }
