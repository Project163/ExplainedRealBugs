diff --git a/.test-infra/metrics/build.gradle b/.test-infra/metrics/build.gradle
index bdcc0407c47..637734930e7 100644
--- a/.test-infra/metrics/build.gradle
+++ b/.test-infra/metrics/build.gradle
@@ -39,4 +39,10 @@ dockerCompose.isRequiredBy(testMetricsStack)
 
 task preCommit { dependsOn testMetricsStack }
 
-task checkProber { dependsOn test }
+task checkProber(type:Test) {
+  include "**/ProberTests.class"
+}
+
+project.test {
+  exclude "**/ProberTests.class"
+}
