diff --git a/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy b/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy
index 66f8654967d..725880fafac 100644
--- a/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy
+++ b/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy
@@ -1529,7 +1529,7 @@ class BeamModulePlugin implements Plugin<Project> {
               enableSpotbugs: false,
               archivesBaseName: configuration.archivesBaseName,
               shadowJarValidationExcludes: it.shadowJarValidationExcludes,
-              shadowClosure: GrpcVendoring.shadowClosure() << {
+              shadowClosure: GrpcVendoringOld.shadowClosure() << {
                 // We perform all the code relocations but don't include
                 // any of the actual dependencies since they will be supplied
                 // by org.apache.beam:beam-vendor-grpc-v1p13p1:0.1
@@ -1569,7 +1569,7 @@ class BeamModulePlugin implements Plugin<Project> {
         }
       }
 
-      project.dependencies GrpcVendoring.dependenciesClosure() << { shadow project.ext.library.java.vendored_grpc_1_13_1 }
+      project.dependencies GrpcVendoringOld.dependenciesClosure() << { shadow project.ext.library.java.vendored_grpc_1_13_1 }
     }
 
     /** ***********************************************************************************************/
diff --git a/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring.groovy b/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring.groovy
index 102f0a02a59..96c6bf88054 100644
--- a/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring.groovy
+++ b/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoring.groovy
@@ -27,23 +27,24 @@ class GrpcVendoring {
   /** Returns the list of compile time dependencies. */
   static List<String> dependencies() {
     return [
-      'com.google.guava:guava:20.0',
-      'com.google.protobuf:protobuf-java:3.6.0',
-      'com.google.protobuf:protobuf-java-util:3.6.0',
+      'com.google.guava:guava:26.0-jre',
+      'com.google.protobuf:protobuf-java:3.7.1',
+      'com.google.protobuf:protobuf-java-util:3.7.1',
       'com.google.code.gson:gson:2.7',
-      'io.grpc:grpc-auth:1.13.1',
-      'io.grpc:grpc-core:1.13.1',
-      'io.grpc:grpc-context:1.13.1',
-      'io.grpc:grpc-netty:1.13.1',
-      'io.grpc:grpc-protobuf:1.13.1',
-      'io.grpc:grpc-stub:1.13.1',
-      'io.netty:netty-transport-native-epoll:4.1.25.Final',
-      'io.netty:netty-tcnative-boringssl-static:2.0.8.Final',
-      'com.google.auth:google-auth-library-credentials:0.10.0',
-      'io.grpc:grpc-testing:1.13.1',
+      'io.grpc:grpc-auth:1.21.0',
+      'io.grpc:grpc-core:1.21.0',
+      'io.grpc:grpc-context:1.21.0',
+      'io.grpc:grpc-netty:1.21.0',
+      'io.grpc:grpc-protobuf:1.21.0',
+      'io.grpc:grpc-stub:1.21.0',
+      'io.netty:netty-transport-native-epoll:4.1.34.Final',
+      // tcnative version from https://github.com/grpc/grpc-java/blob/master/SECURITY.md#netty
+      'io.netty:netty-tcnative-boringssl-static:2.0.22.Final',
+      'com.google.auth:google-auth-library-credentials:0.13.0',
+      'io.grpc:grpc-testing:1.21.0',
       'com.google.api.grpc:proto-google-common-protos:1.12.0',
-      'io.opencensus:opencensus-api:0.12.3',
-      'io.opencensus:opencensus-contrib-grpc-metrics:0.12.3',
+      'io.opencensus:opencensus-api:0.21.0',
+      'io.opencensus:opencensus-contrib-grpc-metrics:0.21.0',
     ]
   }
 
@@ -53,7 +54,7 @@ class GrpcVendoring {
    */
   static List<String> runtimeDependencies() {
     return [
-      'com.google.errorprone:error_prone_annotations:2.1.2'
+      'com.google.errorprone:error_prone_annotations:2.3.2',
     ]
   }
 
@@ -72,7 +73,8 @@ class GrpcVendoring {
     // those libraries may provide. The 'validateShadedJarDoesntLeakNonOrgApacheBeamClasses'
     // ensures that there are no classes outside of the 'org.apache.beam' namespace.
 
-    String prefix = "org.apache.beam.vendor.grpc.v1p13p1";
+    String version = "v1p21p0";
+    String prefix = "org.apache.beam.vendor.grpc.${version}";
     List<String> packagesToRelocate = [
       // guava uses the com.google.common and com.google.thirdparty package namespaces
       "com.google.common",
@@ -92,25 +94,29 @@ class GrpcVendoring {
     ]
 
     return packagesToRelocate.collectEntries {
-      [ (it): "org.apache.beam.vendor.grpc.v1p13p1.${it}" ]
+      [ (it): "${prefix}.${it}" ]
     } + [
       // Adapted from https://github.com/grpc/grpc-java/blob/e283f70ad91f99c7fee8b31b605ef12a4f9b1690/netty/shaded/build.gradle#L41
       // We       "io.netty": "${prefix}.io.netty",have to be careful with these replacements as they must not match any
       // string in NativeLibraryLoader, else they cause corruption. Note that
       // this includes concatenation of string literals and constants.
-      'META-INF/native/libnetty': 'META-INF/native/liborg_apache_beam_vendor_grpc_v1p13p1_netty',
-      'META-INF/native/netty': 'META-INF/native/org_apache_beam_vendor_grpc_v1p13p1_netty',
+      'META-INF/native/libnetty': "META-INF/native/liborg_apache_beam_vendor_grpc_${version}_netty",
+      'META-INF/native/netty': "META-INF/native/org_apache_beam_vendor_grpc_${version}_netty",
     ]
   }
 
   /** Returns the list of shading exclusions. */
   static List<String> exclusions() {
     return [
-      // Don't include errorprone, JDK8 annotations, objenesis, junit, and mockito in the vendored jar
+      // Don't include android annotations, errorprone, checkerframework, JDK8 annotations, objenesis, junit, and mockito in the vendored jar
+      "android/annotation/**/",
       "com/google/errorprone/**",
       "com/google/instrumentation/**",
+      "com/google/j2objc/annotations/**",
       "javax/annotation/**",
       "junit/**",
+      "org/checkerframework/**",
+      "org/codehaus/mojo/animal_sniffer/**",
       "org/hamcrest/**",
       "org/junit/**",
       "org/mockito/**",
diff --git a/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoringOld.groovy b/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoringOld.groovy
new file mode 100644
index 00000000000..3111489ce1f
--- /dev/null
+++ b/buildSrc/src/main/groovy/org/apache/beam/gradle/GrpcVendoringOld.groovy
@@ -0,0 +1,144 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * License); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *     http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an AS IS BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+
+package org.apache.beam.gradle
+
+import org.gradle.api.Project
+
+/**
+ * Utilities for working with our vendored version of gRPC.
+ */
+class GrpcVendoringOld {
+  /** Returns the list of compile time dependencies. */
+  static List<String> dependencies() {
+    return [
+      'com.google.guava:guava:20.0',
+      'com.google.protobuf:protobuf-java:3.6.0',
+      'com.google.protobuf:protobuf-java-util:3.6.0',
+      'com.google.code.gson:gson:2.7',
+      'io.grpc:grpc-auth:1.13.1',
+      'io.grpc:grpc-core:1.13.1',
+      'io.grpc:grpc-context:1.13.1',
+      'io.grpc:grpc-netty:1.13.1',
+      'io.grpc:grpc-protobuf:1.13.1',
+      'io.grpc:grpc-stub:1.13.1',
+      'io.netty:netty-transport-native-epoll:4.1.25.Final',
+      'io.netty:netty-tcnative-boringssl-static:2.0.8.Final',
+      'com.google.auth:google-auth-library-credentials:0.10.0',
+      'io.grpc:grpc-testing:1.13.1',
+      'com.google.api.grpc:proto-google-common-protos:1.12.0',
+      'io.opencensus:opencensus-api:0.12.3',
+      'io.opencensus:opencensus-contrib-grpc-metrics:0.12.3',
+    ]
+  }
+
+  /**
+   * Returns the list of runtime time dependencies that should be exported as runtime
+   * dependencies within the vendored jar.
+   */
+  static List<String> runtimeDependencies() {
+    return [
+      'com.google.errorprone:error_prone_annotations:2.1.2'
+    ]
+  }
+
+  static Map<String, String> relocations() {
+    // The relocation paths below specifically use gRPC and the full version string as
+    // the code relocation prefix. See https://lists.apache.org/thread.html/4c12db35b40a6d56e170cd6fc8bb0ac4c43a99aa3cb7dbae54176815@%3Cdev.beam.apache.org%3E
+    // for further details.
+
+    // To produce the list of necessary relocations, one needs to start with a set of target
+    // packages that one wants to vendor, find all necessary transitive dependencies of that
+    // set and provide relocations for each such that all necessary packages and their
+    // dependencies are relocated. Any optional dependency that doesn't need relocation
+    // must be excluded via an 'exclude' rule. There is additional complexity of libraries that use
+    // JNI or reflection and have to be handled on case by case basis by learning whether
+    // they support relocation and how would one go about doing it by reading any documentation
+    // those libraries may provide. The 'validateShadedJarDoesntLeakNonOrgApacheBeamClasses'
+    // ensures that there are no classes outside of the 'org.apache.beam' namespace.
+
+    String prefix = "org.apache.beam.vendor.grpc.v1p13p1";
+    List<String> packagesToRelocate = [
+      // guava uses the com.google.common and com.google.thirdparty package namespaces
+      "com.google.common",
+      "com.google.thirdparty",
+      "com.google.protobuf",
+      "com.google.gson",
+      "io.grpc",
+      "com.google.auth",
+      "com.google.api",
+      "com.google.cloud",
+      "com.google.logging",
+      "com.google.longrunning",
+      "com.google.rpc",
+      "com.google.type",
+      "io.opencensus",
+      "io.netty"
+    ]
+
+    return packagesToRelocate.collectEntries {
+      [ (it): "org.apache.beam.vendor.grpc.v1p13p1.${it}" ]
+    } + [
+      // Adapted from https://github.com/grpc/grpc-java/blob/e283f70ad91f99c7fee8b31b605ef12a4f9b1690/netty/shaded/build.gradle#L41
+      // We       "io.netty": "${prefix}.io.netty",have to be careful with these replacements as they must not match any
+      // string in NativeLibraryLoader, else they cause corruption. Note that
+      // this includes concatenation of string literals and constants.
+      'META-INF/native/libnetty': 'META-INF/native/liborg_apache_beam_vendor_grpc_v1p13p1_netty',
+      'META-INF/native/netty': 'META-INF/native/org_apache_beam_vendor_grpc_v1p13p1_netty',
+    ]
+  }
+
+  /** Returns the list of shading exclusions. */
+  static List<String> exclusions() {
+    return [
+      // Don't include errorprone, JDK8 annotations, objenesis, junit, and mockito in the vendored jar
+      "com/google/errorprone/**",
+      "com/google/instrumentation/**",
+      "javax/annotation/**",
+      "junit/**",
+      "org/hamcrest/**",
+      "org/junit/**",
+      "org/mockito/**",
+      "org/objenesis/**",
+    ]
+  }
+
+  /**
+   * Returns a closure contaning the dependencies map used for shading gRPC within the main
+   * Apache Beam project.
+   */
+  static Object dependenciesClosure() {
+    return {
+      dependencies().each { compile it }
+      runtimeDependencies().each { shadow it }
+    }
+  }
+
+  /**
+   * Returns a closure with the code relocation configuration for shading gRPC within the main
+   * Apache Beam project.
+   */
+  static Object shadowClosure() {
+    return {
+      relocations().each { srcNamespace, destNamespace ->
+        relocate srcNamespace, destNamespace
+      }
+      exclusions().each { exclude it }
+    }
+  }
+}
diff --git a/buildSrc/src/main/groovy/org/apache/beam/gradle/VendorJavaPlugin.groovy b/buildSrc/src/main/groovy/org/apache/beam/gradle/VendorJavaPlugin.groovy
index a522d273634..4cafd303072 100644
--- a/buildSrc/src/main/groovy/org/apache/beam/gradle/VendorJavaPlugin.groovy
+++ b/buildSrc/src/main/groovy/org/apache/beam/gradle/VendorJavaPlugin.groovy
@@ -35,11 +35,11 @@ import org.gradle.api.publish.maven.MavenPublication
  *   <li>Increment the vendored artifact version only if we need to release a new version.
  * </ul>
  *
- * <p>Example for com.google.guava:guava:20.0:
+ * <p>Example for com.google.guava:guava:26.0-jre:
  * <ul>
  *   <li>groupId: org.apache.beam
- *   <li>artifactId: guava-20_0
- *   <li>namespace: org.apache.beam.vendor.guava.v20_0
+ *   <li>artifactId: guava-26_0-jre
+ *   <li>namespace: org.apache.beam.vendor.guava.v26_0_jre
  *   <li>version: 0.1
  * </ul>
  *
diff --git a/settings.gradle b/settings.gradle
index 1cfa4bc1564..caced225e93 100644
--- a/settings.gradle
+++ b/settings.gradle
@@ -135,10 +135,10 @@ include ":sdks:python:test-suites:portable:py35"
 include ":sdks:python:test-suites:tox:py35"
 include ":sdks:python:test-suites:tox:py36"
 include ":sdks:python:test-suites:tox:py37"
-include ":vendor:grpc-1_13_1"
+include ":vendor:grpc-1_21_0"
 include ":vendor:bytebuddy-1_9_3"
 include ":vendor:sdks-java-extensions-protobuf"
-include ":vendor:guava-20_0"
+include ":vendor:guava-26_0-jre"
 include ":website"
 include ":runners:google-cloud-dataflow-java:worker:legacy-worker"
 include ":runners:google-cloud-dataflow-java:worker"
diff --git a/vendor/grpc-1_13_1/build.gradle b/vendor/grpc-1_21_0/build.gradle
similarity index 95%
rename from vendor/grpc-1_13_1/build.gradle
rename to vendor/grpc-1_21_0/build.gradle
index 9d119c94cd9..16ded33f65e 100644
--- a/vendor/grpc-1_13_1/build.gradle
+++ b/vendor/grpc-1_21_0/build.gradle
@@ -20,17 +20,17 @@ import org.apache.beam.gradle.GrpcVendoring
 
 plugins { id 'org.apache.beam.vendor-java' }
 
-description = "Apache Beam :: Vendored Dependencies :: gRPC :: 1.13.1"
+description = "Apache Beam :: Vendored Dependencies :: gRPC :: 1.21.0"
 
 group = "org.apache.beam"
-version = "0.2"
+version = "0.1"
 
 vendorJava(
   dependencies: GrpcVendoring.dependencies(),
   runtimeDependencies: GrpcVendoring.runtimeDependencies(),
   relocations: GrpcVendoring.relocations(),
   exclusions: GrpcVendoring.exclusions(),
-  artifactId: "beam-vendor-grpc-1_13_1",
+  artifactId: "beam-vendor-grpc-1_21_0",
   groupId: group,
   version: version,
 )
diff --git a/vendor/guava-20_0/build.gradle b/vendor/guava-26_0-jre/build.gradle
similarity index 73%
rename from vendor/guava-20_0/build.gradle
rename to vendor/guava-26_0-jre/build.gradle
index 419e6562893..da4e541281a 100644
--- a/vendor/guava-20_0/build.gradle
+++ b/vendor/guava-26_0-jre/build.gradle
@@ -18,18 +18,18 @@
 
 plugins { id 'org.apache.beam.vendor-java' }
 
-description = "Apache Beam :: Vendored Dependencies :: Guava 20"
+description = "Apache Beam :: Vendored Dependencies :: Guava 26.0-jre"
 
 group = "org.apache.beam"
 version = "0.1"
 
 vendorJava(
-  dependencies: ["com.google.guava:guava:20.0"],
+  dependencies: ["com.google.guava:guava:26.0-jre"],
   relocations: [
-    "com.google.common": "org.apache.beam.vendor.guava.v20_0.com.google.common",
-    "com.google.thirdparty": "org.apache.beam.vendor.guava.v20_0.com.google.thirdparty",
+    "com.google.common": "org.apache.beam.vendor.guava.v26_0_jre.com.google.common",
+    "com.google.thirdparty": "org.apache.beam.vendor.guava.v26_0_jre.com.google.thirdparty",
   ],
   groupId: group,
-  artifactId: "beam-vendor-guava-20_0",
+  artifactId: "beam-vendor-guava-26_0-jre",
   version: version,
 )
