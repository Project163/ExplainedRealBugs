diff --git a/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy b/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy
index 49147654ba9..80e94f3a7dd 100644
--- a/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy
+++ b/buildSrc/src/main/groovy/org/apache/beam/gradle/BeamModulePlugin.groovy
@@ -1329,7 +1329,7 @@ artifactId=${project.name}
         inputs.files project.configurations.shadowTest.artifacts.files
         doLast {
           (project.configurations.shadow.artifacts.files + project.configurations.shadowTest.artifacts.files).each {
-            FileTree exposedClasses = zipTree(it).matching {
+            FileTree exposedClasses = project.zipTree(it).matching {
               include "**/*.class"
               exclude "org/apache/beam/**"
             }
