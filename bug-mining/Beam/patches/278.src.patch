diff --git a/sdks/java/core/src/main/java/org/apache/beam/sdk/options/PipelineOptions.java b/sdks/java/core/src/main/java/org/apache/beam/sdk/options/PipelineOptions.java
index 063eac47e44..d423bfadf03 100644
--- a/sdks/java/core/src/main/java/org/apache/beam/sdk/options/PipelineOptions.java
+++ b/sdks/java/core/src/main/java/org/apache/beam/sdk/options/PipelineOptions.java
@@ -334,8 +334,8 @@ public interface PipelineOptions extends HasDisplayData {
    */
   @Hidden
   @Default.InstanceFactory(AtomicLongFactory.class)
-  Long getOptionsId();
-  void setOptionsId(Long id);
+  long getOptionsId();
+  void setOptionsId(long id);
 
   /**
    * {@link DefaultValueFactory} which supplies an ID that is guaranteed to be unique
diff --git a/sdks/java/core/src/test/java/org/apache/beam/sdk/options/PipelineOptionsTest.java b/sdks/java/core/src/test/java/org/apache/beam/sdk/options/PipelineOptionsTest.java
index 62f53e43e74..a13aa011b2f 100644
--- a/sdks/java/core/src/test/java/org/apache/beam/sdk/options/PipelineOptionsTest.java
+++ b/sdks/java/core/src/test/java/org/apache/beam/sdk/options/PipelineOptionsTest.java
@@ -19,9 +19,12 @@ package org.apache.beam.sdk.options;
 
 import static org.junit.Assert.assertEquals;
 import static org.junit.Assert.assertNotNull;
+import static org.junit.Assert.fail;
 
 import com.fasterxml.jackson.annotation.JsonIgnore;
 import com.google.common.collect.ImmutableMap;
+
+import java.util.HashSet;
 import java.util.List;
 import java.util.Map;
 import java.util.Set;
@@ -93,4 +96,15 @@ public class PipelineOptionsTest {
         "bool", ImmutableMap.of("type", Boolean.class));
     assertEquals(expected, options.outputRuntimeOptions());
   }
+
+  @Test
+  public void testPipelineOptionsIdIsUniquePerInstance() {
+    Set<Long> ids = new HashSet<Long>();
+    for (int i = 0; i < 1000; ++i) {
+      long id = PipelineOptionsFactory.create().getOptionsId();
+      if (!ids.add(id)) {
+        fail(String.format("Generated duplicate id %s, existing generated ids %s", id, ids));
+      }
+    }
+  }
 }
