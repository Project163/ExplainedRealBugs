diff --git a/sdks/java/io/amazon-web-services/build.gradle b/sdks/java/io/amazon-web-services/build.gradle
index 69542e6ffbc..27a0346df1c 100644
--- a/sdks/java/io/amazon-web-services/build.gradle
+++ b/sdks/java/io/amazon-web-services/build.gradle
@@ -59,6 +59,7 @@ dependencies {
   testCompile 'org.elasticmq:elasticmq-rest-sqs_2.12:0.15.6'
   testRuntimeOnly library.java.slf4j_jdk14
   testRuntimeOnly project(path: ":runners:direct-java", configuration: "shadow")
+  testCompile project(path: ":runners:core-construction-java", configuration: "testRuntime")
 }
 
 test {
diff --git a/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/options/AwsModule.java b/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/options/AwsModule.java
index cb82463f37b..5c2f1f59470 100644
--- a/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/options/AwsModule.java
+++ b/sdks/java/io/amazon-web-services/src/main/java/org/apache/beam/sdk/io/aws/options/AwsModule.java
@@ -299,7 +299,7 @@ public class AwsModule extends SimpleModule {
         clientConfiguration.setProxyHost((String) map.get(PROXY_HOST));
       }
       if (map.containsKey(PROXY_PORT)) {
-        clientConfiguration.setProxyPort((Integer) map.get(PROXY_PORT));
+        clientConfiguration.setProxyPort(((Number) map.get(PROXY_PORT)).intValue());
       }
       if (map.containsKey(PROXY_USERNAME)) {
         clientConfiguration.setProxyUsername((String) map.get(PROXY_USERNAME));
@@ -308,27 +308,28 @@ public class AwsModule extends SimpleModule {
         clientConfiguration.setProxyPassword((String) map.get(PROXY_PASSWORD));
       }
       if (map.containsKey(CLIENT_EXECUTION_TIMEOUT)) {
-        clientConfiguration.setClientExecutionTimeout((Integer) map.get(CLIENT_EXECUTION_TIMEOUT));
+        clientConfiguration.setClientExecutionTimeout(
+            ((Number) map.get(CLIENT_EXECUTION_TIMEOUT)).intValue());
       }
       if (map.containsKey(CONNECTION_MAX_IDLE_TIME)) {
         clientConfiguration.setConnectionMaxIdleMillis(
             ((Number) map.get(CONNECTION_MAX_IDLE_TIME)).longValue());
       }
       if (map.containsKey(CONNECTION_TIMEOUT)) {
-        clientConfiguration.setConnectionTimeout((Integer) map.get(CONNECTION_TIMEOUT));
+        clientConfiguration.setConnectionTimeout(((Number) map.get(CONNECTION_TIMEOUT)).intValue());
       }
       if (map.containsKey(CONNECTION_TIME_TO_LIVE)) {
         clientConfiguration.setConnectionTTL(
             ((Number) map.get(CONNECTION_TIME_TO_LIVE)).longValue());
       }
       if (map.containsKey(MAX_CONNECTIONS)) {
-        clientConfiguration.setMaxConnections((Integer) map.get(MAX_CONNECTIONS));
+        clientConfiguration.setMaxConnections(((Number) map.get(MAX_CONNECTIONS)).intValue());
       }
       if (map.containsKey(REQUEST_TIMEOUT)) {
-        clientConfiguration.setRequestTimeout((Integer) map.get(REQUEST_TIMEOUT));
+        clientConfiguration.setRequestTimeout(((Number) map.get(REQUEST_TIMEOUT)).intValue());
       }
       if (map.containsKey(SOCKET_TIMEOUT)) {
-        clientConfiguration.setSocketTimeout((Integer) map.get(SOCKET_TIMEOUT));
+        clientConfiguration.setSocketTimeout(((Number) map.get(SOCKET_TIMEOUT)).intValue());
       }
       return clientConfiguration;
     }
diff --git a/sdks/java/io/amazon-web-services/src/test/java/org/apache/beam/sdk/io/aws/options/AwsModuleTest.java b/sdks/java/io/amazon-web-services/src/test/java/org/apache/beam/sdk/io/aws/options/AwsModuleTest.java
index 07e701d155c..9651803d3c9 100644
--- a/sdks/java/io/amazon-web-services/src/test/java/org/apache/beam/sdk/io/aws/options/AwsModuleTest.java
+++ b/sdks/java/io/amazon-web-services/src/test/java/org/apache/beam/sdk/io/aws/options/AwsModuleTest.java
@@ -39,6 +39,8 @@ import com.fasterxml.jackson.databind.Module;
 import com.fasterxml.jackson.databind.ObjectMapper;
 import java.lang.reflect.Field;
 import java.util.List;
+import org.apache.beam.runners.core.construction.PipelineOptionsTranslation;
+import org.apache.beam.sdk.options.PipelineOptionsFactory;
 import org.apache.beam.sdk.util.common.ReflectHelpers;
 import org.hamcrest.Matchers;
 import org.junit.Test;
@@ -239,4 +241,22 @@ public class AwsModuleTest {
     assertEquals(1000, clientConfigurationDeserialized.getConnectionMaxIdleMillis());
     assertEquals(300, clientConfigurationDeserialized.getSocketTimeout());
   }
+
+  @Test
+  public void testAwsHttpClientConfigurationSerializationDeserializationProto() throws Exception {
+    AwsOptions awsOptions =
+        PipelineOptionsTranslation.fromProto(
+                PipelineOptionsTranslation.toProto(
+                    PipelineOptionsFactory.fromArgs(
+                            "--clientConfiguration={ \"connectionTimeout\": 100, \"connectionMaxIdleTime\": 1000, \"socketTimeout\": 300, \"proxyPort\": -1, \"requestTimeout\": 1500 }")
+                        .create()))
+            .as(AwsOptions.class);
+    ClientConfiguration clientConfigurationDeserialized = awsOptions.getClientConfiguration();
+
+    assertEquals(100, clientConfigurationDeserialized.getConnectionTimeout());
+    assertEquals(1000, clientConfigurationDeserialized.getConnectionMaxIdleMillis());
+    assertEquals(300, clientConfigurationDeserialized.getSocketTimeout());
+    assertEquals(-1, clientConfigurationDeserialized.getProxyPort());
+    assertEquals(1500, clientConfigurationDeserialized.getRequestTimeout());
+  }
 }
