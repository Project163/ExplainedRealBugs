diff --git a/runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/resources/ClasspathScanningResourcesDetector.java b/runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/resources/ClasspathScanningResourcesDetector.java
index 889e584bb95..bfa1fa1e59a 100644
--- a/runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/resources/ClasspathScanningResourcesDetector.java
+++ b/runners/core-construction-java/src/main/java/org/apache/beam/runners/core/construction/resources/ClasspathScanningResourcesDetector.java
@@ -44,7 +44,8 @@ public class ClasspathScanningResourcesDetector implements PipelineResourcesDete
    */
   @Override
   public List<String> detect(ClassLoader classLoader) {
-    List<File> classpathContents = classGraph.addClassLoader(classLoader).getClasspathFiles();
+    List<File> classpathContents =
+        classGraph.disableNestedJarScanning().addClassLoader(classLoader).getClasspathFiles();
 
     return classpathContents.stream().map(File::getAbsolutePath).collect(Collectors.toList());
   }
