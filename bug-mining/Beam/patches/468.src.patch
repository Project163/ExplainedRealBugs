diff --git a/build.gradle b/build.gradle
index 6fb43700952..c5a077ee97e 100644
--- a/build.gradle
+++ b/build.gradle
@@ -42,6 +42,7 @@ def spark_version = "2.2.1"
 def pubsub_grpc_version = "0.1.18"
 def apex_core_version = "3.6.0"
 def apex_malhar_version = "3.4.0"
+def postgres_version = "9.4.1212.jre7"
 
 // A map of maps containing common libraries used per language. To use:
 // dependencies {
@@ -131,6 +132,7 @@ ext.library = [
     netty_handler: "io.netty:netty-handler:$netty_version",
     netty_tcnative_boringssl_static: "io.netty:netty-tcnative-boringssl-static:1.1.33.Fork26",
     netty_transport_native_epoll: "io.netty:netty-transport-native-epoll:$netty_version",
+    postgres: "org.postgresql:postgresql:$postgres_version",
     protobuf_java: "com.google.protobuf:protobuf-java:$protobuf_version",
     protobuf_java_util: "com.google.protobuf:protobuf-java-util:$protobuf_version",
     proto_google_cloud_pubsub_v1: "com.google.api.grpc:proto-google-cloud-pubsub-v1:$pubsub_grpc_version",
diff --git a/sdks/java/io/common/build.gradle b/sdks/java/io/common/build.gradle
index 54168f258ba..d92d09d3e62 100644
--- a/sdks/java/io/common/build.gradle
+++ b/sdks/java/io/common/build.gradle
@@ -25,6 +25,7 @@ dependencies {
   compile library.java.guava
   shadow project(path: ":sdks:java:core", configuration: "shadow")
   testCompile library.java.junit
+  testCompile library.java.postgres
 }
 
 task packageTests(type: Jar) {
diff --git a/sdks/java/io/hadoop/input-format/build.gradle b/sdks/java/io/hadoop/input-format/build.gradle
index 6d8cb4756e9..a931d26e60c 100644
--- a/sdks/java/io/hadoop/input-format/build.gradle
+++ b/sdks/java/io/hadoop/input-format/build.gradle
@@ -23,6 +23,15 @@ description = "Apache Beam :: SDKs :: Java :: IO :: Hadoop :: input-format"
 
 def log4j_version = "2.6.2"
 
+/*
+ * We need to rely on manually specifying these evaluationDependsOn to ensure that
+ * the following projects are evaluated before we evaluate this project. This is because
+ * we are attempting to reference the "sourceSets.test.output" directly.
+ * TODO: Swap to generating test artifacts which we can then rely on instead of
+ * the test outputs directly.
+ */
+evaluationDependsOn(":sdks:java:io:common")
+
 dependencies {
   compile library.java.guava
   shadow project(path: ":sdks:java:core", configuration: "shadow")
@@ -33,10 +42,14 @@ dependencies {
   provided library.java.hadoop_mapreduce_client_core
   testCompile library.java.hamcrest_core
   testCompile project(path: ":sdks:java:core", configuration: "shadowTest")
+  testCompile project(path: ":sdks:java:io:common", configuration: "shadow")
+  testCompile project(":sdks:java:io:common").sourceSets.test.output
+  testCompile project(path: ":sdks:java:io:jdbc", configuration: "shadow")
   testCompile project(path: ":runners:direct-java", configuration: "shadow")
   testCompile "org.apache.logging.log4j:log4j-core:$log4j_version"
   testCompile library.java.junit
   testCompile library.java.mockito_core
+  testCompile library.java.postgres
 }
 
 task packageTests(type: Jar) {
diff --git a/sdks/java/io/jdbc/build.gradle b/sdks/java/io/jdbc/build.gradle
index 1e7d4dccc4c..ab488c91f4d 100644
--- a/sdks/java/io/jdbc/build.gradle
+++ b/sdks/java/io/jdbc/build.gradle
@@ -42,10 +42,10 @@ dependencies {
   testCompile library.java.hamcrest_core
   testCompile library.java.slf4j_api
   testCompile library.java.slf4j_jdk14
+  testCompile library.java.postgres
   testCompile group: "org.apache.derby", name: "derby", version:"10.12.1.1"
   testCompile group: "org.apache.derby", name: "derbyclient", version:"10.12.1.1"
   testCompile group: "org.apache.derby", name: "derbynet", version:"10.12.1.1"
-  testCompile group: "org.postgresql", name: "postgresql", version:"9.4.1212.jre7"
 }
 
 task packageTests(type: Jar) {
