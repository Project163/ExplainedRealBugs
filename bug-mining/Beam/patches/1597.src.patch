diff --git a/sdks/java/io/jms/src/main/java/org/apache/beam/sdk/io/jms/JmsCheckpointMark.java b/sdks/java/io/jms/src/main/java/org/apache/beam/sdk/io/jms/JmsCheckpointMark.java
index 66f283caab9..d7c1ca81b1d 100644
--- a/sdks/java/io/jms/src/main/java/org/apache/beam/sdk/io/jms/JmsCheckpointMark.java
+++ b/sdks/java/io/jms/src/main/java/org/apache/beam/sdk/io/jms/JmsCheckpointMark.java
@@ -25,7 +25,6 @@ import java.util.Objects;
 import java.util.concurrent.locks.ReentrantReadWriteLock;
 import javax.jms.Message;
 import org.apache.beam.sdk.io.UnboundedSource;
-import org.apache.beam.vendor.guava.v26_0_jre.com.google.common.annotations.VisibleForTesting;
 import org.joda.time.Instant;
 import org.slf4j.Logger;
 import org.slf4j.LoggerFactory;
@@ -34,19 +33,18 @@ import org.slf4j.LoggerFactory;
  * Checkpoint for an unbounded JMS source. Consists of the JMS messages waiting to be acknowledged
  * and oldest pending message timestamp.
  */
-@VisibleForTesting
-public class JmsCheckpointMark implements UnboundedSource.CheckpointMark, Serializable {
+class JmsCheckpointMark implements UnboundedSource.CheckpointMark, Serializable {
 
   private static final Logger LOG = LoggerFactory.getLogger(JmsCheckpointMark.class);
 
-  @VisibleForTesting Instant oldestMessageTimestamp = Instant.now();
-  @VisibleForTesting transient List<Message> messages = new ArrayList<>();
+  private Instant oldestMessageTimestamp = Instant.now();
+  private transient List<Message> messages = new ArrayList<>();
 
   private final ReentrantReadWriteLock lock = new ReentrantReadWriteLock();
 
-  public JmsCheckpointMark() {}
+  JmsCheckpointMark() {}
 
-  public void add(Message message) throws Exception {
+  void add(Message message) throws Exception {
     lock.writeLock().lock();
     try {
       Instant currentMessageTimestamp = new Instant(message.getJMSTimestamp());
@@ -59,7 +57,7 @@ public class JmsCheckpointMark implements UnboundedSource.CheckpointMark, Serial
     }
   }
 
-  public Instant getOldestMessageTimestamp() {
+  Instant getOldestMessageTimestamp() {
     lock.readLock().lock();
     try {
       return this.oldestMessageTimestamp;
@@ -85,7 +83,7 @@ public class JmsCheckpointMark implements UnboundedSource.CheckpointMark, Serial
             oldestMessageTimestamp = currentMessageTimestamp;
           }
         } catch (Exception e) {
-          LOG.error("Exception while finalizing message: {}", e);
+          LOG.error("Exception while finalizing message: ", e);
         }
       }
       messages.clear();
@@ -102,17 +100,19 @@ public class JmsCheckpointMark implements UnboundedSource.CheckpointMark, Serial
   }
 
   @Override
-  public boolean equals(Object other) {
-    if (other instanceof JmsCheckpointMark) {
-      JmsCheckpointMark that = (JmsCheckpointMark) other;
-      return Objects.equals(this.oldestMessageTimestamp, that.oldestMessageTimestamp);
-    } else {
+  public boolean equals(Object o) {
+    if (this == o) {
+      return true;
+    }
+    if (o == null || getClass() != o.getClass()) {
       return false;
     }
+    JmsCheckpointMark that = (JmsCheckpointMark) o;
+    return oldestMessageTimestamp.equals(that.oldestMessageTimestamp);
   }
 
   @Override
   public int hashCode() {
-    return Objects.hash(oldestMessageTimestamp, messages);
+    return Objects.hash(oldestMessageTimestamp);
   }
 }
diff --git a/sdks/java/io/jms/src/main/java/org/apache/beam/sdk/io/jms/JmsIO.java b/sdks/java/io/jms/src/main/java/org/apache/beam/sdk/io/jms/JmsIO.java
index 54737b27500..71848e24cbd 100644
--- a/sdks/java/io/jms/src/main/java/org/apache/beam/sdk/io/jms/JmsIO.java
+++ b/sdks/java/io/jms/src/main/java/org/apache/beam/sdk/io/jms/JmsIO.java
@@ -52,7 +52,6 @@ import org.apache.beam.sdk.transforms.display.DisplayData;
 import org.apache.beam.sdk.values.PBegin;
 import org.apache.beam.sdk.values.PCollection;
 import org.apache.beam.sdk.values.PDone;
-import org.apache.beam.vendor.guava.v26_0_jre.com.google.common.annotations.VisibleForTesting;
 import org.joda.time.Duration;
 import org.joda.time.Instant;
 
@@ -386,7 +385,6 @@ public class JmsIO {
      * Creates an {@link UnboundedSource UnboundedSource&lt;JmsRecord, ?&gt;} with the configuration
      * in {@link Read}. Primary use case is unit tests, should not be used in an application.
      */
-    @VisibleForTesting
     UnboundedSource<T, JmsCheckpointMark> createSource() {
       return new UnboundedJmsSource<T>(this);
     }
@@ -404,7 +402,6 @@ public class JmsIO {
   }
 
   /** An unbounded JMS source. */
-  @VisibleForTesting
   static class UnboundedJmsSource<T> extends UnboundedSource<T, JmsCheckpointMark> {
 
     private final Read<T> spec;
@@ -447,7 +444,6 @@ public class JmsIO {
     }
   }
 
-  @VisibleForTesting
   static class UnboundedJmsReader<T> extends UnboundedReader<T> {
 
     private UnboundedJmsSource<T> source;
