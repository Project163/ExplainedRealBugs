<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:54:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TEXT-191] JaroWinklerDistance returns the same values as JaroWinklerSimilarity</title>
                <link>https://issues.apache.org/jira/browse/TEXT-191</link>
                <project id="12318221" key="TEXT">Commons Text</project>
                    <description>&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The following two code snippets give the same output:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// checking similarity
&lt;/span&gt;JaroWinklerSimilarity jws = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaroWinklerSimilarity();
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;SIMILARITY: &quot;&lt;/span&gt; + jws.apply(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;) + &lt;span class=&quot;code-quote&quot;&gt;&quot;  &quot;&lt;/span&gt; + jws.apply(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;));
&lt;span class=&quot;code-comment&quot;&gt;// SIMILARITY: 1.0  0.0&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// checking distance
&lt;/span&gt;JaroWinklerDistance jwd = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaroWinklerDistance();
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;DISTANCE: &quot;&lt;/span&gt; + jwd.apply(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;) + &lt;span class=&quot;code-quote&quot;&gt;&quot;  &quot;&lt;/span&gt; + jwd.apply(&lt;span class=&quot;code-quote&quot;&gt;&quot;foo&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;bar&quot;&lt;/span&gt;));
&lt;span class=&quot;code-comment&quot;&gt;// DISTANCE: 1.0  0.0&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I would expect the distance to be 1 - similarity, but as you can see distance and similarity return the same values.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;An easy fix would be to use the commented lines in JaroWinklerDistance.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// JaroWinklerSimilarity similarity = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JaroWinklerSimilarity();
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 1 - similarity.apply(left, right);&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and maybe make &lt;em&gt;similarity&lt;/em&gt; be a final property/variable.&lt;/p&gt;</description>
                <environment>Windows 10&lt;br/&gt;
AdoptOpenJDK 11</environment>
        <key id="13338295">TEXT-191</key>
            <summary>JaroWinklerDistance returns the same values as JaroWinklerSimilarity</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kinow">Bruno P. Kinoshita</assignee>
                                    <reporter username="Govery76">Alexander Foerster</reporter>
                        <labels>
                            <label>JaroWinkler</label>
                            <label>easyfix</label>
                            <label>newbie</label>
                    </labels>
                <created>Sun, 1 Nov 2020 13:08:29 +0000</created>
                <updated>Tue, 11 May 2021 22:46:37 +0000</updated>
                            <resolved>Fri, 9 Apr 2021 22:33:54 +0000</resolved>
                                    <version>1.9</version>
                                    <fixVersion>1.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="1800">0.5h</timespent>
                                <comments>
                            <comment id="17238521" author="arturobernalg" created="Wed, 25 Nov 2020 05:30:19 +0000"  >&lt;p&gt;HI &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kinow&quot; class=&quot;user-hover&quot; rel=&quot;kinow&quot;&gt;kinow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Already implemented. We can close the issues&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17238532" author="kinow" created="Wed, 25 Nov 2020 05:47:27 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=arturobernalg&quot; class=&quot;user-hover&quot; rel=&quot;arturobernalg&quot;&gt;arturobernalg&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Do you know if there&apos;s a PR that was merged, or a commit perhaps confirming it? Just so we can link it in the changelog. (I&apos;m searching for that too, afraid that I could have been the one to merge it and have forgotten to update this issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;</comment>
                            <comment id="17238533" author="arturobernalg" created="Wed, 25 Nov 2020 05:53:10 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kinow&quot; class=&quot;user-hover&quot; rel=&quot;kinow&quot;&gt;kinow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Wrong &#160;Jira.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I wanted to leave the comment in another. Sorry. My Mistake&lt;/p&gt;</comment>
                            <comment id="17238549" author="kinow" created="Wed, 25 Nov 2020 06:40:05 +0000"  >&lt;p&gt;No harm done &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; thanks Arturo!&lt;/p&gt;</comment>
                            <comment id="17317501" author="bradleyrumball" created="Thu, 8 Apr 2021 21:26:51 +0000"  >&lt;p&gt;It appears that this issue was never fixed?&lt;/p&gt;

&lt;p&gt;I&apos;ve created a PR to close this issue:&#160;&lt;a href=&quot;https://github.com/apache/commons-text/pull/214&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/pull/214&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17317675" author="kinow" created="Fri, 9 Apr 2021 05:47:46 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bradleyrumball&quot; class=&quot;user-hover&quot; rel=&quot;bradleyrumball&quot;&gt;bradleyrumball&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for the PR. I&apos;ve added a changelog entry, and edited the commit messages. I had a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/TEXT-104&quot; title=&quot;Jaro Winkler Distance refers to similarity&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TEXT-104&quot;&gt;&lt;del&gt;TEXT-104&lt;/del&gt;&lt;/a&gt; too. I reverted a change that was breaking the Clirr report, as I had removed a method.&lt;/p&gt;

&lt;p&gt;This PR changes the behaviour of the code, but it does so to fix a legit bug, so I don&apos;t think it breaks backward compatibility (at least no binary).&lt;/p&gt;</comment>
                            <comment id="17317852" author="bradleyrumball" created="Fri, 9 Apr 2021 10:21:39 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kinow&quot; class=&quot;user-hover&quot; rel=&quot;kinow&quot;&gt;kinow&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;No worries at all, I came here due to using this function on a project and finding that the distance was driving one of the fitness functions I was working on in the wrong direction; I think it&apos;s safe to say it&apos;s a bug that needed squashing!&lt;/p&gt;

&lt;p&gt;Thanks for updating the PR to using 1-similarity for the distance; this is far superior; I wanted to do this but wasn&apos;t sure if it was previously implemented like this to reduce stack depth; in short, I&apos;m very much in favour of what you&apos;ve done.&lt;/p&gt;

&lt;p&gt;In the future, it would be great to see the package of &quot;similarity&quot; classes provided as final utility classes; it&apos;s unnatural to have to create instances for them.&lt;br/&gt;
I&apos;d happily work on this and provide a PR for in a future version; it would be great to hear everyone&apos;s thoughts!&lt;/p&gt;

&lt;p&gt;Aside from this, I&apos;m happy for the merge to go ahead!&lt;/p&gt;

&lt;p&gt;Best wishes,&lt;/p&gt;

&lt;p&gt;Bradley&lt;/p&gt;</comment>
                            <comment id="17318354" author="kinow" created="Fri, 9 Apr 2021 22:20:23 +0000"  >&lt;p&gt;Thanks for reviewing it so quickly &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bradleyrumball&quot; class=&quot;user-hover&quot; rel=&quot;bradleyrumball&quot;&gt;bradleyrumball&lt;/a&gt; . I&apos;ll have some 3 weeks break in May, where I&apos;m planning to release Text &amp;amp; Imaging. Or another committer may release it earlier too.&lt;/p&gt;

&lt;p&gt;I&apos;ll tidy up my last commit message (forgot to prefix with the issue number) and merge it.&lt;/p&gt;

&lt;p&gt;&amp;gt; I&apos;d happily work on this and provide a PR for in a future version; it would be great to hear everyone&apos;s thoughts!&lt;/p&gt;

&lt;p&gt;That would be really great. Assuming there&apos;s no distance that needs some parameters to be created (in which case maybe we&apos;d need something like a builder?). If you prepare a PR, it&apos;d need to be a draft, as it shouldn&apos;t be merged before 2.0 as I think it breaks binary backward compatibility. But once we are ready for 2.0 we can merge and release it.&lt;/p&gt;

&lt;p&gt;All the best,&lt;/p&gt;

&lt;p&gt;Bruno&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13377957">TEXT-206</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 31 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0k6wg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>