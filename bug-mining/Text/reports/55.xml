<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:54:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TEXT-149] StringEscapeUtils.unescapeCsv doesn&apos;t remove quotes at begin and end of string</title>
                <link>https://issues.apache.org/jira/browse/TEXT-149</link>
                <project id="12318221" key="TEXT">Commons Text</project>
                    <description>&lt;p&gt;org.apache.commons.text.translate.CsvTranslators:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
void translateWhole(CharSequence input, Writer out) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (input.charAt(0) == &lt;span class=&quot;code-quote&quot;&gt;&apos;&lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt; &amp;amp;&amp;amp; input.charAt(input.length() - 1) == &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt;&apos;&lt;/span&gt;) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; quoteless = input.subSequence(1, input.length() - 1).toString();
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (StringUtils.containsAny(quoteless, CsvTranslators.CSV_SEARCH_CHARS)) {
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; out.write(StringUtils.replace(quoteless, CsvTranslators.CSV_ESCAPED_QUOTE_STR, CsvTranslators.CSV_QUOTE_STR));
&#160;&#160;&#160;&#160;&#160;&#160;&#160; } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; out.write(input.toString());
&#160;&#160;&#160;&#160;&#160;&#160;&#160; }

&#160;&#160;&#160; } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; out.write(input.toString());
&#160;&#160;&#160; }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;In my opinion first occurence &quot;out.write(input.toString());&quot; should be replaced with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
out.write(quoteless.toString());&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Because &apos;&quot;&apos; quotes around &quot;input&quot; will be never removed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13203727">TEXT-149</key>
            <summary>StringEscapeUtils.unescapeCsv doesn&apos;t remove quotes at begin and end of string</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kinow">Bruno P. Kinoshita</assignee>
                                    <reporter username="kasopey">Krzysztof Szalast</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Dec 2018 13:53:14 +0000</created>
                <updated>Sun, 22 Sep 2019 21:10:25 +0000</updated>
                            <resolved>Sun, 22 Sep 2019 21:10:25 +0000</resolved>
                                    <version>1.6</version>
                                    <fixVersion>1.9</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="3000">50m</timespent>
                                <comments>
                            <comment id="16717383" author="garydgregory" created="Tue, 11 Dec 2018 15:30:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kasopey&quot; class=&quot;user-hover&quot; rel=&quot;kasopey&quot;&gt;kasopey&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Thank you for your report.&#160;&lt;/p&gt;

&lt;p&gt;Please feel free to provide a PR on GitHub &lt;a href=&quot;https://github.com/apache/commons-text/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/&lt;/a&gt;&#160;with a unit test that would fail without the main code change.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="16720566" author="kasopey" created="Thu, 13 Dec 2018 20:18:10 +0000"  >&lt;p&gt;Ok, I will. I have checked out reposithory, I have created local branch and whan I&apos;m pushing it to reposithory I&apos;ve got:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
git push origin TEXT-149-unescape-csv-fix
remote: Permission to apache/commons-text.git denied to kasopey.
fatal: unable to access &lt;span class=&quot;code-quote&quot;&gt;&apos;https:&lt;span class=&quot;code-comment&quot;&gt;//github.com/apache/commons-text/&apos;&lt;/span&gt;: The requested URL returned error: 403&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;What am I doing wrong?&lt;/p&gt;</comment>
                            <comment id="16720602" author="kinow" created="Thu, 13 Dec 2018 20:58:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kasopey&quot; class=&quot;user-hover&quot; rel=&quot;kasopey&quot;&gt;kasopey&lt;/a&gt; the URL you are using in your repository (i.e. &lt;a href=&quot;https://github.com/apache/commons-text/)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/)&lt;/a&gt; is for the commons-text under the apache GitHub organisation. You do not have access to write to this repository - that repository is actually a mirror of a git repository hosted by ASF Infra, so I also do not have write access there.&lt;/p&gt;

&lt;p&gt;Your work flow was almost correct. First you have to fork the repository under your GitHub user. That will create a copy of commons-text in your repository. I did that too to send pull requests, &lt;a href=&quot;https://github.com/kinow/commons-text.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kinow/commons-text.&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After you have forked it, you should be able to create a branch and push to that repository. Alas there are multiple ways to use git, and each developer has a preferred set of commands, some prefer the command line, others GUI. And troubleshooting git in this ticket could digress too much from the main issue. If you have time, I think the best would be to have a read at some of git&apos;s basic documentation&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://guides.github.com/activities/forking/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://guides.github.com/activities/forking/&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;http://swcarpentry.github.io/git-novice/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://swcarpentry.github.io/git-novice/&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://wiki.apache.org/commons/UsingGIT&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wiki.apache.org/commons/UsingGIT&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Once you have your work done in your branch, send the pull request. One of the committers of the project will review, and either ask for feedback, or merge it. Please be patient as the project is maintained by volunteers, so it may have some delay between iterations. Especially given that we are so close to holidays, end of financial year in some country, etc.&lt;/p&gt;

&lt;p&gt;And big thank you for your contribution&lt;/p&gt;

&lt;p&gt;Bruno&lt;/p&gt;</comment>
                            <comment id="16720622" author="garydgregory" created="Thu, 13 Dec 2018 21:28:28 +0000"  >&lt;p&gt;Hi. You need to create a PR on GitHub.&lt;/p&gt;</comment>
                            <comment id="16724485" author="kasopey" created="Tue, 18 Dec 2018 21:32:18 +0000"  >&lt;p&gt;After my fix, I have test failure:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
[ERROR] Failures:
[ERROR] StringEscapeUtilsTest.testUnescapeCsvString:453 expected: &amp;lt;&lt;span class=&quot;code-quote&quot;&gt;&quot;foo.bar&quot;&lt;/span&gt;&amp;gt; but was: &amp;lt;foo.bar&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So it looks that this behavior may be intended by programmer. But I can&apos;t understand why?&lt;/p&gt;

&lt;p&gt;Look:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; unescaped = StringEscapeUtils.unescapeCsv(&lt;span class=&quot;code-quote&quot;&gt;&quot;\&quot;&lt;/span&gt;foo bar\&quot;&quot;);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(unescaped);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;prints:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-quote&quot;&gt;&quot;foo bar&quot;&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Why double quotes isn&apos;t removed? In my opinion this is a bug, but unit tests suggest something else.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s01ee0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>