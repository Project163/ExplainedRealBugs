<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:54:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TEXT-138] TextStringBuilder append sub-sequence not consistent with Appendable</title>
                <link>https://issues.apache.org/jira/browse/TEXT-138</link>
                <project id="12318221" key="TEXT">Commons Text</project>
                    <description>&lt;p&gt;The method:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;append(final CharSequence seq, final int startIndex, final int length)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Overrides the method defined by Appendable. However the behavior of the&#160;TextStringBuilder implementation is not consistent with the definition in Appendable. As the class defines &quot;that some edge cases, with invalid indices or null input, have been altered - see individual methods&quot; this would not normally be an issue. However as the&#160;implementation states that it overrides Appendable the class cannot be used as an Appendable as the last argument is expected to be an end index and not a length.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13181924">TEXT-138</key>
            <summary>TextStringBuilder append sub-sequence not consistent with Appendable</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="johnsoneal">Neal Johnson</reporter>
                        <labels>
                            <label>usability</label>
                    </labels>
                <created>Wed, 29 Aug 2018 13:46:15 +0000</created>
                <updated>Thu, 8 Nov 2018 16:11:23 +0000</updated>
                            <resolved>Wed, 7 Nov 2018 23:11:46 +0000</resolved>
                                    <version>1.4</version>
                    <version>1.5</version>
                    <version>1.6</version>
                                    <fixVersion>1.7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16662513" author="drajakumar" created="Wed, 24 Oct 2018 16:41:04 +0000"  >&lt;p&gt;i am planning to make a&#160;fix for this bug, i need some guidance on how to proceed. If i am not wrong I cannot go ahead and make the necessary change in the existing function as its not backward compactable. Can someone kindly advise on how i can proceed with the fix without disturbing the current functionality (of considering the last parameter as length). Thank you!&lt;/p&gt;</comment>
                            <comment id="16674082" author="garydgregory" created="Sat, 3 Nov 2018 15:30:38 +0000"  >&lt;p&gt;That sounds like a bug, the class says it implements the &lt;tt&gt;Appendable&lt;/tt&gt;&#160;contract, so it should be behave according to that contract.&lt;/p&gt;</comment>
                            <comment id="16674177" author="johnsoneal" created="Sat, 3 Nov 2018 19:38:07 +0000"  >&lt;p&gt;The simplest way to show that this class is broke from an Appendable perspective is:&lt;/p&gt;

&lt;p&gt;StringBuilder sb = new StringBuilder().append(&quot;abc&quot;, 1, 2);&lt;br/&gt;
TextStringBuilder textb = new TextStringBuilder().append(&quot;abc&quot;, 1, 2);&lt;/p&gt;

&lt;p&gt;System.err.println(sb);&#160;&#160;&#160;&#160; // result: &quot;b&quot;&lt;br/&gt;
System.err.println(textb); // result: &quot;bc&quot;&lt;/p&gt;


&lt;p&gt;The TextStringBuilder behaviour can also be seen in StrBuilder from both &lt;br/&gt;
text and lang packages.&lt;/p&gt;

&lt;p&gt;Fixing this issue is not simple as the append methods &apos;length&apos; behaviour is expected by some methods for example &apos;replace&apos; in StringSubstitutor.&lt;/p&gt;

&lt;p&gt;Probable the simplest solution would be to remove &apos;Appendable&apos; from implements.&lt;/p&gt;</comment>
                            <comment id="16674431" author="garydgregory" created="Sun, 4 Nov 2018 15:53:54 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Probable the simplest solution would be to remove &apos;Appendable&apos; from implements.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;We cannot do that in the 1.x line since it would completely break binary compatibility.&lt;br/&gt;
It seems to me the changes should be to:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Fix TextStringBuilder to adhere to the Appendable contract&lt;/li&gt;
	&lt;li&gt;Fix call sites within Commons Text.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Patches welcome &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Gary&lt;/p&gt;</comment>
                            <comment id="16677824" author="drajakumar" created="Wed, 7 Nov 2018 08:26:40 +0000"  >&lt;p&gt;thank you for all the clarifications, working on the fix&lt;/p&gt;</comment>
                            <comment id="16677936" author="githubbot" created="Wed, 7 Nov 2018 09:53:56 +0000"  >&lt;p&gt;GitHub user drajakumar opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-text/pull/92&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/pull/92&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TEXT-138&quot; title=&quot;TextStringBuilder append sub-sequence not consistent with Appendable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TEXT-138&quot;&gt;&lt;del&gt;TEXT-138&lt;/del&gt;&lt;/a&gt; TextStringBuilder append sub-sequence not consistant with Appendable&lt;/p&gt;

&lt;p&gt;    1 considered the end index as exclusive because its exclusive as per the definition done in Appendable.&lt;br/&gt;
    2 considered start index not to be same as the end index because start index is inclusive, end index is not.&lt;br/&gt;
    3 there is an overloaded append function in TextStringBuilder which takes String, int, int as parameters. The last parameter here is length. I didn&apos;t touch this because, its NOT an overridden function from Appendable.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/drajakumar/commons-text&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/drajakumar/commons-text&lt;/a&gt; master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-text/pull/92.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/pull/92.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #92&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit d3bfb518ccde125b45b9d7a874cf717321578e7f&lt;br/&gt;
Author: Don Jeba &amp;lt;donjeba@...&amp;gt;&lt;br/&gt;
Date:   2018-10-29T18:05:19Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TEXT-127&quot; title=&quot;Add a toggle to throw an exception when a variable is unknown in StringSubstitutor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TEXT-127&quot;&gt;&lt;del&gt;TEXT-127&lt;/del&gt;&lt;/a&gt; Detect when a variable is unknown in StringSubstitutor&lt;/p&gt;

&lt;p&gt;commit dde0a395438bf8c7626076c56912a4405f856628&lt;br/&gt;
Author: Don Jeba &amp;lt;donjeba@...&amp;gt;&lt;br/&gt;
Date:   2018-10-29T18:21:04Z&lt;/p&gt;

&lt;p&gt;    fixing build failure&lt;/p&gt;

&lt;p&gt;commit 60bed4374a2db82bc7842d3ccd33e2158d2b80f6&lt;br/&gt;
Author: Don Jeba &amp;lt;donjeba@...&amp;gt;&lt;br/&gt;
Date:   2018-10-29T18:29:19Z&lt;/p&gt;

&lt;p&gt;    removing trailing space at L131&lt;/p&gt;

&lt;p&gt;commit 2ac7b5029cea1234accca7ec5f48cf17bed364ac&lt;br/&gt;
Author: Don Jeba &amp;lt;donjeba@...&amp;gt;&lt;br/&gt;
Date:   2018-11-07T09:33:50Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TEXT-138&quot; title=&quot;TextStringBuilder append sub-sequence not consistent with Appendable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TEXT-138&quot;&gt;&lt;del&gt;TEXT-138&lt;/del&gt;&lt;/a&gt; TextStringBuilder append sub-sequence not consistant with Appendable&lt;/p&gt;

&lt;p&gt;commit a7d1a89e9aafa2f296758583e661c13f2ab58c20&lt;br/&gt;
Author: Don Jeba &amp;lt;donjeba@...&amp;gt;&lt;br/&gt;
Date:   2018-11-07T09:42:24Z&lt;/p&gt;

&lt;p&gt;    fixing merge conflict&lt;/p&gt;

&lt;p&gt;commit a8d94daaa59eef6709b70e66a46319c3c75cd718&lt;br/&gt;
Author: Don Jeba &amp;lt;donjeba@...&amp;gt;&lt;br/&gt;
Date:   2018-11-07T09:45:30Z&lt;/p&gt;

&lt;p&gt;    removing empty lines from StringSubstitutorTest.java&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16677960" author="githubbot" created="Wed, 7 Nov 2018 10:09:05 +0000"  >&lt;p&gt;Github user coveralls commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-text/pull/92&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/pull/92&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;    [!&lt;span class=&quot;error&quot;&gt;&amp;#91;Coverage Status&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://coveralls.io/builds/19956092/badge)](https://coveralls.io/builds/19956092&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://coveralls.io/builds/19956092/badge)](https://coveralls.io/builds/19956092&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;    Coverage increased (+0.002%) to 97.878% when pulling *&lt;b&gt;a8d94daaa59eef6709b70e66a46319c3c75cd718 on drajakumar:master&lt;/b&gt;* into *&lt;b&gt;f0ae79e46e3923562168df9c03023587eafc4d69 on apache:master&lt;/b&gt;*.&lt;/p&gt;
</comment>
                            <comment id="16677961" author="drajakumar" created="Wed, 7 Nov 2018 10:09:22 +0000"  >&lt;p&gt;raised pr &lt;a href=&quot;https://github.com/apache/commons-text/pull/92&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/pull/92&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16678929" author="garydgregory" created="Wed, 7 Nov 2018 23:11:46 +0000"  >&lt;p&gt;In git master, please verify and close this ticket and PR.&lt;/p&gt;</comment>
                            <comment id="16679954" author="githubbot" created="Thu, 8 Nov 2018 16:11:22 +0000"  >&lt;p&gt;Github user drajakumar commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-text/pull/92&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/pull/92&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    closing as its consider in this commit &lt;a href=&quot;https://github.com/apache/commons-text/commit/70c080b146e8e6fb79cd97f780b65f863d4ec6d8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/commit/70c080b146e8e6fb79cd97f780b65f863d4ec6d8&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16679955" author="githubbot" created="Thu, 8 Nov 2018 16:11:23 +0000"  >&lt;p&gt;Github user drajakumar closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/commons-text/pull/92&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/pull/92&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 1 week, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3xk0f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>