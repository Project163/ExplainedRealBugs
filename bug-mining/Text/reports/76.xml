<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:54:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TEXT-219] StringTokenizer#getTokenList does not support #remove</title>
                <link>https://issues.apache.org/jira/browse/TEXT-219</link>
                <project id="12318221" key="TEXT">Commons Text</project>
                    <description>&lt;p&gt;Upgraded to 1.10 from 1.9 and the &lt;tt&gt;StringTokenizer#getTokenList&lt;/tt&gt; method now returns an &lt;tt&gt;Arrays$ArrayList&lt;/tt&gt; instead of a regular &lt;tt&gt;ArrayList&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;This causes calls to #add and #remove to throw UnsupportedOperationExceptions, even if the documentation states this returns modifiable lists&lt;/p&gt;</description>
                <environment></environment>
        <key id="13486612">TEXT-219</key>
            <summary>StringTokenizer#getTokenList does not support #remove</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Gwaptiva">Jaap Sperling</reporter>
                        <labels>
                    </labels>
                <created>Mon, 17 Oct 2022 12:01:03 +0000</created>
                <updated>Mon, 17 Oct 2022 14:45:18 +0000</updated>
                                            <version>1.10.0</version>
                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17618865" author="alexherbert" created="Mon, 17 Oct 2022 12:24:20 +0000"  >&lt;p&gt;Thanks for the bug report.&lt;/p&gt;

&lt;p&gt;The method now uses:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// Gets a copy of the full token list as an independent modifiable list.
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; getTokenList() {
    &lt;span class=&quot;code-comment&quot;&gt;// ... 
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; Arrays.asList(tokens);
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Thus a second bug is that the returned List set method will change the backing array.&lt;/p&gt;

&lt;p&gt;For example this will modify the token order:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
StringTokenizer st = ...;

Collections.shuffle(st.getTokenList());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Please feel free to raise a PR on Github with a test and fix, e.g. return new ArrayList&amp;lt;&amp;gt;(Arrays.asList(tokens)).&lt;/p&gt;</comment>
                            <comment id="17618866" author="michael-o" created="Mon, 17 Oct 2022 12:25:41 +0000"  >&lt;p&gt;Here is the regression: &lt;a href=&quot;https://github.com/apache/commons-text/commit/2d1ab7ea72298949900df47f65b4f71d56411f0b#diff-ad0c791a40d9df9bd54b9b5c744eb4b386cec52bea1992f3e4476f6e220f1bcdR459&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-text/commit/2d1ab7ea72298949900df47f65b4f71d56411f0b#diff-ad0c791a40d9df9bd54b9b5c744eb4b386cec52bea1992f3e4476f6e220f1bcdR459&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17618872" author="JIRAUSER297014" created="Mon, 17 Oct 2022 12:32:29 +0000"  >&lt;p&gt;Thanks. just wanted to raise this issue because a) it broke my build and b) the documentation for the method states (implies at least to me) that the returend List is modifiable.&lt;/p&gt;

&lt;p&gt;I just wrapped the result into an ArrayList and was done with it. Maybe just update the Javadoc?&lt;/p&gt;</comment>
                            <comment id="17618876" author="alexherbert" created="Mon, 17 Oct 2022 12:40:35 +0000"  >&lt;p&gt;Since the change is so simple I have fixed this in master in commit:&lt;/p&gt;

&lt;p&gt;f9846b10b2365a36f95f63ff9f90e0f8847f901b&lt;/p&gt;

&lt;p&gt;Please verify the fix. I deployed a snapshot that you can include in any test projects to:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/commons-text/1.10.1-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/commons/commons-text/1.10.1-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17618909" author="michael-o" created="Mon, 17 Oct 2022 13:40:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=aherbert&quot; class=&quot;user-hover&quot; rel=&quot;aherbert&quot;&gt;aherbert&lt;/a&gt;, did you check maybe other spots are affected as well?&lt;/p&gt;</comment>
                            <comment id="17618941" author="alexherbert" created="Mon, 17 Oct 2022 14:45:18 +0000"  >&lt;p&gt;The method is only used in toString() as a read only list and in the test suite. So there should be no other effects.&lt;/p&gt;

&lt;p&gt;The deprecated StrTokenizer still has the original getTokenList method so the change was only made to the new replacement class StringTokenizer.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 3 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z19f7s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>