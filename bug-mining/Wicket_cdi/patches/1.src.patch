diff --git a/wicket-cdi/pom.xml b/wicket-cdi/pom.xml
index 4e8626a61c..54611f1411 100644
--- a/wicket-cdi/pom.xml
+++ b/wicket-cdi/pom.xml
@@ -52,6 +52,12 @@
 			<artifactId>junit</artifactId>
 			<scope>test</scope>
 		</dependency>
+		<dependency>
+			<groupId>javax.el</groupId>
+			<artifactId>javax.el-api</artifactId>
+			<version>2.2.4</version>
+			<scope>test</scope>
+		</dependency>
 	</dependencies>
 	<build>
 		<pluginManagement>
diff --git a/wicket-cdi/src/main/java/org/apache/wicket/cdi/ComponentInjector.java b/wicket-cdi/src/main/java/org/apache/wicket/cdi/ComponentInjector.java
index bc302ef1ae..0316004c1c 100644
--- a/wicket-cdi/src/main/java/org/apache/wicket/cdi/ComponentInjector.java
+++ b/wicket-cdi/src/main/java/org/apache/wicket/cdi/ComponentInjector.java
@@ -16,8 +16,12 @@
  */
 package org.apache.wicket.cdi;
 
+import java.lang.reflect.Modifier;
+
 import org.apache.wicket.Component;
 import org.apache.wicket.application.IComponentInstantiationListener;
+import org.slf4j.Logger;
+import org.slf4j.LoggerFactory;
 
 /**
  * Injects components with CDI dependencies
@@ -27,6 +31,8 @@ import org.apache.wicket.application.IComponentInstantiationListener;
  */
 class ComponentInjector extends AbstractInjector implements IComponentInstantiationListener
 {
+	private static final Logger LOG = LoggerFactory.getLogger(ComponentInjector.class);
+
 	/**
 	 * Constructor
 	 * 
@@ -40,7 +46,15 @@ class ComponentInjector extends AbstractInjector implements IComponentInstantiat
 	@Override
 	public void onInstantiation(Component component)
 	{
-		inject(component);
-	}
+		Class<? extends Component> componentClass = component.getClass();
 
+		if (componentClass.isMemberClass() && Modifier.isStatic(componentClass.getModifiers()) == false)
+		{
+			LOG.debug("Skipping non-static inner class '{}' ", componentClass);
+		}
+		else
+		{
+			inject(component);
+		}
+	}
 }
diff --git a/wicket-cdi/src/test/java/org/apache/wicket/cdi/ComponentInjectorTest.java b/wicket-cdi/src/test/java/org/apache/wicket/cdi/ComponentInjectorTest.java
new file mode 100644
index 0000000000..55d00cd2a5
--- /dev/null
+++ b/wicket-cdi/src/test/java/org/apache/wicket/cdi/ComponentInjectorTest.java
@@ -0,0 +1,131 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one or more
+ * contributor license agreements.  See the NOTICE file distributed with
+ * this work for additional information regarding copyright ownership.
+ * The ASF licenses this file to You under the Apache License, Version 2.0
+ * (the "License"); you may not use this file except in compliance with
+ * the License.  You may obtain a copy of the License at
+ *
+ *      http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+package org.apache.wicket.cdi;
+
+import static org.mockito.Mockito.any;
+import static org.mockito.Mockito.doAnswer;
+import static org.mockito.Mockito.mock;
+import static org.mockito.Mockito.never;
+import static org.mockito.Mockito.verify;
+
+import javax.enterprise.inject.spi.BeanManager;
+import javax.inject.Inject;
+
+import org.apache.wicket.markup.html.WebComponent;
+import org.apache.wicket.util.tester.WicketTester;
+import org.junit.After;
+import org.junit.Assert;
+import org.junit.Before;
+import org.junit.Test;
+import org.mockito.invocation.InvocationOnMock;
+import org.mockito.stubbing.Answer;
+
+/**
+ * Tests for ComponentInjector
+ */
+public class ComponentInjectorTest extends Assert
+{
+	private WicketTester tester;
+
+	@Before
+	public void before()
+	{
+		// starts an application so we can instantiate components
+		tester = new WicketTester();
+	}
+
+	@After
+	public void after()
+	{
+		tester.destroy();
+		tester = null;
+	}
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-5226
+	 */
+	@Test
+	public void innerNonStaticClass()
+	{
+		BeanManager beanManager = mock(BeanManager.class);
+		INonContextualManager nonContextualManager = mock(INonContextualManager.class);
+		CdiContainer cdiContainer = new CdiContainer(beanManager, nonContextualManager);
+		ComponentInjector injector = new ComponentInjector(cdiContainer);
+
+		TestNonStaticComponent component = new TestNonStaticComponent("someId");
+		assertNull(component.dependency);
+
+		injector.onInstantiation(component);
+
+		verify(nonContextualManager, never()).inject(any());
+	}
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-5226
+	 */
+	@Test
+	public void innerStaticClass()
+	{
+		BeanManager beanManager = mock(BeanManager.class);
+		INonContextualManager nonContextualManager = mock(INonContextualManager.class);
+		final String expectedValue = "injected";
+
+		doAnswer(new Answer<Void>()
+		{
+			@Override
+			public Void answer(InvocationOnMock invocation) throws Throwable
+			{
+				TestStaticComponent component = (TestStaticComponent) invocation.getArguments()[0];
+				component.dependency = expectedValue;
+
+				return null;
+			}
+		}).when(nonContextualManager).inject(any(TestStaticComponent.class));
+
+		CdiContainer cdiContainer = new CdiContainer(beanManager, nonContextualManager);
+		ComponentInjector injector = new ComponentInjector(cdiContainer);
+
+		TestStaticComponent component = new TestStaticComponent("someId");
+		assertNull(component.dependency);
+
+		injector.onInstantiation(component);
+
+		assertEquals(expectedValue, component.dependency);
+	}
+
+	private class TestNonStaticComponent extends WebComponent
+	{
+		@Inject
+		private String dependency;
+
+		public TestNonStaticComponent(String id)
+		{
+			super(id);
+		}
+	}
+
+	private static class TestStaticComponent extends WebComponent
+	{
+		@Inject
+		private String dependency;
+
+		public TestStaticComponent(String id)
+		{
+			super(id);
+		}
+	}
+}
