diff --git a/ChangeLog-11.4.md b/ChangeLog-11.4.md
index 146c64520..ff143ee6a 100644
--- a/ChangeLog-11.4.md
+++ b/ChangeLog-11.4.md
@@ -9,5 +9,6 @@ All notable changes of the PHPUnit 11.4 release series are documented in this fi
 * [#5915](https://github.com/sebastianbergmann/phpunit/pull/5915): Bootstrap extensions before building test suite
 * [#5917](https://github.com/sebastianbergmann/phpunit/pull/5917): Seal event facade before loading the test suite
 * [#5923](https://github.com/sebastianbergmann/phpunit/pull/5923): Filter configured deprecation triggers when displaying deprecation details
+* [#5928](https://github.com/sebastianbergmann/phpunit/issues/5928): Filter tests based on the PHP extensions they require
 
 [11.4.0]: https://github.com/sebastianbergmann/phpunit/compare/11.3...main
diff --git a/src/Metadata/Api/Groups.php b/src/Metadata/Api/Groups.php
index 4b88eb2e8..612f9f462 100644
--- a/src/Metadata/Api/Groups.php
+++ b/src/Metadata/Api/Groups.php
@@ -21,6 +21,7 @@
 use PHPUnit\Metadata\CoversFunction;
 use PHPUnit\Metadata\Group;
 use PHPUnit\Metadata\Parser\Registry;
+use PHPUnit\Metadata\RequiresPhpExtension;
 use PHPUnit\Metadata\Uses;
 use PHPUnit\Metadata\UsesClass;
 use PHPUnit\Metadata\UsesFunction;
@@ -99,6 +100,12 @@ public function groups(string $className, string $methodName, bool $includeVirtu
 
                 $groups[] = '__phpunit_uses_' . $this->canonicalizeName($metadata->target());
             }
+
+            if ($metadata->isRequiresPhpExtension()) {
+                assert($metadata instanceof RequiresPhpExtension);
+
+                $groups[] = '__phpunit_requires_php_extension' . $this->canonicalizeName($metadata->extension());
+            }
         }
 
         return self::$groupCache[$key] = array_unique($groups);
diff --git a/src/TextUI/Configuration/Cli/Builder.php b/src/TextUI/Configuration/Cli/Builder.php
index 996f8b395..b21dc8e2b 100644
--- a/src/TextUI/Configuration/Cli/Builder.php
+++ b/src/TextUI/Configuration/Cli/Builder.php
@@ -20,6 +20,7 @@
 use function is_numeric;
 use function sprintf;
 use function str_contains;
+use function strtolower;
 use PHPUnit\Event\Facade as EventFacade;
 use PHPUnit\Runner\TestSuiteSorter;
 use PHPUnit\Util\Filesystem;
@@ -75,6 +76,7 @@ final class Builder
         'group=',
         'covers=',
         'uses=',
+        'requires-php-extension=',
         'help',
         'resolve-dependencies',
         'ignore-dependencies',
@@ -226,6 +228,7 @@ public function fromParameters(array $parameters): Configuration
         $groups                            = null;
         $testsCovering                     = null;
         $testsUsing                        = null;
+        $testsRequiringPhpExtension        = null;
         $help                              = false;
         $includePath                       = null;
         $iniSettings                       = [];
@@ -513,6 +516,17 @@ public function fromParameters(array $parameters): Configuration
 
                     break;
 
+                case '--requires-php-extension':
+                    if ($testsRequiringPhpExtension === null) {
+                        $testsRequiringPhpExtension = [];
+                    }
+
+                    $testsRequiringPhpExtension[] = strtolower($option[1]);
+
+                    $optionAllowedMultipleTimes = true;
+
+                    break;
+
                 case '--test-suffix':
                     if (str_contains($option[1], ',')) {
                         EventFacade::emitter()->testRunnerTriggeredWarning(
@@ -1023,6 +1037,7 @@ public function fromParameters(array $parameters): Configuration
             $groups,
             $testsCovering,
             $testsUsing,
+            $testsRequiringPhpExtension,
             $help,
             $includePath,
             $iniSettings,
diff --git a/src/TextUI/Configuration/Cli/Configuration.php b/src/TextUI/Configuration/Cli/Configuration.php
index fce5563c9..5d308b470 100644
--- a/src/TextUI/Configuration/Cli/Configuration.php
+++ b/src/TextUI/Configuration/Cli/Configuration.php
@@ -98,6 +98,11 @@
      * @var ?non-empty-list<non-empty-string>
      */
     private ?array $testsUsing;
+
+    /**
+     * @var ?non-empty-list<non-empty-string>
+     */
+    private ?array $testsRequiringPhpExtension;
     private bool $help;
     private ?string $includePath;
 
@@ -160,12 +165,13 @@
      * @param ?non-empty-list<non-empty-string>                    $groups
      * @param ?non-empty-list<non-empty-string>                    $testsCovering
      * @param ?non-empty-list<non-empty-string>                    $testsUsing
+     * @param ?non-empty-list<non-empty-string>                    $testsRequiringPhpExtension
      * @param ?non-empty-array<non-empty-string, non-empty-string> $iniSettings
      * @param ?non-empty-list<non-empty-string>                    $testSuffixes
      * @param ?non-empty-list<non-empty-string>                    $coverageFilter
      * @param ?non-empty-list<non-empty-string>                    $extensions
      */
-    public function __construct(array $arguments, ?string $atLeastVersion, ?bool $backupGlobals, ?bool $backupStaticProperties, ?bool $beStrictAboutChangesToGlobalState, ?string $bootstrap, ?string $cacheDirectory, ?bool $cacheResult, bool $checkVersion, ?string $colors, null|int|string $columns, ?string $configurationFile, ?string $coverageClover, ?string $coverageCobertura, ?string $coverageCrap4J, ?string $coverageHtml, ?string $coveragePhp, ?string $coverageText, ?bool $coverageTextShowUncoveredFiles, ?bool $coverageTextShowOnlySummary, ?string $coverageXml, ?bool $pathCoverage, bool $warmCoverageCache, ?int $defaultTimeLimit, ?bool $disableCodeCoverageIgnore, ?bool $disallowTestOutput, ?bool $enforceTimeLimit, ?array $excludeGroups, ?int $executionOrder, ?int $executionOrderDefects, ?bool $failOnDeprecation, ?bool $failOnEmptyTestSuite, ?bool $failOnIncomplete, ?bool $failOnNotice, ?bool $failOnRisky, ?bool $failOnSkipped, ?bool $failOnWarning, ?bool $stopOnDefect, ?bool $stopOnDeprecation, ?bool $stopOnError, ?bool $stopOnFailure, ?bool $stopOnIncomplete, ?bool $stopOnNotice, ?bool $stopOnRisky, ?bool $stopOnSkipped, ?bool $stopOnWarning, ?string $filter, ?string $excludeFilter, ?string $generateBaseline, ?string $useBaseline, bool $ignoreBaseline, bool $generateConfiguration, bool $migrateConfiguration, ?array $groups, ?array $testsCovering, ?array $testsUsing, bool $help, ?string $includePath, ?array $iniSettings, ?string $junitLogfile, bool $listGroups, bool $listSuites, bool $listTestFiles, bool $listTests, ?string $listTestsXml, ?bool $noCoverage, ?bool $noExtensions, ?bool $noOutput, ?bool $noProgress, ?bool $noResults, ?bool $noLogging, ?bool $processIsolation, ?int $randomOrderSeed, ?bool $reportUselessTests, ?bool $resolveDependencies, ?bool $reverseList, ?bool $stderr, ?bool $strictCoverage, ?string $teamcityLogfile, ?string $testdoxHtmlFile, ?string $testdoxTextFile, ?array $testSuffixes, ?string $testSuite, ?string $excludeTestSuite, bool $useDefaultConfiguration, ?bool $displayDetailsOnIncompleteTests, ?bool $displayDetailsOnSkippedTests, ?bool $displayDetailsOnTestsThatTriggerDeprecations, ?bool $displayDetailsOnTestsThatTriggerErrors, ?bool $displayDetailsOnTestsThatTriggerNotices, ?bool $displayDetailsOnTestsThatTriggerWarnings, bool $version, ?array $coverageFilter, ?string $logEventsText, ?string $logEventsVerboseText, ?bool $printerTeamCity, ?bool $testdoxPrinter, ?bool $testdoxPrinterSummary, bool $debug, ?array $extensions)
+    public function __construct(array $arguments, ?string $atLeastVersion, ?bool $backupGlobals, ?bool $backupStaticProperties, ?bool $beStrictAboutChangesToGlobalState, ?string $bootstrap, ?string $cacheDirectory, ?bool $cacheResult, bool $checkVersion, ?string $colors, null|int|string $columns, ?string $configurationFile, ?string $coverageClover, ?string $coverageCobertura, ?string $coverageCrap4J, ?string $coverageHtml, ?string $coveragePhp, ?string $coverageText, ?bool $coverageTextShowUncoveredFiles, ?bool $coverageTextShowOnlySummary, ?string $coverageXml, ?bool $pathCoverage, bool $warmCoverageCache, ?int $defaultTimeLimit, ?bool $disableCodeCoverageIgnore, ?bool $disallowTestOutput, ?bool $enforceTimeLimit, ?array $excludeGroups, ?int $executionOrder, ?int $executionOrderDefects, ?bool $failOnDeprecation, ?bool $failOnEmptyTestSuite, ?bool $failOnIncomplete, ?bool $failOnNotice, ?bool $failOnRisky, ?bool $failOnSkipped, ?bool $failOnWarning, ?bool $stopOnDefect, ?bool $stopOnDeprecation, ?bool $stopOnError, ?bool $stopOnFailure, ?bool $stopOnIncomplete, ?bool $stopOnNotice, ?bool $stopOnRisky, ?bool $stopOnSkipped, ?bool $stopOnWarning, ?string $filter, ?string $excludeFilter, ?string $generateBaseline, ?string $useBaseline, bool $ignoreBaseline, bool $generateConfiguration, bool $migrateConfiguration, ?array $groups, ?array $testsCovering, ?array $testsUsing, ?array $testsRequiringPhpExtension, bool $help, ?string $includePath, ?array $iniSettings, ?string $junitLogfile, bool $listGroups, bool $listSuites, bool $listTestFiles, bool $listTests, ?string $listTestsXml, ?bool $noCoverage, ?bool $noExtensions, ?bool $noOutput, ?bool $noProgress, ?bool $noResults, ?bool $noLogging, ?bool $processIsolation, ?int $randomOrderSeed, ?bool $reportUselessTests, ?bool $resolveDependencies, ?bool $reverseList, ?bool $stderr, ?bool $strictCoverage, ?string $teamcityLogfile, ?string $testdoxHtmlFile, ?string $testdoxTextFile, ?array $testSuffixes, ?string $testSuite, ?string $excludeTestSuite, bool $useDefaultConfiguration, ?bool $displayDetailsOnIncompleteTests, ?bool $displayDetailsOnSkippedTests, ?bool $displayDetailsOnTestsThatTriggerDeprecations, ?bool $displayDetailsOnTestsThatTriggerErrors, ?bool $displayDetailsOnTestsThatTriggerNotices, ?bool $displayDetailsOnTestsThatTriggerWarnings, bool $version, ?array $coverageFilter, ?string $logEventsText, ?string $logEventsVerboseText, ?bool $printerTeamCity, ?bool $testdoxPrinter, ?bool $testdoxPrinterSummary, bool $debug, ?array $extensions)
     {
         $this->arguments                                    = $arguments;
         $this->atLeastVersion                               = $atLeastVersion;
@@ -224,6 +230,7 @@ public function __construct(array $arguments, ?string $atLeastVersion, ?bool $ba
         $this->groups                                       = $groups;
         $this->testsCovering                                = $testsCovering;
         $this->testsUsing                                   = $testsUsing;
+        $this->testsRequiringPhpExtension                   = $testsRequiringPhpExtension;
         $this->help                                         = $help;
         $this->includePath                                  = $includePath;
         $this->iniSettings                                  = $iniSettings;
@@ -1332,6 +1339,28 @@ public function testsUsing(): array
         return $this->testsUsing;
     }
 
+    /**
+     * @phpstan-assert-if-true !null $this->testsRequiringPhpExtension
+     */
+    public function hasTestsRequiringPhpExtension(): bool
+    {
+        return $this->testsRequiringPhpExtension !== null;
+    }
+
+    /**
+     * @throws Exception
+     *
+     * @return non-empty-list<non-empty-string>
+     */
+    public function testsRequiringPhpExtension(): array
+    {
+        if (!$this->hasTestsRequiringPhpExtension()) {
+            throw new Exception;
+        }
+
+        return $this->testsRequiringPhpExtension;
+    }
+
     public function help(): bool
     {
         return $this->help;
diff --git a/src/TextUI/Configuration/Configuration.php b/src/TextUI/Configuration/Configuration.php
index 1a1ba0418..c4e29104e 100644
--- a/src/TextUI/Configuration/Configuration.php
+++ b/src/TextUI/Configuration/Configuration.php
@@ -125,6 +125,11 @@
      * @var ?non-empty-list<non-empty-string>
      */
     private ?array $testsUsing;
+
+    /**
+     * @var ?non-empty-list<non-empty-string>
+     */
+    private ?array $testsRequiringPhpExtension;
     private bool $teamCityOutput;
     private bool $testDoxOutput;
     private bool $testDoxOutputSummary;
@@ -168,12 +173,13 @@
      * @param list<array{className: non-empty-string, parameters: array<string, string>}> $extensionBootstrappers
      * @param ?non-empty-list<non-empty-string>                                           $testsCovering
      * @param ?non-empty-list<non-empty-string>                                           $testsUsing
+     * @param ?non-empty-list<non-empty-string>                                           $testsRequiringPhpExtension
      * @param list<non-empty-string>                                                      $groups
      * @param list<non-empty-string>                                                      $excludeGroups
      * @param non-empty-list<non-empty-string>                                            $testSuffixes
      * @param non-negative-int                                                            $shortenArraysForExportThreshold
      */
-    public function __construct(array $cliArguments, ?string $configurationFile, ?string $bootstrap, bool $cacheResult, ?string $cacheDirectory, ?string $coverageCacheDirectory, Source $source, string $testResultCacheFile, ?string $coverageClover, ?string $coverageCobertura, ?string $coverageCrap4j, int $coverageCrap4jThreshold, ?string $coverageHtml, int $coverageHtmlLowUpperBound, int $coverageHtmlHighLowerBound, string $coverageHtmlColorSuccessLow, string $coverageHtmlColorSuccessMedium, string $coverageHtmlColorSuccessHigh, string $coverageHtmlColorWarning, string $coverageHtmlColorDanger, ?string $coverageHtmlCustomCssFile, ?string $coveragePhp, ?string $coverageText, bool $coverageTextShowUncoveredFiles, bool $coverageTextShowOnlySummary, ?string $coverageXml, bool $pathCoverage, bool $ignoreDeprecatedCodeUnitsFromCodeCoverage, bool $disableCodeCoverageIgnore, bool $failOnDeprecation, bool $failOnEmptyTestSuite, bool $failOnIncomplete, bool $failOnNotice, bool $failOnRisky, bool $failOnSkipped, bool $failOnWarning, bool $stopOnDefect, bool $stopOnDeprecation, bool $stopOnError, bool $stopOnFailure, bool $stopOnIncomplete, bool $stopOnNotice, bool $stopOnRisky, bool $stopOnSkipped, bool $stopOnWarning, bool $outputToStandardErrorStream, int|string $columns, bool $noExtensions, ?string $pharExtensionDirectory, array $extensionBootstrappers, bool $backupGlobals, bool $backupStaticProperties, bool $beStrictAboutChangesToGlobalState, bool $colors, bool $processIsolation, bool $enforceTimeLimit, int $defaultTimeLimit, int $timeoutForSmallTests, int $timeoutForMediumTests, int $timeoutForLargeTests, bool $reportUselessTests, bool $strictCoverage, bool $disallowTestOutput, bool $displayDetailsOnIncompleteTests, bool $displayDetailsOnSkippedTests, bool $displayDetailsOnTestsThatTriggerDeprecations, bool $displayDetailsOnTestsThatTriggerErrors, bool $displayDetailsOnTestsThatTriggerNotices, bool $displayDetailsOnTestsThatTriggerWarnings, bool $reverseDefectList, bool $requireCoverageMetadata, bool $noProgress, bool $noResults, bool $noOutput, int $executionOrder, int $executionOrderDefects, bool $resolveDependencies, ?string $logfileTeamcity, ?string $logfileJunit, ?string $logfileTestdoxHtml, ?string $logfileTestdoxText, ?string $logEventsText, ?string $logEventsVerboseText, bool $teamCityOutput, bool $testDoxOutput, bool $testDoxOutputSummary, ?array $testsCovering, ?array $testsUsing, ?string $filter, ?string $excludeFilter, array $groups, array $excludeGroups, int $randomOrderSeed, bool $includeUncoveredFiles, TestSuiteCollection $testSuite, string $includeTestSuite, string $excludeTestSuite, ?string $defaultTestSuite, array $testSuffixes, Php $php, bool $controlGarbageCollector, int $numberOfTestsBeforeGarbageCollection, ?string $generateBaseline, bool $debug, int $shortenArraysForExportThreshold)
+    public function __construct(array $cliArguments, ?string $configurationFile, ?string $bootstrap, bool $cacheResult, ?string $cacheDirectory, ?string $coverageCacheDirectory, Source $source, string $testResultCacheFile, ?string $coverageClover, ?string $coverageCobertura, ?string $coverageCrap4j, int $coverageCrap4jThreshold, ?string $coverageHtml, int $coverageHtmlLowUpperBound, int $coverageHtmlHighLowerBound, string $coverageHtmlColorSuccessLow, string $coverageHtmlColorSuccessMedium, string $coverageHtmlColorSuccessHigh, string $coverageHtmlColorWarning, string $coverageHtmlColorDanger, ?string $coverageHtmlCustomCssFile, ?string $coveragePhp, ?string $coverageText, bool $coverageTextShowUncoveredFiles, bool $coverageTextShowOnlySummary, ?string $coverageXml, bool $pathCoverage, bool $ignoreDeprecatedCodeUnitsFromCodeCoverage, bool $disableCodeCoverageIgnore, bool $failOnDeprecation, bool $failOnEmptyTestSuite, bool $failOnIncomplete, bool $failOnNotice, bool $failOnRisky, bool $failOnSkipped, bool $failOnWarning, bool $stopOnDefect, bool $stopOnDeprecation, bool $stopOnError, bool $stopOnFailure, bool $stopOnIncomplete, bool $stopOnNotice, bool $stopOnRisky, bool $stopOnSkipped, bool $stopOnWarning, bool $outputToStandardErrorStream, int|string $columns, bool $noExtensions, ?string $pharExtensionDirectory, array $extensionBootstrappers, bool $backupGlobals, bool $backupStaticProperties, bool $beStrictAboutChangesToGlobalState, bool $colors, bool $processIsolation, bool $enforceTimeLimit, int $defaultTimeLimit, int $timeoutForSmallTests, int $timeoutForMediumTests, int $timeoutForLargeTests, bool $reportUselessTests, bool $strictCoverage, bool $disallowTestOutput, bool $displayDetailsOnIncompleteTests, bool $displayDetailsOnSkippedTests, bool $displayDetailsOnTestsThatTriggerDeprecations, bool $displayDetailsOnTestsThatTriggerErrors, bool $displayDetailsOnTestsThatTriggerNotices, bool $displayDetailsOnTestsThatTriggerWarnings, bool $reverseDefectList, bool $requireCoverageMetadata, bool $noProgress, bool $noResults, bool $noOutput, int $executionOrder, int $executionOrderDefects, bool $resolveDependencies, ?string $logfileTeamcity, ?string $logfileJunit, ?string $logfileTestdoxHtml, ?string $logfileTestdoxText, ?string $logEventsText, ?string $logEventsVerboseText, bool $teamCityOutput, bool $testDoxOutput, bool $testDoxOutputSummary, ?array $testsCovering, ?array $testsUsing, ?array $testsRequiringPhpExtension, ?string $filter, ?string $excludeFilter, array $groups, array $excludeGroups, int $randomOrderSeed, bool $includeUncoveredFiles, TestSuiteCollection $testSuite, string $includeTestSuite, string $excludeTestSuite, ?string $defaultTestSuite, array $testSuffixes, Php $php, bool $controlGarbageCollector, int $numberOfTestsBeforeGarbageCollection, ?string $generateBaseline, bool $debug, int $shortenArraysForExportThreshold)
     {
         $this->cliArguments                                 = $cliArguments;
         $this->configurationFile                            = $configurationFile;
@@ -263,6 +269,7 @@ public function __construct(array $cliArguments, ?string $configurationFile, ?st
         $this->testDoxOutputSummary                         = $testDoxOutputSummary;
         $this->testsCovering                                = $testsCovering;
         $this->testsUsing                                   = $testsUsing;
+        $this->testsRequiringPhpExtension                   = $testsRequiringPhpExtension;
         $this->filter                                       = $filter;
         $this->excludeFilter                                = $excludeFilter;
         $this->groups                                       = $groups;
@@ -1068,6 +1075,28 @@ public function testsUsing(): array
         return $this->testsUsing;
     }
 
+    /**
+     * @phpstan-assert-if-true !empty $this->testsRequiringPhpExtension
+     */
+    public function hasTestsRequiringPhpExtension(): bool
+    {
+        return !empty($this->testsRequiringPhpExtension);
+    }
+
+    /**
+     * @throws FilterNotConfiguredException
+     *
+     * @return non-empty-list<non-empty-string>
+     */
+    public function testsRequiringPhpExtension(): array
+    {
+        if (!$this->hasTestsRequiringPhpExtension()) {
+            throw new FilterNotConfiguredException;
+        }
+
+        return $this->testsRequiringPhpExtension;
+    }
+
     /**
      * @phpstan-assert-if-true !null $this->filter
      */
diff --git a/src/TextUI/Configuration/Merger.php b/src/TextUI/Configuration/Merger.php
index 2c70c4f9c..39b309388 100644
--- a/src/TextUI/Configuration/Merger.php
+++ b/src/TextUI/Configuration/Merger.php
@@ -602,6 +602,12 @@ public function merge(CliConfiguration $cliConfiguration, XmlConfiguration $xmlC
             $testsUsing = $cliConfiguration->testsUsing();
         }
 
+        $testsRequiringPhpExtension = null;
+
+        if ($cliConfiguration->hasTestsRequiringPhpExtension()) {
+            $testsRequiringPhpExtension = $cliConfiguration->testsRequiringPhpExtension();
+        }
+
         $filter = null;
 
         if ($cliConfiguration->hasFilter()) {
@@ -855,6 +861,7 @@ public function merge(CliConfiguration $cliConfiguration, XmlConfiguration $xmlC
             $testDoxOutputSummary,
             $testsCovering,
             $testsUsing,
+            $testsRequiringPhpExtension,
             $filter,
             $excludeFilter,
             $groups,
diff --git a/src/TextUI/Help.php b/src/TextUI/Help.php
index 4caea2649..539ef6efa 100644
--- a/src/TextUI/Help.php
+++ b/src/TextUI/Help.php
@@ -178,6 +178,7 @@ private function elements(): array
                 ['arg' => '--exclude-group <name>', 'desc' => 'Exclude tests from the specified group(s)'],
                 ['arg' => '--covers <name>', 'desc' => 'Only run tests that intend to cover <name>'],
                 ['arg' => '--uses <name>', 'desc' => 'Only run tests that intend to use <name>'],
+                ['arg' => '--requires-php-extension <name>', 'desc' => 'Only run tests that require PHP extension <name>'],
                 ['arg' => '--list-test-files', 'desc' => 'List available test files'],
                 ['arg' => '--list-tests', 'desc' => 'List available tests'],
                 ['arg' => '--list-tests-xml <file>', 'desc' => 'List available tests in XML format'],
diff --git a/src/TextUI/TestSuiteFilterProcessor.php b/src/TextUI/TestSuiteFilterProcessor.php
index 21365439a..c0e4beb19 100644
--- a/src/TextUI/TestSuiteFilterProcessor.php
+++ b/src/TextUI/TestSuiteFilterProcessor.php
@@ -36,7 +36,8 @@ public function process(Configuration $configuration, TestSuite $suite): void
             !$configuration->hasExcludeGroups() &&
             !$configuration->hasExcludeFilter() &&
             !$configuration->hasTestsCovering() &&
-            !$configuration->hasTestsUsing()) {
+            !$configuration->hasTestsUsing() &&
+            !$configuration->hasTestsRequiringPhpExtension()) {
             return;
         }
 
@@ -70,6 +71,15 @@ public function process(Configuration $configuration, TestSuite $suite): void
             );
         }
 
+        if ($configuration->hasTestsRequiringPhpExtension()) {
+            $factory->addIncludeGroupFilter(
+                array_map(
+                    static fn (string $name): string => '__phpunit_requires_php_extension' . $name,
+                    $configuration->testsRequiringPhpExtension(),
+                ),
+            );
+        }
+
         if ($configuration->hasExcludeFilter()) {
             $factory->addExcludeNameFilter(
                 $configuration->excludeFilter(),
diff --git a/tests/end-to-end/_files/covers-uses/phpunit.xml b/tests/end-to-end/_files/attribute-based-filtering/phpunit.xml
similarity index 100%
rename from tests/end-to-end/_files/covers-uses/phpunit.xml
rename to tests/end-to-end/_files/attribute-based-filtering/phpunit.xml
diff --git a/tests/end-to-end/_files/covers-uses/src/Foo.php b/tests/end-to-end/_files/attribute-based-filtering/src/Foo.php
similarity index 86%
rename from tests/end-to-end/_files/covers-uses/src/Foo.php
rename to tests/end-to-end/_files/attribute-based-filtering/src/Foo.php
index 926aab693..25481906c 100644
--- a/tests/end-to-end/_files/covers-uses/src/Foo.php
+++ b/tests/end-to-end/_files/attribute-based-filtering/src/Foo.php
@@ -7,7 +7,7 @@
  * For the full copyright and license information, please view the LICENSE
  * file that was distributed with this source code.
  */
-namespace PHPUnit\TestFixture\CoversUsesFiltering;
+namespace PHPUnit\TestFixture\AttributeBasedFiltering;
 
 final class Foo
 {
diff --git a/tests/end-to-end/_files/covers-uses/tests/CoversTest.php b/tests/end-to-end/_files/attribute-based-filtering/tests/CoversTest.php
similarity index 89%
rename from tests/end-to-end/_files/covers-uses/tests/CoversTest.php
rename to tests/end-to-end/_files/attribute-based-filtering/tests/CoversTest.php
index 1c2ab7570..e5595432e 100644
--- a/tests/end-to-end/_files/covers-uses/tests/CoversTest.php
+++ b/tests/end-to-end/_files/attribute-based-filtering/tests/CoversTest.php
@@ -7,7 +7,7 @@
  * For the full copyright and license information, please view the LICENSE
  * file that was distributed with this source code.
  */
-namespace PHPUnit\TestFixture\CoversUsesFiltering;
+namespace PHPUnit\TestFixture\AttributeBasedFiltering;
 
 use PHPUnit\Framework\Attributes\CoversClass;
 use PHPUnit\Framework\TestCase;
diff --git a/tests/end-to-end/_files/attribute-based-filtering/tests/RequiresPhpExtensionTest.php b/tests/end-to-end/_files/attribute-based-filtering/tests/RequiresPhpExtensionTest.php
new file mode 100644
index 000000000..baec8800d
--- /dev/null
+++ b/tests/end-to-end/_files/attribute-based-filtering/tests/RequiresPhpExtensionTest.php
@@ -0,0 +1,22 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\AttributeBasedFiltering;
+
+use PHPUnit\Framework\Attributes\RequiresPhpExtension;
+use PHPUnit\Framework\TestCase;
+
+#[RequiresPhpExtension('standard')]
+final class RequiresPhpExtensionTest extends TestCase
+{
+    public function testOne(): void
+    {
+        $this->assertTrue(true);
+    }
+}
diff --git a/tests/end-to-end/_files/covers-uses/tests/UsesTest.php b/tests/end-to-end/_files/attribute-based-filtering/tests/UsesTest.php
similarity index 89%
rename from tests/end-to-end/_files/covers-uses/tests/UsesTest.php
rename to tests/end-to-end/_files/attribute-based-filtering/tests/UsesTest.php
index 0a08e497e..cffe7cf28 100644
--- a/tests/end-to-end/_files/covers-uses/tests/UsesTest.php
+++ b/tests/end-to-end/_files/attribute-based-filtering/tests/UsesTest.php
@@ -7,7 +7,7 @@
  * For the full copyright and license information, please view the LICENSE
  * file that was distributed with this source code.
  */
-namespace PHPUnit\TestFixture\CoversUsesFiltering;
+namespace PHPUnit\TestFixture\AttributeBasedFiltering;
 
 use PHPUnit\Framework\Attributes\UsesClass;
 use PHPUnit\Framework\TestCase;
diff --git a/tests/end-to-end/_files/output-cli-help-color.txt b/tests/end-to-end/_files/output-cli-help-color.txt
index bcded7233..6b962623b 100644
--- a/tests/end-to-end/_files/output-cli-help-color.txt
+++ b/tests/end-to-end/_files/output-cli-help-color.txt
@@ -35,6 +35,8 @@
   [32m--exclude-group [36m<name>[0m            [0m Exclude tests from the specified group(s)
   [32m--covers [36m<name>[0m                   [0m Only run tests that intend to cover <name>
   [32m--uses [36m<name>[0m                     [0m Only run tests that intend to use <name>
+  [32m--requires-php-extension [36m<name>[0m   [0m Only run tests that require PHP extension
+                                     <name>
   [32m--list-test-files                 [0m List available test files
   [32m--list-tests                      [0m List available tests
   [32m--list-tests-xml [36m<file>[0m           [0m List available tests in XML format
diff --git a/tests/end-to-end/_files/output-cli-usage.txt b/tests/end-to-end/_files/output-cli-usage.txt
index 36a637921..ca1208264 100644
--- a/tests/end-to-end/_files/output-cli-usage.txt
+++ b/tests/end-to-end/_files/output-cli-usage.txt
@@ -29,6 +29,7 @@ Selection:
   --exclude-group <name>             Exclude tests from the specified group(s)
   --covers <name>                    Only run tests that intend to cover <name>
   --uses <name>                      Only run tests that intend to use <name>
+  --requires-php-extension <name>    Only run tests that require PHP extension <name>
   --list-test-files                  List available test files
   --list-tests                       List available tests
   --list-tests-xml <file>            List available tests in XML format
diff --git a/tests/end-to-end/cli/group/covers-csv.phpt b/tests/end-to-end/cli/group/covers-csv.phpt
index 0ea0facdd..f2a5794cf 100644
--- a/tests/end-to-end/cli/group/covers-csv.phpt
+++ b/tests/end-to-end/cli/group/covers-csv.phpt
@@ -1,5 +1,5 @@
 --TEST--
-phpunit --covers PHPUnit\TestFixture\CoversUsesFiltering\Foo
+phpunit --covers PHPUnit\TestFixture\AttributeBasedFiltering\Foo
 --FILE--
 <?php declare(strict_types=1);
 $traceFile = tempnam(sys_get_temp_dir(), __FILE__);
@@ -10,8 +10,8 @@ $_SERVER['argv'][] = '--no-output';
 $_SERVER['argv'][] = '--log-events-text';
 $_SERVER['argv'][] = $traceFile;
 $_SERVER['argv'][] = '--covers';
-$_SERVER['argv'][] = \PHPUnit\TestFixture\CoversUsesFiltering\Foo::class . ',stdClass';
-$_SERVER['argv'][] = __DIR__ . '/../../_files/covers-uses';
+$_SERVER['argv'][] = \PHPUnit\TestFixture\AttributeBasedFiltering\Foo::class . ',stdClass';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/attribute-based-filtering';
 
 require_once __DIR__ . '/../../../bootstrap.php';
 
@@ -25,18 +25,18 @@ PHPUnit Started (PHPUnit %s using %s)
 Test Runner Triggered Warning (Using comma-separated values with --covers is deprecated and will no longer work in PHPUnit 12. You can use --covers multiple times instead.)
 Test Runner Configured
 Event Facade Sealed
-Test Suite Loaded (2 tests)
+Test Suite Loaded (3 tests)
 Test Runner Started
 Test Suite Sorted
 Test Suite Filtered (1 test)
 Test Runner Execution Started (1 test)
 Test Suite Started (CLI Arguments, 1 test)
-Test Suite Started (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest, 1 test)
-Test Preparation Started (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest::testOne)
-Test Prepared (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest::testOne)
-Test Passed (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest::testOne)
-Test Finished (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest::testOne)
-Test Suite Finished (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest, 1 test)
+Test Suite Started (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest::testOne)
+Test Prepared (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest::testOne)
+Test Passed (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest::testOne)
+Test Finished (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest, 1 test)
 Test Suite Finished (CLI Arguments, 1 test)
 Test Runner Execution Finished
 Test Runner Finished
diff --git a/tests/end-to-end/cli/group/covers.phpt b/tests/end-to-end/cli/group/covers.phpt
index e64d255ca..9aa2d3027 100644
--- a/tests/end-to-end/cli/group/covers.phpt
+++ b/tests/end-to-end/cli/group/covers.phpt
@@ -1,5 +1,5 @@
 --TEST--
-phpunit --covers PHPUnit\TestFixture\CoversUsesFiltering\Foo
+phpunit --covers PHPUnit\TestFixture\AttributeBasedFiltering\Foo
 --FILE--
 <?php declare(strict_types=1);
 $traceFile = tempnam(sys_get_temp_dir(), __FILE__);
@@ -10,8 +10,8 @@ $_SERVER['argv'][] = '--no-output';
 $_SERVER['argv'][] = '--log-events-text';
 $_SERVER['argv'][] = $traceFile;
 $_SERVER['argv'][] = '--covers';
-$_SERVER['argv'][] = \PHPUnit\TestFixture\CoversUsesFiltering\Foo::class;
-$_SERVER['argv'][] = __DIR__ . '/../../_files/covers-uses';
+$_SERVER['argv'][] = \PHPUnit\TestFixture\AttributeBasedFiltering\Foo::class;
+$_SERVER['argv'][] = __DIR__ . '/../../_files/attribute-based-filtering';
 
 require_once __DIR__ . '/../../../bootstrap.php';
 
@@ -24,18 +24,18 @@ unlink($traceFile);
 PHPUnit Started (PHPUnit %s using %s)
 Test Runner Configured
 Event Facade Sealed
-Test Suite Loaded (2 tests)
+Test Suite Loaded (3 tests)
 Test Runner Started
 Test Suite Sorted
 Test Suite Filtered (1 test)
 Test Runner Execution Started (1 test)
 Test Suite Started (CLI Arguments, 1 test)
-Test Suite Started (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest, 1 test)
-Test Preparation Started (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest::testOne)
-Test Prepared (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest::testOne)
-Test Passed (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest::testOne)
-Test Finished (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest::testOne)
-Test Suite Finished (PHPUnit\TestFixture\CoversUsesFiltering\CoversTest, 1 test)
+Test Suite Started (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest::testOne)
+Test Prepared (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest::testOne)
+Test Passed (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest::testOne)
+Test Finished (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\AttributeBasedFiltering\CoversTest, 1 test)
 Test Suite Finished (CLI Arguments, 1 test)
 Test Runner Execution Finished
 Test Runner Finished
diff --git a/tests/end-to-end/cli/group/requires-php-extension.phpt b/tests/end-to-end/cli/group/requires-php-extension.phpt
new file mode 100644
index 000000000..1c6afe8c5
--- /dev/null
+++ b/tests/end-to-end/cli/group/requires-php-extension.phpt
@@ -0,0 +1,42 @@
+--TEST--
+phpunit --requires-php-extension standard
+--FILE--
+<?php declare(strict_types=1);
+$traceFile = tempnam(sys_get_temp_dir(), __FILE__);
+
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-configuration';
+$_SERVER['argv'][] = '--no-output';
+$_SERVER['argv'][] = '--log-events-text';
+$_SERVER['argv'][] = $traceFile;
+$_SERVER['argv'][] = '--requires-php-extension';
+$_SERVER['argv'][] = 'standard';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/attribute-based-filtering';
+
+require_once __DIR__ . '/../../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+
+print file_get_contents($traceFile);
+
+unlink($traceFile);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s using %s)
+Test Runner Configured
+Event Facade Sealed
+Test Suite Loaded (3 tests)
+Test Runner Started
+Test Suite Sorted
+Test Suite Filtered (1 test)
+Test Runner Execution Started (1 test)
+Test Suite Started (CLI Arguments, 1 test)
+Test Suite Started (PHPUnit\TestFixture\AttributeBasedFiltering\RequiresPhpExtensionTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\AttributeBasedFiltering\RequiresPhpExtensionTest::testOne)
+Test Prepared (PHPUnit\TestFixture\AttributeBasedFiltering\RequiresPhpExtensionTest::testOne)
+Test Passed (PHPUnit\TestFixture\AttributeBasedFiltering\RequiresPhpExtensionTest::testOne)
+Test Finished (PHPUnit\TestFixture\AttributeBasedFiltering\RequiresPhpExtensionTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\AttributeBasedFiltering\RequiresPhpExtensionTest, 1 test)
+Test Suite Finished (CLI Arguments, 1 test)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/cli/group/uses-csv.phpt b/tests/end-to-end/cli/group/uses-csv.phpt
index 12ff1f17d..de576dbd9 100644
--- a/tests/end-to-end/cli/group/uses-csv.phpt
+++ b/tests/end-to-end/cli/group/uses-csv.phpt
@@ -1,5 +1,5 @@
 --TEST--
-phpunit --uses PHPUnit\TestFixture\CoversUsesFiltering\Foo
+phpunit --uses PHPUnit\TestFixture\AttributeBasedFiltering\Foo
 --FILE--
 <?php declare(strict_types=1);
 $traceFile = tempnam(sys_get_temp_dir(), __FILE__);
@@ -10,8 +10,8 @@ $_SERVER['argv'][] = '--no-output';
 $_SERVER['argv'][] = '--log-events-text';
 $_SERVER['argv'][] = $traceFile;
 $_SERVER['argv'][] = '--uses';
-$_SERVER['argv'][] = \PHPUnit\TestFixture\CoversUsesFiltering\Foo::class . ',stdClass';
-$_SERVER['argv'][] = __DIR__ . '/../../_files/covers-uses';
+$_SERVER['argv'][] = \PHPUnit\TestFixture\AttributeBasedFiltering\Foo::class . ',stdClass';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/attribute-based-filtering';
 
 require_once __DIR__ . '/../../../bootstrap.php';
 
@@ -25,18 +25,18 @@ PHPUnit Started (PHPUnit %s using %s)
 Test Runner Triggered Warning (Using comma-separated values with --uses is deprecated and will no longer work in PHPUnit 12. You can use --uses multiple times instead.)
 Test Runner Configured
 Event Facade Sealed
-Test Suite Loaded (2 tests)
+Test Suite Loaded (3 tests)
 Test Runner Started
 Test Suite Sorted
 Test Suite Filtered (1 test)
 Test Runner Execution Started (1 test)
 Test Suite Started (CLI Arguments, 1 test)
-Test Suite Started (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest, 1 test)
-Test Preparation Started (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest::testOne)
-Test Prepared (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest::testOne)
-Test Passed (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest::testOne)
-Test Finished (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest::testOne)
-Test Suite Finished (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest, 1 test)
+Test Suite Started (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest::testOne)
+Test Prepared (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest::testOne)
+Test Passed (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest::testOne)
+Test Finished (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest, 1 test)
 Test Suite Finished (CLI Arguments, 1 test)
 Test Runner Execution Finished
 Test Runner Finished
diff --git a/tests/end-to-end/cli/group/uses.phpt b/tests/end-to-end/cli/group/uses.phpt
index 82c5d4857..aabfb24c5 100644
--- a/tests/end-to-end/cli/group/uses.phpt
+++ b/tests/end-to-end/cli/group/uses.phpt
@@ -1,5 +1,5 @@
 --TEST--
-phpunit --uses PHPUnit\TestFixture\CoversUsesFiltering\Foo
+phpunit --uses PHPUnit\TestFixture\AttributeBasedFiltering\Foo
 --FILE--
 <?php declare(strict_types=1);
 $traceFile = tempnam(sys_get_temp_dir(), __FILE__);
@@ -10,8 +10,8 @@ $_SERVER['argv'][] = '--no-output';
 $_SERVER['argv'][] = '--log-events-text';
 $_SERVER['argv'][] = $traceFile;
 $_SERVER['argv'][] = '--uses';
-$_SERVER['argv'][] = \PHPUnit\TestFixture\CoversUsesFiltering\Foo::class;
-$_SERVER['argv'][] = __DIR__ . '/../../_files/covers-uses';
+$_SERVER['argv'][] = \PHPUnit\TestFixture\AttributeBasedFiltering\Foo::class;
+$_SERVER['argv'][] = __DIR__ . '/../../_files/attribute-based-filtering';
 
 require_once __DIR__ . '/../../../bootstrap.php';
 
@@ -24,18 +24,18 @@ unlink($traceFile);
 PHPUnit Started (PHPUnit %s using %s)
 Test Runner Configured
 Event Facade Sealed
-Test Suite Loaded (2 tests)
+Test Suite Loaded (3 tests)
 Test Runner Started
 Test Suite Sorted
 Test Suite Filtered (1 test)
 Test Runner Execution Started (1 test)
 Test Suite Started (CLI Arguments, 1 test)
-Test Suite Started (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest, 1 test)
-Test Preparation Started (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest::testOne)
-Test Prepared (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest::testOne)
-Test Passed (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest::testOne)
-Test Finished (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest::testOne)
-Test Suite Finished (PHPUnit\TestFixture\CoversUsesFiltering\UsesTest, 1 test)
+Test Suite Started (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest::testOne)
+Test Prepared (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest::testOne)
+Test Passed (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest::testOne)
+Test Finished (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\AttributeBasedFiltering\UsesTest, 1 test)
 Test Suite Finished (CLI Arguments, 1 test)
 Test Runner Execution Finished
 Test Runner Finished
diff --git a/tests/unit/TextUI/Configuration/Cli/BuilderTest.php b/tests/unit/TextUI/Configuration/Cli/BuilderTest.php
index 89bdefe02..f31abfece 100644
--- a/tests/unit/TextUI/Configuration/Cli/BuilderTest.php
+++ b/tests/unit/TextUI/Configuration/Cli/BuilderTest.php
@@ -731,6 +731,26 @@ public function testUsesMayNotBeConfigured(): void
         $configuration->testsUsing();
     }
 
+    #[TestDox('--requires-php-extension extension')]
+    public function testRequiresPhpExtension(): void
+    {
+        $configuration = (new Builder)->fromParameters(['--requires-php-extension', 'extension']);
+
+        $this->assertTrue($configuration->hasTestsRequiringPhpExtension());
+        $this->assertSame(['extension'], $configuration->testsRequiringPhpExtension());
+    }
+
+    public function testRequiresPhpExtensionMayNotBeConfigured(): void
+    {
+        $configuration = (new Builder)->fromParameters([]);
+
+        $this->assertFalse($configuration->hasTestsRequiringPhpExtension());
+
+        $this->expectException(Exception::class);
+
+        $configuration->testsRequiringPhpExtension();
+    }
+
     #[TestDox('--test-suffix string')]
     public function testTestSuffix(): void
     {
