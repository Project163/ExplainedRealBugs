diff --git a/PHPUnit/Util/CodeCoverage.php b/PHPUnit/Util/CodeCoverage.php
index d151f31c3..674227787 100644
--- a/PHPUnit/Util/CodeCoverage.php
+++ b/PHPUnit/Util/CodeCoverage.php
@@ -297,6 +297,10 @@ public static function codeCoverageToBitString(array $data, array $requiredStatu
         $result = array();
 
         foreach ($data as $file => $coverage) {
+            if (empty($coverage)) {
+                continue;
+            }
+
             $maxLine = max(array_keys($coverage));
 
             if ($maxLine == 0) {
