diff --git a/src/Framework/MockObject/Runtime/Rule/Parameters.php b/src/Framework/MockObject/Runtime/Rule/Parameters.php
index 5e75fe5af..17df3f0a7 100644
--- a/src/Framework/MockObject/Runtime/Rule/Parameters.php
+++ b/src/Framework/MockObject/Runtime/Rule/Parameters.php
@@ -18,6 +18,7 @@
 use PHPUnit\Framework\Constraint\IsEqual;
 use PHPUnit\Framework\ExpectationFailedException;
 use PHPUnit\Framework\MockObject\Invocation as BaseInvocation;
+use PHPUnit\Util\Test;
 
 /**
  * @no-named-arguments Parameter names are not covered by the backward compatibility promise for PHPUnit
@@ -105,6 +106,8 @@ private function doVerify(): bool
                 $message .= "\nTo allow 0 or more parameters with any value, omit ->with() or use ->withAnyParameters() instead.";
             }
 
+            $this->incrementAssertionCount();
+
             throw new ExpectationFailedException(
                 sprintf($message, $this->invocation->toString()),
             );
@@ -117,6 +120,8 @@ private function doVerify(): bool
                 $other = $this->invocation->parameters()[$i];
             }
 
+            $this->incrementAssertionCount();
+
             $parameter->evaluate(
                 $other,
                 sprintf(
@@ -141,4 +146,9 @@ private function guardAgainstDuplicateEvaluationOfParameterConstraints(): bool
 
         return (bool) $this->parameterVerificationResult;
     }
+
+    private function incrementAssertionCount(): void
+    {
+        Test::currentTestCase()->addToAssertionCount(1);
+    }
 }
diff --git a/src/Framework/TestRunner/TestRunner.php b/src/Framework/TestRunner/TestRunner.php
index b2150deb5..15e550337 100644
--- a/src/Framework/TestRunner/TestRunner.php
+++ b/src/Framework/TestRunner/TestRunner.php
@@ -182,21 +182,6 @@ public function run(TestCase $test): void
 
         ErrorHandler::instance()->disable();
 
-        /**
-         * Workaround for tests that fail due to mock object expectations
-         * that are verified while the test is running and not after the
-         * test has finished running.
-         *
-         * @see https://github.com/sebastianbergmann/phpunit/issues/6138
-         */
-        if ($failure &&
-            !$error &&
-            !$incomplete &&
-            !$skipped &&
-            $test->numberOfAssertionsPerformed() === 0) {
-            $test->addToAssertionCount(1);
-        }
-
         if (!$error &&
             !$incomplete &&
             !$skipped &&
diff --git a/tests/end-to-end/regression/5891.phpt b/tests/end-to-end/regression/5891.phpt
index 934ea0944..f10afad82 100644
--- a/tests/end-to-end/regression/5891.phpt
+++ b/tests/end-to-end/regression/5891.phpt
@@ -17,4 +17,4 @@ Runtime: %s
 
 Time: %s, Memory: %s MB
 
-OK (2 tests, 2 assertions)
+OK (2 tests, 4 assertions)
