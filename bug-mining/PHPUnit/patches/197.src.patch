diff --git a/ChangeLog.md b/ChangeLog.md
index e68f5f10c..bc434d209 100644
--- a/ChangeLog.md
+++ b/ChangeLog.md
@@ -3,6 +3,8 @@ PHPUnit 3.7
 
 This is the list of changes for the PHPUnit 3.7 release series.
 
+* Fixed #709: `assertJsonStringEqualsJsonFile` didn't work with json arrays.
+
 PHPUnit 3.7.9
 -------------
 
diff --git a/PHPUnit/Framework/Constraint/JsonMatches.php b/PHPUnit/Framework/Constraint/JsonMatches.php
index 01bb70b8e..de3ed61c1 100644
--- a/PHPUnit/Framework/Constraint/JsonMatches.php
+++ b/PHPUnit/Framework/Constraint/JsonMatches.php
@@ -83,13 +83,13 @@ public function __construct($value)
     protected function matches($other)
     {
         $decodedOther = json_decode($other);
-        if (!is_object($decodedOther)) {
+        if (json_last_error()) {
             $this->failure_reason = $this->getJsonError();
             return FALSE;
         }
 
         $decodedValue = json_decode($this->value);
-        if (!is_object($decodedValue)) {
+        if (json_last_error()) {
             $this->failure_reason = $this->getJsonError();
             return FALSE;
         }
@@ -123,4 +123,4 @@ public function toString()
             $this->value
         );
     }
-}
\ No newline at end of file
+}
