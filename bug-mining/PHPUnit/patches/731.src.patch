diff --git a/ChangeLog-10.0.md b/ChangeLog-10.0.md
index bdd3bfc32..c380843d7 100644
--- a/ChangeLog-10.0.md
+++ b/ChangeLog-10.0.md
@@ -8,6 +8,10 @@ All notable changes of the PHPUnit 10.0 release series are documented in this fi
 
 * Values of other types than `array` may now be passed to `assertIsList()`
 
+### Fixed
+
+* [#5234](https://github.com/sebastianbergmann/phpunit/issues/5234): Constants defined in configuration file are not defined in bootstrap file when test is run in separate process
+
 ## [10.0.11] - 2023-02-20
 
 ### Fixed
diff --git a/src/Util/PHP/Template/TestCaseClass.tpl b/src/Util/PHP/Template/TestCaseClass.tpl
index 32182fd5c..f64e0b491 100644
--- a/src/Util/PHP/Template/TestCaseClass.tpl
+++ b/src/Util/PHP/Template/TestCaseClass.tpl
@@ -101,11 +101,11 @@ set_error_handler('__phpunit_error_handler');
 
 restore_error_handler();
 
+ConfigurationRegistry::loadFrom('{serializedConfiguration}');
+(new PhpHandler)->handle(ConfigurationRegistry::get()->php());
+
 if ('{bootstrap}' !== '') {
     require_once '{bootstrap}';
 }
 
-ConfigurationRegistry::loadFrom('{serializedConfiguration}');
-(new PhpHandler)->handle(ConfigurationRegistry::get()->php());
-
 __phpunit_run_isolated_test();
diff --git a/src/Util/PHP/Template/TestCaseMethod.tpl b/src/Util/PHP/Template/TestCaseMethod.tpl
index c105149ee..25f21414a 100644
--- a/src/Util/PHP/Template/TestCaseMethod.tpl
+++ b/src/Util/PHP/Template/TestCaseMethod.tpl
@@ -102,11 +102,11 @@ set_error_handler('__phpunit_error_handler');
 
 restore_error_handler();
 
+ConfigurationRegistry::loadFrom('{serializedConfiguration}');
+(new PhpHandler)->handle(ConfigurationRegistry::get()->php());
+
 if ('{bootstrap}' !== '') {
     require_once '{bootstrap}';
 }
 
-ConfigurationRegistry::loadFrom('{serializedConfiguration}');
-(new PhpHandler)->handle(ConfigurationRegistry::get()->php());
-
 __phpunit_run_isolated_test();
diff --git a/tests/end-to-end/regression/5234.phpt b/tests/end-to-end/regression/5234.phpt
new file mode 100644
index 000000000..39c044551
--- /dev/null
+++ b/tests/end-to-end/regression/5234.phpt
@@ -0,0 +1,22 @@
+--TEST--
+https://github.com/sebastianbergmann/phpunit/issues/5234
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = __DIR__ . '/5234/phpunit.xml';
+
+require_once __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann and contributors.
+
+Runtime: %s
+Configuration: %s
+
+.                                                                   1 / 1 (100%)
+
+Time: %s, Memory: %s MB
+
+OK (1 test, 1 assertion)
diff --git a/tests/end-to-end/regression/5234/phpunit.xml b/tests/end-to-end/regression/5234/phpunit.xml
new file mode 100644
index 000000000..c84aeb637
--- /dev/null
+++ b/tests/end-to-end/regression/5234/phpunit.xml
@@ -0,0 +1,14 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:noNamespaceSchemaLocation="../../../../phpunit.xsd"
+         bootstrap="tests/bootstrap.php">
+    <testsuites>
+        <testsuite name="default">
+            <directory>tests</directory>
+        </testsuite>
+    </testsuites>
+
+    <php>
+        <const name="CONST_TEST" value="1"/>
+    </php>
+</phpunit>
diff --git a/tests/end-to-end/regression/5234/tests/Issue5234Test.php b/tests/end-to-end/regression/5234/tests/Issue5234Test.php
new file mode 100644
index 000000000..aede30340
--- /dev/null
+++ b/tests/end-to-end/regression/5234/tests/Issue5234Test.php
@@ -0,0 +1,22 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\Issue5234;
+
+use PHPUnit\Framework\Attributes\RunInSeparateProcess;
+use PHPUnit\Framework\TestCase;
+
+final class Issue5234Test extends TestCase
+{
+    #[RunInSeparateProcess]
+    public function testOne(): void
+    {
+        $this->assertTrue(true);
+    }
+}
diff --git a/tests/end-to-end/regression/5234/tests/bootstrap.php b/tests/end-to-end/regression/5234/tests/bootstrap.php
new file mode 100644
index 000000000..4c7df7fb5
--- /dev/null
+++ b/tests/end-to-end/regression/5234/tests/bootstrap.php
@@ -0,0 +1,12 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+if (!\defined('CONST_TEST')) {
+    exit;
+}
