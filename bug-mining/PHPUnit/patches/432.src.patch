diff --git a/src/Util/Json.php b/src/Util/Json.php
index 6ddd9cf05..ade5313df 100644
--- a/src/Util/Json.php
+++ b/src/Util/Json.php
@@ -45,7 +45,7 @@ public static function prettify(string $json): string
      */
     public static function canonicalize(string $json): array
     {
-        $decodedJson = \json_decode($json, true);
+        $decodedJson = \json_decode($json);
 
         if (\json_last_error()) {
             return [true, null];
@@ -66,7 +66,17 @@ public static function canonicalize(string $json): array
     private static function recursiveSort(&$json): void
     {
         if (\is_array($json) === false) {
-            return;
+            // If the object is not empty, change it to an associative array
+            // so we can sort the keys (and we will still re-encode it
+            // correctly, since PHP encodes associative arrays as JSON objects.)
+            // But EMPTY objects MUST remain empty objects. (Otherwise we will
+            // re-encode it as a JSON array rather than a JSON object.)
+            // See #2919.
+            if (\is_object($json) && count((array) $json) > 0) {
+                $json = (array) $json;
+            } else {
+                return;
+            }
         }
 
         \ksort($json);
diff --git a/tests/Framework/Constraint/JsonMatchesTest.php b/tests/Framework/Constraint/JsonMatchesTest.php
index d74728325..bf36ccf71 100644
--- a/tests/Framework/Constraint/JsonMatchesTest.php
+++ b/tests/Framework/Constraint/JsonMatchesTest.php
@@ -86,6 +86,7 @@ public static function evaluateDataprovider()
             'single boolean valid json'               => [true, 'true', 'true'],
             'single number valid json'                => [true, '5.3', '5.3'],
             'single null valid json'                  => [true, 'null', 'null'],
+            'objects are not arrays'                  => [false, '{}', '[]']
         ];
     }
 
