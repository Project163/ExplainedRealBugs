diff --git a/PHPUnit/TextUI/Command.php b/PHPUnit/TextUI/Command.php
index 326037494..63ae531df 100644
--- a/PHPUnit/TextUI/Command.php
+++ b/PHPUnit/TextUI/Command.php
@@ -86,10 +86,15 @@ public static function main($exit = TRUE)
 
         if ($suite->testAt(0) instanceof PHPUnit_Framework_Warning &&
             strpos($suite->testAt(0)->getMessage(), 'No tests found in class') !== FALSE) {
+            $message   = $suite->testAt(0)->getMessage();
+            $start     = strpos($message, '"') + 1;
+            $end       = strpos($message, '"', $start);
+            $className = substr($message, $start, $end - $start);
+
             require_once 'PHPUnit/Util/Skeleton/Test.php';
 
             $skeleton = new PHPUnit_Util_Skeleton_Test(
-                $arguments['test'],
+                $className,
                 $arguments['testFile']
             );
 
