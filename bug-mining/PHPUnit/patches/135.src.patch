diff --git a/PHPUnit/Extensions/Database/DataSet/DefaultTable.php b/PHPUnit/Extensions/Database/DataSet/DefaultTable.php
index 258acb8db..411529a8e 100644
--- a/PHPUnit/Extensions/Database/DataSet/DefaultTable.php
+++ b/PHPUnit/Extensions/Database/DataSet/DefaultTable.php
@@ -85,7 +85,21 @@ public function __construct(PHPUnit_Extensions_Database_DataSet_ITableMetaData $
     public function addRow($values = array())
     {
         $columnNames = $this->getTableMetaData()->getColumns();
-        $this->data[] = array_merge(array_fill_keys($columnNames, NULL), $values);
+
+         if (function_exists('array_fill_keys')) {	
+             $this->data[] = array_merge(
+               array_fill_keys($columnNames, NULL),
+               $values
+             );
+         } else {
+             $this->data[] = array_merge(
+               array_combine(
+                 $columnNames,
+                 array_fill(0, count($columnNames), NULL)
+               ),
+               $values
+             );
+         }
     }
 
     /**
