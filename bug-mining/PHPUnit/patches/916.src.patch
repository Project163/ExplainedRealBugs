diff --git a/ChangeLog-10.5.md b/ChangeLog-10.5.md
index 0c11ed7a3..ef5dda11c 100644
--- a/ChangeLog-10.5.md
+++ b/ChangeLog-10.5.md
@@ -8,6 +8,7 @@ All notable changes of the PHPUnit 10.5 release series are documented in this fi
 
 * [#6103](https://github.com/sebastianbergmann/phpunit/issues/6103): Output from test run in separate process is printed twice
 * [#6109](https://github.com/sebastianbergmann/phpunit/issues/6109): Skipping a test in a before-class method crashes JUnit XML logger
+* [#6111](https://github.com/sebastianbergmann/phpunit/issues/6111): Deprecations cause `SourceMapper` to scan all `<source/>` files
 
 ## [10.5.41] - 2025-01-13
 
diff --git a/src/Logging/TestDox/TestResult/TestResultCollector.php b/src/Logging/TestDox/TestResult/TestResultCollector.php
index df1de66b4..e49c86b39 100644
--- a/src/Logging/TestDox/TestResult/TestResultCollector.php
+++ b/src/Logging/TestDox/TestResult/TestResultCollector.php
@@ -232,7 +232,7 @@ public function testTriggeredDeprecation(DeprecationTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictDeprecations() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictDeprecations() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -253,7 +253,7 @@ public function testTriggeredNotice(NoticeTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictNotices() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictNotices() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -274,7 +274,7 @@ public function testTriggeredWarning(WarningTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictWarnings() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictWarnings() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -299,7 +299,7 @@ public function testTriggeredPhpDeprecation(PhpDeprecationTriggered $event): voi
             return;
         }
 
-        if ($this->source->restrictDeprecations() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictDeprecations() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -320,7 +320,7 @@ public function testTriggeredPhpNotice(PhpNoticeTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictNotices() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictNotices() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -341,7 +341,7 @@ public function testTriggeredPhpWarning(PhpWarningTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictWarnings() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictWarnings() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
diff --git a/src/Runner/Baseline/Generator.php b/src/Runner/Baseline/Generator.php
index 97c89f0a1..8cba0e083 100644
--- a/src/Runner/Baseline/Generator.php
+++ b/src/Runner/Baseline/Generator.php
@@ -66,7 +66,7 @@ public function testTriggeredIssue(DeprecationTriggered|NoticeTriggered|PhpDepre
             return;
         }
 
-        if ($this->restrict($event) && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->restrict($event) && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
diff --git a/src/Runner/TestResult/Collector.php b/src/Runner/TestResult/Collector.php
index c1c83aa44..d50536c9f 100644
--- a/src/Runner/TestResult/Collector.php
+++ b/src/Runner/TestResult/Collector.php
@@ -367,7 +367,7 @@ public function testTriggeredDeprecation(DeprecationTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictDeprecations() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictDeprecations() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -403,7 +403,7 @@ public function testTriggeredPhpDeprecation(PhpDeprecationTriggered $event): voi
             return;
         }
 
-        if ($this->source->restrictDeprecations() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictDeprecations() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -466,7 +466,7 @@ public function testTriggeredNotice(NoticeTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictNotices() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictNotices() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -498,7 +498,7 @@ public function testTriggeredPhpNotice(PhpNoticeTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictNotices() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictNotices() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -530,7 +530,7 @@ public function testTriggeredWarning(WarningTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictWarnings() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictWarnings() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -562,7 +562,7 @@ public function testTriggeredPhpWarning(PhpWarningTriggered $event): void
             return;
         }
 
-        if ($this->source->restrictWarnings() && !(new SourceFilter)->includes($this->source, $event->file())) {
+        if ($this->source->restrictWarnings() && !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
diff --git a/src/TextUI/Configuration/SourceFilter.php b/src/TextUI/Configuration/SourceFilter.php
index a6b1262b3..0b64e1888 100644
--- a/src/TextUI/Configuration/SourceFilter.php
+++ b/src/TextUI/Configuration/SourceFilter.php
@@ -16,10 +16,36 @@
  */
 final class SourceFilter
 {
-    public function includes(Source $source, string $path): bool
+    private static ?self $instance = null;
+
+    /**
+     * @psalm-var array<non-empty-string, true>
+     */
+    private readonly array $map;
+
+    public static function instance(): self
+    {
+        if (self::$instance === null) {
+            self::$instance = new self(
+                (new SourceMapper)->map(
+                    Registry::get()->source(),
+                ),
+            );
+        }
+
+        return self::$instance;
+    }
+
+    /**
+     * @psalm-param array<non-empty-string, true> $map
+     */
+    public function __construct(array $map)
     {
-        $files = (new SourceMapper)->map($source);
+        $this->map = $map;
+    }
 
-        return isset($files[$path]);
+    public function includes(string $path): bool
+    {
+        return isset($this->map[$path]);
     }
 }
diff --git a/src/TextUI/Output/Default/ProgressPrinter/ProgressPrinter.php b/src/TextUI/Output/Default/ProgressPrinter/ProgressPrinter.php
index ec8d3b6c3..0247f021a 100644
--- a/src/TextUI/Output/Default/ProgressPrinter/ProgressPrinter.php
+++ b/src/TextUI/Output/Default/ProgressPrinter/ProgressPrinter.php
@@ -106,7 +106,7 @@ public function testTriggeredNotice(NoticeTriggered $event): void
         }
 
         if ($this->source->restrictNotices() &&
-            !(new SourceFilter)->includes($this->source, $event->file())) {
+            !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -124,7 +124,7 @@ public function testTriggeredPhpNotice(PhpNoticeTriggered $event): void
         }
 
         if ($this->source->restrictNotices() &&
-            !(new SourceFilter)->includes($this->source, $event->file())) {
+            !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -142,7 +142,7 @@ public function testTriggeredDeprecation(DeprecationTriggered $event): void
         }
 
         if ($this->source->restrictDeprecations() &&
-            !(new SourceFilter)->includes($this->source, $event->file())) {
+            !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -160,7 +160,7 @@ public function testTriggeredPhpDeprecation(PhpDeprecationTriggered $event): voi
         }
 
         if ($this->source->restrictDeprecations() &&
-            !(new SourceFilter)->includes($this->source, $event->file())) {
+            !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -188,7 +188,7 @@ public function testTriggeredWarning(WarningTriggered $event): void
         }
 
         if ($this->source->restrictWarnings() &&
-            !(new SourceFilter)->includes($this->source, $event->file())) {
+            !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
@@ -206,7 +206,7 @@ public function testTriggeredPhpWarning(PhpWarningTriggered $event): void
         }
 
         if ($this->source->restrictWarnings() &&
-            !(new SourceFilter)->includes($this->source, $event->file())) {
+            !SourceFilter::instance()->includes($event->file())) {
             return;
         }
 
diff --git a/tests/unit/TextUI/SourceFilterTest.php b/tests/unit/TextUI/SourceFilterTest.php
index fdb8b4fec..0d14e9f92 100644
--- a/tests/unit/TextUI/SourceFilterTest.php
+++ b/tests/unit/TextUI/SourceFilterTest.php
@@ -223,6 +223,6 @@ public static function provider(): array
     #[DataProvider('provider')]
     public function testDeterminesWhetherFileIsIncluded(bool $expected, string $file, Source $source): void
     {
-        $this->assertSame($expected, (new SourceFilter)->includes($source, $file));
+        $this->assertSame($expected, (new SourceFilter((new SourceMapper)->map($source)))->includes($file));
     }
 }
