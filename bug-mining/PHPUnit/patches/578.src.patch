diff --git a/ChangeLog-9.3.md b/ChangeLog-9.3.md
index c07e044b1..87b787159 100644
--- a/ChangeLog-9.3.md
+++ b/ChangeLog-9.3.md
@@ -10,6 +10,7 @@ All notable changes of the PHPUnit 9.3 release series are documented in this fil
 
 ### Changed
 
+* [#4226](https://github.com/sebastianbergmann/phpunit/issues/4226): Deprecate `--dump-xdebug-filter` and `--prepend`
 * [#4264](https://github.com/sebastianbergmann/phpunit/pull/4264): Refactor logical operator constraints
 * `PHPUnit\Framework\TestCase::$backupGlobalsBlacklist` is now deprecated, please use `PHPUnit\Framework\TestCase::$backupGlobalsExcludeList` instead
 * `PHPUnit\Framework\TestCase::$backupStaticAttributesBlacklist` is now deprecated, please use `PHPUnit\Framework\TestCase::$backupStaticAttributesExcludeList` instead
diff --git a/src/TextUI/Help.php b/src/TextUI/Help.php
index 98d487d96..f02df3bc9 100644
--- a/src/TextUI/Help.php
+++ b/src/TextUI/Help.php
@@ -34,7 +34,6 @@ final class Help
             ['arg' => '--coverage-filter <dir>', 'desc' => 'Include <dir> in code coverage analysis'],
             ['arg' => '--disable-coverage-ignore', 'desc' => 'Disable annotations for ignoring code coverage'],
             ['arg' => '--no-coverage', 'desc' => 'Ignore code coverage configuration'],
-            ['arg' => '--dump-xdebug-filter <file>', 'desc' => 'Generate script to set Xdebug code coverage filter'],
         ],
 
         'Logging Options' => [
diff --git a/src/TextUI/TestRunner.php b/src/TextUI/TestRunner.php
index 0d77d44d1..d3ace2eab 100644
--- a/src/TextUI/TestRunner.php
+++ b/src/TextUI/TestRunner.php
@@ -596,7 +596,7 @@ public function run(TestSuite $suite, array $arguments = [], array $warnings = [
         }
 
         if (isset($arguments['xdebugFilterFile'], $codeCoverageConfiguration)) {
-            $this->write("\n");
+            $this->write(\PHP_EOL . 'Please note that --dump-xdebug-filter and --prepend are deprecated and will be removed in PHPUnit 10.' . \PHP_EOL);
 
             $script = (new XdebugFilterScriptGenerator)->generate($codeCoverageConfiguration);
 
@@ -608,7 +608,7 @@ public function run(TestSuite $suite, array $arguments = [], array $warnings = [
 
             \file_put_contents($arguments['xdebugFilterFile'], $script);
 
-            $this->write(\sprintf('Wrote Xdebug filter script to %s ' . \PHP_EOL, $arguments['xdebugFilterFile']));
+            $this->write(\sprintf('Wrote Xdebug filter script to %s ' . \PHP_EOL . \PHP_EOL, $arguments['xdebugFilterFile']));
 
             exit(self::SUCCESS_EXIT);
         }
diff --git a/src/Util/XdebugFilterScriptGenerator.php b/src/Util/XdebugFilterScriptGenerator.php
index a046a00bc..2a42bd30a 100644
--- a/src/Util/XdebugFilterScriptGenerator.php
+++ b/src/Util/XdebugFilterScriptGenerator.php
@@ -13,6 +13,8 @@
 
 /**
  * @internal This class is not covered by the backward compatibility promise for PHPUnit
+ *
+ * @deprecated
  */
 final class XdebugFilterScriptGenerator
 {
diff --git a/tests/end-to-end/cli/_files/output-cli-help-color.txt b/tests/end-to-end/cli/_files/output-cli-help-color.txt
index 28c2fbd18..ed48ecd2f 100644
--- a/tests/end-to-end/cli/_files/output-cli-help-color.txt
+++ b/tests/end-to-end/cli/_files/output-cli-help-color.txt
@@ -18,8 +18,6 @@
   [32m--disable-coverage-ignore  [0m Disable annotations for ignoring code
                               coverage
   [32m--no-coverage              [0m Ignore code coverage configuration
-  [32m--dump-xdebug-filter [36m<file>[0m[0m Generate script to set Xdebug code
-                              coverage filter
 
 [33mLogging Options:[0m
   [32m--log-junit [36m<file>[0m         [0m Log test execution in JUnit XML format to
diff --git a/tests/end-to-end/cli/_files/output-cli-usage.txt b/tests/end-to-end/cli/_files/output-cli-usage.txt
index ad015c877..4709c4320 100644
--- a/tests/end-to-end/cli/_files/output-cli-usage.txt
+++ b/tests/end-to-end/cli/_files/output-cli-usage.txt
@@ -15,7 +15,6 @@ Code Coverage Options:
   --coverage-filter <dir>     Include <dir> in code coverage analysis
   --disable-coverage-ignore   Disable annotations for ignoring code coverage
   --no-coverage               Ignore code coverage configuration
-  --dump-xdebug-filter <file> Generate script to set Xdebug code coverage filter
 
 Logging Options:
 
diff --git a/tests/end-to-end/dump-xdebug-filter.phpt b/tests/end-to-end/dump-xdebug-filter.phpt
index 389405bef..d81e9620f 100644
--- a/tests/end-to-end/dump-xdebug-filter.phpt
+++ b/tests/end-to-end/dump-xdebug-filter.phpt
@@ -17,6 +17,7 @@ PHPUnit\TextUI\Command::main();
 --EXPECTF--
 PHPUnit %s by Sebastian Bergmann and contributors.
 
+Please note that --dump-xdebug-filter and --prepend are deprecated and will be removed in PHPUnit 10.
 <?php declare(strict_types=1);
 if (!\function_exists('xdebug_set_filter')) {
     return;
