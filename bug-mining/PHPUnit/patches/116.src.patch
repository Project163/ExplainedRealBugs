diff --git a/PHPUnit/Framework/Assert.php b/PHPUnit/Framework/Assert.php
index 95411abfa..a1440985c 100644
--- a/PHPUnit/Framework/Assert.php
+++ b/PHPUnit/Framework/Assert.php
@@ -1582,7 +1582,7 @@ public static function assertSelectEquals($selector, $content, $count, $actual,
     public static function assertTag($matcher, $actual, $message = '', $isHtml = TRUE)
     {
         $dom     = PHPUnit_Util_XML::load($actual, $isHtml);
-        $tags    = PHPUnit_Util_XML::findNodes($dom, $matcher);
+        $tags    = PHPUnit_Util_XML::findNodes($dom, $matcher, $isHtml);
         $matched = count($tags) > 0 && $tags[0] instanceof DOMNode;
 
         self::assertTrue($matched, $message);
@@ -1603,7 +1603,7 @@ public static function assertTag($matcher, $actual, $message = '', $isHtml = TRU
     public static function assertNotTag($matcher, $actual, $message = '', $isHtml = TRUE)
     {
         $dom     = PHPUnit_Util_XML::load($actual, $isHtml);
-        $tags    = PHPUnit_Util_XML::findNodes($dom, $matcher);
+        $tags    = PHPUnit_Util_XML::findNodes($dom, $matcher, $isHtml);
         $matched = count($tags) > 0 && $tags[0] instanceof DOMNode;
 
         self::assertFalse($matched, $message);
diff --git a/PHPUnit/Util/XML.php b/PHPUnit/Util/XML.php
index 3f0b7827b..0af6f1da1 100644
--- a/PHPUnit/Util/XML.php
+++ b/PHPUnit/Util/XML.php
@@ -494,12 +494,13 @@ public static function cssSelect($selector, $content, $actual, $isHtml = TRUE)
      *
      * @param  DOMDocument $dom
      * @param  array       $options
+     * @param  boolean     $isHtml
      * @return array
      * @since  Method available since Release 3.3.0
      * @author Mike Naberezny <mike@maintainable.com>
      * @author Derek DeVries <derek@maintainable.com>
      */
-    public static function findNodes(DOMDocument $dom, array $options)
+    public static function findNodes(DOMDocument $dom, array $options, $isHtml = TRUE)
     {
         $valid = array(
           'id', 'class', 'tag', 'content', 'attributes', 'parent',
@@ -520,7 +521,11 @@ public static function findNodes(DOMDocument $dom, array $options)
 
         // find the element by a tag type
         if ($options['tag']) {
-            $elements = $dom->getElementsByTagName($options['tag']);
+            if ($isHtml) {
+                $elements = self::getElementsByCaseInsensitiveTagName($dom, $options['tag']);
+            } else {
+                $elements = $dom->getElementsByTagName($options['tag']);
+            }
 
             foreach ($elements as $element) {
                 $nodes[] = $element;
@@ -547,7 +552,11 @@ public static function findNodes(DOMDocument $dom, array $options)
             );
 
             foreach ($tags as $tag) {
-                $elements = $dom->getElementsByTagName($tag);
+                if ($isHtml) {
+                    $elements = self::getElementsByCaseInsensitiveTagName($dom, $tag);
+                } else {
+                    $elements = $dom->getElementsByTagName($tag);
+                }
 
                 foreach ($elements as $element) {
                     $nodes[] = $element;
@@ -840,6 +849,25 @@ protected static function getDescendants(DOMNode $node)
         return isset($allChildren) ? $allChildren : array();
     }
 
+    /**
+     * Gets elements by case insensitive tagname.
+     *
+     * @param  DOMDocument $dom
+     * @param  string      $tag
+     * @return DOMNodeList
+     * @since  Method available since Release 3.4.0
+     */
+    protected static function getElementsByCaseInsensitiveTagName(DOMDocument $dom, $tag)
+    {
+        $elements = $dom->getElementsByTagName(strtolower($tag));
+
+        if ($elements->length == 0) {
+            $elements = $dom->getElementsByTagName(strtoupper($tag));
+        }
+
+        return $elements;
+    }
+
     /**
      * Get the text value of this node's child text node.
      *
