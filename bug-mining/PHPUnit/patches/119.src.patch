diff --git a/PHPUnit/Framework/Constraint/IsEqual.php b/PHPUnit/Framework/Constraint/IsEqual.php
index 934d9e88f..d8f96b930 100644
--- a/PHPUnit/Framework/Constraint/IsEqual.php
+++ b/PHPUnit/Framework/Constraint/IsEqual.php
@@ -291,8 +291,17 @@ protected function recursiveComparison($a, $b, $depth = 0)
         }
 
         if (is_object($a)) {
-            $a = (array)$a;
-            $b = (array)$b;
+            $isMock = $a instanceof PHPUnit_Framework_MockObject_MockObject;
+            $a      = (array)$a;
+            $b      = (array)$b;
+
+            if ($isMock) {
+                unset($a["\0*\0invocationMocker"]);
+
+                if (isset($b["\0*\0invocationMocker"])) {
+                    unset($b["\0*\0invocationMocker"]);
+                }
+            }
         }
 
         foreach ($a as $key => $v) {
