diff --git a/PHPUnit/Framework/TestSuite.php b/PHPUnit/Framework/TestSuite.php
index 5b8a92a89..a87d7bffc 100644
--- a/PHPUnit/Framework/TestSuite.php
+++ b/PHPUnit/Framework/TestSuite.php
@@ -539,30 +539,30 @@ public static function createTest(ReflectionClass $theClass, $name, array $class
                       $className . '::' . $name
                     );
 
-                    if ($runTestInSeparateProcess) {
-                        $test->setRunTestsInSeparateProcesses(TRUE);
+                    foreach ($data as $_dataName => $_data) {
+                        $_test = new $className($name, $_data, $_dataName);
+
+                        if ($runTestInSeparateProcess) {
+                            $_test->setRunTestInSeparateProcess(TRUE);
 
-                        if ($preserveGlobalState !== NULL) {
-                            $test->setPreserveGlobalState($preserveGlobalState);
+                            if ($preserveGlobalState !== NULL) {
+                                $_test->setPreserveGlobalState($preserveGlobalState);
+                            }
                         }
-                    }
 
-                    if ($backupSettings['backupGlobals'] !== NULL) {
-                        $test->setBackupGlobals(
-                          $backupSettings['backupGlobals']
-                        );
-                    }
+                        if ($backupSettings['backupGlobals'] !== NULL) {
+                            $_test->setBackupGlobals(
+                              $backupSettings['backupGlobals']
+                            );
+                        }
 
-                    if ($backupSettings['backupStaticAttributes'] !== NULL) {
-                        $test->setBackupStaticAttributes(
-                          $backupSettings['backupStaticAttributes']
-                        );
-                    }
+                        if ($backupSettings['backupStaticAttributes'] !== NULL) {
+                            $_test->setBackupStaticAttributes(
+                              $backupSettings['backupStaticAttributes']
+                            );
+                        }
 
-                    foreach ($data as $_dataName => $_data) {
-                        $test->addTest(
-                          new $className($name, $_data, $_dataName), $groups
-                        );
+                        $test->addTest($_test, $groups);
                     }
                 } else {
                     $test = new $className;
@@ -924,21 +924,6 @@ public function setBackupStaticAttributes($backupStaticAttributes)
         }
     }
 
-    /**
-     * @param  boolean $runTestsInSeparateProcesses
-     * @throws InvalidArgumentException
-     * @since  Method available since Release 3.4.0
-     */
-    public function setRunTestsInSeparateProcesses($runTestsInSeparateProcesses)
-    {
-        if (is_null($this->runTestsInSeparateProcesses) &&
-            is_bool($runTestsInSeparateProcesses)) {
-            $this->runTestsInSeparateProcesses = $runTestsInSeparateProcesses;
-        } else {
-            throw PHPUnit_Util_InvalidArgumentHelper::factory(1, 'boolean');
-        }
-    }
-
     /**
      * Sets the shared fixture for the tests of this test suite.
      *
