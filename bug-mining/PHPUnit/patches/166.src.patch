diff --git a/ChangeLog.markdown b/ChangeLog.markdown
index 58d6335d7..3e1ac5b9f 100644
--- a/ChangeLog.markdown
+++ b/ChangeLog.markdown
@@ -9,6 +9,7 @@ PHPUnit 3.6.5
 * Fixed #204: Bootstrap script should be loaded before trying to load `testSuiteLoaderClass`.
 * Fixed #413: PHPT test failures display double diffs.
 * Fixed #430: OutputTestCase didn't work with @depends. Please note that this way of output testing is still deprecated.
+* Fixed #432: Process isolation didn't work when invoked through ant or phing due to php binary detection issues.
 
 PHPUnit 3.6.4
 -------------
diff --git a/PHPUnit/Util/PHP.php b/PHPUnit/Util/PHP.php
index 13914f7ad..8b57a420b 100644
--- a/PHPUnit/Util/PHP.php
+++ b/PHPUnit/Util/PHP.php
@@ -93,7 +93,9 @@ abstract class PHPUnit_Util_PHP
     protected function getPhpBinary()
     {
         if ($this->phpBinary === NULL) {
-            if (PHP_SAPI == 'cli' && isset($_SERVER['_'])) {
+            if (defined("PHP_BINARY")) {
+                $this->phpBinary = PHP_BINARY;
+            } else if (PHP_SAPI == 'cli' && isset($_SERVER['_'])) {
                 if (strpos($_SERVER['_'], 'phpunit') !== FALSE) {
                     $file = file($_SERVER['_']);
 
@@ -103,11 +105,24 @@ protected function getPhpBinary()
                     } else {
                         $this->phpBinary = ltrim(trim($file[0]), '#!');
                     }
-                } else {
+                } else if(strpos(basename($_SERVER['_']), 'php') !== false)  {
                     $this->phpBinary = $_SERVER['_'];
                 }
-            } else if (is_readable('@php_bin@')) {
-                $this->phpBinary = '@php_bin@';
+            }
+
+            if($this->phpBinary === NULL) {
+                $possibleBinaryLocations = array(
+                    PHP_BINDIR . '/php',
+                    PHP_BINDIR . '/php-cli.exe',
+                    PHP_BINDIR . '/php.exe',
+                    '@php_bin@',
+                );
+                foreach($possibleBinaryLocations as $binary) {
+                    if (is_readable($binary)) {
+                        $this->phpBinary = $binary;
+                        break;
+                    }
+                }
             }
 
             if (!is_readable($this->phpBinary)) {
