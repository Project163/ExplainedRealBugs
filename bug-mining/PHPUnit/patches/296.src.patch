diff --git a/ChangeLog-4.7.md b/ChangeLog-4.7.md
index a2ab0ceb9..be469bbbb 100644
--- a/ChangeLog-4.7.md
+++ b/ChangeLog-4.7.md
@@ -2,6 +2,7 @@
 
 ## PHPUnit 4.7.3
 
+* Fixed [#1317](https://github.com/sebastianbergmann/phpunit/issues/1317): JUnit XML logfiles does not contain warnings
 * Fixed an [issue](https://github.com/sebastianbergmann/php-code-coverage/issues/347) where the warning that no whitelist is used is displayed when it should not
 
 ## PHPUnit 4.7.2
diff --git a/src/Util/Log/JUnit.php b/src/Util/Log/JUnit.php
index 5ff980fe7..ca9d0c29e 100644
--- a/src/Util/Log/JUnit.php
+++ b/src/Util/Log/JUnit.php
@@ -160,28 +160,26 @@ public function addError(PHPUnit_Framework_Test $test, Exception $e, $time)
     public function addFailure(PHPUnit_Framework_Test $test, PHPUnit_Framework_AssertionFailedError $e, $time)
     {
         if ($this->currentTestCase !== null) {
-            if (!$test instanceof PHPUnit_Framework_Warning) {
-                if ($test instanceof PHPUnit_Framework_SelfDescribing) {
-                    $buffer = $test->toString() . "\n";
-                } else {
-                    $buffer = '';
-                }
-
-                $buffer .= PHPUnit_Framework_TestFailure::exceptionToString($e) .
-                           "\n" .
-                           PHPUnit_Util_Filter::getFilteredStacktrace($e);
-
-                $failure = $this->document->createElement(
-                    'failure',
-                    PHPUnit_Util_XML::prepareString($buffer)
-                );
+            if ($test instanceof PHPUnit_Framework_SelfDescribing) {
+                $buffer = $test->toString() . "\n";
+            } else {
+                $buffer = '';
+            }
 
-                $failure->setAttribute('type', get_class($e));
+            $buffer .= PHPUnit_Framework_TestFailure::exceptionToString($e) .
+                       "\n" .
+                       PHPUnit_Util_Filter::getFilteredStacktrace($e);
 
-                $this->currentTestCase->appendChild($failure);
+            $failure = $this->document->createElement(
+                'failure',
+                PHPUnit_Util_XML::prepareString($buffer)
+            );
 
-                $this->testSuiteFailures[$this->testSuiteLevel]++;
-            }
+            $failure->setAttribute('type', get_class($e));
+
+            $this->currentTestCase->appendChild($failure);
+
+            $this->testSuiteFailures[$this->testSuiteLevel]++;
         }
     }
 
@@ -357,25 +355,23 @@ public function endTestSuite(PHPUnit_Framework_TestSuite $suite)
      */
     public function startTest(PHPUnit_Framework_Test $test)
     {
-        if (!$test instanceof PHPUnit_Framework_Warning) {
-            $testCase = $this->document->createElement('testcase');
-            $testCase->setAttribute('name', $test->getName());
+        $testCase = $this->document->createElement('testcase');
+        $testCase->setAttribute('name', $test->getName());
 
-            if ($test instanceof PHPUnit_Framework_TestCase) {
-                $class      = new ReflectionClass($test);
-                $methodName = $test->getName();
+        if ($test instanceof PHPUnit_Framework_TestCase) {
+            $class      = new ReflectionClass($test);
+            $methodName = $test->getName();
 
-                if ($class->hasMethod($methodName)) {
-                    $method = $class->getMethod($test->getName());
+            if ($class->hasMethod($methodName)) {
+                $method = $class->getMethod($test->getName());
 
-                    $testCase->setAttribute('class', $class->getName());
-                    $testCase->setAttribute('file', $class->getFileName());
-                    $testCase->setAttribute('line', $method->getStartLine());
-                }
+                $testCase->setAttribute('class', $class->getName());
+                $testCase->setAttribute('file', $class->getFileName());
+                $testCase->setAttribute('line', $method->getStartLine());
             }
-
-            $this->currentTestCase = $testCase;
         }
+
+        $this->currentTestCase = $testCase;
     }
 
     /**
@@ -386,37 +382,35 @@ public function startTest(PHPUnit_Framework_Test $test)
      */
     public function endTest(PHPUnit_Framework_Test $test, $time)
     {
-        if (!$test instanceof PHPUnit_Framework_Warning) {
-            if ($this->attachCurrentTestCase) {
-                if ($test instanceof PHPUnit_Framework_TestCase) {
-                    $numAssertions = $test->getNumAssertions();
-                    $this->testSuiteAssertions[$this->testSuiteLevel] += $numAssertions;
-
-                    $this->currentTestCase->setAttribute(
-                        'assertions',
-                        $numAssertions
-                    );
-                }
+        if ($this->attachCurrentTestCase) {
+            if ($test instanceof PHPUnit_Framework_TestCase) {
+                $numAssertions = $test->getNumAssertions();
+                $this->testSuiteAssertions[$this->testSuiteLevel] += $numAssertions;
 
                 $this->currentTestCase->setAttribute(
-                    'time',
-                    sprintf('%F', $time)
+                    'assertions',
+                    $numAssertions
                 );
+            }
 
-                $this->testSuites[$this->testSuiteLevel]->appendChild(
-                    $this->currentTestCase
-                );
+            $this->currentTestCase->setAttribute(
+                'time',
+                sprintf('%F', $time)
+            );
 
-                $this->testSuiteTests[$this->testSuiteLevel]++;
-                $this->testSuiteTimes[$this->testSuiteLevel] += $time;
+            $this->testSuites[$this->testSuiteLevel]->appendChild(
+                $this->currentTestCase
+            );
+
+            $this->testSuiteTests[$this->testSuiteLevel]++;
+            $this->testSuiteTimes[$this->testSuiteLevel] += $time;
 
-                if (method_exists($test, 'hasOutput') && $test->hasOutput()) {
-                    $systemOut = $this->document->createElement('system-out');
-                    $systemOut->appendChild(
-                        $this->document->createTextNode($test->getActualOutput())
-                    );
-                    $this->currentTestCase->appendChild($systemOut);
-                }
+            if (method_exists($test, 'hasOutput') && $test->hasOutput()) {
+                $systemOut = $this->document->createElement('system-out');
+                $systemOut->appendChild(
+                    $this->document->createTextNode($test->getActualOutput())
+                );
+                $this->currentTestCase->appendChild($systemOut);
             }
         }
 
