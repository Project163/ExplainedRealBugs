diff --git a/PHPUnit/Runner/Filter/Test.php b/PHPUnit/Runner/Filter/Test.php
index 289c8917d..ed42f5c09 100644
--- a/PHPUnit/Runner/Filter/Test.php
+++ b/PHPUnit/Runner/Filter/Test.php
@@ -59,6 +59,15 @@ class PHPUnit_Runner_Filter_Test extends RecursiveFilterIterator
      */
     protected $filter = NULL;
 
+    /**
+     * @var integer
+     */
+    protected $filterMin;
+    /**
+     * @var integer
+     */
+    protected $filterMax;
+
     /**
      * @param RecursiveIterator $iterator
      * @param string            $filter
@@ -66,6 +75,54 @@ class PHPUnit_Runner_Filter_Test extends RecursiveFilterIterator
     public function __construct(RecursiveIterator $iterator, $filter)
     {
         parent::__construct($iterator);
+        $this->setFilter($filter);
+    }
+
+    /**
+     * @param string $filter
+     */
+    protected function setFilter($filter)
+    {
+        if (preg_match('/^[a-zA-Z0-9_]/', $filter)) {
+            // Handles:
+            //  * testAssertEqualsSucceeds#4
+            //  * testAssertEqualsSucceeds#4-8
+            if (preg_match('/^(.+)#(\d+)(?:-(\d+))?$/', $filter, $matches)) {
+                if (isset($matches[3]) && $matches[2] < $matches[3]) {
+                    $filter = sprintf(
+                      '%s with data set #(\d+)$',
+                      $matches[1]
+                    );
+
+                    $this->filterMin = $matches[2];
+                    $this->filterMax = $matches[3];
+                } else {
+                    $filter = sprintf(
+                      '%s with data set #%s$',
+                      $matches[1],
+                      $matches[2]
+                    );
+                }
+            }
+
+            // Handles:
+            //  * testDetermineJsonError@JSON_ERROR_NONE
+            //  * testDetermineJsonError@JSON.*
+            elseif (preg_match('/^(.+?)@(.+)$/', $filter, $matches)) {
+                $filter = sprintf(
+                  '%s with data set "%s"$',
+                  $matches[1],
+                  $matches[2]
+                );
+            }
+
+            // Escape delimiters in regular expression. Do NOT use preg_quote,
+            // to keep magic characters.
+            $filter = sprintf('/%s/', str_replace(
+              '/', '\\/', $filter
+            ));
+        }
+
         $this->filter = $filter;
     }
 
@@ -88,6 +145,13 @@ public function accept()
             $name = $tmp[1];
         }
 
-        return preg_match($this->filter, $name);
+        $accepted = preg_match($this->filter, $name, $matches);
+
+        if ($accepted && isset($this->filterMax)) {
+            $set = end($matches);
+            $accepted = $set >= $this->filterMin && $set <= $this->filterMax;
+        }
+
+        return $accepted;
     }
 }
diff --git a/PHPUnit/TextUI/TestRunner.php b/PHPUnit/TextUI/TestRunner.php
index 1f428e1de..c21a7374d 100644
--- a/PHPUnit/TextUI/TestRunner.php
+++ b/PHPUnit/TextUI/TestRunner.php
@@ -912,15 +912,6 @@ protected function handleConfiguration(array &$arguments)
         $arguments['timeoutForLargeTests']               = isset($arguments['timeoutForLargeTests'])               ? $arguments['timeoutForLargeTests']               : 60;
         $arguments['strict']                             = isset($arguments['strict'])                             ? $arguments['strict']                             : FALSE;
         $arguments['verbose']                            = isset($arguments['verbose'])                            ? $arguments['verbose']                            : FALSE;
-
-        if ($arguments['filter'] !== FALSE &&
-            preg_match('/^[a-zA-Z0-9_]/', $arguments['filter'])) {
-            // Escape delimiters in regular expression. Do NOT use preg_quote,
-            // to keep magic characters.
-            $arguments['filter'] = '/' . str_replace(
-              '/', '\\/', $arguments['filter']
-            ) . '/';
-        }
     }
 
     /**
diff --git a/Tests/TextUI/filter-dataprovider-by-number-isolation.phpt b/Tests/TextUI/filter-dataprovider-by-number-isolation.phpt
new file mode 100644
index 000000000..588f40404
--- /dev/null
+++ b/Tests/TextUI/filter-dataprovider-by-number-isolation.phpt
@@ -0,0 +1,24 @@
+--TEST--
+phpunit --process-isolation --filter testTrue#3 DataProviderFilterTest ../_files/DataProviderFilterTest.php
+--FILE--
+<?php
+define('PHPUNIT_TESTSUITE', TRUE);
+
+$_SERVER['argv'][1] = '--no-configuration';
+$_SERVER['argv'][2] = '--process-isolation';
+$_SERVER['argv'][3] = '--filter';
+$_SERVER['argv'][4] = 'testTrue#3';
+$_SERVER['argv'][5] = 'DataProviderFilterTest';
+$_SERVER['argv'][6] = dirname(__FILE__).'/../_files/DataProviderFilterTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit_TextUI_Command::main();
+?>
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann.
+
+.
+
+Time: %s, Memory: %sMb
+
+OK (1 test, 1 assertion)
diff --git a/Tests/TextUI/filter-dataprovider-by-number.phpt b/Tests/TextUI/filter-dataprovider-by-number.phpt
new file mode 100644
index 000000000..98d6e01ba
--- /dev/null
+++ b/Tests/TextUI/filter-dataprovider-by-number.phpt
@@ -0,0 +1,23 @@
+--TEST--
+phpunit --filter testTrue#3 DataProviderFilterTest ../_files/DataProviderFilterTest.php
+--FILE--
+<?php
+define('PHPUNIT_TESTSUITE', TRUE);
+
+$_SERVER['argv'][1] = '--no-configuration';
+$_SERVER['argv'][2] = '--filter';
+$_SERVER['argv'][3] = 'testTrue#3';
+$_SERVER['argv'][4] = 'DataProviderFilterTest';
+$_SERVER['argv'][5] = dirname(__FILE__).'/../_files/DataProviderFilterTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit_TextUI_Command::main();
+?>
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann.
+
+.
+
+Time: %s, Memory: %sMb
+
+OK (1 test, 1 assertion)
diff --git a/Tests/TextUI/filter-dataprovider-by-range-isolation.phpt b/Tests/TextUI/filter-dataprovider-by-range-isolation.phpt
new file mode 100644
index 000000000..c589c2abf
--- /dev/null
+++ b/Tests/TextUI/filter-dataprovider-by-range-isolation.phpt
@@ -0,0 +1,24 @@
+--TEST--
+phpunit --process-isolation --filter testTrue#1-3 DataProviderFilterTest ../_files/DataProviderFilterTest.php
+--FILE--
+<?php
+define('PHPUNIT_TESTSUITE', TRUE);
+
+$_SERVER['argv'][1] = '--no-configuration';
+$_SERVER['argv'][2] = '--process-isolation';
+$_SERVER['argv'][3] = '--filter';
+$_SERVER['argv'][4] = 'testTrue#1-3';
+$_SERVER['argv'][5] = 'DataProviderFilterTest';
+$_SERVER['argv'][6] = dirname(__FILE__).'/../_files/DataProviderFilterTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit_TextUI_Command::main();
+?>
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann.
+
+...
+
+Time: %s, Memory: %sMb
+
+OK (3 tests, 3 assertions)
diff --git a/Tests/TextUI/filter-dataprovider-by-range.phpt b/Tests/TextUI/filter-dataprovider-by-range.phpt
new file mode 100644
index 000000000..b80358140
--- /dev/null
+++ b/Tests/TextUI/filter-dataprovider-by-range.phpt
@@ -0,0 +1,23 @@
+--TEST--
+phpunit --filter testTrue#1-3 DataProviderFilterTest ../_files/DataProviderFilterTest.php
+--FILE--
+<?php
+define('PHPUNIT_TESTSUITE', TRUE);
+
+$_SERVER['argv'][1] = '--no-configuration';
+$_SERVER['argv'][2] = '--filter';
+$_SERVER['argv'][3] = 'testTrue#1-3';
+$_SERVER['argv'][4] = 'DataProviderFilterTest';
+$_SERVER['argv'][5] = dirname(__FILE__).'/../_files/DataProviderFilterTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit_TextUI_Command::main();
+?>
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann.
+
+...
+
+Time: %s, Memory: %sMb
+
+OK (3 tests, 3 assertions)
\ No newline at end of file
diff --git a/Tests/TextUI/filter-dataprovider-by-regexp-isolation.phpt b/Tests/TextUI/filter-dataprovider-by-regexp-isolation.phpt
new file mode 100644
index 000000000..3fb7d70df
--- /dev/null
+++ b/Tests/TextUI/filter-dataprovider-by-regexp-isolation.phpt
@@ -0,0 +1,24 @@
+--TEST--
+phpunit --process-isolation --filter testFalse@false.* DataProviderFilterTest ../_files/DataProviderFilterTest.php
+--FILE--
+<?php
+define('PHPUNIT_TESTSUITE', TRUE);
+
+$_SERVER['argv'][1] = '--no-configuration';
+$_SERVER['argv'][2] = '--process-isolation';
+$_SERVER['argv'][3] = '--filter';
+$_SERVER['argv'][4] = 'testFalse@false.*';
+$_SERVER['argv'][5] = 'DataProviderFilterTest';
+$_SERVER['argv'][6] = dirname(__FILE__).'/../_files/DataProviderFilterTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit_TextUI_Command::main();
+?>
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann.
+
+..
+
+Time: %s, Memory: %sMb
+
+OK (2 tests, 2 assertions)
diff --git a/Tests/TextUI/filter-dataprovider-by-regexp.phpt b/Tests/TextUI/filter-dataprovider-by-regexp.phpt
new file mode 100644
index 000000000..20173c055
--- /dev/null
+++ b/Tests/TextUI/filter-dataprovider-by-regexp.phpt
@@ -0,0 +1,23 @@
+--TEST--
+phpunit --filter testFalse@false.* DataProviderFilterTest ../_files/DataProviderFilterTest.php
+--FILE--
+<?php
+define('PHPUNIT_TESTSUITE', TRUE);
+
+$_SERVER['argv'][1] = '--no-configuration';
+$_SERVER['argv'][2] = '--filter';
+$_SERVER['argv'][3] = 'testFalse@false.*';
+$_SERVER['argv'][4] = 'DataProviderFilterTest';
+$_SERVER['argv'][5] = dirname(__FILE__).'/../_files/DataProviderFilterTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit_TextUI_Command::main();
+?>
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann.
+
+..
+
+Time: %s, Memory: %sMb
+
+OK (2 tests, 2 assertions)
diff --git a/Tests/TextUI/filter-dataprovider-by-string-isolation.phpt b/Tests/TextUI/filter-dataprovider-by-string-isolation.phpt
new file mode 100644
index 000000000..6b71c1c73
--- /dev/null
+++ b/Tests/TextUI/filter-dataprovider-by-string-isolation.phpt
@@ -0,0 +1,24 @@
+--TEST--
+phpunit --process-isolation --filter testFalse@false\ test DataProviderFilterTest ../_files/DataProviderFilterTest.php
+--FILE--
+<?php
+define('PHPUNIT_TESTSUITE', TRUE);
+
+$_SERVER['argv'][1] = '--no-configuration';
+$_SERVER['argv'][2] = '--process-isolation';
+$_SERVER['argv'][3] = '--filter';
+$_SERVER['argv'][4] = 'testFalse@false test';
+$_SERVER['argv'][5] = 'DataProviderFilterTest';
+$_SERVER['argv'][6] = dirname(__FILE__).'/../_files/DataProviderFilterTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit_TextUI_Command::main();
+?>
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann.
+
+.
+
+Time: %s, Memory: %sMb
+
+OK (1 test, 1 assertion)
diff --git a/Tests/TextUI/filter-dataprovider-by-string.phpt b/Tests/TextUI/filter-dataprovider-by-string.phpt
new file mode 100644
index 000000000..d37b2b2e5
--- /dev/null
+++ b/Tests/TextUI/filter-dataprovider-by-string.phpt
@@ -0,0 +1,23 @@
+--TEST--
+phpunit --filter testFalse@false\ test DataProviderFilterTest ../_files/DataProviderFilterTest.php
+--FILE--
+<?php
+define('PHPUNIT_TESTSUITE', TRUE);
+
+$_SERVER['argv'][1] = '--no-configuration';
+$_SERVER['argv'][2] = '--filter';
+$_SERVER['argv'][3] = 'testFalse@false test';
+$_SERVER['argv'][4] = 'DataProviderFilterTest';
+$_SERVER['argv'][5] = dirname(__FILE__).'/../_files/DataProviderFilterTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit_TextUI_Command::main();
+?>
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann.
+
+.
+
+Time: %s, Memory: %sMb
+
+OK (1 test, 1 assertion)
diff --git a/Tests/_files/DataProviderFilterTest.php b/Tests/_files/DataProviderFilterTest.php
new file mode 100644
index 000000000..298f0b06f
--- /dev/null
+++ b/Tests/_files/DataProviderFilterTest.php
@@ -0,0 +1,39 @@
+<?php
+class DataProviderFilterTest extends PHPUnit_Framework_TestCase
+{
+    /**
+     * @dataProvider truthProvider
+     */
+    public function testTrue($truth)
+    {
+        $this->assertTrue($truth);
+    }
+
+    public static function truthProvider()
+    {
+        return array(
+           array(true),
+           array(true),
+           array(true),
+           array(true)
+        );
+    }
+
+    /**
+     * @dataProvider falseProvider
+     */
+    public function testFalse($false)
+    {
+        $this->assertFalse($false);
+    }
+
+    public static function falseProvider()
+    {
+        return array(
+          'false test'=>array(false),
+          'false test 2'=>array(false),
+          'other false test'=>array(false),
+          'other false test2'=>array(false)
+        );
+    }
+}
\ No newline at end of file
