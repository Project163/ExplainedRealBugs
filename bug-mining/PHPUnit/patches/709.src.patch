diff --git a/tests/end-to-end/cli/columns-too-few.phpt b/tests/end-to-end/cli/columns-too-few.phpt
new file mode 100644
index 000000000..affe1016f
--- /dev/null
+++ b/tests/end-to-end/cli/columns-too-few.phpt
@@ -0,0 +1,27 @@
+--TEST--
+phpunit --columns=1 ../../_files/BankAccountTest.php
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-configuration';
+$_SERVER['argv'][] = '--columns=1';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/BankAccountTest.php';
+
+require_once __DIR__ . '/../../bootstrap.php';
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann and contributors.
+
+Runtime: %s
+
+... 3 / 3 (100%)
+
+
+Time: %s, Memory: %s
+
+There was 1 PHPUnit warning:
+
+1) Less than 16 columns requested, number of columns set to 16
+
+WARNINGS!
+Tests: 3, Assertions: 3, Warnings: 1.
diff --git a/tests/end-to-end/event/too-few-columns.phpt b/tests/end-to-end/event/too-few-columns.phpt
new file mode 100644
index 000000000..07de7d189
--- /dev/null
+++ b/tests/end-to-end/event/too-few-columns.phpt
@@ -0,0 +1,46 @@
+--TEST--
+The right events are emitted in the right order when too few columns are requested
+--SKIPIF--
+<?php declare(strict_types=1);
+if (DIRECTORY_SEPARATOR === '\\') {
+    print "skip: this test does not work on Windows / GitHub Actions\n";
+}
+--FILE--
+<?php declare(strict_types=1);
+$traceFile = tempnam(sys_get_temp_dir(), __FILE__);
+
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-configuration';
+$_SERVER['argv'][] = '--no-output';
+$_SERVER['argv'][] = '--columns';
+$_SERVER['argv'][] = '1';
+$_SERVER['argv'][] = '--log-events-text';
+$_SERVER['argv'][] = $traceFile;
+$_SERVER['argv'][] = __DIR__ . '/_files/SuccessTest.php';
+
+require __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+
+print file_get_contents($traceFile);
+
+unlink($traceFile);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s using %s)
+Test Runner Triggered Warning (Less than 16 columns requested, number of columns set to 16)
+Test Runner Configured
+Test Suite Loaded (1 test)
+Test Runner Started
+Test Suite Sorted
+Event Facade Sealed
+Test Runner Execution Started (1 test)
+Test Suite Started (PHPUnit\TestFixture\Event\SuccessTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\Event\SuccessTest::testSuccess)
+Test Prepared (PHPUnit\TestFixture\Event\SuccessTest::testSuccess)
+Assertion Succeeded (Constraint: is true, Value: true)
+Test Passed (PHPUnit\TestFixture\Event\SuccessTest::testSuccess)
+Test Finished (PHPUnit\TestFixture\Event\SuccessTest::testSuccess)
+Test Suite Finished (PHPUnit\TestFixture\Event\SuccessTest, 1 test)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 1)
