diff --git a/ChangeLog-7.0.md b/ChangeLog-7.0.md
index 8b00c0ce0..fa0acef08 100644
--- a/ChangeLog-7.0.md
+++ b/ChangeLog-7.0.md
@@ -7,6 +7,7 @@ All notable changes of the PHPUnit 7.0 release series are documented in this fil
 ### Fixed
 
 * Fixed [#2974](https://github.com/sebastianbergmann/phpunit/issues/2974): JUnit XML logfile contains invalid characters when test output contains binary data
+* Fixed [#3014](https://github.com/sebastianbergmann/phpunit/issues/3014): `TypeError` in `PHPUnit\Framework\TestCase::getActualOutput()` when callback registered using `setOutputCallback()` does not return a string
 * Removed more superfluous `@throws \Exception` annotations
 
 ## [7.0.1] - 2018-02-13
diff --git a/src/Framework/TestCase.php b/src/Framework/TestCase.php
index 49ada7945..5f783f08d 100644
--- a/src/Framework/TestCase.php
+++ b/src/Framework/TestCase.php
@@ -1845,7 +1845,7 @@ private function stopOutputBuffering(): void
         $this->output = \ob_get_contents();
 
         if ($this->outputCallback !== false) {
-            $this->output = \call_user_func($this->outputCallback, $this->output);
+            $this->output = (string) \call_user_func($this->outputCallback, $this->output);
         }
 
         \ob_end_clean();
