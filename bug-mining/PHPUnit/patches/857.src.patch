diff --git a/ChangeLog-10.5.md b/ChangeLog-10.5.md
index 56727b544..84b25d71e 100644
--- a/ChangeLog-10.5.md
+++ b/ChangeLog-10.5.md
@@ -7,6 +7,7 @@ All notable changes of the PHPUnit 10.5 release series are documented in this fi
 ### Fixed
 
 * [#5887](https://github.com/sebastianbergmann/phpunit/pull/5887): Issue baseline generator does not correctly handle ignoring suppressed issues
+* [#5908](https://github.com/sebastianbergmann/phpunit/issues/5908): `--list-tests` and `--list-tests-xml` CLI options do not report error when data provider method throws exception
 
 ## [10.5.28] - 2024-07-18
 
diff --git a/src/TextUI/Application.php b/src/TextUI/Application.php
index d4bc34dc1..6d65e6583 100644
--- a/src/TextUI/Application.php
+++ b/src/TextUI/Application.php
@@ -290,15 +290,40 @@ public function run(array $argv): int
         // @codeCoverageIgnoreEnd
     }
 
-    private function execute(Command\Command $command): never
+    private function execute(Command\Command $command, bool $requiresResultCollectedFromEvents = false): never
     {
+        if ($requiresResultCollectedFromEvents) {
+            try {
+                TestResultFacade::init();
+                EventFacade::instance()->seal();
+
+                $resultCollectedFromEvents = TestResultFacade::result();
+            } catch (EventFacadeIsSealedException|UnknownSubscriberTypeException) {
+            }
+        }
+
         print Version::getVersionString() . PHP_EOL . PHP_EOL;
 
         $result = $command->execute();
 
         print $result->output();
 
-        exit($result->shellExitCode());
+        $shellExitCode = $result->shellExitCode();
+
+        if (isset($resultCollectedFromEvents) &&
+            $resultCollectedFromEvents->hasTestTriggeredPhpunitErrorEvents()) {
+            $shellExitCode = Result::EXCEPTION;
+
+            print PHP_EOL . PHP_EOL . 'There were errors:' . PHP_EOL;
+
+            foreach ($resultCollectedFromEvents->testTriggeredPhpunitErrorEvents() as $events) {
+                foreach ($events as $event) {
+                    print PHP_EOL . trim($event->message()) . PHP_EOL;
+                }
+            }
+        }
+
+        exit($shellExitCode);
     }
 
     private function loadBootstrapScript(string $filename): void
@@ -438,11 +463,11 @@ private function executeCommandsThatOnlyRequireCliConfiguration(CliConfiguration
     private function executeCommandsThatRequireCliConfigurationAndTestSuite(CliConfiguration $cliConfiguration, TestSuite $testSuite): void
     {
         if ($cliConfiguration->listGroups()) {
-            $this->execute(new ListGroupsCommand($testSuite));
+            $this->execute(new ListGroupsCommand($testSuite), true);
         }
 
         if ($cliConfiguration->listTests()) {
-            $this->execute(new ListTestsAsTextCommand($testSuite));
+            $this->execute(new ListTestsAsTextCommand($testSuite), true);
         }
 
         if ($cliConfiguration->hasListTestsXml()) {
@@ -451,6 +476,7 @@ private function executeCommandsThatRequireCliConfigurationAndTestSuite(CliConfi
                     $cliConfiguration->listTestsXml(),
                     $testSuite,
                 ),
+                true,
             );
         }
     }
@@ -458,11 +484,11 @@ private function executeCommandsThatRequireCliConfigurationAndTestSuite(CliConfi
     private function executeCommandsThatRequireCompleteConfiguration(Configuration $configuration, CliConfiguration $cliConfiguration): void
     {
         if ($cliConfiguration->listSuites()) {
-            $this->execute(new ListTestSuitesCommand($configuration->testSuite()));
+            $this->execute(new ListTestSuitesCommand($configuration->testSuite()), true);
         }
 
         if ($cliConfiguration->warmCoverageCache()) {
-            $this->execute(new WarmCodeCoverageCacheCommand($configuration, CodeCoverageFilterRegistry::instance()));
+            $this->execute(new WarmCodeCoverageCacheCommand($configuration, CodeCoverageFilterRegistry::instance()), true);
         }
     }
 
diff --git a/tests/end-to-end/regression/5908-list-tests-xml.phpt b/tests/end-to-end/regression/5908-list-tests-xml.phpt
new file mode 100644
index 000000000..576e0bcaf
--- /dev/null
+++ b/tests/end-to-end/regression/5908-list-tests-xml.phpt
@@ -0,0 +1,27 @@
+--TEST--
+https://github.com/sebastianbergmann/phpunit/issues/5908
+--FILE--
+<?php declare(strict_types=1);
+$file = tempnam(sys_get_temp_dir(), __FILE__);
+
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-configuration';
+$_SERVER['argv'][] = '--list-tests-xml';
+$_SERVER['argv'][] = $file;
+$_SERVER['argv'][] = __DIR__ . '/5908/Issue5908Test.php';
+
+require_once __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+
+unlink($file);
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann and contributors.
+
+Wrote list of tests that would have been run to %s
+
+
+There were errors:
+
+The data provider specified for PHPUnit\TestFixture\Issue5908\Issue5908Test::testOne is invalid
+message
diff --git a/tests/end-to-end/regression/5908-list-tests.phpt b/tests/end-to-end/regression/5908-list-tests.phpt
new file mode 100644
index 000000000..36337579d
--- /dev/null
+++ b/tests/end-to-end/regression/5908-list-tests.phpt
@@ -0,0 +1,22 @@
+--TEST--
+https://github.com/sebastianbergmann/phpunit/issues/5908
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-configuration';
+$_SERVER['argv'][] = '--list-tests';
+$_SERVER['argv'][] = __DIR__ . '/5908/Issue5908Test.php';
+
+require_once __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann and contributors.
+
+Available test(s):
+
+
+There were errors:
+
+The data provider specified for PHPUnit\TestFixture\Issue5908\Issue5908Test::testOne is invalid
+message
diff --git a/tests/end-to-end/regression/5908/Issue5908Test.php b/tests/end-to-end/regression/5908/Issue5908Test.php
new file mode 100644
index 000000000..e3e6658d2
--- /dev/null
+++ b/tests/end-to-end/regression/5908/Issue5908Test.php
@@ -0,0 +1,27 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\Issue5908;
+
+use Exception;
+use PHPUnit\Framework\Attributes\DataProvider;
+use PHPUnit\Framework\TestCase;
+
+final class Issue5908Test extends TestCase
+{
+    public static function provider(): array
+    {
+        throw new Exception('message');
+    }
+
+    #[DataProvider('provider')]
+    public function testOne(int $value): void
+    {
+    }
+}
