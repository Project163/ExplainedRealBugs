diff --git a/ChangeLog-11.0.md b/ChangeLog-11.0.md
index 5745354ba..d2c57a3c8 100644
--- a/ChangeLog-11.0.md
+++ b/ChangeLog-11.0.md
@@ -8,6 +8,7 @@ All notable changes of the PHPUnit 11.0 release series are documented in this fi
 
 * [#5600](https://github.com/sebastianbergmann/phpunit/pull/5600): Assertions for comparing arrays while ignoring a specified list of keys
 * [#5605](https://github.com/sebastianbergmann/phpunit/pull/5605): `expectUserDeprecationMessage()` and `expectUserDeprecationMessageMatches()` for expecting `E_USER_DEPRECATED` issues
+* [#5620](https://github.com/sebastianbergmann/phpunit/issues/5620): Implement `group` attribute on `<directory>` and `<file>` elements (children of `<testsuite>`) to add all tests found in a directory or file to a specified group
 
 ### Changed
 
diff --git a/phpunit.xml b/phpunit.xml
index cabc86fa3..47e97ce00 100644
--- a/phpunit.xml
+++ b/phpunit.xml
@@ -19,6 +19,7 @@
             <directory suffix=".phpt">tests/end-to-end/execution-order</directory>
             <directory suffix=".phpt">tests/end-to-end/extension</directory>
             <directory suffix=".phpt">tests/end-to-end/generic</directory>
+            <directory suffix=".phpt">tests/end-to-end/groups-from-configuration</directory>
             <directory suffix=".phpt">tests/end-to-end/logging</directory>
             <directory suffix=".phpt">tests/end-to-end/migration</directory>
             <directory suffix=".phpt">tests/end-to-end/mock-objects</directory>
@@ -28,6 +29,7 @@
 
             <exclude>tests/end-to-end/event/_files</exclude>
             <exclude>tests/end-to-end/execution-order/_files</exclude>
+            <exclude>tests/end-to-end/groups-from-configuration/_files</exclude>
             <exclude>tests/end-to-end/logging/_files</exclude>
             <exclude>tests/end-to-end/migration/_files</exclude>
             <exclude>tests/end-to-end/testdox/_files</exclude>
diff --git a/phpunit.xsd b/phpunit.xsd
index 900c33e33..a6e7cb8cd 100644
--- a/phpunit.xsd
+++ b/phpunit.xsd
@@ -259,6 +259,7 @@
                 <xs:attribute type="xs:string" name="prefix" default=""/>
                 <xs:attribute type="xs:string" name="suffix" default="Test.php"/>
                 <xs:attributeGroup ref="phpVersionGroup"/>
+                <xs:attribute type="xs:string" name="groups"/>
             </xs:extension>
         </xs:simpleContent>
     </xs:complexType>
@@ -266,6 +267,7 @@
         <xs:simpleContent>
             <xs:extension base="xs:anyURI">
                 <xs:attributeGroup ref="phpVersionGroup"/>
+                <xs:attribute type="xs:string" name="groups"/>
             </xs:extension>
         </xs:simpleContent>
     </xs:complexType>
diff --git a/src/Framework/TestBuilder.php b/src/Framework/TestBuilder.php
index 7f1347a46..cd387dfa6 100644
--- a/src/Framework/TestBuilder.php
+++ b/src/Framework/TestBuilder.php
@@ -9,6 +9,7 @@
  */
 namespace PHPUnit\Framework;
 
+use function array_merge;
 use function assert;
 use PHPUnit\Metadata\Api\DataProvider;
 use PHPUnit\Metadata\Api\Groups;
@@ -28,10 +29,11 @@
 {
     /**
      * @psalm-param non-empty-string $methodName
+     * @psalm-param list<non-empty-string> $groups
      *
      * @throws InvalidDataProviderException
      */
-    public function build(ReflectionClass $theClass, string $methodName): Test
+    public function build(ReflectionClass $theClass, string $methodName, array $groups = []): Test
     {
         $className = $theClass->getName();
 
@@ -49,6 +51,7 @@ public function build(ReflectionClass $theClass, string $methodName): Test
                 $this->shouldGlobalStateBePreserved($className, $methodName),
                 $this->shouldAllTestMethodsOfTestClassBeRunInSingleSeparateProcess($className),
                 $this->backupSettings($className, $methodName),
+                $groups,
             );
         }
 
@@ -71,14 +74,18 @@ public function build(ReflectionClass $theClass, string $methodName): Test
      * @psalm-param class-string $className
      * @psalm-param non-empty-string $methodName
      * @psalm-param array{backupGlobals: ?bool, backupGlobalsExcludeList: list<string>, backupStaticProperties: ?bool, backupStaticPropertiesExcludeList: array<string,list<string>>} $backupSettings
+     * @psalm-param list<non-empty-string> $groups
      */
-    private function buildDataProviderTestSuite(string $methodName, string $className, array $data, bool $runTestInSeparateProcess, ?bool $preserveGlobalState, bool $runClassInSeparateProcess, array $backupSettings): DataProviderTestSuite
+    private function buildDataProviderTestSuite(string $methodName, string $className, array $data, bool $runTestInSeparateProcess, ?bool $preserveGlobalState, bool $runClassInSeparateProcess, array $backupSettings, array $groups): DataProviderTestSuite
     {
         $dataProviderTestSuite = DataProviderTestSuite::empty(
             $className . '::' . $methodName,
         );
 
-        $groups = (new Groups)->groups($className, $methodName);
+        $groups = array_merge(
+            $groups,
+            (new Groups)->groups($className, $methodName),
+        );
 
         foreach ($data as $_dataName => $_data) {
             $_test = new $className($methodName);
diff --git a/src/Framework/TestSuite.php b/src/Framework/TestSuite.php
index fadfe95bf..ffee9ff47 100644
--- a/src/Framework/TestSuite.php
+++ b/src/Framework/TestSuite.php
@@ -12,6 +12,7 @@
 use const PHP_EOL;
 use function array_keys;
 use function array_map;
+use function array_merge;
 use function assert;
 use function call_user_func;
 use function class_exists;
@@ -80,7 +81,10 @@ public static function empty(string $name): static
         return new static($name);
     }
 
-    public static function fromClassReflector(ReflectionClass $class): static
+    /**
+     * @psalm-param list<non-empty-string> $groups
+     */
+    public static function fromClassReflector(ReflectionClass $class, array $groups = []): static
     {
         $testSuite = new static($class->getName());
 
@@ -110,7 +114,7 @@ public static function fromClassReflector(ReflectionClass $class): static
                 continue;
             }
 
-            $testSuite->addTestMethod($class, $method);
+            $testSuite->addTestMethod($class, $method, $groups);
         }
 
         if (count($testSuite) === 0) {
@@ -177,9 +181,11 @@ public function addTest(Test $test, array $groups = []): void
     /**
      * Adds the tests from the given class to the suite.
      *
+     * @psalm-param list<non-empty-string> $groups
+     *
      * @throws Exception
      */
-    public function addTestSuite(ReflectionClass $testClass): void
+    public function addTestSuite(ReflectionClass $testClass, array $groups = []): void
     {
         if ($testClass->isAbstract()) {
             throw new Exception(
@@ -200,7 +206,7 @@ public function addTestSuite(ReflectionClass $testClass): void
             );
         }
 
-        $this->addTest(self::fromClassReflector($testClass));
+        $this->addTest(self::fromClassReflector($testClass, $groups), $groups);
     }
 
     /**
@@ -211,9 +217,11 @@ public function addTestSuite(ReflectionClass $testClass): void
      * added, a <code>PHPUnit\Framework\WarningTestCase</code> will be created instead,
      * leaving the current test run untouched.
      *
+     * @psalm-param list<non-empty-string> $groups
+     *
      * @throws Exception
      */
-    public function addTestFile(string $filename): void
+    public function addTestFile(string $filename, array $groups = []): void
     {
         if (is_file($filename) && str_ends_with($filename, '.phpt')) {
             try {
@@ -230,6 +238,7 @@ public function addTestFile(string $filename): void
         try {
             $this->addTestSuite(
                 (new TestSuiteLoader)->load($filename),
+                $groups,
             );
         } catch (RunnerException $e) {
             Event\Facade::emitter()->testRunnerTriggeredWarning(
@@ -451,9 +460,11 @@ public function isForTestClass(): bool
     }
 
     /**
+     * @psalm-param list<non-empty-string> $groups
+     *
      * @throws Exception
      */
-    protected function addTestMethod(ReflectionClass $class, ReflectionMethod $method): void
+    protected function addTestMethod(ReflectionClass $class, ReflectionMethod $method, array $groups): void
     {
         $className  = $class->getName();
         $methodName = $method->getName();
@@ -461,7 +472,7 @@ protected function addTestMethod(ReflectionClass $class, ReflectionMethod $metho
         assert(!empty($methodName));
 
         try {
-            $test = (new TestBuilder)->build($class, $methodName);
+            $test = (new TestBuilder)->build($class, $methodName, $groups);
         } catch (InvalidDataProviderException $e) {
             Event\Facade::emitter()->testTriggeredPhpunitError(
                 new TestMethod(
@@ -495,7 +506,10 @@ protected function addTestMethod(ReflectionClass $class, ReflectionMethod $metho
 
         $this->addTest(
             $test,
-            (new Groups)->groups($class->getName(), $methodName),
+            array_merge(
+                $groups,
+                (new Groups)->groups($class->getName(), $methodName),
+            ),
         );
     }
 
diff --git a/src/TextUI/Configuration/Value/TestDirectory.php b/src/TextUI/Configuration/Value/TestDirectory.php
index f4671c3ed..1aa97d20a 100644
--- a/src/TextUI/Configuration/Value/TestDirectory.php
+++ b/src/TextUI/Configuration/Value/TestDirectory.php
@@ -27,16 +27,23 @@
     private string $phpVersion;
     private VersionComparisonOperator $phpVersionOperator;
 
+    /**
+     * @psalm-var list<non-empty-string>
+     */
+    private array $groups;
+
     /**
      * @psalm-param non-empty-string $path
+     * @psalm-param list<non-empty-string> $groups
      */
-    public function __construct(string $path, string $prefix, string $suffix, string $phpVersion, VersionComparisonOperator $phpVersionOperator)
+    public function __construct(string $path, string $prefix, string $suffix, string $phpVersion, VersionComparisonOperator $phpVersionOperator, array $groups)
     {
         $this->path               = $path;
         $this->prefix             = $prefix;
         $this->suffix             = $suffix;
         $this->phpVersion         = $phpVersion;
         $this->phpVersionOperator = $phpVersionOperator;
+        $this->groups             = $groups;
     }
 
     /**
@@ -66,4 +73,12 @@ public function phpVersionOperator(): VersionComparisonOperator
     {
         return $this->phpVersionOperator;
     }
+
+    /**
+     * @psalm-return list<non-empty-string>
+     */
+    public function groups(): array
+    {
+        return $this->groups;
+    }
 }
diff --git a/src/TextUI/Configuration/Value/TestFile.php b/src/TextUI/Configuration/Value/TestFile.php
index edc757b43..9d9d8de3b 100644
--- a/src/TextUI/Configuration/Value/TestFile.php
+++ b/src/TextUI/Configuration/Value/TestFile.php
@@ -18,17 +18,33 @@
  */
 final readonly class TestFile
 {
+    /**
+     * @psalm-var non-empty-string
+     */
     private string $path;
     private string $phpVersion;
     private VersionComparisonOperator $phpVersionOperator;
 
-    public function __construct(string $path, string $phpVersion, VersionComparisonOperator $phpVersionOperator)
+    /**
+     * @psalm-var list<non-empty-string>
+     */
+    private array $groups;
+
+    /**
+     * @psalm-param non-empty-string $path
+     * @psalm-param list<non-empty-string> $groups
+     */
+    public function __construct(string $path, string $phpVersion, VersionComparisonOperator $phpVersionOperator, array $groups)
     {
         $this->path               = $path;
         $this->phpVersion         = $phpVersion;
         $this->phpVersionOperator = $phpVersionOperator;
+        $this->groups             = $groups;
     }
 
+    /**
+     * @psalm-return non-empty-string
+     */
     public function path(): string
     {
         return $this->path;
@@ -43,4 +59,12 @@ public function phpVersionOperator(): VersionComparisonOperator
     {
         return $this->phpVersionOperator;
     }
+
+    /**
+     * @psalm-return list<non-empty-string>
+     */
+    public function groups(): array
+    {
+        return $this->groups;
+    }
 }
diff --git a/src/TextUI/Configuration/Xml/Loader.php b/src/TextUI/Configuration/Xml/Loader.php
index 87e9558fc..0b70e42e2 100644
--- a/src/TextUI/Configuration/Xml/Loader.php
+++ b/src/TextUI/Configuration/Xml/Loader.php
@@ -902,12 +902,27 @@ private function testSuite(string $filename, DOMXPath $xpath): TestSuiteCollecti
                     $phpVersionOperator = new VersionComparisonOperator($directoryNode->getAttribute('phpVersionOperator'));
                 }
 
+                $groups = [];
+
+                if ($directoryNode->hasAttribute('groups')) {
+                    foreach (explode(',', $directoryNode->getAttribute('groups')) as $group) {
+                        $group = trim($group);
+
+                        if (empty($group)) {
+                            continue;
+                        }
+
+                        $groups[] = $group;
+                    }
+                }
+
                 $directories[] = new TestDirectory(
                     $this->toAbsolutePath($filename, $directory),
                     $prefix,
                     $suffix,
                     $phpVersion,
                     $phpVersionOperator,
+                    $groups,
                 );
             }
 
@@ -934,10 +949,25 @@ private function testSuite(string $filename, DOMXPath $xpath): TestSuiteCollecti
                     $phpVersionOperator = new VersionComparisonOperator($fileNode->getAttribute('phpVersionOperator'));
                 }
 
+                $groups = [];
+
+                if ($fileNode->hasAttribute('groups')) {
+                    foreach (explode(',', $fileNode->getAttribute('groups')) as $group) {
+                        $group = trim($group);
+
+                        if (empty($group)) {
+                            continue;
+                        }
+
+                        $groups[] = $group;
+                    }
+                }
+
                 $files[] = new TestFile(
                     $this->toAbsolutePath($filename, $file),
                     $phpVersion,
                     $phpVersionOperator,
+                    $groups,
                 );
             }
 
diff --git a/src/TextUI/Configuration/Xml/TestSuiteMapper.php b/src/TextUI/Configuration/Xml/TestSuiteMapper.php
index fbf17c442..441e48303 100644
--- a/src/TextUI/Configuration/Xml/TestSuiteMapper.php
+++ b/src/TextUI/Configuration/Xml/TestSuiteMapper.php
@@ -77,6 +77,8 @@ public function map(string $xmlConfigurationFile, TestSuiteCollection $configure
                         $exclude,
                     );
 
+                    $groups = $directory->groups();
+
                     foreach ($files as $file) {
                         if (isset($processed[$file])) {
                             continue;
@@ -84,7 +86,7 @@ public function map(string $xmlConfigurationFile, TestSuiteCollection $configure
 
                         $processed[$file] = true;
 
-                        $testSuite->addTestFile($file);
+                        $testSuite->addTestFile($file, $groups);
                     }
                 }
 
@@ -103,7 +105,7 @@ public function map(string $xmlConfigurationFile, TestSuiteCollection $configure
 
                     $processed[$file->path()] = true;
 
-                    $testSuite->addTestFile($file->path());
+                    $testSuite->addTestFile($file->path(), $file->groups());
                 }
 
                 if (!empty($processed)) {
diff --git a/tests/_files/configuration_testsuites.xml b/tests/_files/configuration_testsuites.xml
index de9188962..b7ce961b9 100644
--- a/tests/_files/configuration_testsuites.xml
+++ b/tests/_files/configuration_testsuites.xml
@@ -3,12 +3,12 @@
          xsi:noNamespaceSchemaLocation="../../phpunit.xsd">
     <testsuites>
         <testsuite name="first">
-            <directory>tests/first</directory>
+            <directory groups="foo">tests/first</directory>
         </testsuite>
 
         <testsuite name="second">
-            <directory prefix="test" suffix=".phpt" phpVersion="1.2.3" phpVersionOperator="==">tests/second</directory>
-            <file phpVersion="4.5.6" phpVersionOperator="!=">tests/file.php</file>
+            <directory groups="bar" prefix="test" suffix=".phpt" phpVersion="1.2.3" phpVersionOperator="==">tests/second</directory>
+            <file groups="baz" phpVersion="4.5.6" phpVersionOperator="!=">tests/file.php</file>
             <exclude>tests/second/_files</exclude>
         </testsuite>
     </testsuites>
diff --git a/tests/end-to-end/groups-from-configuration/_files/phpunit.xml b/tests/end-to-end/groups-from-configuration/_files/phpunit.xml
new file mode 100644
index 000000000..d81cefb41
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/_files/phpunit.xml
@@ -0,0 +1,12 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:noNamespaceSchemaLocation="../../../../phpunit.xsd"
+>
+    <testsuites>
+        <testsuite name="default">
+            <directory groups="foo">tests/foo</directory>
+            <directory groups="bar,baz">tests/bar-baz</directory>
+            <file groups="another-group">tests/AnotherTest.php</file>
+        </testsuite>
+    </testsuites>
+</phpunit>
diff --git a/tests/end-to-end/groups-from-configuration/_files/tests/AnotherTest.php b/tests/end-to-end/groups-from-configuration/_files/tests/AnotherTest.php
new file mode 100644
index 000000000..53430c9ee
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/_files/tests/AnotherTest.php
@@ -0,0 +1,20 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\GroupsFromConfiguration;
+
+use PHPUnit\Framework\TestCase;
+
+final class AnotherTest extends TestCase
+{
+    public function testOne(): void
+    {
+        $this->assertTrue(true);
+    }
+}
diff --git a/tests/end-to-end/groups-from-configuration/_files/tests/bar-baz/BarBazTest.php b/tests/end-to-end/groups-from-configuration/_files/tests/bar-baz/BarBazTest.php
new file mode 100644
index 000000000..fa3412dc9
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/_files/tests/bar-baz/BarBazTest.php
@@ -0,0 +1,20 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\GroupsFromConfiguration;
+
+use PHPUnit\Framework\TestCase;
+
+final class BarBazTest extends TestCase
+{
+    public function testOne(): void
+    {
+        $this->assertTrue(true);
+    }
+}
diff --git a/tests/end-to-end/groups-from-configuration/_files/tests/foo/FooTest.php b/tests/end-to-end/groups-from-configuration/_files/tests/foo/FooTest.php
new file mode 100644
index 000000000..a5019fd09
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/_files/tests/foo/FooTest.php
@@ -0,0 +1,20 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\GroupsFromConfiguration;
+
+use PHPUnit\Framework\TestCase;
+
+final class FooTest extends TestCase
+{
+    public function testOne(): void
+    {
+        $this->assertTrue(true);
+    }
+}
diff --git a/tests/end-to-end/groups-from-configuration/group-another-group.phpt b/tests/end-to-end/groups-from-configuration/group-another-group.phpt
new file mode 100644
index 000000000..e455ae2d3
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/group-another-group.phpt
@@ -0,0 +1,44 @@
+--TEST--
+phpunit --configuration _files/phpunit.xml --list-groups
+--FILE--
+<?php declare(strict_types=1);
+$traceFile = tempnam(sys_get_temp_dir(), __FILE__);
+
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-output';
+$_SERVER['argv'][] = '--log-events-text';
+$_SERVER['argv'][] = $traceFile;
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = \realpath(__DIR__ . '/_files/phpunit.xml');
+$_SERVER['argv'][] = '--group';
+$_SERVER['argv'][] = 'another-group';
+
+require_once __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+
+print file_get_contents($traceFile);
+
+unlink($traceFile);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s using %s)
+Test Runner Configured
+Test Suite Loaded (3 tests)
+Event Facade Sealed
+Test Runner Started
+Test Suite Sorted
+Test Suite Filtered (1 test)
+Test Runner Execution Started (1 test)
+Test Suite Started (%sphpunit.xml, 1 test)
+Test Suite Started (default, 1 test)
+Test Suite Started (PHPUnit\TestFixture\GroupsFromConfiguration\AnotherTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\GroupsFromConfiguration\AnotherTest::testOne)
+Test Prepared (PHPUnit\TestFixture\GroupsFromConfiguration\AnotherTest::testOne)
+Test Passed (PHPUnit\TestFixture\GroupsFromConfiguration\AnotherTest::testOne)
+Test Finished (PHPUnit\TestFixture\GroupsFromConfiguration\AnotherTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\GroupsFromConfiguration\AnotherTest, 1 test)
+Test Suite Finished (default, 1 test)
+Test Suite Finished (%sphpunit.xml, 1 test)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/groups-from-configuration/group-bar.phpt b/tests/end-to-end/groups-from-configuration/group-bar.phpt
new file mode 100644
index 000000000..5539eca8d
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/group-bar.phpt
@@ -0,0 +1,44 @@
+--TEST--
+phpunit --configuration _files/phpunit.xml --list-groups
+--FILE--
+<?php declare(strict_types=1);
+$traceFile = tempnam(sys_get_temp_dir(), __FILE__);
+
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-output';
+$_SERVER['argv'][] = '--log-events-text';
+$_SERVER['argv'][] = $traceFile;
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = \realpath(__DIR__ . '/_files/phpunit.xml');
+$_SERVER['argv'][] = '--group';
+$_SERVER['argv'][] = 'bar';
+
+require_once __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+
+print file_get_contents($traceFile);
+
+unlink($traceFile);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s using %s)
+Test Runner Configured
+Test Suite Loaded (3 tests)
+Event Facade Sealed
+Test Runner Started
+Test Suite Sorted
+Test Suite Filtered (1 test)
+Test Runner Execution Started (1 test)
+Test Suite Started (%sphpunit.xml, 1 test)
+Test Suite Started (default, 1 test)
+Test Suite Started (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest::testOne)
+Test Prepared (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest::testOne)
+Test Passed (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest::testOne)
+Test Finished (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest, 1 test)
+Test Suite Finished (default, 1 test)
+Test Suite Finished (%sphpunit.xml, 1 test)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/groups-from-configuration/group-baz.phpt b/tests/end-to-end/groups-from-configuration/group-baz.phpt
new file mode 100644
index 000000000..d6098819d
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/group-baz.phpt
@@ -0,0 +1,44 @@
+--TEST--
+phpunit --configuration _files/phpunit.xml --list-groups
+--FILE--
+<?php declare(strict_types=1);
+$traceFile = tempnam(sys_get_temp_dir(), __FILE__);
+
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-output';
+$_SERVER['argv'][] = '--log-events-text';
+$_SERVER['argv'][] = $traceFile;
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = \realpath(__DIR__ . '/_files/phpunit.xml');
+$_SERVER['argv'][] = '--group';
+$_SERVER['argv'][] = 'baz';
+
+require_once __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+
+print file_get_contents($traceFile);
+
+unlink($traceFile);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s using %s)
+Test Runner Configured
+Test Suite Loaded (3 tests)
+Event Facade Sealed
+Test Runner Started
+Test Suite Sorted
+Test Suite Filtered (1 test)
+Test Runner Execution Started (1 test)
+Test Suite Started (%sphpunit.xml, 1 test)
+Test Suite Started (default, 1 test)
+Test Suite Started (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest::testOne)
+Test Prepared (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest::testOne)
+Test Passed (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest::testOne)
+Test Finished (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\GroupsFromConfiguration\BarBazTest, 1 test)
+Test Suite Finished (default, 1 test)
+Test Suite Finished (%sphpunit.xml, 1 test)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/groups-from-configuration/group-foo.phpt b/tests/end-to-end/groups-from-configuration/group-foo.phpt
new file mode 100644
index 000000000..019532333
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/group-foo.phpt
@@ -0,0 +1,44 @@
+--TEST--
+phpunit --configuration _files/phpunit.xml --list-groups
+--FILE--
+<?php declare(strict_types=1);
+$traceFile = tempnam(sys_get_temp_dir(), __FILE__);
+
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--no-output';
+$_SERVER['argv'][] = '--log-events-text';
+$_SERVER['argv'][] = $traceFile;
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = \realpath(__DIR__ . '/_files/phpunit.xml');
+$_SERVER['argv'][] = '--group';
+$_SERVER['argv'][] = 'foo';
+
+require_once __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+
+print file_get_contents($traceFile);
+
+unlink($traceFile);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s using %s)
+Test Runner Configured
+Test Suite Loaded (3 tests)
+Event Facade Sealed
+Test Runner Started
+Test Suite Sorted
+Test Suite Filtered (1 test)
+Test Runner Execution Started (1 test)
+Test Suite Started (%sphpunit.xml, 1 test)
+Test Suite Started (default, 1 test)
+Test Suite Started (PHPUnit\TestFixture\GroupsFromConfiguration\FooTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\GroupsFromConfiguration\FooTest::testOne)
+Test Prepared (PHPUnit\TestFixture\GroupsFromConfiguration\FooTest::testOne)
+Test Passed (PHPUnit\TestFixture\GroupsFromConfiguration\FooTest::testOne)
+Test Finished (PHPUnit\TestFixture\GroupsFromConfiguration\FooTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\GroupsFromConfiguration\FooTest, 1 test)
+Test Suite Finished (default, 1 test)
+Test Suite Finished (%sphpunit.xml, 1 test)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/groups-from-configuration/list-groups.phpt b/tests/end-to-end/groups-from-configuration/list-groups.phpt
new file mode 100644
index 000000000..a97dd5c28
--- /dev/null
+++ b/tests/end-to-end/groups-from-configuration/list-groups.phpt
@@ -0,0 +1,20 @@
+--TEST--
+phpunit --configuration _files/phpunit.xml --list-groups
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = \realpath(__DIR__ . '/_files/phpunit.xml');
+$_SERVER['argv'][] = '--list-groups';
+
+require_once __DIR__ . '/../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann and contributors.
+
+Available test group(s):
+ - another-group
+ - bar
+ - baz
+ - foo
diff --git a/tests/unit/TextUI/Configuration/Xml/LoaderTest.php b/tests/unit/TextUI/Configuration/Xml/LoaderTest.php
index 67730eb39..3ad430e8b 100644
--- a/tests/unit/TextUI/Configuration/Xml/LoaderTest.php
+++ b/tests/unit/TextUI/Configuration/Xml/LoaderTest.php
@@ -383,6 +383,7 @@ public function testConfigurationForMultipleTestSuitesCanBeLoaded(): void
         $this->assertSame('>=', $first->directories()->asArray()[0]->phpVersionOperator()->asString());
         $this->assertCount(0, $first->files());
         $this->assertCount(0, $first->exclude());
+        $this->assertSame(['foo'], $first->directories()->asArray()[0]->groups());
 
         $second = $testSuites->asArray()[1];
         $this->assertSame('second', $second->name());
@@ -397,6 +398,8 @@ public function testConfigurationForMultipleTestSuitesCanBeLoaded(): void
         $this->assertSame('!=', $second->files()->asArray()[0]->phpVersionOperator()->asString());
         $this->assertCount(1, $second->exclude());
         $this->assertSame(TEST_FILES_PATH . 'tests/second/_files', $second->exclude()->asArray()[0]->path());
+        $this->assertSame(['bar'], $second->directories()->asArray()[0]->groups());
+        $this->assertSame(['baz'], $second->files()->asArray()[0]->groups());
     }
 
     private function configuration(string $filename): LoadedFromFileConfiguration
