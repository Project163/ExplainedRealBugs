diff --git a/PHPUnit/Framework/Constraint/IsEqual.php b/PHPUnit/Framework/Constraint/IsEqual.php
index bbe530a05..82357236b 100644
--- a/PHPUnit/Framework/Constraint/IsEqual.php
+++ b/PHPUnit/Framework/Constraint/IsEqual.php
@@ -176,15 +176,8 @@ protected function recursiveComparison($a, $b, $depth = 0)
             return TRUE;
         }
 
-        // Normal comparision for scalar values.
-        if ((!is_array($a) && !is_object($a)) ||
-            (!is_array($b) && !is_object($b))) {
-            if (is_numeric($a) && is_numeric($b)) {
-                // Optionally apply delta on numeric values.
-                return $this->numericComparison($a, $b);
-            } else {
-                return ($a == $b);
-            }
+        if (is_array($a) XOR is_array($b)) {
+            return FALSE;
         }
 
         if (is_object($a) XOR is_object($b)) {
@@ -196,6 +189,17 @@ protected function recursiveComparison($a, $b, $depth = 0)
             return FALSE;
         }
 
+        // Normal comparision for scalar values.
+        if ((!is_array($a) && !is_object($a)) ||
+            (!is_array($b) && !is_object($b))) {
+            if (is_numeric($a) && is_numeric($b)) {
+                // Optionally apply delta on numeric values.
+                return $this->numericComparison($a, $b);
+            } else {
+                return ($a == $b);
+            }
+        }
+
         if (is_object($a)) {
             $a = (array) $a;
             $b = (array) $b;
