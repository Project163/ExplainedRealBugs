diff --git a/ChangeLog-7.1.md b/ChangeLog-7.1.md
index 2682cae76..07853de23 100644
--- a/ChangeLog-7.1.md
+++ b/ChangeLog-7.1.md
@@ -4,6 +4,10 @@ All notable changes of the PHPUnit 7.1 release series are documented in this fil
 
 ## [7.1.0] - 2018-04-06
 
+### Added
+
+* Implemented [#3002](https://github.com/sebastianbergmann/phpunit/issues/3002): Support for test runner extensions
+
 ### Changed
 
 * `PHPUnit\Framework\Assert` is no longer searched for test methods
diff --git a/phpunit.xsd b/phpunit.xsd
index 3d54573c5..81690e13c 100644
--- a/phpunit.xsd
+++ b/phpunit.xsd
@@ -50,6 +50,11 @@
       <xs:element name="group" type="xs:string" maxOccurs="unbounded"/>
     </xs:sequence>
   </xs:complexType>
+  <xs:complexType name="extensionsType">
+    <xs:sequence>
+      <xs:element name="extension" type="objectType" maxOccurs="unbounded"/>
+    </xs:sequence>
+  </xs:complexType>
   <xs:complexType name="listenersType">
     <xs:sequence>
       <xs:element name="listener" type="objectType" maxOccurs="unbounded"/>
@@ -248,6 +253,7 @@
       <xs:element name="testdoxGroups" type="groupsType" minOccurs="0"/>
       <xs:element name="filter" type="filtersType" minOccurs="0"/>
       <xs:element name="logging" type="loggersType" minOccurs="0"/>
+      <xs:element name="extensions" type="extensionsType" minOccurs="0"/>
       <xs:element name="listeners" type="listenersType" minOccurs="0"/>
       <xs:element name="php" type="phpType" minOccurs="0"/>
     </xs:all>
diff --git a/src/Runner/Hook/AfterIncompleteTestHook.php b/src/Runner/Hook/AfterIncompleteTestHook.php
new file mode 100644
index 000000000..1b352d30c
--- /dev/null
+++ b/src/Runner/Hook/AfterIncompleteTestHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface AfterIncompleteTestHook extends TestHook
+{
+    public function executeAfterIncompleteTest(string $test, string $message, float $time): void;
+}
diff --git a/src/Runner/Hook/AfterLastTestHook.php b/src/Runner/Hook/AfterLastTestHook.php
new file mode 100644
index 000000000..b5d2e2efd
--- /dev/null
+++ b/src/Runner/Hook/AfterLastTestHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface AfterLastTestHook extends Hook
+{
+    public function executeAfterLastTest(): void;
+}
diff --git a/src/Runner/Hook/AfterRiskyTestHook.php b/src/Runner/Hook/AfterRiskyTestHook.php
new file mode 100644
index 000000000..0a7cb980a
--- /dev/null
+++ b/src/Runner/Hook/AfterRiskyTestHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface AfterRiskyTestHook extends TestHook
+{
+    public function executeAfterRiskyTest(string $test, string $message, float $time): void;
+}
diff --git a/src/Runner/Hook/AfterSkippedTestHook.php b/src/Runner/Hook/AfterSkippedTestHook.php
new file mode 100644
index 000000000..460c81d9e
--- /dev/null
+++ b/src/Runner/Hook/AfterSkippedTestHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface AfterSkippedTestHook extends TestHook
+{
+    public function executeAfterSkippedTest(string $test, string $message, float $time): void;
+}
diff --git a/src/Runner/Hook/AfterSuccessfulTestHook.php b/src/Runner/Hook/AfterSuccessfulTestHook.php
new file mode 100644
index 000000000..175f463db
--- /dev/null
+++ b/src/Runner/Hook/AfterSuccessfulTestHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface AfterSuccessfulTestHook extends TestHook
+{
+    public function executeAfterSuccessfulTest(string $test, float $time): void;
+}
diff --git a/src/Runner/Hook/AfterTestErrorHook.php b/src/Runner/Hook/AfterTestErrorHook.php
new file mode 100644
index 000000000..ff2ba0ed8
--- /dev/null
+++ b/src/Runner/Hook/AfterTestErrorHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface AfterTestErrorHook extends TestHook
+{
+    public function executeAfterTestError(string $test, string $message, float $time): void;
+}
diff --git a/src/Runner/Hook/AfterTestFailureHook.php b/src/Runner/Hook/AfterTestFailureHook.php
new file mode 100644
index 000000000..351667e52
--- /dev/null
+++ b/src/Runner/Hook/AfterTestFailureHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface AfterTestFailureHook extends TestHook
+{
+    public function executeAfterTestFailure(string $test, string $message, float $time): void;
+}
diff --git a/src/Runner/Hook/AfterTestWarningHook.php b/src/Runner/Hook/AfterTestWarningHook.php
new file mode 100644
index 000000000..19ec90875
--- /dev/null
+++ b/src/Runner/Hook/AfterTestWarningHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface AfterTestWarningHook extends TestHook
+{
+    public function executeAfterTestWarning(string $test, string $message, float $time): void;
+}
diff --git a/src/Runner/Hook/BeforeFirstTestHook.php b/src/Runner/Hook/BeforeFirstTestHook.php
new file mode 100644
index 000000000..99c4dbd2b
--- /dev/null
+++ b/src/Runner/Hook/BeforeFirstTestHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface BeforeFirstTestHook extends Hook
+{
+    public function executeBeforeFirstTest(): void;
+}
diff --git a/src/Runner/Hook/BeforeTestHook.php b/src/Runner/Hook/BeforeTestHook.php
new file mode 100644
index 000000000..a0383445b
--- /dev/null
+++ b/src/Runner/Hook/BeforeTestHook.php
@@ -0,0 +1,16 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface BeforeTestHook extends TestHook
+{
+    public function executeBeforeTest(string $test): void;
+}
diff --git a/src/Runner/Hook/Hook.php b/src/Runner/Hook/Hook.php
new file mode 100644
index 000000000..2eeaf5b59
--- /dev/null
+++ b/src/Runner/Hook/Hook.php
@@ -0,0 +1,15 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface Hook
+{
+}
diff --git a/src/Runner/Hook/TestHook.php b/src/Runner/Hook/TestHook.php
new file mode 100644
index 000000000..02d7fc6c0
--- /dev/null
+++ b/src/Runner/Hook/TestHook.php
@@ -0,0 +1,15 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+interface TestHook extends Hook
+{
+}
diff --git a/src/Runner/Hook/TestListenerAdapter.php b/src/Runner/Hook/TestListenerAdapter.php
new file mode 100644
index 000000000..5be8298fd
--- /dev/null
+++ b/src/Runner/Hook/TestListenerAdapter.php
@@ -0,0 +1,134 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+
+namespace PHPUnit\Runner;
+
+use PHPUnit\Framework\AssertionFailedError;
+use PHPUnit\Framework\Test;
+use PHPUnit\Framework\TestListener;
+use PHPUnit\Framework\TestSuite;
+use PHPUnit\Framework\Warning;
+use PHPUnit\Util\Test as TestUtil;
+
+final class TestListenerAdapter implements TestListener
+{
+    /**
+     * @var TestHook[]
+     */
+    private $hooks = [];
+
+    /**
+     * @var bool
+     */
+    private $lastTestWasNotSuccessful;
+
+    public function add(TestHook $hook): void
+    {
+        $this->hooks[] = $hook;
+    }
+
+    public function startTest(Test $test): void
+    {
+        foreach ($this->hooks as $hook) {
+            if ($hook instanceof BeforeTestHook) {
+                $hook->executeBeforeTest(TestUtil::describeAsString($test));
+            }
+        }
+
+        $this->lastTestWasNotSuccessful = false;
+    }
+
+    public function addError(Test $test, \Throwable $t, float $time): void
+    {
+        foreach ($this->hooks as $hook) {
+            if ($hook instanceof AfterTestErrorHook) {
+                $hook->executeAfterTestError(TestUtil::describeAsString($test), $t->getMessage(), $time);
+            }
+        }
+
+        $this->lastTestWasNotSuccessful = true;
+    }
+
+    public function addWarning(Test $test, Warning $e, float $time): void
+    {
+        foreach ($this->hooks as $hook) {
+            if ($hook instanceof AfterTestWarningHook) {
+                $hook->executeAfterTestWarning(TestUtil::describeAsString($test), $e->getMessage(), $time);
+            }
+        }
+
+        $this->lastTestWasNotSuccessful = true;
+    }
+
+    public function addFailure(Test $test, AssertionFailedError $e, float $time): void
+    {
+        foreach ($this->hooks as $hook) {
+            if ($hook instanceof AfterTestFailureHook) {
+                $hook->executeAfterTestFailure(TestUtil::describeAsString($test), $e->getMessage(), $time);
+            }
+        }
+
+        $this->lastTestWasNotSuccessful = true;
+    }
+
+    public function addIncompleteTest(Test $test, \Throwable $t, float $time): void
+    {
+        foreach ($this->hooks as $hook) {
+            if ($hook instanceof AfterIncompleteTestHook) {
+                $hook->executeAfterIncompleteTest(TestUtil::describeAsString($test), $t->getMessage(), $time);
+            }
+        }
+
+        $this->lastTestWasNotSuccessful = true;
+    }
+
+    public function addRiskyTest(Test $test, \Throwable $t, float $time): void
+    {
+        foreach ($this->hooks as $hook) {
+            if ($hook instanceof AfterRiskyTestHook) {
+                $hook->executeAfterRiskyTest(TestUtil::describeAsString($test), $t->getMessage(), $time);
+            }
+        }
+
+        $this->lastTestWasNotSuccessful = true;
+    }
+
+    public function addSkippedTest(Test $test, \Throwable $t, float $time): void
+    {
+        foreach ($this->hooks as $hook) {
+            if ($hook instanceof AfterSkippedTestHook) {
+                $hook->executeAfterSkippedTest(TestUtil::describeAsString($test), $t->getMessage(), $time);
+            }
+        }
+
+        $this->lastTestWasNotSuccessful = true;
+    }
+
+    public function endTest(Test $test, float $time): void
+    {
+        if ($this->lastTestWasNotSuccessful === true) {
+            return;
+        }
+
+        foreach ($this->hooks as $hook) {
+            if ($hook instanceof AfterSuccessfulTestHook) {
+                $hook->executeAfterSuccessfulTest(TestUtil::describeAsString($test), $time);
+            }
+        }
+    }
+
+    public function startTestSuite(TestSuite $suite): void
+    {
+    }
+
+    public function endTestSuite(TestSuite $suite): void
+    {
+    }
+}
diff --git a/src/TextUI/TestRunner.php b/src/TextUI/TestRunner.php
index cb49778a7..6d2fe31dd 100644
--- a/src/TextUI/TestRunner.php
+++ b/src/TextUI/TestRunner.php
@@ -18,12 +18,17 @@
 use PHPUnit\Framework\TestListener;
 use PHPUnit\Framework\TestResult;
 use PHPUnit\Framework\TestSuite;
+use PHPUnit\Runner\AfterLastTestHook;
 use PHPUnit\Runner\BaseTestRunner;
+use PHPUnit\Runner\BeforeFirstTestHook;
 use PHPUnit\Runner\Filter\ExcludeGroupFilterIterator;
 use PHPUnit\Runner\Filter\Factory;
 use PHPUnit\Runner\Filter\IncludeGroupFilterIterator;
 use PHPUnit\Runner\Filter\NameFilterIterator;
+use PHPUnit\Runner\Hook;
 use PHPUnit\Runner\StandardTestSuiteLoader;
+use PHPUnit\Runner\TestHook;
+use PHPUnit\Runner\TestListenerAdapter;
 use PHPUnit\Runner\TestSuiteLoader;
 use PHPUnit\Runner\Version;
 use PHPUnit\Util\Configuration;
@@ -86,6 +91,11 @@ class TestRunner extends BaseTestRunner
      */
     private $messagePrinted = false;
 
+    /**
+     * @var Hook[]
+     */
+    private $extensions = [];
+
     /**
      * @param TestSuiteLoader    $loader
      * @param CodeCoverageFilter $filter
@@ -183,6 +193,23 @@ public function doRun(Test $suite, array $arguments = [], $exit = true): TestRes
 
         $result = $this->createTestResult();
 
+        $listener       = new TestListenerAdapter;
+        $listenerNeeded = false;
+
+        foreach ($this->extensions as $extension) {
+            if ($extension instanceof TestHook) {
+                $listener->add($extension);
+
+                $listenerNeeded = true;
+            }
+        }
+
+        if ($listenerNeeded) {
+            $result->addListener($listener);
+        }
+
+        unset($listener, $listenerNeeded);
+
         if (!$arguments['convertErrorsToExceptions']) {
             $result->convertErrorsToExceptions(false);
         }
@@ -505,8 +532,20 @@ public function doRun(Test $suite, array $arguments = [], $exit = true): TestRes
             $suite->setRunTestInSeparateProcess($arguments['processIsolation']);
         }
 
+        foreach ($this->extensions as $extension) {
+            if ($extension instanceof BeforeFirstTestHook) {
+                $extension->executeBeforeFirstTest();
+            }
+        }
+
         $suite->run($result);
 
+        foreach ($this->extensions as $extension) {
+            if ($extension instanceof AfterLastTestHook) {
+                $extension->executeAfterLastTest();
+            }
+        }
+
         $result->flushListeners();
 
         if ($this->printer instanceof ResultPrinter) {
@@ -892,6 +931,34 @@ protected function handleConfiguration(array &$arguments): void
                 $arguments['excludeGroups'] = \array_diff($groupConfiguration['exclude'], $groupCliArgs);
             }
 
+            foreach ($arguments['configuration']->getExtensionConfiguration() as $extension) {
+                if (!\class_exists($extension['class'], false) && $extension['file'] !== '') {
+                    require_once $extension['file'];
+                }
+
+                if (!\class_exists($extension['class'])) {
+                    throw new Exception(
+                        \sprintf(
+                            'Class "%s" does not exist',
+                            $extension['class']
+                        )
+                    );
+                }
+
+                $extensionClass = new ReflectionClass($extension['class']);
+
+                if (!$extensionClass->implementsInterface(Hook::class)) {
+                    throw new Exception(
+                        \sprintf(
+                            'Class "%s" does not implement a PHPUnit\Runner\Hook interface',
+                            $extension['class']
+                        )
+                    );
+                }
+
+                $this->extensions[] = $extensionClass->newInstance();
+            }
+
             foreach ($arguments['configuration']->getListenerConfiguration() as $listener) {
                 if (!\class_exists($listener['class'], false) &&
                     $listener['file'] !== '') {
diff --git a/src/Util/Configuration.php b/src/Util/Configuration.php
index c1dcdd643..b4b741997 100644
--- a/src/Util/Configuration.php
+++ b/src/Util/Configuration.php
@@ -231,6 +231,31 @@ public function getFilename(): string
         return $this->filename;
     }
 
+    public function getExtensionConfiguration(): array
+    {
+        $result = [];
+
+        foreach ($this->xpath->query('extensions/extension') as $extension) {
+            /** @var DOMElement $extension */
+            $class = (string) $extension->getAttribute('class');
+            $file  = '';
+
+            if ($extension->getAttribute('file')) {
+                $file = $this->toAbsolutePath(
+                    (string) $extension->getAttribute('file'),
+                    true
+                );
+            }
+
+            $result[] = [
+                'class' => $class,
+                'file'  => $file
+            ];
+        }
+
+        return $result;
+    }
+
     /**
      * Returns the configuration for SUT filtering.
      *
diff --git a/tests/TextUI/_files/Extension.php b/tests/TextUI/_files/Extension.php
new file mode 100644
index 000000000..e7b0066ae
--- /dev/null
+++ b/tests/TextUI/_files/Extension.php
@@ -0,0 +1,66 @@
+<?php
+namespace PHPUnit\Test;
+
+use PHPUnit\Runner\AfterIncompleteTestHook;
+use PHPUnit\Runner\AfterLastTestHook;
+use PHPUnit\Runner\AfterRiskyTestHook;
+use PHPUnit\Runner\AfterSkippedTestHook;
+use PHPUnit\Runner\AfterSuccessfulTestHook;
+use PHPUnit\Runner\AfterTestErrorHook;
+use PHPUnit\Runner\AfterTestFailureHook;
+use PHPUnit\Runner\AfterTestWarningHook;
+use PHPUnit\Runner\BeforeTestHook;
+use PHPUnit\Runner\BeforeFirstTestHook;
+
+final class Extension implements BeforeFirstTestHook, BeforeTestHook, AfterSuccessfulTestHook, AfterSkippedTestHook, AfterRiskyTestHook, AfterIncompleteTestHook, AfterTestErrorHook, AfterTestWarningHook, AfterTestFailureHook, AfterLastTestHook
+{
+    public function executeBeforeFirstTest(): void
+    {
+        print __METHOD__ . PHP_EOL;
+    }
+
+    public function executeBeforeTest(string $test): void
+    {
+        print __METHOD__ . ': ' . $test . PHP_EOL;
+    }
+
+    public function executeAfterSuccessfulTest(string $test, float $time): void
+    {
+        print __METHOD__ . ': ' . $test . PHP_EOL;
+    }
+
+    public function executeAfterIncompleteTest(string $test, string $message, float $time): void
+    {
+        print __METHOD__ . ': ' . $test . ': ' . $message . PHP_EOL;
+    }
+
+    public function executeAfterRiskyTest(string $test, string $message, float $time): void
+    {
+        print __METHOD__ . ': ' . $test . ': ' . $message . PHP_EOL;
+    }
+
+    public function executeAfterSkippedTest(string $test, string $message, float $time): void
+    {
+        print __METHOD__ . ': ' . $test . ': ' . $message . PHP_EOL;
+    }
+
+    public function executeAfterTestError(string $test, string $message, float $time): void
+    {
+        print __METHOD__ . ': ' . $test . ': ' . $message . PHP_EOL;
+    }
+
+    public function executeAfterTestFailure(string $test, string $message, float $time): void
+    {
+        print __METHOD__ . ': ' . $test . ': ' . $message . PHP_EOL;
+    }
+
+    public function executeAfterTestWarning(string $test, string $message, float $time): void
+    {
+        print __METHOD__ . ': ' . $test . ': ' . $message . PHP_EOL;
+    }
+
+    public function executeAfterLastTest(): void
+    {
+        print __METHOD__ . PHP_EOL;
+    }
+}
diff --git a/tests/TextUI/_files/HookTest.php b/tests/TextUI/_files/HookTest.php
new file mode 100644
index 000000000..19fe80ff6
--- /dev/null
+++ b/tests/TextUI/_files/HookTest.php
@@ -0,0 +1,44 @@
+<?php declare(strict_types=1);
+namespace PHPUnit\Test;
+
+use PHPUnit\Framework\RiskyTestError;
+use PHPUnit\Framework\TestCase;
+use PHPUnit\Framework\Warning;
+
+final class HookTest extends TestCase
+{
+    public function testSuccess(): void
+    {
+        $this->assertTrue(true);
+    }
+
+    public function testFailure(): void
+    {
+        $this->assertTrue(false);
+    }
+
+    public function testError(): void
+    {
+        throw new \Exception('message');
+    }
+
+    public function testIncomplete(): void
+    {
+        $this->markTestIncomplete('message');
+    }
+
+    public function testRisky(): void
+    {
+        throw new RiskyTestError('message');
+    }
+
+    public function testSkipped(): void
+    {
+        $this->markTestSkipped('message');
+    }
+
+    public function testWarning(): void
+    {
+        throw new Warning('message');
+    }
+}
diff --git a/tests/TextUI/_files/NullPrinter.php b/tests/TextUI/_files/NullPrinter.php
new file mode 100644
index 000000000..3d298ff83
--- /dev/null
+++ b/tests/TextUI/_files/NullPrinter.php
@@ -0,0 +1,11 @@
+<?php
+namespace PHPUnit\Test;
+
+use PHPUnit\Util\Printer;
+use PHPUnit\Framework\TestListener;
+use PHPUnit\Framework\TestListenerDefaultImplementation;
+
+final class NullPrinter extends Printer implements TestListener
+{
+    use TestListenerDefaultImplementation;
+}
diff --git a/tests/TextUI/_files/hooks.xml b/tests/TextUI/_files/hooks.xml
new file mode 100644
index 000000000..78105dc46
--- /dev/null
+++ b/tests/TextUI/_files/hooks.xml
@@ -0,0 +1,8 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:noNamespaceSchemaLocation="https://schema.phpunit.de/7.1/phpunit.xsd"
+         printerClass="PHPUnit\Test\NullPrinter">
+    <extensions>
+        <extension class="PHPUnit\Test\Extension"/>
+    </extensions>
+</phpunit>
diff --git a/tests/TextUI/hooks.phpt b/tests/TextUI/hooks.phpt
new file mode 100644
index 000000000..778416426
--- /dev/null
+++ b/tests/TextUI/hooks.phpt
@@ -0,0 +1,30 @@
+--TEST--
+phpunit --configuration _files/hooks.xml HookTest _files/HookTest.php
+--FILE--
+<?php
+$_SERVER['argv'][1] = '--configuration';
+$_SERVER['argv'][2] = __DIR__ . '/_files/hooks.xml';
+$_SERVER['argv'][3] = 'HookTest';
+$_SERVER['argv'][4] = __DIR__ . '/_files/HookTest.php';
+
+require __DIR__ . '/../bootstrap.php';
+PHPUnit\TextUI\Command::main();
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann and contributors.
+
+PHPUnit\Test\Extension::executeBeforeFirstTest
+PHPUnit\Test\Extension::executeBeforeTest: PHPUnit\Test\HookTest::testSuccess
+PHPUnit\Test\Extension::executeAfterSuccessfulTest: PHPUnit\Test\HookTest::testSuccess
+PHPUnit\Test\Extension::executeBeforeTest: PHPUnit\Test\HookTest::testFailure
+PHPUnit\Test\Extension::executeAfterTestFailure: PHPUnit\Test\HookTest::testFailure: Failed asserting that false is true.
+PHPUnit\Test\Extension::executeBeforeTest: PHPUnit\Test\HookTest::testError
+PHPUnit\Test\Extension::executeAfterTestError: PHPUnit\Test\HookTest::testError: message
+PHPUnit\Test\Extension::executeBeforeTest: PHPUnit\Test\HookTest::testIncomplete
+PHPUnit\Test\Extension::executeAfterIncompleteTest: PHPUnit\Test\HookTest::testIncomplete: message
+PHPUnit\Test\Extension::executeBeforeTest: PHPUnit\Test\HookTest::testRisky
+PHPUnit\Test\Extension::executeAfterRiskyTest: PHPUnit\Test\HookTest::testRisky: message
+PHPUnit\Test\Extension::executeBeforeTest: PHPUnit\Test\HookTest::testSkipped
+PHPUnit\Test\Extension::executeAfterSkippedTest: PHPUnit\Test\HookTest::testSkipped: message
+PHPUnit\Test\Extension::executeBeforeTest: PHPUnit\Test\HookTest::testWarning
+PHPUnit\Test\Extension::executeAfterTestWarning: PHPUnit\Test\HookTest::testWarning: message
+PHPUnit\Test\Extension::executeAfterLastTest
