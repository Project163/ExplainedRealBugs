diff --git a/tests/_files/phar-extension/phpunit.xml b/tests/_files/phar-extension/phpunit.xml
deleted file mode 100644
index 6c4ae3005..000000000
--- a/tests/_files/phar-extension/phpunit.xml
+++ /dev/null
@@ -1,9 +0,0 @@
-<?xml version="1.0" encoding="UTF-8"?>
-<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
-         xsi:noNamespaceSchemaLocation="../../../phpunit.xsd"
-         extensionsDirectory="tools/phpunit.d">
-    <testsuite name="default">
-        <directory suffix="Test.php">tests</directory>
-    </testsuite>
-</phpunit>
-
diff --git a/tests/_files/phar-extension/tools/phpunit.d/phpunit-test-extension-1.0.0.phar b/tests/_files/phar-extension/tools/phpunit.d/phpunit-test-extension-1.0.0.phar
deleted file mode 100644
index bde1517c0..000000000
Binary files a/tests/_files/phar-extension/tools/phpunit.d/phpunit-test-extension-1.0.0.phar and /dev/null differ
diff --git a/tests/end-to-end/_files/phar-extension/phpunit.xml b/tests/end-to-end/_files/phar-extension/phpunit.xml
new file mode 100644
index 000000000..b8f869079
--- /dev/null
+++ b/tests/end-to-end/_files/phar-extension/phpunit.xml
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:noNamespaceSchemaLocation="../../../../../phpunit.xsd"
+         extensionsDirectory="tools/phpunit.d">
+    <extensions>
+        <bootstrap class="PHPUnit\TestFixture\MyExtension\MyExtensionBootstrap">
+            <parameter name="message" value="the-message"/>
+        </bootstrap>
+    </extensions>
+
+    <testsuites>
+        <testsuite name="default">
+            <directory>tests</directory>
+        </testsuite>
+    </testsuites>
+</phpunit>
diff --git a/tests/_files/phar-extension/tests/ExtensionTest.php b/tests/end-to-end/_files/phar-extension/tests/Test.php
similarity index 71%
rename from tests/_files/phar-extension/tests/ExtensionTest.php
rename to tests/end-to-end/_files/phar-extension/tests/Test.php
index 93422bea6..a6c86c857 100644
--- a/tests/_files/phar-extension/tests/ExtensionTest.php
+++ b/tests/end-to-end/_files/phar-extension/tests/Test.php
@@ -7,14 +7,14 @@
  * For the full copyright and license information, please view the LICENSE
  * file that was distributed with this source code.
  */
-namespace PHPUnit\TestFixture\TestExtension;
+namespace PHPUnit\TestFixture\Event\MyExtension;
 
 use PHPUnit\Framework\TestCase;
 
-final class ExtensionTest extends TestCase
+final class Test extends TestCase
 {
     public function testOne(): void
     {
-        $this->assertTrue((new Test)->works());
+        $this->assertTrue(true);
     }
 }
diff --git a/tests/end-to-end/_files/phar-extension/tools/phpunit.d/phpunit-test-extension-1.0.0.phar b/tests/end-to-end/_files/phar-extension/tools/phpunit.d/phpunit-test-extension-1.0.0.phar
new file mode 100644
index 000000000..f5f73240c
Binary files /dev/null and b/tests/end-to-end/_files/phar-extension/tools/phpunit.d/phpunit-test-extension-1.0.0.phar differ
diff --git a/tests/end-to-end/event/phar-extension.phpt b/tests/end-to-end/event/phar-extension.phpt
index 973c73048..7c6eea7b2 100644
--- a/tests/end-to-end/event/phar-extension.phpt
+++ b/tests/end-to-end/event/phar-extension.phpt
@@ -14,7 +14,7 @@ $_SERVER['argv'][] = '--no-output';
 $_SERVER['argv'][] = '--log-events-text';
 $_SERVER['argv'][] = $traceFile;
 $_SERVER['argv'][] = '--configuration';
-$_SERVER['argv'][] = __DIR__ . '/../../_files/phar-extension';
+$_SERVER['argv'][] = __DIR__ . '/../_files/phar-extension/phpunit.xml';
 
 require_once __DIR__ . '/../../bootstrap.php';
 
@@ -28,19 +28,20 @@ PHPUnit Started (PHPUnit %s using %s)
 Test Runner Configured
 Test Suite Loaded (1 test)
 Extension Loaded from PHAR (phpunit/phpunit-test-extension 1.0.0)
+Extension Bootstrapped (PHPUnit\TestFixture\MyExtension\MyExtensionBootstrap)
 Event Facade Sealed
 Test Runner Started
 Test Suite Sorted
 Test Runner Execution Started (1 test)
 Test Suite Started (1 test)
 Test Suite Started (default, 1 test)
-Test Suite Started (PHPUnit\TestFixture\TestExtension\ExtensionTest, 1 test)
-Test Preparation Started (PHPUnit\TestFixture\TestExtension\ExtensionTest::testOne)
-Test Prepared (PHPUnit\TestFixture\TestExtension\ExtensionTest::testOne)
+Test Suite Started (PHPUnit\TestFixture\Event\MyExtension\Test, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\Event\MyExtension\Test::testOne)
+Test Prepared (PHPUnit\TestFixture\Event\MyExtension\Test::testOne)
 Assertion Succeeded (Constraint: is true, Value: true)
-Test Passed (PHPUnit\TestFixture\TestExtension\ExtensionTest::testOne)
-Test Finished (PHPUnit\TestFixture\TestExtension\ExtensionTest::testOne)
-Test Suite Finished (PHPUnit\TestFixture\TestExtension\ExtensionTest, 1 test)
+Test Passed (PHPUnit\TestFixture\Event\MyExtension\Test::testOne)
+Test Finished (PHPUnit\TestFixture\Event\MyExtension\Test::testOne)
+Test Suite Finished (PHPUnit\TestFixture\Event\MyExtension\Test, 1 test)
 Test Suite Finished (default, 1 test)
 Test Suite Finished (1 test)
 Test Runner Execution Finished
diff --git a/tests/end-to-end/generic/phar-extension-suppressed.phpt b/tests/end-to-end/generic/phar-extension-suppressed.phpt
index e3428774d..e6176bfe2 100644
--- a/tests/end-to-end/generic/phar-extension-suppressed.phpt
+++ b/tests/end-to-end/generic/phar-extension-suppressed.phpt
@@ -1,5 +1,5 @@
 --TEST--
-phpunit --configuration tests/_files/phar-extension --no-extensions
+phpunit --configuration tests/_files/phar-extension-bootstrap/phpunit.xml --no-extensions
 --SKIPIF--
 <?php declare(strict_types=1);
 if (extension_loaded('xdebug')) {
@@ -9,7 +9,7 @@ if (extension_loaded('xdebug')) {
 <?php declare(strict_types=1);
 $_SERVER['argv'][] = '--do-not-cache-result';
 $_SERVER['argv'][] = '--configuration';
-$_SERVER['argv'][] = __DIR__ . '/../../_files/phar-extension';
+$_SERVER['argv'][] = __DIR__ . '/../_files/phar-extension/phpunit.xml';
 $_SERVER['argv'][] = '--no-extensions';
 
 require_once __DIR__ . '/../../bootstrap.php';
@@ -17,19 +17,4 @@ require_once __DIR__ . '/../../bootstrap.php';
 --EXPECTF--
 PHPUnit %s by Sebastian Bergmann and contributors.
 
-Runtime:       %s
-Configuration: %s%ephar-extension%ephpunit.xml
-
-E                                                                   1 / 1 (100%)
-
-Time: %s, Memory: %s
-
-There was 1 error:
-
-1) PHPUnit\TestFixture\TestExtension\ExtensionTest::testOne
-Error: Class %sPHPUnit\TestFixture\TestExtension\Test%s not found
-
-%sExtensionTest.php:%d
-
-ERRORS!
-Tests: 1, Assertions: 0, Errors: 1.
+Error while bootstrapping extension: Class "PHPUnit\TestFixture\MyExtension\MyExtensionBootstrap" does not exist
diff --git a/tests/end-to-end/generic/phar-extension.phpt b/tests/end-to-end/generic/phar-extension.phpt
deleted file mode 100644
index 27f233ceb..000000000
--- a/tests/end-to-end/generic/phar-extension.phpt
+++ /dev/null
@@ -1,22 +0,0 @@
---TEST--
-phpunit --configuration tests/_files/phar-extension
---FILE--
-<?php declare(strict_types=1);
-$_SERVER['argv'][] = '--do-not-cache-result';
-$_SERVER['argv'][] = '--configuration';
-$_SERVER['argv'][] = __DIR__ . '/../../_files/phar-extension';
-
-require_once __DIR__ . '/../../bootstrap.php';
-(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
---EXPECTF--
-PHPUnit %s by Sebastian Bergmann and contributors.
-
-Runtime:       %s
-Configuration: %s%ephar-extension%ephpunit.xml
-Extension:     phpunit/phpunit-test-extension 1.0.0
-
-.                                                                   1 / 1 (100%)
-
-Time: %s, Memory: %s
-
-OK (1 test, 1 assertion)
