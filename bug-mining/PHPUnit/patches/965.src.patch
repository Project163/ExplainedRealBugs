diff --git a/ChangeLog-12.5.md b/ChangeLog-12.5.md
index afc4e8cfe..8fd29dcf7 100644
--- a/ChangeLog-12.5.md
+++ b/ChangeLog-12.5.md
@@ -4,4 +4,8 @@ All notable changes of the PHPUnit 12.5 release series are documented in this fi
 
 ## [12.5.0] - 2025-12-05
 
+### Added
+
+* [#6376](https://github.com/sebastianbergmann/phpunit/issues/6376): `--all` CLI option to ignore test selection configured in XML configuration file
+
 [12.5.0]: https://github.com/sebastianbergmann/phpunit/compare/12.4...main
diff --git a/src/TextUI/Command/Commands/ListTestSuitesCommand.php b/src/TextUI/Command/Commands/ListTestSuitesCommand.php
index 7f5c3b51e..fcaf7765a 100644
--- a/src/TextUI/Command/Commands/ListTestSuitesCommand.php
+++ b/src/TextUI/Command/Commands/ListTestSuitesCommand.php
@@ -69,10 +69,6 @@ private function warnAboutConflictingOptions(): string
 
         $configuration = Registry::get();
 
-        if ($configuration->hasDefaultTestSuite()) {
-            $buffer .= 'The defaultTestSuite (XML) and --list-suites (CLI) options cannot be combined, only the default test suite is shown' . PHP_EOL;
-        }
-
         if ($configuration->includeTestSuites() !== [] && !$configuration->hasDefaultTestSuite()) {
             $buffer .= 'The --testsuite and --list-suites options cannot be combined, --testsuite is ignored' . PHP_EOL;
         }
diff --git a/src/TextUI/Configuration/Cli/Builder.php b/src/TextUI/Configuration/Cli/Builder.php
index c3d0e2a4b..465014ea2 100644
--- a/src/TextUI/Configuration/Cli/Builder.php
+++ b/src/TextUI/Configuration/Cli/Builder.php
@@ -35,6 +35,7 @@ final class Builder
      * @var non-empty-list<non-empty-string>
      */
     private const array LONG_OPTIONS = [
+        'all',
         'atleast-version=',
         'bootstrap=',
         'cache-result',
@@ -190,6 +191,7 @@ public function fromParameters(array $parameters): Configuration
             );
         }
 
+        $all                               = null;
         $atLeastVersion                    = null;
         $backupGlobals                     = null;
         $backupStaticProperties            = null;
@@ -318,6 +320,65 @@ public function fromParameters(array $parameters): Configuration
             $optionAllowedMultipleTimes = false;
 
             switch ($option[0]) {
+                case '--all':
+                    $this->warnWhenOptionsConflict(
+                        $testSuite,
+                        '--all',
+                        '--testsuite',
+                    );
+
+                    $this->warnWhenOptionsConflict(
+                        $excludeTestSuite,
+                        '--all',
+                        '--exclude-testsuite',
+                    );
+
+                    $this->warnWhenOptionsConflict(
+                        $groups,
+                        '--all',
+                        '--group',
+                    );
+
+                    $this->warnWhenOptionsConflict(
+                        $excludeGroups,
+                        '--all',
+                        '--exclude-group',
+                    );
+
+                    $this->warnWhenOptionsConflict(
+                        $testsCovering,
+                        '--all',
+                        '--covers',
+                    );
+
+                    $this->warnWhenOptionsConflict(
+                        $testsUsing,
+                        '--all',
+                        '--uses',
+                    );
+
+                    $this->warnWhenOptionsConflict(
+                        $testsRequiringPhpExtension,
+                        '--all',
+                        '--requires-php-extension',
+                    );
+
+                    $this->warnWhenOptionsConflict(
+                        $filter,
+                        '--all',
+                        '--filter',
+                    );
+
+                    $this->warnWhenOptionsConflict(
+                        $excludeFilter,
+                        '--all',
+                        '--exclude-filter',
+                    );
+
+                    $all = true;
+
+                    break;
+
                 case '--colors':
                     $colors = \PHPUnit\TextUI\Configuration\Configuration::COLOR_AUTO;
 
@@ -452,21 +513,45 @@ public function fromParameters(array $parameters): Configuration
                     break;
 
                 case '--filter':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--filter',
+                        '--all',
+                    );
+
                     $filter = $option[1];
 
                     break;
 
                 case '--exclude-filter':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--exclude-filter',
+                        '--all',
+                    );
+
                     $excludeFilter = $option[1];
 
                     break;
 
                 case '--testsuite':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--testsuite',
+                        '--all',
+                    );
+
                     $testSuite = $option[1];
 
                     break;
 
                 case '--exclude-testsuite':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--exclude-testsuite',
+                        '--all',
+                    );
+
                     $excludeTestSuite = $option[1];
 
                     break;
@@ -505,6 +590,12 @@ public function fromParameters(array $parameters): Configuration
                     break;
 
                 case '--group':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--group',
+                        '--all',
+                    );
+
                     if ($groups === null) {
                         $groups = [];
                     }
@@ -516,6 +607,12 @@ public function fromParameters(array $parameters): Configuration
                     break;
 
                 case '--exclude-group':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--exclude-group',
+                        '--all',
+                    );
+
                     if ($excludeGroups === null) {
                         $excludeGroups = [];
                     }
@@ -527,6 +624,12 @@ public function fromParameters(array $parameters): Configuration
                     break;
 
                 case '--covers':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--covers',
+                        '--all',
+                    );
+
                     if ($testsCovering === null) {
                         $testsCovering = [];
                     }
@@ -538,6 +641,12 @@ public function fromParameters(array $parameters): Configuration
                     break;
 
                 case '--uses':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--uses',
+                        '--all',
+                    );
+
                     if ($testsUsing === null) {
                         $testsUsing = [];
                     }
@@ -549,6 +658,12 @@ public function fromParameters(array $parameters): Configuration
                     break;
 
                 case '--requires-php-extension':
+                    $this->warnWhenOptionsConflict(
+                        $all,
+                        '--requires-php-extension',
+                        '--all',
+                    );
+
                     if ($testsRequiringPhpExtension === null) {
                         $testsRequiringPhpExtension = [];
                     }
@@ -1242,6 +1357,7 @@ public function fromParameters(array $parameters): Configuration
 
         return new Configuration(
             $options[1],
+            $all,
             $atLeastVersion,
             $backupGlobals,
             $backupStaticProperties,
@@ -1392,9 +1508,10 @@ private function markProcessed(string $option): void
     }
 
     /**
-     * @param non-empty-string $option
+     * @param null|array<non-empty-string>|bool|string $current
+     * @param non-empty-string                         $option
      */
-    private function warnWhenOptionsConflict(?bool $current, string $option, string $opposite): void
+    private function warnWhenOptionsConflict(null|array|bool|string $current, string $option, string $opposite): void
     {
         if ($current === null) {
             return;
diff --git a/src/TextUI/Configuration/Cli/Configuration.php b/src/TextUI/Configuration/Cli/Configuration.php
index d2d0948f8..e637281c6 100644
--- a/src/TextUI/Configuration/Cli/Configuration.php
+++ b/src/TextUI/Configuration/Cli/Configuration.php
@@ -22,6 +22,7 @@
      * @var list<non-empty-string>
      */
     private array $arguments;
+    private ?bool $all;
     private ?string $atLeastVersion;
     private ?bool $backupGlobals;
     private ?bool $backupStaticProperties;
@@ -194,9 +195,10 @@
      * @param ?non-empty-list<non-empty-string>                    $coverageFilter
      * @param ?non-empty-list<non-empty-string>                    $extensions
      */
-    public function __construct(array $arguments, ?string $atLeastVersion, ?bool $backupGlobals, ?bool $backupStaticProperties, ?bool $beStrictAboutChangesToGlobalState, ?string $bootstrap, ?string $cacheDirectory, ?bool $cacheResult, bool $checkPhpConfiguration, bool $checkVersion, ?string $colors, null|int|string $columns, ?string $configurationFile, ?string $coverageClover, ?string $coverageCobertura, ?string $coverageCrap4J, ?string $coverageHtml, ?string $coverageOpenClover, ?string $coveragePhp, ?string $coverageText, ?bool $coverageTextShowUncoveredFiles, ?bool $coverageTextShowOnlySummary, ?string $coverageXml, ?bool $pathCoverage, bool $warmCoverageCache, ?int $defaultTimeLimit, ?bool $disableCodeCoverageIgnore, ?bool $disallowTestOutput, ?bool $enforceTimeLimit, ?array $excludeGroups, ?int $executionOrder, ?int $executionOrderDefects, ?bool $failOnAllIssues, ?bool $failOnDeprecation, ?bool $failOnPhpunitDeprecation, ?bool $failOnPhpunitNotice, ?bool $failOnPhpunitWarning, ?bool $failOnEmptyTestSuite, ?bool $failOnIncomplete, ?bool $failOnNotice, ?bool $failOnRisky, ?bool $failOnSkipped, ?bool $failOnWarning, ?bool $doNotFailOnDeprecation, ?bool $doNotFailOnPhpunitDeprecation, ?bool $doNotFailOnPhpunitNotice, ?bool $doNotFailOnPhpunitWarning, ?bool $doNotFailOnEmptyTestSuite, ?bool $doNotFailOnIncomplete, ?bool $doNotFailOnNotice, ?bool $doNotFailOnRisky, ?bool $doNotFailOnSkipped, ?bool $doNotFailOnWarning, ?bool $stopOnDefect, ?bool $stopOnDeprecation, ?string $specificDeprecationToStopOn, ?bool $stopOnError, ?bool $stopOnFailure, ?bool $stopOnIncomplete, ?bool $stopOnNotice, ?bool $stopOnRisky, ?bool $stopOnSkipped, ?bool $stopOnWarning, ?string $filter, ?string $excludeFilter, ?string $generateBaseline, ?string $useBaseline, bool $ignoreBaseline, bool $generateConfiguration, bool $migrateConfiguration, ?array $groups, ?array $testsCovering, ?array $testsUsing, ?array $testsRequiringPhpExtension, bool $help, ?string $includePath, ?array $iniSettings, ?string $junitLogfile, ?string $otrLogfile, ?bool $includeGitInformation, bool $listGroups, bool $listSuites, bool $listTestFiles, bool $listTests, ?string $listTestsXml, ?bool $noCoverage, ?bool $noExtensions, ?bool $noOutput, ?bool $noProgress, ?bool $noResults, ?bool $noLogging, ?bool $processIsolation, ?int $randomOrderSeed, ?bool $reportUselessTests, ?bool $resolveDependencies, ?bool $reverseList, ?bool $stderr, ?bool $strictCoverage, ?string $teamcityLogfile, ?string $testdoxHtmlFile, ?string $testdoxTextFile, ?array $testSuffixes, ?string $testSuite, ?string $excludeTestSuite, bool $useDefaultConfiguration, ?bool $displayDetailsOnAllIssues, ?bool $displayDetailsOnIncompleteTests, ?bool $displayDetailsOnSkippedTests, ?bool $displayDetailsOnTestsThatTriggerDeprecations, ?bool $displayDetailsOnPhpunitDeprecations, ?bool $displayDetailsOnPhpunitNotices, ?bool $displayDetailsOnTestsThatTriggerErrors, ?bool $displayDetailsOnTestsThatTriggerNotices, ?bool $displayDetailsOnTestsThatTriggerWarnings, bool $version, ?array $coverageFilter, ?string $logEventsText, ?string $logEventsVerboseText, ?bool $printerTeamCity, ?bool $testdoxPrinter, ?bool $testdoxPrinterSummary, bool $debug, bool $withTelemetry, ?array $extensions)
+    public function __construct(array $arguments, ?bool $all, ?string $atLeastVersion, ?bool $backupGlobals, ?bool $backupStaticProperties, ?bool $beStrictAboutChangesToGlobalState, ?string $bootstrap, ?string $cacheDirectory, ?bool $cacheResult, bool $checkPhpConfiguration, bool $checkVersion, ?string $colors, null|int|string $columns, ?string $configurationFile, ?string $coverageClover, ?string $coverageCobertura, ?string $coverageCrap4J, ?string $coverageHtml, ?string $coverageOpenClover, ?string $coveragePhp, ?string $coverageText, ?bool $coverageTextShowUncoveredFiles, ?bool $coverageTextShowOnlySummary, ?string $coverageXml, ?bool $pathCoverage, bool $warmCoverageCache, ?int $defaultTimeLimit, ?bool $disableCodeCoverageIgnore, ?bool $disallowTestOutput, ?bool $enforceTimeLimit, ?array $excludeGroups, ?int $executionOrder, ?int $executionOrderDefects, ?bool $failOnAllIssues, ?bool $failOnDeprecation, ?bool $failOnPhpunitDeprecation, ?bool $failOnPhpunitNotice, ?bool $failOnPhpunitWarning, ?bool $failOnEmptyTestSuite, ?bool $failOnIncomplete, ?bool $failOnNotice, ?bool $failOnRisky, ?bool $failOnSkipped, ?bool $failOnWarning, ?bool $doNotFailOnDeprecation, ?bool $doNotFailOnPhpunitDeprecation, ?bool $doNotFailOnPhpunitNotice, ?bool $doNotFailOnPhpunitWarning, ?bool $doNotFailOnEmptyTestSuite, ?bool $doNotFailOnIncomplete, ?bool $doNotFailOnNotice, ?bool $doNotFailOnRisky, ?bool $doNotFailOnSkipped, ?bool $doNotFailOnWarning, ?bool $stopOnDefect, ?bool $stopOnDeprecation, ?string $specificDeprecationToStopOn, ?bool $stopOnError, ?bool $stopOnFailure, ?bool $stopOnIncomplete, ?bool $stopOnNotice, ?bool $stopOnRisky, ?bool $stopOnSkipped, ?bool $stopOnWarning, ?string $filter, ?string $excludeFilter, ?string $generateBaseline, ?string $useBaseline, bool $ignoreBaseline, bool $generateConfiguration, bool $migrateConfiguration, ?array $groups, ?array $testsCovering, ?array $testsUsing, ?array $testsRequiringPhpExtension, bool $help, ?string $includePath, ?array $iniSettings, ?string $junitLogfile, ?string $otrLogfile, ?bool $includeGitInformation, bool $listGroups, bool $listSuites, bool $listTestFiles, bool $listTests, ?string $listTestsXml, ?bool $noCoverage, ?bool $noExtensions, ?bool $noOutput, ?bool $noProgress, ?bool $noResults, ?bool $noLogging, ?bool $processIsolation, ?int $randomOrderSeed, ?bool $reportUselessTests, ?bool $resolveDependencies, ?bool $reverseList, ?bool $stderr, ?bool $strictCoverage, ?string $teamcityLogfile, ?string $testdoxHtmlFile, ?string $testdoxTextFile, ?array $testSuffixes, ?string $testSuite, ?string $excludeTestSuite, bool $useDefaultConfiguration, ?bool $displayDetailsOnAllIssues, ?bool $displayDetailsOnIncompleteTests, ?bool $displayDetailsOnSkippedTests, ?bool $displayDetailsOnTestsThatTriggerDeprecations, ?bool $displayDetailsOnPhpunitDeprecations, ?bool $displayDetailsOnPhpunitNotices, ?bool $displayDetailsOnTestsThatTriggerErrors, ?bool $displayDetailsOnTestsThatTriggerNotices, ?bool $displayDetailsOnTestsThatTriggerWarnings, bool $version, ?array $coverageFilter, ?string $logEventsText, ?string $logEventsVerboseText, ?bool $printerTeamCity, ?bool $testdoxPrinter, ?bool $testdoxPrinterSummary, bool $debug, bool $withTelemetry, ?array $extensions)
     {
         $this->arguments                                    = $arguments;
+        $this->all                                          = $all;
         $this->atLeastVersion                               = $atLeastVersion;
         $this->backupGlobals                                = $backupGlobals;
         $this->backupStaticProperties                       = $backupStaticProperties;
@@ -330,6 +332,26 @@ public function arguments(): array
         return $this->arguments;
     }
 
+    /**
+     * @phpstan-assert-if-true !null $this->all
+     */
+    public function hasAll(): bool
+    {
+        return $this->all !== null;
+    }
+
+    /**
+     * @throws Exception
+     */
+    public function all(): bool
+    {
+        if (!$this->hasAll()) {
+            throw new Exception;
+        }
+
+        return $this->all;
+    }
+
     /**
      * @phpstan-assert-if-true !null $this->atLeastVersion
      */
diff --git a/src/TextUI/Configuration/Configuration.php b/src/TextUI/Configuration/Configuration.php
index a6dfe62aa..c76c29730 100644
--- a/src/TextUI/Configuration/Configuration.php
+++ b/src/TextUI/Configuration/Configuration.php
@@ -179,6 +179,7 @@
     private string $includeTestSuite;
     private string $excludeTestSuite;
     private ?string $defaultTestSuite;
+    private bool $ignoreTestSelectionInXmlConfiguration;
 
     /**
      * @var non-empty-list<non-empty-string>
@@ -214,7 +215,7 @@
      * @param null|non-empty-string                                                       $generateBaseline
      * @param non-negative-int                                                            $shortenArraysForExportThreshold
      */
-    public function __construct(array $cliArguments, ?string $configurationFile, ?string $bootstrap, array $bootstrapForTestSuite, bool $cacheResult, ?string $cacheDirectory, ?string $coverageCacheDirectory, Source $source, string $testResultCacheFile, ?string $coverageClover, ?string $coverageCobertura, ?string $coverageCrap4j, int $coverageCrap4jThreshold, ?string $coverageHtml, int $coverageHtmlLowUpperBound, int $coverageHtmlHighLowerBound, string $coverageHtmlColorSuccessLow, string $coverageHtmlColorSuccessMedium, string $coverageHtmlColorSuccessHigh, string $coverageHtmlColorWarning, string $coverageHtmlColorDanger, ?string $coverageHtmlCustomCssFile, ?string $coverageOpenClover, ?string $coveragePhp, ?string $coverageText, bool $coverageTextShowUncoveredFiles, bool $coverageTextShowOnlySummary, ?string $coverageXml, bool $pathCoverage, bool $ignoreDeprecatedCodeUnitsFromCodeCoverage, bool $disableCodeCoverageIgnore, bool $failOnAllIssues, bool $failOnDeprecation, bool $failOnPhpunitDeprecation, bool $failOnPhpunitNotice, bool $failOnPhpunitWarning, bool $failOnEmptyTestSuite, bool $failOnIncomplete, bool $failOnNotice, bool $failOnRisky, bool $failOnSkipped, bool $failOnWarning, bool $doNotFailOnDeprecation, bool $doNotFailOnPhpunitDeprecation, bool $doNotFailOnPhpunitNotice, bool $doNotFailOnPhpunitWarning, bool $doNotFailOnEmptyTestSuite, bool $doNotFailOnIncomplete, bool $doNotFailOnNotice, bool $doNotFailOnRisky, bool $doNotFailOnSkipped, bool $doNotFailOnWarning, bool $stopOnDefect, bool $stopOnDeprecation, ?string $specificDeprecationToStopOn, bool $stopOnError, bool $stopOnFailure, bool $stopOnIncomplete, bool $stopOnNotice, bool $stopOnRisky, bool $stopOnSkipped, bool $stopOnWarning, bool $outputToStandardErrorStream, int $columns, bool $noExtensions, ?string $pharExtensionDirectory, array $extensionBootstrappers, bool $backupGlobals, bool $backupStaticProperties, bool $beStrictAboutChangesToGlobalState, bool $colors, bool $processIsolation, bool $enforceTimeLimit, int $defaultTimeLimit, int $timeoutForSmallTests, int $timeoutForMediumTests, int $timeoutForLargeTests, bool $reportUselessTests, bool $strictCoverage, bool $disallowTestOutput, bool $displayDetailsOnAllIssues, bool $displayDetailsOnIncompleteTests, bool $displayDetailsOnSkippedTests, bool $displayDetailsOnTestsThatTriggerDeprecations, bool $displayDetailsOnPhpunitDeprecations, bool $displayDetailsOnPhpunitNotices, bool $displayDetailsOnTestsThatTriggerErrors, bool $displayDetailsOnTestsThatTriggerNotices, bool $displayDetailsOnTestsThatTriggerWarnings, bool $reverseDefectList, bool $requireCoverageMetadata, bool $noProgress, bool $noResults, bool $noOutput, int $executionOrder, int $executionOrderDefects, bool $resolveDependencies, ?string $logfileTeamcity, ?string $logfileJunit, ?string $logfileOtr, bool $includeGitInformationInOtrLogfile, ?string $logfileTestdoxHtml, ?string $logfileTestdoxText, ?string $logEventsText, ?string $logEventsVerboseText, bool $teamCityOutput, bool $testDoxOutput, bool $testDoxOutputSummary, ?array $testsCovering, ?array $testsUsing, ?array $testsRequiringPhpExtension, ?string $filter, ?string $excludeFilter, array $groups, array $excludeGroups, int $randomOrderSeed, bool $includeUncoveredFiles, TestSuiteCollection $testSuite, string $includeTestSuite, string $excludeTestSuite, ?string $defaultTestSuite, array $testSuffixes, Php $php, bool $controlGarbageCollector, int $numberOfTestsBeforeGarbageCollection, ?string $generateBaseline, bool $debug, bool $withTelemetry, int $shortenArraysForExportThreshold)
+    public function __construct(array $cliArguments, ?string $configurationFile, ?string $bootstrap, array $bootstrapForTestSuite, bool $cacheResult, ?string $cacheDirectory, ?string $coverageCacheDirectory, Source $source, string $testResultCacheFile, ?string $coverageClover, ?string $coverageCobertura, ?string $coverageCrap4j, int $coverageCrap4jThreshold, ?string $coverageHtml, int $coverageHtmlLowUpperBound, int $coverageHtmlHighLowerBound, string $coverageHtmlColorSuccessLow, string $coverageHtmlColorSuccessMedium, string $coverageHtmlColorSuccessHigh, string $coverageHtmlColorWarning, string $coverageHtmlColorDanger, ?string $coverageHtmlCustomCssFile, ?string $coverageOpenClover, ?string $coveragePhp, ?string $coverageText, bool $coverageTextShowUncoveredFiles, bool $coverageTextShowOnlySummary, ?string $coverageXml, bool $pathCoverage, bool $ignoreDeprecatedCodeUnitsFromCodeCoverage, bool $disableCodeCoverageIgnore, bool $failOnAllIssues, bool $failOnDeprecation, bool $failOnPhpunitDeprecation, bool $failOnPhpunitNotice, bool $failOnPhpunitWarning, bool $failOnEmptyTestSuite, bool $failOnIncomplete, bool $failOnNotice, bool $failOnRisky, bool $failOnSkipped, bool $failOnWarning, bool $doNotFailOnDeprecation, bool $doNotFailOnPhpunitDeprecation, bool $doNotFailOnPhpunitNotice, bool $doNotFailOnPhpunitWarning, bool $doNotFailOnEmptyTestSuite, bool $doNotFailOnIncomplete, bool $doNotFailOnNotice, bool $doNotFailOnRisky, bool $doNotFailOnSkipped, bool $doNotFailOnWarning, bool $stopOnDefect, bool $stopOnDeprecation, ?string $specificDeprecationToStopOn, bool $stopOnError, bool $stopOnFailure, bool $stopOnIncomplete, bool $stopOnNotice, bool $stopOnRisky, bool $stopOnSkipped, bool $stopOnWarning, bool $outputToStandardErrorStream, int $columns, bool $noExtensions, ?string $pharExtensionDirectory, array $extensionBootstrappers, bool $backupGlobals, bool $backupStaticProperties, bool $beStrictAboutChangesToGlobalState, bool $colors, bool $processIsolation, bool $enforceTimeLimit, int $defaultTimeLimit, int $timeoutForSmallTests, int $timeoutForMediumTests, int $timeoutForLargeTests, bool $reportUselessTests, bool $strictCoverage, bool $disallowTestOutput, bool $displayDetailsOnAllIssues, bool $displayDetailsOnIncompleteTests, bool $displayDetailsOnSkippedTests, bool $displayDetailsOnTestsThatTriggerDeprecations, bool $displayDetailsOnPhpunitDeprecations, bool $displayDetailsOnPhpunitNotices, bool $displayDetailsOnTestsThatTriggerErrors, bool $displayDetailsOnTestsThatTriggerNotices, bool $displayDetailsOnTestsThatTriggerWarnings, bool $reverseDefectList, bool $requireCoverageMetadata, bool $noProgress, bool $noResults, bool $noOutput, int $executionOrder, int $executionOrderDefects, bool $resolveDependencies, ?string $logfileTeamcity, ?string $logfileJunit, ?string $logfileOtr, bool $includeGitInformationInOtrLogfile, ?string $logfileTestdoxHtml, ?string $logfileTestdoxText, ?string $logEventsText, ?string $logEventsVerboseText, bool $teamCityOutput, bool $testDoxOutput, bool $testDoxOutputSummary, ?array $testsCovering, ?array $testsUsing, ?array $testsRequiringPhpExtension, ?string $filter, ?string $excludeFilter, array $groups, array $excludeGroups, int $randomOrderSeed, bool $includeUncoveredFiles, TestSuiteCollection $testSuite, string $includeTestSuite, string $excludeTestSuite, ?string $defaultTestSuite, bool $ignoreTestSelectionInXmlConfiguration, array $testSuffixes, Php $php, bool $controlGarbageCollector, int $numberOfTestsBeforeGarbageCollection, ?string $generateBaseline, bool $debug, bool $withTelemetry, int $shortenArraysForExportThreshold)
     {
         $this->cliArguments                                 = $cliArguments;
         $this->configurationFile                            = $configurationFile;
@@ -337,6 +338,7 @@ public function __construct(array $cliArguments, ?string $configurationFile, ?st
         $this->includeTestSuite                             = $includeTestSuite;
         $this->excludeTestSuite                             = $excludeTestSuite;
         $this->defaultTestSuite                             = $defaultTestSuite;
+        $this->ignoreTestSelectionInXmlConfiguration        = $ignoreTestSelectionInXmlConfiguration;
         $this->testSuffixes                                 = $testSuffixes;
         $this->php                                          = $php;
         $this->controlGarbageCollector                      = $controlGarbageCollector;
@@ -1473,6 +1475,11 @@ public function defaultTestSuite(): string
         return $this->defaultTestSuite;
     }
 
+    public function ignoreTestSelectionInXmlConfiguration(): bool
+    {
+        return $this->ignoreTestSelectionInXmlConfiguration;
+    }
+
     /**
      * @return non-empty-list<non-empty-string>
      */
diff --git a/src/TextUI/Configuration/Merger.php b/src/TextUI/Configuration/Merger.php
index 578031402..ac1ddaf62 100644
--- a/src/TextUI/Configuration/Merger.php
+++ b/src/TextUI/Configuration/Merger.php
@@ -893,6 +893,12 @@ public function merge(CliConfiguration $cliConfiguration, XmlConfiguration $xmlC
             $displayDetailsOnSkippedTests = true;
         }
 
+        $ignoreTestSelectionInXmlConfiguration = false;
+
+        if ($cliConfiguration->hasAll()) {
+            $ignoreTestSelectionInXmlConfiguration = true;
+        }
+
         return new Configuration(
             $cliConfiguration->arguments(),
             $configurationFile,
@@ -1035,6 +1041,7 @@ public function merge(CliConfiguration $cliConfiguration, XmlConfiguration $xmlC
             $includeTestSuite,
             $excludeTestSuite,
             $xmlConfiguration->phpunit()->hasDefaultTestSuite() ? $xmlConfiguration->phpunit()->defaultTestSuite() : null,
+            $ignoreTestSelectionInXmlConfiguration,
             $testSuffixes,
             new Php(
                 DirectoryCollection::fromArray($includePaths),
diff --git a/src/TextUI/Configuration/TestSuiteBuilder.php b/src/TextUI/Configuration/TestSuiteBuilder.php
index 0312aad76..a474b02f5 100644
--- a/src/TextUI/Configuration/TestSuiteBuilder.php
+++ b/src/TextUI/Configuration/TestSuiteBuilder.php
@@ -75,8 +75,8 @@ public function build(Configuration $configuration): TestSuite
             $testSuite = (new TestSuiteMapper)->map(
                 $xmlConfigurationFile,
                 $configuration->testSuite(),
-                $configuration->includeTestSuites(),
-                $configuration->excludeTestSuites(),
+                $configuration->ignoreTestSelectionInXmlConfiguration() ? [] : $configuration->includeTestSuites(),
+                $configuration->ignoreTestSelectionInXmlConfiguration() ? [] : $configuration->excludeTestSuites(),
             );
         }
 
diff --git a/src/TextUI/Help.php b/src/TextUI/Help.php
index 639a5be38..8a4f802ab 100644
--- a/src/TextUI/Help.php
+++ b/src/TextUI/Help.php
@@ -170,6 +170,7 @@ private function elements(): array
             ],
 
             'Selection' => [
+                ['arg' => '--all', 'desc' => 'Ignore test selection from XML configuration file'],
                 ['arg' => '--list-suites', 'desc' => 'List available test suites'],
                 ['arg' => '--testsuite <name>', 'desc' => 'Only run tests from the specified test suite(s)'],
                 ['arg' => '--exclude-testsuite <name>', 'desc' => 'Exclude tests from the specified test suite(s)'],
diff --git a/src/TextUI/TestSuiteFilterProcessor.php b/src/TextUI/TestSuiteFilterProcessor.php
index c0e4beb19..c456f7d50 100644
--- a/src/TextUI/TestSuiteFilterProcessor.php
+++ b/src/TextUI/TestSuiteFilterProcessor.php
@@ -31,6 +31,10 @@ public function process(Configuration $configuration, TestSuite $suite): void
     {
         $factory = new Factory;
 
+        if ($configuration->ignoreTestSelectionInXmlConfiguration()) {
+            return;
+        }
+
         if (!$configuration->hasFilter() &&
             !$configuration->hasGroups() &&
             !$configuration->hasExcludeGroups() &&
diff --git a/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/phpunit.xml b/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/phpunit.xml
new file mode 100644
index 000000000..a06957986
--- /dev/null
+++ b/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/phpunit.xml
@@ -0,0 +1,15 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:noNamespaceSchemaLocation="../../../../../phpunit.xsd"
+         defaultTestSuite="unit"
+>
+    <testsuites>
+        <testsuite name="unit">
+            <directory>tests/unit</directory>
+        </testsuite>
+
+        <testsuite name="end-to-end">
+            <directory>tests/end-to-end</directory>
+        </testsuite>
+    </testsuites>
+</phpunit>
diff --git a/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/tests/end-to-end/EndToEndTest.php b/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/tests/end-to-end/EndToEndTest.php
new file mode 100644
index 000000000..f1bdf6e00
--- /dev/null
+++ b/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/tests/end-to-end/EndToEndTest.php
@@ -0,0 +1,21 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite;
+
+use PHPUnit\Framework\Attributes\DoesNotPerformAssertions;
+use PHPUnit\Framework\TestCase;
+
+#[DoesNotPerformAssertions]
+final class EndToEndTest extends TestCase
+{
+    public function testOne(): void
+    {
+    }
+}
diff --git a/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/tests/unit/UnitTest.php b/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/tests/unit/UnitTest.php
new file mode 100644
index 000000000..78dd45430
--- /dev/null
+++ b/tests/end-to-end/_files/configuration-file-based-test-selection/defaultTestSuite/tests/unit/UnitTest.php
@@ -0,0 +1,21 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite;
+
+use PHPUnit\Framework\Attributes\DoesNotPerformAssertions;
+use PHPUnit\Framework\TestCase;
+
+#[DoesNotPerformAssertions]
+final class UnitTest extends TestCase
+{
+    public function testOne(): void
+    {
+    }
+}
diff --git a/tests/end-to-end/_files/configuration-file-based-test-selection/groups/phpunit.xml b/tests/end-to-end/_files/configuration-file-based-test-selection/groups/phpunit.xml
new file mode 100644
index 000000000..b86338c97
--- /dev/null
+++ b/tests/end-to-end/_files/configuration-file-based-test-selection/groups/phpunit.xml
@@ -0,0 +1,16 @@
+<?xml version="1.0" encoding="UTF-8"?>
+<phpunit xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
+         xsi:noNamespaceSchemaLocation="../../../../../phpunit.xsd"
+>
+    <testsuites>
+        <testsuite name="default">
+            <directory>tests</directory>
+        </testsuite>
+    </testsuites>
+
+    <groups>
+        <include>
+            <group>one</group>
+        </include>
+    </groups>
+</phpunit>
diff --git a/tests/end-to-end/_files/configuration-file-based-test-selection/groups/tests/ExampleTest.php b/tests/end-to-end/_files/configuration-file-based-test-selection/groups/tests/ExampleTest.php
new file mode 100644
index 000000000..3f345dff5
--- /dev/null
+++ b/tests/end-to-end/_files/configuration-file-based-test-selection/groups/tests/ExampleTest.php
@@ -0,0 +1,28 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups;
+
+use PHPUnit\Framework\Attributes\DoesNotPerformAssertions;
+use PHPUnit\Framework\Attributes\Group;
+use PHPUnit\Framework\TestCase;
+
+#[DoesNotPerformAssertions]
+final class ExampleTest extends TestCase
+{
+    #[Group('one')]
+    public function testOne(): void
+    {
+    }
+
+    #[Group('two')]
+    public function testTwo(): void
+    {
+    }
+}
diff --git a/tests/end-to-end/_files/output-cli-help-color.txt b/tests/end-to-end/_files/output-cli-help-color.txt
index bc1ac9801..4e68ba81c 100644
--- a/tests/end-to-end/_files/output-cli-help-color.txt
+++ b/tests/end-to-end/_files/output-cli-help-color.txt
@@ -25,6 +25,8 @@
 
 [33mSelection:[0m
 
+  [32m--all                               [0m Ignore test selection from XML
+                                       configuration file
   [32m--list-suites                       [0m List available test suites
   [32m--testsuite [36m<name>[0m                  [0m Only run tests from the specified test
                                        suite(s)
diff --git a/tests/end-to-end/_files/output-cli-usage.txt b/tests/end-to-end/_files/output-cli-usage.txt
index 24cd82e55..932879ec5 100644
--- a/tests/end-to-end/_files/output-cli-usage.txt
+++ b/tests/end-to-end/_files/output-cli-usage.txt
@@ -21,6 +21,7 @@ Configuration:
 
 Selection:
 
+  --all                                Ignore test selection from XML configuration file
   --list-suites                        List available test suites
   --testsuite <name>                   Only run tests from the specified test suite(s)
   --exclude-testsuite <name>           Exclude tests from the specified test suite(s)
diff --git a/tests/end-to-end/cli/configuration-file-based-test-selection/defaultTestSuite-all.phpt b/tests/end-to-end/cli/configuration-file-based-test-selection/defaultTestSuite-all.phpt
new file mode 100644
index 000000000..2e5a2953b
--- /dev/null
+++ b/tests/end-to-end/cli/configuration-file-based-test-selection/defaultTestSuite-all.phpt
@@ -0,0 +1,42 @@
+--TEST--
+Tests selected using <phpunit defaultTestSuite="<test suite>"> with "--all" CLI option
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--debug';
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/configuration-file-based-test-selection/defaultTestSuite';
+$_SERVER['argv'][] = '--all';
+
+require_once __DIR__ . '/../../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s)
+Test Runner Configured
+Event Facade Sealed
+Test Suite Loaded (2 tests)
+Test Runner Started
+Test Suite Sorted
+Test Runner Execution Started (2 tests)
+Test Suite Started (%sphpunit.xml, 2 tests)
+Test Suite Started (unit, 1 test)
+Test Suite Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest::testOne)
+Test Prepared (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest::testOne)
+Test Passed (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest::testOne)
+Test Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest, 1 test)
+Test Suite Finished (unit, 1 test)
+Test Suite Started (end-to-end, 1 test)
+Test Suite Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\EndToEndTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\EndToEndTest::testOne)
+Test Prepared (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\EndToEndTest::testOne)
+Test Passed (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\EndToEndTest::testOne)
+Test Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\EndToEndTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\EndToEndTest, 1 test)
+Test Suite Finished (end-to-end, 1 test)
+Test Suite Finished (%sphpunit.xml, 2 tests)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/cli/configuration-file-based-test-selection/defaultTestSuite.phpt b/tests/end-to-end/cli/configuration-file-based-test-selection/defaultTestSuite.phpt
new file mode 100644
index 000000000..09771346f
--- /dev/null
+++ b/tests/end-to-end/cli/configuration-file-based-test-selection/defaultTestSuite.phpt
@@ -0,0 +1,33 @@
+--TEST--
+Tests selected using <phpunit defaultTestSuite="<test suite>">
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--debug';
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/configuration-file-based-test-selection/defaultTestSuite';
+
+require_once __DIR__ . '/../../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s)
+Test Runner Configured
+Event Facade Sealed
+Test Suite Loaded (1 test)
+Test Runner Started
+Test Suite Sorted
+Test Runner Execution Started (1 test)
+Test Suite Started (%sphpunit.xml, 1 test)
+Test Suite Started (unit, 1 test)
+Test Suite Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest::testOne)
+Test Prepared (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest::testOne)
+Test Passed (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest::testOne)
+Test Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\DefaultTestSuite\UnitTest, 1 test)
+Test Suite Finished (unit, 1 test)
+Test Suite Finished (%sphpunit.xml, 1 test)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/cli/configuration-file-based-test-selection/groups-all.phpt b/tests/end-to-end/cli/configuration-file-based-test-selection/groups-all.phpt
new file mode 100644
index 000000000..519ff80e1
--- /dev/null
+++ b/tests/end-to-end/cli/configuration-file-based-test-selection/groups-all.phpt
@@ -0,0 +1,38 @@
+--TEST--
+Tests selected using <groups> with "--all" CLI option
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--debug';
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/configuration-file-based-test-selection/groups';
+$_SERVER['argv'][] = '--all';
+
+require_once __DIR__ . '/../../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s)
+Test Runner Configured
+Event Facade Sealed
+Test Suite Loaded (2 tests)
+Test Runner Started
+Test Suite Sorted
+Test Runner Execution Started (2 tests)
+Test Suite Started (%sphpunit.xml, 2 tests)
+Test Suite Started (default, 2 tests)
+Test Suite Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest, 2 tests)
+Test Preparation Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testOne)
+Test Prepared (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testOne)
+Test Passed (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testOne)
+Test Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testOne)
+Test Preparation Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testTwo)
+Test Prepared (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testTwo)
+Test Passed (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testTwo)
+Test Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testTwo)
+Test Suite Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest, 2 tests)
+Test Suite Finished (default, 2 tests)
+Test Suite Finished (%sphpunit.xml, 2 tests)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/cli/configuration-file-based-test-selection/groups.phpt b/tests/end-to-end/cli/configuration-file-based-test-selection/groups.phpt
new file mode 100644
index 000000000..107ce7a49
--- /dev/null
+++ b/tests/end-to-end/cli/configuration-file-based-test-selection/groups.phpt
@@ -0,0 +1,34 @@
+--TEST--
+Tests selected using <groups>
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--debug';
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/configuration-file-based-test-selection/groups';
+
+require_once __DIR__ . '/../../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit Started (PHPUnit %s)
+Test Runner Configured
+Event Facade Sealed
+Test Suite Loaded (2 tests)
+Test Runner Started
+Test Suite Sorted
+Test Suite Filtered (1 test)
+Test Runner Execution Started (1 test)
+Test Suite Started (%sphpunit.xml, 1 test)
+Test Suite Started (default, 1 test)
+Test Suite Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest, 1 test)
+Test Preparation Started (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testOne)
+Test Prepared (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testOne)
+Test Passed (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testOne)
+Test Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest::testOne)
+Test Suite Finished (PHPUnit\TestFixture\ConfigurationFileBasedTestSelection\Groups\ExampleTest, 1 test)
+Test Suite Finished (default, 1 test)
+Test Suite Finished (%sphpunit.xml, 1 test)
+Test Runner Execution Finished
+Test Runner Finished
+PHPUnit Finished (Shell Exit Code: 0)
diff --git a/tests/end-to-end/cli/list-suites/default-test-suite-all.phpt b/tests/end-to-end/cli/list-suites/default-test-suite-all.phpt
new file mode 100644
index 000000000..f71f93b86
--- /dev/null
+++ b/tests/end-to-end/cli/list-suites/default-test-suite-all.phpt
@@ -0,0 +1,19 @@
+--TEST--
+phpunit --configuration ../_files/multiple-testsuites/default-test-suite.xml --list-suites --all
+--FILE--
+<?php declare(strict_types=1);
+$_SERVER['argv'][] = '--do-not-cache-result';
+$_SERVER['argv'][] = '--configuration';
+$_SERVER['argv'][] = __DIR__ . '/../../_files/multiple-testsuites/default-test-suite.xml';
+$_SERVER['argv'][] = '--list-suites';
+$_SERVER['argv'][] = '--all';
+
+require_once __DIR__ . '/../../../bootstrap.php';
+
+(new PHPUnit\TextUI\Application)->run($_SERVER['argv']);
+--EXPECTF--
+PHPUnit %s by Sebastian Bergmann and contributors.
+
+Available test suites:
+ - end-to-end (1 test)
+ - unit (1 test)
diff --git a/tests/end-to-end/cli/list-suites/warning-default-test-suite.phpt b/tests/end-to-end/cli/list-suites/default-test-suite.phpt
similarity index 82%
rename from tests/end-to-end/cli/list-suites/warning-default-test-suite.phpt
rename to tests/end-to-end/cli/list-suites/default-test-suite.phpt
index bdeb919c8..5aa8b35de 100644
--- a/tests/end-to-end/cli/list-suites/warning-default-test-suite.phpt
+++ b/tests/end-to-end/cli/list-suites/default-test-suite.phpt
@@ -13,7 +13,5 @@ require_once __DIR__ . '/../../../bootstrap.php';
 --EXPECTF--
 PHPUnit %s by Sebastian Bergmann and contributors.
 
-The defaultTestSuite (XML) and --list-suites (CLI) options cannot be combined, only the default test suite is shown
-
 Available test suite:
  - unit (1 test)
diff --git a/tests/unit/TextUI/Configuration/Cli/BuilderTest.php b/tests/unit/TextUI/Configuration/Cli/BuilderTest.php
index 1d14b0b59..303ebe8e4 100644
--- a/tests/unit/TextUI/Configuration/Cli/BuilderTest.php
+++ b/tests/unit/TextUI/Configuration/Cli/BuilderTest.php
@@ -29,6 +29,26 @@ public function testArguments(): void
         $this->assertSame(['argument'], $configuration->arguments());
     }
 
+    #[TestDox('--all')]
+    public function testAll(): void
+    {
+        $configuration = (new Builder)->fromParameters(['--all']);
+
+        $this->assertTrue($configuration->hasAll());
+        $this->assertTrue($configuration->all());
+    }
+
+    public function testAllMayNotBeConfigured(): void
+    {
+        $configuration = (new Builder)->fromParameters([]);
+
+        $this->assertFalse($configuration->hasAll());
+
+        $this->expectException(Exception::class);
+
+        $configuration->all();
+    }
+
     #[TestDox('--colors')]
     public function testColorsImplicitAuto(): void
     {
