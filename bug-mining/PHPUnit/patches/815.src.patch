diff --git a/ChangeLog-10.5.md b/ChangeLog-10.5.md
index 68b28f595..6cee2b4dd 100644
--- a/ChangeLog-10.5.md
+++ b/ChangeLog-10.5.md
@@ -6,6 +6,7 @@ All notable changes of the PHPUnit 10.5 release series are documented in this fi
 
 ### Fixed
 
+* [#5561](https://github.com/sebastianbergmann/phpunit/issues/5561): JUnit XML logger does not handle assertion failures in before-test methods
 * [#5567](https://github.com/sebastianbergmann/phpunit/issues/5567): Infinite recursion when recursive / self-referencing arrays are checked whether they contain only scalar values
 
 ## [10.5.1] - 2023-12-01
diff --git a/src/Logging/JUnit/JunitXmlLogger.php b/src/Logging/JUnit/JunitXmlLogger.php
index eb112ac12..188de2eb1 100644
--- a/src/Logging/JUnit/JunitXmlLogger.php
+++ b/src/Logging/JUnit/JunitXmlLogger.php
@@ -84,6 +84,7 @@ final class JunitXmlLogger
     private ?DOMElement $currentTestCase = null;
     private ?HRTime $time                = null;
     private bool $prepared               = false;
+    private bool $preparationFailed      = false;
 
     /**
      * @throws EventFacadeIsSealedException
@@ -186,7 +187,16 @@ public function testPreparationStarted(PreparationStarted $event): void
      * @throws InvalidArgumentException
      * @throws NoDataSetFromDataProviderException
      */
-    public function testPrepared(Prepared $event): void
+    public function testPreparationFailed(): void
+    {
+        $this->preparationFailed = true;
+    }
+
+    /**
+     * @throws InvalidArgumentException
+     * @throws NoDataSetFromDataProviderException
+     */
+    public function testPrepared(): void
     {
         $this->prepared = true;
     }
@@ -196,6 +206,10 @@ public function testPrepared(Prepared $event): void
      */
     public function testFinished(Finished $event): void
     {
+        if ($this->preparationFailed) {
+            return;
+        }
+
         $this->handleFinish($event->telemetryInfo(), $event->numberOfAssertionsPerformed());
     }
 
@@ -283,6 +297,7 @@ private function registerSubscribers(Facade $facade): void
             new TestSuiteStartedSubscriber($this),
             new TestSuiteFinishedSubscriber($this),
             new TestPreparationStartedSubscriber($this),
+            new TestPreparationFailedSubscriber($this),
             new TestPreparedSubscriber($this),
             new TestFinishedSubscriber($this),
             new TestErroredSubscriber($this),
diff --git a/src/Logging/JUnit/Subscriber/TestPreparationFailedSubscriber.php b/src/Logging/JUnit/Subscriber/TestPreparationFailedSubscriber.php
new file mode 100644
index 000000000..a8ae3cf94
--- /dev/null
+++ b/src/Logging/JUnit/Subscriber/TestPreparationFailedSubscriber.php
@@ -0,0 +1,30 @@
+<?php declare(strict_types=1);
+/*
+ * This file is part of PHPUnit.
+ *
+ * (c) Sebastian Bergmann <sebastian@phpunit.de>
+ *
+ * For the full copyright and license information, please view the LICENSE
+ * file that was distributed with this source code.
+ */
+namespace PHPUnit\Logging\JUnit;
+
+use PHPUnit\Event\InvalidArgumentException;
+use PHPUnit\Event\Test\PreparationFailed;
+use PHPUnit\Event\Test\PreparationFailedSubscriber;
+use PHPUnit\Event\TestData\NoDataSetFromDataProviderException;
+
+/**
+ * @internal This class is not covered by the backward compatibility promise for PHPUnit
+ */
+final class TestPreparationFailedSubscriber extends Subscriber implements PreparationFailedSubscriber
+{
+    /**
+     * @throws InvalidArgumentException
+     * @throws NoDataSetFromDataProviderException
+     */
+    public function notify(PreparationFailed $event): void
+    {
+        $this->logger()->testPreparationFailed();
+    }
+}
diff --git a/src/Logging/JUnit/Subscriber/TestPreparedSubscriber.php b/src/Logging/JUnit/Subscriber/TestPreparedSubscriber.php
index 98027dc9c..aee8e47f4 100644
--- a/src/Logging/JUnit/Subscriber/TestPreparedSubscriber.php
+++ b/src/Logging/JUnit/Subscriber/TestPreparedSubscriber.php
@@ -25,6 +25,6 @@ final class TestPreparedSubscriber extends Subscriber implements PreparedSubscri
      */
     public function notify(Prepared $event): void
     {
-        $this->logger()->testPrepared($event);
+        $this->logger()->testPrepared();
     }
 }
diff --git a/tests/end-to-end/regression/5561.phpt b/tests/end-to-end/regression/5561.phpt
index f894f9435..d48ae2aac 100644
--- a/tests/end-to-end/regression/5561.phpt
+++ b/tests/end-to-end/regression/5561.phpt
@@ -1,7 +1,5 @@
 --TEST--
 https://github.com/sebastianbergmann/phpunit/issues/5561
---XFAIL--
-https://github.com/sebastianbergmann/phpunit/issues/5561
 --FILE--
 <?php declare(strict_types=1);
 $_SERVER['argv'][] = '--do-not-cache-result';
