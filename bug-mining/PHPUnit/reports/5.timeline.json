[{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/363152","html_url":"https://github.com/sebastianbergmann/phpunit/issues/9#issuecomment-363152","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/9","id":363152,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MzE1Mg==","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-08-20T06:07:09Z","updated_at":"2010-08-20T06:07:09Z","body":"The documentation reads \"PHPUnit does not change the order in which tests are executed, you have to ensure that the dependencies of a test can actually be met before the test is run.\".\n\nThat said, please have a look at issues #10 and #11.\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/363152/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/363163","html_url":"https://github.com/sebastianbergmann/phpunit/issues/9#issuecomment-363163","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/9","id":363163,"node_id":"MDEyOklzc3VlQ29tbWVudDM2MzE2Mw==","user":{"login":"ondrejmirtes","id":104888,"node_id":"MDQ6VXNlcjEwNDg4OA==","avatar_url":"https://avatars.githubusercontent.com/u/104888?v=4","gravatar_id":"","url":"https://api.github.com/users/ondrejmirtes","html_url":"https://github.com/ondrejmirtes","followers_url":"https://api.github.com/users/ondrejmirtes/followers","following_url":"https://api.github.com/users/ondrejmirtes/following{/other_user}","gists_url":"https://api.github.com/users/ondrejmirtes/gists{/gist_id}","starred_url":"https://api.github.com/users/ondrejmirtes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ondrejmirtes/subscriptions","organizations_url":"https://api.github.com/users/ondrejmirtes/orgs","repos_url":"https://api.github.com/users/ondrejmirtes/repos","events_url":"https://api.github.com/users/ondrejmirtes/events{/privacy}","received_events_url":"https://api.github.com/users/ondrejmirtes/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2010-08-20T06:16:29Z","updated_at":"2010-08-20T06:16:29Z","body":"I wasn't complaining about the order of the executed tests, but about the fact described in #11. Thank you very much!\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/363163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ondrejmirtes","id":104888,"node_id":"MDQ6VXNlcjEwNDg4OA==","avatar_url":"https://avatars.githubusercontent.com/u/104888?v=4","gravatar_id":"","url":"https://api.github.com/users/ondrejmirtes","html_url":"https://github.com/ondrejmirtes","followers_url":"https://api.github.com/users/ondrejmirtes/followers","following_url":"https://api.github.com/users/ondrejmirtes/following{/other_user}","gists_url":"https://api.github.com/users/ondrejmirtes/gists{/gist_id}","starred_url":"https://api.github.com/users/ondrejmirtes/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ondrejmirtes/subscriptions","organizations_url":"https://api.github.com/users/ondrejmirtes/orgs","repos_url":"https://api.github.com/users/ondrejmirtes/repos","events_url":"https://api.github.com/users/ondrejmirtes/events{/privacy}","received_events_url":"https://api.github.com/users/ondrejmirtes/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"mattmccormick","id":436801,"node_id":"MDQ6VXNlcjQzNjgwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/436801?v=4","gravatar_id":"","url":"https://api.github.com/users/mattmccormick","html_url":"https://github.com/mattmccormick","followers_url":"https://api.github.com/users/mattmccormick/followers","following_url":"https://api.github.com/users/mattmccormick/following{/other_user}","gists_url":"https://api.github.com/users/mattmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/mattmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattmccormick/subscriptions","organizations_url":"https://api.github.com/users/mattmccormick/orgs","repos_url":"https://api.github.com/users/mattmccormick/repos","events_url":"https://api.github.com/users/mattmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/mattmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-06-28T23:05:42Z","updated_at":"2012-06-28T23:05:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/599","id":5335483,"node_id":"MDU6SXNzdWU1MzM1NDgz","number":599,"title":"fsockopen(): unable to connect to localhost:4444","user":{"login":"mattmccormick","id":436801,"node_id":"MDQ6VXNlcjQzNjgwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/436801?v=4","gravatar_id":"","url":"https://api.github.com/users/mattmccormick","html_url":"https://github.com/mattmccormick","followers_url":"https://api.github.com/users/mattmccormick/followers","following_url":"https://api.github.com/users/mattmccormick/following{/other_user}","gists_url":"https://api.github.com/users/mattmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/mattmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattmccormick/subscriptions","organizations_url":"https://api.github.com/users/mattmccormick/orgs","repos_url":"https://api.github.com/users/mattmccormick/repos","events_url":"https://api.github.com/users/mattmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/mattmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2012-06-28T23:05:41Z","updated_at":"2012-09-24T16:54:51Z","closed_at":"2012-09-24T16:54:51Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I am running PHPUnit 3.6.11 with Selenium tests included.  Sometimes I forget to start the Selenium server.  If I run the tests, it fails at the first test with a PHP error:\n\nLooking at the code, it seems that the test should just be skipped but instead it completely quits.  Looking at the documentation for fsockopen, I don't think it should result in a PHP error so it may be a bug with PHP itself.  I am running PHP 5.3.5.\n\nDescription:\nfsockopen(): unable to connect to localhost:4444 (Connection refused)\n\nSource File:\n/usr/share/php/PHPUnit/Extensions/SeleniumTestCase.php(738)\n\nStack Trace:\n#0  fsockopen('localhost',4444,0,'',10)\n\n```\n/usr/share/php/PHPUnit/Extensions/SeleniumTestCase.php(738)\n```\n#1  PHPUnit_Extensions_SeleniumTestCase->skipWithNoServerRunning()\n\n```\n/usr/share/php/PHPUnit/Extensions/SeleniumTestCase.php(776)\n```\n#2  PHPUnit_Extensions_SeleniumTestCase->runTest()\n\n```\n/usr/share/php/PHPUnit/Framework/TestCase.php(804)\n```\n#3  PHPUnit_Framework_TestCase->runBare()\n\n```\n/usr/share/php/PHPUnit/Framework/TestResult.php(649)\n```\n#4  PHPUnit_Framework_TestResult->run(SiteTest)\n\n```\n/usr/share/php/PHPUnit/Framework/TestCase.php(751)\n```\n#5  PHPUnit_Framework_TestCase->run(PHPUnit_Framework_TestResult)\n\n```\n/usr/share/php/PHPUnit/Extensions/SeleniumTestCase.php(643)\n```\n#6  PHPUnit_Extensions_SeleniumTestCase->run(PHPUnit_Framework_TestResult)\n\n```\n/usr/share/php/PHPUnit/Framework/TestSuite.php(772)\n```\n#7  PHPUnit_Framework_TestSuite->runTest(SiteTest,PHPUnit_Framework_TestResult)\n\n```\n/usr/share/php/PHPUnit/Framework/TestSuite.php(745)\n```\n#8  PHPUnit_Framework_TestSuite->run(PHPUnit_Framework_TestResult,,array(0),array(0),)\n\n```\n/usr/share/php/PHPUnit/Framework/TestSuite.php(705)\n```\n#9  PHPUnit_Framework_TestSuite->run(PHPUnit_Framework_TestResult,,array(0),array(0),)\n\n```\n/usr/share/php/PHPUnit/TextUI/TestRunner.php(325)\n```\n#10 PHPUnit_TextUI_TestRunner->doRun(PHPUnit_Framework_TestSuite,array(4))\n\n```\n/usr/share/php/PHPUnit/TextUI/Command.php(192)\n```\n#11 PHPUnit_TextUI_Command->run(array(3),1)\n\n```\n/usr/share/php/PHPUnit/TextUI/Command.php(130)\n```\n#12 PHPUnit_TextUI_Command::main()\n\n```\n/usr/bin/phpunit(46)\n```\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"pjsb","id":1113927,"node_id":"MDQ6VXNlcjExMTM5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1113927?v=4","gravatar_id":"","url":"https://api.github.com/users/pjsb","html_url":"https://github.com/pjsb","followers_url":"https://api.github.com/users/pjsb/followers","following_url":"https://api.github.com/users/pjsb/following{/other_user}","gists_url":"https://api.github.com/users/pjsb/gists{/gist_id}","starred_url":"https://api.github.com/users/pjsb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjsb/subscriptions","organizations_url":"https://api.github.com/users/pjsb/orgs","repos_url":"https://api.github.com/users/pjsb/repos","events_url":"https://api.github.com/users/pjsb/events{/privacy}","received_events_url":"https://api.github.com/users/pjsb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-12-31T00:16:49Z","updated_at":"2013-03-10T12:17:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/763","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/763/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/763/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/763/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/763","id":9587069,"node_id":"MDU6SXNzdWU5NTg3MDY5","number":763,"title":"assertTag - content - isHTML -failed","user":{"login":"pjsb","id":1113927,"node_id":"MDQ6VXNlcjExMTM5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1113927?v=4","gravatar_id":"","url":"https://api.github.com/users/pjsb","html_url":"https://github.com/pjsb","followers_url":"https://api.github.com/users/pjsb/followers","following_url":"https://api.github.com/users/pjsb/following{/other_user}","gists_url":"https://api.github.com/users/pjsb/gists{/gist_id}","starred_url":"https://api.github.com/users/pjsb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pjsb/subscriptions","organizations_url":"https://api.github.com/users/pjsb/orgs","repos_url":"https://api.github.com/users/pjsb/repos","events_url":"https://api.github.com/users/pjsb/events{/privacy}","received_events_url":"https://api.github.com/users/pjsb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2012-12-31T00:16:49Z","updated_at":"2013-03-11T07:10:35Z","closed_at":"2013-03-11T07:10:35Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I tried to test my framework, which generates HTML. The assertTag is wonderfull to check it, but it fails in some cases, see below. \n\nDoes assertTag do any HTML validation too? I know that some examples are invalid html, therefore I set isHTML to skip maybe any HTML validation to false, but with the same result.\n\n```\n1) RenderTest::testRender with data set #9 ('area', false, '<area>SomeText</area>')\nFailed asserting that false is true.\n\n\n2) RenderTest::testRender with data set #19 ('param', false, '<param>SomeText</param>')\nFailed asserting that false is true.\n\n\n3) RenderTest::testRender with data set #34 ('base', false, '<base>SomeText</base>')\nFailed asserting that false is true.\n\n\n4) RenderTest::testRender with data set #36 ('head', false, '<head>SomeText</head>')\nFailed asserting that false is true.\n\n\n5) RenderTest::testRender with data set #40 ('script', false, '<script>SomeText</script>')\nFailed asserting that false is true.\n\n\n6) RenderTest::testRender with data set #41 ('style', false, '<style>SomeText</style>')\nFailed asserting that false is true.\n\n\n7) RenderTest::testRender with data set #44 ('col', false, '<col>SomeText</col>')\nFailed asserting that false is true.´´´\n```\n\nEDIT: Ok after fixing self closing tags, there are only two issues\n\n```\n1) RenderTest::testRender with data set #40 ('script', false, false, '<script>SomeText</script>')\nFailed asserting that false is true.\n\n\n2) RenderTest::testRender with data set #41 ('style', false, false, '<style>SomeText</style>')\nFailed asserting that false is true.\n```\n\nBut the question is the same? HTML validation? Does it  validate the innerHTML also? Even if isHTML set to false?\n\nEdit by @edorian: Fixed markdown\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/763/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/763/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"tallona","id":9195301,"node_id":"MDQ6VXNlcjkxOTUzMDE=","avatar_url":"https://avatars.githubusercontent.com/u/9195301?v=4","gravatar_id":"","url":"https://api.github.com/users/tallona","html_url":"https://github.com/tallona","followers_url":"https://api.github.com/users/tallona/followers","following_url":"https://api.github.com/users/tallona/following{/other_user}","gists_url":"https://api.github.com/users/tallona/gists{/gist_id}","starred_url":"https://api.github.com/users/tallona/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tallona/subscriptions","organizations_url":"https://api.github.com/users/tallona/orgs","repos_url":"https://api.github.com/users/tallona/repos","events_url":"https://api.github.com/users/tallona/events{/privacy}","received_events_url":"https://api.github.com/users/tallona/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2015-05-11T10:48:57Z","updated_at":"2015-05-11T10:48:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1571","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1571/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1571/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1571/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1571","id":53729549,"node_id":"MDU6SXNzdWU1MzcyOTU0OQ==","number":1571,"title":"`unserialize` when @runInSeparateProcess triggers an error","user":{"login":"Fuco1","id":2664959,"node_id":"MDQ6VXNlcjI2NjQ5NTk=","avatar_url":"https://avatars.githubusercontent.com/u/2664959?v=4","gravatar_id":"","url":"https://api.github.com/users/Fuco1","html_url":"https://github.com/Fuco1","followers_url":"https://api.github.com/users/Fuco1/followers","following_url":"https://api.github.com/users/Fuco1/following{/other_user}","gists_url":"https://api.github.com/users/Fuco1/gists{/gist_id}","starred_url":"https://api.github.com/users/Fuco1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fuco1/subscriptions","organizations_url":"https://api.github.com/users/Fuco1/orgs","repos_url":"https://api.github.com/users/Fuco1/repos","events_url":"https://api.github.com/users/Fuco1/events{/privacy}","received_events_url":"https://api.github.com/users/Fuco1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2015-01-08T09:19:06Z","updated_at":"2015-10-02T04:03:06Z","closed_at":"2015-10-02T04:03:03Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"When I run test in separate process, PHPUnit tries to do some marshalling between the processes.  From time to time, I get an `unserialize` offset error, here's an example:\n\n```\nPHPUnit 4.4.1 by Sebastian Bergmann.\n\nE\n\nTime: 1.06 seconds, Memory: 10.25Mb\n\nThere was 1 error:\n\n1) COrderMethodNormalUnitTest::testComputeOrder with data set #0 (58)\nPHPUnit_Framework_Exception: \n\ncomposer/vendor/phpunit/phpunit/phpunit:62\n\nCaused by\nexception 'ErrorException' with message 'unserialize(): Error at offset 0 of 1 bytes' in composer/vendor/phpunit/phpunit/src/Util/PHP.php:144\nStack trace:\n#0 [internal function]: {closure}(8, 'unserialize(): ...', '/var/www/html/d...', 144, Array)\n#1 composer/vendor/phpunit/phpunit/src/Util/PHP.php(144): unserialize('?')\n#2 composer/vendor/phpunit/phpunit/src/Util/PHP.php(88): PHPUnit_Util_PHP->processChildResult(Object(COrderMethodNormalUnitTest), Object(PHPUnit_Framework_TestResult), '?', '')\n#3 composer/vendor/phpunit/phpunit/src/Framework/TestCase.php(720): PHPUnit_Util_PHP->runTestJob('<?php?if (!defi...', Object(COrderMethodNorhttps://github.com/sebastianbergmann/phpunit/blob/master/src/Util/PHP.php#L109malUnitTest), Object(PHPUnit_Framework_TestResult))\n#4 composer/vendor/phpunit/phpunit/src/Framework/TestSuite.php(751): PHPUnit_Framework_TestCase->run(Object(PHPUnit_Framework_TestResult))\n#5 composer/vendor/phpunit/phpunit/src/Framework/TestSuite.php(751): PHPUnit_Framework_TestSuite->run(Object(PHPUnit_Framework_TestResult))\n#6 composer/vendor/phpunit/phpunit/src/Framework/TestSuite.php(751): PHPUnit_Framework_TestSuite->run(Object(PHPUnit_Framework_TestResult))\n#7 composer/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(423): PHPUnit_Framework_TestSuite->run(Object(PHPUnit_Framework_TestResult))\n#8 composer/vendor/phpunit/phpunit/src/TextUI/Command.php(186): PHPUnit_TextUI_TestRunner->doRun(Object(PHPUnit_Framework_TestSuite), Array)\n#9 composer/vendor/phpunit/phpunit/src/TextUI/Command.php(138): PHPUnit_TextUI_Command->run(Array, true)\n#10 composer/vendor/phpunit/phpunit/phpunit(62): PHPUnit_TextUI_Command::main()\n#11 {main}\nFAILURES!\nTests: 1, Assertions: 0, Errors: 1.\n```\n\nAfter googling around I've found http://www.microtuts.com/php-unserialize-error-at-offset-simple-solution/ and indeed applying this fixed the issue.\n\nSpecifically, I've added `trim` before `unseralize` here: https://github.com/sebastianbergmann/phpunit/blob/master/src/Util/PHP.php#L109\n\nThe test code can be reduced to this and I can still reproduce the error\n\n```\n/**\n * @dataProvider plidProvider\n * @runInSeparateProcess\n */\npublic function testComputeOrder($plid)\n{\n    $this->assertEquals(true, true);\n}\n\npublic function plidProvider() {\n    return array(array(58));\n}\n```\n\nI'm no PHP wizzard so I have no idea if the `trim` there can cause any trouble.  I'm going to use it in on instance, will report back if I find any troubles with it.\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1571/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1571/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"atrialabir","id":125481824,"node_id":"U_kgDOB3qzYA","avatar_url":"https://avatars.githubusercontent.com/u/125481824?v=4","gravatar_id":"","url":"https://api.github.com/users/atrialabir","html_url":"https://github.com/atrialabir","followers_url":"https://api.github.com/users/atrialabir/followers","following_url":"https://api.github.com/users/atrialabir/following{/other_user}","gists_url":"https://api.github.com/users/atrialabir/gists{/gist_id}","starred_url":"https://api.github.com/users/atrialabir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrialabir/subscriptions","organizations_url":"https://api.github.com/users/atrialabir/orgs","repos_url":"https://api.github.com/users/atrialabir/repos","events_url":"https://api.github.com/users/atrialabir/events{/privacy}","received_events_url":"https://api.github.com/users/atrialabir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-21T11:57:18Z","updated_at":"2023-06-21T11:57:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5417","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5417/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5417/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5417/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5417","id":1767436567,"node_id":"I_kwDOAAbWLc5pWPEX","number":5417,"title":"PHPUnit\\Event\\Test\\DataProviderMethodCalledSubscriber\" does not exist or is not an interface","user":{"login":"atrialabir","id":125481824,"node_id":"U_kgDOB3qzYA","avatar_url":"https://avatars.githubusercontent.com/u/125481824?v=4","gravatar_id":"","url":"https://api.github.com/users/atrialabir","html_url":"https://github.com/atrialabir","followers_url":"https://api.github.com/users/atrialabir/followers","following_url":"https://api.github.com/users/atrialabir/following{/other_user}","gists_url":"https://api.github.com/users/atrialabir/gists{/gist_id}","starred_url":"https://api.github.com/users/atrialabir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/atrialabir/subscriptions","organizations_url":"https://api.github.com/users/atrialabir/orgs","repos_url":"https://api.github.com/users/atrialabir/repos","events_url":"https://api.github.com/users/atrialabir/events{/privacy}","received_events_url":"https://api.github.com/users/atrialabir/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-06-21T11:57:17Z","updated_at":"2023-06-22T04:32:42Z","closed_at":"2023-06-22T04:32:42Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | ^10.0\r\n| PHP version         | ^8.1\r\n| Installation Method | Composer / PHAR\r\n\r\nafter runing vendor/bin/phpunit in my package I get this error\r\n\r\nvendor/bin/phpunit\r\n\r\n\r\nAn error occurred inside PHPUnit.\r\n\r\nMessage:  Subscriber \"PHPUnit\\Event\\Test\\DataProviderMethodCalledSubscriber\" does not exist or is not an interface\r\nLocation: C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\Event\\TypeMap.php:43\r\n\r\n#0 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\Event\\Facade.php(244): PHPUnit\\Event\\TypeMap->addMapping('PHPUnit\\\\Event\\\\T...', 'PHPUnit\\\\Event\\\\T...')\r\n#1 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\Event\\Facade.php(158): PHPUnit\\Event\\Facade->registerDefaultTypes(Object(PHPUnit\\Event\\TypeMap))\r\n#2 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\Event\\Facade.php(146): PHPUnit\\Event\\Facade->typeMap()\r\n#3 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\Event\\Facade.php(128): PHPUnit\\Event\\Facade->deferredDispatcher()\r\n#4 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\Event\\Facade.php(45): PHPUnit\\Event\\Facade->createDispatchingEmitter()\r\n#5 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\Event\\Facade.php(32): PHPUnit\\Event\\Facade->__construct()\r\n#6 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\Event\\Facade.php(40): PHPUnit\\Event\\Facade::instance()\r\n#7 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\src\\TextUI\\Application.php(80): PHPUnit\\Event\\Facade::emitter()\r\n#8 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\phpunit\\phpunit\\phpunit(99): PHPUnit\\TextUI\\Application->run(Array)\r\n#9 C:\\xampp\\htdocs\\atriatech\\auth\\vendor\\bin\\phpunit(123): include('C:\\\\xampp\\\\htdocs...')\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5417/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"crowne","id":3218673,"node_id":"MDQ6VXNlcjMyMTg2NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3218673?v=4","gravatar_id":"","url":"https://api.github.com/users/crowne","html_url":"https://github.com/crowne","followers_url":"https://api.github.com/users/crowne/followers","following_url":"https://api.github.com/users/crowne/following{/other_user}","gists_url":"https://api.github.com/users/crowne/gists{/gist_id}","starred_url":"https://api.github.com/users/crowne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crowne/subscriptions","organizations_url":"https://api.github.com/users/crowne/orgs","repos_url":"https://api.github.com/users/crowne/repos","events_url":"https://api.github.com/users/crowne/events{/privacy}","received_events_url":"https://api.github.com/users/crowne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-18T16:23:13Z","updated_at":"2023-08-18T16:23:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5477","id":1856980998,"node_id":"I_kwDOAAbWLc5ur0gG","number":5477,"title":"Class \"PHPUnit\\Metadata\\Api\\DataProvider\" not found","user":{"login":"crowne","id":3218673,"node_id":"MDQ6VXNlcjMyMTg2NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3218673?v=4","gravatar_id":"","url":"https://api.github.com/users/crowne","html_url":"https://github.com/crowne","followers_url":"https://api.github.com/users/crowne/followers","following_url":"https://api.github.com/users/crowne/following{/other_user}","gists_url":"https://api.github.com/users/crowne/gists{/gist_id}","starred_url":"https://api.github.com/users/crowne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crowne/subscriptions","organizations_url":"https://api.github.com/users/crowne/orgs","repos_url":"https://api.github.com/users/crowne/repos","events_url":"https://api.github.com/users/crowne/events{/privacy}","received_events_url":"https://api.github.com/users/crowne/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":5111410650,"node_id":"LA_kwDOAAbWLc8AAAABMKnv2g","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/9","name":"version/9","color":"888a85","default":false,"description":"Something affects PHPUnit 9"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-08-18T16:23:11Z","updated_at":"2023-09-04T06:45:04Z","closed_at":"2023-08-19T05:01:16Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n- Please do not report an issue for a version of PHPUnit that is no longer supported. A list of currently supported versions of PHPUnit is available at https://phpunit.de/supported-versions.html.\r\n- Please do not report an issue if you are using a version of PHP that is not supported by the version of PHPUnit you are using. A list that shows which version of PHP is supported by which version of PHPUnit is available at https://phpunit.de/supported-versions.html.\r\n- Please do not report an issue if you are not using PHPUnit directly, but rather a third-party wrapper around it.\r\n- Please do not report an issue if you are using a third-party extension such as alternative output printers.\r\n- Please fill in this template according to your issue.\r\n- Please keep the table shown below at the top of your issue.\r\n- Please include the output of \"composer info | sort\" if you installed PHPUnit using Composer.\r\n- Please post code as text (using proper markup). Do not post screenshots of code.\r\n- Visit https://phpunit.de/support.html if you are looking for support.\r\n- Please remove this comment before submitting your issue.\r\n-->\r\n\r\n| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 10.3.2\r\n| PHP version         | 8.2.7\r\n| Installation Method | Composer\r\n\r\n#### Summary\r\n\r\nError when running tests\r\nPHP Unit Class \"PHPUnit\\Metadata\\Api\\DataProvider\" not found\r\n\r\n\r\n#### Current behavior\r\n\r\n\r\n```bash\r\ncomposer-docker-image-shell:/app# app/vendor/bin/phpunit test/unit\r\n\r\n\r\nAn error occurred inside PHPUnit.\r\n\r\nMessage:  Class \"PHPUnit\\Metadata\\Api\\DataProvider\" not found\r\nLocation: /app/app/vendor/phpunit/phpunit/src/Framework/TestBuilder.php:38\r\n\r\n#0 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(477): PHPUnit\\Framework\\TestBuilder->build(Object(ReflectionClass), 'testLocateTestF...')\r\n#1 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(125): PHPUnit\\Framework\\TestSuite->addTestMethod(Object(ReflectionClass), Object(ReflectionMethod))\r\n#2 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(215): PHPUnit\\Framework\\TestSuite::fromClassReflector(Object(ReflectionClass))\r\n#3 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(243): PHPUnit\\Framework\\TestSuite->addTestSuite(Object(ReflectionClass))\r\n#4 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(261): PHPUnit\\Framework\\TestSuite->addTestFile('/app/test/unit/...')\r\n#5 /app/app/vendor/phpunit/phpunit/src/TextUI/Configuration/TestSuiteBuilder.php(83): PHPUnit\\Framework\\TestSuite->addTestFiles(Array)\r\n#6 /app/app/vendor/phpunit/phpunit/src/TextUI/Configuration/TestSuiteBuilder.php(47): PHPUnit\\TextUI\\Configuration\\TestSuiteBuilder->testSuiteFromPath('/app/test/unit', Array)\r\n#7 /app/app/vendor/phpunit/phpunit/src/TextUI/Application.php(356): PHPUnit\\TextUI\\Configuration\\TestSuiteBuilder->build(Object(PHPUnit\\TextUI\\Configuration\\Configuration)) \r\n#8 /app/app/vendor/phpunit/phpunit/src/TextUI/Application.php(103): PHPUnit\\TextUI\\Application->buildTestSuite(Object(PHPUnit\\TextUI\\Configuration\\Configuration))\r\n#9 /app/app/vendor/phpunit/phpunit/phpunit(99): PHPUnit\\TextUI\\Application->run(Array)\r\n#10 /app/app/vendor/bin/phpunit(122): include('/app/app/vendor...')\r\n#11 {main}\r\n```\r\n\r\n#### How to reproduce\r\n\r\nSee this issue on stackoverflow\r\nhttps://stackoverflow.com/questions/76484539/php-unit-class-phpunit-metadata-api-dataprovider-not-found-with-repro-case\r\n\r\n#### Expected behavior\r\n\r\nExpect tests to run as they do if the phpunit version is downgraded to 10.0.1\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"hbrecht","id":13656589,"node_id":"MDQ6VXNlcjEzNjU2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13656589?v=4","gravatar_id":"","url":"https://api.github.com/users/hbrecht","html_url":"https://github.com/hbrecht","followers_url":"https://api.github.com/users/hbrecht/followers","following_url":"https://api.github.com/users/hbrecht/following{/other_user}","gists_url":"https://api.github.com/users/hbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/hbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbrecht/subscriptions","organizations_url":"https://api.github.com/users/hbrecht/orgs","repos_url":"https://api.github.com/users/hbrecht/repos","events_url":"https://api.github.com/users/hbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/hbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-26T13:06:18Z","updated_at":"2023-10-26T13:06:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5549","id":1963528513,"node_id":"I_kwDOAAbWLc51CRFB","number":5549,"title":"PHPUnit internal error","user":{"login":"hbrecht","id":13656589,"node_id":"MDQ6VXNlcjEzNjU2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13656589?v=4","gravatar_id":"","url":"https://api.github.com/users/hbrecht","html_url":"https://github.com/hbrecht","followers_url":"https://api.github.com/users/hbrecht/followers","following_url":"https://api.github.com/users/hbrecht/following{/other_user}","gists_url":"https://api.github.com/users/hbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/hbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbrecht/subscriptions","organizations_url":"https://api.github.com/users/hbrecht/orgs","repos_url":"https://api.github.com/users/hbrecht/repos","events_url":"https://api.github.com/users/hbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/hbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":1329317012,"node_id":"MDU6TGFiZWwxMzI5MzE3MDEy","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/test-runner","name":"feature/test-runner","color":"e9b96e","default":false,"description":"CLI test runner"},{"id":1842308147,"node_id":"MDU6TGFiZWwxODQyMzA4MTQ3","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging","name":"feature/logging","color":"e9b96e","default":false,"description":"Issues related to logging test results"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"},{"id":8052990377,"node_id":"LA_kwDOAAbWLc8AAAAB3_7hqQ","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging/junit","name":"feature/logging/junit","color":"e9b96e","default":false,"description":"Issues related to logging test results in JUnit XML format"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-10-26T13:06:17Z","updated_at":"2025-01-25T09:06:24Z","closed_at":"2023-11-13T10:47:36Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 10.4.1 / 10.4.2\r\n| PHP version         | PHP 8.2.7 with PCOV 1.0.11\r\n| Installation Method |  PHAR\r\n\r\n#### Summary\r\n\r\nWhen running our test suite, after ~3000 tests the program stops with an internal error.\r\n\r\n#### Current behavior\r\n\r\nWhen running our test suite, suddenly below error occurs. There were only some code changes done in the code being tested; it was running on 10.4.1 this morning. Update to 10.4.2 does not help. Here is the complete error:\r\n\r\nAn error occurred inside PHPUnit.\r\n\r\nMessage:  PHPUnit\\Event\\Telemetry\\HRTime::duration(): Argument #1 ($start) must be of type PHPUnit\\Event\\Telemetry\\HRTime, null given, called in phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php on line 191\r\n\r\nLocation: phar:///usr/local/bin/phpunit/phpunit/TextUI/TestRunner.php:48\r\n\r\n#0 phar:///usr/local/bin/phpunit/phpunit/TextUI/Application.php(144): PHPUnit\\TextUI\\TestRunner->run()\r\n#1 /usr/local/bin/phpunit(2976): PHPUnit\\TextUI\\Application->run()\r\n#2 {main}\r\n\r\nCaused by: phar:///usr/local/bin/phpunit/phpunit/Event/Value/Telemetry/HRTime.php:54\r\n\r\n#0 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php(191): PHPUnit\\Event\\Telemetry\\HRTime->duration()\r\n#1 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php(148): PHPUnit\\Logging\\JUnit\\JunitXmlLogger->handleFinish()\r\n#2 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/Subscriber/TestFinishedSubscriber.php(29): PHPUnit\\Logging\\JUnit\\JunitXmlLogger->testFinished()\r\n#3 phar:///usr/local/bin/phpunit/phpunit/Event/Dispatcher/DirectDispatcher.php(78): PHPUnit\\Logging\\JUnit\\TestFinishedSubscriber->notify()\r\n#4 phar:///usr/local/bin/phpunit/phpunit/Event/Dispatcher/DeferringDispatcher.php(41): PHPUnit\\Event\\DirectDispatcher->dispatch()\r\n#5 phar:///usr/local/bin/phpunit/phpunit/Event/Emitter/DispatchingEmitter.php(548): PHPUnit\\Event\\DeferringDispatcher->dispatch()\r\n#6 phar:///usr/local/bin/phpunit/phpunit/Framework/TestRunner.php(152): PHPUnit\\Event\\DispatchingEmitter->testFinished()\r\n#7 phar:///usr/local/bin/phpunit/phpunit/Framework/TestCase.php(436): PHPUnit\\Framework\\TestRunner->run()\r\n#8 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestCase->run()\r\n#9 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestSuite->run()\r\n#10 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestSuite->run()\r\n#11 phar:///usr/local/bin/phpunit/phpunit/TextUI/TestRunner.php(44): PHPUnit\\Framework\\TestSuite->run()\r\n#12 phar:///usr/local/bin/phpunit/phpunit/TextUI/Application.php(144): PHPUnit\\TextUI\\TestRunner->run()\r\n#13 /usr/local/bin/phpunit(2976): PHPUnit\\TextUI\\Application->run()\r\n#14 {main}\r\n\r\n\r\n#### How to reproduce\r\n\r\nI do not have a way to reproduce this with a small example. However, since it is a type error, I would hope it might be possible to find it while analysing the code. I looked at the code and I see that there is an assert before, but it is most likely disabled.\r\n\r\n#### Expected behavior\r\n\r\nPHPUnit runs without internal error\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"hbrecht","id":13656589,"node_id":"MDQ6VXNlcjEzNjU2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13656589?v=4","gravatar_id":"","url":"https://api.github.com/users/hbrecht","html_url":"https://github.com/hbrecht","followers_url":"https://api.github.com/users/hbrecht/followers","following_url":"https://api.github.com/users/hbrecht/following{/other_user}","gists_url":"https://api.github.com/users/hbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/hbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbrecht/subscriptions","organizations_url":"https://api.github.com/users/hbrecht/orgs","repos_url":"https://api.github.com/users/hbrecht/repos","events_url":"https://api.github.com/users/hbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/hbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-14T07:55:53Z","updated_at":"2023-11-14T07:55:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5561","id":1992182523,"node_id":"I_kwDOAAbWLc52vkr7","number":5561,"title":"JUnit XML logger does not handle assertion failures in before-test methods","user":{"login":"hbrecht","id":13656589,"node_id":"MDQ6VXNlcjEzNjU2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13656589?v=4","gravatar_id":"","url":"https://api.github.com/users/hbrecht","html_url":"https://github.com/hbrecht","followers_url":"https://api.github.com/users/hbrecht/followers","following_url":"https://api.github.com/users/hbrecht/following{/other_user}","gists_url":"https://api.github.com/users/hbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/hbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbrecht/subscriptions","organizations_url":"https://api.github.com/users/hbrecht/orgs","repos_url":"https://api.github.com/users/hbrecht/repos","events_url":"https://api.github.com/users/hbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/hbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":1329317012,"node_id":"MDU6TGFiZWwxMzI5MzE3MDEy","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/test-runner","name":"feature/test-runner","color":"e9b96e","default":false,"description":"CLI test runner"},{"id":1842308147,"node_id":"MDU6TGFiZWwxODQyMzA4MTQ3","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging","name":"feature/logging","color":"e9b96e","default":false,"description":"Issues related to logging test results"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"},{"id":8052990377,"node_id":"LA_kwDOAAbWLc8AAAAB3_7hqQ","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging/junit","name":"feature/logging/junit","color":"e9b96e","default":false,"description":"Issues related to logging test results in JUnit XML format"}],"state":"closed","locked":false,"assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2023-11-14T07:55:52Z","updated_at":"2025-01-25T09:06:25Z","closed_at":"2023-12-05T07:31:54Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 10.4.1 / 10.4.2\r\n| PHP version         | PHP 8.2.7 with PCOV 1.0.11\r\n| Installation Method |  PHAR\r\n\r\n#### Summary\r\nOn a failed assertion in setUp, phpunit fails with an internal error.\r\nI am unsure, if assertions are allowed in setUp, the documentation only disallows them in setUpBeforeClass.\r\nIssue was previously reported as #5549, but at the time due to an incorrect analysis on my side I was not able to narrow the root cause down. I updated #5549 with the minimal test case as well.\r\n\r\n#### Current behavior\r\nWhen running the test with the failed assertion, following happens:\r\n\r\nAn error occurred inside PHPUnit.\r\n\r\nMessage:  PHPUnit\\Event\\Telemetry\\HRTime::duration(): Argument #1 ($start) must be of type PHPUnit\\Event\\Telemetry\\HRTime, null given, called in phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php on line 191\r\n\r\nLocation: phar:///usr/local/bin/phpunit/phpunit/TextUI/TestRunner.php:48\r\n\r\n#0 phar:///usr/local/bin/phpunit/phpunit/TextUI/Application.php(144): PHPUnit\\TextUI\\TestRunner->run()\r\n#1 /usr/local/bin/phpunit(2976): PHPUnit\\TextUI\\Application->run()\r\n#2 {main}\r\n\r\nCaused by: phar:///usr/local/bin/phpunit/phpunit/Event/Value/Telemetry/HRTime.php:54\r\n\r\n#0 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php(191): PHPUnit\\Event\\Telemetry\\HRTime->duration()\r\n#1 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php(148): PHPUnit\\Logging\\JUnit\\JunitXmlLogger->handleFinish()\r\n#2 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/Subscriber/TestFinishedSubscriber.php(29): PHPUnit\\Logging\\JUnit\\JunitXmlLogger->testFinished()\r\n#3 phar:///usr/local/bin/phpunit/phpunit/Event/Dispatcher/DirectDispatcher.php(78): PHPUnit\\Logging\\JUnit\\TestFinishedSubscriber->notify()\r\n#4 phar:///usr/local/bin/phpunit/phpunit/Event/Dispatcher/DeferringDispatcher.php(41): PHPUnit\\Event\\DirectDispatcher->dispatch()\r\n#5 phar:///usr/local/bin/phpunit/phpunit/Event/Emitter/DispatchingEmitter.php(548): PHPUnit\\Event\\DeferringDispatcher->dispatch()\r\n#6 phar:///usr/local/bin/phpunit/phpunit/Framework/TestRunner.php(152): PHPUnit\\Event\\DispatchingEmitter->testFinished()\r\n#7 phar:///usr/local/bin/phpunit/phpunit/Framework/TestCase.php(436): PHPUnit\\Framework\\TestRunner->run()\r\n#8 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestCase->run()\r\n#9 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestSuite->run()\r\n#10 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestSuite->run()\r\n#11 phar:///usr/local/bin/phpunit/phpunit/TextUI/TestRunner.php(44): PHPUnit\\Framework\\TestSuite->run()\r\n#12 phar:///usr/local/bin/phpunit/phpunit/TextUI/Application.php(144): PHPUnit\\TextUI\\TestRunner->run()\r\n#13 /usr/local/bin/phpunit(2976): PHPUnit\\TextUI\\Application->run()\r\n#14 {main}\r\n\r\nWhen I run with assertions being active, I get\r\n\r\nMessage:  assert($this->currentTestCase !== null)\r\n\r\n#### How to reproduce\r\n\r\n```\r\n<?php\r\nclass DummyTest extends PHPUnit\\Framework\\TestCase {\r\n\r\n        protected function setUp(): void {\r\n            $this->assertTrue(false);\r\n        }\r\n\r\n        public function testDummy(): void {\r\n            $this->assertTrue(true);\r\n        }\r\n}\r\n```\r\n\r\n#### Expected behavior\r\n\r\nPHPUnit runs without internal error or documentation disallows assertions in setUp.\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]