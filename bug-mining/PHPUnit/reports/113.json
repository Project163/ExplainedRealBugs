{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/764","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/764/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/764/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/764/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/764","id":9632837,"node_id":"MDU6SXNzdWU5NjMyODM3","number":764,"title":"\"Not\" constraints generate a confusing error message","user":{"login":"jasonhinkle","id":313176,"node_id":"MDQ6VXNlcjMxMzE3Ng==","avatar_url":"https://avatars.githubusercontent.com/u/313176?v=4","gravatar_id":"","url":"https://api.github.com/users/jasonhinkle","html_url":"https://github.com/jasonhinkle","followers_url":"https://api.github.com/users/jasonhinkle/followers","following_url":"https://api.github.com/users/jasonhinkle/following{/other_user}","gists_url":"https://api.github.com/users/jasonhinkle/gists{/gist_id}","starred_url":"https://api.github.com/users/jasonhinkle/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jasonhinkle/subscriptions","organizations_url":"https://api.github.com/users/jasonhinkle/orgs","repos_url":"https://api.github.com/users/jasonhinkle/repos","events_url":"https://api.github.com/users/jasonhinkle/events{/privacy}","received_events_url":"https://api.github.com/users/jasonhinkle/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2013-01-03T01:00:45Z","updated_at":"2015-10-02T04:17:06Z","closed_at":"2015-10-02T04:17:04Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"This assertion:\n\n`$this->assertNotContains('required', 'username is required');`\n\ngenerates the following error message:\n\n`Failed asserting that 'username is not required' does not contain \"required\"`\n\nNote that 'username is required' has been changed to 'username is _not_ required'\n\nI tracked this down to Framework/Constraint/Not::failureDescription which calls the \"negate\" method.  I see the reason for this is to change the constraint error message appropriately, but it also changes the output that was being tested as well - which mystified me until I tracked this down.\n\nI can see due to the way the message is already generated that Not.php may not be able to reliably figure out what is part of the PHPUnit error and what is the output being tested.  If I were to come up with something would a pull request be considered?\n","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/764/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/764/timeline","performed_via_github_app":null,"state_reason":"completed"}