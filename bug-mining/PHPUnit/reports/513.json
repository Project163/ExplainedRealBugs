{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3745","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3745/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3745/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3745/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/3745","id":463125814,"node_id":"MDU6SXNzdWU0NjMxMjU4MTQ=","number":3745,"title":"Tests take 4 times more time since PhpUnit 8","user":{"login":"VincentLanglet","id":9052536,"node_id":"MDQ6VXNlcjkwNTI1MzY=","avatar_url":"https://avatars.githubusercontent.com/u/9052536?v=4","gravatar_id":"","url":"https://api.github.com/users/VincentLanglet","html_url":"https://github.com/VincentLanglet","followers_url":"https://api.github.com/users/VincentLanglet/followers","following_url":"https://api.github.com/users/VincentLanglet/following{/other_user}","gists_url":"https://api.github.com/users/VincentLanglet/gists{/gist_id}","starred_url":"https://api.github.com/users/VincentLanglet/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/VincentLanglet/subscriptions","organizations_url":"https://api.github.com/users/VincentLanglet/orgs","repos_url":"https://api.github.com/users/VincentLanglet/repos","events_url":"https://api.github.com/users/VincentLanglet/events{/privacy}","received_events_url":"https://api.github.com/users/VincentLanglet/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1432589276,"node_id":"MDU6TGFiZWwxNDMyNTg5Mjc2","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/performance","name":"type/performance","color":"cc0000","default":false,"description":"Issues related to resource consumption (time and memory)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":23,"created_at":"2019-07-02T09:37:56Z","updated_at":"2020-06-22T21:56:31Z","closed_at":"2019-09-06T14:30:11Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 8.2.x\r\n| PHP version         | 7.2.x\r\n| Installation Method | Composer\r\n\r\nI use this command line to run tests.\r\n```\r\nsymfony/vendor/bin/phpunit --testdox -c symfony/ symfony/tests/Unit\r\n```\r\n\r\nWith this phpunit.xml.dist\r\n```\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n\r\n<!-- https://phpunit.de/manual/current/en/appendixes.configuration.html -->\r\n<phpunit xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:noNamespaceSchemaLocation=\"http://schema.phpunit.de/6.5/phpunit.xsd\"\r\n         backupGlobals=\"false\"\r\n         colors=\"true\"\r\n         bootstrap=\"config/bootstrap.php\"\r\n         failOnWarning=\"true\"\r\n>\r\n    <php>\r\n        <ini name=\"error_reporting\" value=\"-1\" />\r\n        <env name=\"APP_ENV\" value=\"test\" />\r\n        <env name=\"DATABASE_URL\" value=\"mysql://sagesconseil:pleaseChangeMe@127.0.0.1/asv_test\" />\r\n        <env name=\"SYMFONY_DEPRECATIONS_HELPER\" value=\"weak\" />\r\n    </php>\r\n\r\n    <filter>\r\n        <whitelist>\r\n            <directory>src</directory>\r\n            <exclude>\r\n                <directory>src/Admin</directory>\r\n                <directory>src/Entity</directory>\r\n                <directory>src/Form/Helper</directory>\r\n                <directory>src/Form/Type</directory>\r\n                <directory>src/Resources</directory>\r\n            </exclude>\r\n        </whitelist>\r\n    </filter>\r\n\r\n    <testsuites>\r\n        <testsuite name=\"All tests\">\r\n            <directory>tests</directory>\r\n        </testsuite>\r\n    </testsuites>\r\n\r\n    <listeners>\r\n        <listener class=\"\\DAMA\\DoctrineTestBundle\\PHPUnit\\PHPUnitListener\" />\r\n    </listeners>\r\n</phpunit>\r\n```\r\n\r\nWith phpunit 7, it takes 8 seconds.\r\n![image](https://user-images.githubusercontent.com/9052536/60502165-8c69b280-9cbd-11e9-84d4-a12acbb88c0b.png)\r\n\r\nWith phpunit 8, it takes 31 seconds.\r\n![image](https://user-images.githubusercontent.com/9052536/60502193-9db2bf00-9cbd-11e9-8a66-34f9d1e48bad.png)","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3745/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3745/timeline","performed_via_github_app":null,"state_reason":"completed"}