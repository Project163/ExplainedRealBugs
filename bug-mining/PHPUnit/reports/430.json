{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/397","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/397/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/397/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/397/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/397","id":2153663,"node_id":"MDU6SXNzdWUyMTUzNjYz","number":397,"title":"Getting undefined offset when generate coverage report","user":{"login":"jrbasso","id":26548,"node_id":"MDQ6VXNlcjI2NTQ4","avatar_url":"https://avatars.githubusercontent.com/u/26548?v=4","gravatar_id":"","url":"https://api.github.com/users/jrbasso","html_url":"https://github.com/jrbasso","followers_url":"https://api.github.com/users/jrbasso/followers","following_url":"https://api.github.com/users/jrbasso/following{/other_user}","gists_url":"https://api.github.com/users/jrbasso/gists{/gist_id}","starred_url":"https://api.github.com/users/jrbasso/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrbasso/subscriptions","organizations_url":"https://api.github.com/users/jrbasso/orgs","repos_url":"https://api.github.com/users/jrbasso/repos","events_url":"https://api.github.com/users/jrbasso/events{/privacy}","received_events_url":"https://api.github.com/users/jrbasso/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2011-11-05T21:08:15Z","updated_at":"2011-11-11T02:01:48Z","closed_at":"2011-11-09T10:14:05Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Using PHPUnit 3.6.2 I am getting an undefined offset when generate coverage report.\n\n```\n$ phpunit -c phpunit.xml UserTest.php \nPHPUnit 3.6.2 by Sebastian Bergmann.\n\nConfiguration read from /.../Test/phpunit.xml\n\n..\n\nTime: 8 seconds, Memory: 8.25Mb\n\nOK (2 tests, 25 assertions)\n\nGenerating code coverage report, this may take a moment.PHP Notice:  Undefined offset: 17 in /usr/local/lib/php/PHP/Token/Stream.php on line 534\nPHP Stack trace:\nPHP   1. {main}() /usr/local/bin/phpunit:0\nPHP   2. PHPUnit_TextUI_Command::main() /usr/local/bin/phpunit:46\nPHP   3. PHPUnit_TextUI_Command->run() /usr/local/lib/php/PHPUnit/TextUI/Command.php:126\nPHP   4. PHPUnit_TextUI_TestRunner->doRun() /usr/local/lib/php/PHPUnit/TextUI/Command.php:188\nPHP   5. PHP_CodeCoverage_Report_HTML->process() /usr/local/lib/php/PHPUnit/TextUI/TestRunner.php:368\nPHP   6. PHP_CodeCoverage->getReport() /usr/local/lib/php/PHP/CodeCoverage/Report/HTML.php:133\nPHP   7. PHP_CodeCoverage_Report_Factory->create() /usr/local/lib/php/PHP/CodeCoverage.php:141\nPHP   8. PHP_CodeCoverage_Report_Factory->addItems() /usr/local/lib/php/PHP/CodeCoverage/Report/Factory.php:76\nPHP   9. PHP_CodeCoverage_Report_Factory->addItems() /usr/local/lib/php/PHP/CodeCoverage/Report/Factory.php:95\nPHP  10. PHP_CodeCoverage_Report_Node_Directory->addFile() /usr/local/lib/php/PHP/CodeCoverage/Report/Factory.php:92\nPHP  11. PHP_CodeCoverage_Report_Node_File->__construct() /usr/local/lib/php/PHP/CodeCoverage/Report/Node/Directory.php:211\nPHP  12. PHP_CodeCoverage_Util::getLinesToBeIgnored() /usr/local/lib/php/PHP/CodeCoverage/Report/Node/File.php:166\nPHP  13. PHP_Token_Stream->getClasses() /usr/local/lib/php/PHP/CodeCoverage/Util.php:259\nPHP  14. PHP_Token_Stream->parse() /usr/local/lib/php/PHP/Token/Stream.php:249\nPHP  15. PHP_Token_INTERFACE->getInterfaces() /usr/local/lib/php/PHP/Token/Stream.php:396\nPHP  16. PHP_Token_INTERFACE->hasInterfaces() /usr/local/lib/php/PHP/Token.php:591\nPHP  17. PHP_Token_Stream->offsetGet() /usr/local/lib/php/PHP/Token/Stream.php:582\n```\n\nphpunit.xml:\n\n``` xml\n<?xml version=\"1.0\" encoding=\"UTF-8\" ?>\n<phpunit backupGlobals=\"false\"\n         backupStaticAttributes=\"false\"\n         convertErrorsToExceptions=\"true\"\n         convertNoticesToExceptions=\"true\"\n         convertWarningsToExceptions=\"true\"\n         processIsolation=\"false\"\n         stopOnFailure=\"false\"\n         syntaxCheck=\"true\"\n         strict=\"true\"\n         colors=\"true\">\n    <php>\n        <var name=\"DB_CONFIG\" value=\"DB.test\" />\n    </php>\n    <testsuites>\n        <testsuite name=\"Core Test Suite\">\n            <directory>./</directory>\n        </testsuite>\n        <testsuite name=\"Service Test Suite\">\n            <directory>../Service/Test</directory>\n        </testsuite>\n    </testsuites>\n    <filter>\n        <blacklist>\n            <directory>../../lib/</directory>\n            <directory>./</directory>\n            <directory>../Service/Test</directory>\n            <file>../AutoLoader.php</file>\n        </blacklist>\n    </filter>\n    <logging>\n        <log type=\"coverage-html\" target=\"../../report\" charset=\"UTF-8\"/>\n    </logging>\n</phpunit>\n```\n\nThe same file wasn't causing this notice in PHPUnit 3.5.15.\n","closed_by":{"login":"edorian","id":247397,"node_id":"MDQ6VXNlcjI0NzM5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/247397?v=4","gravatar_id":"","url":"https://api.github.com/users/edorian","html_url":"https://github.com/edorian","followers_url":"https://api.github.com/users/edorian/followers","following_url":"https://api.github.com/users/edorian/following{/other_user}","gists_url":"https://api.github.com/users/edorian/gists{/gist_id}","starred_url":"https://api.github.com/users/edorian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edorian/subscriptions","organizations_url":"https://api.github.com/users/edorian/orgs","repos_url":"https://api.github.com/users/edorian/repos","events_url":"https://api.github.com/users/edorian/events{/privacy}","received_events_url":"https://api.github.com/users/edorian/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/397/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/397/timeline","performed_via_github_app":null,"state_reason":"completed"}