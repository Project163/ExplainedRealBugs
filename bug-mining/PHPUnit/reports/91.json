{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/582","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/582/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/582/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/582/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/582","id":4894916,"node_id":"MDU6SXNzdWU0ODk0OTE2","number":582,"title":"\"printerFile\" relative paths behavior causing some problems","user":{"login":"stronk7","id":167147,"node_id":"MDQ6VXNlcjE2NzE0Nw==","avatar_url":"https://avatars.githubusercontent.com/u/167147?v=4","gravatar_id":"","url":"https://api.github.com/users/stronk7","html_url":"https://github.com/stronk7","followers_url":"https://api.github.com/users/stronk7/followers","following_url":"https://api.github.com/users/stronk7/following{/other_user}","gists_url":"https://api.github.com/users/stronk7/gists{/gist_id}","starred_url":"https://api.github.com/users/stronk7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stronk7/subscriptions","organizations_url":"https://api.github.com/users/stronk7/orgs","repos_url":"https://api.github.com/users/stronk7/repos","events_url":"https://api.github.com/users/stronk7/events{/privacy}","received_events_url":"https://api.github.com/users/stronk7/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2012-06-04T19:28:19Z","updated_at":"2013-05-30T02:54:39Z","closed_at":"2013-05-30T02:54:39Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\n\nit seems that using \"printerFile\" relative paths in phpunit.xml leads to some problems / restricts how tests can be executed.\n\nThis is part of the phpunit.xml we generate for the root of the project:\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<phpunit\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:noNamespaceSchemaLocation=\"lib/phpunit/phpunit.xsd\"\n    bootstrap=\"lib/phpunit/bootstrap.php\"\n    ....\n    ....\n    printerClass=\"Hint_ResultPrinter\"\n    printerFile=\"lib/phpunit/classes/hint_resultprinter.php\"\n    >\n<testsuites>\n ....\n ....\n```\n\nAnd, this one example for the phpunit corresponding to one plugin/module (/mod/forum, 2 dirs deeper):\n\n```\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<phpunit\n    xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\n    xsi:noNamespaceSchemaLocation=\"../../lib/phpunit/phpunit.xsd\"\n    bootstrap=\"../../lib/phpunit/bootstrap.php\"\n    ....\n    ....\n    printerClass=\"Hint_ResultPrinter\"\n    printerFile=\"../../lib/phpunit/classes/hint_resultprinter.php\"\n    >\n<testsuites>\n ....\n ....\n```\n\nUsing those phpunit files we are able to run:\n\n```\ncd /path/to/rootdir && phpunit\ncd /path/to/rootdir/mod/forum && phpunit\n```\n\nBut any of these fail with error: \"Could not use \"Hint_ResultPrinter\" as printer.\"\n\n```\ncd /path/to/rootdir && cd .. && phpunit -c rootdir\ncd /path/to/rootdir && cd .. && phpunit -c rootdir/phpunit.xml\ncd /path/to/rootdir && phpunit -c mod/forum\ncd /path/to/rootdir && phpunit -c mod/forum/phpunit.xml\n```\n\nAnd they were working ok before introducing the custom ResultPrinter in phpunit.xml. Also note that we use the relative path for the bootstrap and is working perfectly, so it would be desirable to get also the printerFile supporting those relatives.\n\nFor reference:\n- code-base: https://github.com/moodle/moodle\n- original issue in Moodle tracker (fixed by temp removal of the printerFile from the generated phpunit.xml files: http://tracker.moodle.org/browse/MDL-33436\n\nCiao :-)\n","closed_by":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/582/timeline","performed_via_github_app":null,"state_reason":"completed"}