[{"id":5052019572,"node_id":"MDEyOkxhYmVsZWRFdmVudDUwNTIwMTk1NzI=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5052019572","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-07-21T18:57:07Z","label":{"name":"type/bug","color":"cc0000"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884423563","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-884423563","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":884423563,"node_id":"IC_kwDOAAbWLc40tzuL","user":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-21T19:03:42Z","updated_at":"2021-07-21T19:03:42Z","body":"Note: I've opened this issue here as the error notice indicates it is a problem with the Phar missing a file.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884423563/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884654710","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-884654710","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":884654710,"node_id":"IC_kwDOAAbWLc40usJ2","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T04:52:45Z","updated_at":"2021-07-22T05:02:04Z","body":"The PHAR for PHPUnit 9.5.7 was built with `phar-io/manifest` 2.0.1. Since then, [version 2.0.3](https://github.com/phar-io/manifest/compare/2.0.1...2.0.3) of that library has been released which contains a fix for the PHP 8.1 deprecation notices.\r\n\r\nAs you can see [here](https://github.com/sebastianbergmann/phpunit/runs/3130753462), the PHAR built from the current state of `9.5` fails for a different (but similar) reason that I shall address shortly.\r\n\r\nThank you for bringing this to my attention. We [now](https://github.com/sebastianbergmann/phpunit/commit/77f68f12766a6750694a2636eafa0398f4a585da) test the PHAR against all supported versions of PHP instead of just one.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884654710/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5053608440,"node_id":"MDEyOkxhYmVsZWRFdmVudDUwNTM2MDg0NDA=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5053608440","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-07-22T04:52:55Z","label":{"name":"type/change-in-php-requires-adaptation","color":"cc0000"},"performed_via_github_app":null},{"id":5053608560,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50NTA1MzYwODU2MA==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5053608560","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2021-07-22T04:52:59Z","label":{"name":"type/bug","color":"cc0000"},"performed_via_github_app":null},{"id":5053608606,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ1MDUzNjA4NjA2","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5053608606","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2021-07-22T04:53:01Z","assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884667189","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-884667189","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":884667189,"node_id":"IC_kwDOAAbWLc40uvM1","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T05:37:07Z","updated_at":"2021-07-22T05:37:18Z","body":"> The PHAR for PHPUnit 9.5.7 was built with `phar-io/manifest` 2.0.1. Since then, [version 2.0.3](https://github.com/phar-io/manifest/compare/2.0.1...2.0.3) of that library has been released which contains a fix for the PHP 8.1 deprecation notices.\r\n\r\nOh-kay, this is more complex than originally thought. The deprecation notices are fixed in `phar-io/manifest` 2.0.3, but PHPAB's topological sort of code units puts the import of `AuthorCollection` before `AuthorCollectionIterator` leading to\r\n\r\n```php\r\nrequire __DIR__ . '/../vendor/phar-io/manifest/src/values/AuthorCollection.php';\r\nrequire __DIR__ . '/../vendor/phar-io/manifest/src/values/AuthorCollectionIterator.php';\r\n```\r\n\r\nwhich results in\r\n\r\n```\r\nFatal error: Could not check compatibility between\r\nPharIo\\Manifest\\AuthorCollection::getIterator(): PharIo\\Manifest\\AuthorCollectionIterator\r\nand IteratorAggregate::getIterator(): Traversable, because class\r\nPharIo\\Manifest\\AuthorCollectionIterator is not available in /path/to/manifest/src/values/AuthorCollection.php on line 31\r\n```\r\n\r\nChanging\r\n\r\n```php\r\nrequire __DIR__ . '/../vendor/phar-io/manifest/src/values/AuthorCollection.php';\r\nrequire __DIR__ . '/../vendor/phar-io/manifest/src/values/AuthorCollectionIterator.php';\r\n```\r\n\r\nto\r\n\r\n```php\r\nrequire __DIR__ . '/../vendor/phar-io/manifest/src/values/AuthorCollectionIterator.php';\r\nrequire __DIR__ . '/../vendor/phar-io/manifest/src/values/AuthorCollection.php';\r\n```\r\n\r\nfixes this.\r\n\r\nHowever, this certainly will break at some point in the future when additional compile-time checks are added to PHP. The only solution I see is to stop using a static autoloader for the PHAR. This was required in the past for preventing errors in environments where users run PHPUnit from a PHAR in a project where (a different version of) PHPUnit is also installed using Composer. This was before we had scoped PHARs.\r\n\r\nRegarding the topological sorting of code units performed by PHPAB: that is a different topic (for a different repository). I suspect that PHPAB's sorter does not look at return type declarations (yet) as it should have otherwise detected the cyclic dependency between `AuthorCollection` before `AuthorCollectionIterator`.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884667189/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884667811","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-884667811","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":884667811,"node_id":"IC_kwDOAAbWLc40uvWj","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T05:39:23Z","updated_at":"2021-07-22T05:39:23Z","body":"@nikic **ping** to let you know that these recent changes in PHP 8.1 caused an issues that was unexpected, at least to me. Maybe this should be noted in the upgrading notes?","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884667811/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5053707029,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTA1MzcwNzAyOQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5053707029","actor":{"login":"nikic","id":216080,"node_id":"MDQ6VXNlcjIxNjA4MA==","avatar_url":"https://avatars.githubusercontent.com/u/216080?v=4","gravatar_id":"","url":"https://api.github.com/users/nikic","html_url":"https://github.com/nikic","followers_url":"https://api.github.com/users/nikic/followers","following_url":"https://api.github.com/users/nikic/following{/other_user}","gists_url":"https://api.github.com/users/nikic/gists{/gist_id}","starred_url":"https://api.github.com/users/nikic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikic/subscriptions","organizations_url":"https://api.github.com/users/nikic/orgs","repos_url":"https://api.github.com/users/nikic/repos","events_url":"https://api.github.com/users/nikic/events{/privacy}","received_events_url":"https://api.github.com/users/nikic/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-07-22T05:39:23Z","performed_via_github_app":null},{"id":5053707030,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUwNTM3MDcwMzA=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5053707030","actor":{"login":"nikic","id":216080,"node_id":"MDQ6VXNlcjIxNjA4MA==","avatar_url":"https://avatars.githubusercontent.com/u/216080?v=4","gravatar_id":"","url":"https://api.github.com/users/nikic","html_url":"https://github.com/nikic","followers_url":"https://api.github.com/users/nikic/followers","following_url":"https://api.github.com/users/nikic/following{/other_user}","gists_url":"https://api.github.com/users/nikic/gists{/gist_id}","starred_url":"https://api.github.com/users/nikic/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nikic/subscriptions","organizations_url":"https://api.github.com/users/nikic/orgs","repos_url":"https://api.github.com/users/nikic/repos","events_url":"https://api.github.com/users/nikic/events{/privacy}","received_events_url":"https://api.github.com/users/nikic/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-07-22T05:39:23Z","performed_via_github_app":null},{"id":5053796221,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNTM3OTYyMjE=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5053796221","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4b5756d8b093d5ae74801586e621703508ec4be1","commit_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits/4b5756d8b093d5ae74801586e621703508ec4be1","created_at":"2021-07-22T06:14:48Z","performed_via_github_app":null},{"id":5053796280,"node_id":"MDExOkNsb3NlZEV2ZW50NTA1Mzc5NjI4MA==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5053796280","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"4b5756d8b093d5ae74801586e621703508ec4be1","commit_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits/4b5756d8b093d5ae74801586e621703508ec4be1","created_at":"2021-07-22T06:14:49Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884682973","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-884682973","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":884682973,"node_id":"IC_kwDOAAbWLc40uzDd","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T06:23:51Z","updated_at":"2021-07-22T07:07:30Z","body":"Current status: PHARs built from `8.5`, `9.5`, and `master` work on PHP 8.1. However, [building the PHAR using PHP 8.1 does not work](https://github.com/humbug/php-scoper/issues/530). This is what causes the build failures [here](https://github.com/sebastianbergmann/phpunit/runs/3131198170) and [here](https://github.com/sebastianbergmann/phpunit/runs/3131198059).\r\n\r\nWhen support for PHPUnit 8.5 for newer PHP versions was decided, we forgot to backport build pipeline improvements to the `8.5` branch. I have opened https://github.com/sebastianbergmann/phpunit/issues/4741 to remedy that.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884682973/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884717426","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-884717426","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":884717426,"node_id":"IC_kwDOAAbWLc40u7dy","user":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T07:44:43Z","updated_at":"2021-07-22T07:44:43Z","body":"Thanks @sebastianbergmann for your swift action on this and the detailed analysis.\r\n\r\nI'd seen the PHP 8.1 update commits in Phar.io before I opened this issue, but as they didn't seem to involve the classes mentioned in the error, I had a feeling this was going to be more complex than just updating.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884717426/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5054109425,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NTA1NDEwOTQyNQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5054109425","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-07-22T07:44:43Z","performed_via_github_app":null},{"id":5054109428,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDUwNTQxMDk0Mjg=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5054109428","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-07-22T07:44:43Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884745399","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-884745399","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":884745399,"node_id":"IC_kwDOAAbWLc40vCS3","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-22T08:36:35Z","updated_at":"2021-07-22T08:36:35Z","body":"I have raised a [question](https://news-web.php.net/php.internals/115549) about this on the PHP development mailinglist.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/884745399/reactions","total_count":7,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":5,"rocket":2,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/885888782","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-885888782","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":885888782,"node_id":"IC_kwDOAAbWLc40zZcO","user":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-23T20:11:13Z","updated_at":"2021-07-23T20:11:13Z","body":"Setting `error_reporting` to `-1` for the Phar build test runs showed me two more PHP 8.1 issues. Reported in: https://github.com/box-project/box/pull/557","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/885888782/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-24T12:01:29Z","updated_at":"2021-07-24T12:01:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4744","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4744/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4744/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4744/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4744","id":952048564,"node_id":"MDU6SXNzdWU5NTIwNDg1NjQ=","number":4744,"title":"PHPUnit 9 PHAR is not executable on PHP 8.1.0beta1 docker images","user":{"login":"hollodotme","id":1557839,"node_id":"MDQ6VXNlcjE1NTc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1557839?v=4","gravatar_id":"","url":"https://api.github.com/users/hollodotme","html_url":"https://github.com/hollodotme","followers_url":"https://api.github.com/users/hollodotme/followers","following_url":"https://api.github.com/users/hollodotme/following{/other_user}","gists_url":"https://api.github.com/users/hollodotme/gists{/gist_id}","starred_url":"https://api.github.com/users/hollodotme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hollodotme/subscriptions","organizations_url":"https://api.github.com/users/hollodotme/orgs","repos_url":"https://api.github.com/users/hollodotme/repos","events_url":"https://api.github.com/users/hollodotme/events{/privacy}","received_events_url":"https://api.github.com/users/hollodotme/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-07-24T10:35:32Z","updated_at":"2021-07-24T12:01:29Z","closed_at":"2021-07-24T12:01:29Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n- Please do not report an issue for a version of PHPUnit that is no longer supported. A list of currently supported versions of PHPUnit is available at https://phpunit.de/supported-versions.html.\r\n- Please do not report an issue if you are using a version of PHP that is not supported by the version of PHPUnit you are using. A list that shows which version of PHP is supported by which version of PHPUnit is available at https://phpunit.de/supported-versions.html.\r\n- Please fill in this template according to your issue.\r\n- Please keep the table shown below at the top of your issue.\r\n- Please include the output of \"composer info | sort\" if you installed PHPUnit using Composer.\r\n- Please post code as text (using proper markup). Do not post screenshots of code.\r\n- Visit https://phpunit.de/support.html if you are looking for support.\r\n- Please remove this comment before submitting your issue.\r\n-->\r\n\r\n| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 9.5.7\r\n| PHP version         | 8.1.0beta1\r\n| Installation Method | PHAR\r\n\r\n#### Summary\r\n\r\n**Disclaimer:** I am not sure if this is a PHPUnit issue or a PHP 8.1 Beta version issue. But I wanted to leave it here to raise awareness and just in case you need to adjust something on your end.  \r\n\r\nThe latest PHPUnit PHAR is not executable on PHP 8.1.0beta1 docker images.\r\n\r\n#### Current behavior\r\n\r\nWhen executing the `phpunit.phar` on the latest PHP 8.1.0beta1 docker images I see:\r\n\r\n```\r\nFatal error: Could not check compatibility between PHPUnit\\PharIo\\Manifest\\AuthorCollection::getIterator(): PHPUnit\\PharIo\\Manifest\\AuthorCollectionIterator and IteratorAggregate::getIterator(): Traversable, because class PHPUnit\\PharIo\\Manifest\\AuthorCollectionIterator is not available in phar:///tools/phpunit-9.phar/phar-io-manifest/values/AuthorCollection.php on line 33\r\n```\r\n\r\nRunning the same on PHP 8.0 prints the help page of PHPUnit as expected.\r\n\r\nAs far as I could inspect the PHAR file, the class mentioned in the error is there and in the correct directory and namespace.\r\n\r\n#### How to reproduce\r\n\r\n```bash\r\n# 1. get the PHAR\r\nwget https://phar.phpunit.de/phpunit-9.phar \r\n\r\n# 2. Make it executable\r\nchmod +x phpunit-9.phar\r\n\r\n# 3. Run it\r\ndocker run --rm -v $(pwd):/tools php:8.1.0beta1-cli /tools/phpunit-9.phar\r\n```\r\n\r\nI also tried the following image variants:\r\n\r\n* php:8.1.0beta1-fpm\r\n* php:8.1.0beta1-fpm-alpine\r\n* php:8.1.0beta1-cli-alpine\r\n\r\nwith the same result.\r\n\r\nUsing latest PHP 8.0 images work, for example:\r\n\r\n```bash\r\ndocker run --rm -v $(pwd):/tools php:8.0-cli /tools/phpunit-9.phar\r\n```\r\n\r\n#### Expected behavior\r\n\r\nSeeing the help page of PHPUnit.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4744/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4744/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/886155126","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4740#issuecomment-886155126","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4740","id":886155126,"node_id":"IC_kwDOAAbWLc400ad2","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-25T06:40:42Z","updated_at":"2021-07-25T06:40:42Z","body":"As of d7258e09402f83e87fb0caa6f16f8e1da91ee8cb, PHPUnit now errors out when it detects that it was invoked from a PHAR but its code is autoloaded from a different source such as a Composer-managed installation.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/886155126/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5067264598,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwNjcyNjQ1OTg=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5067264598","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"becab3f20be670574e7000d5924bd3ca24af6434","commit_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits/becab3f20be670574e7000d5924bd3ca24af6434","created_at":"2021-07-26T09:39:13Z","performed_via_github_app":null},{"id":5094279144,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwOTQyNzkxNDQ=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5094279144","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"43a424bd41d98f3e9c5c2e0f82a4aff39beb4b7a","commit_url":"https://api.github.com/repos/jrfnl/ReflectionCommon/commits/43a424bd41d98f3e9c5c2e0f82a4aff39beb4b7a","created_at":"2021-07-31T11:23:39Z","performed_via_github_app":null},{"id":5094281574,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwOTQyODE1NzQ=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5094281574","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"da2be4da73997eb5dcf2f34218fa3e26e54eac0d","commit_url":"https://api.github.com/repos/jrfnl/ReflectionCommon/commits/da2be4da73997eb5dcf2f34218fa3e26e54eac0d","created_at":"2021-07-31T11:27:06Z","performed_via_github_app":null},{"id":5094284324,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwOTQyODQzMjQ=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5094284324","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"9a25c7c6afd11ca0d28a8af8259d694d6e5c123d","commit_url":"https://api.github.com/repos/jrfnl/ReflectionCommon/commits/9a25c7c6afd11ca0d28a8af8259d694d6e5c123d","created_at":"2021-07-31T11:31:00Z","performed_via_github_app":null},{"id":5094290488,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwOTQyOTA0ODg=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5094290488","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c8184591b4b6a55263f2443575c9c795dd703797","commit_url":"https://api.github.com/repos/jrfnl/ReflectionCommon/commits/c8184591b4b6a55263f2443575c9c795dd703797","created_at":"2021-07-31T11:39:58Z","performed_via_github_app":null},{"id":5094291399,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwOTQyOTEzOTk=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5094291399","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"23bac4125924bcc1017f8cb749e80eb4bd29e76e","commit_url":"https://api.github.com/repos/jrfnl/ReflectionCommon/commits/23bac4125924bcc1017f8cb749e80eb4bd29e76e","created_at":"2021-07-31T11:41:26Z","performed_via_github_app":null},{"actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-07-31T12:42:27Z","updated_at":"2021-07-31T12:42:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues/37","repository_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon","labels_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues/37/labels{/name}","comments_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues/37/comments","events_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues/37/events","html_url":"https://github.com/phpDocumentor/ReflectionCommon/issues/37","id":957238572,"node_id":"MDU6SXNzdWU5NTcyMzg1NzI=","number":37,"title":"CI review for PHP 8.1/decisions requested","user":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-07-31T12:42:27Z","updated_at":"2021-08-06T18:58:55Z","closed_at":"2021-08-06T18:58:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":36597039,"node_id":"MDEwOlJlcG9zaXRvcnkzNjU5NzAzOQ==","name":"ReflectionCommon","full_name":"phpDocumentor/ReflectionCommon","private":false,"owner":{"login":"phpDocumentor","id":1239567,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyMzk1Njc=","avatar_url":"https://avatars.githubusercontent.com/u/1239567?v=4","gravatar_id":"","url":"https://api.github.com/users/phpDocumentor","html_url":"https://github.com/phpDocumentor","followers_url":"https://api.github.com/users/phpDocumentor/followers","following_url":"https://api.github.com/users/phpDocumentor/following{/other_user}","gists_url":"https://api.github.com/users/phpDocumentor/gists{/gist_id}","starred_url":"https://api.github.com/users/phpDocumentor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phpDocumentor/subscriptions","organizations_url":"https://api.github.com/users/phpDocumentor/orgs","repos_url":"https://api.github.com/users/phpDocumentor/repos","events_url":"https://api.github.com/users/phpDocumentor/events{/privacy}","received_events_url":"https://api.github.com/users/phpDocumentor/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/phpDocumentor/ReflectionCommon","description":null,"fork":false,"url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon","forks_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/forks","keys_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/keys{/key_id}","collaborators_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/teams","hooks_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/hooks","issue_events_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues/events{/number}","events_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/events","assignees_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/assignees{/user}","branches_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/branches{/branch}","tags_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/tags","blobs_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/git/refs{/sha}","trees_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/git/trees{/sha}","statuses_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/statuses/{sha}","languages_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/languages","stargazers_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/stargazers","contributors_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/contributors","subscribers_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/subscribers","subscription_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/subscription","commits_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/commits{/sha}","git_commits_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/git/commits{/sha}","comments_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/comments{/number}","issue_comment_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues/comments{/number}","contents_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/contents/{+path}","compare_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/compare/{base}...{head}","merges_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/merges","archive_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/downloads","issues_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues{/number}","pulls_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/pulls{/number}","milestones_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/milestones{/number}","notifications_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/labels{/name}","releases_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/releases{/id}","deployments_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/deployments","created_at":"2015-05-31T09:52:59Z","updated_at":"2025-11-09T16:20:08Z","pushed_at":"2025-10-06T21:02:27Z","git_url":"git://github.com/phpDocumentor/ReflectionCommon.git","ssh_url":"git@github.com:phpDocumentor/ReflectionCommon.git","clone_url":"https://github.com/phpDocumentor/ReflectionCommon.git","svn_url":"https://github.com/phpDocumentor/ReflectionCommon","homepage":"","size":159,"stargazers_count":9074,"watchers_count":9074,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":22,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["hacktoberfest"],"visibility":"public","forks":22,"open_issues":2,"watchers":9074,"default_branch":"2.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi @jaapio,\r\n\r\nAs discussed, I've done a review of the CI setup with an eye on getting the tests running on PHP 8.1.\r\n\r\nAside from some obvious fixes which are needed, I also found a number of things for which there are multiple solution directions available and I would like to ask you for guidance as to what is your preferred solution.\r\n\r\nI have a (passing) WIP branch prepared and will pull the various PRs once I receive your replies.\r\n\r\n### Psalm\r\n\r\nAt this moment, there is an inconsistency between the Psalm version for local dev use and the Psalm version used in CI.\r\n\r\nFor local dev, Psalm is installed via Phive and fixed at version `3.11.2` which yields no issues. An upgrade to version `3.18.2` (last 3.x release) would be needed due to the age of the version, but that is an update without consequence.\r\n\r\nFor CI, Psalm is installed via the `tools` option of the `setup-php` action without fixed version, which in practice means that the latest version of Psalm is used, which is version `4.6.1`, which would yield one issue.\r\n\r\nOptions:\r\n* Manage Psalm via Phive and change the CI workflow for Psalm to use the Phive installed version of Psalm.\r\n* Use `setup-php` to install Psalm in CI, but fix the version being installed to the same version as installed via Phive.\r\n    This would add a maintenance burden as the version numbers in `phive.xml` and in the `push.yml` workflow file would need to be manually kept in sync.\r\n* Always use the latest version of Psalm, no changes needed in CI, one fix needed in the code base, update of Phive `version`  for Psalm needed.\r\n    Note: I'm not sure how to ensure that Phive will always install the latest version and haven't been able to find information on the XML schema to figure out if I can just remove the `installed` key or set it to `latest` or something.\r\n\r\nAdditional question:\r\n* Do you want to upgrade from Psalm 3.x to Psalm 4.x ?  (option 3 already implies this)\r\n\r\n### Test workflow\r\n\r\nIn the `phpunit` job, the actual running of the tests has a `continue-on-error` directive. This means that even when a test build fails, the workflow will continue and not be marked as \"failed\", nor will email notification about the failed build be send out.\r\nIndividual _builds_ will still be marked as failed.\r\n\r\nI suspect this may have been set-up this way to make sure that all matrix variations of test builds will actually be run ?\r\n\r\nI'm proposing to change this now by:\r\n* Removing the `continue-on-error` for the test run step.\r\n* Adding the `fail-fast` key and setting it to `false`.\r\n    By default this key is set to `true`, which means that if any individual build within the job fails, all other builds within the job will be cancelled.\r\n    By setting it to `false`, all builds in the matrix will still be run, but if any of them fail, the workflow will be marked as \"failed\".\r\n\r\n### PHPUnit vs PHP 8.1\r\n\r\nThe latest release of the PHPUnit 9.5 Phar still contains [an incompatibility with PHP 8.1-beta1](https://github.com/sebastianbergmann/phpunit/issues/4740) (and higher).\r\nUsing the PHPUnit Phar will therefore fail the build, even though the tests **do** actually pass on PHP 8.1.\r\n\r\nThe next Phar release of PHPUnit (9.5.8) will contain a fix for the above mentioned issue.\r\n\r\nOptions:\r\n* For the time being, allow the test builds against PHP 8.1 to fail.\r\n* For the time being, use a Composer installed version of PHPUnit for the test run against PHP 8.1.\r\n\r\n\r\n### General\r\n\r\nIn various jobs in the workflow, steps are included to cache the Composer `downloads` directory and run `composer install`. However, this package has no dependencies, so these steps are redundant.\r\n\r\nOptions:\r\n* Remove these steps and replace them with a single step to run `composer dumpautoload`.\r\n* Replace these steps with the `ramsey/composer-install` action to clean up the script and maintain the existing behaviour.\r\n* Leave as-is.\r\n\r\n\r\nPlease let me know what action you'd prefer for each of these issues.","reactions":{"url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/phpDocumentor/ReflectionCommon/issues/37/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":5094773361,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwOTQ3NzMzNjE=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5094773361","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"efabfce5aca3cd45955c1e629ecfc47100eec28a","commit_url":"https://api.github.com/repos/jrfnl/ReflectionCommon/commits/efabfce5aca3cd45955c1e629ecfc47100eec28a","created_at":"2021-07-31T22:47:21Z","performed_via_github_app":null},{"id":5094781751,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwOTQ3ODE3NTE=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5094781751","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a33011e2440213fec3445e0a13f7147f2b61532e","commit_url":"https://api.github.com/repos/jrfnl/ReflectionCommon/commits/a33011e2440213fec3445e0a13f7147f2b61532e","created_at":"2021-07-31T23:02:44Z","performed_via_github_app":null},{"id":5094833053,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDUwOTQ4MzMwNTM=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5094833053","actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"cb374a3a0118c9d7e752e6bdf9b11238ee45d893","commit_url":"https://api.github.com/repos/jrfnl/ReflectionDocBlock/commits/cb374a3a0118c9d7e752e6bdf9b11238ee45d893","created_at":"2021-08-01T00:29:07Z","performed_via_github_app":null}]