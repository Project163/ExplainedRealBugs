{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6355","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6355/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6355/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6355/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/6355","id":3396618904,"node_id":"I_kwDOAAbWLc7KdEqY","number":6355,"title":"Deprecate support for version constraint string argument without explicit version comparison operator","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1842571191,"node_id":"MDU6TGFiZWwxODQyNTcxMTkx","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/deprecation","name":"type/deprecation","color":"cc0000","default":false,"description":"Something will be/is deprecated"},{"id":5111424008,"node_id":"LA_kwDOAAbWLc8AAAABMKokCA","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/metadata/attributes","name":"feature/metadata/attributes","color":"e9b96e","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones/67","html_url":"https://github.com/sebastianbergmann/phpunit/milestone/67","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones/67/labels","id":11972304,"node_id":"MI_kwDOAAbWLc4Atq7Q","number":67,"title":"PHPUnit 12.4","description":"","creator":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":3,"state":"closed","created_at":"2024-11-30T07:25:02Z","updated_at":"2025-10-03T04:37:31Z","due_on":"2025-10-03T07:00:00Z","closed_at":"2025-10-03T04:37:31Z"},"comments":2,"created_at":"2025-09-09T05:02:29Z","updated_at":"2025-10-22T12:49:22Z","closed_at":"2025-09-23T13:50:00Z","author_association":"OWNER","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Here is a test case class with four test methods that each uses a different string argument for the `#[RequiresPhp(string $versionRequirement)]` attribute:\n#### `Test.php`\n```php\n<?php declare(strict_types=1);\nuse PHPUnit\\Framework\\Attributes\\DoesNotPerformAssertions;\nuse PHPUnit\\Framework\\Attributes\\RequiresPhp;\nuse PHPUnit\\Framework\\TestCase;\n\n#[DoesNotPerformAssertions]\nfinal class Test extends TestCase\n{\n    #[RequiresPhp('8.3')]\n    public function testOne(): void\n    {\n    }\n\n    #[RequiresPhp('>= 8.3')]\n    public function testTwo(): void\n    {\n    }\n\n    #[RequiresPhp('^8.3')]\n    public function testThree(): void\n    {\n    }\n\n    #[RequiresPhp('~8.3')]\n    public function testFour(): void\n    {\n    }\n}\n```\n\nRunning the tests shown above using PHPUnit 12.3.8, PHPUnit 11.5.36, and PHPUnit 10.5.52 with PHP 8.4.12 shows the same behaviour:\n\n```\nâ¯ ./phpunit --debug Test.php\nPHPUnit Started (PHPUnit 12.3.8 using PHP 8.4.12 (cli) on Linux)\nTest Runner Configured\nBootstrap Finished (/usr/local/src/phpunit/tests/bootstrap.php)\nEvent Facade Sealed\nTest Suite Loaded (4 tests)\nTest Runner Started\nTest Suite Sorted\nTest Runner Execution Started (4 tests)\nTest Suite Started (Test, 4 tests)\nTest Preparation Started (Test::testOne)\nTest Skipped (Test::testOne)\nPHP 8.3 is required.\nTest Preparation Started (Test::testTwo)\nTest Prepared (Test::testTwo)\nTest Passed (Test::testTwo)\nTest Finished (Test::testTwo)\nTest Preparation Started (Test::testThree)\nTest Prepared (Test::testThree)\nTest Passed (Test::testThree)\nTest Finished (Test::testThree)\nTest Preparation Started (Test::testFour)\nTest Prepared (Test::testFour)\nTest Passed (Test::testFour)\nTest Finished (Test::testFour)\nTest Suite Finished (Test, 4 tests)\nTest Runner Execution Finished\nTest Runner Finished\nPHPUnit Finished (Shell Exit Code: 0)\n```\n\nAs can be seen above, the test that is attributed with `#[RequiresPhp('8.3')]` is skipped on PHP 8.4.12 as the version constraint `'8.3'` does not match PHP 8.4.12 whereas `>= 8.3`, `^8.3`, and `~8.3` do.\n\nThis is the current behaviour and has been since PHPUnit 10. Any change to how `#[RequiresPhp('8.3')]` is interpreted would be a break in backward compatibility.\n\nInstead of changing how `#[RequiresPhp('8.3')]` is interpreted (as `#[RequiresPhp('>= 8.3')]`, for example), I would rather deprecate `$versionRequirement` string arguments for attributes such as `#[RequiresPhp(string $versionRequirement)]` that do not begin with an explicit version comparison operator such as `>=`, `^`, or `~`.\n\nUsing just `'8.3'` has always been confusing and probably should have never been supported in the first place.\n\n_Originally posted by @sebastianbergmann in https://github.com/symfony/symfony/issues/61682#issuecomment-3266600490_","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6355/timeline","performed_via_github_app":null,"state_reason":"completed"}