{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1704","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1704/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1704/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1704/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1704","id":72152648,"node_id":"MDU6SXNzdWU3MjE1MjY0OA==","number":1704,"title":"Add output to --tap or --testdox with `echo`","user":{"login":"edi9999","id":2071336,"node_id":"MDQ6VXNlcjIwNzEzMzY=","avatar_url":"https://avatars.githubusercontent.com/u/2071336?v=4","gravatar_id":"","url":"https://api.github.com/users/edi9999","html_url":"https://github.com/edi9999","followers_url":"https://api.github.com/users/edi9999/followers","following_url":"https://api.github.com/users/edi9999/following{/other_user}","gists_url":"https://api.github.com/users/edi9999/gists{/gist_id}","starred_url":"https://api.github.com/users/edi9999/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edi9999/subscriptions","organizations_url":"https://api.github.com/users/edi9999/orgs","repos_url":"https://api.github.com/users/edi9999/repos","events_url":"https://api.github.com/users/edi9999/events{/privacy}","received_events_url":"https://api.github.com/users/edi9999/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2015-04-30T13:09:22Z","updated_at":"2015-06-19T06:45:00Z","closed_at":"2015-06-19T05:08:27Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"It seems that everything that is printed to stdout in your test code is skipped out if you use the --tap or --testdox flags, eg : \n\n```\npublic function testMyNewFunction()\n{\n    echo \"My test data\";\n    $this->assertEquals(2,1+1);\n}\n```\n\nthis will output `My test data` if you just run `phpunit` , but `My test data` is completely erased if you use the `--tap` flag.\n\nIt would make sense to me to output that to the echo to stdout. The tap version 13 writes the following:\n\n> ### Diagnostics\n> \n> Additional information may be put into the testing output on separate lines. Diagnostic lines should begin with a #, which the harness must ignore, at least as far as analyzing the test results. The harness is free, however, to display the diagnostics. TAP13's YAML blocks are intended to replace diagnostics for most purposes but TAP13 consumers should maintain backwards compatibility by supporting them.\n\nso if we pretend the output by `#` , it would perfectly work. \n\nWould you agree to add this to phpunit and how should I proceed ?\n\nOr if that doesn't work, maybe it would be possible to add a method `$this->addNotice(\"My test data\")`\n","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1704/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1704/timeline","performed_via_github_app":null,"state_reason":"completed"}