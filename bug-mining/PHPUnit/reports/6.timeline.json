[{"actor":{"login":"mattmccormick","id":436801,"node_id":"MDQ6VXNlcjQzNjgwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/436801?v=4","gravatar_id":"","url":"https://api.github.com/users/mattmccormick","html_url":"https://github.com/mattmccormick","followers_url":"https://api.github.com/users/mattmccormick/followers","following_url":"https://api.github.com/users/mattmccormick/following{/other_user}","gists_url":"https://api.github.com/users/mattmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/mattmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattmccormick/subscriptions","organizations_url":"https://api.github.com/users/mattmccormick/orgs","repos_url":"https://api.github.com/users/mattmccormick/repos","events_url":"https://api.github.com/users/mattmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/mattmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-06-28T23:05:42Z","updated_at":"2012-06-28T23:05:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/599","id":5335483,"node_id":"MDU6SXNzdWU1MzM1NDgz","number":599,"title":"fsockopen(): unable to connect to localhost:4444","user":{"login":"mattmccormick","id":436801,"node_id":"MDQ6VXNlcjQzNjgwMQ==","avatar_url":"https://avatars.githubusercontent.com/u/436801?v=4","gravatar_id":"","url":"https://api.github.com/users/mattmccormick","html_url":"https://github.com/mattmccormick","followers_url":"https://api.github.com/users/mattmccormick/followers","following_url":"https://api.github.com/users/mattmccormick/following{/other_user}","gists_url":"https://api.github.com/users/mattmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/mattmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mattmccormick/subscriptions","organizations_url":"https://api.github.com/users/mattmccormick/orgs","repos_url":"https://api.github.com/users/mattmccormick/repos","events_url":"https://api.github.com/users/mattmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/mattmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2012-06-28T23:05:41Z","updated_at":"2012-09-24T16:54:51Z","closed_at":"2012-09-24T16:54:51Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I am running PHPUnit 3.6.11 with Selenium tests included.  Sometimes I forget to start the Selenium server.  If I run the tests, it fails at the first test with a PHP error:\n\nLooking at the code, it seems that the test should just be skipped but instead it completely quits.  Looking at the documentation for fsockopen, I don't think it should result in a PHP error so it may be a bug with PHP itself.  I am running PHP 5.3.5.\n\nDescription:\nfsockopen(): unable to connect to localhost:4444 (Connection refused)\n\nSource File:\n/usr/share/php/PHPUnit/Extensions/SeleniumTestCase.php(738)\n\nStack Trace:\n#0  fsockopen('localhost',4444,0,'',10)\n\n```\n/usr/share/php/PHPUnit/Extensions/SeleniumTestCase.php(738)\n```\n#1  PHPUnit_Extensions_SeleniumTestCase->skipWithNoServerRunning()\n\n```\n/usr/share/php/PHPUnit/Extensions/SeleniumTestCase.php(776)\n```\n#2  PHPUnit_Extensions_SeleniumTestCase->runTest()\n\n```\n/usr/share/php/PHPUnit/Framework/TestCase.php(804)\n```\n#3  PHPUnit_Framework_TestCase->runBare()\n\n```\n/usr/share/php/PHPUnit/Framework/TestResult.php(649)\n```\n#4  PHPUnit_Framework_TestResult->run(SiteTest)\n\n```\n/usr/share/php/PHPUnit/Framework/TestCase.php(751)\n```\n#5  PHPUnit_Framework_TestCase->run(PHPUnit_Framework_TestResult)\n\n```\n/usr/share/php/PHPUnit/Extensions/SeleniumTestCase.php(643)\n```\n#6  PHPUnit_Extensions_SeleniumTestCase->run(PHPUnit_Framework_TestResult)\n\n```\n/usr/share/php/PHPUnit/Framework/TestSuite.php(772)\n```\n#7  PHPUnit_Framework_TestSuite->runTest(SiteTest,PHPUnit_Framework_TestResult)\n\n```\n/usr/share/php/PHPUnit/Framework/TestSuite.php(745)\n```\n#8  PHPUnit_Framework_TestSuite->run(PHPUnit_Framework_TestResult,,array(0),array(0),)\n\n```\n/usr/share/php/PHPUnit/Framework/TestSuite.php(705)\n```\n#9  PHPUnit_Framework_TestSuite->run(PHPUnit_Framework_TestResult,,array(0),array(0),)\n\n```\n/usr/share/php/PHPUnit/TextUI/TestRunner.php(325)\n```\n#10 PHPUnit_TextUI_TestRunner->doRun(PHPUnit_Framework_TestSuite,array(4))\n\n```\n/usr/share/php/PHPUnit/TextUI/Command.php(192)\n```\n#11 PHPUnit_TextUI_Command->run(array(3),1)\n\n```\n/usr/share/php/PHPUnit/TextUI/Command.php(130)\n```\n#12 PHPUnit_TextUI_Command::main()\n\n```\n/usr/bin/phpunit(46)\n```\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/599/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-22T18:22:11Z","updated_at":"2013-11-22T18:22:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1060","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1060/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1060/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1060/events","html_url":"https://github.com/sebastianbergmann/phpunit/pull/1060","id":23121264,"node_id":"MDExOlB1bGxSZXF1ZXN0MTAyMDA1MDM=","number":1060,"title":"Clone test arguments","user":{"login":"baileylo","id":145345,"node_id":"MDQ6VXNlcjE0NTM0NQ==","avatar_url":"https://avatars.githubusercontent.com/u/145345?v=4","gravatar_id":"","url":"https://api.github.com/users/baileylo","html_url":"https://github.com/baileylo","followers_url":"https://api.github.com/users/baileylo/followers","following_url":"https://api.github.com/users/baileylo/following{/other_user}","gists_url":"https://api.github.com/users/baileylo/gists{/gist_id}","starred_url":"https://api.github.com/users/baileylo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/baileylo/subscriptions","organizations_url":"https://api.github.com/users/baileylo/orgs","repos_url":"https://api.github.com/users/baileylo/repos","events_url":"https://api.github.com/users/baileylo/events{/privacy}","received_events_url":"https://api.github.com/users/baileylo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":8,"created_at":"2013-11-22T07:11:04Z","updated_at":"2015-10-02T04:25:12Z","closed_at":"2015-10-02T04:25:10Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"draft":false,"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls/1060","html_url":"https://github.com/sebastianbergmann/phpunit/pull/1060","diff_url":"https://github.com/sebastianbergmann/phpunit/pull/1060.diff","patch_url":"https://github.com/sebastianbergmann/phpunit/pull/1060.patch","merged_at":null},"body":"If a test uses `@depenends`, clone the arguments that are objects to prevent unintended modification of the objects  by other functions.\n\nMy biggest fear here is an bump in memory usage by phpunit, as we now duplicate multiple objects.\n\nFixes #1057\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1060/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1060/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2013-11-22T18:49:20Z","updated_at":"2013-11-22T18:49:20Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1057","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1057/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1057/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1057/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1057","id":22906553,"node_id":"MDU6SXNzdWUyMjkwNjU1Mw==","number":1057,"title":"Dependency hierarchy branches affect eachother","user":{"login":"RSSchermer","id":3153509,"node_id":"MDQ6VXNlcjMxNTM1MDk=","avatar_url":"https://avatars.githubusercontent.com/u/3153509?v=4","gravatar_id":"","url":"https://api.github.com/users/RSSchermer","html_url":"https://github.com/RSSchermer","followers_url":"https://api.github.com/users/RSSchermer/followers","following_url":"https://api.github.com/users/RSSchermer/following{/other_user}","gists_url":"https://api.github.com/users/RSSchermer/gists{/gist_id}","starred_url":"https://api.github.com/users/RSSchermer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RSSchermer/subscriptions","organizations_url":"https://api.github.com/users/RSSchermer/orgs","repos_url":"https://api.github.com/users/RSSchermer/repos","events_url":"https://api.github.com/users/RSSchermer/events{/privacy}","received_events_url":"https://api.github.com/users/RSSchermer/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2013-11-19T11:55:53Z","updated_at":"2013-11-22T18:49:20Z","closed_at":"2013-11-22T18:49:20Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I may be doing something wrong or maybe I'm missing something. This is a very simplified version of the type of class I'm trying to test:\n\n``` php\nclass SomeStack\n{\n    private $items = array();\n\n    public function addItem($item)\n    {\n        $this->items[] = $item;\n    }\n\n    public function getItems()\n    {\n        return $this->items;\n    }\n}\n```\n\nAnd the test:\n\n``` php\nclass SomeStackTest extends \\PHPUnit_Framework_TestCase\n{\n    public function testStackInitiallyEmpty()\n    {\n        $stack = new SomeStack();\n\n        $this->assertEmpty($stack->getItems());\n\n        return $stack;\n    }\n\n    /**\n     * @depends testStackInitiallyEmpty\n     */\n    public function testAddItem($stack)\n    {\n        $stack->addItem('SomeItem');\n\n        $this->assertNotEmpty($stack->getItems());\n    }\n\n    /**\n     * @depends testStackInitiallyEmpty\n     */\n    public function testSomethingElseThatWantsAnEmptyStack($stack)\n    {\n        $this->assertEmpty($stack->getItems()); // Fails\n    }\n}\n```\n\nIn the example there's two different 'dependency hierarchy branches'. I was expecting to receive an empty stack in `testSomethingElseThatWantsAnEmptyStack`, but instead it seems that the earlier branch affected the state of the stack. Is this intended behavior? Am i doing something wrong? Is this a known limitation that is unfortunately a necessary evil for performance reasons? (I think the dependency would need to be rerun for every branch?)\n\nThere are workarounds of course, but they don't seem as elegant as having multiple tests that depend on the same 'parent' test.\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1057/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-20T06:30:36Z","updated_at":"2014-07-20T06:30:36Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1331","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1331/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1331/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1331/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1331","id":37857573,"node_id":"MDU6SXNzdWUzNzg1NzU3Mw==","number":1331,"title":"Multiple Tests @depends on Single Test & Data Consistency","user":{"login":"jonmchan","id":1827190,"node_id":"MDQ6VXNlcjE4MjcxOTA=","avatar_url":"https://avatars.githubusercontent.com/u/1827190?v=4","gravatar_id":"","url":"https://api.github.com/users/jonmchan","html_url":"https://github.com/jonmchan","followers_url":"https://api.github.com/users/jonmchan/followers","following_url":"https://api.github.com/users/jonmchan/following{/other_user}","gists_url":"https://api.github.com/users/jonmchan/gists{/gist_id}","starred_url":"https://api.github.com/users/jonmchan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jonmchan/subscriptions","organizations_url":"https://api.github.com/users/jonmchan/orgs","repos_url":"https://api.github.com/users/jonmchan/repos","events_url":"https://api.github.com/users/jonmchan/events{/privacy}","received_events_url":"https://api.github.com/users/jonmchan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-07-15T07:25:18Z","updated_at":"2015-12-01T19:40:43Z","closed_at":"2014-07-20T06:30:36Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hello,\n\nI have the following:\n\n```\n<?php\n\nclass Container{\n    protected $container;\n\n    function __construct()\n    {\n        $this->container = array();\n    }\n\n    function add($key,$value)\n    {\n        $this->container[$key] = $value;\n    }\n\n    function remove($key)\n    {\n        unset($this->container[$key]);\n    }\n\n    function getContents()\n    {\n        return $this->container;\n    }\n}\n\nclass PhpunitTest extends \\PHPUnit_Framework_TestCase {\n    public function testInit()\n    {\n        $container = new Container();\n        $this->assertEmpty($container->getContents());\n        return $container;\n    }\n\n    /**\n     * @depends testInit\n     **/\n    public function testAddFoo($container)\n    {\n        $container->add(\"foo\",\"fool\");\n        $this->assertEquals(array(\"foo\" =>\"fool\") , $container->getContents());\n    }\n\n\n\n    /**\n     * @depends testInit\n     **/\n    public function testAddBar($container)\n    {\n        $container->add(\"bar\",\"barstand\");\n        $this->assertEquals(array(\"bar\" =>\"barstand\") , $container->getContents());\n    }\n\n}\n```\n\nThe last test - testAddBar() fails because the $container variable is tainted with the values set from testAddFoo(). Shouldn't the correct behavior be that testAddBar and testAddFoo are isolated and only inherit the pristine $container variable from testInit() ? \n\nAre 2 tests allowed to depend on a single test or are my expectations wrong on how to test with @depends?  \n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1331/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":424918590,"node_id":"MDExOkNsb3NlZEV2ZW50NDI0OTE4NTkw","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/424918590","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2015-10-02T04:20:13Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"crowne","id":3218673,"node_id":"MDQ6VXNlcjMyMTg2NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3218673?v=4","gravatar_id":"","url":"https://api.github.com/users/crowne","html_url":"https://github.com/crowne","followers_url":"https://api.github.com/users/crowne/followers","following_url":"https://api.github.com/users/crowne/following{/other_user}","gists_url":"https://api.github.com/users/crowne/gists{/gist_id}","starred_url":"https://api.github.com/users/crowne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crowne/subscriptions","organizations_url":"https://api.github.com/users/crowne/orgs","repos_url":"https://api.github.com/users/crowne/repos","events_url":"https://api.github.com/users/crowne/events{/privacy}","received_events_url":"https://api.github.com/users/crowne/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-18T16:23:13Z","updated_at":"2023-08-18T16:23:13Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5477","id":1856980998,"node_id":"I_kwDOAAbWLc5ur0gG","number":5477,"title":"Class \"PHPUnit\\Metadata\\Api\\DataProvider\" not found","user":{"login":"crowne","id":3218673,"node_id":"MDQ6VXNlcjMyMTg2NzM=","avatar_url":"https://avatars.githubusercontent.com/u/3218673?v=4","gravatar_id":"","url":"https://api.github.com/users/crowne","html_url":"https://github.com/crowne","followers_url":"https://api.github.com/users/crowne/followers","following_url":"https://api.github.com/users/crowne/following{/other_user}","gists_url":"https://api.github.com/users/crowne/gists{/gist_id}","starred_url":"https://api.github.com/users/crowne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crowne/subscriptions","organizations_url":"https://api.github.com/users/crowne/orgs","repos_url":"https://api.github.com/users/crowne/repos","events_url":"https://api.github.com/users/crowne/events{/privacy}","received_events_url":"https://api.github.com/users/crowne/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":5111410650,"node_id":"LA_kwDOAAbWLc8AAAABMKnv2g","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/9","name":"version/9","color":"888a85","default":false,"description":"Something affects PHPUnit 9"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-08-18T16:23:11Z","updated_at":"2023-09-04T06:45:04Z","closed_at":"2023-08-19T05:01:16Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n- Please do not report an issue for a version of PHPUnit that is no longer supported. A list of currently supported versions of PHPUnit is available at https://phpunit.de/supported-versions.html.\r\n- Please do not report an issue if you are using a version of PHP that is not supported by the version of PHPUnit you are using. A list that shows which version of PHP is supported by which version of PHPUnit is available at https://phpunit.de/supported-versions.html.\r\n- Please do not report an issue if you are not using PHPUnit directly, but rather a third-party wrapper around it.\r\n- Please do not report an issue if you are using a third-party extension such as alternative output printers.\r\n- Please fill in this template according to your issue.\r\n- Please keep the table shown below at the top of your issue.\r\n- Please include the output of \"composer info | sort\" if you installed PHPUnit using Composer.\r\n- Please post code as text (using proper markup). Do not post screenshots of code.\r\n- Visit https://phpunit.de/support.html if you are looking for support.\r\n- Please remove this comment before submitting your issue.\r\n-->\r\n\r\n| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 10.3.2\r\n| PHP version         | 8.2.7\r\n| Installation Method | Composer\r\n\r\n#### Summary\r\n\r\nError when running tests\r\nPHP Unit Class \"PHPUnit\\Metadata\\Api\\DataProvider\" not found\r\n\r\n\r\n#### Current behavior\r\n\r\n\r\n```bash\r\ncomposer-docker-image-shell:/app# app/vendor/bin/phpunit test/unit\r\n\r\n\r\nAn error occurred inside PHPUnit.\r\n\r\nMessage:  Class \"PHPUnit\\Metadata\\Api\\DataProvider\" not found\r\nLocation: /app/app/vendor/phpunit/phpunit/src/Framework/TestBuilder.php:38\r\n\r\n#0 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(477): PHPUnit\\Framework\\TestBuilder->build(Object(ReflectionClass), 'testLocateTestF...')\r\n#1 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(125): PHPUnit\\Framework\\TestSuite->addTestMethod(Object(ReflectionClass), Object(ReflectionMethod))\r\n#2 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(215): PHPUnit\\Framework\\TestSuite::fromClassReflector(Object(ReflectionClass))\r\n#3 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(243): PHPUnit\\Framework\\TestSuite->addTestSuite(Object(ReflectionClass))\r\n#4 /app/app/vendor/phpunit/phpunit/src/Framework/TestSuite.php(261): PHPUnit\\Framework\\TestSuite->addTestFile('/app/test/unit/...')\r\n#5 /app/app/vendor/phpunit/phpunit/src/TextUI/Configuration/TestSuiteBuilder.php(83): PHPUnit\\Framework\\TestSuite->addTestFiles(Array)\r\n#6 /app/app/vendor/phpunit/phpunit/src/TextUI/Configuration/TestSuiteBuilder.php(47): PHPUnit\\TextUI\\Configuration\\TestSuiteBuilder->testSuiteFromPath('/app/test/unit', Array)\r\n#7 /app/app/vendor/phpunit/phpunit/src/TextUI/Application.php(356): PHPUnit\\TextUI\\Configuration\\TestSuiteBuilder->build(Object(PHPUnit\\TextUI\\Configuration\\Configuration)) \r\n#8 /app/app/vendor/phpunit/phpunit/src/TextUI/Application.php(103): PHPUnit\\TextUI\\Application->buildTestSuite(Object(PHPUnit\\TextUI\\Configuration\\Configuration))\r\n#9 /app/app/vendor/phpunit/phpunit/phpunit(99): PHPUnit\\TextUI\\Application->run(Array)\r\n#10 /app/app/vendor/bin/phpunit(122): include('/app/app/vendor...')\r\n#11 {main}\r\n```\r\n\r\n#### How to reproduce\r\n\r\nSee this issue on stackoverflow\r\nhttps://stackoverflow.com/questions/76484539/php-unit-class-phpunit-metadata-api-dataprovider-not-found-with-repro-case\r\n\r\n#### Expected behavior\r\n\r\nExpect tests to run as they do if the phpunit version is downgraded to 10.0.1\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5477/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"hbrecht","id":13656589,"node_id":"MDQ6VXNlcjEzNjU2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13656589?v=4","gravatar_id":"","url":"https://api.github.com/users/hbrecht","html_url":"https://github.com/hbrecht","followers_url":"https://api.github.com/users/hbrecht/followers","following_url":"https://api.github.com/users/hbrecht/following{/other_user}","gists_url":"https://api.github.com/users/hbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/hbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbrecht/subscriptions","organizations_url":"https://api.github.com/users/hbrecht/orgs","repos_url":"https://api.github.com/users/hbrecht/repos","events_url":"https://api.github.com/users/hbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/hbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-26T13:06:18Z","updated_at":"2023-10-26T13:06:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5549","id":1963528513,"node_id":"I_kwDOAAbWLc51CRFB","number":5549,"title":"PHPUnit internal error","user":{"login":"hbrecht","id":13656589,"node_id":"MDQ6VXNlcjEzNjU2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13656589?v=4","gravatar_id":"","url":"https://api.github.com/users/hbrecht","html_url":"https://github.com/hbrecht","followers_url":"https://api.github.com/users/hbrecht/followers","following_url":"https://api.github.com/users/hbrecht/following{/other_user}","gists_url":"https://api.github.com/users/hbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/hbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbrecht/subscriptions","organizations_url":"https://api.github.com/users/hbrecht/orgs","repos_url":"https://api.github.com/users/hbrecht/repos","events_url":"https://api.github.com/users/hbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/hbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":1329317012,"node_id":"MDU6TGFiZWwxMzI5MzE3MDEy","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/test-runner","name":"feature/test-runner","color":"e9b96e","default":false,"description":"CLI test runner"},{"id":1842308147,"node_id":"MDU6TGFiZWwxODQyMzA4MTQ3","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging","name":"feature/logging","color":"e9b96e","default":false,"description":"Issues related to logging test results"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"},{"id":8052990377,"node_id":"LA_kwDOAAbWLc8AAAAB3_7hqQ","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging/junit","name":"feature/logging/junit","color":"e9b96e","default":false,"description":"Issues related to logging test results in JUnit XML format"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-10-26T13:06:17Z","updated_at":"2025-01-25T09:06:24Z","closed_at":"2023-11-13T10:47:36Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 10.4.1 / 10.4.2\r\n| PHP version         | PHP 8.2.7 with PCOV 1.0.11\r\n| Installation Method |  PHAR\r\n\r\n#### Summary\r\n\r\nWhen running our test suite, after ~3000 tests the program stops with an internal error.\r\n\r\n#### Current behavior\r\n\r\nWhen running our test suite, suddenly below error occurs. There were only some code changes done in the code being tested; it was running on 10.4.1 this morning. Update to 10.4.2 does not help. Here is the complete error:\r\n\r\nAn error occurred inside PHPUnit.\r\n\r\nMessage:  PHPUnit\\Event\\Telemetry\\HRTime::duration(): Argument #1 ($start) must be of type PHPUnit\\Event\\Telemetry\\HRTime, null given, called in phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php on line 191\r\n\r\nLocation: phar:///usr/local/bin/phpunit/phpunit/TextUI/TestRunner.php:48\r\n\r\n#0 phar:///usr/local/bin/phpunit/phpunit/TextUI/Application.php(144): PHPUnit\\TextUI\\TestRunner->run()\r\n#1 /usr/local/bin/phpunit(2976): PHPUnit\\TextUI\\Application->run()\r\n#2 {main}\r\n\r\nCaused by: phar:///usr/local/bin/phpunit/phpunit/Event/Value/Telemetry/HRTime.php:54\r\n\r\n#0 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php(191): PHPUnit\\Event\\Telemetry\\HRTime->duration()\r\n#1 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php(148): PHPUnit\\Logging\\JUnit\\JunitXmlLogger->handleFinish()\r\n#2 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/Subscriber/TestFinishedSubscriber.php(29): PHPUnit\\Logging\\JUnit\\JunitXmlLogger->testFinished()\r\n#3 phar:///usr/local/bin/phpunit/phpunit/Event/Dispatcher/DirectDispatcher.php(78): PHPUnit\\Logging\\JUnit\\TestFinishedSubscriber->notify()\r\n#4 phar:///usr/local/bin/phpunit/phpunit/Event/Dispatcher/DeferringDispatcher.php(41): PHPUnit\\Event\\DirectDispatcher->dispatch()\r\n#5 phar:///usr/local/bin/phpunit/phpunit/Event/Emitter/DispatchingEmitter.php(548): PHPUnit\\Event\\DeferringDispatcher->dispatch()\r\n#6 phar:///usr/local/bin/phpunit/phpunit/Framework/TestRunner.php(152): PHPUnit\\Event\\DispatchingEmitter->testFinished()\r\n#7 phar:///usr/local/bin/phpunit/phpunit/Framework/TestCase.php(436): PHPUnit\\Framework\\TestRunner->run()\r\n#8 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestCase->run()\r\n#9 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestSuite->run()\r\n#10 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestSuite->run()\r\n#11 phar:///usr/local/bin/phpunit/phpunit/TextUI/TestRunner.php(44): PHPUnit\\Framework\\TestSuite->run()\r\n#12 phar:///usr/local/bin/phpunit/phpunit/TextUI/Application.php(144): PHPUnit\\TextUI\\TestRunner->run()\r\n#13 /usr/local/bin/phpunit(2976): PHPUnit\\TextUI\\Application->run()\r\n#14 {main}\r\n\r\n\r\n#### How to reproduce\r\n\r\nI do not have a way to reproduce this with a small example. However, since it is a type error, I would hope it might be possible to find it while analysing the code. I looked at the code and I see that there is an assert before, but it is most likely disabled.\r\n\r\n#### Expected behavior\r\n\r\nPHPUnit runs without internal error\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5549/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"hbrecht","id":13656589,"node_id":"MDQ6VXNlcjEzNjU2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13656589?v=4","gravatar_id":"","url":"https://api.github.com/users/hbrecht","html_url":"https://github.com/hbrecht","followers_url":"https://api.github.com/users/hbrecht/followers","following_url":"https://api.github.com/users/hbrecht/following{/other_user}","gists_url":"https://api.github.com/users/hbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/hbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbrecht/subscriptions","organizations_url":"https://api.github.com/users/hbrecht/orgs","repos_url":"https://api.github.com/users/hbrecht/repos","events_url":"https://api.github.com/users/hbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/hbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-11-14T07:55:53Z","updated_at":"2023-11-14T07:55:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5561","id":1992182523,"node_id":"I_kwDOAAbWLc52vkr7","number":5561,"title":"JUnit XML logger does not handle assertion failures in before-test methods","user":{"login":"hbrecht","id":13656589,"node_id":"MDQ6VXNlcjEzNjU2NTg5","avatar_url":"https://avatars.githubusercontent.com/u/13656589?v=4","gravatar_id":"","url":"https://api.github.com/users/hbrecht","html_url":"https://github.com/hbrecht","followers_url":"https://api.github.com/users/hbrecht/followers","following_url":"https://api.github.com/users/hbrecht/following{/other_user}","gists_url":"https://api.github.com/users/hbrecht/gists{/gist_id}","starred_url":"https://api.github.com/users/hbrecht/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hbrecht/subscriptions","organizations_url":"https://api.github.com/users/hbrecht/orgs","repos_url":"https://api.github.com/users/hbrecht/repos","events_url":"https://api.github.com/users/hbrecht/events{/privacy}","received_events_url":"https://api.github.com/users/hbrecht/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":1329317012,"node_id":"MDU6TGFiZWwxMzI5MzE3MDEy","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/test-runner","name":"feature/test-runner","color":"e9b96e","default":false,"description":"CLI test runner"},{"id":1842308147,"node_id":"MDU6TGFiZWwxODQyMzA4MTQ3","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging","name":"feature/logging","color":"e9b96e","default":false,"description":"Issues related to logging test results"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"},{"id":8052990377,"node_id":"LA_kwDOAAbWLc8AAAAB3_7hqQ","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging/junit","name":"feature/logging/junit","color":"e9b96e","default":false,"description":"Issues related to logging test results in JUnit XML format"}],"state":"closed","locked":false,"assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2023-11-14T07:55:52Z","updated_at":"2025-01-25T09:06:25Z","closed_at":"2023-12-05T07:31:54Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 10.4.1 / 10.4.2\r\n| PHP version         | PHP 8.2.7 with PCOV 1.0.11\r\n| Installation Method |  PHAR\r\n\r\n#### Summary\r\nOn a failed assertion in setUp, phpunit fails with an internal error.\r\nI am unsure, if assertions are allowed in setUp, the documentation only disallows them in setUpBeforeClass.\r\nIssue was previously reported as #5549, but at the time due to an incorrect analysis on my side I was not able to narrow the root cause down. I updated #5549 with the minimal test case as well.\r\n\r\n#### Current behavior\r\nWhen running the test with the failed assertion, following happens:\r\n\r\nAn error occurred inside PHPUnit.\r\n\r\nMessage:  PHPUnit\\Event\\Telemetry\\HRTime::duration(): Argument #1 ($start) must be of type PHPUnit\\Event\\Telemetry\\HRTime, null given, called in phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php on line 191\r\n\r\nLocation: phar:///usr/local/bin/phpunit/phpunit/TextUI/TestRunner.php:48\r\n\r\n#0 phar:///usr/local/bin/phpunit/phpunit/TextUI/Application.php(144): PHPUnit\\TextUI\\TestRunner->run()\r\n#1 /usr/local/bin/phpunit(2976): PHPUnit\\TextUI\\Application->run()\r\n#2 {main}\r\n\r\nCaused by: phar:///usr/local/bin/phpunit/phpunit/Event/Value/Telemetry/HRTime.php:54\r\n\r\n#0 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php(191): PHPUnit\\Event\\Telemetry\\HRTime->duration()\r\n#1 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/JunitXmlLogger.php(148): PHPUnit\\Logging\\JUnit\\JunitXmlLogger->handleFinish()\r\n#2 phar:///usr/local/bin/phpunit/phpunit/Logging/JUnit/Subscriber/TestFinishedSubscriber.php(29): PHPUnit\\Logging\\JUnit\\JunitXmlLogger->testFinished()\r\n#3 phar:///usr/local/bin/phpunit/phpunit/Event/Dispatcher/DirectDispatcher.php(78): PHPUnit\\Logging\\JUnit\\TestFinishedSubscriber->notify()\r\n#4 phar:///usr/local/bin/phpunit/phpunit/Event/Dispatcher/DeferringDispatcher.php(41): PHPUnit\\Event\\DirectDispatcher->dispatch()\r\n#5 phar:///usr/local/bin/phpunit/phpunit/Event/Emitter/DispatchingEmitter.php(548): PHPUnit\\Event\\DeferringDispatcher->dispatch()\r\n#6 phar:///usr/local/bin/phpunit/phpunit/Framework/TestRunner.php(152): PHPUnit\\Event\\DispatchingEmitter->testFinished()\r\n#7 phar:///usr/local/bin/phpunit/phpunit/Framework/TestCase.php(436): PHPUnit\\Framework\\TestRunner->run()\r\n#8 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestCase->run()\r\n#9 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestSuite->run()\r\n#10 phar:///usr/local/bin/phpunit/phpunit/Framework/TestSuite.php(266): PHPUnit\\Framework\\TestSuite->run()\r\n#11 phar:///usr/local/bin/phpunit/phpunit/TextUI/TestRunner.php(44): PHPUnit\\Framework\\TestSuite->run()\r\n#12 phar:///usr/local/bin/phpunit/phpunit/TextUI/Application.php(144): PHPUnit\\TextUI\\TestRunner->run()\r\n#13 /usr/local/bin/phpunit(2976): PHPUnit\\TextUI\\Application->run()\r\n#14 {main}\r\n\r\nWhen I run with assertions being active, I get\r\n\r\nMessage:  assert($this->currentTestCase !== null)\r\n\r\n#### How to reproduce\r\n\r\n```\r\n<?php\r\nclass DummyTest extends PHPUnit\\Framework\\TestCase {\r\n\r\n        protected function setUp(): void {\r\n            $this->assertTrue(false);\r\n        }\r\n\r\n        public function testDummy(): void {\r\n            $this->assertTrue(true);\r\n        }\r\n}\r\n```\r\n\r\n#### Expected behavior\r\n\r\nPHPUnit runs without internal error or documentation disallows assertions in setUp.\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5561/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]