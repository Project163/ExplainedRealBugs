{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/514","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/514/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/514/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/514/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/514","id":3419198,"node_id":"MDU6SXNzdWUzNDE5MTk4","number":514,"title":"assertStringMatchesFormat failures show too many diffs","user":{"login":"convissor","id":187163,"node_id":"MDQ6VXNlcjE4NzE2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/187163?v=4","gravatar_id":"","url":"https://api.github.com/users/convissor","html_url":"https://github.com/convissor","followers_url":"https://api.github.com/users/convissor/followers","following_url":"https://api.github.com/users/convissor/following{/other_user}","gists_url":"https://api.github.com/users/convissor/gists{/gist_id}","starred_url":"https://api.github.com/users/convissor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/convissor/subscriptions","organizations_url":"https://api.github.com/users/convissor/orgs","repos_url":"https://api.github.com/users/convissor/repos","events_url":"https://api.github.com/users/convissor/events{/privacy}","received_events_url":"https://api.github.com/users/convissor/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2012-02-28T14:28:55Z","updated_at":"2012-04-14T14:33:37Z","closed_at":"2012-04-14T14:26:15Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The assertStringMatchesFormat() and assertStringMatchesFormatFile() methods have a problem when _some_ of the $string parameter doesn't match the $format parameter.  In this situation, the diff output generator does not utilize the matching routines.  Thus the output includes lines that actually match the pattern.  The extra output distracts from the real error that needs to be fixed.\n\n```\n   public function test_match_string() {\n      $format = \"this %s may be bad\\nthis %s should be good\";\n\n      $string = \"this line may be bad\\nthis line should be good\";\n      $this->assertStringMatchesFormat($format, $string, 'string test pass');\n\n      $string = \"this may be bad\\nthis line should be good\";\n      $this->assertStringMatchesFormat($format, $string, 'string test fail');\n   }  \n```\n","closed_by":{"login":"edorian","id":247397,"node_id":"MDQ6VXNlcjI0NzM5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/247397?v=4","gravatar_id":"","url":"https://api.github.com/users/edorian","html_url":"https://github.com/edorian","followers_url":"https://api.github.com/users/edorian/followers","following_url":"https://api.github.com/users/edorian/following{/other_user}","gists_url":"https://api.github.com/users/edorian/gists{/gist_id}","starred_url":"https://api.github.com/users/edorian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edorian/subscriptions","organizations_url":"https://api.github.com/users/edorian/orgs","repos_url":"https://api.github.com/users/edorian/repos","events_url":"https://api.github.com/users/edorian/events{/privacy}","received_events_url":"https://api.github.com/users/edorian/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/514/timeline","performed_via_github_app":null,"state_reason":"completed"}