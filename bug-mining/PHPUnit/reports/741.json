{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5288","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5288/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5288/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5288/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5288","id":1634449966,"node_id":"I_kwDOAAbWLc5ha7ou","number":5288,"title":"`@dataProvider` annotation rejects previously valid method name style","user":{"login":"Crell","id":254863,"node_id":"MDQ6VXNlcjI1NDg2Mw==","avatar_url":"https://avatars.githubusercontent.com/u/254863?v=4","gravatar_id":"","url":"https://api.github.com/users/Crell","html_url":"https://github.com/Crell","followers_url":"https://api.github.com/users/Crell/followers","following_url":"https://api.github.com/users/Crell/following{/other_user}","gists_url":"https://api.github.com/users/Crell/gists{/gist_id}","starred_url":"https://api.github.com/users/Crell/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Crell/subscriptions","organizations_url":"https://api.github.com/users/Crell/orgs","repos_url":"https://api.github.com/users/Crell/repos","events_url":"https://api.github.com/users/Crell/events{/privacy}","received_events_url":"https://api.github.com/users/Crell/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":1841109330,"node_id":"MDU6TGFiZWwxODQxMTA5MzMw","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/data-provider","name":"feature/data-provider","color":"e9b96e","default":false,"description":"Data Providers"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"},{"id":5111424741,"node_id":"LA_kwDOAAbWLc8AAAABMKom5Q","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/metadata/annotations","name":"feature/metadata/annotations","color":"e9b96e","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2023-03-21T17:58:39Z","updated_at":"2023-03-22T05:52:56Z","closed_at":"2023-03-21T19:25:14Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 10.0.17\r\n| PHP version         | 8.1.14\r\n| Installation Method | Composer\r\n\r\n#### Summary\r\n\r\nIn PHPUnit 10, the `@dataProvider` annotation got unexpectedly stricter.  Specifically, in previous versions I commonly wrote this:\r\n\r\n```php\r\n/**\r\n * @dataProvider provider()\r\n */\r\npublic function testThing(int $a, int $b) { ... }\r\n\r\npublic function provider(): iterable { ... }\r\n```\r\n\r\nThe `()` on the end of the provider method was ignored.  As of v10, it is no longer ignored.  This is going to create... a lot of drudge work changing all of my provider references to remove the ().\r\n\r\nIdeally they'd convert to attributes at some point, but annotations are still supported for now and this was an unexpected snag.\r\n\r\n#### Current behavior\r\n\r\nThe code example above gives an error along the lines of:\r\n\r\n```\r\n1) Crell\\Tutorials\\RectangleTest::testThing\r\nThe data provider specified for Crell\\Tutorials\\RectangleTest::testThing is invalid\r\nMethod Crell\\Tutorials\\RectangleTest::provider()() does not exist\r\n```\r\n\r\n(Note the double `()` in what it thinks is the method name, indicating that v10 thinks the `()` is part of the method name.)\r\n\r\n#### How to reproduce\r\n\r\nSee code example above.\r\n\r\n#### Expected behavior\r\n\r\nAs in v9, the `()` should be stripped off and ignored.  Or if that's not feasible, this would be something to mention in the upgrading docs as it's an unexpected break.","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5288/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5288/timeline","performed_via_github_app":null,"state_reason":"completed"}