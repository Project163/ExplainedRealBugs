{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6115","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6115/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6115/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6115/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/6115","id":2820234313,"node_id":"I_kwDOAAbWLc6oGVxJ","number":6115,"title":"Backed enumerations with values not of type `string` cannot be used in customized TestDox output","user":{"login":"pdobrovolny","id":39558363,"node_id":"MDQ6VXNlcjM5NTU4MzYz","avatar_url":"https://avatars.githubusercontent.com/u/39558363?v=4","gravatar_id":"","url":"https://api.github.com/users/pdobrovolny","html_url":"https://github.com/pdobrovolny","followers_url":"https://api.github.com/users/pdobrovolny/followers","following_url":"https://api.github.com/users/pdobrovolny/following{/other_user}","gists_url":"https://api.github.com/users/pdobrovolny/gists{/gist_id}","starred_url":"https://api.github.com/users/pdobrovolny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pdobrovolny/subscriptions","organizations_url":"https://api.github.com/users/pdobrovolny/orgs","repos_url":"https://api.github.com/users/pdobrovolny/repos","events_url":"https://api.github.com/users/pdobrovolny/events{/privacy}","received_events_url":"https://api.github.com/users/pdobrovolny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":1307070500,"node_id":"MDU6TGFiZWwxMzA3MDcwNTAw","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/testdox","name":"feature/testdox","color":"e9b96e","default":false,"description":"The TextDox printer/formatter"},{"id":5111411238,"node_id":"LA_kwDOAAbWLc8AAAABMKnyJg","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/10","name":"version/10","color":"888a85","default":false,"description":"Something affects PHPUnit 10"},{"id":6451629111,"node_id":"LA_kwDOAAbWLc8AAAABgIwMNw","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/11","name":"version/11","color":"888a85","default":false,"description":"Something affects PHPUnit 11"},{"id":7573337865,"node_id":"LA_kwDOAAbWLc8AAAABw2f3CQ","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/version/12","name":"version/12","color":"888a85","default":false,"description":"Something affects PHPUnit 12"}],"state":"closed","locked":false,"assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2025-01-30T08:49:01Z","updated_at":"2025-01-30T09:20:15Z","closed_at":"2025-01-30T09:20:15Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"The exception is thrown when using an provider and one of the parameters is an **enum** of type **int**\n\nfix example:\nNamePrettifier::objectToString() on line 292\n\n```\nif( $enumReflector->isBacked() ) {\n  return (string)$value->value;\n}\n```\n\nTrace:\n```\nMessage:  PHPUnit\\Logging\\TestDox\\NamePrettifier::objectToString(): Return value must be of type string, int returned\nLocation: ./vendor/phpunit/phpunit/src/Logging/TestDox/NamePrettifier.php:296\n\n#0 ./vendor/phpunit/phpunit/src/Logging/TestDox/NamePrettifier.php(249): PHPUnit\\Logging\\TestDox\\NamePrettifier->objectToString(PDobrovolny\\Quantity\\Enums\\EMetricExponent::MICRO)\n#1 ./vendor/phpunit/phpunit/src/Logging/TestDox/NamePrettifier.php(187): PHPUnit\\Logging\\TestDox\\NamePrettifier->mapTestMethodParameterNamesToProvidedDataValues(Object(Test\\ReadyPhp\\Logger\\Unit\\Helper\\MetricScaleHelperTest), false)\n#2 ./vendor/phpunit/phpunit/src/Event/Value/Test/TestDoxBuilder.php(28): PHPUnit\\Logging\\TestDox\\NamePrettifier->prettifyTestCase(Object(Test\\ReadyPhp\\Logger\\Unit\\Helper\\MetricScaleHelperTest), false)\n#3 ./vendor/phpunit/phpunit/src/Event/Value/Test/TestMethodBuilder.php(45): PHPUnit\\Event\\Code\\TestDoxBuilder::fromTestCase(Object(Test\\ReadyPhp\\Logger\\Unit\\Helper\\MetricScaleHelperTest))\n#4 ./vendor/phpunit/phpunit/src/Framework/TestCase.php(939): PHPUnit\\Event\\Code\\TestMethodBuilder::fromTestCase(Object(Test\\ReadyPhp\\Logger\\Unit\\Helper\\MetricScaleHelperTest))\n#5 ./vendor/phpunit/phpunit/src/Framework/TestSuite.php(164): PHPUnit\\Framework\\TestCase->valueObjectForEvents()\n#6 ./vendor/phpunit/phpunit/src/Framework/TestBuilder.php(107): PHPUnit\\Framework\\TestSuite->addTest(Object(Test\\ReadyPhp\\Logger\\Unit\\Helper\\MetricScaleHelperTest), Array)\n#7 ./vendor/phpunit/phpunit/src/Framework/TestBuilder.php(51): PHPUnit\\Framework\\TestBuilder->buildDataProviderTestSuite('testMain', 'Test\\\\ReadyPhp\\\\L...', Array, false, NULL, false, Array, Array)\n#8 ./vendor/phpunit/phpunit/src/Framework/TestSuite.php(508): PHPUnit\\Framework\\TestBuilder->build(Object(ReflectionClass), 'testMain', Array)\n#9 ./vendor/phpunit/phpunit/src/Framework/TestSuite.php(109): PHPUnit\\Framework\\TestSuite->addTestMethod(Object(ReflectionClass), Object(ReflectionMethod), Array)\n#10 ./vendor/phpunit/phpunit/src/Framework/TestSuite.php(209): PHPUnit\\Framework\\TestSuite::fromClassReflector(Object(ReflectionClass), Array)\n#11 ./vendor/phpunit/phpunit/src/Framework/TestSuite.php(230): PHPUnit\\Framework\\TestSuite->addTestSuite(Object(ReflectionClass), Array)\n#12 ./vendor/phpunit/phpunit/src/TextUI/Configuration/Xml/TestSuiteMapper.php(105): PHPUnit\\Framework\\TestSuite->addTestFile('/Users/pdobrovo...', Array)\n#13 ./vendor/phpunit/phpunit/src/TextUI/Configuration/TestSuiteBuilder.php(75): PHPUnit\\TextUI\\XmlConfiguration\\TestSuiteMapper->map('/Users/pdobrovo...', Object(PHPUnit\\TextUI\\Configuration\\TestSuiteCollection), '', '')\n#14 ./vendor/phpunit/phpunit/src/TextUI/Application.php(418): PHPUnit\\TextUI\\Configuration\\TestSuiteBuilder->build(Object(PHPUnit\\TextUI\\Configuration\\Configuration))\n#15 ./vendor/phpunit/phpunit/src/TextUI/Application.php(181): PHPUnit\\TextUI\\Application->buildTestSuite(Object(PHPUnit\\TextUI\\Configuration\\Configuration))\n#16 ./vendor/phpunit/phpunit/phpunit(104): PHPUnit\\TextUI\\Application->run(Array)\n```","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6115/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/6115/timeline","performed_via_github_app":null,"state_reason":"completed"}