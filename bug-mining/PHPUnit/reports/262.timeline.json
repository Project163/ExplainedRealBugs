[{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/35551375","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-35551375","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":35551375,"node_id":"MDEyOklzc3VlQ29tbWVudDM1NTUxMzc1","user":{"login":"decadent","id":240699,"node_id":"MDQ6VXNlcjI0MDY5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/240699?v=4","gravatar_id":"","url":"https://api.github.com/users/decadent","html_url":"https://github.com/decadent","followers_url":"https://api.github.com/users/decadent/followers","following_url":"https://api.github.com/users/decadent/following{/other_user}","gists_url":"https://api.github.com/users/decadent/gists{/gist_id}","starred_url":"https://api.github.com/users/decadent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/decadent/subscriptions","organizations_url":"https://api.github.com/users/decadent/orgs","repos_url":"https://api.github.com/users/decadent/repos","events_url":"https://api.github.com/users/decadent/events{/privacy}","received_events_url":"https://api.github.com/users/decadent/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-02-19T21:30:55Z","updated_at":"2014-02-19T21:30:55Z","body":"I know that both output buffering and running tests in separate processes were sources of annoying issues for phpunit, and both are not regular use cases, so consider this a low priority issue or something.\nOnly I suppose that the behavior should be consistent whether running in one process or in separate processes. So maybe the separate-process case should execute a course completely independent of the same-process case in order to not inherit any state and not cause any more trouble at all?\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/35551375/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"decadent","id":240699,"node_id":"MDQ6VXNlcjI0MDY5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/240699?v=4","gravatar_id":"","url":"https://api.github.com/users/decadent","html_url":"https://github.com/decadent","followers_url":"https://api.github.com/users/decadent/followers","following_url":"https://api.github.com/users/decadent/following{/other_user}","gists_url":"https://api.github.com/users/decadent/gists{/gist_id}","starred_url":"https://api.github.com/users/decadent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/decadent/subscriptions","organizations_url":"https://api.github.com/users/decadent/orgs","repos_url":"https://api.github.com/users/decadent/repos","events_url":"https://api.github.com/users/decadent/events{/privacy}","received_events_url":"https://api.github.com/users/decadent/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/41900801","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-41900801","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":41900801,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTAwODAx","user":{"login":"donquixote","id":150032,"node_id":"MDQ6VXNlcjE1MDAzMg==","avatar_url":"https://avatars.githubusercontent.com/u/150032?v=4","gravatar_id":"","url":"https://api.github.com/users/donquixote","html_url":"https://github.com/donquixote","followers_url":"https://api.github.com/users/donquixote/followers","following_url":"https://api.github.com/users/donquixote/following{/other_user}","gists_url":"https://api.github.com/users/donquixote/gists{/gist_id}","starred_url":"https://api.github.com/users/donquixote/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donquixote/subscriptions","organizations_url":"https://api.github.com/users/donquixote/orgs","repos_url":"https://api.github.com/users/donquixote/repos","events_url":"https://api.github.com/users/donquixote/events{/privacy}","received_events_url":"https://api.github.com/users/donquixote/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-01T11:20:50Z","updated_at":"2014-05-01T11:20:50Z","body":"I use process isolation a lot. It is important for testing stuff like a class loader.\nAnd now I can't figure out how to print anything while \"@runTestsInSeparateProcesses\" and \"@preserveGlobalState disabled\" are on. It would be great to see this fixed.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/41900801/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"donquixote","id":150032,"node_id":"MDQ6VXNlcjE1MDAzMg==","avatar_url":"https://avatars.githubusercontent.com/u/150032?v=4","gravatar_id":"","url":"https://api.github.com/users/donquixote","html_url":"https://github.com/donquixote","followers_url":"https://api.github.com/users/donquixote/followers","following_url":"https://api.github.com/users/donquixote/following{/other_user}","gists_url":"https://api.github.com/users/donquixote/gists{/gist_id}","starred_url":"https://api.github.com/users/donquixote/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donquixote/subscriptions","organizations_url":"https://api.github.com/users/donquixote/orgs","repos_url":"https://api.github.com/users/donquixote/repos","events_url":"https://api.github.com/users/donquixote/events{/privacy}","received_events_url":"https://api.github.com/users/donquixote/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/41902552","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-41902552","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":41902552,"node_id":"MDEyOklzc3VlQ29tbWVudDQxOTAyNTUy","user":{"login":"decadent","id":240699,"node_id":"MDQ6VXNlcjI0MDY5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/240699?v=4","gravatar_id":"","url":"https://api.github.com/users/decadent","html_url":"https://github.com/decadent","followers_url":"https://api.github.com/users/decadent/followers","following_url":"https://api.github.com/users/decadent/following{/other_user}","gists_url":"https://api.github.com/users/decadent/gists{/gist_id}","starred_url":"https://api.github.com/users/decadent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/decadent/subscriptions","organizations_url":"https://api.github.com/users/decadent/orgs","repos_url":"https://api.github.com/users/decadent/repos","events_url":"https://api.github.com/users/decadent/events{/privacy}","received_events_url":"https://api.github.com/users/decadent/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-05-01T11:52:33Z","updated_at":"2014-05-01T11:52:33Z","body":"@donquixote You can actually open php://stdout directly and write to it. The stuff printed will cause an error in deserialization of the test results and will be output as an Exception.\n\nI guess this indicates that what's missing is transmission of the output from the test in the serialized data.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/41902552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"decadent","id":240699,"node_id":"MDQ6VXNlcjI0MDY5OQ==","avatar_url":"https://avatars.githubusercontent.com/u/240699?v=4","gravatar_id":"","url":"https://api.github.com/users/decadent","html_url":"https://github.com/decadent","followers_url":"https://api.github.com/users/decadent/followers","following_url":"https://api.github.com/users/decadent/following{/other_user}","gists_url":"https://api.github.com/users/decadent/gists{/gist_id}","starred_url":"https://api.github.com/users/decadent/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/decadent/subscriptions","organizations_url":"https://api.github.com/users/decadent/orgs","repos_url":"https://api.github.com/users/decadent/repos","events_url":"https://api.github.com/users/decadent/events{/privacy}","received_events_url":"https://api.github.com/users/decadent/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":116927027,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTE2OTI3MDI3","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/116927027","actor":{"login":"donquixote","id":150032,"node_id":"MDQ6VXNlcjE1MDAzMg==","avatar_url":"https://avatars.githubusercontent.com/u/150032?v=4","gravatar_id":"","url":"https://api.github.com/users/donquixote","html_url":"https://github.com/donquixote","followers_url":"https://api.github.com/users/donquixote/followers","following_url":"https://api.github.com/users/donquixote/following{/other_user}","gists_url":"https://api.github.com/users/donquixote/gists{/gist_id}","starred_url":"https://api.github.com/users/donquixote/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donquixote/subscriptions","organizations_url":"https://api.github.com/users/donquixote/orgs","repos_url":"https://api.github.com/users/donquixote/repos","events_url":"https://api.github.com/users/donquixote/events{/privacy}","received_events_url":"https://api.github.com/users/donquixote/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2014-05-01T11:52:33Z","performed_via_github_app":null},{"id":116927028,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDExNjkyNzAyOA==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/116927028","actor":{"login":"donquixote","id":150032,"node_id":"MDQ6VXNlcjE1MDAzMg==","avatar_url":"https://avatars.githubusercontent.com/u/150032?v=4","gravatar_id":"","url":"https://api.github.com/users/donquixote","html_url":"https://github.com/donquixote","followers_url":"https://api.github.com/users/donquixote/followers","following_url":"https://api.github.com/users/donquixote/following{/other_user}","gists_url":"https://api.github.com/users/donquixote/gists{/gist_id}","starred_url":"https://api.github.com/users/donquixote/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/donquixote/subscriptions","organizations_url":"https://api.github.com/users/donquixote/orgs","repos_url":"https://api.github.com/users/donquixote/repos","events_url":"https://api.github.com/users/donquixote/events{/privacy}","received_events_url":"https://api.github.com/users/donquixote/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2014-05-01T11:52:33Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/49736699","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-49736699","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":49736699,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5NzM2Njk5","user":{"login":"sun","id":41992,"node_id":"MDQ6VXNlcjQxOTky","avatar_url":"https://avatars.githubusercontent.com/u/41992?v=4","gravatar_id":"","url":"https://api.github.com/users/sun","html_url":"https://github.com/sun","followers_url":"https://api.github.com/users/sun/followers","following_url":"https://api.github.com/users/sun/following{/other_user}","gists_url":"https://api.github.com/users/sun/gists{/gist_id}","starred_url":"https://api.github.com/users/sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sun/subscriptions","organizations_url":"https://api.github.com/users/sun/orgs","repos_url":"https://api.github.com/users/sun/repos","events_url":"https://api.github.com/users/sun/events{/privacy}","received_events_url":"https://api.github.com/users/sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-22T13:15:04Z","updated_at":"2014-07-22T13:15:04Z","body":"I can confirm that the output is not re-printed to STDOUT.\n\n> what's missing is transmission of the output from the test in the serialized data\n\nThe process isolation script template `TestCaseMethod.tpl.dist` does capture the output already:\n\n``` php\n    ob_start();\n    $test->run($result);\n    $output = ob_get_clean();\n    print serialize(\n      array(\n        'testResult'    => $test->getResult(),\n        'numAssertions' => $test->getNumAssertions(),\n        'result'        => $result,\n        'output'        => $output\n      )\n    );\n```\n\nIf I get you right, then you'd like the subprocess output to get forwarded to STDOUT of the parent/main process?\n\n`PHPUnit_Util_PHP::processChildResult()` immediately forwards STDERR already:\n\n``` php\n        if (!empty($stderr)) {\n            $result->addError(\n              $test,\n              new PHPUnit_Framework_Exception(trim($stderr)), $time\n            );\n```\n\nIt seemingly forwards STDOUT, too:\n\n``` php\n            if ($childResult !== false) {\n                if (!empty($childResult['output'])) {\n                    print $childResult['output'];\n                }\n```\n\nThe `$stdout` variable itself is not consumed, and actually replaced with `unserialize($stdout)`:\n\n``` php\n                if (strpos($stdout, \"#!/usr/bin/env php\\n\") === 0) {\n                    $stdout = substr($stdout, 19);\n                }\n                $childResult = unserialize(str_replace(\"#!/usr/bin/env php\\n\", '', $stdout));\n```\n\nSo theoretically, output of the child process should be forwarded to the parent process already.  Perhaps there's a bug in this code though.  Can you debug?\n\nAlternatively, the execution of tests running in isolation may be wrapped into another output buffer somewhere else.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/49736699/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sun","id":41992,"node_id":"MDQ6VXNlcjQxOTky","avatar_url":"https://avatars.githubusercontent.com/u/41992?v=4","gravatar_id":"","url":"https://api.github.com/users/sun","html_url":"https://github.com/sun","followers_url":"https://api.github.com/users/sun/followers","following_url":"https://api.github.com/users/sun/following{/other_user}","gists_url":"https://api.github.com/users/sun/gists{/gist_id}","starred_url":"https://api.github.com/users/sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sun/subscriptions","organizations_url":"https://api.github.com/users/sun/orgs","repos_url":"https://api.github.com/users/sun/repos","events_url":"https://api.github.com/users/sun/events{/privacy}","received_events_url":"https://api.github.com/users/sun/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":144424959,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE0NDQyNDk1OQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/144424959","actor":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"8337d8f93fc451252455120a8e0bd0cc7d5659cf","commit_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits/8337d8f93fc451252455120a8e0bd0cc7d5659cf","created_at":"2014-07-22T22:49:02Z","performed_via_github_app":null},{"id":144427070,"node_id":"MDExOkNsb3NlZEV2ZW50MTQ0NDI3MDcw","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/144427070","actor":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8337d8f93fc451252455120a8e0bd0cc7d5659cf","commit_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits/8337d8f93fc451252455120a8e0bd0cc7d5659cf","created_at":"2014-07-22T22:57:08Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/49812947","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-49812947","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":49812947,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODEyOTQ3","user":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-22T22:59:51Z","updated_at":"2014-07-22T22:59:51Z","body":"This should be fixed in the next stable release. Thanks!\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/49812947/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/49816327","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-49816327","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":49816327,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODE2MzI3","user":{"login":"sun","id":41992,"node_id":"MDQ6VXNlcjQxOTky","avatar_url":"https://avatars.githubusercontent.com/u/41992?v=4","gravatar_id":"","url":"https://api.github.com/users/sun","html_url":"https://github.com/sun","followers_url":"https://api.github.com/users/sun/followers","following_url":"https://api.github.com/users/sun/following{/other_user}","gists_url":"https://api.github.com/users/sun/gists{/gist_id}","starred_url":"https://api.github.com/users/sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sun/subscriptions","organizations_url":"https://api.github.com/users/sun/orgs","repos_url":"https://api.github.com/users/sun/repos","events_url":"https://api.github.com/users/sun/events{/privacy}","received_events_url":"https://api.github.com/users/sun/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-22T23:45:05Z","updated_at":"2014-07-22T23:46:06Z","body":"@whatthejeff Awesome!  Question:\n\nIs a technical analysis like mine above helpful?  Or useless noise?\n\nI'm just starting to dive deep, so I don't consider myself to be in a position to fix issues like this directly (just yet), but thought it might be helpful to share insights gathered while debugging other stuff ;)\n\nJust curious whether comments like the above are a waste of everyone's time :)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/49816327/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sun","id":41992,"node_id":"MDQ6VXNlcjQxOTky","avatar_url":"https://avatars.githubusercontent.com/u/41992?v=4","gravatar_id":"","url":"https://api.github.com/users/sun","html_url":"https://github.com/sun","followers_url":"https://api.github.com/users/sun/followers","following_url":"https://api.github.com/users/sun/following{/other_user}","gists_url":"https://api.github.com/users/sun/gists{/gist_id}","starred_url":"https://api.github.com/users/sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sun/subscriptions","organizations_url":"https://api.github.com/users/sun/orgs","repos_url":"https://api.github.com/users/sun/repos","events_url":"https://api.github.com/users/sun/events{/privacy}","received_events_url":"https://api.github.com/users/sun/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":144440358,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTQ0NDQwMzU4","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/144440358","actor":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2014-07-22T23:45:05Z","performed_via_github_app":null},{"id":144440359,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0NDQ0MDM1OQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/144440359","actor":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2014-07-22T23:45:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/49816853","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-49816853","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":49816853,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5ODE2ODUz","user":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-07-22T23:53:01Z","updated_at":"2014-07-22T23:53:01Z","body":"@sun It's actually very helpful and very much appreciated!\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/49816853/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"whatthejeff","id":306525,"node_id":"MDQ6VXNlcjMwNjUyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/306525?v=4","gravatar_id":"","url":"https://api.github.com/users/whatthejeff","html_url":"https://github.com/whatthejeff","followers_url":"https://api.github.com/users/whatthejeff/followers","following_url":"https://api.github.com/users/whatthejeff/following{/other_user}","gists_url":"https://api.github.com/users/whatthejeff/gists{/gist_id}","starred_url":"https://api.github.com/users/whatthejeff/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/whatthejeff/subscriptions","organizations_url":"https://api.github.com/users/whatthejeff/orgs","repos_url":"https://api.github.com/users/whatthejeff/repos","events_url":"https://api.github.com/users/whatthejeff/events{/privacy}","received_events_url":"https://api.github.com/users/whatthejeff/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":144442462,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTQ0NDQyNDYy","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/144442462","actor":{"login":"sun","id":41992,"node_id":"MDQ6VXNlcjQxOTky","avatar_url":"https://avatars.githubusercontent.com/u/41992?v=4","gravatar_id":"","url":"https://api.github.com/users/sun","html_url":"https://github.com/sun","followers_url":"https://api.github.com/users/sun/followers","following_url":"https://api.github.com/users/sun/following{/other_user}","gists_url":"https://api.github.com/users/sun/gists{/gist_id}","starred_url":"https://api.github.com/users/sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sun/subscriptions","organizations_url":"https://api.github.com/users/sun/orgs","repos_url":"https://api.github.com/users/sun/repos","events_url":"https://api.github.com/users/sun/events{/privacy}","received_events_url":"https://api.github.com/users/sun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2014-07-22T23:53:01Z","performed_via_github_app":null},{"id":144442463,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE0NDQ0MjQ2Mw==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/144442463","actor":{"login":"sun","id":41992,"node_id":"MDQ6VXNlcjQxOTky","avatar_url":"https://avatars.githubusercontent.com/u/41992?v=4","gravatar_id":"","url":"https://api.github.com/users/sun","html_url":"https://github.com/sun","followers_url":"https://api.github.com/users/sun/followers","following_url":"https://api.github.com/users/sun/following{/other_user}","gists_url":"https://api.github.com/users/sun/gists{/gist_id}","starred_url":"https://api.github.com/users/sun/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sun/subscriptions","organizations_url":"https://api.github.com/users/sun/orgs","repos_url":"https://api.github.com/users/sun/repos","events_url":"https://api.github.com/users/sun/events{/privacy}","received_events_url":"https://api.github.com/users/sun/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2014-07-22T23:53:01Z","performed_via_github_app":null},{"actor":{"login":"johnpbloch","id":446833,"node_id":"MDQ6VXNlcjQ0NjgzMw==","avatar_url":"https://avatars.githubusercontent.com/u/446833?v=4","gravatar_id":"","url":"https://api.github.com/users/johnpbloch","html_url":"https://github.com/johnpbloch","followers_url":"https://api.github.com/users/johnpbloch/followers","following_url":"https://api.github.com/users/johnpbloch/following{/other_user}","gists_url":"https://api.github.com/users/johnpbloch/gists{/gist_id}","starred_url":"https://api.github.com/users/johnpbloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnpbloch/subscriptions","organizations_url":"https://api.github.com/users/johnpbloch/orgs","repos_url":"https://api.github.com/users/johnpbloch/repos","events_url":"https://api.github.com/users/johnpbloch/events{/privacy}","received_events_url":"https://api.github.com/users/johnpbloch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2014-10-01T15:52:53Z","updated_at":"2014-10-01T15:52:53Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1452","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1452/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1452/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1452/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1452","id":44580490,"node_id":"MDU6SXNzdWU0NDU4MDQ5MA==","number":1452,"title":"Tests run in process isolation send output to stdout","user":{"login":"johnpbloch","id":446833,"node_id":"MDQ6VXNlcjQ0NjgzMw==","avatar_url":"https://avatars.githubusercontent.com/u/446833?v=4","gravatar_id":"","url":"https://api.github.com/users/johnpbloch","html_url":"https://github.com/johnpbloch","followers_url":"https://api.github.com/users/johnpbloch/followers","following_url":"https://api.github.com/users/johnpbloch/following{/other_user}","gists_url":"https://api.github.com/users/johnpbloch/gists{/gist_id}","starred_url":"https://api.github.com/users/johnpbloch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/johnpbloch/subscriptions","organizations_url":"https://api.github.com/users/johnpbloch/orgs","repos_url":"https://api.github.com/users/johnpbloch/repos","events_url":"https://api.github.com/users/johnpbloch/events{/privacy}","received_events_url":"https://api.github.com/users/johnpbloch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2014-10-01T15:52:53Z","updated_at":"2015-10-02T04:10:03Z","closed_at":"2015-10-02T04:10:01Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"This is related to #1149\n\nCode to reproduce issue here: https://gist.github.com/johnpbloch/312557aa437dc5d3d58e\n\nWhen explicitly testing for the output generated for a test, I expect that PHPUnit will suppress that output, whether in process isolation or not.\n\nExpected output from the test linked above:\n\n```\nPHPUnit 4.2.6 by Sebastian Bergmann.\n\nConfiguration read from C:\\Users\\John\\Projects\\phpunittest\\phpunit.xml\n\n..\n\nTime: 150 ms, Memory: 3.25Mb\n\nOK (2 tests, 2 assertions)\n```\n\nActual output:\n\n```\nPHPUnit 4.2.6 by Sebastian Bergmann.\n\nConfiguration read from C:\\Users\\John\\Projects\\phpunittest\\phpunit.xml\n\n..Output\n\nTime: 150 ms, Memory: 3.25Mb\n\nOK (2 tests, 2 assertions)\n```\n\nThanks for your time!\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1452/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1452/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/235043915","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-235043915","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":235043915,"node_id":"MDEyOklzc3VlQ29tbWVudDIzNTA0MzkxNQ==","user":{"login":"Flimm","id":355454,"node_id":"MDQ6VXNlcjM1NTQ1NA==","avatar_url":"https://avatars.githubusercontent.com/u/355454?v=4","gravatar_id":"","url":"https://api.github.com/users/Flimm","html_url":"https://github.com/Flimm","followers_url":"https://api.github.com/users/Flimm/followers","following_url":"https://api.github.com/users/Flimm/following{/other_user}","gists_url":"https://api.github.com/users/Flimm/gists{/gist_id}","starred_url":"https://api.github.com/users/Flimm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Flimm/subscriptions","organizations_url":"https://api.github.com/users/Flimm/orgs","repos_url":"https://api.github.com/users/Flimm/repos","events_url":"https://api.github.com/users/Flimm/events{/privacy}","received_events_url":"https://api.github.com/users/Flimm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-07-25T18:37:37Z","updated_at":"2016-07-25T18:37:37Z","body":"What version was this released in?\n\nTo answer my own question, it was released in v4.1.5.\n\n```\n$ git describe --contains 8337d8f93fc451252455120a8e0bd0cc7d5659cf\n4.1.5~9\n```\n\nWhich is odd, because I am running v4.7.6, and I am still experiencing this issue of PHPUnit swallowing output when run in separate processes.\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/235043915/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Flimm","id":355454,"node_id":"MDQ6VXNlcjM1NTQ1NA==","avatar_url":"https://avatars.githubusercontent.com/u/355454?v=4","gravatar_id":"","url":"https://api.github.com/users/Flimm","html_url":"https://github.com/Flimm","followers_url":"https://api.github.com/users/Flimm/followers","following_url":"https://api.github.com/users/Flimm/following{/other_user}","gists_url":"https://api.github.com/users/Flimm/gists{/gist_id}","starred_url":"https://api.github.com/users/Flimm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Flimm/subscriptions","organizations_url":"https://api.github.com/users/Flimm/orgs","repos_url":"https://api.github.com/users/Flimm/repos","events_url":"https://api.github.com/users/Flimm/events{/privacy}","received_events_url":"https://api.github.com/users/Flimm/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/301419081","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1149#issuecomment-301419081","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1149","id":301419081,"node_id":"MDEyOklzc3VlQ29tbWVudDMwMTQxOTA4MQ==","user":{"login":"DavidSoussan","id":6906267,"node_id":"MDQ6VXNlcjY5MDYyNjc=","avatar_url":"https://avatars.githubusercontent.com/u/6906267?v=4","gravatar_id":"","url":"https://api.github.com/users/DavidSoussan","html_url":"https://github.com/DavidSoussan","followers_url":"https://api.github.com/users/DavidSoussan/followers","following_url":"https://api.github.com/users/DavidSoussan/following{/other_user}","gists_url":"https://api.github.com/users/DavidSoussan/gists{/gist_id}","starred_url":"https://api.github.com/users/DavidSoussan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DavidSoussan/subscriptions","organizations_url":"https://api.github.com/users/DavidSoussan/orgs","repos_url":"https://api.github.com/users/DavidSoussan/repos","events_url":"https://api.github.com/users/DavidSoussan/events{/privacy}","received_events_url":"https://api.github.com/users/DavidSoussan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-05-15T09:08:22Z","updated_at":"2017-05-15T09:08:22Z","body":"I am experiencing the same issue:  PHPUnit swallowing output when run in separate processes. using version 5.6.3","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/301419081/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"DavidSoussan","id":6906267,"node_id":"MDQ6VXNlcjY5MDYyNjc=","avatar_url":"https://avatars.githubusercontent.com/u/6906267?v=4","gravatar_id":"","url":"https://api.github.com/users/DavidSoussan","html_url":"https://github.com/DavidSoussan","followers_url":"https://api.github.com/users/DavidSoussan/followers","following_url":"https://api.github.com/users/DavidSoussan/following{/other_user}","gists_url":"https://api.github.com/users/DavidSoussan/gists{/gist_id}","starred_url":"https://api.github.com/users/DavidSoussan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DavidSoussan/subscriptions","organizations_url":"https://api.github.com/users/DavidSoussan/orgs","repos_url":"https://api.github.com/users/DavidSoussan/repos","events_url":"https://api.github.com/users/DavidSoussan/events{/privacy}","received_events_url":"https://api.github.com/users/DavidSoussan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"daniel-sc","id":117919,"node_id":"MDQ6VXNlcjExNzkxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/117919?v=4","gravatar_id":"","url":"https://api.github.com/users/daniel-sc","html_url":"https://github.com/daniel-sc","followers_url":"https://api.github.com/users/daniel-sc/followers","following_url":"https://api.github.com/users/daniel-sc/following{/other_user}","gists_url":"https://api.github.com/users/daniel-sc/gists{/gist_id}","starred_url":"https://api.github.com/users/daniel-sc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniel-sc/subscriptions","organizations_url":"https://api.github.com/users/daniel-sc/orgs","repos_url":"https://api.github.com/users/daniel-sc/repos","events_url":"https://api.github.com/users/daniel-sc/events{/privacy}","received_events_url":"https://api.github.com/users/daniel-sc/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-29T11:42:07Z","updated_at":"2023-01-29T11:42:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5151","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5151/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5151/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5151/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5151","id":1561024592,"node_id":"I_kwDOAAbWLc5dC1hQ","number":5151,"title":"`@runInSeparateProcess` and `@preserveGlobalState disabled` fails with `unserialize()` exception when writing to `php://stdout`","user":{"login":"daniel-sc","id":117919,"node_id":"MDQ6VXNlcjExNzkxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/117919?v=4","gravatar_id":"","url":"https://api.github.com/users/daniel-sc","html_url":"https://github.com/daniel-sc","followers_url":"https://api.github.com/users/daniel-sc/followers","following_url":"https://api.github.com/users/daniel-sc/following{/other_user}","gists_url":"https://api.github.com/users/daniel-sc/gists{/gist_id}","starred_url":"https://api.github.com/users/daniel-sc/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/daniel-sc/subscriptions","organizations_url":"https://api.github.com/users/daniel-sc/orgs","repos_url":"https://api.github.com/users/daniel-sc/repos","events_url":"https://api.github.com/users/daniel-sc/events{/privacy}","received_events_url":"https://api.github.com/users/daniel-sc/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":1841128667,"node_id":"MDU6TGFiZWwxODQxMTI4NjY3","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/process-isolation","name":"feature/process-isolation","color":"e9b96e","default":false,"description":"Issues related to running tests in separate PHP processes"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-01-28T21:46:53Z","updated_at":"2023-09-17T12:23:14Z","closed_at":"2023-09-17T12:23:14Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!--\r\n- Please do not report an issue for a version of PHPUnit that is no longer supported. A list of currently supported versions of PHPUnit is available at https://phpunit.de/supported-versions.html.\r\n- Please do not report an issue if you are using a version of PHP that is not supported by the version of PHPUnit you are using. A list that shows which version of PHP is supported by which version of PHPUnit is available at https://phpunit.de/supported-versions.html.\r\n- Please do not report an issue if you are not using PHPUnit directly, but rather a wrapper around it such as Symfony's PHPUnit Bridge\r\n- Please fill in this template according to your issue.\r\n- Please keep the table shown below at the top of your issue.\r\n- Please include the output of \"composer info | sort\" if you installed PHPUnit using Composer.\r\n- Please post code as text (using proper markup). Do not post screenshots of code.\r\n- Visit https://phpunit.de/support.html if you are looking for support.\r\n- Please remove this comment before submitting your issue.\r\n-->\r\n\r\n| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 8.5.32\r\n| PHP version         | 7.2.34-37+ubuntu22.04.1+deb.sury.org+1\r\n| Installation Method | Composer\r\n\r\n#### Summary\r\n\r\nWhen running a test with the annotations `@runInSeparateProcess` and `@preserveGlobalState disabled` that includes (directly or indirectly) some writing to `php://stdout` the test fails with \r\n```ErrorException: unserialize(): Error at offset 0 of 5 bytes in /vendor/phpunit/phpunit/src/Util/PHP/AbstractPhpProcess.php:289```\r\n\r\n\r\n\r\n#### Current behavior\r\n\r\nThe test fails with the following output:\r\n\r\n```PHPUnit 8.5.32 by Sebastian Bergmann and contributors.\r\n\r\nRuntime:       PHP 7.2.34-37+ubuntu22.04.1+deb.sury.org+1\r\n\r\nE                                                                   1 / 1 (100%)\r\n\r\nTime: 8.65 seconds, Memory: 8.00 MB\r\n\r\nThere was 1 error:\r\n\r\n1) cloudbackup\\RateLimitTest::testActualError\r\nPHPUnit\\Framework\\Exception: TEST\r\n\r\nCaused by\r\nErrorException: unserialize(): Error at offset 0 of 5 bytes in /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/src/Util/PHP/AbstractPhpProcess.php:289\r\nStack trace:\r\n#0 [internal function]: PHPUnit\\Util\\PHP\\AbstractPhpProcess::PHPUnit\\Util\\PHP\\{closure}(8, 'unserialize(): ...', '/mnt/c/dev/clou...', 289, Array)\r\n#1 /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/src/Util/PHP/AbstractPhpProcess.php(289): unserialize('TEST\\n')\r\n#2 /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/src/Util/PHP/AbstractPhpProcess.php(187): PHPUnit\\Util\\PHP\\AbstractPhpProcess->processChildResult(Object(cloudbackup\\RateLimitTest), Object(PHPUnit\\Framework\\TestResult), 'TEST\\n', '')\r\n#3 /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/src/Framework/TestCase.php(836): PHPUnit\\Util\\PHP\\AbstractPhpProcess->runTestJob('<?php\\nuse PHPUn...', Object(cloudbackup\\RateLimitTest), Object(PHPUnit\\Framework\\TestResult))\r\n#4 /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/src/Framework/TestSuite.php(622): PHPUnit\\Framework\\TestCase->run(Object(PHPUnit\\Framework\\TestResult))\r\n#5 /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/src/TextUI/TestRunner.php(647): PHPUnit\\Framework\\TestSuite->run(Object(PHPUnit\\Framework\\TestResult))\r\n#6 /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/src/TextUI/Command.php(235): PHPUnit\\TextUI\\TestRunner->doRun(Object(PHPUnit\\Framework\\TestSuite), Array, Array, true)      \r\n#7 /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/src/TextUI/Command.php(194): PHPUnit\\TextUI\\Command->run(Array, true)\r\n#8 /mnt/c/dev/cloud-backup-for-podio/vendor/phpunit/phpunit/phpunit(98): PHPUnit\\TextUI\\Command::main()\r\n#9 {main}\r\n\r\nERRORS!\r\nTests: 1, Assertions: 0, Errors: 1.\r\n``` \r\n\r\n#### How to reproduce\r\n\r\n```php\r\n/**\r\n * @runInSeparateProcess\r\n * @preserveGlobalState disabled\r\n */\r\npublic function testActualError()\r\n{\r\n    if ($fd = fopen('php://stdout', \"a\")) {\r\n        fwrite($fd, \"TEST\\n\");\r\n        fclose($fd);\r\n    }\r\n    $this->assertTrue(true);\r\n}\r\n```\r\n\r\n\r\n#### Expected behavior\r\n\r\nThe test should not error.\r\n\r\n\r\n#### composer info\r\n```text\r\ndatadog/php-datadogstatsd          1.3.0              This is an extremely simple PHP datadogstatsd client\r\ndoctrine/annotations               1.14.2             Docblock Annotations Parser\r\ndoctrine/cache                     1.13.0             PHP Doctrine Cache library is a popular cache implementation that supports many different drivers such as redis, memcache, ...    \r\ndoctrine/deprecations              v1.0.0             A small layer on top of trigger_error(E_USER_DEPRECATED) or PSR-3 logging with options to disable all deprecations or selec...    \r\ndoctrine/instantiator              1.5.0              A small, lightweight utility to instantiate objects in PHP without invoking their constructors\r\ndoctrine/lexer                     2.1.0              PHP Doctrine Lexer parser library that can be used in Top-Down, Recursive Descent Parsers.\r\nfirebase/php-jwt                   v6.3.2             A simple library to encode and decode JSON Web Tokens (JWT) in PHP. Should conform to the current spec.\r\nflowjs/flow-php-server             v1.2.0             PHP library for handling chunk uploads. Works with flow.js html5 file uploads.\r\ngoaop/framework                    2.3.4              Framework for aspect-oriented programming in PHP.\r\ngoaop/parser-reflection            2.1.3              Provides reflection information, based on raw source\r\ngoogle/apiclient                   v2.13.0            Client library for Google APIs\r\ngoogle/apiclient-services          v0.284.0           Client library for Google APIs\r\ngoogle/auth                        v1.24.0            Google Auth Library for PHP\r\ngoogle/cloud-core                  v1.48.1            Google Cloud PHP shared dependency, providing functionality useful to all components.\r\ngoogle/cloud-logging               v1.24.10           Stackdriver Logging Client for PHP\r\ngoogle/cloud-storage               v1.30.1            Cloud Storage Client for PHP\r\ngoogle/common-protos               v3.2.0             Google API Common Protos for PHP\r\ngoogle/crc32                       v0.1.0             Various CRC32 implementations\r\ngoogle/gax                         v1.18.2            Google API Core for PHP\r\ngoogle/grpc-gcp                    v0.2.1             gRPC GCP library for channel management\r\ngoogle/longrunning                 v0.2.2             Google LongRunning Client for PHP\r\ngoogle/protobuf                    v3.21.12           proto library for PHP\r\ngrpc/grpc                          1.42.0             gRPC library for PHP\r\nguzzlehttp/guzzle                  6.5.8              Guzzle is a PHP HTTP client library\r\nguzzlehttp/promises                1.5.2              Guzzle promises library\r\nguzzlehttp/psr7                    1.9.0              PSR-7 message implementation that also provides common utility methods\r\njakubledl/dissect                  v1.0.1             Lexing and parsing in pure PHP\r\njean85/pretty-package-versions     2.0.5              A library to get pretty versions strings of installed dependencies\r\nmikecao/flight                     v1.3.9             Flight is a fast, simple, extensible framework for PHP. Flight enables you to quickly and easily build RESTful web applicat...    \r\nmongodb/mongodb                    1.9.0              MongoDB driver library\r\nmonolog/monolog                    2.8.0              Sends your logs to files, sockets, inboxes, databases and various web services\r\nmyclabs/deep-copy                  1.11.0             Create deep copies (clones) of your objects\r\nnikic/php-parser                   v4.6.0             A PHP parser written in PHP\r\nparagonie/constant_time_encoding   v2.6.3             Constant-time Implementations of RFC 4648 Encoding (Base-64, Base-32, Base-16)\r\nparagonie/random_compat            v9.99.100          PHP 5.x polyfill for random_bytes() and random_int() from PHP 7\r\nphar-io/manifest                   2.0.3              Component for reading phar.io manifest information from a PHP Archive (PHAR)\r\nphar-io/version                    3.2.1              Library for handling version information and constraints\r\nphpmailer/phpmailer                v5.2.28            PHPMailer is a full-featured email creation and transfer class for PHP\r\nphpseclib/phpseclib                3.0.18             PHP Secure Communications Library - Pure-PHP implementations of RSA, AES, SSH2, SFTP, X.509 etc.\r\nphpstan/phpstan                    1.9.14             PHPStan - PHP Static Analysis Tool\r\nphpunit/php-code-coverage          7.0.15             Library that provides collection, processing, and rendering functionality for PHP code coverage information.\r\nphpunit/php-file-iterator          2.0.5              FilterIterator implementation that filters files based on a list of suffixes.\r\nphpunit/php-text-template          1.2.1              Simple template engine.\r\nphpunit/php-timer                  2.1.3              Utility class for timing\r\nphpunit/php-token-stream           3.1.3              Wrapper around PHP's tokenizer extension.\r\nphpunit/phpunit                    8.5.32             The PHP Unit Testing framework.\r\nsebastian/type                     1.1.4              Collection of value objects that represent the types of the PHP type system\r\nsebastian/version                  2.0.1              Library that helps with managing the version number of Git-hosted PHP projects\r\nstripe/stripe-php                  v7.0.2             Stripe PHP Library\r\nsymfony/deprecation-contracts      v2.5.2             A generic function and convention to trigger deprecation notices\r\nsymfony/finder                     v5.4.19            Finds files and directories via an intuitive fluent interface\r\nsymfony/polyfill-intl-idn          v1.27.0            Symfony polyfill for intl's idn_to_ascii and idn_to_utf8 functions\r\nsymfony/polyfill-intl-normalizer   v1.27.0            Symfony polyfill for intl's Normalizer class and related functions\r\nsymfony/polyfill-php72             v1.27.0            Symfony polyfill backporting some PHP 7.2+ features to lower PHP versions\r\nsymfony/polyfill-php80             v1.27.0            Symfony polyfill backporting some PHP 8.0+ features to lower PHP versions\r\ntheseer/tokenizer                  1.2.1              A small library for converting tokenized PHP source code into XML and potentially other formats\r\ntwig/twig                          v1.32.0            Twig, the flexible, fast, and secure template language for PHP\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5151/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5151/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]