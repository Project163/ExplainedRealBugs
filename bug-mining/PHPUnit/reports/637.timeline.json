[{"id":2522464218,"node_id":"MDEyOkxhYmVsZWRFdmVudDI1MjI0NjQyMTg=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/2522464218","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-07-31T08:57:10Z","label":{"name":"feature-removal","color":"eb6420"},"performed_via_github_app":null},{"id":2522464219,"node_id":"MDEyOkxhYmVsZWRFdmVudDI1MjI0NjQyMTk=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/2522464219","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2019-07-31T08:57:10Z","label":{"name":"backward-compatibility-break","color":"eb6420"},"performed_via_github_app":null},{"id":2522464226,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDI1MjI0NjQyMjY=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/2522464226","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2019-07-31T08:57:10Z","milestone":{"title":"PHPUnit 10.0"},"performed_via_github_app":null},{"id":2522464255,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQyNTIyNDY0MjU1","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/2522464255","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2019-07-31T08:57:11Z","assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":3027247190,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MzAyNzI0NzE5MA==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/3027247190","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2020-02-11T16:22:53Z","label":{"name":"feature-removal","color":"eb6420"},"performed_via_github_app":null},{"id":4095710569,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDA5NTcxMDU2OQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/4095710569","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2020-12-10T15:29:36Z","rename":{"from":"Remove MockBuilder::setMethods()","to":"Remove MockBuilder::setMethods() and MockBuilder::setMethodsExcept()"},"performed_via_github_app":null},{"id":4095732596,"node_id":"MDExOkNsb3NlZEV2ZW50NDA5NTczMjU5Ng==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/4095732596","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"baa0ccee4c1eb3f697fec256059119c8874b949d","commit_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits/baa0ccee4c1eb3f697fec256059119c8874b949d","created_at":"2020-12-10T15:33:55Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-04-18T14:41:56Z","updated_at":"2021-04-18T14:41:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4652","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4652/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4652/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4652/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4652","id":860677009,"node_id":"MDU6SXNzdWU4NjA2NzcwMDk=","number":4652,"title":"Creating a partial mock with all the methods mocked but one","user":{"login":"charlesnannan","id":11234993,"node_id":"MDQ6VXNlcjExMjM0OTkz","avatar_url":"https://avatars.githubusercontent.com/u/11234993?v=4","gravatar_id":"","url":"https://api.github.com/users/charlesnannan","html_url":"https://github.com/charlesnannan","followers_url":"https://api.github.com/users/charlesnannan/followers","following_url":"https://api.github.com/users/charlesnannan/following{/other_user}","gists_url":"https://api.github.com/users/charlesnannan/gists{/gist_id}","starred_url":"https://api.github.com/users/charlesnannan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/charlesnannan/subscriptions","organizations_url":"https://api.github.com/users/charlesnannan/orgs","repos_url":"https://api.github.com/users/charlesnannan/repos","events_url":"https://api.github.com/users/charlesnannan/events{/privacy}","received_events_url":"https://api.github.com/users/charlesnannan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44002,"node_id":"MDU6TGFiZWw0NDAwMg==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/enhancement","name":"type/enhancement","color":"73d216","default":false,"description":"A new idea that should be implemented"},{"id":930693698,"node_id":"MDU6TGFiZWw5MzA2OTM2OTg=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/test-doubles","name":"feature/test-doubles","color":"e9b96e","default":false,"description":"Test Stubs and Mock Objects"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-04-18T14:23:15Z","updated_at":"2023-04-25T15:10:46Z","closed_at":"2021-04-18T18:18:37Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"In my company, we are asked by our manager and tech leaders to write a unit test as follows (simplified example):\r\n\r\n```php\r\n$classUnderTestMock = $this\r\n    ->getMockBuilder(ClassUnderTest::class)\r\n    ->disableOriginalConstructor()\r\n    ->setMethodsExcept(['methodUnderTest'])\r\n    ->getMock();\r\n\r\n$this->assertEquals(\r\n    'foo',\r\n    $classUnderTestMock->methodUnderTest()\r\n);\r\n```\r\n\r\nThe idea is to be as restrictive as possible by mocking everything that can be mocked, including the class under test to begin with, and all its methods except the one being called. I guess this can be seen as some sort of pure white box testing.\r\n\r\nI was wondering if this is common practice or not.\r\n\r\nIf it is the case, we could expect a method in the `TestCase` class to create a partial mock with all the methods mocked but one; something like `createExclusivePartialMock` or whatever that would call `setMethodsExcept` instead of `setMethods` (or achieve the same result with the new `onlyMethods)`. Yet, S. Bergmann wrote somewhere that the MockBuilder API was more of an internal API that developers shouldn't rely on (not annotated as such, though), as opposed to its wrappers from `TestCase` â€” namely `createMock` and `createPartialMock`.\r\n\r\nWhat do you think? Am I missing something? Are we doing things wrong? Would such a dedicated method be actually a good solution?\r\n(My deepest apologies if the subject has already been discussed. If that is the case, I did not find it in the issues.)","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4652/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4652/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/900326009","html_url":"https://github.com/sebastianbergmann/phpunit/issues/3769#issuecomment-900326009","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3769","id":900326009,"node_id":"IC_kwDOAAbWLc41qeJ5","user":{"login":"lpd-au","id":14937611,"node_id":"MDQ6VXNlcjE0OTM3NjEx","avatar_url":"https://avatars.githubusercontent.com/u/14937611?v=4","gravatar_id":"","url":"https://api.github.com/users/lpd-au","html_url":"https://github.com/lpd-au","followers_url":"https://api.github.com/users/lpd-au/followers","following_url":"https://api.github.com/users/lpd-au/following{/other_user}","gists_url":"https://api.github.com/users/lpd-au/gists{/gist_id}","starred_url":"https://api.github.com/users/lpd-au/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpd-au/subscriptions","organizations_url":"https://api.github.com/users/lpd-au/orgs","repos_url":"https://api.github.com/users/lpd-au/repos","events_url":"https://api.github.com/users/lpd-au/events{/privacy}","received_events_url":"https://api.github.com/users/lpd-au/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-08-17T14:02:48Z","updated_at":"2021-08-17T14:02:48Z","body":"`setMethods` was replaced by `onlyMethods` (to mock existing methods) & `addMethods` (to add new methods), but what replaces `setMethodsExcept`? (Not mentioned in https://github.com/sebastianbergmann/phpunit/pull/3687#issuecomment-492537584).","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/900326009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lpd-au","id":14937611,"node_id":"MDQ6VXNlcjE0OTM3NjEx","avatar_url":"https://avatars.githubusercontent.com/u/14937611?v=4","gravatar_id":"","url":"https://api.github.com/users/lpd-au","html_url":"https://github.com/lpd-au","followers_url":"https://api.github.com/users/lpd-au/followers","following_url":"https://api.github.com/users/lpd-au/following{/other_user}","gists_url":"https://api.github.com/users/lpd-au/gists{/gist_id}","starred_url":"https://api.github.com/users/lpd-au/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lpd-au/subscriptions","organizations_url":"https://api.github.com/users/lpd-au/orgs","repos_url":"https://api.github.com/users/lpd-au/repos","events_url":"https://api.github.com/users/lpd-au/events{/privacy}","received_events_url":"https://api.github.com/users/lpd-au/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/915661955","html_url":"https://github.com/sebastianbergmann/phpunit/issues/3769#issuecomment-915661955","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3769","id":915661955,"node_id":"IC_kwDOAAbWLc42k-SD","user":{"login":"leighman","id":279519,"node_id":"MDQ6VXNlcjI3OTUxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/279519?v=4","gravatar_id":"","url":"https://api.github.com/users/leighman","html_url":"https://github.com/leighman","followers_url":"https://api.github.com/users/leighman/followers","following_url":"https://api.github.com/users/leighman/following{/other_user}","gists_url":"https://api.github.com/users/leighman/gists{/gist_id}","starred_url":"https://api.github.com/users/leighman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leighman/subscriptions","organizations_url":"https://api.github.com/users/leighman/orgs","repos_url":"https://api.github.com/users/leighman/repos","events_url":"https://api.github.com/users/leighman/events{/privacy}","received_events_url":"https://api.github.com/users/leighman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-09-09T00:24:15Z","updated_at":"2021-09-09T00:24:15Z","body":"Also interested in this ^\r\nYou can transform it to `onlyMethods` of anything you do mock but it's nice to explicitly mock everything except the method under test for futureproofness","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/915661955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"leighman","id":279519,"node_id":"MDQ6VXNlcjI3OTUxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/279519?v=4","gravatar_id":"","url":"https://api.github.com/users/leighman","html_url":"https://github.com/leighman","followers_url":"https://api.github.com/users/leighman/followers","following_url":"https://api.github.com/users/leighman/following{/other_user}","gists_url":"https://api.github.com/users/leighman/gists{/gist_id}","starred_url":"https://api.github.com/users/leighman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/leighman/subscriptions","organizations_url":"https://api.github.com/users/leighman/orgs","repos_url":"https://api.github.com/users/leighman/repos","events_url":"https://api.github.com/users/leighman/events{/privacy}","received_events_url":"https://api.github.com/users/leighman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"solventt","id":46854749,"node_id":"MDQ6VXNlcjQ2ODU0NzQ5","avatar_url":"https://avatars.githubusercontent.com/u/46854749?v=4","gravatar_id":"","url":"https://api.github.com/users/solventt","html_url":"https://github.com/solventt","followers_url":"https://api.github.com/users/solventt/followers","following_url":"https://api.github.com/users/solventt/following{/other_user}","gists_url":"https://api.github.com/users/solventt/gists{/gist_id}","starred_url":"https://api.github.com/users/solventt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solventt/subscriptions","organizations_url":"https://api.github.com/users/solventt/orgs","repos_url":"https://api.github.com/users/solventt/repos","events_url":"https://api.github.com/users/solventt/events{/privacy}","received_events_url":"https://api.github.com/users/solventt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-19T04:23:58Z","updated_at":"2021-10-19T04:23:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/slimphp/Twig-View/issues/235","repository_url":"https://api.github.com/repos/slimphp/Twig-View","labels_url":"https://api.github.com/repos/slimphp/Twig-View/issues/235/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Twig-View/issues/235/comments","events_url":"https://api.github.com/repos/slimphp/Twig-View/issues/235/events","html_url":"https://github.com/slimphp/Twig-View/pull/235","id":1029845429,"node_id":"PR_kwDOAeux6M4tXL3j","number":235,"title":"Update the render method in the Twig class","user":{"login":"solventt","id":46854749,"node_id":"MDQ6VXNlcjQ2ODU0NzQ5","avatar_url":"https://avatars.githubusercontent.com/u/46854749?v=4","gravatar_id":"","url":"https://api.github.com/users/solventt","html_url":"https://github.com/solventt","followers_url":"https://api.github.com/users/solventt/followers","following_url":"https://api.github.com/users/solventt/following{/other_user}","gists_url":"https://api.github.com/users/solventt/gists{/gist_id}","starred_url":"https://api.github.com/users/solventt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solventt/subscriptions","organizations_url":"https://api.github.com/users/solventt/orgs","repos_url":"https://api.github.com/users/solventt/repos","events_url":"https://api.github.com/users/solventt/events{/privacy}","received_events_url":"https://api.github.com/users/solventt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-10-19T04:23:58Z","updated_at":"2021-11-03T12:08:00Z","closed_at":"2021-11-03T12:08:00Z","author_association":"NONE","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":32223720,"node_id":"MDEwOlJlcG9zaXRvcnkzMjIyMzcyMA==","name":"Twig-View","full_name":"slimphp/Twig-View","private":false,"owner":{"login":"slimphp","id":11195762,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMTk1NzYy","avatar_url":"https://avatars.githubusercontent.com/u/11195762?v=4","gravatar_id":"","url":"https://api.github.com/users/slimphp","html_url":"https://github.com/slimphp","followers_url":"https://api.github.com/users/slimphp/followers","following_url":"https://api.github.com/users/slimphp/following{/other_user}","gists_url":"https://api.github.com/users/slimphp/gists{/gist_id}","starred_url":"https://api.github.com/users/slimphp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slimphp/subscriptions","organizations_url":"https://api.github.com/users/slimphp/orgs","repos_url":"https://api.github.com/users/slimphp/repos","events_url":"https://api.github.com/users/slimphp/events{/privacy}","received_events_url":"https://api.github.com/users/slimphp/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/slimphp/Twig-View","description":"Slim Framework view helper built on top of the Twig templating component","fork":false,"url":"https://api.github.com/repos/slimphp/Twig-View","forks_url":"https://api.github.com/repos/slimphp/Twig-View/forks","keys_url":"https://api.github.com/repos/slimphp/Twig-View/keys{/key_id}","collaborators_url":"https://api.github.com/repos/slimphp/Twig-View/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/slimphp/Twig-View/teams","hooks_url":"https://api.github.com/repos/slimphp/Twig-View/hooks","issue_events_url":"https://api.github.com/repos/slimphp/Twig-View/issues/events{/number}","events_url":"https://api.github.com/repos/slimphp/Twig-View/events","assignees_url":"https://api.github.com/repos/slimphp/Twig-View/assignees{/user}","branches_url":"https://api.github.com/repos/slimphp/Twig-View/branches{/branch}","tags_url":"https://api.github.com/repos/slimphp/Twig-View/tags","blobs_url":"https://api.github.com/repos/slimphp/Twig-View/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/slimphp/Twig-View/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/slimphp/Twig-View/git/refs{/sha}","trees_url":"https://api.github.com/repos/slimphp/Twig-View/git/trees{/sha}","statuses_url":"https://api.github.com/repos/slimphp/Twig-View/statuses/{sha}","languages_url":"https://api.github.com/repos/slimphp/Twig-View/languages","stargazers_url":"https://api.github.com/repos/slimphp/Twig-View/stargazers","contributors_url":"https://api.github.com/repos/slimphp/Twig-View/contributors","subscribers_url":"https://api.github.com/repos/slimphp/Twig-View/subscribers","subscription_url":"https://api.github.com/repos/slimphp/Twig-View/subscription","commits_url":"https://api.github.com/repos/slimphp/Twig-View/commits{/sha}","git_commits_url":"https://api.github.com/repos/slimphp/Twig-View/git/commits{/sha}","comments_url":"https://api.github.com/repos/slimphp/Twig-View/comments{/number}","issue_comment_url":"https://api.github.com/repos/slimphp/Twig-View/issues/comments{/number}","contents_url":"https://api.github.com/repos/slimphp/Twig-View/contents/{+path}","compare_url":"https://api.github.com/repos/slimphp/Twig-View/compare/{base}...{head}","merges_url":"https://api.github.com/repos/slimphp/Twig-View/merges","archive_url":"https://api.github.com/repos/slimphp/Twig-View/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/slimphp/Twig-View/downloads","issues_url":"https://api.github.com/repos/slimphp/Twig-View/issues{/number}","pulls_url":"https://api.github.com/repos/slimphp/Twig-View/pulls{/number}","milestones_url":"https://api.github.com/repos/slimphp/Twig-View/milestones{/number}","notifications_url":"https://api.github.com/repos/slimphp/Twig-View/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/slimphp/Twig-View/labels{/name}","releases_url":"https://api.github.com/repos/slimphp/Twig-View/releases{/id}","deployments_url":"https://api.github.com/repos/slimphp/Twig-View/deployments","created_at":"2015-03-14T17:30:16Z","updated_at":"2025-11-02T15:01:17Z","pushed_at":"2025-11-02T15:01:13Z","git_url":"git://github.com/slimphp/Twig-View.git","ssh_url":"git@github.com:slimphp/Twig-View.git","clone_url":"https://github.com/slimphp/Twig-View.git","svn_url":"https://github.com/slimphp/Twig-View","homepage":"http://slimframework.com","size":341,"stargazers_count":366,"watchers_count":366,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":85,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","slim-framework","twig","twig-templates"],"visibility":"public","forks":85,"open_issues":8,"watchers":366,"default_branch":"3.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/slimphp/Twig-View/pulls/235","html_url":"https://github.com/slimphp/Twig-View/pull/235","diff_url":"https://github.com/slimphp/Twig-View/pull/235.diff","patch_url":"https://github.com/slimphp/Twig-View/pull/235.patch","merged_at":null},"body":"I remind that the Slim allows to define a custom route invocation strategy that determines arguments coming into the callable request handler (see [Slim's docs](https://www.slimframework.com/docs/v4/objects/routing.html#route-strategies)).\r\n\r\nAnd current implementation of the `render()` method assumes that the handler's arugments will necessarily contain the `ResponseInterface` object. But I, for example, use my own rout strategy that allows to omit unnecessary arguments, including the `ResponseInterface` object.\r\n\r\nSo I offer to make the `render()` method flexible - so that the user can choose the most convenient form of the method:\r\n```php\r\n$view->render($response, 'example.html', ['name' => 'Josh'])\r\n\r\n// OR\r\n\r\n$view->render('example.html', ['name' => 'Josh'])\r\n```\r\n\r\ni.e. the `$response` may or may not be among the arguments of the method.\r\n\r\n### What was done:\r\n\r\n**1\\)** Moving `psr/http-factory` from the `require-dev` section to the `require` (for having `ResponseFactoryInterface` in the `Twig` class) in the `composer.json`\r\n\r\n**2\\)** Updating the `render` method (including the doc block)\r\n\r\n**3\\)** Adding the `$responseFactory` protected property and `setResponseFactory` method (we can't inject a response factory to/in the constructor because `ResponseFactoryInterface` assumes different PSR-17 implementatons used by users)\r\n\r\n**4\\)** The `testRender()` method was split into two methods: `testRenderWithResponseFactory()` and `testRenderWithoutResponseFactory()`. The code that initializes a `$view`, `$mockBody`, `$mockResponse`, `$mockResponseFactory` for the two test methods was put in a separate auxiliary method.\r\n\r\n**5\\)** Adding the `testInvalidArgumentInRender()` and `testNotDefinedResponseFactoryInRender()` test methods.\r\n\r\n**6\\)** Removing 2 unused class imports in 'use' section (`Twig\\Loader\\FilesystemLoader` and `Slim\\Views\\TwigContext`) in `TwigTest`\r\n\r\n**7\\)** Replacing deprecated `setMethods()` with `onlyMethods()` (https://github.com/sebastianbergmann/phpunit/pull/3687 and https://github.com/sebastianbergmann/phpunit/issues/3769) in `testAddRuntimeLoader()`\r\n\r\n**8\\)** Updating README.md","reactions":{"url":"https://api.github.com/repos/slimphp/Twig-View/issues/235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/slimphp/Twig-View/issues/235/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"solventt","id":46854749,"node_id":"MDQ6VXNlcjQ2ODU0NzQ5","avatar_url":"https://avatars.githubusercontent.com/u/46854749?v=4","gravatar_id":"","url":"https://api.github.com/users/solventt","html_url":"https://github.com/solventt","followers_url":"https://api.github.com/users/solventt/followers","following_url":"https://api.github.com/users/solventt/following{/other_user}","gists_url":"https://api.github.com/users/solventt/gists{/gist_id}","starred_url":"https://api.github.com/users/solventt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solventt/subscriptions","organizations_url":"https://api.github.com/users/solventt/orgs","repos_url":"https://api.github.com/users/solventt/repos","events_url":"https://api.github.com/users/solventt/events{/privacy}","received_events_url":"https://api.github.com/users/solventt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-19T04:46:38Z","updated_at":"2021-10-19T04:46:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues/207","repository_url":"https://api.github.com/repos/slimphp/Slim-Psr7","labels_url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues/207/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues/207/comments","events_url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues/207/events","html_url":"https://github.com/slimphp/Slim-Psr7/issues/207","id":1029856229,"node_id":"I_kwDOBItilM49Ylvl","number":207,"title":"Replace deprecated setMethods()","user":{"login":"solventt","id":46854749,"node_id":"MDQ6VXNlcjQ2ODU0NzQ5","avatar_url":"https://avatars.githubusercontent.com/u/46854749?v=4","gravatar_id":"","url":"https://api.github.com/users/solventt","html_url":"https://github.com/solventt","followers_url":"https://api.github.com/users/solventt/followers","following_url":"https://api.github.com/users/solventt/following{/other_user}","gists_url":"https://api.github.com/users/solventt/gists{/gist_id}","starred_url":"https://api.github.com/users/solventt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solventt/subscriptions","organizations_url":"https://api.github.com/users/solventt/orgs","repos_url":"https://api.github.com/users/solventt/repos","events_url":"https://api.github.com/users/solventt/events{/privacy}","received_events_url":"https://api.github.com/users/solventt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2021-10-19T04:46:38Z","updated_at":"2022-02-18T17:15:30Z","closed_at":"2022-02-18T17:15:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":76243604,"node_id":"MDEwOlJlcG9zaXRvcnk3NjI0MzYwNA==","name":"Slim-Psr7","full_name":"slimphp/Slim-Psr7","private":false,"owner":{"login":"slimphp","id":11195762,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMTk1NzYy","avatar_url":"https://avatars.githubusercontent.com/u/11195762?v=4","gravatar_id":"","url":"https://api.github.com/users/slimphp","html_url":"https://github.com/slimphp","followers_url":"https://api.github.com/users/slimphp/followers","following_url":"https://api.github.com/users/slimphp/following{/other_user}","gists_url":"https://api.github.com/users/slimphp/gists{/gist_id}","starred_url":"https://api.github.com/users/slimphp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slimphp/subscriptions","organizations_url":"https://api.github.com/users/slimphp/orgs","repos_url":"https://api.github.com/users/slimphp/repos","events_url":"https://api.github.com/users/slimphp/events{/privacy}","received_events_url":"https://api.github.com/users/slimphp/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/slimphp/Slim-Psr7","description":"PSR-7 implementation for use with Slim 4","fork":false,"url":"https://api.github.com/repos/slimphp/Slim-Psr7","forks_url":"https://api.github.com/repos/slimphp/Slim-Psr7/forks","keys_url":"https://api.github.com/repos/slimphp/Slim-Psr7/keys{/key_id}","collaborators_url":"https://api.github.com/repos/slimphp/Slim-Psr7/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/slimphp/Slim-Psr7/teams","hooks_url":"https://api.github.com/repos/slimphp/Slim-Psr7/hooks","issue_events_url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues/events{/number}","events_url":"https://api.github.com/repos/slimphp/Slim-Psr7/events","assignees_url":"https://api.github.com/repos/slimphp/Slim-Psr7/assignees{/user}","branches_url":"https://api.github.com/repos/slimphp/Slim-Psr7/branches{/branch}","tags_url":"https://api.github.com/repos/slimphp/Slim-Psr7/tags","blobs_url":"https://api.github.com/repos/slimphp/Slim-Psr7/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/slimphp/Slim-Psr7/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/slimphp/Slim-Psr7/git/refs{/sha}","trees_url":"https://api.github.com/repos/slimphp/Slim-Psr7/git/trees{/sha}","statuses_url":"https://api.github.com/repos/slimphp/Slim-Psr7/statuses/{sha}","languages_url":"https://api.github.com/repos/slimphp/Slim-Psr7/languages","stargazers_url":"https://api.github.com/repos/slimphp/Slim-Psr7/stargazers","contributors_url":"https://api.github.com/repos/slimphp/Slim-Psr7/contributors","subscribers_url":"https://api.github.com/repos/slimphp/Slim-Psr7/subscribers","subscription_url":"https://api.github.com/repos/slimphp/Slim-Psr7/subscription","commits_url":"https://api.github.com/repos/slimphp/Slim-Psr7/commits{/sha}","git_commits_url":"https://api.github.com/repos/slimphp/Slim-Psr7/git/commits{/sha}","comments_url":"https://api.github.com/repos/slimphp/Slim-Psr7/comments{/number}","issue_comment_url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues/comments{/number}","contents_url":"https://api.github.com/repos/slimphp/Slim-Psr7/contents/{+path}","compare_url":"https://api.github.com/repos/slimphp/Slim-Psr7/compare/{base}...{head}","merges_url":"https://api.github.com/repos/slimphp/Slim-Psr7/merges","archive_url":"https://api.github.com/repos/slimphp/Slim-Psr7/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/slimphp/Slim-Psr7/downloads","issues_url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues{/number}","pulls_url":"https://api.github.com/repos/slimphp/Slim-Psr7/pulls{/number}","milestones_url":"https://api.github.com/repos/slimphp/Slim-Psr7/milestones{/number}","notifications_url":"https://api.github.com/repos/slimphp/Slim-Psr7/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/slimphp/Slim-Psr7/labels{/name}","releases_url":"https://api.github.com/repos/slimphp/Slim-Psr7/releases{/id}","deployments_url":"https://api.github.com/repos/slimphp/Slim-Psr7/deployments","created_at":"2016-12-12T09:52:23Z","updated_at":"2025-11-02T17:51:23Z","pushed_at":"2025-11-05T19:46:04Z","git_url":"git://github.com/slimphp/Slim-Psr7.git","ssh_url":"git@github.com:slimphp/Slim-Psr7.git","clone_url":"https://github.com/slimphp/Slim-Psr7.git","svn_url":"https://github.com/slimphp/Slim-Psr7","homepage":"","size":643,"stargazers_count":146,"watchers_count":146,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":46,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":3,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":46,"open_issues":3,"watchers":146,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"In PhpUnit `setMethods()` is deprecated (https://github.com/sebastianbergmann/phpunit/pull/3687) and will be removed in version 10 (https://github.com/sebastianbergmann/phpunit/issues/3769). The method was split into two methods (`onlyMethods` and `addMethods`) according to their responsibilities.\r\n\r\nBut it's not that simple: `setMethods()` allows to mock non-existent class. So in PhpUnit 10 we will lose this feature, because `onlyMethods` and `addMethods` work with `ReflectionClass` internally. In this package `setMethods()` is used to mock non-existent classes, see:\r\n\r\n- `UriTest` (strings: 140, 306, 360)\r\n- `ResponseTest` (string 147)\r\n\r\n**What's the solution?**\r\n\r\n1) To use `\\stdClass` instead of a non-existent class:\r\n```php\r\n$this->getMockBuilder(\\stdClass::class)->addMethods(['__invoke'])->getMock();\r\n```\r\n2) To create an empty \"physical\" class\r\n\r\nSource - https://stackoverflow.com/questions/60535649/mock-non-existing-class-in-phpunit-10?rq=1","reactions":{"url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues/207/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/slimphp/Slim-Psr7/issues/207/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"solventt","id":46854749,"node_id":"MDQ6VXNlcjQ2ODU0NzQ5","avatar_url":"https://avatars.githubusercontent.com/u/46854749?v=4","gravatar_id":"","url":"https://api.github.com/users/solventt","html_url":"https://github.com/solventt","followers_url":"https://api.github.com/users/solventt/followers","following_url":"https://api.github.com/users/solventt/following{/other_user}","gists_url":"https://api.github.com/users/solventt/gists{/gist_id}","starred_url":"https://api.github.com/users/solventt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solventt/subscriptions","organizations_url":"https://api.github.com/users/solventt/orgs","repos_url":"https://api.github.com/users/solventt/repos","events_url":"https://api.github.com/users/solventt/events{/privacy}","received_events_url":"https://api.github.com/users/solventt/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-19T07:12:06Z","updated_at":"2021-10-19T07:12:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/slimphp/Slim/issues/3123","repository_url":"https://api.github.com/repos/slimphp/Slim","labels_url":"https://api.github.com/repos/slimphp/Slim/issues/3123/labels{/name}","comments_url":"https://api.github.com/repos/slimphp/Slim/issues/3123/comments","events_url":"https://api.github.com/repos/slimphp/Slim/issues/3123/events","html_url":"https://github.com/slimphp/Slim/pull/3123","id":1029941450,"node_id":"PR_kwDOAA4jUM4tXetu","number":3123,"title":"Replace deprecated setMethods() in tests","user":{"login":"solventt","id":46854749,"node_id":"MDQ6VXNlcjQ2ODU0NzQ5","avatar_url":"https://avatars.githubusercontent.com/u/46854749?v=4","gravatar_id":"","url":"https://api.github.com/users/solventt","html_url":"https://github.com/solventt","followers_url":"https://api.github.com/users/solventt/followers","following_url":"https://api.github.com/users/solventt/following{/other_user}","gists_url":"https://api.github.com/users/solventt/gists{/gist_id}","starred_url":"https://api.github.com/users/solventt/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/solventt/subscriptions","organizations_url":"https://api.github.com/users/solventt/orgs","repos_url":"https://api.github.com/users/solventt/repos","events_url":"https://api.github.com/users/solventt/events{/privacy}","received_events_url":"https://api.github.com/users/solventt/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/slimphp/Slim/milestones/64","html_url":"https://github.com/slimphp/Slim/milestone/64","labels_url":"https://api.github.com/repos/slimphp/Slim/milestones/64/labels","id":7219898,"node_id":"MI_kwDOAA4jUM4Abiq6","number":64,"title":"4.10.0","description":"","creator":{"login":"l0gicgate","id":6510935,"node_id":"MDQ6VXNlcjY1MTA5MzU=","avatar_url":"https://avatars.githubusercontent.com/u/6510935?v=4","gravatar_id":"","url":"https://api.github.com/users/l0gicgate","html_url":"https://github.com/l0gicgate","followers_url":"https://api.github.com/users/l0gicgate/followers","following_url":"https://api.github.com/users/l0gicgate/following{/other_user}","gists_url":"https://api.github.com/users/l0gicgate/gists{/gist_id}","starred_url":"https://api.github.com/users/l0gicgate/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/l0gicgate/subscriptions","organizations_url":"https://api.github.com/users/l0gicgate/orgs","repos_url":"https://api.github.com/users/l0gicgate/repos","events_url":"https://api.github.com/users/l0gicgate/events{/privacy}","received_events_url":"https://api.github.com/users/l0gicgate/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":18,"state":"closed","created_at":"2021-10-05T02:55:31Z","updated_at":"2022-03-14T14:24:07Z","due_on":null,"closed_at":"2022-03-14T14:11:44Z"},"comments":1,"created_at":"2021-10-19T07:12:05Z","updated_at":"2021-10-19T15:30:43Z","closed_at":"2021-10-19T15:30:43Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":926544,"node_id":"MDEwOlJlcG9zaXRvcnk5MjY1NDQ=","name":"Slim","full_name":"slimphp/Slim","private":false,"owner":{"login":"slimphp","id":11195762,"node_id":"MDEyOk9yZ2FuaXphdGlvbjExMTk1NzYy","avatar_url":"https://avatars.githubusercontent.com/u/11195762?v=4","gravatar_id":"","url":"https://api.github.com/users/slimphp","html_url":"https://github.com/slimphp","followers_url":"https://api.github.com/users/slimphp/followers","following_url":"https://api.github.com/users/slimphp/following{/other_user}","gists_url":"https://api.github.com/users/slimphp/gists{/gist_id}","starred_url":"https://api.github.com/users/slimphp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/slimphp/subscriptions","organizations_url":"https://api.github.com/users/slimphp/orgs","repos_url":"https://api.github.com/users/slimphp/repos","events_url":"https://api.github.com/users/slimphp/events{/privacy}","received_events_url":"https://api.github.com/users/slimphp/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/slimphp/Slim","description":"Slim is a PHP micro framework that helps you quickly write simple yet powerful web applications and APIs.","fork":false,"url":"https://api.github.com/repos/slimphp/Slim","forks_url":"https://api.github.com/repos/slimphp/Slim/forks","keys_url":"https://api.github.com/repos/slimphp/Slim/keys{/key_id}","collaborators_url":"https://api.github.com/repos/slimphp/Slim/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/slimphp/Slim/teams","hooks_url":"https://api.github.com/repos/slimphp/Slim/hooks","issue_events_url":"https://api.github.com/repos/slimphp/Slim/issues/events{/number}","events_url":"https://api.github.com/repos/slimphp/Slim/events","assignees_url":"https://api.github.com/repos/slimphp/Slim/assignees{/user}","branches_url":"https://api.github.com/repos/slimphp/Slim/branches{/branch}","tags_url":"https://api.github.com/repos/slimphp/Slim/tags","blobs_url":"https://api.github.com/repos/slimphp/Slim/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/slimphp/Slim/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/slimphp/Slim/git/refs{/sha}","trees_url":"https://api.github.com/repos/slimphp/Slim/git/trees{/sha}","statuses_url":"https://api.github.com/repos/slimphp/Slim/statuses/{sha}","languages_url":"https://api.github.com/repos/slimphp/Slim/languages","stargazers_url":"https://api.github.com/repos/slimphp/Slim/stargazers","contributors_url":"https://api.github.com/repos/slimphp/Slim/contributors","subscribers_url":"https://api.github.com/repos/slimphp/Slim/subscribers","subscription_url":"https://api.github.com/repos/slimphp/Slim/subscription","commits_url":"https://api.github.com/repos/slimphp/Slim/commits{/sha}","git_commits_url":"https://api.github.com/repos/slimphp/Slim/git/commits{/sha}","comments_url":"https://api.github.com/repos/slimphp/Slim/comments{/number}","issue_comment_url":"https://api.github.com/repos/slimphp/Slim/issues/comments{/number}","contents_url":"https://api.github.com/repos/slimphp/Slim/contents/{+path}","compare_url":"https://api.github.com/repos/slimphp/Slim/compare/{base}...{head}","merges_url":"https://api.github.com/repos/slimphp/Slim/merges","archive_url":"https://api.github.com/repos/slimphp/Slim/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/slimphp/Slim/downloads","issues_url":"https://api.github.com/repos/slimphp/Slim/issues{/number}","pulls_url":"https://api.github.com/repos/slimphp/Slim/pulls{/number}","milestones_url":"https://api.github.com/repos/slimphp/Slim/milestones{/number}","notifications_url":"https://api.github.com/repos/slimphp/Slim/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/slimphp/Slim/labels{/name}","releases_url":"https://api.github.com/repos/slimphp/Slim/releases{/id}","deployments_url":"https://api.github.com/repos/slimphp/Slim/deployments","created_at":"2010-09-21T01:17:06Z","updated_at":"2025-11-09T22:52:06Z","pushed_at":"2025-11-09T19:15:27Z","git_url":"git://github.com/slimphp/Slim.git","ssh_url":"git@github.com:slimphp/Slim.git","clone_url":"https://github.com/slimphp/Slim.git","svn_url":"https://github.com/slimphp/Slim","homepage":"http://slimframework.com","size":7381,"stargazers_count":12207,"watchers_count":12207,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":1968,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":8,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["framework","micro-framework","php","php-micro-framework","psr-15","psr-3","psr-7","slim","slim-framework"],"visibility":"public","forks":1968,"open_issues":8,"watchers":12207,"default_branch":"4.x","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/slimphp/Slim/pulls/3123","html_url":"https://github.com/slimphp/Slim/pull/3123","diff_url":"https://github.com/slimphp/Slim/pull/3123.diff","patch_url":"https://github.com/slimphp/Slim/pull/3123.patch","merged_at":"2021-10-19T15:30:43Z"},"body":"In PhpUnit `setMethods()` is deprecated (https://github.com/sebastianbergmann/phpunit/pull/3687) and will be removed in version 10 (https://github.com/sebastianbergmann/phpunit/issues/3769). The method was split into two methods (`onlyMethods` and `addMethods`) according to their responsibilities.\r\n\r\nSo I've replaced the method with `onlyMethods` in `ResponseEmitterTest`.","reactions":{"url":"https://api.github.com/repos/slimphp/Slim/issues/3123/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/slimphp/Slim/issues/3123/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/948816706","html_url":"https://github.com/sebastianbergmann/phpunit/issues/3769#issuecomment-948816706","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3769","id":948816706,"node_id":"IC_kwDOAAbWLc44jctC","user":{"login":"stebogit","id":12717225,"node_id":"MDQ6VXNlcjEyNzE3MjI1","avatar_url":"https://avatars.githubusercontent.com/u/12717225?v=4","gravatar_id":"","url":"https://api.github.com/users/stebogit","html_url":"https://github.com/stebogit","followers_url":"https://api.github.com/users/stebogit/followers","following_url":"https://api.github.com/users/stebogit/following{/other_user}","gists_url":"https://api.github.com/users/stebogit/gists{/gist_id}","starred_url":"https://api.github.com/users/stebogit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stebogit/subscriptions","organizations_url":"https://api.github.com/users/stebogit/orgs","repos_url":"https://api.github.com/users/stebogit/repos","events_url":"https://api.github.com/users/stebogit/events{/privacy}","received_events_url":"https://api.github.com/users/stebogit/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-10-21T17:04:28Z","updated_at":"2021-10-21T17:04:28Z","body":"I second the latest comments, supporting the need of `setMethodsExcept` or an alternative to it.\r\nThere are cases where you do want to mock just some of the class methods. In my case I have a class fetching data from the DB and during tests I want to mock those methods reaching the DB and provide the expected/dummy data for the test.\r\n\r\nWith [this comment](https://github.com/sebastianbergmann/phpunit/issues/4652#issuecomment-822002216) in mind @sebastianbergmann, I agree in a test suite you consider a class/object as the unit under test, however I'd also argue that in a specific test of that suite you might (often?) test only part(s) of that object, as in maybe one or few methods at a time. Allowing to mock some of the other object's methods allows to perform those tests in isolation.\r\n\r\nI wonder if the approach I just mentioned does make sense to you or if you had any thought or suggestions on that.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/948816706/reactions","total_count":7,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"stebogit","id":12717225,"node_id":"MDQ6VXNlcjEyNzE3MjI1","avatar_url":"https://avatars.githubusercontent.com/u/12717225?v=4","gravatar_id":"","url":"https://api.github.com/users/stebogit","html_url":"https://github.com/stebogit","followers_url":"https://api.github.com/users/stebogit/followers","following_url":"https://api.github.com/users/stebogit/following{/other_user}","gists_url":"https://api.github.com/users/stebogit/gists{/gist_id}","starred_url":"https://api.github.com/users/stebogit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stebogit/subscriptions","organizations_url":"https://api.github.com/users/stebogit/orgs","repos_url":"https://api.github.com/users/stebogit/repos","events_url":"https://api.github.com/users/stebogit/events{/privacy}","received_events_url":"https://api.github.com/users/stebogit/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5499972502,"node_id":"MEE_lADOAAbWLc4cUDk3zwAAAAFH0uuW","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5499972502","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-10-21T17:04:28Z","performed_via_github_app":null},{"id":5499972505,"node_id":"SE_lADOAAbWLc4cUDk3zwAAAAFH0uuZ","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/5499972505","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-10-21T17:04:28Z","performed_via_github_app":null},{"actor":{"login":"gjuric","id":223015,"node_id":"MDQ6VXNlcjIyMzAxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/223015?v=4","gravatar_id":"","url":"https://api.github.com/users/gjuric","html_url":"https://github.com/gjuric","followers_url":"https://api.github.com/users/gjuric/followers","following_url":"https://api.github.com/users/gjuric/following{/other_user}","gists_url":"https://api.github.com/users/gjuric/gists{/gist_id}","starred_url":"https://api.github.com/users/gjuric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gjuric/subscriptions","organizations_url":"https://api.github.com/users/gjuric/orgs","repos_url":"https://api.github.com/users/gjuric/repos","events_url":"https://api.github.com/users/gjuric/events{/privacy}","received_events_url":"https://api.github.com/users/gjuric/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-02-03T11:06:43Z","updated_at":"2023-02-03T11:06:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/symfony/symfony/issues/49218","repository_url":"https://api.github.com/repos/symfony/symfony","labels_url":"https://api.github.com/repos/symfony/symfony/issues/49218/labels{/name}","comments_url":"https://api.github.com/repos/symfony/symfony/issues/49218/comments","events_url":"https://api.github.com/repos/symfony/symfony/issues/49218/events","html_url":"https://github.com/symfony/symfony/issues/49218","id":1569666138,"node_id":"I_kwDOAAb9Ss5djzRa","number":49218,"title":"ConstraintValidatorTestCase and PHPUnit 10","user":{"login":"gjuric","id":223015,"node_id":"MDQ6VXNlcjIyMzAxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/223015?v=4","gravatar_id":"","url":"https://api.github.com/users/gjuric","html_url":"https://github.com/gjuric","followers_url":"https://api.github.com/users/gjuric/followers","following_url":"https://api.github.com/users/gjuric/following{/other_user}","gists_url":"https://api.github.com/users/gjuric/gists{/gist_id}","starred_url":"https://api.github.com/users/gjuric/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gjuric/subscriptions","organizations_url":"https://api.github.com/users/gjuric/orgs","repos_url":"https://api.github.com/users/gjuric/repos","events_url":"https://api.github.com/users/gjuric/events{/privacy}","received_events_url":"https://api.github.com/users/gjuric/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":99599,"node_id":"MDU6TGFiZWw5OTU5OQ==","url":"https://api.github.com/repos/symfony/symfony/labels/Validator","name":"Validator","color":"DDDDDD","default":false,"description":null},{"id":100079,"node_id":"MDU6TGFiZWwxMDAwNzk=","url":"https://api.github.com/repos/symfony/symfony/labels/Bug","name":"Bug","color":"e10c02","default":false,"description":null},{"id":237550465,"node_id":"MDU6TGFiZWwyMzc1NTA0NjU=","url":"https://api.github.com/repos/symfony/symfony/labels/Status:%20Reviewed","name":"Status: Reviewed","color":"bfe5bf","default":false,"description":null},{"id":844722949,"node_id":"MDU6TGFiZWw4NDQ3MjI5NDk=","url":"https://api.github.com/repos/symfony/symfony/labels/Help%20wanted","name":"Help wanted","color":"0e8a16","default":false,"description":"Issues and PRs which are looking for volunteers to complete them."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-02-03T11:06:43Z","updated_at":"2023-02-04T08:15:51Z","closed_at":"2023-02-04T08:15:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":458058,"node_id":"MDEwOlJlcG9zaXRvcnk0NTgwNTg=","name":"symfony","full_name":"symfony/symfony","private":false,"owner":{"login":"symfony","id":143937,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE0MzkzNw==","avatar_url":"https://avatars.githubusercontent.com/u/143937?v=4","gravatar_id":"","url":"https://api.github.com/users/symfony","html_url":"https://github.com/symfony","followers_url":"https://api.github.com/users/symfony/followers","following_url":"https://api.github.com/users/symfony/following{/other_user}","gists_url":"https://api.github.com/users/symfony/gists{/gist_id}","starred_url":"https://api.github.com/users/symfony/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/symfony/subscriptions","organizations_url":"https://api.github.com/users/symfony/orgs","repos_url":"https://api.github.com/users/symfony/repos","events_url":"https://api.github.com/users/symfony/events{/privacy}","received_events_url":"https://api.github.com/users/symfony/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/symfony/symfony","description":"The Symfony PHP framework","fork":false,"url":"https://api.github.com/repos/symfony/symfony","forks_url":"https://api.github.com/repos/symfony/symfony/forks","keys_url":"https://api.github.com/repos/symfony/symfony/keys{/key_id}","collaborators_url":"https://api.github.com/repos/symfony/symfony/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/symfony/symfony/teams","hooks_url":"https://api.github.com/repos/symfony/symfony/hooks","issue_events_url":"https://api.github.com/repos/symfony/symfony/issues/events{/number}","events_url":"https://api.github.com/repos/symfony/symfony/events","assignees_url":"https://api.github.com/repos/symfony/symfony/assignees{/user}","branches_url":"https://api.github.com/repos/symfony/symfony/branches{/branch}","tags_url":"https://api.github.com/repos/symfony/symfony/tags","blobs_url":"https://api.github.com/repos/symfony/symfony/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/symfony/symfony/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/symfony/symfony/git/refs{/sha}","trees_url":"https://api.github.com/repos/symfony/symfony/git/trees{/sha}","statuses_url":"https://api.github.com/repos/symfony/symfony/statuses/{sha}","languages_url":"https://api.github.com/repos/symfony/symfony/languages","stargazers_url":"https://api.github.com/repos/symfony/symfony/stargazers","contributors_url":"https://api.github.com/repos/symfony/symfony/contributors","subscribers_url":"https://api.github.com/repos/symfony/symfony/subscribers","subscription_url":"https://api.github.com/repos/symfony/symfony/subscription","commits_url":"https://api.github.com/repos/symfony/symfony/commits{/sha}","git_commits_url":"https://api.github.com/repos/symfony/symfony/git/commits{/sha}","comments_url":"https://api.github.com/repos/symfony/symfony/comments{/number}","issue_comment_url":"https://api.github.com/repos/symfony/symfony/issues/comments{/number}","contents_url":"https://api.github.com/repos/symfony/symfony/contents/{+path}","compare_url":"https://api.github.com/repos/symfony/symfony/compare/{base}...{head}","merges_url":"https://api.github.com/repos/symfony/symfony/merges","archive_url":"https://api.github.com/repos/symfony/symfony/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/symfony/symfony/downloads","issues_url":"https://api.github.com/repos/symfony/symfony/issues{/number}","pulls_url":"https://api.github.com/repos/symfony/symfony/pulls{/number}","milestones_url":"https://api.github.com/repos/symfony/symfony/milestones{/number}","notifications_url":"https://api.github.com/repos/symfony/symfony/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/symfony/symfony/labels{/name}","releases_url":"https://api.github.com/repos/symfony/symfony/releases{/id}","deployments_url":"https://api.github.com/repos/symfony/symfony/deployments","created_at":"2010-01-04T14:21:21Z","updated_at":"2025-11-09T22:15:44Z","pushed_at":"2025-11-08T16:31:14Z","git_url":"git://github.com/symfony/symfony.git","ssh_url":"git@github.com:symfony/symfony.git","clone_url":"https://github.com/symfony/symfony.git","svn_url":"https://github.com/symfony/symfony","homepage":"https://symfony.com","size":310286,"stargazers_count":30753,"watchers_count":30753,"language":"PHP","has_issues":true,"has_projects":true,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":9739,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":776,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bundle","framework","hacktoberfest","php","php-framework","symfony","symfony-bundle"],"visibility":"public","forks":9739,"open_issues":776,"watchers":30753,"default_branch":"7.4","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Symfony version(s) affected\n\nall\n\n### Description\n\nWhen validating custom Constraints `Symfony\\Component\\Validator\\Test\\ConstraintValidatorTestCase` is used. \r\n\r\nDuring setup ConstraintValidatorTestCase is setting context by calling `MockBuilder::setMethods()` that was removed in PHPUnit 10 (see https://github.com/sebastianbergmann/phpunit/issues/3769 ).\n\n### How to reproduce\n\nInstall PHPUnit 10 and write a custom validator test as explained in the [documentation](https://symfony.com/doc/current/validation/custom_constraint.html#testing-custom-constraints).\n\n### Possible Solution\n\nCheck version of PHPUnit being used and replace a call to `MockBuilder::setMethods()` with `MockBuilder::onlyMethods()` if PHPUnit >= 10.0 is detected.\n\n### Additional Context\n\n_No response_","reactions":{"url":"https://api.github.com/repos/symfony/symfony/issues/49218/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/symfony/symfony/issues/49218/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1486549979","html_url":"https://github.com/sebastianbergmann/phpunit/issues/3769#issuecomment-1486549979","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3769","id":1486549979,"node_id":"IC_kwDOAAbWLc5YmvPb","user":{"login":"olinox14","id":15560057,"node_id":"MDQ6VXNlcjE1NTYwMDU3","avatar_url":"https://avatars.githubusercontent.com/u/15560057?v=4","gravatar_id":"","url":"https://api.github.com/users/olinox14","html_url":"https://github.com/olinox14","followers_url":"https://api.github.com/users/olinox14/followers","following_url":"https://api.github.com/users/olinox14/following{/other_user}","gists_url":"https://api.github.com/users/olinox14/gists{/gist_id}","starred_url":"https://api.github.com/users/olinox14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olinox14/subscriptions","organizations_url":"https://api.github.com/users/olinox14/orgs","repos_url":"https://api.github.com/users/olinox14/repos","events_url":"https://api.github.com/users/olinox14/events{/privacy}","received_events_url":"https://api.github.com/users/olinox14/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-03-28T09:50:50Z","updated_at":"2023-03-28T09:50:50Z","body":"I usually mock the whole SUT, except the method I'm testing.  \r\n\r\nThe removal of `setMethodExcept` is a real regression for us, leaving us stuck with the v9...\r\nExplicitly mocking every involved method with `onlyMethods` would represent a lot of work, increase the risk of error while mocking, and add an unnecessary verbosity to the tests...  \r\n\r\nRestoring this functionality would be a real plus. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1486549979/reactions","total_count":15,"+1":15,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"olinox14","id":15560057,"node_id":"MDQ6VXNlcjE1NTYwMDU3","avatar_url":"https://avatars.githubusercontent.com/u/15560057?v=4","gravatar_id":"","url":"https://api.github.com/users/olinox14","html_url":"https://github.com/olinox14","followers_url":"https://api.github.com/users/olinox14/followers","following_url":"https://api.github.com/users/olinox14/following{/other_user}","gists_url":"https://api.github.com/users/olinox14/gists{/gist_id}","starred_url":"https://api.github.com/users/olinox14/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/olinox14/subscriptions","organizations_url":"https://api.github.com/users/olinox14/orgs","repos_url":"https://api.github.com/users/olinox14/repos","events_url":"https://api.github.com/users/olinox14/events{/privacy}","received_events_url":"https://api.github.com/users/olinox14/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1580639677","html_url":"https://github.com/sebastianbergmann/phpunit/issues/3769#issuecomment-1580639677","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/3769","id":1580639677,"node_id":"IC_kwDOAAbWLc5eNqW9","user":{"login":"classicalguss","id":8046675,"node_id":"MDQ6VXNlcjgwNDY2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/8046675?v=4","gravatar_id":"","url":"https://api.github.com/users/classicalguss","html_url":"https://github.com/classicalguss","followers_url":"https://api.github.com/users/classicalguss/followers","following_url":"https://api.github.com/users/classicalguss/following{/other_user}","gists_url":"https://api.github.com/users/classicalguss/gists{/gist_id}","starred_url":"https://api.github.com/users/classicalguss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/classicalguss/subscriptions","organizations_url":"https://api.github.com/users/classicalguss/orgs","repos_url":"https://api.github.com/users/classicalguss/repos","events_url":"https://api.github.com/users/classicalguss/events{/privacy}","received_events_url":"https://api.github.com/users/classicalguss/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-07T11:50:44Z","updated_at":"2023-06-07T11:50:44Z","body":"What is the reasoning behind completely removing setMethodExcept and not having any alternative?\r\nThere are a lot of old frameworks that have old design approach that you might need to mock except for a few methods.\r\n\r\nFor example Yii1 have CActiveRecord classes which do a lot of things as soon as you instantiate it. You can mock it fine, but then how can you actually have a real test of the methods that you have designed yourself inside this class?.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1580639677/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"classicalguss","id":8046675,"node_id":"MDQ6VXNlcjgwNDY2NzU=","avatar_url":"https://avatars.githubusercontent.com/u/8046675?v=4","gravatar_id":"","url":"https://api.github.com/users/classicalguss","html_url":"https://github.com/classicalguss","followers_url":"https://api.github.com/users/classicalguss/followers","following_url":"https://api.github.com/users/classicalguss/following{/other_user}","gists_url":"https://api.github.com/users/classicalguss/gists{/gist_id}","starred_url":"https://api.github.com/users/classicalguss/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/classicalguss/subscriptions","organizations_url":"https://api.github.com/users/classicalguss/orgs","repos_url":"https://api.github.com/users/classicalguss/repos","events_url":"https://api.github.com/users/classicalguss/events{/privacy}","received_events_url":"https://api.github.com/users/classicalguss/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-12T01:03:37Z","updated_at":"2023-06-12T01:03:37Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues/483","repository_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils","labels_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues/483/labels{/name}","comments_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues/483/comments","events_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues/483/events","html_url":"https://github.com/PHPCSStandards/PHPCSUtils/pull/483","id":1751676966,"node_id":"PR_kwDODAe7Ac5St05v","number":483,"title":"Tests: make test suite compatible with PHPUnit 10.x","user":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1662823600,"node_id":"MDU6TGFiZWwxNjYyODIzNjAw","url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/labels/Type:%20chores/QA","name":"Type: chores/QA","color":"ddab6d","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/milestones/16","html_url":"https://github.com/PHPCSStandards/PHPCSUtils/milestone/16","labels_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/milestones/16/labels","id":9419844,"node_id":"MI_kwDODAe7Ac4Aj7xE","number":16,"title":"1.0.7","description":"","creator":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":6,"state":"closed","created_at":"2023-05-21T11:51:59Z","updated_at":"2023-07-10T13:57:38Z","due_on":null,"closed_at":"2023-07-10T13:57:38Z"},"comments":0,"created_at":"2023-06-12T00:32:27Z","updated_at":"2023-06-12T01:08:29Z","closed_at":"2023-06-12T01:08:28Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":201833217,"node_id":"MDEwOlJlcG9zaXRvcnkyMDE4MzMyMTc=","name":"PHPCSUtils","full_name":"PHPCSStandards/PHPCSUtils","private":false,"owner":{"login":"PHPCSStandards","id":54010123,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0MDEwMTIz","avatar_url":"https://avatars.githubusercontent.com/u/54010123?v=4","gravatar_id":"","url":"https://api.github.com/users/PHPCSStandards","html_url":"https://github.com/PHPCSStandards","followers_url":"https://api.github.com/users/PHPCSStandards/followers","following_url":"https://api.github.com/users/PHPCSStandards/following{/other_user}","gists_url":"https://api.github.com/users/PHPCSStandards/gists{/gist_id}","starred_url":"https://api.github.com/users/PHPCSStandards/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/PHPCSStandards/subscriptions","organizations_url":"https://api.github.com/users/PHPCSStandards/orgs","repos_url":"https://api.github.com/users/PHPCSStandards/repos","events_url":"https://api.github.com/users/PHPCSStandards/events{/privacy}","received_events_url":"https://api.github.com/users/PHPCSStandards/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/PHPCSStandards/PHPCSUtils","description":"A suite of utility functions for use with PHP_CodeSniffer","fork":false,"url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils","forks_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/forks","keys_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/keys{/key_id}","collaborators_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/teams","hooks_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/hooks","issue_events_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues/events{/number}","events_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/events","assignees_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/assignees{/user}","branches_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/branches{/branch}","tags_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/tags","blobs_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/git/refs{/sha}","trees_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/git/trees{/sha}","statuses_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/statuses/{sha}","languages_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/languages","stargazers_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/stargazers","contributors_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/contributors","subscribers_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/subscribers","subscription_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/subscription","commits_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/commits{/sha}","git_commits_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/git/commits{/sha}","comments_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/comments{/number}","issue_comment_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues/comments{/number}","contents_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/contents/{+path}","compare_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/compare/{base}...{head}","merges_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/merges","archive_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/downloads","issues_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues{/number}","pulls_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/pulls{/number}","milestones_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/milestones{/number}","notifications_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/labels{/name}","releases_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/releases{/id}","deployments_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/deployments","created_at":"2019-08-12T01:01:13Z","updated_at":"2025-11-07T23:45:27Z","pushed_at":"2025-11-06T00:57:26Z","git_url":"git://github.com/PHPCSStandards/PHPCSUtils.git","ssh_url":"git@github.com:PHPCSStandards/PHPCSUtils.git","clone_url":"https://github.com/PHPCSStandards/PHPCSUtils.git","svn_url":"https://github.com/PHPCSStandards/PHPCSUtils","homepage":"https://phpcsutils.com/","size":4780,"stargazers_count":60,"watchers_count":60,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":8,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":28,"license":{"key":"lgpl-3.0","name":"GNU Lesser General Public License v3.0","spdx_id":"LGPL-3.0","url":"https://api.github.com/licenses/lgpl-3.0","node_id":"MDc6TGljZW5zZTEy"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":8,"open_issues":28,"watchers":60,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/pulls/483","html_url":"https://github.com/PHPCSStandards/PHPCSUtils/pull/483","diff_url":"https://github.com/PHPCSStandards/PHPCSUtils/pull/483.diff","patch_url":"https://github.com/PHPCSStandards/PHPCSUtils/pull/483.patch","merged_at":"2023-06-12T01:08:28Z"},"body":"### Composer: update the PHPUnit Polyfills\r\n\r\nA PHPUnit 10 compatible version of the PHPUnit Polyfills has been released, so let's start using it.\r\n\r\nRef:\r\n* https://github.com/Yoast/PHPUnit-Polyfills/releases/tag/2.0.0\r\n\r\n### Tests/PolyfilledTestCase: make compatible with PHPUnit Polyfills 2.x\r\n\r\nAs the available traits are different between the 1.x and 2.x versions of the PHPUnit Polyfills, two different class definitions are needed.\r\n\r\nThis change uses the available PHPUnit Polyfills version number to load the correct class.\r\n\r\n### Tests/ConfigDataTest: switch to the PHPUnit Polyfills TestCase\r\n\r\n### Tests: make dataproviders static\r\n\r\nAs of PHPUnit 10, data providers are (again) expected to be `static` methods.\r\n\r\nThis updates the test suite to respect that.\r\n\r\nIncludes removing the use of `$this` from select data providers.\r\n\r\nRefs:\r\n* https://github.com/sebastianbergmann/phpunit/commit/9caafe2d49b33a21f87db248a8ad6ca7c7bdac09\r\n* sebastianbergmann/phpunit#5100\r\n\r\n### Tests/SpacerFixer: make data providers static for compatibility with PHPUnit 10\r\n\r\n### Tests/InterpolatedVariablesTest: make data providers static for compatibility with PHPUnit 10\r\n\r\n### Tests/[NoFile]Cache/SetTest: remove use of the remove PHPUnit `TestCase::getName()` method\r\n\r\n... in favour of just using a randomly generated ID for the cache.\r\n\r\n### Tests/HasNewLineSupportTest: work round removal of the `setOutputCallback()` method\r\n\r\nPHPUnit 10.0 removed the `TestCase::setOutputCallback()` method without replacement.\r\n\r\nRefs:\r\n* sebastianbergmann/phpunit#5319\r\n\r\n### Tests/AbstractArrayDeclarationSniffTest: various tweaks and improvements\r\n\r\n### Tests: add new ExpectWithConsecutiveArgs helper trait\r\n\r\n... to provide a work-around for the removal of the `InvocationMocker->withConsecutive()` method, which was removed without replacement in PHPUnit 10.0.\r\n\r\nRefs:\r\n* sebastianbergmann/phpunit#4026\r\n* sebastianbergmann/phpunit#4255\r\n* sebastianbergmann/phpunit#4564\r\n\r\n### Tests/AbstractArrayDeclarationSniffTest: implement use of the `ExpectWithConsecutiveArgs` helper\r\n\r\n### Tests/AbstractArrayDeclarationSniffTest: work around for `MockBuilder::setMethods()` removal\r\n\r\nPlease note:\r\n* The `getMockBuilder()` class is also deprecated now, so replacing with another method call on the `MockBuilder` class will only work in the short/medium term and in a future iteration, this will have to be refactored again.\r\n* Also the `getMockForAbstractClass method is also deprecated and expected to be removed in PHPUnit 12.\r\n\r\nRefs:\r\n* sebastianbergmann/phpunit#3687#issuecomment-492537584\r\n* sebastianbergmann/phpunit#3770\r\n* sebastianbergmann/phpunit#3769\r\n* sebastianbergmann/phpunit#4775\r\n\r\n### PHPUnit: add separate configuration for PHPUnit 10\r\n\r\nPHPUnit 10 makes significant changes to the configuration file.\r\nWhile there is a `--migrate-configuration` option available in PHPUnit, that doesn't get us a well enough converted configuration file, so instead use a separate `phpunit10.xml.dist` file for running the tests on PHPUnit 10 with an optimal configuration.\r\n\r\nIncludes\r\n* Adding separate scripts to the `composer.json` file to make this more obvious for contributors.\r\n* Updating the GH Actions workflows to take the new configuration file into account when appropriate.\r\n* Selectively not using the `--repeat` option, which was [removed without replacement](sebastianbergmann/phpunit#5174) in PHPUnit 10.","reactions":{"url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues/483/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/PHPCSStandards/PHPCSUtils/issues/483/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-06-26T13:42:10Z","updated_at":"2023-06-26T13:42:10Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/WordPress/Requests/issues/817","repository_url":"https://api.github.com/repos/WordPress/Requests","labels_url":"https://api.github.com/repos/WordPress/Requests/issues/817/labels{/name}","comments_url":"https://api.github.com/repos/WordPress/Requests/issues/817/comments","events_url":"https://api.github.com/repos/WordPress/Requests/issues/817/events","html_url":"https://github.com/WordPress/Requests/pull/817","id":1774812813,"node_id":"PR_kwDOADONos5T7BuN","number":817,"title":"Tests: update test suite to allow for running the tests on PHPUnit 10","user":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":41323765,"node_id":"MDU6TGFiZWw0MTMyMzc2NQ==","url":"https://api.github.com/repos/WordPress/Requests/labels/Type:%20testing/chores/QA","name":"Type: testing/chores/QA","color":"ddab6d","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/WordPress/Requests/milestones/10","html_url":"https://github.com/WordPress/Requests/milestone/10","labels_url":"https://api.github.com/repos/WordPress/Requests/milestones/10/labels","id":7330139,"node_id":"MI_kwDOADONos4Ab9lb","number":10,"title":"2.1.0","description":"","creator":{"login":"jrfnl","id":663378,"node_id":"MDQ6VXNlcjY2MzM3OA==","avatar_url":"https://avatars.githubusercontent.com/u/663378?v=4","gravatar_id":"","url":"https://api.github.com/users/jrfnl","html_url":"https://github.com/jrfnl","followers_url":"https://api.github.com/users/jrfnl/followers","following_url":"https://api.github.com/users/jrfnl/following{/other_user}","gists_url":"https://api.github.com/users/jrfnl/gists{/gist_id}","starred_url":"https://api.github.com/users/jrfnl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jrfnl/subscriptions","organizations_url":"https://api.github.com/users/jrfnl/orgs","repos_url":"https://api.github.com/users/jrfnl/repos","events_url":"https://api.github.com/users/jrfnl/events{/privacy}","received_events_url":"https://api.github.com/users/jrfnl/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":10,"closed_issues":95,"state":"open","created_at":"2021-11-05T10:23:43Z","updated_at":"2025-01-21T09:46:36Z","due_on":null,"closed_at":null},"comments":2,"created_at":"2023-06-26T13:42:09Z","updated_at":"2023-07-24T09:03:39Z","closed_at":"2023-07-24T09:03:38Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3378594,"node_id":"MDEwOlJlcG9zaXRvcnkzMzc4NTk0","name":"Requests","full_name":"WordPress/Requests","private":false,"owner":{"login":"WordPress","id":276006,"node_id":"MDEyOk9yZ2FuaXphdGlvbjI3NjAwNg==","avatar_url":"https://avatars.githubusercontent.com/u/276006?v=4","gravatar_id":"","url":"https://api.github.com/users/WordPress","html_url":"https://github.com/WordPress","followers_url":"https://api.github.com/users/WordPress/followers","following_url":"https://api.github.com/users/WordPress/following{/other_user}","gists_url":"https://api.github.com/users/WordPress/gists{/gist_id}","starred_url":"https://api.github.com/users/WordPress/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WordPress/subscriptions","organizations_url":"https://api.github.com/users/WordPress/orgs","repos_url":"https://api.github.com/users/WordPress/repos","events_url":"https://api.github.com/users/WordPress/events{/privacy}","received_events_url":"https://api.github.com/users/WordPress/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/WordPress/Requests","description":"Requests for PHP is a humble HTTP request library. It simplifies how you interact with other sites and takes away all your worries.","fork":false,"url":"https://api.github.com/repos/WordPress/Requests","forks_url":"https://api.github.com/repos/WordPress/Requests/forks","keys_url":"https://api.github.com/repos/WordPress/Requests/keys{/key_id}","collaborators_url":"https://api.github.com/repos/WordPress/Requests/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/WordPress/Requests/teams","hooks_url":"https://api.github.com/repos/WordPress/Requests/hooks","issue_events_url":"https://api.github.com/repos/WordPress/Requests/issues/events{/number}","events_url":"https://api.github.com/repos/WordPress/Requests/events","assignees_url":"https://api.github.com/repos/WordPress/Requests/assignees{/user}","branches_url":"https://api.github.com/repos/WordPress/Requests/branches{/branch}","tags_url":"https://api.github.com/repos/WordPress/Requests/tags","blobs_url":"https://api.github.com/repos/WordPress/Requests/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/WordPress/Requests/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/WordPress/Requests/git/refs{/sha}","trees_url":"https://api.github.com/repos/WordPress/Requests/git/trees{/sha}","statuses_url":"https://api.github.com/repos/WordPress/Requests/statuses/{sha}","languages_url":"https://api.github.com/repos/WordPress/Requests/languages","stargazers_url":"https://api.github.com/repos/WordPress/Requests/stargazers","contributors_url":"https://api.github.com/repos/WordPress/Requests/contributors","subscribers_url":"https://api.github.com/repos/WordPress/Requests/subscribers","subscription_url":"https://api.github.com/repos/WordPress/Requests/subscription","commits_url":"https://api.github.com/repos/WordPress/Requests/commits{/sha}","git_commits_url":"https://api.github.com/repos/WordPress/Requests/git/commits{/sha}","comments_url":"https://api.github.com/repos/WordPress/Requests/comments{/number}","issue_comment_url":"https://api.github.com/repos/WordPress/Requests/issues/comments{/number}","contents_url":"https://api.github.com/repos/WordPress/Requests/contents/{+path}","compare_url":"https://api.github.com/repos/WordPress/Requests/compare/{base}...{head}","merges_url":"https://api.github.com/repos/WordPress/Requests/merges","archive_url":"https://api.github.com/repos/WordPress/Requests/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/WordPress/Requests/downloads","issues_url":"https://api.github.com/repos/WordPress/Requests/issues{/number}","pulls_url":"https://api.github.com/repos/WordPress/Requests/pulls{/number}","milestones_url":"https://api.github.com/repos/WordPress/Requests/milestones{/number}","notifications_url":"https://api.github.com/repos/WordPress/Requests/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/WordPress/Requests/labels{/name}","releases_url":"https://api.github.com/repos/WordPress/Requests/releases{/id}","deployments_url":"https://api.github.com/repos/WordPress/Requests/deployments","created_at":"2012-02-07T15:37:48Z","updated_at":"2025-11-05T13:58:49Z","pushed_at":"2025-11-04T04:28:52Z","git_url":"git://github.com/WordPress/Requests.git","ssh_url":"git@github.com:WordPress/Requests.git","clone_url":"https://github.com/WordPress/Requests.git","svn_url":"https://github.com/WordPress/Requests","homepage":"https://requests.ryanmccue.info/","size":6593,"stargazers_count":3581,"watchers_count":3581,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":503,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":133,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["curl","http","http-client","php","php-curl"],"visibility":"public","forks":503,"open_issues":133,"watchers":3581,"default_branch":"develop","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/WordPress/Requests/pulls/817","html_url":"https://github.com/WordPress/Requests/pull/817","diff_url":"https://github.com/WordPress/Requests/pull/817.diff","patch_url":"https://github.com/WordPress/Requests/pull/817.patch","merged_at":"2023-07-24T09:03:38Z"},"body":"## Pull Request Type\r\n\r\n- [x] I have checked there is no other PR open for the same change.\r\n\r\nThis is a:\r\n- [ ] Bug fix\r\n- [ ] New feature\r\n- [ ] Documentation improvement\r\n- [x] Code quality improvement\r\n\r\n## Context\r\n\r\nUpdate the test suite to allow for running the tests on PHPUnit 10.\r\n\r\n## Detailed Description\r\n\r\n### Composer: update the PHPUnit Polyfills\r\n\r\nA PHPUnit 10 compatible version of the PHPUnit Polyfills has been released, so let's start using it.\r\n\r\nRef:\r\n* https://github.com/Yoast/PHPUnit-Polyfills/releases/tag/2.0.0\r\n\r\n### Transport/BaseTestCase::dataSNISupport(): remove unused and unnecessary method parameter\r\n\r\nData providers cannot take arguments, so this `$options` parameter is useless and should never have been declared. PHPUnit 10 will flag it, so let's remove it.\r\n\r\n### TestCase::textArrayToDataprovider(): make static\r\n\r\nThis method is used exclusively by data providers and as of PHPUnit 10, data providers should be static methods, so this method needs to be `static` too.\r\n\r\n### TestCase::transportProvider(): make static\r\n\r\nThis method is used exclusively as a data providers and as of PHPUnit 10, data providers should be static methods, so this method needs to be `static` too.\r\n\r\n### TestCase: split httpbin() method and make Session\\ConstructorTest::dataValidUrl() method static\r\n\r\nAs of PHPUnit 10, data providers are (again) expected to be `static` methods.\r\n\r\nOne of the data providers is using the `httpbin()` method, but as the `httpbin()` method needs `$this` to handle the test skipping, the method cannot be made static.\r\n\r\nThis commit splits the `httpbin()` method into three methods:\r\n* A `skipOnUnavailableHttpbinHost()` method which contains the test skip check.\r\n* A `static` `getHttpbinUrl()` method which builds the URL.\r\n* The original `httpbin()` method which now calls the two new methods to maintain the same functionality as before.\r\n\r\nBy splitting the method in this way, we prevent having to change all method calls to the `httpbin()` method throughout the test suite and can still fix the data provider method using the `httpbin()` method to not use `$this` (which allows to make it `static`).\r\n\r\n### Tests: make dataproviders static\r\n\r\nAs of PHPUnit 10, data providers are (again) expected to be `static` methods.\r\n\r\nThis updates the test suite to respect that.\r\n\r\nIncludes removing the use of `$this` from select data providers.\r\n\r\n### Tests: replace assertObjectHasAttribute() with `assertObjectHasProperty()`\r\n\r\nThe `assertObjectHasAttribute()` method has been deprecated in PHPUnit 9 and removed in PHPUnit 10.\r\n\r\nPHPUnit 10.1 introduces a replacement `assertObjectHasProperty()` method, which is polyfilled by the PHPUnit Polyfills.\r\n\r\nThis switches all uses of the old method to the new method name.\r\n\r\n### Tests: work around for MockBuilder::setMethods() removal\r\n\r\nPlease note:\r\n* The `getMockBuilder()` method is also deprecated now, so replacing with another method call on the `MockBuilder` class will only work in the short/medium term and in a future iteration, this will have to be refactored again.\r\n* The `addMethods()` method has been (soft) deprecated in PHPUnit 10.1 and is expected to be removed in PHPUnit 12.\r\n\r\nAlso see #814\r\n\r\nRefs:\r\n* sebastianbergmann/phpunit#3687#issuecomment-492537584\r\n* sebastianbergmann/phpunit#3770\r\n* sebastianbergmann/phpunit#3769\r\n* sebastianbergmann/phpunit#4775\r\n\r\n### Tests: work around for removal of expectDeprecation et al\r\n\r\nPHPUnit will no longer stop a test on deprecations/notices/warnings.\r\nThis also means that the PHPUnit native way to expect deprecations/notices/warnings etc is no longer supported.\r\n\r\nThis implements a work-around for the limited cases in which that functionality was used in this test suite.\r\n\r\nRefs:\r\n* https://phpunit.de/announcements/phpunit-10.html\r\n* sebastianbergmann/phpunit#5062\r\n\r\n### Curl/Fsockopen: add some extra defensive coding\r\n\r\nThe `error_get_last()` function can return `null` if no error occurred, in which case, the `throw new Exception()` statement will run into two new errors:\r\n* `Trying to access array offset on value of type null` for accessing `$error['message']`.\r\n* ... which then leads to a `Exception::__construct(): Passing null to parameter #1 ($message) of type string is deprecated`.\r\n\r\nThis commit adds some defensive coding to handle the hypothetical situation that `error_get_last()` would return `null` when a file could not be opened.\r\n\r\nNote: this is actually a bug in PHPUnit 10 which breaks `error_get_last()`.\r\nWe should be able to remove the extra defensive coding once the upstream bug has been fixed.\r\n\r\nUpstream bug report: sebastianbergmann/phpunit#5428\r\n\r\n### PHPUnit: add separate configuration for PHPUnit 10\r\n\r\nPHPUnit 10 makes significant changes to the configuration file.\r\n\r\nMost notably:\r\n* In PHPUnit 9.3, the manner of specifying the code coverage configuration has changed.\r\n* In PHPUnit 10.0, a significant number of attributes of the `<phpunit>` element were removed or renamed.\r\n* In PHPUnit 10.1, the manner of specifying code coverage has changed again.\r\n\r\nWhile there is a `--migrate-configuration` option available in PHPUnit, that doesn't get us a well enough converted configuration file, so instead use a separate `phpunit10.xml.dist` file for running the tests on PHPUnit 10 with an optimal configuration.\r\n\r\nIncludes:\r\n* Ignoring the new file for package archives.\r\n* Adding separate scripts to the `composer.json` file to make how to run the tests on PHPUnit 10 more obvious for contributors.\r\n* Updating the GH Actions workflows to take the new configuration file into account when appropriate.","reactions":{"url":"https://api.github.com/repos/WordPress/Requests/issues/817/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/WordPress/Requests/issues/817/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]