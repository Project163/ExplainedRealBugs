[{"id":11547356785,"node_id":"LE_lADOAAbWLc58tRMBzwAAAAKwRq5x","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11547356785","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-20T21:11:18Z","label":{"name":"type/bug","color":"cc0000"},"performed_via_github_app":null},{"id":11547356786,"node_id":"LE_lADOAAbWLc58tRMBzwAAAAKwRq5y","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11547356786","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-20T21:11:18Z","label":{"name":"version/10","color":"888a85"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902524866","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1902524866","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1902524866,"node_id":"IC_kwDOAAbWLc5xZjnC","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-21T05:58:03Z","updated_at":"2024-01-21T05:58:03Z","body":"CC @mvorisek","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902524866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11548309245,"node_id":"MEE_lADOAAbWLc58tRMBzwAAAAKwVTb9","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11548309245","actor":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-21T05:58:04Z","performed_via_github_app":null},{"id":11548309247,"node_id":"SE_lADOAAbWLc58tRMBzwAAAAKwVTb_","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11548309247","actor":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-21T05:58:04Z","performed_via_github_app":null},{"id":11548309310,"node_id":"LE_lADOAAbWLc58tRMBzwAAAAKwVTc-","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11548309310","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-21T05:58:08Z","label":{"name":"feature/test-runner","color":"e9b96e"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902546377","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1902546377","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1902546377,"node_id":"IC_kwDOAAbWLc5xZo3J","user":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-21T07:57:47Z","updated_at":"2024-01-21T08:06:11Z","body":"The current behaviour is expected - in https://github.com/marmichalski/phpunit-err-handler/blob/e4994c26/tests/TriggerTest.php#L19 you expect an exception beeing thrown because of https://github.com/marmichalski/phpunit-err-handler/blob/e4994c26/bootstrap.php#L7-L13 but the PHPUnit handler (registered since PHPUnit 10.x) prevents that because PHP handlers are not nested. So the behaviour is like when there would be no custom global handler - https://3v4l.org/KZVq4.\r\n\r\nIf you want a custom error handler to be used, use `WithoutErrorHandler` attribute or `setUp` and `tearDown` in your test class to setup and remove the custom error handler respectively.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902546377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11548474854,"node_id":"CE_lADOAAbWLc58tRMBzwAAAAKwV73m","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11548474854","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-01-21T07:58:50Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902562090","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1902562090","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1902562090,"node_id":"IC_kwDOAAbWLc5xZssq","user":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-21T09:05:42Z","updated_at":"2024-01-21T09:05:42Z","body":"I am not arguing it is incorrect. I am saying it changed in a patch release, see that 10.5.3 respected that and all tests passed. ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902562090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902572039","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1902572039","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1902572039,"node_id":"IC_kwDOAAbWLc5xZvIH","user":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-21T09:45:59Z","updated_at":"2024-01-21T09:45:59Z","body":"Although, on the  other hand, one could see it as incorrect and a bug instead.\r\nIf your application has a global error handler registered and it is used throughout that application, in every environment it is deployed to, why the behaviour would differ only in phpunit tests? Seems like you now have to disable PHPUnit's error handler for every test to have it behave in a reliable way.\r\n\r\nYou should probably also update the docs if that's the way to go https://docs.phpunit.de/en/10.5/error-handling.html#error-handling (re **Other error handlers**).","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902572039/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902577955","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1902577955","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1902577955,"node_id":"IC_kwDOAAbWLc5xZwkj","user":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-21T10:09:20Z","updated_at":"2024-01-21T10:09:20Z","body":"> If your application has a global error handler registered\r\n\r\nThis is the same when your app would be used as a dependency which register it's own handler as well. It will be masked too.\r\n\r\nIn theory, we can emulate nested PHP error handler support in PHPUnit error handler, but I do not support this idea - PHPUnit should detect \"non-execution-breaking warnings\", not silence the side effects (like `error_get_last()`), but in my opinion, also not pass the warning further, imagine like theoretical PHPUnit in PHPUnit usecase, the main PHPUnit should not be informed about warnings already detected, ie. effectively handled, by the child PHPUnit.\r\n\r\n> Seems like you now have to disable PHPUnit's error handler for every test to have it behave in a reliable way.\r\n\r\nIf you rely on some global specifics in \\*\\*unit\\*\\* testing, you should set these specifics using before test hook.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1902577955/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903710714","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1903710714","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1903710714,"node_id":"IC_kwDOAAbWLc5xeFH6","user":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T10:41:17Z","updated_at":"2024-01-22T10:41:17Z","body":"> > If your application has a global error handler registered\r\n> \r\n> This is the same when your app would be used as a dependency which register it's own handler as well. It will be masked too.\r\n\r\nAs `application` I've meant the actual final product here, not a library, but a project that can't be a dependency of anything.\r\n\r\n> > Seems like you now have to disable PHPUnit's error handler for every test to have it behave in a reliable way.\r\n> \r\n> If you rely on some global specifics in **unit** testing, you should set these specifics using before test hook.\r\n\r\nThose global specifics are set _globally_ in a bootstrap file, though, and the same file is included using PHPUnit's own `bootstrap` config.\r\n\r\nAnyway, it seems that up until 10.5.3 PHPUnit was not overriding `error_handler` and started to do so in 10.5.4, which seems like a breaking change, right? Couldn't there be a better way of checking whether it should override the error handler or not, possibly by verifying if it came from a bootstrap file, if feasible?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903710714/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903732041","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1903732041","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1903732041,"node_id":"IC_kwDOAAbWLc5xeKVJ","user":{"login":"cracksalad","id":28577589,"node_id":"MDQ6VXNlcjI4NTc3NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28577589?v=4","gravatar_id":"","url":"https://api.github.com/users/cracksalad","html_url":"https://github.com/cracksalad","followers_url":"https://api.github.com/users/cracksalad/followers","following_url":"https://api.github.com/users/cracksalad/following{/other_user}","gists_url":"https://api.github.com/users/cracksalad/gists{/gist_id}","starred_url":"https://api.github.com/users/cracksalad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cracksalad/subscriptions","organizations_url":"https://api.github.com/users/cracksalad/orgs","repos_url":"https://api.github.com/users/cracksalad/repos","events_url":"https://api.github.com/users/cracksalad/events{/privacy}","received_events_url":"https://api.github.com/users/cracksalad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T10:48:40Z","updated_at":"2024-01-22T10:48:40Z","body":"Stuck with the same problem as @marmichalski \r\nIn my eyes this is definitly a breaking change, since my tests are not successfull anymore after updating to a backwards compatible (refering to SemVer) patch release. \r\nAdditionally the docs are wrong about this behavior as already mentioned.\r\n\r\nWhat about a global `WithoutErrorHandler` attribute in the XML config? It would still be a breaking change, but the fix would not be to edit every single test case but just adding one line to the config. What do you think, would that be feasible? @mvorisek ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903732041/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cracksalad","id":28577589,"node_id":"MDQ6VXNlcjI4NTc3NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28577589?v=4","gravatar_id":"","url":"https://api.github.com/users/cracksalad","html_url":"https://github.com/cracksalad","followers_url":"https://api.github.com/users/cracksalad/followers","following_url":"https://api.github.com/users/cracksalad/following{/other_user}","gists_url":"https://api.github.com/users/cracksalad/gists{/gist_id}","starred_url":"https://api.github.com/users/cracksalad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cracksalad/subscriptions","organizations_url":"https://api.github.com/users/cracksalad/orgs","repos_url":"https://api.github.com/users/cracksalad/repos","events_url":"https://api.github.com/users/cracksalad/events{/privacy}","received_events_url":"https://api.github.com/users/cracksalad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11554968766,"node_id":"MEE_lADOAAbWLc58tRMBzwAAAAKwutS-","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11554968766","actor":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T10:48:40Z","performed_via_github_app":null},{"id":11554968780,"node_id":"SE_lADOAAbWLc58tRMBzwAAAAKwutTM","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11554968780","actor":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T10:48:40Z","performed_via_github_app":null},{"id":11554968805,"node_id":"MEE_lADOAAbWLc58tRMBzwAAAAKwutTl","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11554968805","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T10:48:40Z","performed_via_github_app":null},{"id":11554968819,"node_id":"SE_lADOAAbWLc58tRMBzwAAAAKwutTz","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11554968819","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T10:48:40Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903751686","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1903751686","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1903751686,"node_id":"IC_kwDOAAbWLc5xePIG","user":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T10:55:30Z","updated_at":"2024-01-22T11:01:04Z","body":"> Anyway, it seems that up until 10.5.3 PHPUnit was not overriding `error_handler`\r\n\r\n@marmichalski as long as you did not use/used `WithoutErrorHandler`, this is not true, can you explain why https://github.com/marmichalski/phpunit-err-handler/blob/e4994c26/tests/TriggerTest.php#L19 was passing? Maybe because of https://github.com/sebastianbergmann/phpunit/issues/5566 issue?\r\n\r\n> Couldn't there be a better way of checking whether it should override the error handler or not, possibly by verifying if it came from a bootstrap file, if feasible?\r\n\r\nIn post above, in the paragraph starting with \"In theory, we can emulate nested PHP error handler support in PHPUnit error handler\"... I have discussed it there. PHPUnit should probably not propagate this \"handled/logged warnings\".\r\n\r\n> Stuck with the same problem as @marmichalski\r\n\r\n@cracksalad Please provide a minimal repro of your usecase.\r\n\r\n> What about a global `WithoutErrorHandler` attribute in the XML config?\r\n\r\nI do not support global `WithoutErrorHandler` attribute, as it will prevent PHPUnit to log these issues.\r\n\r\nI might mildly support an option to allow to emulate the error handler nesting, which will solve this \"app with bootstrapped error handler\" usecase. But I still think there are better solutions like setting the own error handler before and after each test using PHPUnit hook.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903751686/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11555045747,"node_id":"MEE_lADOAAbWLc58tRMBzwAAAAKwvAFz","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555045747","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T10:55:30Z","performed_via_github_app":null},{"id":11555045761,"node_id":"SE_lADOAAbWLc58tRMBzwAAAAKwvAGB","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555045761","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T10:55:30Z","performed_via_github_app":null},{"id":11555112620,"node_id":"MEE_lADOAAbWLc58tRMBzwAAAAKwvQas","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555112620","actor":{"login":"cracksalad","id":28577589,"node_id":"MDQ6VXNlcjI4NTc3NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28577589?v=4","gravatar_id":"","url":"https://api.github.com/users/cracksalad","html_url":"https://github.com/cracksalad","followers_url":"https://api.github.com/users/cracksalad/followers","following_url":"https://api.github.com/users/cracksalad/following{/other_user}","gists_url":"https://api.github.com/users/cracksalad/gists{/gist_id}","starred_url":"https://api.github.com/users/cracksalad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cracksalad/subscriptions","organizations_url":"https://api.github.com/users/cracksalad/orgs","repos_url":"https://api.github.com/users/cracksalad/repos","events_url":"https://api.github.com/users/cracksalad/events{/privacy}","received_events_url":"https://api.github.com/users/cracksalad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T11:01:05Z","performed_via_github_app":null},{"id":11555112633,"node_id":"SE_lADOAAbWLc58tRMBzwAAAAKwvQa5","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555112633","actor":{"login":"cracksalad","id":28577589,"node_id":"MDQ6VXNlcjI4NTc3NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28577589?v=4","gravatar_id":"","url":"https://api.github.com/users/cracksalad","html_url":"https://github.com/cracksalad","followers_url":"https://api.github.com/users/cracksalad/followers","following_url":"https://api.github.com/users/cracksalad/following{/other_user}","gists_url":"https://api.github.com/users/cracksalad/gists{/gist_id}","starred_url":"https://api.github.com/users/cracksalad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cracksalad/subscriptions","organizations_url":"https://api.github.com/users/cracksalad/orgs","repos_url":"https://api.github.com/users/cracksalad/repos","events_url":"https://api.github.com/users/cracksalad/events{/privacy}","received_events_url":"https://api.github.com/users/cracksalad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T11:01:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903776720","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1903776720","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1903776720,"node_id":"IC_kwDOAAbWLc5xeVPQ","user":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T11:09:06Z","updated_at":"2024-01-22T11:09:06Z","body":"> > Anyway, it seems that up until 10.5.3 PHPUnit was not overriding `error_handler`\r\n> \r\n> @marmichalski as long as you did not use/used `WithoutErrorHandler`, this is not true, can you explain why https://github.com/marmichalski/phpunit-err-handler/blob/e4994c26/tests/TriggerTest.php#L19 was passing? Maybe because of #5566 issue?\r\n> \r\n\r\nhttps://github.com/marmichalski/phpunit-err-handler/blob/e4994c26aed29cdb86e135a5dc5ada930e6b699f/phpunit.xml.dist#L13 ?\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903776720/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11555208915,"node_id":"MEE_lADOAAbWLc58tRMBzwAAAAKwvn7T","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555208915","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T11:09:06Z","performed_via_github_app":null},{"id":11555208939,"node_id":"SE_lADOAAbWLc58tRMBzwAAAAKwvn7r","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555208939","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T11:09:06Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903789934","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1903789934","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1903789934,"node_id":"IC_kwDOAAbWLc5xeYdu","user":{"login":"cracksalad","id":28577589,"node_id":"MDQ6VXNlcjI4NTc3NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28577589?v=4","gravatar_id":"","url":"https://api.github.com/users/cracksalad","html_url":"https://github.com/cracksalad","followers_url":"https://api.github.com/users/cracksalad/followers","following_url":"https://api.github.com/users/cracksalad/following{/other_user}","gists_url":"https://api.github.com/users/cracksalad/gists{/gist_id}","starred_url":"https://api.github.com/users/cracksalad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cracksalad/subscriptions","organizations_url":"https://api.github.com/users/cracksalad/orgs","repos_url":"https://api.github.com/users/cracksalad/repos","events_url":"https://api.github.com/users/cracksalad/events{/privacy}","received_events_url":"https://api.github.com/users/cracksalad/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T11:17:27Z","updated_at":"2024-01-22T11:17:27Z","body":"> @cracksalad Please provide a minimal repro of your usecase.\r\n\r\nIt is exactly the same as the one described above. I am setting a custom error handler in PHPUnit's bootstrap file to convert all the `E_*` errors and warnings into `ErrorException`s to be able to handle them properly. Some PHP internal functions still make use of those errors. \r\n\r\n___\r\n\r\n> But I still think there are better solutions like setting the own error handler before and after each test using PHPUnit hook.\r\n\r\nEven if that is the better solution in theory, it means a lot of work to put into existing test cases (there are a lot of them) right now - for a patch release! \r\nWhatever the final solution will be, I think there should probably be an intermediate solution in another patch release to make this behavior change backwards compatible again (kind of). ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903789934/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"cracksalad","id":28577589,"node_id":"MDQ6VXNlcjI4NTc3NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28577589?v=4","gravatar_id":"","url":"https://api.github.com/users/cracksalad","html_url":"https://github.com/cracksalad","followers_url":"https://api.github.com/users/cracksalad/followers","following_url":"https://api.github.com/users/cracksalad/following{/other_user}","gists_url":"https://api.github.com/users/cracksalad/gists{/gist_id}","starred_url":"https://api.github.com/users/cracksalad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cracksalad/subscriptions","organizations_url":"https://api.github.com/users/cracksalad/orgs","repos_url":"https://api.github.com/users/cracksalad/repos","events_url":"https://api.github.com/users/cracksalad/events{/privacy}","received_events_url":"https://api.github.com/users/cracksalad/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11555305211,"node_id":"MEE_lADOAAbWLc58tRMBzwAAAAKwv_b7","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555305211","actor":{"login":"cracksalad","id":28577589,"node_id":"MDQ6VXNlcjI4NTc3NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28577589?v=4","gravatar_id":"","url":"https://api.github.com/users/cracksalad","html_url":"https://github.com/cracksalad","followers_url":"https://api.github.com/users/cracksalad/followers","following_url":"https://api.github.com/users/cracksalad/following{/other_user}","gists_url":"https://api.github.com/users/cracksalad/gists{/gist_id}","starred_url":"https://api.github.com/users/cracksalad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cracksalad/subscriptions","organizations_url":"https://api.github.com/users/cracksalad/orgs","repos_url":"https://api.github.com/users/cracksalad/repos","events_url":"https://api.github.com/users/cracksalad/events{/privacy}","received_events_url":"https://api.github.com/users/cracksalad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T11:17:27Z","performed_via_github_app":null},{"id":11555305231,"node_id":"SE_lADOAAbWLc58tRMBzwAAAAKwv_cP","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555305231","actor":{"login":"cracksalad","id":28577589,"node_id":"MDQ6VXNlcjI4NTc3NTg5","avatar_url":"https://avatars.githubusercontent.com/u/28577589?v=4","gravatar_id":"","url":"https://api.github.com/users/cracksalad","html_url":"https://github.com/cracksalad","followers_url":"https://api.github.com/users/cracksalad/followers","following_url":"https://api.github.com/users/cracksalad/following{/other_user}","gists_url":"https://api.github.com/users/cracksalad/gists{/gist_id}","starred_url":"https://api.github.com/users/cracksalad/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cracksalad/subscriptions","organizations_url":"https://api.github.com/users/cracksalad/orgs","repos_url":"https://api.github.com/users/cracksalad/repos","events_url":"https://api.github.com/users/cracksalad/events{/privacy}","received_events_url":"https://api.github.com/users/cracksalad/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-01-22T11:17:28Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903791548","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5676#issuecomment-1903791548","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5676","id":1903791548,"node_id":"IC_kwDOAAbWLc5xeY28","user":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-01-22T11:18:29Z","updated_at":"2024-01-22T11:18:29Z","body":"> > > Anyway, it seems that up until 10.5.3 PHPUnit was not overriding `error_handler`\r\n> > \r\n> > \r\n> > @marmichalski as long as you did not use/used `WithoutErrorHandler`, this is not true, can you explain why https://github.com/marmichalski/phpunit-err-handler/blob/e4994c26/tests/TriggerTest.php#L19 was passing? Maybe because of #5566 issue?\r\n> \r\n> https://github.com/marmichalski/phpunit-err-handler/blob/e4994c26aed29cdb86e135a5dc5ada930e6b699f/phpunit.xml.dist#L13 ?\r\n\r\nI looked into the PHPUnit code:\r\n\r\nSince PHPUnit 10.0.0 the PHPUnit error handler was always registered in\r\n\r\nhttps://github.com/sebastianbergmann/phpunit/blob/10.5.3/src/Runner/ErrorHandler.php#L161\r\n\r\nbut \\*\\*only if there was no other error handler\\*\\*. This was of course not good as as discussed above, PHPUnit was not able to detect any warnings.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/1903791548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mvorisek","id":2228672,"node_id":"MDQ6VXNlcjIyMjg2NzI=","avatar_url":"https://avatars.githubusercontent.com/u/2228672?v=4","gravatar_id":"","url":"https://api.github.com/users/mvorisek","html_url":"https://github.com/mvorisek","followers_url":"https://api.github.com/users/mvorisek/followers","following_url":"https://api.github.com/users/mvorisek/following{/other_user}","gists_url":"https://api.github.com/users/mvorisek/gists{/gist_id}","starred_url":"https://api.github.com/users/mvorisek/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mvorisek/subscriptions","organizations_url":"https://api.github.com/users/mvorisek/orgs","repos_url":"https://api.github.com/users/mvorisek/repos","events_url":"https://api.github.com/users/mvorisek/events{/privacy}","received_events_url":"https://api.github.com/users/mvorisek/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11555315876,"node_id":"MEE_lADOAAbWLc58tRMBzwAAAAKwwCCk","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/11555315876","actor":{"login":"marmichalski","id":57528542,"node_id":"MDQ6VXNlcjU3NTI4NTQy","avatar_url":"https://avatars.githubusercontent.com/u/57528542?v=4","gravatar_id":"","url":"https://api.github.com/users/marmichalski","html_url":"https://github.com/marmichalski","followers_url":"https://api.github.com/users/marmichalski/followers","following_url":"https://api.github.com/users/marmichalski/following{/other_user}","gists_url":"https://api.github.com/users/marmichalski/gists{/gist_id}","starred_url":"https://api.github.com/users/marmichalski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/marmichalski/subscriptions","organizations_url":"https://api.github.com/users/marmichalski/orgs","repos_url":"https://api.github.com/users/marmichalski/repos","events_url":"https://api.github.com/users/marmichalski/events{/privacy}","received_events_url":"https://api.github.com/users/marmichalski/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-01-22T11:18:30Z","performed_via_github_app":null}]