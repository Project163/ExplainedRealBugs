{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/261","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/261/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/261/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/261/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/261","id":980592,"node_id":"MDU6SXNzdWU5ODA1OTI=","number":261,"title":"setUp and setUpBeforeClass run before filters/groups applied","user":{"login":"banks","id":120915,"node_id":"MDQ6VXNlcjEyMDkxNQ==","avatar_url":"https://avatars.githubusercontent.com/u/120915?v=4","gravatar_id":"","url":"https://api.github.com/users/banks","html_url":"https://github.com/banks","followers_url":"https://api.github.com/users/banks/followers","following_url":"https://api.github.com/users/banks/following{/other_user}","gists_url":"https://api.github.com/users/banks/gists{/gist_id}","starred_url":"https://api.github.com/users/banks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/banks/subscriptions","organizations_url":"https://api.github.com/users/banks/orgs","repos_url":"https://api.github.com/users/banks/repos","events_url":"https://api.github.com/users/banks/events{/privacy}","received_events_url":"https://api.github.com/users/banks/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2011-05-31T19:12:48Z","updated_at":"2015-11-03T23:31:38Z","closed_at":"2013-01-26T11:42:24Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I'm not sure if this is intentional but I don't see the rationale if it is. I also couldn't find documentation or other issues to suggest this is a known/discussed topic.\n\nBasically: I user the `filter` and/or `groups` options to limit the tests run by the test runner as documented.\n\nI've realised though that since the code that calls `setUp()` and `setUpBeforeClass()` methods is _before_ the filtering is applied, ([code link](https://github.com/sebastianbergmann/phpunit/blob/3.5/PHPUnit/Framework/TestSuite.php#L653)) every test in my suite will have `setUp()` run and every test case will have `setUpBeforeClass()`. This means any expensive setup work done is run for the whole suite even when the tests that require the work are not being run.\n\nI'm aware that you can specify specific test case classes to run and thus avoid this but in a very large test suite, the flexibility of `filter` and `groups` is very useful. It comes with a huge cost of running potentially thousands of setup routines though just to run a single simple test.\n\nIf this is intentional behaviour, it would be great to understand the rationale behind it. If not, it appears a relatively simple fix and I am can fork and make the required changes.\n\nThanks for you time and effort on this PHPUnit!\n","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/261/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/261/timeline","performed_via_github_app":null,"state_reason":"completed"}