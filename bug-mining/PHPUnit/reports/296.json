{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1317","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1317/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1317/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1317/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/1317","id":37037740,"node_id":"MDU6SXNzdWUzNzAzNzc0MA==","number":1317,"title":"Junit result excludes certain failure types","user":{"login":"drobertduke","id":905655,"node_id":"MDQ6VXNlcjkwNTY1NQ==","avatar_url":"https://avatars.githubusercontent.com/u/905655?v=4","gravatar_id":"","url":"https://api.github.com/users/drobertduke","html_url":"https://github.com/drobertduke","followers_url":"https://api.github.com/users/drobertduke/followers","following_url":"https://api.github.com/users/drobertduke/following{/other_user}","gists_url":"https://api.github.com/users/drobertduke/gists{/gist_id}","starred_url":"https://api.github.com/users/drobertduke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/drobertduke/subscriptions","organizations_url":"https://api.github.com/users/drobertduke/orgs","repos_url":"https://api.github.com/users/drobertduke/repos","events_url":"https://api.github.com/users/drobertduke/events{/privacy}","received_events_url":"https://api.github.com/users/drobertduke/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":8052990377,"node_id":"LA_kwDOAAbWLc8AAAAB3_7hqQ","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/logging/junit","name":"feature/logging/junit","color":"e9b96e","default":false,"description":"Issues related to logging test results in JUnit XML format"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2014-07-03T00:36:15Z","updated_at":"2025-01-25T09:15:00Z","closed_at":"2015-06-10T08:17:20Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"When tests are not marked public or their matching data providers cannot be found, they are marked as failed in the command line output.  However, they are not marked failed in the junit result.  If tests are marked failed on the command line output, I think they should be marked failed in the junit result.\n\n```\n<?php\n\nclass Failure_Test extends PHPUnit_Framework_TestCase\n{\n    /**\n     * @dataProvider dataprovider_that_does_not_exist\n     */\n    public function test_data_provider($param)\n    {\n        $this->assertFalse(true);\n    }\n\n    private function test_private_function()\n    {\n        $this->assertFalse(true);\n    }\n}\n```\n\n```\n$ phpunit --log-junit failure_test.xml Failure_Test.php\nPHPUnit 4.1.3 by Sebastian Bergmann.\n\nConfiguration read from [...]/phpunit.xml\n\nFF\n\nTime: 128 ms, Memory: 9.50Mb\n\nThere were 2 failures:\n\n1) Warning\nThe data provider specified for Failure_Test::test_data_provider is invalid.\nMethod dataprovider_that_does_not_exist does not exist\n\nphar:///usr/local/Cellar/phpunit/4.1.3/libexec/phpunit-4.1.3.phar/phpunit/TextUI/Command.php:179\nphar:///usr/local/Cellar/phpunit/4.1.3/libexec/phpunit-4.1.3.phar/phpunit/TextUI/Command.php:132\n\n2) Warning\nTest method \"test_private_function\" in test class \"Failure_Test\" is not public.\n\nphar:///usr/local/Cellar/phpunit/4.1.3/libexec/phpunit-4.1.3.phar/phpunit/TextUI/Command.php:179\nphar:///usr/local/Cellar/phpunit/4.1.3/libexec/phpunit-4.1.3.phar/phpunit/TextUI/Command.php:132\n\nFAILURES!\nTests: 2, Assertions: 0, Failures: 2.\n```\n\n```\n$ cat failure_test.xml\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\n<testsuites>\n  <testsuite name=\"Failure_Test\" file=\"/box/www/current_local/test/php/integration/modular/ssf/ssf-legacy/legacy/helpers/URL_Test.php\" tests=\"0\" assertions=\"0\" failures=\"0\" errors=\"0\" time=\"0.000000\">\n    <testsuite name=\"Failure_Test::test_data_provider\" tests=\"0\" assertions=\"0\" failures=\"0\" errors=\"0\" time=\"0.000000\"/>\n  </testsuite>\n</testsuites>\n```\n","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1317/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/1317/timeline","performed_via_github_app":null,"state_reason":"completed"}