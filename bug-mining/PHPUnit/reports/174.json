{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/422","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/422/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/422/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/422/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/422","id":2357416,"node_id":"MDU6SXNzdWUyMzU3NDE2","number":422,"title":"PHPUnit_Util_Test::getSize might trigger an unwanted classloader run","user":{"login":"DrMurx","id":1222566,"node_id":"MDQ6VXNlcjEyMjI1NjY=","avatar_url":"https://avatars.githubusercontent.com/u/1222566?v=4","gravatar_id":"","url":"https://api.github.com/users/DrMurx","html_url":"https://github.com/DrMurx","followers_url":"https://api.github.com/users/DrMurx/followers","following_url":"https://api.github.com/users/DrMurx/following{/other_user}","gists_url":"https://api.github.com/users/DrMurx/gists{/gist_id}","starred_url":"https://api.github.com/users/DrMurx/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DrMurx/subscriptions","organizations_url":"https://api.github.com/users/DrMurx/orgs","repos_url":"https://api.github.com/users/DrMurx/repos","events_url":"https://api.github.com/users/DrMurx/events{/privacy}","received_events_url":"https://api.github.com/users/DrMurx/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2011-11-26T22:40:08Z","updated_at":"2011-12-21T19:03:18Z","closed_at":"2011-12-21T19:03:18Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"PHPUnit_Util_Test::getSize tests the existence of PHPUnit_Extensions_Database_TestCase and PHPUnit_Extensions_SeleniumTestCase with class_exists. If these classes aren't included otherwise, it triggers a classloader run, which finally fails because the PHPUnit autoloader doesn't include these extensions by default.\n\nIn my case, my own classloader (which is last in the loading chain after the PHPUnit loaders) does a rescan of all classes in my project when it fails which makes the unit tests last much longer than needed.\n\nSolution: Use class_exists with the $autoload parameter (the 2nd parameter) set to false.\n","closed_by":{"login":"edorian","id":247397,"node_id":"MDQ6VXNlcjI0NzM5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/247397?v=4","gravatar_id":"","url":"https://api.github.com/users/edorian","html_url":"https://github.com/edorian","followers_url":"https://api.github.com/users/edorian/followers","following_url":"https://api.github.com/users/edorian/following{/other_user}","gists_url":"https://api.github.com/users/edorian/gists{/gist_id}","starred_url":"https://api.github.com/users/edorian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/edorian/subscriptions","organizations_url":"https://api.github.com/users/edorian/orgs","repos_url":"https://api.github.com/users/edorian/repos","events_url":"https://api.github.com/users/edorian/events{/privacy}","received_events_url":"https://api.github.com/users/edorian/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/422/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/422/timeline","performed_via_github_app":null,"state_reason":"completed"}