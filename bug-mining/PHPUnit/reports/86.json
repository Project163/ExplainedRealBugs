{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/545","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/545/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/545/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/545/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/545","id":4071504,"node_id":"MDU6SXNzdWU0MDcxNTA0","number":545,"title":"Move loading of test files to child process...","user":{"login":"bobjackman","id":1231996,"node_id":"MDQ6VXNlcjEyMzE5OTY=","avatar_url":"https://avatars.githubusercontent.com/u/1231996?v=4","gravatar_id":"","url":"https://api.github.com/users/bobjackman","html_url":"https://github.com/bobjackman","followers_url":"https://api.github.com/users/bobjackman/followers","following_url":"https://api.github.com/users/bobjackman/following{/other_user}","gists_url":"https://api.github.com/users/bobjackman/gists{/gist_id}","starred_url":"https://api.github.com/users/bobjackman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bobjackman/subscriptions","organizations_url":"https://api.github.com/users/bobjackman/orgs","repos_url":"https://api.github.com/users/bobjackman/repos","events_url":"https://api.github.com/users/bobjackman/events{/privacy}","received_events_url":"https://api.github.com/users/bobjackman/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2012-04-11T19:23:45Z","updated_at":"2012-10-07T06:42:39Z","closed_at":"2012-10-07T06:42:39Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"For context, please refer to my Stack Overflow question here: http://stackoverflow.com/questions/10077400/phpunit-not-continuing-with-tests-after-fatal-error-when-using-process-isolati\n\nI am running into a problem where a test is extending a misnamed class. Since that test is not found, PHP throws a fatal error and PHPUnit dies (even when using --process-isolation). Now, fixing this misnamed class in the code is trivial to do, but in the event that a developer commits test code like this, it would be really nice for it not to kill the entire testing process.\n\nA comment on that SO question states that PHPUnit loads all test files before running tests (which causes their top-level code to be executed). When using the --process-isolation flag, currently, this is done before any child processes are spawned, so the isolation doesn't help in this case.\n\nWould it be possible to have PHPUnit (if using --process-isolation) do the loading of each test file in the child process rather than in the parent? The parent could find all files to use, then spawn child processes to both load the file (parse/exec top-level code) and run the tests. This would allow all tests to run even if there are fatal errors within some of them.\n","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/545/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/545/timeline","performed_via_github_app":null,"state_reason":"completed"}