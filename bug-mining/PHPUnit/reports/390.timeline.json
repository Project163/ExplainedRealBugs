[{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/277360647","html_url":"https://github.com/sebastianbergmann/phpunit/issues/2467#issuecomment-277360647","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/2467","id":277360647,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzM2MDY0Nw==","user":{"login":"hollodotme","id":1557839,"node_id":"MDQ6VXNlcjE1NTc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1557839?v=4","gravatar_id":"","url":"https://api.github.com/users/hollodotme","html_url":"https://github.com/hollodotme","followers_url":"https://api.github.com/users/hollodotme/followers","following_url":"https://api.github.com/users/hollodotme/following{/other_user}","gists_url":"https://api.github.com/users/hollodotme/gists{/gist_id}","starred_url":"https://api.github.com/users/hollodotme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hollodotme/subscriptions","organizations_url":"https://api.github.com/users/hollodotme/orgs","repos_url":"https://api.github.com/users/hollodotme/repos","events_url":"https://api.github.com/users/hollodotme/events{/privacy}","received_events_url":"https://api.github.com/users/hollodotme/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-03T20:58:44Z","updated_at":"2017-02-03T20:58:44Z","body":"I have the same issue.\r\n\r\n* Ubuntu 16.04.1 LTS\r\n* PHP 7.1.0-2+deb.sury.org~xenial+1\r\n* Xdebug v2.5.0\r\n* PHPUnit 6.0.2 via PHAR file\r\n\r\n**Test:**\r\n```php\r\nclass InSeparateTest extends \\PHPUnit\\Framework\\TestCase\r\n{\r\n\t/**\r\n\t * @runInSeparateProcess\r\n\t */\r\n\tpublic function testCanRunInSeparateProcess()\r\n\t{\r\n\t\t$this->assertTrue( true );\r\n\t}\r\n}\r\n```\r\n\r\n**The execution prints:**\r\n\r\n```\r\nvendor/bin/phpunit.phar tests/Unit/InSeparateTest.php\r\nPHPUnit 6.0.2 by Sebastian Bergmann and contributors.\r\n\r\nE                                                                   1 / 1 (100%)\r\n\r\nTime: 491 ms, Memory: 8.00MB\r\n\r\nThere was 1 error:\r\n\r\n1) IceHawk\\IceHawk\\Tests\\Unit\\InSeparateTest::testCanRunInSeparateProcess\r\nPHPUnit\\Framework\\Exception: PHPUnit 6.0.2 by Sebastian Bergmann and contributors.\r\n\r\nUsage: phpunit [options] UnitTest [UnitTest.php]\r\n       phpunit [options] <directory>\r\n\r\n# ... whole PHPUnit help ... #\r\n\r\nCaused by\r\nErrorException: unserialize(): Error at offset 0 of 4989 bytes in phar:///vagrant/vendor/bin/phpunit.phar/phpunit/Util/PHP/AbstractPhpProcess.php:300\r\nStack trace:\r\n#0 [internal function]: PHPUnit\\Util\\PHP\\AbstractPhpProcess->PHPUnit\\Util\\PHP\\{closure}(8, 'unserialize(): ...', 'phar:///vagrant...', 300, Array)\r\n#1 phar:///vagrant/vendor/bin/phpunit.phar/phpunit/Util/PHP/AbstractPhpProcess.php(300): unserialize('PHPUnit 6.0.2 b...')\r\n#2 phar:///vagrant/vendor/bin/phpunit.phar/phpunit/Util/PHP/AbstractPhpProcess.php(205): PHPUnit\\Util\\PHP\\AbstractPhpProcess->processChildResult(Object(IceHawk\\IceHawk\\Tests\\Unit\\InSeparateTest), Object(PHPUnit\\Framework\\TestResult), 'PHPUnit 6.0.2 b...', '')\r\n#3 phar:///vagrant/vendor/bin/phpunit.phar/phpunit/Framework/TestCase.php(865): PHPUnit\\Util\\PHP\\AbstractPhpProcess->runTestJob('<?php\\nuse Sebas...', Object(IceHawk\\IceHawk\\Tests\\Unit\\InSeparateTest), Object(PHPUnit\\Framework\\TestResult))\r\n#4 phar:///vagrant/vendor/bin/phpunit.phar/phpunit/Framework/TestSuite.php(739): PHPUnit\\Framework\\TestCase->run(Object(PHPUnit\\Framework\\TestResult))\r\n#5 phar:///vagrant/vendor/bin/phpunit.phar/phpunit/TextUI/TestRunner.php(514): PHPUnit\\Framework\\TestSuite->run(Object(PHPUnit\\Framework\\TestResult))\r\n#6 phar:///vagrant/vendor/bin/phpunit.phar/phpunit/TextUI/Command.php(206): PHPUnit\\TextUI\\TestRunner->doRun(Object(PHPUnit\\Framework\\TestSuite), Array, true)\r\n#7 phar:///vagrant/vendor/bin/phpunit.phar/phpunit/TextUI/Command.php(135): PHPUnit\\TextUI\\Command->run(Array, true)\r\n#8 /vagrant/vendor/bin/phpunit.phar(458): PHPUnit\\TextUI\\Command::main()\r\n#9 {main}\r\nERRORS!\r\nTests: 1, Assertions: 0, Errors: 1.\r\n```\r\n\r\nFollowing the trace this might be the problem:\r\n\r\n```\r\n#1 phar:///vagrant/vendor/bin/phpunit.phar/phpunit/Util/PHP/AbstractPhpProcess.php(300): unserialize('PHPUnit 6.0.2 b...')\r\n```\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/277360647/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"hollodotme","id":1557839,"node_id":"MDQ6VXNlcjE1NTc4Mzk=","avatar_url":"https://avatars.githubusercontent.com/u/1557839?v=4","gravatar_id":"","url":"https://api.github.com/users/hollodotme","html_url":"https://github.com/hollodotme","followers_url":"https://api.github.com/users/hollodotme/followers","following_url":"https://api.github.com/users/hollodotme/following{/other_user}","gists_url":"https://api.github.com/users/hollodotme/gists{/gist_id}","starred_url":"https://api.github.com/users/hollodotme/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hollodotme/subscriptions","organizations_url":"https://api.github.com/users/hollodotme/orgs","repos_url":"https://api.github.com/users/hollodotme/repos","events_url":"https://api.github.com/users/hollodotme/events{/privacy}","received_events_url":"https://api.github.com/users/hollodotme/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":948698666,"node_id":"MDEyOkxhYmVsZWRFdmVudDk0ODY5ODY2Ng==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/948698666","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-02-03T21:00:31Z","label":{"name":"6.0","color":"000000"},"performed_via_github_app":null},{"id":948698667,"node_id":"MDEyOkxhYmVsZWRFdmVudDk0ODY5ODY2Nw==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/948698667","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-02-03T21:00:31Z","label":{"name":"bug","color":"e11d21"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/277362510","html_url":"https://github.com/sebastianbergmann/phpunit/issues/2467#issuecomment-277362510","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/2467","id":277362510,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzM2MjUxMA==","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-03T21:07:23Z","updated_at":"2017-02-03T21:07:23Z","body":"Confirmed: process isolation does not work when PHPUnit 6 is used from a PHAR:\r\n```\r\n$ cat Test.php \r\n<?php\r\ndeclare(strict_types=1);\r\n\r\nuse PHPUnit\\Framework\\TestCase;\r\n\r\nclass Test extends TestCase\r\n{\r\n    /**\r\n     * @runInSeparateProcess\r\n     */\r\n    public function testIssue()\r\n    {\r\n        $this->assertEquals(true, true);\r\n    }\r\n}\r\n```\r\n```\r\n$ phpunit Test\r\nPHPUnit 6.0.2 by Sebastian Bergmann and contributors.\r\n\r\n.                                                                   1 / 1 (100%)\r\n\r\nTime: 86 ms, Memory: 4.00MB\r\n\r\nOK (1 test, 1 assertion)\r\n```\r\n```\r\n$ php phpunit-6.0.phar Test                    \r\nPHPUnit 6.0.2 by Sebastian Bergmann and contributors.\r\n\r\nE                                                                   1 / 1 (100%)\r\n\r\nTime: 126 ms, Memory: 8.00MB\r\n\r\nThere was 1 error:\r\n\r\n1) Test::testIssue\r\nPHPUnit\\Framework\\Exception: PHPUnit 6.0.2 by Sebastian Bergmann and contributors.\r\n\r\nUsage: phpunit [options] UnitTest [UnitTest.php]\r\n       phpunit [options] <directory>\r\n\r\nCode Coverage Options:\r\n\r\n  --coverage-clover <file>    Generate code coverage report in Clover XML format.\r\n  --coverage-crap4j <file>    Generate code coverage report in Crap4J XML format.\r\n  --coverage-html <dir>       Generate code coverage report in HTML format.\r\n  --coverage-php <file>       Export PHP_CodeCoverage object to file.\r\n  --coverage-text=<file>      Generate code coverage report in text format.\r\n                              Default: Standard output.\r\n  --coverage-xml <dir>        Generate code coverage report in PHPUnit XML format.\r\n  --whitelist <dir>           Whitelist <dir> for code coverage analysis.\r\n  --disable-coverage-ignore   Disable annotations for ignoring code coverage.\r\n\r\nLogging Options:\r\n\r\n  --log-junit <file>          Log test execution in JUnit XML format to file.\r\n  --log-teamcity <file>       Log test execution in TeamCity format to file.\r\n  --testdox-html <file>       Write agile documentation in HTML format to file.\r\n  --testdox-text <file>       Write agile documentation in Text format to file.\r\n  --testdox-xml <file>        Write agile documentation in XML format to file.\r\n  --reverse-list              Print defects in reverse order\r\n\r\nTest Selection Options:\r\n\r\n  --filter <pattern>          Filter which tests to run.\r\n  --testsuite <name,...>      Filter which testsuite to run.\r\n  --group ...                 Only runs tests from the specified group(s).\r\n  --exclude-group ...         Exclude tests from the specified group(s).\r\n  --list-groups               List available test groups.\r\n  --list-suites               List available test suites.\r\n  --test-suffix ...           Only search for test in files with specified\r\n                              suffix(es). Default: Test.php,.phpt\r\n\r\nTest Execution Options:\r\n\r\n  --dont-report-useless-tests Do not report tests that do not test anything.\r\n  --strict-coverage           Be strict about @covers annotation usage.\r\n  --strict-global-state       Be strict about changes to global state\r\n  --disallow-test-output      Be strict about output during tests.\r\n  --disallow-resource-usage   Be strict about resource usage during small tests.\r\n  --enforce-time-limit        Enforce time limit based on test size.\r\n  --disallow-todo-tests       Disallow @todo-annotated tests.\r\n\r\n  --process-isolation         Run each test in a separate PHP process.\r\n  --globals-backup            Backup and restore $GLOBALS for each test.\r\n  --static-backup             Backup and restore static attributes for each test.\r\n\r\n  --colors=<flag>             Use colors in output (\"never\", \"auto\" or \"always\").\r\n  --columns <n>               Number of columns to use for progress output.\r\n  --columns max               Use maximum number of columns for progress output.\r\n  --stderr                    Write to STDERR instead of STDOUT.\r\n  --stop-on-error             Stop execution upon first error.\r\n  --stop-on-failure           Stop execution upon first error or failure.\r\n  --stop-on-warning           Stop execution upon first warning.\r\n  --stop-on-risky             Stop execution upon first risky test.\r\n  --stop-on-skipped           Stop execution upon first skipped test.\r\n  --stop-on-incomplete        Stop execution upon first incomplete test.\r\n  --fail-on-warning           Treat tests with warnings as failures.\r\n  --fail-on-risky             Treat risky tests as failures.\r\n  -v|--verbose                Output more verbose information.\r\n  --debug                     Display debugging information.\r\n\r\n  --loader <loader>           TestSuiteLoader implementation to use.\r\n  --repeat <times>            Runs the test(s) repeatedly.\r\n  --teamcity                  Report test execution progress in TeamCity format.\r\n  --testdox                   Report test execution progress in TestDox format.\r\n  --testdox-group             Only include tests from the specified group(s).\r\n  --testdox-exclude-group     Exclude tests from the specified group(s).\r\n  --printer <printer>         TestListener implementation to use.\r\n\r\nConfiguration Options:\r\n\r\n  --bootstrap <file>          A \"bootstrap\" PHP file that is run before the tests.\r\n  -c|--configuration <file>   Read configuration from XML file.\r\n  --no-configuration          Ignore default configuration file (phpunit.xml).\r\n  --no-coverage               Ignore code coverage configuration.\r\n  --no-extensions             Do not load PHPUnit extensions.\r\n  --include-path <path(s)>    Prepend PHP's include_path with given path(s).\r\n  -d key[=value]              Sets a php.ini value.\r\n  --generate-configuration    Generate configuration file with suggested settings.\r\n\r\nMiscellaneous Options:\r\n\r\n  -h|--help                   Prints this usage information.\r\n  --version                   Prints the version and exits.\r\n  --atleast-version <min>     Checks that version is greater than min and exits.\r\n\r\n  --check-version             Check whether PHPUnit is the latest version.\r\n\r\nCaused by\r\nErrorException: unserialize(): Error at offset 0 of 4989 bytes in phar:///home/sb/phpunit-6.0.phar/phpunit/Util/PHP/AbstractPhpProcess.php:300\r\nStack trace:\r\n#0 [internal function]: PHPUnit\\Util\\PHP\\AbstractPhpProcess->PHPUnit\\Util\\PHP\\{closure}(8, 'unserialize(): ...', 'phar:///home/sb...', 300, Array)\r\n#1 phar:///home/sb/phpunit-6.0.phar/phpunit/Util/PHP/AbstractPhpProcess.php(300): unserialize('PHPUnit 6.0.2 b...')\r\n#2 phar:///home/sb/phpunit-6.0.phar/phpunit/Util/PHP/AbstractPhpProcess.php(205): PHPUnit\\Util\\PHP\\AbstractPhpProcess->processChildResult(Object(Test), Object(PHPUnit\\Framework\\TestResult), 'PHPUnit 6.0.2 b...', '')\r\n#3 phar:///home/sb/phpunit-6.0.phar/phpunit/Framework/TestCase.php(865): PHPUnit\\Util\\PHP\\AbstractPhpProcess->runTestJob('<?php\\nuse Sebas...', Object(Test), Object(PHPUnit\\Framework\\TestResult))\r\n#4 phar:///home/sb/phpunit-6.0.phar/phpunit/Framework/TestSuite.php(739): PHPUnit\\Framework\\TestCase->run(Object(PHPUnit\\Framework\\TestResult))\r\n#5 phar:///home/sb/phpunit-6.0.phar/phpunit/TextUI/TestRunner.php(514): PHPUnit\\Framework\\TestSuite->run(Object(PHPUnit\\Framework\\TestResult))\r\n#6 phar:///home/sb/phpunit-6.0.phar/phpunit/TextUI/Command.php(206): PHPUnit\\TextUI\\TestRunner->doRun(Object(PHPUnit\\Framework\\TestSuite), Array, true)\r\n#7 phar:///home/sb/phpunit-6.0.phar/phpunit/TextUI/Command.php(135): PHPUnit\\TextUI\\Command->run(Array, true)\r\n#8 /home/sb/phpunit-6.0.phar(458): PHPUnit\\TextUI\\Command::main()\r\n#9 {main}\r\nERRORS!\r\nTests: 1, Assertions: 0, Errors: 1.\r\n```\r\n","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/277362510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":948707159,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ5NDg3MDcxNTk=","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/948707159","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2017-02-03T21:07:35Z","assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/277363235","html_url":"https://github.com/sebastianbergmann/phpunit/issues/2467#issuecomment-277363235","issue_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/2467","id":277363235,"node_id":"MDEyOklzc3VlQ29tbWVudDI3NzM2MzIzNQ==","user":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-02-03T21:11:09Z","updated_at":"2017-02-03T21:12:16Z","body":"Looks like process isolation assumes that PHPUnit PHAR can be used as a library. Which it cannot be used as since PHPUnit 6.0.\r\n\r\nSee #1926 and 5e6595f7027ab0c8858b39d01887dd204d531688.","author_association":"OWNER","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments/277363235/reactions","total_count":1,"+1":0,"-1":1,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":948718518,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50OTQ4NzE4NTE4","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/948718518","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2017-02-03T21:17:00Z","rename":{"from":"phpunit 6.0.2 not executes tests when @runInSeparateProcess annotation is used","to":"Process Isolation does not work when using PHPUnit from PHAR"},"performed_via_github_app":null},{"id":948720904,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDk0ODcyMDkwNA==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/948720904","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"574ba761d84c52be75f8d644ae4ef034381df15c","commit_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits/574ba761d84c52be75f8d644ae4ef034381df15c","created_at":"2017-02-03T21:18:49Z","performed_via_github_app":null},{"id":948720934,"node_id":"MDExOkNsb3NlZEV2ZW50OTQ4NzIwOTM0","url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events/948720934","actor":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"574ba761d84c52be75f8d644ae4ef034381df15c","commit_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits/574ba761d84c52be75f8d644ae4ef034381df15c","created_at":"2017-02-03T21:18:50Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"Wulfheart","id":25671390,"node_id":"MDQ6VXNlcjI1NjcxMzkw","avatar_url":"https://avatars.githubusercontent.com/u/25671390?v=4","gravatar_id":"","url":"https://api.github.com/users/Wulfheart","html_url":"https://github.com/Wulfheart","followers_url":"https://api.github.com/users/Wulfheart/followers","following_url":"https://api.github.com/users/Wulfheart/following{/other_user}","gists_url":"https://api.github.com/users/Wulfheart/gists{/gist_id}","starred_url":"https://api.github.com/users/Wulfheart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wulfheart/subscriptions","organizations_url":"https://api.github.com/users/Wulfheart/orgs","repos_url":"https://api.github.com/users/Wulfheart/repos","events_url":"https://api.github.com/users/Wulfheart/events{/privacy}","received_events_url":"https://api.github.com/users/Wulfheart/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-17T15:01:39Z","updated_at":"2023-07-17T15:01:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5447","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5447/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5447/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5447/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/5447","id":1807984547,"node_id":"I_kwDOAAbWLc5rw6ej","number":5447,"title":"Phar file not executable from vendor/bin","user":{"login":"Wulfheart","id":25671390,"node_id":"MDQ6VXNlcjI1NjcxMzkw","avatar_url":"https://avatars.githubusercontent.com/u/25671390?v=4","gravatar_id":"","url":"https://api.github.com/users/Wulfheart","html_url":"https://github.com/Wulfheart","followers_url":"https://api.github.com/users/Wulfheart/followers","following_url":"https://api.github.com/users/Wulfheart/following{/other_user}","gists_url":"https://api.github.com/users/Wulfheart/gists{/gist_id}","starred_url":"https://api.github.com/users/Wulfheart/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Wulfheart/subscriptions","organizations_url":"https://api.github.com/users/Wulfheart/orgs","repos_url":"https://api.github.com/users/Wulfheart/repos","events_url":"https://api.github.com/users/Wulfheart/events{/privacy}","received_events_url":"https://api.github.com/users/Wulfheart/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":2046355097,"node_id":"MDU6TGFiZWwyMDQ2MzU1MDk3","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/installation/phar","name":"installation/phar","color":"729fcf","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2023-07-17T15:01:38Z","updated_at":"2023-09-03T09:17:44Z","closed_at":"2023-09-01T08:53:57Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":448045,"node_id":"MDEwOlJlcG9zaXRvcnk0NDgwNDU=","name":"phpunit","full_name":"sebastianbergmann/phpunit","private":false,"owner":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sebastianbergmann/phpunit","description":"The PHP Unit Testing framework.","fork":false,"url":"https://api.github.com/repos/sebastianbergmann/phpunit","forks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/forks","keys_url":"https://api.github.com/repos/sebastianbergmann/phpunit/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sebastianbergmann/phpunit/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sebastianbergmann/phpunit/teams","hooks_url":"https://api.github.com/repos/sebastianbergmann/phpunit/hooks","issue_events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/events{/number}","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/events","assignees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/assignees{/user}","branches_url":"https://api.github.com/repos/sebastianbergmann/phpunit/branches{/branch}","tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/tags","blobs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/refs{/sha}","trees_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sebastianbergmann/phpunit/statuses/{sha}","languages_url":"https://api.github.com/repos/sebastianbergmann/phpunit/languages","stargazers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/stargazers","contributors_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contributors","subscribers_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscribers","subscription_url":"https://api.github.com/repos/sebastianbergmann/phpunit/subscription","commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/commits{/sha}","git_commits_url":"https://api.github.com/repos/sebastianbergmann/phpunit/git/commits{/sha}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/comments{/number}","issue_comment_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/comments{/number}","contents_url":"https://api.github.com/repos/sebastianbergmann/phpunit/contents/{+path}","compare_url":"https://api.github.com/repos/sebastianbergmann/phpunit/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sebastianbergmann/phpunit/merges","archive_url":"https://api.github.com/repos/sebastianbergmann/phpunit/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sebastianbergmann/phpunit/downloads","issues_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues{/number}","pulls_url":"https://api.github.com/repos/sebastianbergmann/phpunit/pulls{/number}","milestones_url":"https://api.github.com/repos/sebastianbergmann/phpunit/milestones{/number}","notifications_url":"https://api.github.com/repos/sebastianbergmann/phpunit/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels{/name}","releases_url":"https://api.github.com/repos/sebastianbergmann/phpunit/releases{/id}","deployments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/deployments","created_at":"2009-12-24T13:16:23Z","updated_at":"2025-11-09T22:28:27Z","pushed_at":"2025-11-08T12:36:44Z","git_url":"git://github.com/sebastianbergmann/phpunit.git","ssh_url":"git@github.com:sebastianbergmann/phpunit.git","clone_url":"https://github.com/sebastianbergmann/phpunit.git","svn_url":"https://github.com/sebastianbergmann/phpunit","homepage":"https://phpunit.de/","size":204756,"stargazers_count":19957,"watchers_count":19957,"language":"PHP","has_issues":true,"has_projects":false,"has_downloads":false,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":2223,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":105,"license":{"key":"bsd-3-clause","name":"BSD 3-Clause \"New\" or \"Revised\" License","spdx_id":"BSD-3-Clause","url":"https://api.github.com/licenses/bsd-3-clause","node_id":"MDc6TGljZW5zZTU="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["php","phpunit","testing-tools"],"visibility":"public","forks":2223,"open_issues":105,"watchers":19957,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"When the `phpunit.phar` is distributed via composer in the `vendor/bin` folder then no output is shown. \r\n\r\nI would prefer to use it that way in my projects as it then has the benefit that I don't have many dev dependencies I would only need for phpunit and I have the benefit of not having to download the phar each time.\r\n\r\nIn the issue https://github.com/composer/composer/issues/11555 the problem got narrowed down to the following snippet:\r\nhttps://github.com/sebastianbergmann/phpunit/blob/15a89f123d8ca9c1e1598d6d87a56a8bf28c72cd/build/templates/binary-phar-autoload.php.in#L58-L62\r\n\r\nAfter looking into it I saw that it was related to some bugs in the process isolation.\r\n\r\nRelated issues I found:\r\n- https://github.com/sebastianbergmann/phpunit/issues/3352\r\n- https://github.com/sebastianbergmann/phpunit/issues/2467 (especially https://github.com/sebastianbergmann/phpunit/issues/2467#issuecomment-277363235)\r\n\r\nAs far as I understand v10 was a major rewrite. Is it now possible to support the distribution via a `bin` directory? \r\n\r\n","reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/5447/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]