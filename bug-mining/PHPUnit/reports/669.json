{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4751","repository_url":"https://api.github.com/repos/sebastianbergmann/phpunit","labels_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4751/labels{/name}","comments_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4751/comments","events_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4751/events","html_url":"https://github.com/sebastianbergmann/phpunit/issues/4751","id":960122582,"node_id":"MDU6SXNzdWU5NjAxMjI1ODI=","number":4751,"title":"Configuration validation fails when using brackets in glob pattern","user":{"login":"JaZo","id":3475007,"node_id":"MDQ6VXNlcjM0NzUwMDc=","avatar_url":"https://avatars.githubusercontent.com/u/3475007?v=4","gravatar_id":"","url":"https://api.github.com/users/JaZo","html_url":"https://github.com/JaZo","followers_url":"https://api.github.com/users/JaZo/followers","following_url":"https://api.github.com/users/JaZo/following{/other_user}","gists_url":"https://api.github.com/users/JaZo/gists{/gist_id}","starred_url":"https://api.github.com/users/JaZo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JaZo/subscriptions","organizations_url":"https://api.github.com/users/JaZo/orgs","repos_url":"https://api.github.com/users/JaZo/repos","events_url":"https://api.github.com/users/JaZo/events{/privacy}","received_events_url":"https://api.github.com/users/JaZo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":44001,"node_id":"MDU6TGFiZWw0NDAwMQ==","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/type/bug","name":"type/bug","color":"cc0000","default":false,"description":"Something is broken"},{"id":1329317012,"node_id":"MDU6TGFiZWwxMzI5MzE3MDEy","url":"https://api.github.com/repos/sebastianbergmann/phpunit/labels/feature/test-runner","name":"feature/test-runner","color":"e9b96e","default":false,"description":"CLI test runner"}],"state":"closed","locked":false,"assignee":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2021-08-04T09:15:13Z","updated_at":"2021-08-10T08:41:42Z","closed_at":"2021-08-10T08:41:42Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"| Q                   | A\r\n| --------------------| ---------------\r\n| PHPUnit version     | 9.5.8\r\n| PHP version         | 7.4.3\r\n| Installation Method | Composer\r\n\r\n#### Composer info\r\n\r\n```\r\nbacon/bacon-qr-code                     2.0.4      \r\nbarryvdh/laravel-debugbar               v3.6.2     \r\nbarryvdh/laravel-ide-helper             v2.10.0    \r\nbarryvdh/reflection-docblock            v2.0.6\r\nbepsvpt/secure-headers                  7.1.0      \r\nbrick/math                              0.9.2      \r\nbugsnag/bugsnag-laravel                 v2.22.1    \r\nbugsnag/bugsnag-psr-logger              v1.4.3     \r\nbugsnag/bugsnag                         v3.26.0    \r\nclue/stream-filter                      v1.5.0     \r\ncomposer/ca-bundle                      1.2.10     \r\ncomposer/composer                       2.1.5      \r\ncomposer/metadata-minifier              1.0.0      \r\ncomposer/package-versions-deprecated    1.11.99.2  \r\ncomposer/semver                         3.2.5      \r\ncomposer/spdx-licenses                  1.5.5      \r\ncomposer/xdebug-handler                 2.0.2      \r\ndanielstjules/stringy                   3.1.0      \r\ndasprid/enum                            1.0.3      \r\ndflydev/dot-access-data                 v3.0.0     \r\ndoctrine/annotations                    1.13.1     \r\ndoctrine/cache                          2.1.1      \r\ndoctrine/dbal                           3.1.1      \r\ndoctrine/deprecations                   v0.5.3     \r\ndoctrine/event-manager                  1.1.1      \r\ndoctrine/inflector                      2.0.3      \r\ndoctrine/instantiator                   1.4.0      \r\ndoctrine/lexer                          1.2.1      \r\ndragonmantank/cron-expression           v3.1.0     \r\negulias/email-validator                 2.1.25     \r\nfacade/flare-client-php                 1.8.1      \r\nfacade/ignition                         2.11.2     \r\nfacade/ignition-contracts               1.0.2      \r\nfakerphp/faker                          v1.15.0    \r\nfideloper/proxy                         4.4.1      \r\nfilp/whoops                             2.14.0     \r\nfriendsofphp/php-cs-fixer               v3.0.1     \r\ngraham-campbell/result-type             v1.0.1     \r\nguzzlehttp/guzzle                       7.3.0      \r\nguzzlehttp/promises                     1.4.1      \r\nguzzlehttp/psr7                         2.0.0      \r\nhamcrest/hamcrest-php                   v2.0.1     \r\nhannesvdvreken/guzzle-debugbar          3.0.1      \r\nhannesvdvreken/guzzle-profiler          2.0.0      \r\njustinrainbow/json-schema               5.2.11     \r\nkevinrob/guzzle-cache-middleware        v3.4.0     \r\nlaracasts/flash                         3.2        \r\nlaracasts/presenter                     0.2.4      \r\nlaravelcollective/html                  v6.2.1     \r\nlaravel/framework                       v8.53.0    \r\nlaravel/tinker                          v2.6.1     \r\nleague/commonmark                       2.0.1      \r\nleague/config                           v1.1.0     \r\nleague/flysystem                        1.1.4      \r\nleague/fractal                          0.19.2     \r\nleague/mime-type-detection              1.7.0      \r\nleague/oauth2-client                    2.6.0      \r\nlimedeck/phpunit-detailed-printer       6.0.0      \r\nmaximebf/debugbar                       v1.17.1    \r\nmockery/mockery                         1.4.3      \r\nmonolog/monolog                         2.3.2      \r\nmyclabs/deep-copy                       1.10.2     \r\nmyclabs/php-enum                        1.8.3      \r\nnesbot/carbon                           2.51.1     \r\nnette/schema                            v1.2.1     \r\nnette/utils                             v3.2.2     \r\nnikic/php-parser                        v4.12.0    \r\nnunomaduro/collision                    v5.6.0     \r\nopis/closure                            3.6.2      \r\nparagonie/random_compat                 v9.99.100  \r\nphar-io/manifest                        2.0.3      \r\nphar-io/version                         3.1.0      \r\nphp-cs-fixer/diff                       v2.0.2     \r\nphpdocumentor/reflection-common         2.2.0      \r\nphpdocumentor/reflection-docblock       5.2.2      \r\nphpdocumentor/type-resolver             1.4.0      \r\nphp-http/client-common                  2.4.0      \r\nphp-http/discovery                      1.14.0     \r\nphp-http/httplug                        2.2.0      \r\nphp-http/message                        1.11.2     \r\nphp-http/message-factory                v1.0.2     \r\nphp-http/mock-client                    1.4.1      \r\nphp-http/promise                        1.1.0      \r\nphpoption/phpoption                     1.7.5      \r\nphpspec/prophecy                        1.13.0     \r\nphpunit/php-code-coverage               9.2.6      \r\nphpunit/php-file-iterator               3.0.5      \r\nphpunit/php-invoker                     3.1.1      \r\nphpunit/php-text-template               2.0.4      \r\nphpunit/php-timer                       5.0.3      \r\nphpunit/phpunit                         9.5.8      \r\nphp-webdriver/webdriver                 1.11.1     \r\npsr/cache                               1.0.1      \r\npsr/container                           1.1.1      \r\npsr/event-dispatcher                    1.0.0      \r\npsr/http-client                         1.0.1      \r\npsr/http-factory                        1.0.1      \r\npsr/http-message                        1.0.1      \r\npsr/log                                 1.1.4      \r\npsr/simple-cache                        1.0.1      \r\npsy/psysh                               v0.10.8    \r\nralouphie/getallheaders                 3.0.3      \r\nramsey/collection                       1.1.4      \r\nramsey/uuid                             4.1.1      \r\nreact/promise                           v2.8.0     \r\nsebastian/cli-parser                    1.0.1      \r\nsebastian/code-unit                     1.0.8      \r\nsebastian/code-unit-reverse-lookup      2.0.3      \r\nsebastian/comparator                    4.0.6      \r\nsebastian/complexity                    2.0.2      \r\nsebastian/diff                          4.0.4      \r\nsebastian/environment                   5.1.3      \r\nsebastian/exporter                      4.0.3      \r\nsebastian/global-state                  5.0.3      \r\nsebastian/lines-of-code                 1.0.3      \r\nsebastian/object-enumerator             4.0.4      \r\nsebastian/object-reflector              2.0.4      \r\nsebastian/recursion-context             4.0.4      \r\nsebastian/resource-operations           3.0.3      \r\nsebastian/type                          2.3.4      \r\nsebastian/version                       3.0.2      \r\nseld/jsonlint                           1.8.3      \r\nseld/phar-utils                         1.1.1      \r\nspatie/fractalistic                     2.9.1      \r\nspatie/laravel-fractal                  5.8.1      \r\nswiftmailer/swiftmailer                 v6.2.7     \r\nswisnl/guzzle-fixture-handler           2.3.0      \r\nswisnl/illuminate-collections           8.0.0      \r\nswisnl/json-api-client                  2.0.0-beta \r\nswisnl/json-api-client-laravel          1.0.0-beta \r\nswisnl/laravel-javascript-data-response 1.4.0      \r\nswisnl/php-cs-fixer-config              1.3.0      \r\nswisnl/php-http-fixture-client          2.3.0      \r\nsymfony/console                         v5.3.6     \r\nsymfony/css-selector                    v5.3.4     \r\nsymfony/debug                           v4.4.27    \r\nsymfony/deprecation-contracts           v2.4.0     \r\nsymfony/dom-crawler                     v5.3.4     \r\nsymfony/error-handler                   v5.3.4     \r\nsymfony/event-dispatcher-contracts      v2.4.0     \r\nsymfony/event-dispatcher                v5.3.4     \r\nsymfony/filesystem                      v5.3.4     \r\nsymfony/finder                          v5.3.4     \r\nsymfony/http-client-contracts           v2.4.0     \r\nsymfony/http-foundation                 v5.3.6     \r\nsymfony/http-kernel                     v5.3.6     \r\nsymfony/mime                            v5.3.4     \r\nsymfony/options-resolver                v5.3.4     \r\nsymfony/polyfill-ctype                  v1.23.0    \r\nsymfony/polyfill-iconv                  v1.23.0    \r\nsymfony/polyfill-intl-grapheme          v1.23.1    \r\nsymfony/polyfill-intl-idn               v1.23.0    \r\nsymfony/polyfill-intl-normalizer        v1.23.0    \r\nsymfony/polyfill-mbstring               v1.23.1    \r\nsymfony/polyfill-php72                  v1.23.0    \r\nsymfony/polyfill-php73                  v1.23.0    \r\nsymfony/polyfill-php80                  v1.23.1    \r\nsymfony/process                         v5.3.4     \r\nsymfony/routing                         v5.3.4     \r\nsymfony/service-contracts               v2.4.0     \r\nsymfony/stopwatch                       v5.3.4     \r\nsymfony/string                          v5.3.3     \r\nsymfony/translation-contracts           v2.4.0     \r\nsymfony/translation                     v5.3.4     \r\nsymfony/var-dumper                      v5.3.6     \r\ntheseer/tokenizer                       1.2.1      \r\ntijsverkoyen/css-to-inline-styles       2.2.3      \r\nvlucas/phpdotenv                        v5.3.0     \r\nvoku/portable-ascii                     1.5.6      \r\nwebmozart/assert                        1.10.0     \r\n```\r\n\r\n#### Summary\r\n\r\nConfiguration validation fails when using brackets (character group) in glob pattern.\r\n\r\n#### Current behavior\r\n\r\n```\r\nWarning - The configuration file did not pass validation!\r\nThe following problems have been detected:\r\n\r\nLine 7:\r\n- Element 'directory': './tests/[a-h]*' is not a valid value of the atomic type 'xs:anyURI'.\r\n\r\nLine 11:\r\n- Element 'exclude': './tests/[a-h]*' is not a valid value of the atomic type 'xs:anyURI'.\r\n\r\nTest results may not be as expected.\r\n```\r\n\r\nDespite the warning, it does work as expected.\r\n\r\n#### How to reproduce\r\n\r\n```\r\n$ tree\r\n.\r\n├── phpunit.xml\r\n└── tests\r\n    ├── one\r\n    │   └── OneTest.php\r\n    └── two\r\n        └── TwoTest.php\r\n```\r\n```xml\r\n<?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<phpunit xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n         xsi:noNamespaceSchemaLocation=\"https://schema.phpunit.de/9.3/phpunit.xsd\"\r\n         verbose=\"true\">\r\n    <testsuites>\r\n      <testsuite name=\"A\">\r\n        <directory>./tests/[a-h]*</directory>\r\n      </testsuite>\r\n      <testsuite name=\"B\">\r\n        <directory>./tests</directory>\r\n        <exclude>./tests/[a-h]*</exclude>\r\n      </testsuite>\r\n  </testsuites>\r\n</phpunit>\r\n```\r\n\r\n#### Expected behavior\r\n\r\nNo configuration validation warning.\r\n","closed_by":{"login":"sebastianbergmann","id":25218,"node_id":"MDQ6VXNlcjI1MjE4","avatar_url":"https://avatars.githubusercontent.com/u/25218?v=4","gravatar_id":"","url":"https://api.github.com/users/sebastianbergmann","html_url":"https://github.com/sebastianbergmann","followers_url":"https://api.github.com/users/sebastianbergmann/followers","following_url":"https://api.github.com/users/sebastianbergmann/following{/other_user}","gists_url":"https://api.github.com/users/sebastianbergmann/gists{/gist_id}","starred_url":"https://api.github.com/users/sebastianbergmann/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sebastianbergmann/subscriptions","organizations_url":"https://api.github.com/users/sebastianbergmann/orgs","repos_url":"https://api.github.com/users/sebastianbergmann/repos","events_url":"https://api.github.com/users/sebastianbergmann/events{/privacy}","received_events_url":"https://api.github.com/users/sebastianbergmann/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4751/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sebastianbergmann/phpunit/issues/4751/timeline","performed_via_github_app":null,"state_reason":"completed"}