diff --git a/scrplugin/generator/changelog.txt b/scrplugin/generator/changelog.txt
index e72adcc3d5..e108a81aab 100644
--- a/scrplugin/generator/changelog.txt
+++ b/scrplugin/generator/changelog.txt
@@ -3,6 +3,7 @@ Changes from 1.1.2 to 1.1.4
 
 ** Bug
     * [FELIX-2963] - scr annotations @Activate @Deactivate @Modified are not detected with class inheritance
+    * [FELIX-3117] - NullPointerException when not implementing interface that is defined with @Service
 
 
 Changes from 1.1.0 to 1.1.2
diff --git a/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/tags/cl/ClassLoaderJavaClassDescription.java b/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/tags/cl/ClassLoaderJavaClassDescription.java
index 0c3e71930e..53b51109a2 100644
--- a/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/tags/cl/ClassLoaderJavaClassDescription.java
+++ b/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/tags/cl/ClassLoaderJavaClassDescription.java
@@ -234,14 +234,16 @@ public class ClassLoaderJavaClassDescription implements JavaClassDescription {
             return true;
         }
 
-        try {
-            Class<?> typeClass = this.clazz.getClassLoader().loadClass( type );
-            return typeClass.isAssignableFrom( this.clazz );
-        } catch (ClassNotFoundException cnfe) {
-            // cannot load the check type through the class' class loader
-            // thus we assume clazz is not a type
-            return false;
+        if ( this.clazz.getClassLoader() != null ) {
+            try {
+                Class<?> typeClass = this.clazz.getClassLoader().loadClass( type );
+                return typeClass.isAssignableFrom( this.clazz );
+            } catch (ClassNotFoundException cnfe) {
+                // cannot load the check type through the class' class loader
+                // thus we assume clazz is not a type
+            }
         }
+        return false;
     }
 
     /**
diff --git a/scrplugin/maven-scr-plugin/changelog.txt b/scrplugin/maven-scr-plugin/changelog.txt
index 7774e7c2ec..51a4248cfe 100644
--- a/scrplugin/maven-scr-plugin/changelog.txt
+++ b/scrplugin/maven-scr-plugin/changelog.txt
@@ -3,6 +3,7 @@ Changes from 1.7.2 to 1.7.4
 
 ** Bug
     * [FELIX-2963] - scr annotations @Activate @Deactivate @Modified are not detected with class inheritance
+    * [FELIX-3117] - NullPointerException when not implementing interface that is defined with @Service
 
 ** Improvement
     * [FELIX-3066] - Add support for source directory include filter via plugin configuration
diff --git a/scrplugin/maven-scr-plugin/src/main/java/org/apache/felix/scrplugin/mojo/MavenJavaClassDescriptorManager.java b/scrplugin/maven-scr-plugin/src/main/java/org/apache/felix/scrplugin/mojo/MavenJavaClassDescriptorManager.java
index 65ad96fab4..85fa2b9ea1 100644
--- a/scrplugin/maven-scr-plugin/src/main/java/org/apache/felix/scrplugin/mojo/MavenJavaClassDescriptorManager.java
+++ b/scrplugin/maven-scr-plugin/src/main/java/org/apache/felix/scrplugin/mojo/MavenJavaClassDescriptorManager.java
@@ -24,7 +24,6 @@ import java.util.*;
 
 import org.apache.felix.scrplugin.*;
 import org.apache.felix.scrplugin.helper.StringUtils;
-import org.apache.felix.scrplugin.om.Component;
 import org.apache.maven.artifact.Artifact;
 import org.apache.maven.artifact.ArtifactUtils;
 import org.apache.maven.project.MavenProject;
@@ -37,12 +36,8 @@ public class MavenJavaClassDescriptorManager extends JavaClassDescriptorManager
     private final MavenProject project;
 
     private final String includeString;
-    
-    private final String excludeString;
-
-    /** The component definitions from other bundles hashed by classname. */
-    private Map<String, Component> componentDescriptions;
 
+    private final String excludeString;
 
     public MavenJavaClassDescriptorManager( MavenProject project, Log log, ClassLoader classLoader,
         String[] annotationTagProviders, String includeString, String excludeString, boolean parseJavadocs, boolean processAnnotations )
@@ -75,7 +70,7 @@ public class MavenJavaClassDescriptorManager extends JavaClassDescriptorManager
         if ( includeString != null ) {
         	includes = StringUtils.split( includeString, "," );
         }
-        
+
         final String[] excludes;
         if ( excludeString != null )
         {
diff --git a/scrplugin/scrtask/changelog.txt b/scrplugin/scrtask/changelog.txt
index a6fa5e354b..1ac2f318f5 100644
--- a/scrplugin/scrtask/changelog.txt
+++ b/scrplugin/scrtask/changelog.txt
@@ -3,6 +3,7 @@ Changes from 1.1.2 to 1.1.4
 
 ** Bug
     * [FELIX-2963] - scr annotations @Activate @Deactivate @Modified are not detected with class inheritance
+    * [FELIX-3117] - NullPointerException when not implementing interface that is defined with @Service
 
 
 Changes from 1.1.0 to 1.1.2
