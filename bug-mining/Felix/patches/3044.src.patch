diff --git a/scr/src/main/java/org/apache/felix/scr/impl/manager/MultiplePrototypeRefPair.java b/scr/src/main/java/org/apache/felix/scr/impl/manager/MultiplePrototypeRefPair.java
index 29d2718d4c..638e55e948 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/manager/MultiplePrototypeRefPair.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/manager/MultiplePrototypeRefPair.java
@@ -20,6 +20,7 @@
 
 package org.apache.felix.scr.impl.manager;
 
+import java.util.Iterator;
 import java.util.concurrent.ConcurrentHashMap;
 import java.util.concurrent.ConcurrentMap;
 
@@ -63,7 +64,17 @@ public class MultiplePrototypeRefPair<S, T> extends RefPair<S, T>
     @Override
     public T unsetServiceObject(ComponentContextImpl<S> key)
     {
-        return instances.get(key);
+    	if ( key == null )
+    	{
+    		final Iterator<T> iter = instances.values().iterator();
+    		while ( iter.hasNext() ) 
+    		{
+    			this.serviceObjects.ungetService(iter.next());
+    		}
+    		instances.clear();
+    		return null ;
+    	}
+        return instances.remove(key);
     }
 
     @Override
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/ComponentTestBase.java b/scr/src/test/java/org/apache/felix/scr/integration/ComponentTestBase.java
index 45758db49c..f67a39ed0e 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/ComponentTestBase.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/ComponentTestBase.java
@@ -117,7 +117,7 @@ public abstract class ComponentTestBase
     protected static String paxRunnerVmOption = null;
 
     //To investigate any problems at all set to "debug"
-    protected static String DS_LOGLEVEL = "debug";
+    protected static String DS_LOGLEVEL = "error";
 
     protected static String bsnVersionUniqueness = "single";
 
