diff --git a/framework/src/main/java/org/apache/felix/framework/Felix.java b/framework/src/main/java/org/apache/felix/framework/Felix.java
index 097e13bda7..44ce43ed06 100644
--- a/framework/src/main/java/org/apache/felix/framework/Felix.java
+++ b/framework/src/main/java/org/apache/felix/framework/Felix.java
@@ -3055,9 +3055,11 @@ ex.printStackTrace();
     {
         if (clazz.getClassLoader() instanceof ModuleClassLoader)
         {
-            IModule module =
+            // Only return the bundle if it is from this framework.
+            ModuleImpl module = (ModuleImpl)
                 ((ModuleClassLoader) clazz.getClassLoader()).getModule();
-            return module.getBundle();
+            return (((BundleImpl) module.getBundle()).getFramework() == this)
+                ? module.getBundle() : null;
         }
         try
         {
