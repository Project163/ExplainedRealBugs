diff --git a/tools/org.apache.felix.scr.generator/changelog.txt b/tools/org.apache.felix.scr.generator/changelog.txt
index 16ac9774c3..b5d6da86c6 100644
--- a/tools/org.apache.felix.scr.generator/changelog.txt
+++ b/tools/org.apache.felix.scr.generator/changelog.txt
@@ -1,3 +1,9 @@
+Changes from 1.14.0 to 1.13.0 
+-----------------------------
+** Bug
+    * [FELIX-5118] - Exception when running on jdk9-ea
+
+
 Changes from 1.13.0 to 1.12.0 
 -----------------------------
 ** Improvement
diff --git a/tools/org.apache.felix.scr.generator/pom.xml b/tools/org.apache.felix.scr.generator/pom.xml
index 96568717a3..2d5f5b6383 100644
--- a/tools/org.apache.felix.scr.generator/pom.xml
+++ b/tools/org.apache.felix.scr.generator/pom.xml
@@ -22,7 +22,7 @@
     <parent>
         <groupId>org.apache.felix</groupId>
         <artifactId>felix-parent</artifactId>
-        <version>3</version>
+        <version>4</version>
         <relativePath>../../pom/pom.xml</relativePath>
     </parent>
 
@@ -39,9 +39,9 @@
     </description>
 
     <scm>
-        <connection>scm:svn:http://svn.apache.org/repos/asf/felix/trunk/scrplugin/generator</connection>
-        <developerConnection>scm:svn:https://svn.apache.org/repos/asf/felix/trunk/scrplugin/generator</developerConnection>
-        <url>http://svn.apache.org/repos/asf/felix/scrplugin/generator</url>
+        <connection>scm:svn:http://svn.apache.org/repos/asf/felix/trunk/tools/org.apache.felix.scr.generator</connection>
+        <developerConnection>scm:svn:https://svn.apache.org/repos/asf/felix/trunk/tools/org.apache.felix.scr.generator</developerConnection>
+        <url>http://svn.apache.org/repos/asf/felix/tools/org.apache.felix.scr.generator</url>
     </scm>
 
     <properties>
@@ -53,7 +53,7 @@
         <dependency>
             <groupId>org.ow2.asm</groupId>
             <artifactId>asm-all</artifactId>
-            <version>5.0.2</version>
+            <version>5.1</version>
             <scope>compile</scope>
         </dependency>
         <dependency>
@@ -71,14 +71,14 @@
         <dependency>
             <groupId>junit</groupId>
             <artifactId>junit</artifactId>
-            <version>4.8.1</version>
+            <version>4.12</version>
             <scope>test</scope>
         </dependency>
 
         <dependency>
             <groupId>org.easymock</groupId>
             <artifactId>easymock</artifactId>
-            <version>3.2</version>
+            <version>3.4</version>
             <scope>test</scope>
         </dependency>
 
@@ -92,30 +92,16 @@
         <dependency>
             <groupId>commons-io</groupId>
             <artifactId>commons-io</artifactId>
-            <version>2.4</version>
+            <version>2.5</version>
             <scope>test</scope>
         </dependency>
 
         <dependency>
             <groupId>org.apache.felix</groupId>
             <artifactId>org.apache.felix.scr.annotations</artifactId>
-            <version>1.9.6</version>
+            <version>1.9.12</version>
             <scope>test</scope>
         </dependency>
 
     </dependencies>
-    
-    <build>
-        <plugins>
-            <!-- JDK 1.5 needed for annotation support -->
-            <plugin>
-                <groupId>org.apache.maven.plugins</groupId>
-                <artifactId>maven-compiler-plugin</artifactId>
-                <configuration>
-                  <source>1.5</source>
-                  <target>1.5</target>
-                </configuration>
-            </plugin>
-        </plugins>
-    </build>
 </project>
diff --git a/tools/org.apache.felix.scr.generator/src/main/java/org/apache/felix/scrplugin/helper/AnnotationProcessorManager.java b/tools/org.apache.felix.scr.generator/src/main/java/org/apache/felix/scrplugin/helper/AnnotationProcessorManager.java
index b63a112a74..adec760e65 100644
--- a/tools/org.apache.felix.scr.generator/src/main/java/org/apache/felix/scrplugin/helper/AnnotationProcessorManager.java
+++ b/tools/org.apache.felix.scr.generator/src/main/java/org/apache/felix/scrplugin/helper/AnnotationProcessorManager.java
@@ -23,11 +23,9 @@ import java.util.ArrayList;
 import java.util.Collections;
 import java.util.Comparator;
 import java.util.HashMap;
-import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
-
-import javax.imageio.spi.ServiceRegistry;
+import java.util.ServiceLoader;
 
 import org.apache.felix.scrplugin.Log;
 import org.apache.felix.scrplugin.SCRDescriptorException;
@@ -58,9 +56,7 @@ public class AnnotationProcessorManager implements AnnotationProcessor {
         // search for providers
         final Map<String, AnnotationProcessor> processorMap = new HashMap<String, AnnotationProcessor>();
 
-        final Iterator<AnnotationProcessor> serviceIter = ServiceRegistry.lookupProviders(AnnotationProcessor.class, classLoader);
-        while ( serviceIter.hasNext() ) {
-            final AnnotationProcessor processor = serviceIter.next();
+        for(final AnnotationProcessor processor : ServiceLoader.load(AnnotationProcessor.class, classLoader)) {
             // check if this processor is already loaded
             final String key = processor.getClass().getName();
             if ( !processorMap.containsKey(key) ) {
