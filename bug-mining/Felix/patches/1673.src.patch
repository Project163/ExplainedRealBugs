diff --git a/gogo/shell/src/main/java/org/apache/felix/gogo/shell/Activator.java b/gogo/shell/src/main/java/org/apache/felix/gogo/shell/Activator.java
index 471d2a9e8c..ec9b62ef79 100644
--- a/gogo/shell/src/main/java/org/apache/felix/gogo/shell/Activator.java
+++ b/gogo/shell/src/main/java/org/apache/felix/gogo/shell/Activator.java
@@ -69,7 +69,11 @@ public class Activator implements BundleActivator, Runnable
     {
         try
         {
-            Thread.sleep(100);    // wait for gosh command to be registered
+            // wait for gosh command to be registered
+            for (int i = 0; (i < 100) && session.get("gogo:gosh") == null; ++i) {
+	            Thread.sleep(10);
+            }
+            
             String args = context.getProperty("gosh.args");
             args = (args == null) ? "" : args;
             session.execute("gosh --login " + args);
