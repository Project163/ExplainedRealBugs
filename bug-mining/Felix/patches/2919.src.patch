diff --git a/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java b/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java
index 1788dd5e89..1a4f12a4a2 100644
--- a/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java
+++ b/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java
@@ -183,7 +183,7 @@ public class ConfigInstaller implements ArtifactInstaller, ConfigurationListener
                         configurationEvent.getPid(),
                         "?");
                 Dictionary dict = config.getProperties();
-                String fileName = (String) dict.get(DirectoryWatcher.FILENAME);
+                String fileName = dict != null ? (String) dict.get(DirectoryWatcher.FILENAME) : null;
                 File file = fileName != null ? fromConfigKey(fileName) : null;
                 if (file != null && file.isFile()) {
                     if (!file.delete()) {
