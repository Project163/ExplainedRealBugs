diff --git a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadIOImpl.java b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadIOImpl.java
index 2f15984618..282d7d51f1 100644
--- a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadIOImpl.java
+++ b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadIOImpl.java
@@ -31,7 +31,7 @@ public class ThreadIOImpl implements ThreadIO
     ThreadPrintStream err = new ThreadPrintStream(System.err);
     ThreadPrintStream out = new ThreadPrintStream(System.out);
     ThreadInputStream in = new ThreadInputStream(System.in);
-    ThreadLocal<Marker> current = new ThreadLocal<Marker>();
+    ThreadLocal<Marker> current = new InheritableThreadLocal<Marker>();
 
     public void start()
     {
diff --git a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadInputStream.java b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadInputStream.java
index e3dfe2b747..9f27c592fe 100644
--- a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadInputStream.java
+++ b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadInputStream.java
@@ -23,7 +23,7 @@ import java.io.InputStream;
 
 public class ThreadInputStream extends InputStream
 {
-    ThreadLocal<InputStream> map = new ThreadLocal<InputStream>();
+    ThreadLocal<InputStream> map = new InheritableThreadLocal<InputStream>();
     InputStream dflt;
 
     public ThreadInputStream(InputStream in)
diff --git a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadPrintStream.java b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadPrintStream.java
index 241fa27708..d9c700e8cc 100644
--- a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadPrintStream.java
+++ b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/threadio/ThreadPrintStream.java
@@ -26,7 +26,7 @@ import java.util.Locale;
 public class ThreadPrintStream extends PrintStream
 {
     PrintStream dflt;
-    ThreadLocal<PrintStream> map = new ThreadLocal<PrintStream>();
+    ThreadLocal<PrintStream> map = new InheritableThreadLocal<PrintStream>();
 
     public ThreadPrintStream(PrintStream out)
     {
