diff --git a/http/base/src/main/java/org/apache/felix/http/base/internal/AbstractHttpActivator.java b/http/base/src/main/java/org/apache/felix/http/base/internal/AbstractHttpActivator.java
index 9f5f84705b..e155064a76 100644
--- a/http/base/src/main/java/org/apache/felix/http/base/internal/AbstractHttpActivator.java
+++ b/http/base/src/main/java/org/apache/felix/http/base/internal/AbstractHttpActivator.java
@@ -19,13 +19,13 @@ package org.apache.felix.http.base.internal;
 public abstract class AbstractHttpActivator
     extends AbstractActivator
 {
-    private DispatcherServlet dispatcher;
+    private DispatcherServlet dispatcherServlet;
     private EventDispatcher eventDispatcher;
     private HttpServiceController controller;
 
     protected final DispatcherServlet getDispatcherServlet()
     {
-        return this.dispatcher;
+        return this.dispatcherServlet;
     }
 
     protected final EventDispatcher getEventDispatcher()
@@ -38,18 +38,20 @@ public abstract class AbstractHttpActivator
         return this.controller;
     }
 
+    @Override
     protected void doStart()
         throws Exception
     {
         this.controller = new HttpServiceController(getBundleContext());
-        this.dispatcher = new DispatcherServlet(this.controller);
+        this.dispatcherServlet = new DispatcherServlet(this.controller.getDispatcher());
         this.eventDispatcher = new EventDispatcher(this.controller);
     }
 
+    @Override
     protected void doStop()
         throws Exception
     {
         this.controller.unregister();
-        this.dispatcher.destroy();
+        this.dispatcherServlet.destroy();
     }
 }
diff --git a/http/base/src/main/java/org/apache/felix/http/base/internal/DispatcherServlet.java b/http/base/src/main/java/org/apache/felix/http/base/internal/DispatcherServlet.java
index 40ece556e6..b0af27c36e 100644
--- a/http/base/src/main/java/org/apache/felix/http/base/internal/DispatcherServlet.java
+++ b/http/base/src/main/java/org/apache/felix/http/base/internal/DispatcherServlet.java
@@ -18,46 +18,30 @@ package org.apache.felix.http.base.internal;
 
 import java.io.IOException;
 
-import javax.servlet.ServletConfig;
 import javax.servlet.ServletException;
 import javax.servlet.http.HttpServlet;
 import javax.servlet.http.HttpServletRequest;
 import javax.servlet.http.HttpServletResponse;
 
+import org.apache.felix.http.base.internal.dispatch.Dispatcher;
+
 /**
  * The dispatcher servlet is registered in the container.
  *
- * When {@link #init(ServletConfig)} is called, the Http services are registered
- * and started, when {@link #destroy()} is called the services are stopped
- * and unregistered.
  */
 public final class DispatcherServlet extends HttpServlet
 {
-    private final HttpServiceController controller;
+    private final Dispatcher controller;
 
-    public DispatcherServlet(final HttpServiceController controller)
+    public DispatcherServlet(final Dispatcher controller)
     {
         this.controller = controller;
     }
 
-    @Override
-    public void init(final ServletConfig config) throws ServletException
-    {
-        super.init(config);
-        this.controller.register(getServletContext());
-    }
-
-    @Override
-    public void destroy()
-    {
-        this.controller.unregister();
-        super.destroy();
-    }
-
     @Override
     protected void service(final HttpServletRequest req, final HttpServletResponse res)
             throws ServletException, IOException
     {
-        this.controller.getDispatcher().dispatch(req, res);
+        this.controller.dispatch(req, res);
     }
 }
diff --git a/http/base/src/main/java/org/apache/felix/http/base/internal/HttpServiceController.java b/http/base/src/main/java/org/apache/felix/http/base/internal/HttpServiceController.java
index b75f2538b6..e85dd5fd5f 100644
--- a/http/base/src/main/java/org/apache/felix/http/base/internal/HttpServiceController.java
+++ b/http/base/src/main/java/org/apache/felix/http/base/internal/HttpServiceController.java
@@ -51,7 +51,7 @@ public final class HttpServiceController
         this.whiteboardManager = new WhiteboardManager(bundleContext, this.httpServiceFactory, this.registry);
     }
 
-    Dispatcher getDispatcher()
+    public Dispatcher getDispatcher()
     {
         return this.dispatcher;
     }
@@ -99,22 +99,16 @@ public final class HttpServiceController
         };
     }
 
-    public void setProperties(final Hashtable<String, Object> props)
-    {
-        this.httpServiceFactory.setProperties(props);
-        this.whiteboardManager.setProperties(props);
-    }
-
     /**
      * Start the http and http whiteboard service in the provided context.
      * @param containerContext The container context.
      */
-    public void register(@Nonnull final ServletContext containerContext)
+    public void register(@Nonnull final ServletContext containerContext, @Nonnull final Hashtable<String, Object> props)
     {
         this.registry.init();
 
-        this.httpServiceFactory.start(containerContext);
-        this.whiteboardManager.start(containerContext);
+        this.httpServiceFactory.start(containerContext, props);
+        this.whiteboardManager.start(containerContext, props);
 
         this.dispatcher.setWhiteboardManager(this.whiteboardManager);
     }
diff --git a/http/base/src/main/java/org/apache/felix/http/base/internal/dispatch/Dispatcher.java b/http/base/src/main/java/org/apache/felix/http/base/internal/dispatch/Dispatcher.java
index db787ca5c5..25f2bcbb0e 100644
--- a/http/base/src/main/java/org/apache/felix/http/base/internal/dispatch/Dispatcher.java
+++ b/http/base/src/main/java/org/apache/felix/http/base/internal/dispatch/Dispatcher.java
@@ -69,16 +69,20 @@ public final class Dispatcher
      */
     public void dispatch(final HttpServletRequest req, final HttpServletResponse res) throws ServletException, IOException
     {
+        final WhiteboardManager mgr = this.whiteboardManager;
+        if ( mgr != null )
+        {
+            // not active, always return 404
+            res.sendError(404);
+            return;
+        }
+
         // check for invalidating session(s) first
         final HttpSession session = req.getSession(false);
         if ( session != null )
         {
             final Set<Long> ids = HttpSessionWrapper.getExpiredSessionContextIds(session);
-            final WhiteboardManager mgr = this.whiteboardManager;
-            if ( mgr != null )
-            {
-                this.whiteboardManager.sessionDestroyed(session, ids);
-            }
+            this.whiteboardManager.sessionDestroyed(session, ids);
         }
 
         // get full decoded path for dispatching
diff --git a/http/base/src/main/java/org/apache/felix/http/base/internal/service/HttpServiceFactory.java b/http/base/src/main/java/org/apache/felix/http/base/internal/service/HttpServiceFactory.java
index 1de4b37aea..8e07a4d5b8 100644
--- a/http/base/src/main/java/org/apache/felix/http/base/internal/service/HttpServiceFactory.java
+++ b/http/base/src/main/java/org/apache/felix/http/base/internal/service/HttpServiceFactory.java
@@ -18,6 +18,7 @@ package org.apache.felix.http.base.internal.service;
 
 import java.util.Hashtable;
 
+import javax.annotation.Nonnull;
 import javax.servlet.ServletContext;
 import javax.servlet.http.HttpSessionAttributeListener;
 import javax.servlet.http.HttpSessionListener;
@@ -99,8 +100,18 @@ public final class HttpServiceFactory
         this.sessionAttributeListenerManager = new HttpSessionAttributeListenerManager(bundleContext);
     }
 
-    public void start(final ServletContext context)
+    public void start(final ServletContext context,
+            @Nonnull final Hashtable<String, Object> props)
     {
+        this.httpServiceProps.clear();
+        this.httpServiceProps.putAll(props);
+
+        if ( this.httpServiceProps.get(HttpServiceRuntimeConstants.HTTP_SERVICE_ENDPOINT) != null )
+        {
+            this.httpServiceProps.put(OBSOLETE_REG_PROPERTY_ENDPOINTS,
+                    this.httpServiceProps.get(HttpServiceRuntimeConstants.HTTP_SERVICE_ENDPOINT));
+        }
+
         this.context = context;
         this.contextAttributeListenerManager.open();
         this.requestListenerManager.open();
@@ -133,6 +144,8 @@ public final class HttpServiceFactory
         this.requestAttributeListenerManager.close();
         this.sessionListenerManager.close();
         this.sessionAttributeListenerManager.close();
+
+        this.httpServiceProps.clear();
     }
 
     @Override
@@ -193,23 +206,6 @@ public final class HttpServiceFactory
         return (Long) this.httpServiceReg.getReference().getProperty(Constants.SERVICE_ID);
     }
 
-    public void setProperties(final Hashtable<String, Object> props)
-    {
-        this.httpServiceProps.clear();
-        this.httpServiceProps.putAll(props);
-
-        if ( this.httpServiceProps.get(HttpServiceRuntimeConstants.HTTP_SERVICE_ENDPOINT) != null )
-        {
-            this.httpServiceProps.put(OBSOLETE_REG_PROPERTY_ENDPOINTS,
-                    this.httpServiceProps.get(HttpServiceRuntimeConstants.HTTP_SERVICE_ENDPOINT));
-        }
-
-        if (this.httpServiceReg != null)
-        {
-            this.httpServiceReg.setProperties(this.httpServiceProps);
-        }
-    }
-
     private boolean getBoolean(final String property)
     {
         String prop = this.bundleContext.getProperty(property);
diff --git a/http/base/src/main/java/org/apache/felix/http/base/internal/whiteboard/WhiteboardManager.java b/http/base/src/main/java/org/apache/felix/http/base/internal/whiteboard/WhiteboardManager.java
index 47662a8c73..3931e722a9 100644
--- a/http/base/src/main/java/org/apache/felix/http/base/internal/whiteboard/WhiteboardManager.java
+++ b/http/base/src/main/java/org/apache/felix/http/base/internal/whiteboard/WhiteboardManager.java
@@ -138,8 +138,11 @@ public final class WhiteboardManager
      * Start the whiteboard manager
      * @param containerContext The servlet context
      */
-    public void start(final ServletContext containerContext)
+    public void start(final ServletContext containerContext, @Nonnull final Dictionary<String, Object> httpServiceProps)
     {
+        // runtime service gets the same props for now
+        this.serviceRuntime.setAllAttributes(httpServiceProps);
+
         this.serviceRuntime.setAttribute(HttpServiceRuntimeConstants.HTTP_SERVICE_ID,
                 Collections.singletonList(this.httpServiceFactory.getHttpServiceServiceId()));
         this.runtimeServiceReg = this.httpBundleContext.registerService(HttpServiceRuntime.class,
@@ -240,19 +243,6 @@ public final class WhiteboardManager
         this.webContext = null;
     }
 
-    public void setProperties(final Hashtable<String, Object> props)
-    {
-        // runtime service gets the same props for now
-        this.serviceRuntime.setAllAttributes(props);
-
-        if (this.runtimeServiceReg != null)
-        {
-            this.serviceRuntime.setAttribute(HttpServiceRuntimeConstants.HTTP_SERVICE_ID,
-                    Collections.singletonList(this.httpServiceFactory.getHttpServiceServiceId()));
-            this.runtimeServiceReg.setProperties(this.serviceRuntime.getAttributes());
-        }
-    }
-
     public void sessionDestroyed(@Nonnull final HttpSession session, final Set<Long> contextIds)
     {
         for(final Long contextId : contextIds)
diff --git a/http/base/src/test/java/org/apache/felix/http/base/internal/service/HttpServiceFactoryTest.java b/http/base/src/test/java/org/apache/felix/http/base/internal/service/HttpServiceFactoryTest.java
index a2a66fa83e..0b539c4793 100644
--- a/http/base/src/test/java/org/apache/felix/http/base/internal/service/HttpServiceFactoryTest.java
+++ b/http/base/src/test/java/org/apache/felix/http/base/internal/service/HttpServiceFactoryTest.java
@@ -18,6 +18,8 @@
  */
 package org.apache.felix.http.base.internal.service;
 
+import java.util.Hashtable;
+
 import javax.servlet.ServletContext;
 
 import org.apache.felix.http.base.internal.registry.HandlerRegistry;
@@ -48,7 +50,7 @@ public class HttpServiceFactoryTest {
                 hsf.getService(Mockito.mock(Bundle.class), null));
 
         ServletContext sctx = Mockito.mock(ServletContext.class);
-        hsf.start(sctx);
+        hsf.start(sctx, new Hashtable<String, Object>());
         HttpService svc = hsf.getService(Mockito.mock(Bundle.class), null);
         Assert.assertNotNull(svc);
 
diff --git a/http/jetty/src/main/java/org/apache/felix/http/jetty/internal/JettyService.java b/http/jetty/src/main/java/org/apache/felix/http/jetty/internal/JettyService.java
index be63e45e7a..9cf0717a4f 100644
--- a/http/jetty/src/main/java/org/apache/felix/http/jetty/internal/JettyService.java
+++ b/http/jetty/src/main/java/org/apache/felix/http/jetty/internal/JettyService.java
@@ -176,7 +176,7 @@ public final class JettyService extends AbstractLifeCycle.AbstractLifeCycleListe
         }
     }
 
-    private void publishServiceProperties()
+    private Hashtable<String, Object> getServiceProperties()
     {
         Hashtable<String, Object> props = new Hashtable<String, Object>();
         // Add some important configuration properties...
@@ -184,7 +184,7 @@ public final class JettyService extends AbstractLifeCycle.AbstractLifeCycleListe
         addEndpointProperties(props, null);
 
         // propagate the new service properties to the actual HTTP service...
-        this.controller.setProperties(props);
+        return props;
     }
 
     public void updated(Dictionary props)
@@ -219,13 +219,13 @@ public final class JettyService extends AbstractLifeCycle.AbstractLifeCycleListe
                 this.connectorTracker.close();
                 this.connectorTracker = null;
             }
-            
+
             if (this.loadBalancerCustomizerTracker != null)
             {
                 this.loadBalancerCustomizerTracker.close();
                 this.loadBalancerCustomizerTracker = null;
-            } 
-            
+            }
+
             try
             {
                 this.server.stop();
@@ -284,13 +284,13 @@ public final class JettyService extends AbstractLifeCycle.AbstractLifeCycleListe
             this.server.setHandler(this.parent);
             this.server.start();
 
-            if (this.config.isProxyLoadBalancerConnection()) 
+            if (this.config.isProxyLoadBalancerConnection())
             {
                 customizerWrapper = new CustomizerWrapper();
                 this.loadBalancerCustomizerTracker = new LoadBalancerCustomizerFactoryTracker(this.context, customizerWrapper);
                 this.loadBalancerCustomizerTracker.open();
             }
-            
+
             final StringBuilder message = new StringBuilder("Started Jetty ").append(version).append(" at port(s)");
             if (this.config.isUseHttp() && initializeHttp())
             {
@@ -304,7 +304,7 @@ public final class JettyService extends AbstractLifeCycle.AbstractLifeCycleListe
 
             this.connectorTracker = new ConnectorFactoryTracker(this.context, this.server);
             this.connectorTracker.open();
-            
+
             if (this.server.getConnectors() != null && this.server.getConnectors().length > 0)
             {
                 message.append(" on context path ").append(this.config.getContextPath());
@@ -325,10 +325,11 @@ public final class JettyService extends AbstractLifeCycle.AbstractLifeCycleListe
                 message.append("]");
 
                 SystemLogger.info(message.toString());
-                publishServiceProperties();
+                this.controller.register(context.getServletContext(), getServiceProperties());
             }
             else
             {
+                this.controller.unregister();
                 this.stopJetty();
                 SystemLogger.error("Jetty stopped (no connectors available)", null);
             }
@@ -369,7 +370,7 @@ public final class JettyService extends AbstractLifeCycle.AbstractLifeCycleListe
 
         configureConnector(connector, this.config.getHttpPort());
 
-        if (this.config.isProxyLoadBalancerConnection()) 
+        if (this.config.isProxyLoadBalancerConnection())
         {
             connFactory.getHttpConfiguration().addCustomizer(customizerWrapper);
         }
@@ -395,11 +396,11 @@ public final class JettyService extends AbstractLifeCycle.AbstractLifeCycleListe
         HttpConfiguration httpConfiguration = connFactory.getHttpConfiguration();
         httpConfiguration.addCustomizer(new SecureRequestCustomizer());
 
-        if (this.config.isProxyLoadBalancerConnection()) 
+        if (this.config.isProxyLoadBalancerConnection())
         {
             httpConfiguration.addCustomizer(customizerWrapper);
         }
-        
+
         configureConnector(connector, this.config.getHttpsPort());
         return startConnector(connector);
     }
diff --git a/http/jetty/src/test/java/org/apache/felix/http/jetty/internal/JettyServiceTest.java b/http/jetty/src/test/java/org/apache/felix/http/jetty/internal/JettyServiceTest.java
index b5a594e2de..204db839d9 100644
--- a/http/jetty/src/test/java/org/apache/felix/http/jetty/internal/JettyServiceTest.java
+++ b/http/jetty/src/test/java/org/apache/felix/http/jetty/internal/JettyServiceTest.java
@@ -110,7 +110,7 @@ public class JettyServiceTest
                 Matchers.any(Dictionary.class))).thenReturn(reg);
 
         httpServiceController = new HttpServiceController(mockBundleContext);
-        dispatcherServlet = new DispatcherServlet(httpServiceController);
+        dispatcherServlet = new DispatcherServlet(httpServiceController.getDispatcher());
         jettyService = new JettyService(mockBundleContext, dispatcherServlet, mockEventDispatcher, httpServiceController);
 
         jettyService.start();
