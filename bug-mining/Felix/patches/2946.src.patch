diff --git a/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/bnd.bnd b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/bnd.bnd
index a1b2e59878..7d29099dfb 100644
--- a/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/bnd.bnd
+++ b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/bnd.bnd
@@ -30,14 +30,12 @@
 	org.apache.felix.dependencymanager.lambda;version=latest,\
 	biz.aQute.junit;version=1.3.0,\
 	org.apache.felix.gogo.runtime;version=1.0.6
+	
 -runee: JavaSE-1.8
 -runfw: org.apache.felix.framework;version='[5.2.0,5.2.0]'
 -runvm: -ea
 Bundle-Version: 0.0.0.${tstamp}
-Private-Package:  \
-	org.apache.felix.dm.lambda.itest
-Test-Cases:  \
-	${classes;CONCRETE;EXTENDS;junit.framework.TestCase}
+Test-Cases:  ${classes;CONCRETE;EXTENDS;junit.framework.TestCase}
 javac.source:          1.8
 javac.target:          1.8
 -tester: biz.aQute.junit
@@ -54,3 +52,4 @@ javac.target:          1.8
 -releaserepo: 
 -baseline: 
 
+-sub: *.bnd
\ No newline at end of file
diff --git a/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/lifecycle.bnd b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/lifecycle.bnd
new file mode 100644
index 0000000000..9347ea60e1
--- /dev/null
+++ b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/lifecycle.bnd
@@ -0,0 +1,18 @@
+#
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#      http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+#
+Export-Package: org.apache.felix.dm.lambda.itest.lifecycle
+Bundle-Activator: org.apache.felix.dm.lambda.itest.lifecycle.Activator
\ No newline at end of file
diff --git a/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/StopCallbackTest.java b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/StopCallbackTest.java
new file mode 100644
index 0000000000..ad53911169
--- /dev/null
+++ b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/StopCallbackTest.java
@@ -0,0 +1,54 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.felix.dm.lambda.itest;
+
+import static org.apache.felix.dm.lambda.DependencyManagerActivator.component;
+
+import org.apache.felix.dm.DependencyManager;
+import org.apache.felix.dm.lambda.itest.lifecycle.SimpleComponent;
+import org.osgi.framework.BundleContext;
+import org.osgi.framework.FrameworkUtil;
+
+/**
+ * Checks if a component is stopped when its bundle is stopped.
+ * see FELIX-5768
+ */
+public class StopCallbackTest extends TestBase {
+    private final Ensure m_ensure = new Ensure();
+    
+    public void testStopCalledWhenBundleIsStopped() throws Exception {
+        final DependencyManager dm = getDM();
+
+        // Register the Ensure object in the osgi registry (the SimpleComponent depends on it).
+        component(dm, comp -> comp.impl(m_ensure).provides(Ensure.class).properties("name", SimpleComponent.class.getName()));
+                        		
+        // Make sure the SimpleComponent has been started
+        m_ensure.waitForStep(1, 5000);
+        
+        // Now, stop the bundle which contains the SimpleComponent
+        BundleContext bc = FrameworkUtil.getBundle(SimpleComponent.class).getBundleContext();
+        bc.getBundle().stop();
+        
+        // Make sure the SimpleComponent has been stopped
+        m_ensure.waitForStep(2, 5000);
+               
+        // Remove our Ensure component
+        dm.clear();        
+    }    
+}
diff --git a/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/lifecycle/Activator.java b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/lifecycle/Activator.java
new file mode 100644
index 0000000000..49c4e39110
--- /dev/null
+++ b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/lifecycle/Activator.java
@@ -0,0 +1,38 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.felix.dm.lambda.itest.lifecycle;
+
+import org.apache.felix.dm.DependencyManager;
+import org.apache.felix.dm.lambda.DependencyManagerActivator;
+import org.apache.felix.dm.lambda.itest.Ensure;
+import org.osgi.framework.BundleContext;
+
+/**
+ * Activator for our SimpleComponent.
+ */
+public class Activator extends DependencyManagerActivator {
+
+	@Override
+	protected void init(BundleContext ctx, DependencyManager dm) throws Exception {	
+		component(comp -> comp
+				.impl(SimpleComponent.class)
+				.withSvc(Ensure.class, "(name=" + SimpleComponent.class.getName() + ")", true));		
+	}
+
+}
diff --git a/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/lifecycle/SimpleComponent.java b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/lifecycle/SimpleComponent.java
new file mode 100644
index 0000000000..6e7ed61cff
--- /dev/null
+++ b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/src/org/apache/felix/dm/lambda/itest/lifecycle/SimpleComponent.java
@@ -0,0 +1,36 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.felix.dm.lambda.itest.lifecycle;
+
+import org.apache.felix.dm.lambda.itest.Ensure;
+
+/**
+ * Checks if component start/stop method are properly called when the bundle is started / stopped.
+ */
+public class SimpleComponent { 
+    volatile Ensure m_ensure;
+                
+    void start() {
+        m_ensure.step(1);
+    }
+    
+    void stop() {
+        m_ensure.step(2);
+    }    
+}
diff --git a/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/tests.bnd b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/tests.bnd
new file mode 100644
index 0000000000..f27837d086
--- /dev/null
+++ b/dependencymanager/org.apache.felix.dependencymanager.lambda.itest/tests.bnd
@@ -0,0 +1,18 @@
+#
+# Licensed to the Apache Software Foundation (ASF) under one or more
+# contributor license agreements.  See the NOTICE file distributed with
+# this work for additional information regarding copyright ownership.
+# The ASF licenses this file to You under the Apache License, Version 2.0
+# (the "License"); you may not use this file except in compliance with
+# the License.  You may obtain a copy of the License at
+#
+#      http://www.apache.org/licenses/LICENSE-2.0
+#
+# Unless required by applicable law or agreed to in writing, software
+# distributed under the License is distributed on an "AS IS" BASIS,
+# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+# See the License for the specific language governing permissions and
+# limitations under the License.
+#
+Export-Package:  \
+	org.apache.felix.dm.lambda.itest
