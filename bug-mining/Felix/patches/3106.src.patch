diff --git a/configadmin/changelog.txt b/configadmin/changelog.txt
index 586bc7e4e8..598e556f1a 100644
--- a/configadmin/changelog.txt
+++ b/configadmin/changelog.txt
@@ -1,3 +1,9 @@
+Changes in 1.9.18
+-----------------
+** Bug
+    * [FELIX-6162] : ConfigurationManager crashes on shutdown if PersistenceManager not yet available
+
+
 Changes in 1.9.16
 -----------------
 ** New Feature
diff --git a/configadmin/src/main/java/org/apache/felix/cm/impl/ConfigurationManager.java b/configadmin/src/main/java/org/apache/felix/cm/impl/ConfigurationManager.java
index 726f74f6eb..f6e3ba7bdb 100644
--- a/configadmin/src/main/java/org/apache/felix/cm/impl/ConfigurationManager.java
+++ b/configadmin/src/main/java/org/apache/felix/cm/impl/ConfigurationManager.java
@@ -219,8 +219,12 @@ public class ConfigurationManager implements BundleListener
         handleBundleEvents = false;
 
         // stop handling ManagedService[Factory] services
-        managedServiceFactoryTracker.close();
-        managedServiceTracker.close();
+        if (managedServiceFactoryTracker != null) {
+            managedServiceFactoryTracker.close();
+        }
+        if (managedServiceTracker != null) {
+            managedServiceTracker.close();
+        }
 
         // stop queue processing before unregistering the service
         // see FELIX-2813 for details
