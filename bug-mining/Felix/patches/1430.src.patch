diff --git a/ipojo/ant/pom.xml b/ipojo/ant/pom.xml
index 59c440edb8..969d66f3f7 100644
--- a/ipojo/ant/pom.xml
+++ b/ipojo/ant/pom.xml
@@ -74,7 +74,7 @@
             <Bundle-Description> iPOJO Ant Task </Bundle-Description>
             <Bundle-DocURL>http://felix.apache.org/site/ipojo-ant-task.html</Bundle-DocURL>
             <Private-Package> org.apache.felix.ipojo.metadata,
-              org.apache.felix.ipojo.manipulator,
+              org.apache.felix.ipojo.manipulator*,
               org.apache.felix.ipojo.xml.parser,
               org.apache.felix.ipojo.manipulation*,
               org.objectweb.asm.util;-split-package:=merge-first,
diff --git a/ipojo/manipulator/src/main/java/org/apache/felix/ipojo/manipulation/Manipulator.java b/ipojo/manipulator/src/main/java/org/apache/felix/ipojo/manipulation/Manipulator.java
index f7113f41f0..395a5d9f2b 100644
--- a/ipojo/manipulator/src/main/java/org/apache/felix/ipojo/manipulation/Manipulator.java
+++ b/ipojo/manipulator/src/main/java/org/apache/felix/ipojo/manipulation/Manipulator.java
@@ -94,7 +94,7 @@ public class Manipulator {
             // Instrument all fields
             InputStream is2 = new ByteArrayInputStream(origin);
             ClassReader cr0 = new ClassReader(is2);
-            ClassWriter cw0 = new ClassWriter(ClassWriter.COMPUTE_MAXS);
+            ClassWriter cw0 = new ClassWriter(ClassWriter.COMPUTE_MAXS  | ClassWriter.COMPUTE_FRAMES);
             //CheckClassAdapter ch = new CheckClassAdapter(cw0);
             MethodCreator preprocess = new MethodCreator(cw0, m_fields, m_methods);
             cr0.accept(preprocess, ClassReader.SKIP_FRAMES);
