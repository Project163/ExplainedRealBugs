diff --git a/sigil/eclipse/core/src/org/apache/felix/sigil/eclipse/internal/builders/SigilIncrementalProjectBuilder.java b/sigil/eclipse/core/src/org/apache/felix/sigil/eclipse/internal/builders/SigilIncrementalProjectBuilder.java
index c521e070c0..d2b2fa9d28 100644
--- a/sigil/eclipse/core/src/org/apache/felix/sigil/eclipse/internal/builders/SigilIncrementalProjectBuilder.java
+++ b/sigil/eclipse/core/src/org/apache/felix/sigil/eclipse/internal/builders/SigilIncrementalProjectBuilder.java
@@ -275,11 +275,10 @@ public class SigilIncrementalProjectBuilder extends IncrementalProjectBuilder {
 		case IClasspathEntry.CPE_LIBRARY: {
 			IPath p = cp.getPath();
 			
-			IPath ppath = sigil.getProject().getFullPath();
-			
-			if ( ppath.isPrefixOf(p) ) {
-				p = sigil.getProject().getLocation().append( p.removeFirstSegments(1) );
-			}
+			IProject project = sigil.getProject().getWorkspace().getRoot().getProject(p.segment(0));
+			if ( project.exists() ) {
+				p = project.getLocation().append( p.removeFirstSegments(1) );
+			}				
 			
 			files.add( p.toFile() );
 			break;
