diff --git a/bundleplugin/src/main/java/org/apache/felix/bundleplugin/ManifestPlugin.java b/bundleplugin/src/main/java/org/apache/felix/bundleplugin/ManifestPlugin.java
index 41e8780379..bdba88540a 100644
--- a/bundleplugin/src/main/java/org/apache/felix/bundleplugin/ManifestPlugin.java
+++ b/bundleplugin/src/main/java/org/apache/felix/bundleplugin/ManifestPlugin.java
@@ -111,9 +111,12 @@ public class ManifestPlugin
 
         if ( project.getArtifact().getFile() == null )
         {
-            throw new NullPointerException( "Artifact file is null" );
+            analyzer.setJar( getOutputDirectory() );
+        }
+        else
+        {
+            analyzer.setJar( project.getArtifact().getFile() );
         }
-        analyzer.setJar( project.getArtifact().getFile() );
 
         if ( classpath != null )
             analyzer.setClasspath( classpath );
