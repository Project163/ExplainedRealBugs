diff --git a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/Expander.java b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/Expander.java
index fd9c71ae57..f3015c2881 100644
--- a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/Expander.java
+++ b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/Expander.java
@@ -857,6 +857,7 @@ public class Expander extends BaseTokenizer
                     case '8':
                     case '9':
                         ch = 0;
+                        i--;
                         for (int j = 0; j < 3; j++)
                         {
                             c = i < arg.length() - 1 ? arg.charAt(++i) : -1;
diff --git a/gogo/runtime/src/test/java/org/apache/felix/gogo/runtime/ExpanderTest.java b/gogo/runtime/src/test/java/org/apache/felix/gogo/runtime/ExpanderTest.java
index 614a738d3c..0624651345 100644
--- a/gogo/runtime/src/test/java/org/apache/felix/gogo/runtime/ExpanderTest.java
+++ b/gogo/runtime/src/test/java/org/apache/felix/gogo/runtime/ExpanderTest.java
@@ -31,6 +31,33 @@ import static org.junit.Assert.assertNotNull;
 
 public class ExpanderTest {
 
+    @Test
+    public void testOctalAndHex() throws Exception {
+        Evaluate evaluate = new Evaluate() {
+            @Override
+            public Object eval(Token t) throws Exception {
+                return null;
+            }
+            @Override
+            public Object get(String key) {
+                return null;
+            }
+            @Override
+            public Object put(String key, Object value) {
+                return null;
+            }
+            @Override
+            public Object expr(Token t) {
+                return null;
+            }
+            @Override
+            public Path currentDir() {
+                return null;
+            }
+        };
+        assertEquals("\033\033", Expander.expand("$'\\033\\u001B'", evaluate));
+    }
+
     @Test
     public void testGenerateFiles() throws IOException {
         final Path testdir = Paths.get(".").toAbsolutePath().resolve("target/testdir").normalize();
