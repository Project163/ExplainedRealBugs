diff --git a/osgi-r7/scr/src/main/java/org/apache/felix/scr/impl/inject/Annotations.java b/osgi-r7/scr/src/main/java/org/apache/felix/scr/impl/inject/Annotations.java
index 6c13f55838..5f2380f97c 100644
--- a/osgi-r7/scr/src/main/java/org/apache/felix/scr/impl/inject/Annotations.java
+++ b/osgi-r7/scr/src/main/java/org/apache/felix/scr/impl/inject/Annotations.java
@@ -234,7 +234,7 @@ public class Annotations
             }
         }
 
-        InvocationHandler h = new Handler(m);
+        final InvocationHandler h = new Handler(m, clazz);
         return (T) Proxy.newProxyInstance(clazz.getClassLoader(), new Class<?>[] { clazz }, h);
     }
 
@@ -362,9 +362,12 @@ public class Annotations
     {
         private final Map<String, Object> values;
 
-        public Handler(Map<String, Object> values)
+        private final Class<?> type;
+
+        public Handler(final Map<String, Object> values, final Class<?> type)
         {
             this.values = values;
+            this.type = type;
         }
 
         @Override
@@ -375,9 +378,54 @@ public class Annotations
             {
                 throw new ComponentException(((Invalid)value).getMessage());
             }
+            if ( value == null )
+            {
+                // check for methods of the Annotations class like hashCode, toString, equals etc.
+                if (method.getName().equals("hashCode") &&
+                    method.getParameterTypes().length == 0 )
+                {
+                    int hashCode = 0;
+                    for (final Map.Entry<String, Object> entry : values.entrySet()) {
+                        if (value instanceof Invalid) {
+                            continue;
+                        }
+                        hashCode += (127 * entry.getKey().hashCode()) ^ entry.getValue().hashCode();
+                    }
+                    value = hashCode;
+                }
+                else if (method.getName().equals("equals")
+                         && method.getParameterTypes().length == 1)
+                {
+                    final Object other = args[0];
+                    if (proxy == other)
+                    {
+                        value = true;
+                    }
+                    else
+                    {
+                        value = false;
+                        if (type.isInstance(other) && Proxy.isProxyClass(other.getClass()))
+                        {
+                            final InvocationHandler ih = Proxy.getInvocationHandler(other);
+                            if (ih instanceof Handler) {
+                                value = ((Handler)ih).values.equals(values);
+                            }
+                        }
+                    }
+                }
+                else if (method.getName().equals("toString")
+                        && method.getParameterTypes().length == 0 )
+                {
+                    value = type.getName() + " : " + values;
+                }
+                else if (method.getName().equals("annotationType")
+                         && method.getParameterTypes().length == 0 )
+                {
+                    value = type;
+                }
+            }
             return value;
         }
-
     }
 
     private final static class Invalid
diff --git a/osgi-r7/scr/src/main/java/org/apache/felix/scr/impl/manager/ComponentContextImpl.java b/osgi-r7/scr/src/main/java/org/apache/felix/scr/impl/manager/ComponentContextImpl.java
index d5eccf6d2b..ec205d3bf2 100644
--- a/osgi-r7/scr/src/main/java/org/apache/felix/scr/impl/manager/ComponentContextImpl.java
+++ b/osgi-r7/scr/src/main/java/org/apache/felix/scr/impl/manager/ComponentContextImpl.java
@@ -65,7 +65,7 @@ public class ComponentContextImpl<S> implements ExtComponentContext {
     private final ComponentServiceObjectsHelper serviceObjectsHelper;
 
     /** Mapping of ref pairs to value bound */
-    private final Map<String, Map<RefPair<?, ?>, Object>> boundValues = new HashMap<String, Map<RefPair<?,?>,Object>>();
+    private Map<String, Map<RefPair<?, ?>, Object>> boundValues;
 
 
 
@@ -140,6 +140,7 @@ public class ComponentContextImpl<S> implements ExtComponentContext {
     }
 
 
+    @SuppressWarnings("unchecked")
     @Override
     public Object locateService( String name )
     {
@@ -156,6 +157,7 @@ public class ComponentContextImpl<S> implements ExtComponentContext {
     }
 
 
+    @SuppressWarnings({ "unchecked", "rawtypes" })
     @Override
     public Object locateService( String name, ServiceReference ref )
     {
@@ -206,6 +208,7 @@ public class ComponentContextImpl<S> implements ExtComponentContext {
         return m_componentManager;
     }
 
+    @SuppressWarnings("unchecked")
     @Override
     public ComponentInstance<S> getComponentInstance()
     {
@@ -309,8 +312,12 @@ public class ComponentContextImpl<S> implements ExtComponentContext {
 
     }
 
-    public Map<RefPair<?, ?>, Object> getBoundValues(final String key)
+    public synchronized Map<RefPair<?, ?>, Object> getBoundValues(final String key)
     {
+        if ( this.boundValues == null )
+        {
+            this.boundValues = new HashMap<String, Map<RefPair<?,?>,Object>>();
+        }
         Map<RefPair<?, ?>, Object> map = this.boundValues.get(key);
         if ( map == null )
         {
@@ -323,14 +330,14 @@ public class ComponentContextImpl<S> implements ExtComponentContext {
     private Map<RefPair<?, ?>, Object> createNewFieldHandlerMap()
     {
         return new TreeMap<RefPair<?,?>, Object>(
-                new Comparator<RefPair<?, ?>>()
-                {
+            new Comparator<RefPair<?, ?>>()
+            {
 
-                    @Override
-                    public int compare(final RefPair<?, ?> o1, final RefPair<?, ?> o2)
-                    {
-                        return o1.getRef().compareTo(o2.getRef());
-                    }
-                });
+                @Override
+                public int compare(final RefPair<?, ?> o1, final RefPair<?, ?> o2)
+                {
+                    return o1.getRef().compareTo(o2.getRef());
+                }
+            });
     }
 }
