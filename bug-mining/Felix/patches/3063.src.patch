diff --git a/gogo/jline/src/main/java/org/apache/felix/gogo/jline/Posix.java b/gogo/jline/src/main/java/org/apache/felix/gogo/jline/Posix.java
index 5a34e0e37f..ed170d1a43 100644
--- a/gogo/jline/src/main/java/org/apache/felix/gogo/jline/Posix.java
+++ b/gogo/jline/src/main/java/org/apache/felix/gogo/jline/Posix.java
@@ -390,9 +390,6 @@ public class Posix {
         boolean displayWords = opt.isSet("words");
         boolean displayChars = opt.isSet("chars");
         boolean displayBytes = opt.isSet("bytes");
-        if (displayChars) {
-            displayBytes = false;
-        }
         if (!displayLines && !displayWords && !displayChars && !displayBytes) {
             displayLines = true;
             displayWords = true;
@@ -400,18 +397,36 @@ public class Posix {
         }
         String format = "";
         if (displayLines) {
-            format += "%1$8d";
+            if (!displayBytes && !displayChars && !displayWords) {
+                format = "%1$d";
+            } else {
+                format += "%1$8d";
+            }
         }
         if (displayWords) {
-            format += "%2$8d";
+            if (!displayLines && !displayBytes && !displayChars) {
+                format = "%2$d";
+            } else {
+                format += "%2$8d";
+            }
         }
         if (displayChars) {
-            format += "%3$8d";
+            if (!displayLines && !displayBytes && !displayWords) {
+                format = "%3$d";
+            } else {
+                format += "%3$8d";
+            }
         }
         if (displayBytes) {
-            format += "%4$8d";
+            if (!displayLines && !displayChars && !displayWords) {
+                format = "%4$d";
+            } else {
+                format += "%4$8d";
+            }
+        }
+        if (sources.size() > 1 || (sources.size() == 1 && sources.get(0).getName() != null)) {
+            format += "  %5$8s";
         }
-        format += "  %5s";
         int totalLines = 0;
         int totalBytes = 0;
         int totalChars = 0;
diff --git a/gogo/jline/src/test/java/org/apache/felix/gogo/jline/PosixTest.java b/gogo/jline/src/test/java/org/apache/felix/gogo/jline/PosixTest.java
index 60c7178611..7317283a58 100644
--- a/gogo/jline/src/test/java/org/apache/felix/gogo/jline/PosixTest.java
+++ b/gogo/jline/src/test/java/org/apache/felix/gogo/jline/PosixTest.java
@@ -43,19 +43,62 @@ public class PosixTest extends AbstractParserTest {
     @Test
     public void testLsDotDot() throws Exception {
         Context context = new Context();
-        context.addCommand("ls",  new Posix(context));
+        context.addCommand("ls", new Posix(context));
         context.addCommand("tac", this);
-        
+
         String current = (String) context.execute("ls -1 --color=never . | tac");
-        assertTrue(current.indexOf("..") >=0);        		
-        assertTrue(current.indexOf(".") >=0);        		
-        		
+        assertTrue(current.indexOf("..") >= 0);
+        assertTrue(current.indexOf(".") >= 0);
+
         String parent = (String) context.execute("ls -1 --color=never .. | tac");
-        assertTrue(parent.indexOf("..") >=0);        		
-        assertTrue(parent.indexOf(".") >=0);
-        
+        assertTrue(parent.indexOf("..") >= 0);
+        assertTrue(parent.indexOf(".") >= 0);
+
         assertNotEquals(current, parent);
+    }
+
+    @Test
+    public void testWcLines() throws Exception {
+        Context context = new Context();
+        context.addCommand("echo", new Posix(context));
+        context.addCommand("wc", new Posix(context));
+        context.addCommand("tac", this);
+
+        Object res = context.execute("echo \"test\" | wc -l | tac");
+        assertEquals("1", res);
+    }
+
+    @Test
+    public void testWcBytes() throws Exception {
+        Context context = new Context();
+        context.addCommand("echo", new Posix(context));
+        context.addCommand("wc", new Posix(context));
+        context.addCommand("tac", this);
+
+        Object res = context.execute("echo \"test\" | wc -c | tac");
+        assertEquals("5", res);
+    }
+
+    @Test
+    public void testWcLinesBytes() throws Exception {
+        Context context = new Context();
+        context.addCommand("echo", new Posix(context));
+        context.addCommand("wc", new Posix(context));
+        context.addCommand("tac", this);
+
+        Object res = context.execute("echo \"test\" | wc -l -c | tac");
+        assertEquals("       1       5", res);
+    }
+
+    @Test
+    public void testWcLinesBytesChar() throws Exception {
+        Context context = new Context();
+        context.addCommand("echo", new Posix(context));
+        context.addCommand("wc", new Posix(context));
+        context.addCommand("tac", this);
 
+        Object res = context.execute("echo \"test\" | wc -l -c -m | tac");
+        assertEquals("       1       5       5", res);
     }
 
     public String tac() throws IOException {
