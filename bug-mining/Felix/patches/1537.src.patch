diff --git a/framework/src/main/java/org/apache/felix/framework/BundleImpl.java b/framework/src/main/java/org/apache/felix/framework/BundleImpl.java
index 6dda703ce5..cc91544b89 100644
--- a/framework/src/main/java/org/apache/felix/framework/BundleImpl.java
+++ b/framework/src/main/java/org/apache/felix/framework/BundleImpl.java
@@ -1082,6 +1082,7 @@ class BundleImpl implements Bundle, BundleRevisions
         return (thisBundleId < thatBundleId ? -1 : (thisBundleId == thatBundleId ? 0 : 1));
     }
 
+    @Override
     public String toString()
     {
         String sym = getSymbolicName();
diff --git a/framework/src/main/java/org/apache/felix/framework/BundleRevisionImpl.java b/framework/src/main/java/org/apache/felix/framework/BundleRevisionImpl.java
index 2e52ec3043..f7a075cbc0 100644
--- a/framework/src/main/java/org/apache/felix/framework/BundleRevisionImpl.java
+++ b/framework/src/main/java/org/apache/felix/framework/BundleRevisionImpl.java
@@ -225,7 +225,8 @@ public class BundleRevisionImpl implements BundleRevision
 
     public int getTypes()
     {
-        if (getHeaders().containsKey(Constants.FRAGMENT_HOST))
+        if ((getManifestVersion() == "2")
+            && getHeaders().containsKey(Constants.FRAGMENT_HOST))
         {
             return BundleRevision.TYPE_FRAGMENT;
         }
diff --git a/framework/src/main/java/org/apache/felix/framework/util/manifestparser/ManifestParser.java b/framework/src/main/java/org/apache/felix/framework/util/manifestparser/ManifestParser.java
index 20c31ff514..027b328d40 100644
--- a/framework/src/main/java/org/apache/felix/framework/util/manifestparser/ManifestParser.java
+++ b/framework/src/main/java/org/apache/felix/framework/util/manifestparser/ManifestParser.java
@@ -1363,7 +1363,6 @@ public class ManifestParser
             s = (s == null) ? (String) headerMap.get(Constants.BUNDLE_NAME) : s;
             s = (s == null) ? headerMap.toString() : s;
             logger.log(
-                owner.getBundle(),
                 Logger.LOG_WARNING,
                 "Only R4 bundles can be fragments: " + s);
         }
