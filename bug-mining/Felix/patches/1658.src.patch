diff --git a/scr/src/main/java/org/apache/felix/scr/impl/manager/AbstractComponentManager.java b/scr/src/main/java/org/apache/felix/scr/impl/manager/AbstractComponentManager.java
index 80cd8f0f60..f773a20124 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/manager/AbstractComponentManager.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/manager/AbstractComponentManager.java
@@ -856,6 +856,11 @@ public abstract class AbstractComponentManager implements Component, SimpleLogge
         return m_dependencies_map.compareAndSet( old, newDeps );
     }
 
+    protected void unsetDependencyMap()
+    {
+        m_dependencies_map.set( null );
+    }
+
     private void returnServices( Map deps )
     {
          for (Iterator it = deps.values().iterator(); it.hasNext(); )
@@ -1385,7 +1390,7 @@ public abstract class AbstractComponentManager implements Component, SimpleLogge
                 {
                     acm.deleteComponent( reason );
                     acm.deactivateDependencyManagers();
-                    acm.m_dependencies_map.set( null );
+                    acm.unsetDependencyMap();
                 }
                 finally
                 {
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/manager/ImmediateComponentManager.java b/scr/src/main/java/org/apache/felix/scr/impl/manager/ImmediateComponentManager.java
index 543de5c331..165ffbc7d2 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/manager/ImmediateComponentManager.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/manager/ImmediateComponentManager.java
@@ -692,6 +692,7 @@ public class ImmediateComponentManager extends AbstractComponentManager implemen
                         if ( m_useCount == 0 )
                         {
                             state().ungetService( this );
+                            unsetDependencyMap();
                         }
                     }
                     finally
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/manager/ServiceFactoryComponentManager.java b/scr/src/main/java/org/apache/felix/scr/impl/manager/ServiceFactoryComponentManager.java
index 266624962e..0c39e39ae6 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/manager/ServiceFactoryComponentManager.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/manager/ServiceFactoryComponentManager.java
@@ -186,6 +186,7 @@ public class ServiceFactoryComponentManager extends ImmediateComponentManager
             if ( serviceContexts.isEmpty() && getState() == STATE_ACTIVE )
             {
                 changeState( Registered.getInstance() );
+                unsetDependencyMap();
             }
         }
         finally
