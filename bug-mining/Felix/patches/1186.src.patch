diff --git a/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/tags/qdox/QDoxJavaTag.java b/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/tags/qdox/QDoxJavaTag.java
index f416cd85ad..91eaac2f83 100644
--- a/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/tags/qdox/QDoxJavaTag.java
+++ b/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/tags/qdox/QDoxJavaTag.java
@@ -71,7 +71,10 @@ public class QDoxJavaTag implements JavaTag {
      * @see org.apache.felix.scrplugin.tags.JavaTag#getSourceLocation()
      */
     public String getSourceLocation() {
-        return String.valueOf(this.docletTag.getContext().getParent().getParentSource().getURL());
+        if ( this.docletTag.getContext().getParent() != null ) {
+            return String.valueOf(this.docletTag.getContext().getParent().getParentSource().getURL());
+        }
+        return String.valueOf(this.docletTag.getContext().getParentClass().getSource().getURL());
     }
 
     /**
