diff --git a/bundlerepository/src/main/java/org/apache/felix/bundlerepository/LocalRepositoryImpl.java b/bundlerepository/src/main/java/org/apache/felix/bundlerepository/LocalRepositoryImpl.java
index 6c3eee3270..8dad29b4df 100644
--- a/bundlerepository/src/main/java/org/apache/felix/bundlerepository/LocalRepositoryImpl.java
+++ b/bundlerepository/src/main/java/org/apache/felix/bundlerepository/LocalRepositoryImpl.java
@@ -291,7 +291,13 @@ public class LocalRepositoryImpl implements Repository, SynchronousBundleListene
                 String key = (String) keys.nextElement();
                 if (key.equalsIgnoreCase(Constants.BUNDLE_SYMBOLICNAME))
                 {
-                    put(Resource.SYMBOLIC_NAME, (String) dict.get(key));
+                    String sn = (String) dict.get(key);
+                    sn = sn.trim();
+                    int index = sn.indexOf(";singleton:=true");
+                    if (index != -1) {
+                        sn = sn.substring(0, index);
+                    }
+                    put(Resource.SYMBOLIC_NAME, sn);    
                 }
                 else if (key.equalsIgnoreCase(Constants.BUNDLE_NAME))
                 {
@@ -445,4 +451,4 @@ public class LocalRepositoryImpl implements Repository, SynchronousBundleListene
         }
 
     }
-}
\ No newline at end of file
+}
