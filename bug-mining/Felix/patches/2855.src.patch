diff --git a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/Tokenizer.java b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/Tokenizer.java
index 89ac56b713..ba16fc9b09 100644
--- a/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/Tokenizer.java
+++ b/gogo/runtime/src/main/java/org/apache/felix/gogo/runtime/Tokenizer.java
@@ -239,7 +239,7 @@ public class Tokenizer extends BaseTokenizer
             getch();
         }
         if (ch == EOT) {
-            throw new EOFError(sLine, sCol, "expected here-doc start", "heredoc", "foo");
+            throw new EOFError(sLine, sCol, "expected here-doc start", "heredoc", "foo\n");
         }
         Token token = text.subSequence(start, index - 1);
         getch();
@@ -274,7 +274,7 @@ public class Tokenizer extends BaseTokenizer
             }
             if (ch == EOT)
             {
-                throw new EOFError(sLine, sCol, "unexpected eof found in here-doc", "heredoc", token.toString());
+                throw new EOFError(sLine, sCol, "unexpected eof found in here-doc", "heredoc", "\n" + token.toString() + "\n");
             }
             getch();
         }
diff --git a/gogo/runtime/src/test/java/org/apache/felix/gogo/runtime/TestTokenizer.java b/gogo/runtime/src/test/java/org/apache/felix/gogo/runtime/TestTokenizer.java
index c7dcccc19a..d286978382 100644
--- a/gogo/runtime/src/test/java/org/apache/felix/gogo/runtime/TestTokenizer.java
+++ b/gogo/runtime/src/test/java/org/apache/felix/gogo/runtime/TestTokenizer.java
@@ -545,4 +545,21 @@ public class TestTokenizer
         when(bc.getBundles()).thenReturn(new Bundle[] { systemBundle });
         return bc;
     }
+
+    @Test
+    public void testHereDocMissing() throws Exception {
+        try {
+            new Parser("a <<").statement();
+            fail("Expected exception");
+        } catch (EOFError e) {
+            assertEquals("foo\n", e.repair());
+        }
+        try {
+            new Parser("a << foo\n").statement();
+            fail("Expected exception");
+        } catch (EOFError e) {
+            assertEquals("\nfoo\n", e.repair());
+        }
+        new Parser("a << foo\n \nfoo\n").statement();
+    }
 }
