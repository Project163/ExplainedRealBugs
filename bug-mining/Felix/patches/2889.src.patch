diff --git a/fileinstall/src/test/java/org/apache/felix/fileinstall/internal/ConfigInstallerTest.java b/fileinstall/src/test/java/org/apache/felix/fileinstall/internal/ConfigInstallerTest.java
index 7ba2ea6050..3b7d0541fb 100644
--- a/fileinstall/src/test/java/org/apache/felix/fileinstall/internal/ConfigInstallerTest.java
+++ b/fileinstall/src/test/java/org/apache/felix/fileinstall/internal/ConfigInstallerTest.java
@@ -19,11 +19,15 @@
 package org.apache.felix.fileinstall.internal;
 
 import java.io.File;
+import java.io.FileOutputStream;
+import java.io.OutputStream;
+import java.nio.file.Files;
 import java.util.Dictionary;
 import java.util.Hashtable;
 import java.util.concurrent.atomic.AtomicReference;
 
 import junit.framework.TestCase;
+import org.easymock.Capture;
 import org.easymock.EasyMock;
 import org.easymock.IAnswer;
 import org.easymock.IArgumentMatcher;
@@ -71,6 +75,37 @@ public class ConfigInstallerTest extends TestCase {
         assertEquals( "Pid with Factory Pid calculated", "pid", ci.parsePid( path )[1] );
     }
 
+    public void testTypedConfiguration() throws Exception
+    {
+        File file = File.createTempFile("test", ".config");
+        try (OutputStream os = new FileOutputStream(file)) {
+            os.write("networkInterface=\"wlp3s0\"\n".getBytes("UTF-8"));
+        }
+        String pid = file.getName().substring(0, file.getName().indexOf(".config"));
+
+        Capture<Dictionary<String, Object>> props = new Capture<>();
+        EasyMock.expect(mockConfigurationAdmin.listConfigurations((String) EasyMock.anyObject()))
+                .andReturn(null);
+        EasyMock.expect(mockConfigurationAdmin.getConfiguration(pid, null))
+                .andReturn(mockConfiguration);
+        EasyMock.expect(mockConfiguration.getProperties())
+                .andReturn(null);
+        EasyMock.expect(mockBundleContext.getProperty((String) EasyMock.anyObject()))
+                .andReturn(null)
+                .anyTimes();
+        mockConfiguration.update(EasyMock.capture(props));
+        EasyMock.expectLastCall();
+        EasyMock.replay(mockConfiguration, mockConfigurationAdmin, mockBundleContext);
+
+        ConfigInstaller ci = new ConfigInstaller( mockBundleContext, mockConfigurationAdmin, new FileInstall() );
+        ci.install(file);
+
+        EasyMock.verify(mockConfiguration, mockConfigurationAdmin, mockBundleContext);
+        Dictionary<String, Object> loaded = props.getValue();
+        assertNotNull(loaded);
+        assertEquals("wlp3s0", loaded.get("networkInterface"));
+    }
+
     public void testGetNewFactoryConfiguration() throws Exception
     {
         EasyMock.expect(mockConfigurationAdmin.listConfigurations((String) EasyMock.anyObject()))
