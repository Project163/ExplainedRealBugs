diff --git a/framework/src/main/java/org/apache/felix/framework/BundleRevisionDependencies.java b/framework/src/main/java/org/apache/felix/framework/BundleRevisionDependencies.java
index 9cdb9d8867..195aafa4a9 100644
--- a/framework/src/main/java/org/apache/felix/framework/BundleRevisionDependencies.java
+++ b/framework/src/main/java/org/apache/felix/framework/BundleRevisionDependencies.java
@@ -28,6 +28,7 @@ import java.util.Set;
 import org.apache.felix.framework.util.Util;
 import org.apache.felix.framework.wiring.BundleWireImpl;
 import org.osgi.framework.Bundle;
+import org.osgi.framework.namespace.HostNamespace;
 import org.osgi.framework.wiring.BundleCapability;
 import org.osgi.framework.wiring.BundleRevision;
 import org.osgi.framework.wiring.BundleRevisions;
@@ -170,7 +171,10 @@ class BundleRevisionDependencies
                 {
                     for (BundleWire bw : wiring.getRequiredWires(null))
                     {
-                        result.add(((BundleWireImpl) bw).getProvider().getBundle());
+                        if (HostNamespace.HOST_NAMESPACE.equals(bw.getCapability().getNamespace()))
+                        {
+                            result.add(bw.getProvider().getBundle());
+                        }
                     }
                 }
             }
