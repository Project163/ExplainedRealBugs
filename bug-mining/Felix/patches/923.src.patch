diff --git a/sigil/common/core.tests/src/org/apache/felix/sigil/core/internal/model/osgi/PackageExportTest.java b/sigil/common/core.tests/src/org/apache/felix/sigil/core/internal/model/osgi/PackageExportTest.java
new file mode 100644
index 0000000000..5748841750
--- /dev/null
+++ b/sigil/common/core.tests/src/org/apache/felix/sigil/core/internal/model/osgi/PackageExportTest.java
@@ -0,0 +1,43 @@
+package org.apache.felix.sigil.core.internal.model.osgi;
+
+import org.osgi.framework.Version;
+
+import junit.framework.TestCase;
+
+public class PackageExportTest extends TestCase
+{
+    public PackageExportTest( String name )
+    {
+        super( name );
+    }
+
+    public void testEquals() {
+        PackageExport p1 = new PackageExport();
+        p1.setPackageName("foo");
+        p1.setVersion(Version.parseVersion("1.0.0"));
+        
+        PackageExport p2 = new PackageExport();
+        p2.setPackageName("foo");
+        p2.setVersion(Version.parseVersion("1.0.0"));
+        
+        assertTrue( p1.equals( p2 ) );
+        assertTrue( p2.equals( p1 ) );
+        
+        PackageExport p3 = new PackageExport();
+        p3.setPackageName("foo");
+
+        assertFalse( p1.equals( p3 ) );
+        assertFalse( p3.equals( p1 ) );
+        
+        PackageExport p4 = new PackageExport();
+        p4.setVersion(Version.parseVersion("1.0.0"));
+
+        assertFalse( p1.equals( p4 ) );
+        assertFalse( p4.equals( p1 ) );
+        
+        PackageExport p5 = new PackageExport();
+        assertFalse( p1.equals( p5 ) );
+        assertFalse( p5.equals( p1 ) );
+        
+    }
+}
diff --git a/sigil/common/core/src/org/apache/felix/sigil/core/internal/model/osgi/PackageExport.java b/sigil/common/core/src/org/apache/felix/sigil/core/internal/model/osgi/PackageExport.java
index 4520113db6..1a1942e78b 100644
--- a/sigil/common/core/src/org/apache/felix/sigil/core/internal/model/osgi/PackageExport.java
+++ b/sigil/common/core/src/org/apache/felix/sigil/core/internal/model/osgi/PackageExport.java
@@ -175,8 +175,8 @@ public class PackageExport extends AbstractModelElement implements IPackageExpor
         if ( obj == this ) return true;
         try {
             PackageExport e = (PackageExport) obj;
-            return name == null ? e.name == null : name.equals( e.name ) && 
-                version == null ? e.version == null : version.equals( e.version );
+            return (name == null ? e.name == null : name.equals( e.name )) && 
+                (version == null ? e.version == null : version.equals( e.version ));
         }
         catch (ClassCastException e) {
             return false;
