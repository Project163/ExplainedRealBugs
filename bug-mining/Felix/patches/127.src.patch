diff --git a/framework/src/main/java/org/apache/felix/framework/ExtensionManager.java b/framework/src/main/java/org/apache/felix/framework/ExtensionManager.java
index aafa1d7a3f..78186bcf91 100644
--- a/framework/src/main/java/org/apache/felix/framework/ExtensionManager.java
+++ b/framework/src/main/java/org/apache/felix/framework/ExtensionManager.java
@@ -84,7 +84,7 @@ class ExtensionManager extends URLStreamHandler implements IModuleDefinition, IC
     // The private instance that is added to Felix.class.getClassLoader() -
     // will be null if extension bundles are not supported (i.e., we are not 
     // loaded by an instance of URLClassLoader)
-    private static final ExtensionManager m_extensionManager;
+    static final ExtensionManager m_extensionManager;
     
     static
     {
diff --git a/framework/src/main/java/org/apache/felix/framework/URLHandlers.java b/framework/src/main/java/org/apache/felix/framework/URLHandlers.java
index 9172393220..8d6927901e 100644
--- a/framework/src/main/java/org/apache/felix/framework/URLHandlers.java
+++ b/framework/src/main/java/org/apache/felix/framework/URLHandlers.java
@@ -134,6 +134,22 @@ class URLHandlers implements URLStreamHandlerFactory, ContentHandlerFactory
                 return handler;
             }
 
+            // If this is the framework's "felix:" extension protocol, then
+            // return the ExtensionManager.m_extensionManager handler for 
+            // that immediately - this is a workaround for certain jvms that
+            // do a toString() on the extension url we add to the global
+            // URLClassloader.
+            if (protocol.equals("felix"))
+            {
+                handler = ExtensionManager.m_extensionManager;
+                if (m_streamHandlerCache == null)
+                {
+                    m_streamHandlerCache = new HashMap();
+                }
+                m_streamHandlerCache.put(protocol, handler);
+                return handler;
+            }
+
             // If there is not cached handler, then search for built-in
             // handler or create a new handler proxy.
             if (handler == null)
