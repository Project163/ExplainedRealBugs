diff --git a/tools/org.apache.felix.scr.bnd/src/main/java/org/apache/felix/scrplugin/bnd/SCRDescriptorBndPlugin.java b/tools/org.apache.felix.scr.bnd/src/main/java/org/apache/felix/scrplugin/bnd/SCRDescriptorBndPlugin.java
index 39dded8466..f9691d2bac 100644
--- a/tools/org.apache.felix.scr.bnd/src/main/java/org/apache/felix/scrplugin/bnd/SCRDescriptorBndPlugin.java
+++ b/tools/org.apache.felix.scr.bnd/src/main/java/org/apache/felix/scrplugin/bnd/SCRDescriptorBndPlugin.java
@@ -304,7 +304,9 @@ public class SCRDescriptorBndPlugin implements AnalyzerPlugin, Plugin {
 			path.add(j.getSource().toURI().toURL());
 		}
 		// always add the target url (containing all compiled classes) because it it not necessarily part of the analyzer classpath
-		path.add(a.getTarget().getSource().toURI().toURL());
+		if (a.getTarget() != null && a.getTarget().getSource() != null) {
+		    path.add(a.getTarget().getSource().toURI().toURL());
+		}
 		log.info("Using classpath: " + path);
 		return path.toArray(new URL[path.size()]);
 	}
