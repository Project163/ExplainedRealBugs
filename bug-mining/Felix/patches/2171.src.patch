diff --git a/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java b/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java
index 02cc7cbc51..f6684aeda4 100644
--- a/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java
+++ b/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java
@@ -62,11 +62,7 @@ public class ConfigInstaller implements ArtifactInstaller, ConfigurationListener
 
     public void destroy()
     {
-        try {
-            registration.unregister();
-        } catch (IllegalStateException e) {
-            // Ignore
-        }
+        registration.unregister();
     }
 
     public boolean canHandle(File artifact)
diff --git a/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/FileInstall.java b/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/FileInstall.java
index b432accc58..7d5de85982 100644
--- a/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/FileInstall.java
+++ b/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/FileInstall.java
@@ -62,6 +62,7 @@ public class FileInstall implements BundleActivator, ServiceTrackerCustomizer
     ServiceTracker listenersTracker;
     final ReadWriteLock lock = new ReentrantReadWriteLock();
     ServiceRegistration urlHandlerRegistration;
+    volatile boolean stopped;
 
     public void start(BundleContext context) throws Exception
     {
@@ -199,6 +200,7 @@ public class FileInstall implements BundleActivator, ServiceTrackerCustomizer
         }
         finally
         {
+            stopped = true;
             lock.writeLock().unlock();
         }
     }
@@ -376,6 +378,9 @@ public class FileInstall implements BundleActivator, ServiceTrackerCustomizer
                 lock.writeLock().lock();
                 try
                 {
+                    if (stopped) {
+                        return null;
+                    }
                     ConfigurationAdmin cm = super.addingService(serviceReference);
                     long id = (Long) serviceReference.getProperty(Constants.SERVICE_ID);
                     ConfigInstaller configInstaller = new ConfigInstaller(this.context, cm, fileInstall);
@@ -394,6 +399,9 @@ public class FileInstall implements BundleActivator, ServiceTrackerCustomizer
                 lock.writeLock().lock();
                 try
                 {
+                    if (stopped) {
+                        return;
+                    }
                     Iterator iterator = configs.iterator();
                     while (iterator.hasNext())
                     {
