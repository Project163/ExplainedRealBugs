diff --git a/framework/src/main/java/org/apache/felix/framework/Felix.java b/framework/src/main/java/org/apache/felix/framework/Felix.java
index dc1e144b28..b56f9f9392 100644
--- a/framework/src/main/java/org/apache/felix/framework/Felix.java
+++ b/framework/src/main/java/org/apache/felix/framework/Felix.java
@@ -3891,11 +3891,16 @@ public class Felix extends BundleImpl implements Framework
             bundles = new HashSet<Bundle>();
             for (Bundle target : newTargets)
             {
-                // Add the current target bundle to the map of
-                // bundles to be refreshed.
-                bundles.add(target);
-                // Add all importing bundles to map.
-                populateDependentGraph((BundleImpl) target, bundles);
+                // If anyone passes in a null bundle, then just
+                // ignore it.
+                if (target != null)
+                {
+                    // Add the current target bundle to the map of
+                    // bundles to be refreshed.
+                    bundles.add(target);
+                    // Add all importing bundles to map.
+                    populateDependentGraph((BundleImpl) target, bundles);
+                }
             }
         }
 
