diff --git a/scr/src/main/java/org/apache/felix/scr/Component.java b/scr/src/main/java/org/apache/felix/scr/Component.java
deleted file mode 100644
index 0e1b25c046..0000000000
--- a/scr/src/main/java/org/apache/felix/scr/Component.java
+++ /dev/null
@@ -1,397 +0,0 @@
-/*
- * Licensed to the Apache Software Foundation (ASF) under one
- * or more contributor license agreements.  See the NOTICE file
- * distributed with this work for additional information
- * regarding copyright ownership.  The ASF licenses this file
- * to you under the Apache License, Version 2.0 (the
- * "License"); you may not use this file except in compliance
- * with the License.  You may obtain a copy of the License at
- *
- *   http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing,
- * software distributed under the License is distributed on an
- * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
- * KIND, either express or implied.  See the License for the
- * specific language governing permissions and limitations
- * under the License.
- */
-package org.apache.felix.scr;
-
-
-import java.util.Dictionary;
-import java.util.List;
-
-import org.osgi.framework.Bundle;
-import org.osgi.service.component.ComponentInstance;
-
-
-/**
- * The <code>Component</code> interface represents a single component managed
- * by the Service Component Runtime. Management agents may access the Component
- * instances through the {@link ScrService}.
- */
-public interface Component
-{
-
-    /**
-     * The Component has just been created and is still disabled or it has
-     * been disabled by calling the {@link #disable()} method (value is 1).
-     */
-    static final int STATE_DISABLED = 1;
-
-    /**
-     * The Component is being enabled (value is 512). After the component has
-     * been enabled it enters the {@link #STATE_UNSATISFIED} state.
-     * @since 1.2
-     * @deprecated since 1.8.0
-     */
-    static final int STATE_ENABLING = 512;
-
-    /**
-     * The Component has been enabled and is now going to be activated (value
-     * is 2).
-     * @deprecated as of version 1.2 the enabled state is collapsed into the
-     *      {@link #STATE_UNSATISFIED} state. This status code is never returned
-     *      from the {@link #getState()} method.
-     */
-    static final int STATE_ENABLED = 2;
-
-    /**
-     * The Component activation failed because any dependency is not satisfied
-     * (value is 4).
-     */
-    static final int STATE_UNSATISFIED = 4;
-
-    /**
-     * The Component is currently being activated either because it has been
-     * enabled or because any dependency which was previously unsatisfied has
-     * become satisfied (value is 8).
-     * @deprecated since 1.8.0 transient states are no longer used
-     */
-    static final int STATE_ACTIVATING = 8;
-
-    /**
-     * The Component has successfully been activated and is fully functional
-     * (value is 16). This is the state of immediate components after
-     * successful activation. Delayed and Service Factory Components enter
-     * this state when the service instance has actually been instantiated because
-     * the service has been acquired.
-     */
-    static final int STATE_ACTIVE = 16;
-
-    /**
-     * The Component has successfully been activated but is a Delayed or Service
-     * Factory Component pending instantiation on first use (value is 32).
-     */
-    static final int STATE_REGISTERED = 32;
-
-    /**
-     * The Component is a Component Factory ready to create Component instances
-     * with the <code>ComponentFactory.newInstance(Dictionary)</code> method
-     * or (if enabled with the <code>ds.factory.enabled</code> configuration) to
-     * manage Component instances from configuration data received from the
-     * Configuration Admin Service (value is 64).
-     */
-    static final int STATE_FACTORY = 64;
-
-    /**
-     * The Component is being deactivated either because it is being disabled
-     * or because a dependency is not satisfied any more (value is 128). After
-     * deactivation the Component enters the {@link #STATE_UNSATISFIED} state.
-     * @deprecated since 1.8.0 transient states are no longer used
-     */
-    static final int STATE_DEACTIVATING = 128;
-
-    /**
-     * The Component is being disabled (value is 1024). After the component has
-     * been disabled it enters the {@link #STATE_DISABLED} state.
-     * @since 1.2
-     * @deprecated since 1.8.0 transient states are no longer used
-     */
-    static final int STATE_DISABLING = 1024;
-
-    /**
-     * The Component is being disposed off (value is 2048). After the component
-     * has been disposed off it enters the {@link #STATE_DESTROYED} state.
-     * @since 1.2
-     * @deprecated since 1.8.0 transient states are no longer used
-     */
-    static final int STATE_DISPOSING = 2048;
-
-    /**
-     * The Component has been destroyed and cannot be used any more (value is
-     * 256). This state is only used when the bundle declaring the component
-     * is being stopped and all components have to be removed.
-     * @deprecated as of version 1.2 this constant has been renamed to
-     *      {@link #STATE_DISPOSED}.
-     */
-    static final int STATE_DESTROYED = 256;
-
-    /**
-     * The Component has been disposed off and cannot be used any more (value is
-     * 256). This state is used when the bundle declaring the component
-     * is being stopped and all components have to be removed. This status is
-     * also the final status of a component after the
-     * <code>ComponentInstance.dispose()</code> method has been called.
-     * @since 1.2
-     */
-    static final int STATE_DISPOSED = 256;
-
-
-    /**
-     * Returns the component ID of this component. This ID is managed by the
-     * SCR. If the component is not currently enabled the ID might not be
-     * assigned to the component (yet) and this method will return -1 in this
-     * case.
-     */
-    long getId();
-
-
-    /**
-     * Returns the name of the component, which is also used as the service PID.
-     * This method provides access to the <code>name</code> attribute of the
-     * <code>component</code> element.
-     */
-    String getName();
-
-
-    /**
-     * Returns the current state of the Component, which is one of the
-     * <code>STATE_*</code> constants defined in this interface.
-     */
-    int getState();
-
-
-    /**
-     * Returns the <code>Bundle</code> declaring this component.
-     */
-    Bundle getBundle();
-
-
-    /**
-     * Returns the component factory name or <code>null</code> if this component
-     * is not defined as a component factory. This method provides access to
-     * the <code>factory</code> attribute of the <code>component</code>
-     * element.
-     */
-    String getFactory();
-
-
-    /**
-     * Returns <code>true</code> if this component is a service factory. This
-     * method returns the value of the <code>serviceFactory</code> attribute of
-     * the <code>service</code> element. If the component has no service
-     * element, this method returns <code>false</code>.
-     */
-    @Deprecated
-    boolean isServiceFactory();
-    
-    String getServiceScope();
-
-
-    /**
-     * Returns the class name of the Component implementation. This method
-     * provides access to the <code>class</code> attribute of the
-     * <code>implementation</code> element.
-     */
-    String getClassName();
-
-
-    /**
-     * Returns whether the Component is declared to be enabled initially. This
-     * method provides access to the <code>enabled</code> attribute of the
-     * <code>component</code> element.
-     */
-    boolean isDefaultEnabled();
-
-
-    /**
-     * Returns whether the Component is an Immediate or a Delayed Component.
-     * This method provides access to the <code>immediate</code> attribute of
-     * the <code>component</code> element.
-     */
-    boolean isImmediate();
-
-
-    /**
-     * Returns an array of service names provided by this Component or
-     * <code>null</code> if the Component is not registered as a service. This
-     * method provides access to the <code>interface</code> attributes of the
-     * <code>provide</code> elements.
-     */
-    String[] getServices();
-
-
-    /**
-     * Returns the properties of the Component. The Dictionary returned is a
-     * private copy of the actual properties and contains the same entries as
-     * are used to register the Component as a service and are returned by
-     * the <code>ComponentContext.getProperties()</code> method.
-     */
-    Dictionary getProperties();
-
-
-    /**
-     * Returns an array of {@link Reference} instances representing the service
-     * references (or dependencies) of this Component. If the Component has no
-     * references, <code>null</code> is returned.
-     */
-    Reference[] getReferences();
-
-
-    /**
-     * Returns the <code>org.osgi.service.component.ComponentInstance</code>
-     * representing this component or <code>null</code> if this component
-     * is not been activated yet.
-     *
-     * @since 1.2
-     */
-    ComponentInstance getComponentInstance();
-
-
-    /**
-     * Returns the name of the method to be called when the component is being
-     * activated.
-     * <p>
-     * This method never returns <code>null</code>, that is, if this method is
-     * not declared in the component descriptor this method returns the
-     * default value <i>activate</i>.
-     *
-     * @since 1.2
-     */
-    String getActivate();
-
-
-    /**
-     * Returns <code>true</code> if the name of the method to be called on
-     * component activation (see {@link #getActivate()} is declared in the
-     * component descriptor or not.
-     * <p>
-     * For a component declared in a Declarative Services 1.0 descriptor, this
-     * method always returns <code>false</code>.
-     *
-     * @since 1.2
-     */
-    boolean isActivateDeclared();
-
-
-    /**
-     * Returns the name of the method to be called when the component is being
-     * deactivated.
-     * <p>
-     * This method never returns <code>null</code>, that is, if this method is
-     * not declared in the component descriptor this method returns the
-     * default value <i>deactivate</i>.
-     *
-     * @since 1.2
-     */
-    String getDeactivate();
-
-
-    /**
-     * Returns <code>true</code> if the name of the method to be called on
-     * component deactivation (see {@link #getDeactivate()} is declared in the
-     * component descriptor or not.
-     * <p>
-     * For a component declared in a Declarative Services 1.0 descriptor, this
-     * method always returns <code>false</code>.
-     *
-     * @since 1.2
-     */
-    boolean isDeactivateDeclared();
-
-
-    /**
-     * Returns the name of the method to be called when the component
-     * configuration has been updated or <code>null</code> if such a method is
-     * not declared in the component descriptor.
-     * <p>
-     * For a component declared in a Declarative Services 1.0 descriptor, this
-     * method always returns <code>null</code>.
-     *
-     * @since 1.2
-     */
-    String getModified();
-
-
-    /**
-     * Returns the configuration policy declared in the component descriptor.
-     * If the component descriptor is a Declarative Services 1.0 descriptor or
-     * no configuration policy has been declared, the default value
-     * <i>optional</i> is returned.
-     * <p>
-     * The returned string is one of the three policies defined in the
-     * Declarative Services specification 1.1:
-     * <dl>
-     * <dt>optional</dt>
-     * <dd>Configuration from the Configuration Admin service is supplied to
-     * the component if available. Otherwise the component is activated without
-     * Configuration Admin configuration. This is the default value reflecting
-     * the behaviour of Declarative Services 1.0</dd>
-     * <dt>require</dt>
-     * <dd>Configuration is required. The component remains unsatisfied until
-     * configuration is available from the Configuration Admin service.</dd>
-     * <dt>ignore</dt>
-     * <dd>Configuration is ignored. No Configuration Admin service
-     * configuration is supplied to the component.</dd>
-     * </dl>
-     *
-     * @since 1.2
-     */
-    String getConfigurationPolicy();
-
-    /**
-     * Returns the configuration pid declared in the component descriptor. 
-     * The value is used to retrieve the component configuration from the 
-     * OSGi configuration admin service. The value returned by this method 
-     * depends on the Declarative Service namespace used by the component:
-     * <p>
-     * <dl>
-     * <dt>DS 1.0</dt>
-     * <dd>The component name is returned.</dd>
-     * <dt>DS 1.1</dt>
-     * <dd>The component name is returned, if it has been specified. If not specified, 
-     * then the default component name is returned (that is the fully qualified component
-     * class name).
-     * <dt>DS 1.2</dt>
-     * <dd>The value of the configuration-pid attribute is returned if it has been specified.
-     * If not specified, then the same DS 1.1 rules are applied.</dd>
-     * </dl>
-     *
-     * @since 1.2
-     */
-    List<String> getConfigurationPid();
-
-    /**
-     * Returns whether the configuration-pid has been declared in the descriptor
-     * or not.
-     *
-     * @return whether the configuration-pid has method has been declared in the descriptor
-     *      or not.
-     * @since DS 1.2
-     */
-    boolean isConfigurationPidDeclared();
-
-    /**
-     * Enables this Component if it is disabled. If the Component is not
-     * currently {@link #STATE_DISABLED disabled} this method has no effect. If
-     * the Component is {@link #STATE_DESTROYED destroyed}, this method throws
-     * an <code>IllegalStateException</code>.
-     *
-     * @throws IllegalStateException If the Component is destroyed.
-     */
-    void enable();
-
-
-    /**
-     * Disables this Component if it is enabled. If the Component is already
-     * {@link #STATE_DISABLED disabled} this method has no effect. If the
-     * Component is {@link #STATE_DESTROYED destroyed}, this method throws an
-     * <code>IllegalStateException</code>.
-     *
-     * @throws IllegalStateException If the Component is destroyed.
-     */
-    void disable();
-
-}
diff --git a/scr/src/main/java/org/apache/felix/scr/Reference.java b/scr/src/main/java/org/apache/felix/scr/Reference.java
deleted file mode 100644
index 1c485ae12e..0000000000
--- a/scr/src/main/java/org/apache/felix/scr/Reference.java
+++ /dev/null
@@ -1,147 +0,0 @@
-/*
- * Licensed to the Apache Software Foundation (ASF) under one
- * or more contributor license agreements.  See the NOTICE file
- * distributed with this work for additional information
- * regarding copyright ownership.  The ASF licenses this file
- * to you under the Apache License, Version 2.0 (the
- * "License"); you may not use this file except in compliance
- * with the License.  You may obtain a copy of the License at
- *
- *   http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing,
- * software distributed under the License is distributed on an
- * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
- * KIND, either express or implied.  See the License for the
- * specific language governing permissions and limitations
- * under the License.
- */
-package org.apache.felix.scr;
-
-
-import org.osgi.framework.ServiceReference;
-
-
-/**
- * The <code>Reference</code> interface represents a single reference (or
- * dependency) to a service used by a Component.
- */
-public interface Reference
-{
-
-    /**
-     * Returns the name of this Reference. This method provides access to the
-     * <code>name</code> attribute of the <code>referenec</code> element.
-     */
-    String getName();
-
-
-    /**
-     * Returns the name of the service used by this Reference. This method
-     * provides access to the <code>interface</code> attribute of the
-     * <code>reference</code> element.
-     */
-    String getServiceName();
-
-
-    /**
-     * Returns an array of references to the services bound to this Reference
-     * or <code>null</code> if no services are currently bound.
-     */
-    ServiceReference[] getServiceReferences();
-
-    /**
-     * added by mistake.  Use getServiceReferences();
-     * @return
-     */
-    @Deprecated
-    ServiceReference[] getBoundServiceReferences();
-    
-    /**
-     * Returns whether this reference is satisified. A {@link #isOptional() optional}
-     * component is always satsified. Otherwise <code>true</code> is only
-     * returned if at least one service is bound.
-     */
-    boolean isSatisfied();
-
-
-    /**
-     * Returns whether this reference is optional. This method provides access
-     * to the lower bound of the <code>cardinality</code> attribute of the
-     * <code>reference</code> element. In other words, this method returns
-     * <code>true</code> if the cardinality is <em>0..1</em> or <em>0..n</em>.
-     */
-    boolean isOptional();
-
-
-    /**
-     * Returns whether this reference is multiple. This method provides access
-     * to the upper bound of the <code>cardinality</code> attribute of the
-     * <code>reference</code> element. In other words, this method returns
-     * <code>true</code> if the cardinality is <em>0..n</em> or <em>1..n</em>.
-     */
-    boolean isMultiple();
-
-
-    /**
-     * Returns <code>true</code> if the reference is defined with static policy.
-     * This method provides access to the <code>policy</code> element of the
-     * <code>reference</code> element. <code>true</code> is returned if the
-     * policy is defined as <em>static</em>.
-     */
-    boolean isStatic();
-
-    /**
-     * Returns <code>true</code> if the reference is defined with reluctant
-     * policy option.  This method provides access to the <code>policy-option</code>
-     * element of the <code>reference</code> element.  <code>true</code> is
-     * returned if the policy option is defined as <em>reluctant</em>
-     *
-     * @since 1.7
-     */
-    boolean isReluctant();
-
-    /**
-     * Returns the value of the target property of this reference. Initially
-     * (without overwriting configuration) this method provides access to the
-     * <code>target</code> attribute of the <code>reference</code> element. If
-     * configuration overwrites the target property, this method returns the
-     * value of the Component property whose name is derived from the
-     * {@link #getName() reference name} plus the suffix <em>.target</em>. If
-     * no target property exists this method returns <code>null</code>.
-     */
-    String getTarget();
-
-
-    /**
-     * Returns the name of the method called if a service is being bound to
-     * the Component or <code>null</code> if no such method is configued. This
-     * method provides access to the <code>bind</code> attribute of the
-     * <code>reference</code> element.
-     */
-    String getBindMethodName();
-
-
-    /**
-     * Returns the name of the method called if a service is being unbound from
-     * the Component or <code>null</code> if no such method is configued. This
-     * method provides access to the <code>unbind</code> attribute of the
-     * <code>reference</code> element.
-     */
-    String getUnbindMethodName();
-
-
-    /**
-     * Returns the name of the method called if a bound service updates its
-     * service registration properties or <code>null</code> if no such method
-     * is configued. This method provides access to the <code>updated</code>
-     * attribute of the <code>reference</code> element.
-     * <p>
-     * For a component declared in a Declarative Services 1.0 and 1.1
-     * descriptor, this method always returns <code>null</code>.
-     *
-     * @since 1.4
-     */
-    String getUpdatedMethodName();
-
-}
diff --git a/scr/src/main/java/org/apache/felix/scr/ScrService.java b/scr/src/main/java/org/apache/felix/scr/ScrService.java
deleted file mode 100644
index 5897a228c3..0000000000
--- a/scr/src/main/java/org/apache/felix/scr/ScrService.java
+++ /dev/null
@@ -1,89 +0,0 @@
-/*
- * Licensed to the Apache Software Foundation (ASF) under one
- * or more contributor license agreements.  See the NOTICE file
- * distributed with this work for additional information
- * regarding copyright ownership.  The ASF licenses this file
- * to you under the Apache License, Version 2.0 (the
- * "License"); you may not use this file except in compliance
- * with the License.  You may obtain a copy of the License at
- *
- *   http://www.apache.org/licenses/LICENSE-2.0
- *
- * Unless required by applicable law or agreed to in writing,
- * software distributed under the License is distributed on an
- * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
- * KIND, either express or implied.  See the License for the
- * specific language governing permissions and limitations
- * under the License.
- */
-package org.apache.felix.scr;
-
-
-import org.osgi.framework.Bundle;
-
-
-/**
- * The <code>ScrService</code> represents the Declarative Services main
- * controller also known as the Service Component Runtime or SCR for short.
- * It provides access to the components managed the SCR.
- */
-public interface ScrService
-{
-
-    /**
-     * Returns an array of all components managed by this SCR instance. The
-     * components are returned in ascending order of their component.id. If
-     * there are no components currently managed by the SCR, <code>null</code>
-     * is returned.
-     *
-     * @return The components or <code>null</code> if there are none.
-     */
-    Component[] getComponents();
-
-
-    /**
-     * Returns the component whose component.id matches the given
-     * <code>componentId</code> or <code>null</code> if no component with the
-     * given id is currently managed.
-     *
-     * @param componentId The ID of the component to return
-     *
-     * @return The indicated component or <code>null</code> if no such
-     *      component exists.
-     */
-    Component getComponent( long componentId );
-
-
-    /**
-     * Returns the components whose <code>component.name</code> matches the
-     * given <code>componentName</code> or <code>null</code> if no component
-     * with the given name is currently managed.
-     * <p>
-     * If the component name refers to a component factory component or a
-     * component configured with multiple factory configurations this method
-     * returns multiple component instances.
-     *
-     * @param componentName The name of the component to return
-     *
-     * @return The indicated components or <code>null</code> if no such
-     *      component exists.
-     * @since 1.5 (Apache Felix Declarative Services 1.4.2)
-     */
-    Component[] getComponents( String componentName );
-
-
-    /**
-     * Reuturns an array of all components managed by this SCR instance on
-     * behalf of the given bundle. The components are returned in ascending
-     * order of their component.id. If there are no components managed by the
-     * SCR for the given bundle, <code>null</code> is returned.
-     *
-     * @param bundle The <code>Bundle</code> whose components are to be
-     *      returned.
-     *
-     * @return The bundle's components or <code>null</code> if the bundle
-     *      has none.
-     */
-    Component[] getComponents( Bundle bundle );
-
-}
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/ComponentRegistry.java b/scr/src/main/java/org/apache/felix/scr/impl/ComponentRegistry.java
index dd4958ab37..2c457cb666 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/ComponentRegistry.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/ComponentRegistry.java
@@ -20,26 +20,17 @@ package org.apache.felix.scr.impl;
 
 
 import java.util.ArrayList;
-import java.util.Arrays;
 import java.util.Collection;
-import java.util.Dictionary;
 import java.util.HashMap;
 import java.util.HashSet;
-import java.util.Hashtable;
-import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 import java.util.Set;
 
-import org.apache.felix.scr.Component;
-import org.apache.felix.scr.ScrService;
-import org.apache.felix.scr.impl.config.ComponentContainer;
 import org.apache.felix.scr.impl.config.ComponentHolder;
 import org.apache.felix.scr.impl.config.ConfigurationSupport;
 import org.apache.felix.scr.impl.config.ConfigurableComponentHolder;
 import org.apache.felix.scr.impl.manager.AbstractComponentManager;
-import org.apache.felix.scr.impl.manager.ComponentFactoryImpl;
-import org.apache.felix.scr.impl.manager.ConfigurationComponentFactoryImpl;
 import org.apache.felix.scr.impl.manager.DependencyManager;
 import org.apache.felix.scr.impl.metadata.ComponentMetadata;
 import org.osgi.framework.Bundle;
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/ScrCommand.java b/scr/src/main/java/org/apache/felix/scr/impl/ScrCommand.java
index 92fd3606b2..697e48a718 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/ScrCommand.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/ScrCommand.java
@@ -23,24 +23,25 @@ import java.io.PrintWriter;
 import java.lang.reflect.Constructor;
 import java.util.ArrayList;
 import java.util.Arrays;
+import java.util.Collection;
 import java.util.Collections;
 import java.util.Comparator;
 import java.util.Dictionary;
 import java.util.Hashtable;
 import java.util.Iterator;
+import java.util.List;
 import java.util.TreeSet;
 import java.util.regex.Pattern;
 
-import org.apache.felix.scr.Component;
-import org.apache.felix.scr.Reference;
 import org.apache.felix.scr.ScrInfo;
-import org.apache.felix.scr.ScrService;
 import org.apache.felix.scr.impl.config.ScrConfiguration;
 import org.osgi.framework.Bundle;
 import org.osgi.framework.BundleContext;
 import org.osgi.framework.Constants;
 import org.osgi.framework.ServiceReference;
 import org.osgi.framework.ServiceRegistration;
+import org.osgi.service.component.runtime.ServiceComponentRuntime;
+import org.osgi.service.component.runtime.dto.ComponentDescriptionDTO;
 
 /**
  * The <code>ScrCommand</code> class provides the implementations for the
@@ -52,12 +53,12 @@ public class ScrCommand implements ScrInfo
 {
 
     private final BundleContext bundleContext;
-    private final ScrService scrService;
+    private final ServiceComponentRuntime scrService;
     private final ScrConfiguration scrConfiguration;
     
     private ServiceRegistration reg;
 
-    static ScrCommand register(BundleContext bundleContext, ScrService scrService, ScrConfiguration scrConfiguration)
+    static ScrCommand register(BundleContext bundleContext, ServiceComponentRuntime scrService, ScrConfiguration scrConfiguration)
     {
         final ScrCommand cmd = new ScrCommand(bundleContext, scrService, scrConfiguration);
 
@@ -110,7 +111,7 @@ public class ScrCommand implements ScrInfo
         return cmd;
     }
 
-    private ScrCommand(BundleContext bundleContext, ScrService scrService, ScrConfiguration scrConfiguration)
+    private ScrCommand(BundleContext bundleContext, ServiceComponentRuntime scrService, ScrConfiguration scrConfiguration)
     {
         this.bundleContext = bundleContext;
         this.scrService = scrService;
@@ -147,7 +148,7 @@ public class ScrCommand implements ScrInfo
      */
     public void list(final String bundleIdentifier, final PrintWriter out)
     {
-        Component[] components;
+        List<ComponentDescriptionDTO> components;
 
         if (bundleIdentifier != null)
         {
@@ -177,7 +178,7 @@ public class ScrCommand implements ScrInfo
             }
             if (ComponentRegistry.isBundleActive(bundle))
             {
-                components = scrService.getComponents(bundle);
+                components = new ArrayList<ComponentDescriptionDTO>(scrService.getComponentDescriptionDTOs(bundle));
                 if (components == null)
                 {
                     out.println("Bundle " + bundleIdentifier + " declares no components");
@@ -192,7 +193,7 @@ public class ScrCommand implements ScrInfo
         }
         else
         {
-            components = scrService.getComponents();
+            components = new ArrayList<ComponentDescriptionDTO>(scrService.getComponentDescriptionDTOs());
             if (components == null)
             {
                 out.println("No components registered");
@@ -200,20 +201,20 @@ public class ScrCommand implements ScrInfo
             }
         }
 
-        Arrays.sort( components, new Comparator<Component>() 
+        Collections.sort( components, new Comparator<ComponentDescriptionDTO>() 
                 {
 
-                    public int compare(Component c1, Component c2)
+                    public int compare(ComponentDescriptionDTO c1, ComponentDescriptionDTO c2)
                     {
-                        return Long.signum(c1.getId() - c2.getId());
+                        return c1.name.compareTo(c2.name);
                     }
             
                 });
         
         out.println(" Id   State BundleId Name");
-        for ( Component component : components )
+        for ( ComponentDescriptionDTO component : components )
         {
-            out.println( String.format( "[%1$4d] [%2$s] [%3$4d] %4$s", component.getId(), toStateString( component.getState() ), component.getBundle().getBundleId(), component.getName() ) );
+            out.println( String.format( "[%4$s] [%4$s] [%3$4d]", component.name,  component.defaultEnabled , component.bundle.id ) );
         }
         out.flush();
    }
@@ -223,7 +224,7 @@ public class ScrCommand implements ScrInfo
      */
     public void info(final String componentId, PrintWriter out)
     {
-        Component[] components = getComponentFromArg(componentId);
+/*        Component[] components = getComponentFromArg(componentId);
         if (components == null)
         {
             return;
@@ -396,10 +397,12 @@ public class ScrCommand implements ScrInfo
             }
         }
         out.flush();
+        */
     }
 
     void change(final String componentIdentifier, PrintWriter out, boolean enable)
     {
+        /*
         Component[] components = getComponentFromArg(componentIdentifier);
         ArrayList<String> disposed = new ArrayList<String>();
         if (components == null)
@@ -444,6 +447,7 @@ public class ScrCommand implements ScrInfo
             throw new IllegalArgumentException( "Components " + disposed + " already disposed, cannot change state" );
 
         }
+        */
     }
 
     /* (non-Javadoc)
@@ -462,7 +466,7 @@ public class ScrCommand implements ScrInfo
         out.print("Info Service registered: ");
         out.println(scrConfiguration.infoAsService() ? "Supported" : "Unsupported");
     }
-
+/*
     private String toStateString(int state)
     {
         switch (state) {
@@ -546,5 +550,5 @@ public class ScrCommand implements ScrInfo
 
         return components;
     }
-
+*/
 }
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/config/ComponentContainer.java b/scr/src/main/java/org/apache/felix/scr/impl/config/ComponentContainer.java
new file mode 100644
index 0000000000..fb184af221
--- /dev/null
+++ b/scr/src/main/java/org/apache/felix/scr/impl/config/ComponentContainer.java
@@ -0,0 +1,46 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
+package org.apache.felix.scr.impl.config;
+
+import org.apache.felix.scr.impl.BundleComponentActivator;
+import org.apache.felix.scr.impl.manager.SingleComponentManager;
+import org.apache.felix.scr.impl.metadata.ComponentMetadata;
+
+public interface ComponentContainer<S>
+{
+
+    /**
+     * Returns the {@link BundleComponentActivator} owning this component
+     * holder.  (overlaps ComponentHolder)
+     */
+    BundleComponentActivator getActivator();
+
+    /**
+     * Returns the {@link ComponentMetadata} describing and declaring this
+     * component. (overlaps ComponentHolder)
+     */
+    ComponentMetadata getComponentMetadata();
+
+    /**
+     * Informs the holder that the component has been disposed as a result of
+     * calling the dispose method.
+     */
+    void disposed(SingleComponentManager<S> component);
+
+}
\ No newline at end of file
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/config/ComponentManager.java b/scr/src/main/java/org/apache/felix/scr/impl/config/ComponentManager.java
index f7730905b8..b6cec2bfd0 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/config/ComponentManager.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/config/ComponentManager.java
@@ -1,3 +1,21 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
 package org.apache.felix.scr.impl.config;
 
 import java.util.List;
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/config/ReferenceManager.java b/scr/src/main/java/org/apache/felix/scr/impl/config/ReferenceManager.java
index 1bd963a426..b3b7b0723e 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/config/ReferenceManager.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/config/ReferenceManager.java
@@ -1,3 +1,21 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
 package org.apache.felix.scr.impl.config;
 
 import java.util.List;
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/manager/ComponentFactoryImpl.java b/scr/src/main/java/org/apache/felix/scr/impl/manager/ComponentFactoryImpl.java
index 5d9913e44d..6e49931c13 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/manager/ComponentFactoryImpl.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/manager/ComponentFactoryImpl.java
@@ -19,7 +19,6 @@
 package org.apache.felix.scr.impl.manager;
 
 import java.util.ArrayList;
-import java.util.Collections;
 import java.util.Dictionary;
 import java.util.HashMap;
 import java.util.Hashtable;
@@ -27,7 +26,6 @@ import java.util.IdentityHashMap;
 import java.util.List;
 import java.util.Map;
 
-import org.apache.felix.scr.Component;
 import org.apache.felix.scr.component.ExtFactoryComponentInstance;
 import org.apache.felix.scr.impl.BundleComponentActivator;
 import org.apache.felix.scr.impl.TargetedPID;
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/manager/ConfigurationComponentFactoryImpl.java b/scr/src/main/java/org/apache/felix/scr/impl/manager/ConfigurationComponentFactoryImpl.java
index c70ad58984..f0722da37a 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/manager/ConfigurationComponentFactoryImpl.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/manager/ConfigurationComponentFactoryImpl.java
@@ -25,7 +25,6 @@ import java.util.Iterator;
 import java.util.List;
 import java.util.Map;
 
-import org.apache.felix.scr.Component;
 import org.apache.felix.scr.impl.TargetedPID;
 import org.apache.felix.scr.impl.config.ComponentContainer;
 import org.apache.felix.scr.impl.config.ComponentManager;
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/manager/DependencyManager.java b/scr/src/main/java/org/apache/felix/scr/impl/manager/DependencyManager.java
index 109ae8f4c1..a824f1ca50 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/manager/DependencyManager.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/manager/DependencyManager.java
@@ -23,21 +23,14 @@ import java.security.Permission;
 import java.util.ArrayList;
 import java.util.Collection;
 import java.util.Collections;
-import java.util.Dictionary;
-import java.util.HashSet;
-import java.util.IdentityHashMap;
-import java.util.LinkedHashSet;
 import java.util.List;
 import java.util.Map;
 import java.util.SortedMap;
 import java.util.TreeMap;
 import java.util.concurrent.CountDownLatch;
-import java.util.concurrent.TimeUnit;
 import java.util.concurrent.atomic.AtomicInteger;
 import java.util.concurrent.atomic.AtomicReference;
 
-import org.apache.felix.scr.Component;
-import org.apache.felix.scr.Reference;
 import org.apache.felix.scr.impl.BundleComponentActivator;
 import org.apache.felix.scr.impl.config.ReferenceManager;
 import org.apache.felix.scr.impl.helper.BindMethod;
@@ -63,9 +56,6 @@ import org.osgi.service.log.LogService;
  */
 public class DependencyManager<S, T> implements ReferenceManager<S, T> 
 {
-    // mask of states ok to send events
-    private static final int STATE_MASK = 
-         Component.STATE_ACTIVE | Component.STATE_REGISTERED | Component.STATE_FACTORY;
 
     // the component to which this dependency belongs
     private final AbstractComponentManager<S> m_componentManager;
@@ -1116,19 +1106,17 @@ public class DependencyManager<S, T> implements ReferenceManager<S, T>
         }
     }
 
-    //---------- Reference interface ------------------------------------------
-
-    public String getServiceName()
+    private String getServiceName()
     {
         return m_dependencyMetadata.getInterface();
     }
 
-    public boolean isOptional()
+    boolean isOptional()
     {
         return m_dependencyMetadata.isOptional();
     }
 
-    public boolean isEffectivelyOptional()
+    private boolean isEffectivelyOptional()
     {
         return m_minCardinality == 0;
     }
@@ -1143,40 +1131,22 @@ public class DependencyManager<S, T> implements ReferenceManager<S, T>
         return m_minCardinality == serviceCount;
     }
     
-    public boolean isMultiple()
+    private boolean isMultiple()
     {
         return m_dependencyMetadata.isMultiple();
     }
 
 
-    public boolean isStatic()
+    private boolean isStatic()
     {
         return m_dependencyMetadata.isStatic();
     }
 
-    public boolean isReluctant()
+    private boolean isReluctant()
     {
         return m_dependencyMetadata.isReluctant();
     }
 
-    public String getBindMethodName()
-    {
-        return m_dependencyMetadata.getBind();
-    }
-
-
-    public String getUnbindMethodName()
-    {
-        return m_dependencyMetadata.getUnbind();
-    }
-
-
-    public String getUpdatedMethodName()
-    {
-        return m_dependencyMetadata.getUpdated();
-    }
-
-
     //---------- Service tracking support -------------------------------------
 
 
diff --git a/scr/src/main/java/org/apache/felix/scr/impl/runtime/ServiceComponentRuntimeImpl.java b/scr/src/main/java/org/apache/felix/scr/impl/runtime/ServiceComponentRuntimeImpl.java
index 3c298ab222..329d7327da 100644
--- a/scr/src/main/java/org/apache/felix/scr/impl/runtime/ServiceComponentRuntimeImpl.java
+++ b/scr/src/main/java/org/apache/felix/scr/impl/runtime/ServiceComponentRuntimeImpl.java
@@ -1,3 +1,21 @@
+/*
+ * Licensed to the Apache Software Foundation (ASF) under one
+ * or more contributor license agreements.  See the NOTICE file
+ * distributed with this work for additional information
+ * regarding copyright ownership.  The ASF licenses this file
+ * to you under the Apache License, Version 2.0 (the
+ * "License"); you may not use this file except in compliance
+ * with the License.  You may obtain a copy of the License at
+ *
+ *   http://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing,
+ * software distributed under the License is distributed on an
+ * "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
+ * KIND, either express or implied.  See the License for the
+ * specific language governing permissions and limitations
+ * under the License.
+ */
 package org.apache.felix.scr.impl.runtime;
 
 import java.util.ArrayList;
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/CircularFactoryTest.java b/scr/src/test/java/org/apache/felix/scr/integration/CircularFactoryTest.java
index de2875e814..7608405c99 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/CircularFactoryTest.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/CircularFactoryTest.java
@@ -22,7 +22,6 @@ import java.util.Iterator;
 
 import junit.framework.TestCase;
 
-import org.apache.felix.scr.Component;
 import org.apache.felix.scr.integration.components.circularFactory.FactoryClient;
 import org.junit.Test;
 import org.junit.runner.RunWith;
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/CircularReferenceTest.java b/scr/src/test/java/org/apache/felix/scr/integration/CircularReferenceTest.java
index 14a2462973..ea8384162f 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/CircularReferenceTest.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/CircularReferenceTest.java
@@ -21,7 +21,6 @@
 package org.apache.felix.scr.integration;
 
 import junit.framework.TestCase;
-import org.apache.felix.scr.Component;
 import org.apache.felix.scr.integration.components.circular.A;
 import org.apache.felix.scr.integration.components.circular.B;
 import org.junit.Test;
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/ComponentConfigurationTest.java b/scr/src/test/java/org/apache/felix/scr/integration/ComponentConfigurationTest.java
index c1b6b35de4..aa039053dc 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/ComponentConfigurationTest.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/ComponentConfigurationTest.java
@@ -24,7 +24,6 @@ import java.util.Collection;
 import junit.framework.Assert;
 import junit.framework.TestCase;
 
-import org.apache.felix.scr.Component;
 import org.apache.felix.scr.integration.components.SimpleComponent;
 import org.apache.felix.scr.integration.components.SimpleServiceImpl;
 import org.junit.Test;
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/ComponentTestBase.java b/scr/src/test/java/org/apache/felix/scr/integration/ComponentTestBase.java
index ff29be8548..80e2e94b6a 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/ComponentTestBase.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/ComponentTestBase.java
@@ -60,9 +60,6 @@ import javax.inject.Inject;
 import junit.framework.Assert;
 import junit.framework.TestCase;
 
-import org.apache.felix.scr.Component;
-import org.apache.felix.scr.Reference;
-import org.apache.felix.scr.ScrService;
 import org.junit.After;
 import org.junit.Before;
 import org.ops4j.pax.exam.CoreOptions;
@@ -780,40 +777,6 @@ public abstract class ComponentTestBase
         }
     }
 
-    private String toStateString( int state )
-    {
-        switch ( state )
-        {
-            case Component.STATE_DISABLED:
-                return "disabled";
-            case Component.STATE_UNSATISFIED:
-                return "unsatisfied";
-            case Component.STATE_ACTIVE:
-                return "active";
-            case Component.STATE_REGISTERED:
-                return "registered";
-            case Component.STATE_FACTORY:
-                return "factory";
-            case Component.STATE_DISPOSED:
-                return "disposed";
-
-            case Component.STATE_ENABLING:
-                return "enabling";
-            case Component.STATE_ENABLED:
-                return "enabled";
-            case Component.STATE_ACTIVATING:
-                return "activating";
-            case Component.STATE_DEACTIVATING:
-                return "deactivating";
-            case Component.STATE_DISABLING:
-                return "disabling";
-            case Component.STATE_DISPOSING:
-                return "disposing";
-            default:
-                return String.valueOf( state );
-        }
-    }
-
     // Used to ignore logs displayed by the framework from stdout.
     // (the log service will log it because it listen to fwk error
     // events ...).
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/MutablePropertiesTest.java b/scr/src/test/java/org/apache/felix/scr/integration/MutablePropertiesTest.java
index a7effcc603..2b05901399 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/MutablePropertiesTest.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/MutablePropertiesTest.java
@@ -25,7 +25,6 @@ import java.util.Hashtable;
 
 import junit.framework.Assert;
 import junit.framework.TestCase;
-import org.apache.felix.scr.Component;
 import org.apache.felix.scr.integration.components.MutatingService;
 import org.apache.felix.scr.integration.components.SimpleServiceImpl;
 import org.junit.Test;
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/ServiceBindTest.java b/scr/src/test/java/org/apache/felix/scr/integration/ServiceBindTest.java
index 20fa8ca34d..fd540a9493 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/ServiceBindTest.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/ServiceBindTest.java
@@ -22,7 +22,6 @@ package org.apache.felix.scr.integration;
 import java.util.Hashtable;
 import junit.framework.TestCase;
 
-import org.apache.felix.scr.Component;
 import org.apache.felix.scr.integration.components.SimpleComponent;
 import org.apache.felix.scr.integration.components.SimpleComponent2;
 import org.apache.felix.scr.integration.components.SimpleService2Impl;
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/components/felix3680/Main.java b/scr/src/test/java/org/apache/felix/scr/integration/components/felix3680/Main.java
index 085c6b14d1..cc4b7095d7 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/components/felix3680/Main.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/components/felix3680/Main.java
@@ -28,10 +28,10 @@ import java.util.concurrent.Executors;
 import java.util.concurrent.TimeUnit;
 import java.util.concurrent.atomic.AtomicInteger;
 
-import org.apache.felix.scr.Component;
-import org.apache.felix.scr.ScrService;
 import org.osgi.framework.ServiceReference;
 import org.osgi.service.component.ComponentContext;
+import org.osgi.service.component.runtime.ServiceComponentRuntime;
+import org.osgi.service.component.runtime.dto.ComponentDescriptionDTO;
 import org.osgi.service.log.LogService;
 
 public class Main implements Runnable
@@ -46,9 +46,9 @@ public class Main implements Runnable
     private volatile AtomicInteger _counter = new AtomicInteger();
     private volatile Random _rnd = new Random();
     private volatile LogService _logService;
-    private ScrService _scr;
     private volatile Thread _thread;
     private volatile boolean _running;
+    private ServiceComponentRuntime _scr;
 
     /**
      * Helper used to randomly enable or disable a list of components.
@@ -120,7 +120,7 @@ public class Main implements Runnable
         }
     }
 
-    void bindSCR(ScrService scr)
+    void bindSCR(ServiceComponentRuntime scr)
     {
         _scr = scr;
     }
@@ -246,48 +246,11 @@ public class Main implements Runnable
 
     private void dumpState(StringWriter sw, String name)
     {
-        org.apache.felix.scr.Component[] comps = _scr.getComponents(name);
-        if (comps == null || comps.length == 0) 
-        {
-            _logService.log(LogService.LOG_ERROR, "could not find component state " + name, null);
-            return;
-        }
-        org.apache.felix.scr.Component c = comps[0];
+        ComponentDescriptionDTO c = _scr.getComponentDescriptionDTO(_ctx.getBundleContext().getBundle(), name);
         if ( c != null )
         {
-            sw.append( name ).append( "[" ).append( getState( c ) ).append( "] " );
+            sw.append( name ).append( "[" ).append( _scr.isComponentEnabled(c)? "enabled":"disabled" ).append( "] " );
         }
     }
 
-    private CharSequence getState(org.apache.felix.scr.Component c)
-    {
-        switch (c.getState()) {
-        case org.apache.felix.scr.Component.STATE_ACTIVATING:
-            return "activating";
-        case org.apache.felix.scr.Component.STATE_ACTIVE:
-            return "active";
-        case org.apache.felix.scr.Component.STATE_DEACTIVATING:
-            return "deactivating";
-        case org.apache.felix.scr.Component.STATE_DISABLED:
-            return "disabled";
-        case org.apache.felix.scr.Component.STATE_DISABLING:
-            return "disabling";
-        case org.apache.felix.scr.Component.STATE_DISPOSED:
-            return "disposed";
-        case org.apache.felix.scr.Component.STATE_DISPOSING:
-            return "disposing";
-        case org.apache.felix.scr.Component.STATE_ENABLED:
-            return "enabled";
-        case org.apache.felix.scr.Component.STATE_ENABLING:
-            return "enabling";
-        case org.apache.felix.scr.Component.STATE_FACTORY:
-            return "factory";
-        case org.apache.felix.scr.Component.STATE_REGISTERED:
-            return "registered";
-        case org.apache.felix.scr.Component.STATE_UNSATISFIED:
-            return "unsatisfied";
-        default:
-            return "?";
-        }
-    }
 }
diff --git a/scr/src/test/java/org/apache/felix/scr/integration/components/felix3680_2/Main.java b/scr/src/test/java/org/apache/felix/scr/integration/components/felix3680_2/Main.java
index 91539ac031..6de36eea56 100644
--- a/scr/src/test/java/org/apache/felix/scr/integration/components/felix3680_2/Main.java
+++ b/scr/src/test/java/org/apache/felix/scr/integration/components/felix3680_2/Main.java
@@ -29,12 +29,13 @@ import java.util.concurrent.Executors;
 import java.util.concurrent.TimeUnit;
 import java.util.concurrent.atomic.AtomicInteger;
 
-import org.apache.felix.scr.ScrService;
 import org.apache.felix.scr.impl.manager.ThreadDump;
 import org.osgi.framework.BundleContext;
 import org.osgi.framework.ServiceReference;
 import org.osgi.framework.ServiceRegistration;
 import org.osgi.service.component.ComponentContext;
+import org.osgi.service.component.runtime.ServiceComponentRuntime;
+import org.osgi.service.component.runtime.dto.ComponentDescriptionDTO;
 import org.osgi.service.log.LogService;
 
 
@@ -46,7 +47,7 @@ public class Main implements Runnable
     private volatile CountDownLatch m_enabledLatch;
     private volatile CountDownLatch m_disabledLatch;
     private volatile LogService m_logService;
-    private ScrService m_scr;
+    private ServiceComponentRuntime m_scr;
     private final Executor m_exec = Executors.newFixedThreadPool( 12 );
     private volatile BundleContext m_bctx;
     volatile ConcurrentHashMap<Class, ServiceRegistration> m_registrations = new ConcurrentHashMap<Class, ServiceRegistration>();
@@ -146,7 +147,7 @@ public class Main implements Runnable
     }
 
 
-    void bindSCR( ScrService scr )
+    void bindSCR( ServiceComponentRuntime scr )
     {
         m_scr = scr;
     }
@@ -300,42 +301,10 @@ public class Main implements Runnable
 
     private void dumpA()
     {
-        org.apache.felix.scr.Component c = m_scr
-            .getComponents( "org.apache.felix.scr.integration.components.felix3680_2.A" )[0];
-        m_logService.log( LogService.LOG_WARNING, "State of " + c + ":" + getState( c ) + "\n" );
+        ComponentDescriptionDTO c = m_scr
+            .getComponentDescriptionDTO(m_bctx.getBundle(), "org.apache.felix.scr.integration.components.felix3680_2.A" );
+        m_logService.log( LogService.LOG_WARNING, "State of " + c.name + " enabled:" + m_scr.isComponentEnabled(c) + "\n" );
     }
 
 
-    private CharSequence getState( org.apache.felix.scr.Component c )
-    {
-        switch ( c.getState() )
-        {
-            case org.apache.felix.scr.Component.STATE_ACTIVATING:
-                return "activating";
-            case org.apache.felix.scr.Component.STATE_ACTIVE:
-                return "active";
-            case org.apache.felix.scr.Component.STATE_DEACTIVATING:
-                return "deactivating";
-            case org.apache.felix.scr.Component.STATE_DISABLED:
-                return "disabled";
-            case org.apache.felix.scr.Component.STATE_DISABLING:
-                return "disabling";
-            case org.apache.felix.scr.Component.STATE_DISPOSED:
-                return "disposed";
-            case org.apache.felix.scr.Component.STATE_DISPOSING:
-                return "disposing";
-            case org.apache.felix.scr.Component.STATE_ENABLED:
-                return "enabled";
-            case org.apache.felix.scr.Component.STATE_ENABLING:
-                return "enabling";
-            case org.apache.felix.scr.Component.STATE_FACTORY:
-                return "factory";
-            case org.apache.felix.scr.Component.STATE_REGISTERED:
-                return "registered";
-            case org.apache.felix.scr.Component.STATE_UNSATISFIED:
-                return "unsatisfied";
-            default:
-                return "?";
-        }
-    }
 }
diff --git a/scr/src/test/resources/integration_test_FELIX_3880_2.xml b/scr/src/test/resources/integration_test_FELIX_3880_2.xml
index a9f958ab16..56eaf4b6cb 100644
--- a/scr/src/test/resources/integration_test_FELIX_3880_2.xml
+++ b/scr/src/test/resources/integration_test_FELIX_3880_2.xml
@@ -20,7 +20,7 @@
 			cardinality='0..1' bind='bindA' unbind='unbindA' policy='dynamic' />
 		<reference name='logService' interface='org.osgi.service.log.LogService'
 			bind='bindLogService' />
-		<reference name='sCR' interface='org.apache.felix.scr.ScrService'
+		<reference name='sCR' interface='org.osgi.service.component.runtime.ServiceComponentRuntime'
 			bind='bindSCR' />
 	</scr:component>
 
