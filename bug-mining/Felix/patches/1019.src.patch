diff --git a/framework/src/main/java/org/apache/felix/framework/BundleImpl.java b/framework/src/main/java/org/apache/felix/framework/BundleImpl.java
index c275ddaf05..ec44dcb538 100644
--- a/framework/src/main/java/org/apache/felix/framework/BundleImpl.java
+++ b/framework/src/main/java/org/apache/felix/framework/BundleImpl.java
@@ -1144,7 +1144,9 @@ class BundleImpl implements Bundle
                         ((BundleImpl) bundles[i]).getCurrentModule()).getVersion();
                     if ((symName != null) && (sym != null) && symName.equals(sym) && bundleVersion.equals(ver))
                     {
-                        throw new BundleException("Bundle symbolic name and version are not unique: " + sym + ':' + ver);
+                        throw new BundleException(
+                            "Bundle symbolic name and version are not unique: "
+                            + sym + ':' + ver, BundleException.DUPLICATE_BUNDLE_ERROR);
                     }
                 }
             }
diff --git a/framework/src/main/java/org/apache/felix/framework/Felix.java b/framework/src/main/java/org/apache/felix/framework/Felix.java
index 8134ed46ce..deeed737ee 100644
--- a/framework/src/main/java/org/apache/felix/framework/Felix.java
+++ b/framework/src/main/java/org/apache/felix/framework/Felix.java
@@ -2083,9 +2083,14 @@ ex.printStackTrace();
                 {
                     throw (AccessControlException) rethrow;
                 }
+                else if (rethrow instanceof BundleException)
+                {
+                    throw (BundleException) rethrow;
+                }
                 else
                 {
-                    throw new BundleException("Update of bundle " + bundle + " failed.", rethrow);
+                    throw new BundleException(
+                        "Update of bundle " + bundle + " failed.", rethrow);
                 }
             }
         }
