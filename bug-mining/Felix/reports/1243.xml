<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:21:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2766] Calling update() on a newly created factory configuration causes FileNotFoundException</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2766</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The following code throws java.io.FileNotFoundException&lt;/p&gt;

&lt;p&gt;  Configuration config = configurationAdmin.createFactoryConfiguration(name, null);&lt;br/&gt;
  config.update();&lt;/p&gt;

&lt;p&gt;because the Configuration is newly created and has never been persisted, but the update() method tries to read the persistence file.&lt;/p&gt;

&lt;p&gt;According to a comment by Peter Kriens on the OSGi Dev List &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, the update() method should in this case just assume an empty dictionary and push this past the configuration plugins into the ManagedServiceFactory service.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://www.mail-archive.com/osgi-dev@mail.osgi.org/msg01773.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/osgi-dev@mail.osgi.org/msg01773.html&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494911">FELIX-2766</key>
            <summary>Calling update() on a newly created factory configuration causes FileNotFoundException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Jan 2011 05:36:13 +0000</created>
                <updated>Wed, 25 Sep 2013 14:02:34 +0000</updated>
                            <resolved>Fri, 4 Feb 2011 20:02:44 +0000</resolved>
                                    <version> configadmin-1.2.8</version>
                                    <fixVersion>configadmin-1.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12982828" author="thecarlhall" created="Mon, 17 Jan 2011 19:48:39 +0000"  >&lt;p&gt;I&apos;m working on a patch for this that I should have available in the next couple of days.&lt;/p&gt;</comment>
                            <comment id="12983525" author="thecarlhall" created="Wed, 19 Jan 2011 03:42:35 +0000"  >&lt;p&gt;Attaching patch to have the config loading method not try to load a config file when it doesn&apos;t exist but return an empty Dictionary (Hashtable).&lt;/p&gt;</comment>
                            <comment id="12983547" author="fmeschbe" created="Wed, 19 Jan 2011 06:16:05 +0000"  >&lt;p&gt;Thanks for providing the patch. I will look into it asap.&lt;/p&gt;</comment>
                            <comment id="12990710" author="fmeschbe" created="Fri, 4 Feb 2011 20:02:44 +0000"  >&lt;p&gt;I chose a slightly different approach in that I check for the existence of configuration in the update() method itself and only read if so.&lt;/p&gt;

&lt;p&gt;In addition the UpdateTask has a bug with respect to updating newly created configurations: When updating ManagedServiceFactory services nothing is done; when updating ManagedService services a NullPointerException is thrown because there is no guard against no dictionary (as is the case for newly created configurations. To fix this, the UpdateTask assumes an empty dictionary for newly created configurations whose getProperties() method returns null&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 1067270&lt;/p&gt;</comment>
                            <comment id="13777506" author="fmeschbe" created="Wed, 25 Sep 2013 14:02:34 +0000"  >&lt;p&gt;Close issues after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468724" name="felix-2766.diff" size="970" author="thecarlhall" created="Wed, 19 Jan 2011 03:42:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40421</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0apy7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60477</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>