<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:31:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1039] Inconsistency packaging vs. type</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1039</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The Maven Bundle Plugin uses &lt;/p&gt;

&lt;p&gt;  &amp;lt;packaging&amp;gt;bundle&amp;lt;/packaging&amp;gt;&lt;/p&gt;

&lt;p&gt;Scenario #1 - dependency uses type=bundle&lt;/p&gt;

&lt;p&gt;    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;org.jboss.osgi&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;jboss-osgi-common&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;version&amp;gt;${version}&amp;lt;/version&amp;gt;&lt;br/&gt;
      &amp;lt;type&amp;gt;bundle&amp;lt;/type&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;with type=bundle the the dependency is resolved correctly from the the build reactor. &lt;br/&gt;
&apos;mvn package&apos; succeeds. Note, the artefact is not yet in the local repository.&lt;/p&gt;

&lt;p&gt;Scenario #2 - dependency uses unspecified type &lt;/p&gt;

&lt;p&gt;    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;org.jboss.osgi&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;jboss-osgi-common&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;version&amp;gt;${version}&amp;lt;/version&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;/p&gt;

&lt;p&gt;&apos;mvn package&apos; fails if the artefact is not yet in the local repository&lt;br/&gt;
&apos;mvn install&apos; succeeds&lt;/p&gt;

&lt;p&gt;Scenario #3 - the dependent bundle is not part of the reactor build&lt;/p&gt;

&lt;p&gt;&apos;mvn package&apos; or &apos;mvn install&apos; will always fail when the dependency is declared with type=bundle&lt;/p&gt;

&lt;p&gt;Fazit:&lt;/p&gt;

&lt;p&gt;If you declare the dependency with type=bundle, the dependency cannot be resolved from the repository.&lt;br/&gt;
If you don&apos;t declare a dependency type, the dependency can only be resolved from the repository. &apos;mvn package&apos; will fail if the dependency is not in the repository.&lt;/p&gt;

&lt;p&gt;Workaround:&lt;/p&gt;

&lt;p&gt;Don&apos;t use type=bundle in the dependency and always install. i.e. &apos;mvn install&apos;&lt;/p&gt;






</description>
                <environment>Maven-2.1.0</environment>
        <key id="12422853">FELIX-1039</key>
            <summary>Inconsistency packaging vs. type</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mcculls">Stuart McCulloch</assignee>
                                    <reporter username="tdiesler">Thomas Diesler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Apr 2009 08:35:22 +0000</created>
                <updated>Tue, 11 Oct 2011 17:09:21 +0000</updated>
                            <resolved>Fri, 24 Jun 2011 13:28:37 +0000</resolved>
                                    <version>maven-bundle-plugin-2.0.0</version>
                                    <fixVersion>maven-bundle-plugin-2.3.5</fixVersion>
                                    <component>Maven Bundle Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12699116" author="tdiesler" created="Wed, 15 Apr 2009 08:36:31 +0000"  >&lt;p&gt;Not sure if this is actually a general mvn issue&lt;/p&gt;</comment>
                            <comment id="12699123" author="mcculls" created="Wed, 15 Apr 2009 08:58:42 +0000"  >&lt;p&gt;I really think this needs to be raised with the Maven team, because the maven-bundle-plugin doesn&apos;t directly participate in the Maven resolution process. Instead Maven reads the components.xml document from the maven-bundle-plugin to identify the packaging type, update the lifecycle, etc. - that&apos;s really the only input we have on dependency resolution in the reactor.&lt;/p&gt;

&lt;p&gt;The components.xml document in the maven-bundle-plugin was written based on the published Maven documentation and AFAIK there is nothing wrong with it. So technically there is nothing we can really do from here, the resolution you mention in your issue happens before any of our code gets run.&lt;/p&gt;

&lt;p&gt;If there is a problem with our components.xml I&apos;d be happy to change it, but again I can&apos;t see any such issue based on the docs. BTW, have you enabled the bundle lifecycle in your plugin descriptor?&lt;/p&gt;

&lt;p&gt;      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;version&amp;gt;2.0.0&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;extensions&amp;gt;true&amp;lt;/extensions&amp;gt;    &amp;lt;!-- this tells Maven to read our components.xml --&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;/p&gt;

&lt;p&gt;because without &amp;lt;extensions&amp;gt;true&amp;lt;/extensions&amp;gt; you will have problems.&lt;/p&gt;

&lt;p&gt;Also there have been several related issues regarding custom (ie. non-core) packaging types:&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;http://jira.codehaus.org/browse/MNG-2140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MNG-2140&lt;/a&gt;&lt;br/&gt;
   &lt;a href=&quot;http://jira.codehaus.org/browse/MNG-2426&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MNG-2426&lt;/a&gt;&lt;br/&gt;
   (and several more, but they should be fixed)&lt;/p&gt;

&lt;p&gt;furthermore I tend to use &quot;mvn install&quot; rather than rely on &quot;mvn package&quot; in the reactor, because of:&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;http://jira.codehaus.org/browse/MNG-2720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jira.codehaus.org/browse/MNG-2720&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but it looks like this was fixed in 2.1.0&lt;/p&gt;</comment>
                            <comment id="12726549" author="mcculls" created="Thu, 2 Jul 2009 16:45:40 +0000"  >&lt;p&gt;Look into tweaking the generated artifact type to see if this makes any difference - we have to be careful not to break existing builds though.&lt;br/&gt;
If there&apos;s no safe/compatible fix then I&apos;ll close this as WONTFIX because the safest workaround is to use &quot;mvn install&quot; or &quot;mvn clean install&quot;.&lt;/p&gt;</comment>
                            <comment id="12750528" author="mcculls" created="Wed, 2 Sep 2009 16:45:55 +0000"  >&lt;p&gt;Need more time to investigate potential ramifications, so bumping to after 2.0.1 maintenance release.&lt;/p&gt;</comment>
                            <comment id="13054445" author="mcculls" created="Fri, 24 Jun 2011 13:28:37 +0000"  >&lt;p&gt;I tweaked the lifecycle/handler metadata in r1139301, but things also seem to be behaving better with Maven3 when using package vs. install and bundle vs. jar.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57951</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1aqqn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270798</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>