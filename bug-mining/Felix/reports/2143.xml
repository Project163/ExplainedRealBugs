<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:53:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4427] Create separate API bundle</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4427</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Currently the Servlet API is exported from the Http Service Bundle bundle and the Jetty bundle.&lt;/p&gt;

&lt;p&gt;In a typical web application a large number of bundles will typically wire to the Servlet API and to the Http Service API. To detach the application from the Http Service implementation, if would be usefull to have the APIs fully detached from the implementations.&lt;/p&gt;

&lt;p&gt;As such, I suggest we do not export the Servlet API from the Jetty bundle but expect the Servlet API to be exported from somewhere else.&lt;/p&gt;

&lt;p&gt;As the Http Service Bundle bundle is a convenience all-in-one bundle, it does not hurt for this bundle to export the API.&lt;/p&gt;

&lt;p&gt;To help solve the versioning problem, I actually think we should create our own Servlet API bundle. The versioning problem is that the Servlet API 3.0 spec is actually backwards compatible with Servlet 2.5 but chose to upgrade the specification major version. Unfortunately that does not play well with semantic versioning when applying the specification version to the API exports (as is customarily but wrongly done).&lt;/p&gt;

&lt;p&gt;So, our bundle should:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;be based on the Tomcat Servlet API library (since this is ASL2 licensed and can easily be included)&lt;/li&gt;
	&lt;li&gt;export Servlet API at version 2.6 (which is a custom compromise) as well as version 3.0&lt;/li&gt;
	&lt;li&gt;also Provide-Capability for the Servlet API capability&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12695642">FELIX-4427</key>
            <summary>Create separate API bundle</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Feb 2014 07:37:42 +0000</created>
                <updated>Fri, 13 Jun 2014 09:23:58 +0000</updated>
                            <resolved>Wed, 7 May 2014 08:55:18 +0000</resolved>
                                    <version>http-2.2.1</version>
                                    <fixVersion>http-2.3.0</fixVersion>
                                    <component>HTTP Service</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13903889" author="jajans" created="Tue, 18 Feb 2014 09:11:32 +0000"  >&lt;p&gt;+1, currently the Servlet APIs export themselves as version 3.0, which breaks most of the existing bundles that uses an import of &quot;[2.1,3.0)&quot; (this is a pending todo on my list). Creating a separate servlet API project makes it easier to maintain the version bumps in the servlet API now and in the future...&lt;/p&gt;</comment>
                            <comment id="13903942" author="fmeschbe" created="Tue, 18 Feb 2014 10:44:04 +0000"  >&lt;p&gt;Created a first version based on the Tomcat Servlet API 7.0.8 (tomcat 8 is already Servlet API 3.1) in Rev. 1569258&lt;/p&gt;

&lt;p&gt;Next steps:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Remove API exports from the Jetty bundle&lt;/li&gt;
	&lt;li&gt;Add HTTP Service API export to the Api bundle&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13903945" author="fmeschbe" created="Tue, 18 Feb 2014 10:54:07 +0000"  >&lt;p&gt;Fixed the exports in Rev. 1569268:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Removed Http Service, ext Http Service and Servlet API exports from Jetty bundle&lt;/li&gt;
	&lt;li&gt;Added OSGi Http Service export to API bundle&lt;/li&gt;
	&lt;li&gt;API bundle depends on Servlet API 2.3 which was the first to provide Filter and imports servlet API at [2.3,4) to support all servlet API which we currently assume compatible.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13903957" author="jajans" created="Tue, 18 Feb 2014 11:20:57 +0000"  >&lt;p&gt;I think the resulting output can cause unexpected exceptions due to the missing &quot;LocalStrings.properties&quot; file, that is used in some of the classes, like HttpConstraintElement.&lt;/p&gt;

&lt;p&gt;Is there a reason this project is a JAR-artifact, instead of a bundle artifact? Can the maven-bundle-plugin not be used?&lt;/p&gt;</comment>
                            <comment id="13903974" author="fmeschbe" created="Tue, 18 Feb 2014 11:47:58 +0000"  >&lt;p&gt;Fix Servlet API export bundle in Rev. 1569272 (bundle version was corrupt and local strings were missing) and added the API bundles in the integration tests in Rev. 1569274.&lt;/p&gt;</comment>
                            <comment id="13903980" author="fmeschbe" created="Tue, 18 Feb 2014 11:54:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jajans&quot; class=&quot;user-hover&quot; rel=&quot;jajans&quot;&gt;jajans&lt;/a&gt; Yes, I could not get the bundle plugin to export the same package twice with different versions. If you know how to do it ...&lt;/p&gt;

&lt;p&gt;Also have to also import the OSGi Http Service API in the API bundle to make it more lenient to 3rd party providers of the OSGi service API (as is the case in the integration tests which happen to install the compendium bundle). Fix in Rev. 1569288.&lt;/p&gt;</comment>
                            <comment id="13903991" author="jajans" created="Tue, 18 Feb 2014 12:06:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fmeschbe&quot; class=&quot;user-hover&quot; rel=&quot;fmeschbe&quot;&gt;fmeschbe&lt;/a&gt;: ok, if it is necessary to use another plugin than that&apos;s fine, I think it is also needed because of the additional manifest sections that are needed.&lt;br/&gt;
Anyway, the changes look fine to me, and all integration tests are still running &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13904103" author="fmeschbe" created="Tue, 18 Feb 2014 14:47:55 +0000"  >&lt;p&gt;Found out how to actually use the bundle plugin to generate the bundle instead of my jar file with static manifest hack:  The exported packages have to be fully listed and then the bundle plugin is actually able to export the same packages twice with different versions.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 1569365&lt;/p&gt;</comment>
                            <comment id="13991673" author="jajans" created="Wed, 7 May 2014 08:55:18 +0000"  >&lt;p&gt;I think this is resolved already...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374150</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1sh5r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>374450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>