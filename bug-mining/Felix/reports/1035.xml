<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:18:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2366] Avoiding property substitution by escaping does not remove escape character</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2366</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;To avoid property substitution, an escape character was introduced in version 3.0.0 of File Install. The idea is that if I want to send the configuration value&lt;/p&gt;

&lt;p&gt;  ${propkey}&lt;/p&gt;

&lt;p&gt;to my application without property substitution to take place, I can escape the START_DELIM (${) and STOP_DELIM (}) with a backslash as follows:&lt;/p&gt;

&lt;p&gt;  ${propkey}&lt;/p&gt;

&lt;p&gt;However, when doing this the escape character is not removed from the string. The reason is as follows:&lt;/p&gt;

&lt;p&gt;The method of interest is substVars in class org.apache.felix.fileinstall.internal.Util. The logic tries to find matching DELIM_START (${) and DELIM_STOP (}). When you escape either of these (by specifying a backslash before &quot;${&quot; and/or &quot;}&quot;), the logic will never find matching DELIM_START and DELIM_STOP which causes the method to immediately return without performing property substitution. The logic at the end of the method (that removes the backslashes) is never reached.&lt;/p&gt;

&lt;p&gt;A workarount is to add an unnecessary property at the end of the value just to make sure some property substitution will take place since then the logic at the end of the substVars() method (that removes the escape character) will be reached. Thus, this works:&lt;/p&gt;

&lt;p&gt;  ${propkey}${#}&lt;/p&gt;</description>
                <environment></environment>
        <key id="12465631">FELIX-2366</key>
            <summary>Avoiding property substitution by escaping does not remove escape character</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gnodet">Guillaume Nodet</assignee>
                                    <reporter username="rodehav">Bengt Rodehav</reporter>
                        <labels>
                    </labels>
                <created>Fri, 28 May 2010 08:54:01 +0000</created>
                <updated>Tue, 17 Mar 2015 07:03:08 +0000</updated>
                            <resolved>Fri, 28 May 2010 09:30:51 +0000</resolved>
                                    <version>fileinstall-3.0.0</version>
                                    <fixVersion>fileinstall-3.0.2</fixVersion>
                                    <component>File Install</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12872905" author="gnt" created="Fri, 28 May 2010 09:30:51 +0000"  >&lt;p&gt;Committing to &lt;a href=&quot;https://svn.apache.org/repos/asf/felix/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/felix/trunk&lt;/a&gt; ...&lt;br/&gt;
	M	fileinstall/src/main/java/org/apache/felix/fileinstall/internal/Util.java&lt;br/&gt;
	M	fileinstall/src/test/java/org/apache/felix/fileinstall/internal/UtilTest.java&lt;br/&gt;
Committed r949136&lt;/p&gt;</comment>
                            <comment id="13052163" author="eg.trab" created="Mon, 20 Jun 2011 19:06:16 +0000"  >&lt;p&gt;should this work in Felix File Install 3.1.10 ?&lt;/p&gt;

&lt;p&gt;is there another way to disable substitution &lt;br/&gt;
or not to replace with empty strings if the (system) property isn&apos;t found?&lt;/p&gt;

&lt;p&gt;(&lt;a href=&quot;http://felix.apache.org/site/apache-felix-file-install.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/site/apache-felix-file-install.html&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;thx&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 23 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vs8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>