<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:52:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4353] [Core R5] BundleWiringTests OSGi CT test failures</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4353</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Of the OSGi CT BundleWiringTests, 3 tests are failing:&lt;/p&gt;

&lt;p&gt;org.osgi.test.cases.framework.junit.wiring.BundleWiringTests&lt;br/&gt;
testGetWiring(org.osgi.test.cases.framework.junit.wiring.BundleWiringTests)&lt;br/&gt;
junit.framework.AssertionFailedError: Resource does not equal revision expected:&amp;lt;null&amp;gt; but was:&amp;lt;505.0&amp;gt;&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
	at junit.framework.Assert.failNotEquals(Assert.java:280)&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:64)&lt;br/&gt;
	at org.osgi.test.cases.framework.junit.wiring.BundleWiringTests.assertResourceEqualsRevision(BundleWiringTests.java:359)&lt;br/&gt;
	at org.osgi.test.cases.framework.junit.wiring.BundleWiringTests.assertResourceEqualsRevision(BundleWiringTests.java:355)&lt;br/&gt;
	at org.osgi.test.cases.framework.junit.wiring.BundleWiringTests.checkBundleWiring(BundleWiringTests.java:566)&lt;br/&gt;
	at org.osgi.test.cases.framework.junit.wiring.BundleWiringTests.testGetWiring(BundleWiringTests.java:389)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:164)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:130)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:120)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at aQute.junit.Activator.test(Activator.java:226)&lt;br/&gt;
	at aQute.junit.Activator.automatic(Activator.java:118)&lt;br/&gt;
	at aQute.junit.Activator.run(Activator.java:59)&lt;/p&gt;

&lt;p&gt;testRequiredExecutionEnvironment(org.osgi.test.cases.framework.junit.wiring.BundleWiringTests)&lt;br/&gt;
junit.framework.AssertionFailedError: Wrong number of ee wires: org.osgi.test.cases.framework.wiring.ee.tb1 &lt;span class=&quot;error&quot;&gt;&amp;#91;523&amp;#93;&lt;/span&gt; expected:&amp;lt;1&amp;gt; but was:&amp;lt;0&amp;gt;&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
	at junit.framework.Assert.failNotEquals(Assert.java:280)&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:64)&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:198)&lt;br/&gt;
	at org.osgi.test.cases.framework.junit.wiring.BundleWiringTests.checkOSGiEEWiring(BundleWiringTests.java:1205)&lt;br/&gt;
	at org.osgi.test.cases.framework.junit.wiring.BundleWiringTests.testRequiredExecutionEnvironment(BundleWiringTests.java:1191)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:164)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:130)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:120)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at aQute.junit.Activator.test(Activator.java:226)&lt;br/&gt;
	at aQute.junit.Activator.automatic(Activator.java:118)&lt;br/&gt;
	at aQute.junit.Activator.run(Activator.java:59)&lt;/p&gt;

&lt;p&gt;testDynamicImportPackage(org.osgi.test.cases.framework.junit.wiring.BundleWiringTests)&lt;br/&gt;
junit.framework.AssertionFailedError: Wrong provider expected:&amp;lt;null&amp;gt; but was:&amp;lt;553.0&amp;gt;&lt;br/&gt;
	at junit.framework.Assert.fail(Assert.java:47)&lt;br/&gt;
	at junit.framework.Assert.failNotEquals(Assert.java:280)&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:64)&lt;br/&gt;
	at org.osgi.test.cases.framework.junit.wiring.BundleWiringTests.checkBundleWire(BundleWiringTests.java:955)&lt;br/&gt;
	at org.osgi.test.cases.framework.junit.wiring.BundleWiringTests.testDynamicImportPackage(BundleWiringTests.java:1812)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:164)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:130)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:106)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:124)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:109)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:120)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:230)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:225)&lt;br/&gt;
	at aQute.junit.Activator.test(Activator.java:226)&lt;br/&gt;
	at aQute.junit.Activator.automatic(Activator.java:118)&lt;br/&gt;
	at aQute.junit.Activator.run(Activator.java:59)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12684182">FELIX-4353</key>
            <summary>[Core R5] BundleWiringTests OSGi CT test failures</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="bosschaert">David Bosschaert</assignee>
                                    <reporter username="bosschaert">David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 12 Dec 2013 09:13:26 +0000</created>
                <updated>Mon, 27 Apr 2015 07:05:18 +0000</updated>
                            <resolved>Fri, 31 Jan 2014 08:59:02 +0000</resolved>
                                                    <fixVersion>framework-4.4.0</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13876837" author="rickhall" created="Mon, 20 Jan 2014 20:33:42 +0000"  >&lt;p&gt;The first exception was simply that BundleWiring.getResource() was not implemented (it was returning null rather than the associated revision); I&apos;ve fixed that one.&lt;/p&gt;

&lt;p&gt;The second exception appears to simply be that the Bundle-RequiredExecutionEnvironment header needs to be converted into requirements and added to the bundle&apos;s requirement list inside of ManifestParser. I did not fix this one, but I&apos;m happy to review a patch.&lt;/p&gt;

&lt;p&gt;The last one I am not seeing. I could be related to my fix above or it could be a timing issue, which does happen every now and then (although typically around events).&lt;/p&gt;</comment>
                            <comment id="13876850" author="bosschaert" created="Mon, 20 Jan 2014 20:55:25 +0000"  >&lt;p&gt;Thanks Richard - I&apos;ll try to come up with a solution for the second one, and will double check on the last one.&lt;/p&gt;</comment>
                            <comment id="13878552" author="bosschaert" created="Wed, 22 Jan 2014 11:34:48 +0000"  >&lt;p&gt;I committed a fix that fixes the testRequiredExecutionEnvironment() failure: &lt;a href=&quot;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1560317&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc?view=revision&amp;amp;revision=1560317&lt;/a&gt;&lt;br/&gt;
Richard, do let me know if you think the fix could be improved.&lt;/p&gt;

&lt;p&gt;There are two additional remarks to be made about this.&lt;br/&gt;
1. Since the BREE matching is now done via generic capabilities and requirements, the special BREE handling code can probably be removed from the ResolveContextImpl? Richard, if you agree I can look into removing that stuff.&lt;br/&gt;
2. My fix causes an new OSGi CT failure: DivTests.testEERequirement() I &lt;b&gt;think&lt;/b&gt; that this is a CT problem and have filed a bug with the OSGi CT for this.&lt;/p&gt;</comment>
                            <comment id="13878700" author="bosschaert" created="Wed, 22 Jan 2014 14:37:27 +0000"  >&lt;blockquote&gt;
&lt;p&gt;2. My fix causes an new OSGi CT failure: DivTests.testEERequirement() I think that this is a CT problem and have filed a bug with the OSGi CT for this.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is indeed an issue with the CT and has since been fixed in the OSGi CT code. We can expect this test to pass in the Core R6 CT.&lt;/p&gt;</comment>
                            <comment id="13881105" author="bosschaert" created="Fri, 24 Jan 2014 16:17:52 +0000"  >&lt;p&gt;In the remove-bree-handling.patch I&apos;ve removed the explicit handling of the Bundle-RequiredExecutionEnvironment from the code. &lt;br/&gt;
This is not necessary any more since the BREE requirements are now handled as ordinary generic capabilities, so the special-casing can be dropped as in this patch.&lt;/p&gt;

&lt;p&gt;I&apos;d be happy to apply the patch myself, but it would be good if someone could take a quick look to make sure that this is actually ok.&lt;/p&gt;

&lt;p&gt;BTW the OSGi R5 CT still passed with this change.&lt;/p&gt;</comment>
                            <comment id="13887573" author="bosschaert" created="Fri, 31 Jan 2014 08:59:02 +0000"  >&lt;p&gt;Since there are no further comments on the remove-bree-handling.patch and I think it&apos;s the right cleanup to do I&apos;ve committed it in r1563091.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12652873">FELIX-4128</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12625060" name="remove-bree-handling.patch" size="4551" author="bosschaert" created="Fri, 24 Jan 2014 16:17:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363254</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 42 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1qm6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>363560</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>