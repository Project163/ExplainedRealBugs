<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:14:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1658] Deadlocks caused by component activation and deactivation</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1658</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Deadlock issues with SCR: Component operations are synchronized and may run while the bundle lock is held. This may cause deadlocks with the framework (mostly between the PackageAdmin thread and the SCR Component Actor thread).&lt;/p&gt;

&lt;p&gt;The problem is that many operations of SCR are called in a bundle listener and cause further operations (while holding Java locks (synchronized)) inside the framework.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12436852">FELIX-1658</key>
            <summary>Deadlocks caused by component activation and deactivation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Sep 2009 20:07:38 +0000</created>
                <updated>Tue, 8 Dec 2009 15:49:27 +0000</updated>
                            <resolved>Thu, 29 Oct 2009 10:51:55 +0000</resolved>
                                    <version>scr-1.2.0</version>
                                    <fixVersion>scr-1.2.0</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12771382" author="fmeschbe" created="Thu, 29 Oct 2009 10:51:55 +0000"  >&lt;p&gt;Removed synchronization from the internal state changing methods in Rev. 830886. To try to prevent concurrent state changing actions, I introduced transient states which are set at the begining of changing the state. The transient states do nothing and thus prevent concurrent state changes.&lt;/p&gt;

&lt;p&gt;An issue, which might arise from this is, that there may be situations where a required state change might get lost. For example if the Activator Thread is activating a component (thus the component is in the ACITVATING state) and at the same time a service registration event would cause the component to have to be deactivated. This might get lost.&lt;/p&gt;

&lt;p&gt;For now, I think we are pretty much ok and a workaround is to manually disable/enable the respective component in such cases. As soon as we have a reproducable issue we can try to find a solution, for example to be able to &quot;abort&quot; acitvation to wait for the activation to terminate before continuing with deactivation &amp;#8211; though this then has the potential for deadlock again...&lt;/p&gt;</comment>
                            <comment id="12771406" author="fmeschbe" created="Thu, 29 Oct 2009 12:30:20 +0000"  >&lt;p&gt;In Rev. 830913 converted the dynamic import of the LogService package into a static but optional import. This shold prevent another potential deadlock which may be caused by the dynamic import package resolution code requiring the global lock in the Felix Framework.&lt;/p&gt;</comment>
                            <comment id="12787536" author="fmeschbe" created="Tue, 8 Dec 2009 15:49:27 +0000"  >&lt;p&gt;SCR 1.2.0 has been released. Close all issues.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57370</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vz2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184656</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>