<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:07:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-108] OBR should handle R3 bundles without symbolic name better</title>
                <link>https://issues.apache.org/jira/browse/FELIX-108</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Currently, OBR assumes that all bundles have symbolic names, but R3 bundles do not, which can lead to null pointer exceptions. Modify OBR so that it handles bundles without symbolic names more cleanly.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12347597">FELIX-108</key>
            <summary>OBR should handle R3 bundles without symbolic name better</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="rickhall">Richard S. Hall</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Aug 2006 12:48:14 +0000</created>
                <updated>Thu, 28 Aug 2008 14:04:38 +0000</updated>
                            <resolved>Thu, 28 Aug 2008 14:04:38 +0000</resolved>
                                                    <fixVersion>bundlerepository-1.2.0</fixVersion>
                                    <component>Bundle Repository (OBR)</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12523133" author="stefano.lenzi" created="Mon, 27 Aug 2007 23:34:03 +0000"  >&lt;p&gt;Do you think that using the following code:&lt;/p&gt;

&lt;p&gt;if(getSymbolicName() == null)&lt;br/&gt;
return getVersion().hashCode();&lt;/p&gt;

&lt;p&gt;return getSymbolicName().hashCode() ^ getVersion().hashCode();&lt;/p&gt;

&lt;p&gt;instead of&lt;/p&gt;

&lt;p&gt;return getSymbolicName().hashCode() ^ getVersion().hashCode();&lt;/p&gt;

&lt;p&gt;is not enough?&lt;/p&gt;</comment>
                            <comment id="12523231" author="rickhall" created="Tue, 28 Aug 2007 13:09:32 +0000"  >&lt;p&gt;I don&apos;t think this could work because OBR uses the symbolic name + version to uniquely identify bundles. If it doesn&apos;t have a symbolic name, there is no way to know what it is. Why not just add a symbolic name to the R3 bundle?&lt;/p&gt;</comment>
                            <comment id="12528463" author="stefano.lenzi" created="Tue, 18 Sep 2007 17:40:01 +0000"  >&lt;p&gt;OK! You&apos;re right, bad idea especially when you use the ResourceImpl.equals() methods.&lt;/p&gt;

&lt;p&gt;BTW, we can use a fall back checking which check every entry in the Properties of the ResourceImpl during the equals() method and return the Properties.hashCode() when the SymbolicName is missing.&lt;/p&gt;

&lt;p&gt;Finally, if we decide to be not compatible with OSGi version earlier than R4 we can close the issue and report the problem in the documentation of OBR and the main FAQ.&lt;/p&gt;</comment>
                            <comment id="12528480" author="rickhall" created="Tue, 18 Sep 2007 18:07:51 +0000"  >&lt;p&gt;Again, an R3 bundle is allowed to have a symbolic name header, so it is possible to work with bundles that target R3 as long as their manifest includes this header. But, yes, we should make this painfully clear in the documentation.&lt;/p&gt;</comment>
                            <comment id="12626237" author="fmeschbe" created="Wed, 27 Aug 2008 18:39:38 +0000"  >&lt;p&gt;I think a very simple solution to this case would be to simply test a resource without a symbolic name or version equal to itself and nothing else and to return the platform hashcode if the symbolic name or version is missing.&lt;/p&gt;

&lt;p&gt;See attached patch.&lt;/p&gt;

&lt;p&gt;WDYT ?&lt;/p&gt;</comment>
                            <comment id="12626391" author="rickhall" created="Thu, 28 Aug 2008 00:49:02 +0000"  >&lt;p&gt;This might work, but to be clear, such a bundle would be unmanageable by OBR. OBR tries to be smart and upgrade existing bundles to newer versions when possible to minimize the number of installed bundles (and potential class spaces), in this case it would never be able to do anything with this bundle. And the issue remains that OBR cannot deploy bundles without a symbolic name (i.e., to be in a repository), it only allows bundles without a symbolic name to be installed locally and their contents to be used to resolve dependencies. The only other option is to ignore them completely, but that is probably not the best solution.&lt;/p&gt;

&lt;p&gt;In the end, I am not against this, but it seems the best approach is to just add these headers to your bundles...of course this is not always possible.&lt;/p&gt;</comment>
                            <comment id="12626430" author="fmeschbe" created="Thu, 28 Aug 2008 05:14:51 +0000"  >&lt;p&gt;Agreed. OTOH the Resolver.resolve should not be terminated with an NPE just because such a bundle is installed in the framework.&lt;/p&gt;


&lt;p&gt;How about this: &quot;Felix OBR can use R3 bundles without symbolic name for dependency resolution but cannot update them&quot; ?&lt;/p&gt;</comment>
                            <comment id="12626558" author="rickhall" created="Thu, 28 Aug 2008 13:30:45 +0000"  >&lt;p&gt;Yes, the NPE has to be fixed regardless of the approach we use to fix it. I think it makes sense to use them for resolving, but otherwise ignore them.&lt;/p&gt;</comment>
                            <comment id="12626567" author="fmeschbe" created="Thu, 28 Aug 2008 14:02:06 +0000"  >&lt;p&gt;So I will apply my patch to prevent the NPE.&lt;/p&gt;

&lt;p&gt;In addition I have updated the Bundle Repository page &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; with a note on how R3 Bundles without Bundle-SymbolicName headers are handled.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://cwiki.apache.org/FELIX/apache-felix-osgi-bundle-repository-obr.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://cwiki.apache.org/FELIX/apache-felix-osgi-bundle-repository-obr.html&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12626570" author="fmeschbe" created="Thu, 28 Aug 2008 14:04:38 +0000"  >&lt;p&gt;I have applied my patch. I think we can close this issue then, WDYT ?&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12390211">FELIX-511</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12389027" name="FELIX-108.patch" size="1257" author="fmeschbe" created="Wed, 27 Aug 2008 18:39:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58875</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 13 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vvon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184106</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>