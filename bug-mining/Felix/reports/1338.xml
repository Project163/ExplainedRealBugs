<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:31:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2819] packageinfo files in src/main/java are ignored</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2819</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The bnd tool can pick up the package version from a packageinfo file if it is stored next to the java files.&lt;/p&gt;

&lt;p&gt;The maven-bundle-plugin will only include them in the jar, and make them visible to bnd if they are in the src/main/resources directory. I would like to use these files for specifying versions, rather than putting it in the pom. This allows me to specify the version once in this file even if it is repackaged in a different jar later.&lt;/p&gt;

&lt;p&gt;The problem is I have to put the files into src/main/resources which significantly reduces the chance of updating them when a change is made. Could the maven-bundle-plugin be updated to put the packageinfo files from src/main/java into the jar before calling bnd?&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Alasdair&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497484">FELIX-2819</key>
            <summary>packageinfo files in src/main/java are ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mcculls">Stuart McCulloch</assignee>
                                    <reporter username="not">Alasdair Nottingham</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Feb 2011 17:37:04 +0000</created>
                <updated>Tue, 11 Oct 2011 17:09:20 +0000</updated>
                            <resolved>Fri, 24 Jun 2011 18:21:37 +0000</resolved>
                                                    <fixVersion>maven-bundle-plugin-2.3.5</fixVersion>
                                    <component>Maven Bundle Plugin</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12989749" author="magnet" created="Wed, 2 Feb 2011 19:05:22 +0000"  >&lt;p&gt;This would be nice indeed.&lt;/p&gt;

&lt;p&gt;Just for the record (you might find it useful), we use the @Version bnd annotation on the package statement in the package-info.java file to achieve the same, and Maven is happy with this since it&apos;s a Java source file.&lt;/p&gt;

&lt;p&gt;E.g,&lt;/p&gt;

&lt;p&gt;@Version(&quot;1.0.2&quot;)&lt;br/&gt;
package com.mycompany.myproject.mypackage&lt;/p&gt;

&lt;p&gt;import aQute.bnd.annotation;&lt;/p&gt;

&lt;p&gt;One thing nice with this is that it&apos;s possible to use a String constant defined in a Java class, for those times when we want to make the version a part of the Java API... And this usage finally makes package-info.java interesting for more than just package javadoc. Drawbacks are that we depend on bnd.annotation&apos;s JAR at compile time only for manifest generation, and that no tool that I know of updates these versions when the API evolves.&lt;/p&gt;

&lt;p&gt;Hope this helps.&lt;/p&gt;</comment>
                            <comment id="12990098" author="not" created="Thu, 3 Feb 2011 13:47:18 +0000"  >&lt;p&gt;I didn&apos;t realize the package-info.java would be picked up, but I have some packages which are copied from the OSGi git repo and they use package.html and packageinfo. I don&apos;t feel comfortable rewriting these to be package-info.java instead. It is worth considering though.&lt;/p&gt;
</comment>
                            <comment id="12990744" author="magnet" created="Fri, 4 Feb 2011 21:13:44 +0000"  >&lt;p&gt;By the way, if you&apos;re not doing it already (or for people who might read this issue), here&apos;s the cleanest workaround :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;project&amp;gt;&lt;/span&gt;
	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;build&amp;gt;&lt;/span&gt;
	        &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- A lot of stuff may go here--&amp;gt;&lt;/span&gt;&lt;/span&gt;
		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;resources&amp;gt;&lt;/span&gt;
	                &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- You have to keep this only if you want to keep the default Maven layout as well--&amp;gt;&lt;/span&gt;&lt;/span&gt;                        
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;resource&amp;gt;&lt;/span&gt;
                                &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;directory&amp;gt;&lt;/span&gt;src/main/resources&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
                        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/resource&amp;gt;&lt;/span&gt;

	                &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- Here&apos;s the magic stuff: include everything except Java and hidden files (eg, .svn directories) --&amp;gt;&lt;/span&gt;&lt;/span&gt;                        
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;resource&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;directory&amp;gt;&lt;/span&gt;${project.build.sourceDirectory}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;excludes&amp;gt;&lt;/span&gt;
					&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;exclude&amp;gt;&lt;/span&gt;**/*.java&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/exclude&amp;gt;&lt;/span&gt;
					&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;exclude&amp;gt;&lt;/span&gt;**/.*&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/exclude&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/excludes&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/resource&amp;gt;&lt;/span&gt;

	                &amp;lt;!-- Alternatively, you may want to include only packageinfo files (if so, remove the previous
                              &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;resource/&amp;gt;&lt;/span&gt; block that is a superset of this one) --&amp;gt;                        
		        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;resource&amp;gt;&lt;/span&gt;
			        &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;directory&amp;gt;&lt;/span&gt;${project.build.sourceDirectory}&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/directory&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;includes&amp;gt;&lt;/span&gt;
					&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;include&amp;gt;&lt;/span&gt;**/packageinfo&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/include&amp;gt;&lt;/span&gt;
				&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/includes&amp;gt;&lt;/span&gt;
			&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/resource&amp;gt;&lt;/span&gt;

		&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/resources&amp;gt;&lt;/span&gt;

                &lt;span class=&quot;code-tag&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;&amp;lt;!-- A lot more stuff, including maven-bundle-plugin if you don&apos;t use pluginManagement in a parent POM --&amp;gt;&lt;/span&gt;&lt;/span&gt;
  	&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/build&amp;gt;&lt;/span&gt;
   &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;On our project we put the &quot;include all resources that are in src/&quot; rule in a parent POM... Of course, it would still be nice if maven-bundle-plugin would manage bnd-related files out-of-the-box.&lt;/p&gt;

&lt;p&gt;Hope this helps,&lt;/p&gt;

&lt;p&gt;Simon&lt;/p&gt;

&lt;p&gt;Edit: formating is completely messed up... &lt;/p&gt;</comment>
                            <comment id="12990755" author="not" created="Fri, 4 Feb 2011 21:27:08 +0000"  >&lt;p&gt;Words alone cannot express my joy at learning about this workaround. Thank you very much.&lt;/p&gt;

&lt;p&gt;Alasdair&lt;/p&gt;</comment>
                            <comment id="12990756" author="not" created="Fri, 4 Feb 2011 21:27:26 +0000"  >&lt;p&gt;That said, words is all you&apos;ll get, but thanks again.&lt;/p&gt;

&lt;p&gt;Alasdair&lt;/p&gt;</comment>
                            <comment id="13054605" author="mcculls" created="Fri, 24 Jun 2011 18:21:37 +0000"  >&lt;p&gt;Fixed in r1139399&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56134</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vy93:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184522</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>