<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:22:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2822] [Framework] System bundle module&apos;s state not reset when framework restarted leading to NPE</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2822</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Normally when a bundle is refreshed, we throw away its module and then recreate it, so we are always starting with a fresh module. For the system bundle, when we stop and restart the framework, the system bundle module is reused. When the framework is restarted, the system bundle module state is still resolved, so when we re-resolve it in Framework.init(), it doesn&apos;t get empty wires injected into it since the resolver thinks it&apos;s resolved. This leads to subsequent NPEs when the resolver tries to wire later modules to the system bundle.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12497616">FELIX-2822</key>
            <summary>[Framework] System bundle module&apos;s state not reset when framework restarted leading to NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="rickhall">Richard S. Hall</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Feb 2011 20:40:13 +0000</created>
                <updated>Mon, 21 Feb 2011 09:34:15 +0000</updated>
                            <resolved>Mon, 21 Feb 2011 09:34:15 +0000</resolved>
                                    <version>framework-3.0.8</version>
                                    <fixVersion>framework-3.0.9</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12992765" author="rickhall" created="Wed, 9 Feb 2011 22:49:01 +0000"  >&lt;p&gt;After thinking about it, I realize that the system bundle should be handled differently than other bundles when the framework is stopped. Normal bundles are unresolved and effectively discarded. The system bundle was being treated the same way, but this was causing a problem since the framework instance can be reused.&lt;/p&gt;

&lt;p&gt;To avoid this situation, since Felix extends BundleImpl, I just overrode BundleImpl.close() to do nothing. Thus, when the framework stops, all bundles except the system bundle are thrown away. This means that once the framework is started, the system bundle continues to exist and stays in the RESOLVED state forever, even after the framework stops.&lt;/p&gt;

&lt;p&gt;This makes sense, because if you reuse the framework instance then the system bundle doesn&apos;t need to be resolved again since its configuration cannot change from one session to the next.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40399</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aq33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60499</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>