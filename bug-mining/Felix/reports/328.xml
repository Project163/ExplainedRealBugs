<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:08:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-714] Needless component reactivation on startup</title>
                <link>https://issues.apache.org/jira/browse/FELIX-714</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;SCR registers a ManagedService on behalf of each component to receive configuration from the Configuration Admin Service.&lt;/p&gt;

&lt;p&gt;During component activation, SCR executes the following steps:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;registers a ManagedService on behalf of the Component&lt;/li&gt;
	&lt;li&gt;activates the Component&lt;/li&gt;
	&lt;li&gt;forwards configuration updates to the Component be reactivating it&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If on first component activation, the Configuration Admin Service has not yet updated the ManagedService the component will actually be activated twice: first without configuration and the second time with the configuration. If the Configuration Admin Service does not actually have configuration for the Component, the second activation is not needed and should be prevented.&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;http://markmail.org/message/64kiv5nah4bc2ys4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/64kiv5nah4bc2ys4&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12403972">FELIX-714</key>
            <summary>Needless component reactivation on startup</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Sep 2008 10:00:50 +0000</created>
                <updated>Fri, 6 Feb 2009 16:55:11 +0000</updated>
                            <resolved>Fri, 6 Feb 2009 14:51:50 +0000</resolved>
                                    <version>scr-1.0.0</version>
                    <version>scr-1.0.2</version>
                    <version>scr-1.0.4</version>
                    <version>scr-1.0.6</version>
                                    <fixVersion>scr-1.0.8</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12670551" author="pderop" created="Wed, 4 Feb 2009 23:27:03 +0000"  >&lt;p&gt;Hello Felix,&lt;br/&gt;
I come back to you about this old problem of double reactivation (it&apos;s really an issue for us).&lt;/p&gt;

&lt;p&gt;So far, I have made the following patch in ImmediateComponentManager.java -&amp;gt;&lt;/p&gt;

&lt;p&gt;    public void reconfigure( Dictionary configuration )&lt;br/&gt;
    {&lt;br/&gt;
        // (Pierre) ignore initial configuration admin callback if there&apos;s not configuration at all&lt;br/&gt;
        if (configuration == null) &lt;/p&gt;
{
	  return;
	}
&lt;p&gt;       ....&lt;/p&gt;

&lt;p&gt;But I am not sure if this quick patch is really sufficient (probably not).&lt;br/&gt;
Do you plan to fix this issue ?&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="12670732" author="fmeschbe" created="Thu, 5 Feb 2009 12:21:47 +0000"  >&lt;p&gt;Yes, this makes perfect sense, with one caveat: This method may be called with a null argument if there is no configuration on first startup and if any existing configuration has been deleted.&lt;/p&gt;

&lt;p&gt;So, we would have to take care of this situation like this:&lt;/p&gt;

&lt;p&gt;   public void reconfigure( Dictionary configuration )&lt;br/&gt;
    {&lt;br/&gt;
        // (Pierre) ignore initial configuration admin callback if there&apos;s not configuration at all&lt;br/&gt;
        if (configuration == null &amp;amp;&amp;amp; m_configurationProperties == null) &lt;/p&gt;
{
            return;
        }
&lt;p&gt;       .... &lt;/p&gt;

&lt;p&gt;WDYT ?&lt;/p&gt;</comment>
                            <comment id="12670791" author="pderop" created="Thu, 5 Feb 2009 15:26:02 +0000"  >&lt;p&gt;yes Felix, it sounds ok for me.&lt;/p&gt;

&lt;p&gt;Are you willing to commit this fix in the trunk ?&lt;/p&gt;
</comment>
                            <comment id="12671088" author="fmeschbe" created="Fri, 6 Feb 2009 10:42:21 +0000"  >&lt;p&gt;Yes, I will do this today.&lt;/p&gt;</comment>
                            <comment id="12671152" author="fmeschbe" created="Fri, 6 Feb 2009 14:51:50 +0000"  >&lt;p&gt;Applied the change in Rev. 741578.&lt;/p&gt;

&lt;p&gt;Can you please test whether this also works for you ? Thanks.&lt;/p&gt;</comment>
                            <comment id="12671162" author="fmeschbe" created="Fri, 6 Feb 2009 15:31:40 +0000"  >&lt;p&gt;I have deployed SNAPSHOT version 1.0.7-20090206.153010-1 containing this fix. &lt;/p&gt;</comment>
                            <comment id="12671187" author="pderop" created="Fri, 6 Feb 2009 16:29:06 +0000"  >&lt;p&gt;yes -&amp;gt; it works perfectly.&lt;br/&gt;
thanks &lt;/p&gt;</comment>
                            <comment id="12671200" author="fmeschbe" created="Fri, 6 Feb 2009 16:55:11 +0000"  >&lt;p&gt;Thanks. So this can be closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58275</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1aq53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270701</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>