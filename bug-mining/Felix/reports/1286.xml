<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:23:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2924] bundle stop hangs for http-2.2.0 in felix-3.2.0</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2924</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;stopping http jetty 2.2.0 hangs framework.&lt;/p&gt;

&lt;p&gt;it is fine with http jetty 2.0.4 in framework 3.2.0&lt;br/&gt;
or with http jetty 2.2.0 in framework 3.0.9&lt;/p&gt;



&lt;p&gt;$ cd felix-framework-3.2.0&lt;br/&gt;
$ java -jar bin/felix.jar &lt;br/&gt;
____________________________&lt;br/&gt;
Welcome to Apache Felix Gogo&lt;/p&gt;

&lt;p&gt;g! &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Started jetty 6.1.x at port(s) HTTP:8080&lt;/p&gt;

&lt;p&gt;g! lb&lt;br/&gt;
START LEVEL 1&lt;br/&gt;
   ID|State      |Level|Name&lt;br/&gt;
    0|Active     |    0|System Bundle (3.2.0)&lt;br/&gt;
    1|Active     |    1|Apache Felix Bundle Repository (1.6.2)&lt;br/&gt;
    2|Active     |    1|Apache Felix Gogo Command (0.8.0)&lt;br/&gt;
    3|Active     |    1|Apache Felix Gogo Runtime (0.8.0)&lt;br/&gt;
    4|Active     |    1|Apache Felix Gogo Shell (0.8.0)&lt;br/&gt;
    5|Active     |    1|Apache Felix Http Jetty (2.2.0)&lt;br/&gt;
g! stop 5&lt;/p&gt;

&lt;p&gt;[ HANGS HERE ]&lt;/p&gt;

&lt;p&gt;THREAD DUMP:&lt;/p&gt;

&lt;p&gt;^\2011-04-20 19:07:35&lt;br/&gt;
Full thread dump Java HotSpot(TM) 64-Bit Server VM (19.1-b02-334 mixed mode):&lt;/p&gt;

&lt;p&gt;&quot;Timer-0&quot; daemon prio=5 tid=102a5f000 nid=0x10ac9c000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;10ac9b000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f30aa0d0&amp;gt; (a java.util.TaskQueue)&lt;br/&gt;
        at java.util.TimerThread.mainLoop(Timer.java:509)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f30aa0d0&amp;gt; (a java.util.TaskQueue)&lt;br/&gt;
        at java.util.TimerThread.run(Timer.java:462)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Poller SunPKCS11-Darwin&quot; daemon prio=1 tid=1019c0800 nid=0x10ab99000 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;10ab98000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (sleeping)&lt;br/&gt;
        at java.lang.Thread.sleep(Native Method)&lt;br/&gt;
        at sun.security.pkcs11.SunPKCS11$TokenPoller.run(SunPKCS11.java:692)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:680)&lt;/p&gt;

&lt;p&gt;&quot;918201446@qtp-896472140-0&quot; prio=5 tid=1029cf800 nid=0x10a93c000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;10a93b000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: TIMED_WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f42b2040&amp;gt; (a org.mortbay.thread.QueuedThreadPool$PoolThread)&lt;br/&gt;
        at org.mortbay.thread.QueuedThreadPool$PoolThread.run(QueuedThreadPool.java:626)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f42b2040&amp;gt; (a org.mortbay.thread.QueuedThreadPool$PoolThread)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Jetty HTTP Service&quot; daemon prio=5 tid=1029cd000 nid=0x10a839000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;10a837000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f437f998&amp;gt; (a [Ljava.lang.Object&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
        at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
        at org.apache.felix.framework.Felix.acquireBundleLock(Felix.java:4930)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f437f998&amp;gt; (a [Ljava.lang.Object&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
        at org.apache.felix.framework.Felix.removeServiceListener(Felix.java:2844)&lt;br/&gt;
        at org.apache.felix.framework.BundleContextImpl.removeServiceListener(BundleContextImpl.java:256)&lt;br/&gt;
        at org.osgi.util.tracker.ServiceTracker.close(ServiceTracker.java:391)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f4344008&amp;gt; (a org.apache.felix.http.base.internal.listener.HttpSessionAttributeListenerManager)&lt;br/&gt;
        at org.apache.felix.http.base.internal.HttpServiceController.unregister(HttpServiceController.java:144)&lt;br/&gt;
        at org.apache.felix.http.base.internal.DispatcherServlet.destroy(DispatcherServlet.java:54)&lt;br/&gt;
        at org.mortbay.jetty.servlet.ServletHolder.destroyInstance(ServletHolder.java:318)&lt;br/&gt;
        at org.mortbay.jetty.servlet.ServletHolder.doStop(ServletHolder.java:289)&lt;br/&gt;
        at org.mortbay.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:76)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f42f4cb0&amp;gt; (a java.lang.Object)&lt;br/&gt;
        at org.mortbay.jetty.servlet.ServletHandler.doStop(ServletHandler.java:174)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f42f49c8&amp;gt; (a org.mortbay.jetty.servlet.ServletHandler)&lt;br/&gt;
        at org.mortbay.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:76)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f42f4a38&amp;gt; (a java.lang.Object)&lt;br/&gt;
        at org.mortbay.jetty.handler.HandlerWrapper.doStop(HandlerWrapper.java:142)&lt;br/&gt;
        at org.mortbay.jetty.servlet.SessionHandler.doStop(SessionHandler.java:125)&lt;br/&gt;
        at org.mortbay.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:76)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f42f51a8&amp;gt; (a java.lang.Object)&lt;br/&gt;
        at org.mortbay.jetty.handler.HandlerWrapper.doStop(HandlerWrapper.java:142)&lt;br/&gt;
        at org.mortbay.jetty.handler.ContextHandler.doStop(ContextHandler.java:591)&lt;br/&gt;
        at org.mortbay.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:76)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f42f4890&amp;gt; (a java.lang.Object)&lt;br/&gt;
        at org.mortbay.jetty.handler.HandlerWrapper.doStop(HandlerWrapper.java:142)&lt;br/&gt;
        at org.mortbay.jetty.Server.doStop(Server.java:283)&lt;br/&gt;
        at org.mortbay.component.AbstractLifeCycle.stop(AbstractLifeCycle.java:76)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f42f1d30&amp;gt; (a java.lang.Object)&lt;br/&gt;
        at org.apache.felix.http.jetty.internal.JettyService.stopJetty(JettyService.java:127)&lt;br/&gt;
        at org.apache.felix.http.jetty.internal.JettyService.run(JettyService.java:300)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:680)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Gogo shell&quot; daemon prio=5 tid=102ab8800 nid=0x10a736000 waiting for monitor entry &lt;span class=&quot;error&quot;&gt;&amp;#91;10a733000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: BLOCKED (on object monitor)&lt;br/&gt;
        at org.osgi.util.tracker.ServiceTracker.close(ServiceTracker.java:380)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting to lock &amp;lt;7f4344008&amp;gt; (a org.apache.felix.http.base.internal.listener.HttpSessionAttributeListenerManager)&lt;br/&gt;
        at org.apache.felix.http.base.internal.HttpServiceController.unregister(HttpServiceController.java:144)&lt;br/&gt;
        at org.apache.felix.http.base.internal.AbstractHttpActivator.doStop(AbstractHttpActivator.java:52)&lt;br/&gt;
        at org.apache.felix.http.jetty.internal.JettyActivator.doStop(JettyActivator.java:39)&lt;br/&gt;
        at org.apache.felix.http.base.internal.AbstractActivator.stop(AbstractActivator.java:47)&lt;br/&gt;
        at org.apache.felix.framework.util.SecureAction.stopActivator(SecureAction.java:651)&lt;br/&gt;
        at org.apache.felix.framework.Felix.stopBundle(Felix.java:2226)&lt;br/&gt;
        at org.apache.felix.framework.BundleImpl.stop(BundleImpl.java:963)&lt;br/&gt;
        at org.apache.felix.gogo.command.Basic.stop(Basic.java:817)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Reflective.method(Reflective.java:136)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:82)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:469)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:395)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:89)&lt;br/&gt;
        at org.apache.felix.gogo.shell.Console.run(Console.java:62)&lt;br/&gt;
        at org.apache.felix.gogo.shell.Shell.console(Shell.java:203)&lt;br/&gt;
        at org.apache.felix.gogo.shell.Shell.gosh(Shell.java:128)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
        at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Reflective.method(Reflective.java:136)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:82)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:469)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:395)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)&lt;br/&gt;
        at org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:89)&lt;br/&gt;
        at org.apache.felix.gogo.shell.Activator.run(Activator.java:75)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:680)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;FelixPackageAdmin&quot; daemon prio=5 tid=102a6c000 nid=0x10a623000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;10a622000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f43306d0&amp;gt; (a org.apache.felix.framework.PackageAdminImpl)&lt;br/&gt;
        at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
        at org.apache.felix.framework.PackageAdminImpl.run(PackageAdminImpl.java:350)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f43306d0&amp;gt; (a org.apache.felix.framework.PackageAdminImpl)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:680)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;FelixStartLevel&quot; daemon prio=5 tid=102ac0000 nid=0x10a520000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;10a51f000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f4340e10&amp;gt; (a java.util.ArrayList)&lt;br/&gt;
        at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
        at org.apache.felix.framework.StartLevelImpl.run(StartLevelImpl.java:242)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f4340e10&amp;gt; (a java.util.ArrayList)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:680)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;FelixDispatchQueue&quot; prio=5 tid=102900000 nid=0x10a401000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;10a400000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f4340fc8&amp;gt; (a java.util.ArrayList)&lt;br/&gt;
        at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.run(EventDispatcher.java:924)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f4340fc8&amp;gt; (a java.util.ArrayList)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher.access$000(EventDispatcher.java:54)&lt;br/&gt;
        at org.apache.felix.framework.util.EventDispatcher$1.run(EventDispatcher.java:106)&lt;br/&gt;
        at java.lang.Thread.run(Thread.java:680)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Low Memory Detector&quot; daemon prio=5 tid=101830000 nid=0x109f90000 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;00000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;CompilerThread1&quot; daemon prio=9 tid=10182f000 nid=0x109e8d000 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;00000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;CompilerThread0&quot; daemon prio=9 tid=10182e800 nid=0x109d8a000 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;00000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;Signal Dispatcher&quot; daemon prio=9 tid=10182d800 nid=0x109c87000 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;00000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;Surrogate Locker Thread (CMS)&quot; daemon prio=5 tid=102886800 nid=0x109b84000 waiting on condition &lt;span class=&quot;error&quot;&gt;&amp;#91;00000000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;/p&gt;

&lt;p&gt;&quot;Finalizer&quot; daemon prio=8 tid=10287e000 nid=0x1097fc000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;1097fb000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f4341540&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:118)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f4341540&amp;gt; (a java.lang.ref.ReferenceQueue$Lock)&lt;br/&gt;
        at java.lang.ref.ReferenceQueue.remove(ReferenceQueue.java:134)&lt;br/&gt;
        at java.lang.ref.Finalizer$FinalizerThread.run(Finalizer.java:159)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;Reference Handler&quot; daemon prio=10 tid=10287d000 nid=0x1096f9000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;1096f8000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f42b0210&amp;gt; (a java.lang.ref.Reference$Lock)&lt;br/&gt;
        at java.lang.Object.wait(Object.java:485)&lt;br/&gt;
        at java.lang.ref.Reference$ReferenceHandler.run(Reference.java:116)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f42b0210&amp;gt; (a java.lang.ref.Reference$Lock)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;main&quot; prio=5 tid=102801000 nid=0x100601000 in Object.wait() &lt;span class=&quot;error&quot;&gt;&amp;#91;100600000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: WAITING (on object monitor)&lt;br/&gt;
        at java.lang.Object.wait(Native Method)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on &amp;lt;7f4341648&amp;gt; (a org.apache.felix.framework.util.ThreadGate)&lt;br/&gt;
        at org.apache.felix.framework.util.ThreadGate.await(ThreadGate.java:79)&lt;/li&gt;
	&lt;li&gt;locked &amp;lt;7f4341648&amp;gt; (a org.apache.felix.framework.util.ThreadGate)&lt;br/&gt;
        at org.apache.felix.framework.Felix.waitForStop(Felix.java:916)&lt;br/&gt;
        at org.apache.felix.main.Main.main(Main.java:295)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&quot;VM Thread&quot; prio=9 tid=102878800 nid=0x1095f6000 runnable &lt;/p&gt;

&lt;p&gt;&quot;Gang worker#0 (Parallel GC Threads)&quot; prio=9 tid=102802800 nid=0x10176a000 runnable &lt;/p&gt;

&lt;p&gt;&quot;Gang worker#1 (Parallel GC Threads)&quot; prio=9 tid=102803000 nid=0x102301000 runnable &lt;/p&gt;

&lt;p&gt;&quot;Concurrent Mark-Sweep GC Thread&quot; prio=9 tid=10284d800 nid=0x109302000 runnable &lt;br/&gt;
&quot;VM Periodic Task Thread&quot; prio=10 tid=101841800 nid=0x10a093000 waiting on condition &lt;/p&gt;

&lt;p&gt;&quot;Exception Catcher Thread&quot; prio=10 tid=102801800 nid=0x100704000 runnable &lt;br/&gt;
JNI global references: 947&lt;/p&gt;

&lt;p&gt;Heap&lt;br/&gt;
 par new generation   total 19136K, used 3672K [7f3000000, 7f44c0000, 7f44c0000)&lt;br/&gt;
  eden space 17024K,  13% used [7f3000000, 7f3249bb8, 7f40a0000)&lt;br/&gt;
  from space 2112K,  62% used [7f42b0000, 7f43fc778, 7f44c0000)&lt;br/&gt;
  to   space 2112K,   0% used [7f40a0000, 7f40a0000, 7f42b0000)&lt;br/&gt;
 concurrent mark-sweep generation total 63872K, used 0K [7f44c0000, 7f8320000, 7fae00000)&lt;br/&gt;
 concurrent-mark-sweep perm gen total 21248K, used 10352K [7fae00000, 7fc2c0000, 800000000)&lt;/p&gt;</description>
                <environment>Mac OSX java version &amp;quot;1.6.0_24&amp;quot;</environment>
        <key id="12504815">FELIX-2924</key>
            <summary>bundle stop hangs for http-2.2.0 in felix-3.2.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="db82407">Derek Baum</reporter>
                        <labels>
                    </labels>
                <created>Wed, 20 Apr 2011 18:16:03 +0000</created>
                <updated>Wed, 27 Apr 2011 19:21:41 +0000</updated>
                            <resolved>Thu, 21 Apr 2011 14:03:15 +0000</resolved>
                                    <version>framework-3.2.0</version>
                                    <fixVersion>framework-3.2.1</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13022290" author="rickhall" created="Wed, 20 Apr 2011 18:51:55 +0000"  >&lt;p&gt;I am pretty sure this is the same issue as &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2913&quot; title=&quot;Deadlock in some case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2913&quot;&gt;&lt;del&gt;FELIX-2913&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13022748" author="rickhall" created="Thu, 21 Apr 2011 13:50:30 +0000"  >&lt;p&gt;This bug doesn&apos;t actually duplicate &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2913&quot; title=&quot;Deadlock in some case&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2913&quot;&gt;&lt;del&gt;FELIX-2913&lt;/del&gt;&lt;/a&gt;, but it is definitely related. I think we could solve this bug by relaxing locking when removing a listener (i.e., not acquire the bundle lock), since this would only be a no-op if a listener was removed after a bundle was stopped.&lt;/p&gt;</comment>
                            <comment id="13022753" author="rickhall" created="Thu, 21 Apr 2011 14:03:15 +0000"  >&lt;p&gt;Derek, I&apos;ve committed a patch to avoid acquiring the lock for removing listeners, could you check to see if this works for you now? If so, please close the bug. Thanks.&lt;/p&gt;</comment>
                            <comment id="13022765" author="db82407" created="Thu, 21 Apr 2011 14:31:21 +0000"  >&lt;p&gt;patch fix on trunk resolves issue. Thanks&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12505341">FELIX-2936</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12504155">FELIX-2913</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56058</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vy1b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184487</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>