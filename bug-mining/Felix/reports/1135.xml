<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:20:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2603] wrong behavior of InstanceManager.onSet(..) method</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2603</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;Clement and I has talked about this issue, and some different point of views are welcome.&lt;/p&gt;

&lt;p&gt;Currently, in the InstanceManager.onSet(..) method, the calls to the FieldInterceptor.onSet(..) is conditioned by &apos;!value.equals(objectValue)&apos;, the &apos;value&apos; is the current reference to the intercepted field, &apos;objectValue&apos; is the reference that is going to be assigned to the intercepted field.&lt;br/&gt;
See line 1096 of InstanceManager.java in iPOJO core 1.6.4.&lt;br/&gt;
Thus, in my opinion, the semantic of &apos;onSet&apos; is not really what is described in the iPOJO documentation &quot;This method is called each time a field of the POJO is assigned&quot; (see &lt;a href=&quot;http://felix.apache.org/site/how-to-write-your-own-handler.html#Howtowriteyourownhandler-InteractingwiththePOJO&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/site/how-to-write-your-own-handler.html#Howtowriteyourownhandler-InteractingwiththePOJO&lt;/a&gt;). Its semantic is rather &quot;this method is called each time a field of the POJO is assigned and the new assigned value is different (in the &apos;equals(..)&apos; method way) from the current value&quot;.&lt;/p&gt;

&lt;p&gt;Moreover, the call to &apos;equals&apos; method can result in some expensive computations, thus this optimization can be counter productive.&lt;/p&gt;

&lt;p&gt;I suggest to remove the condition &apos;!value.equals(objectValue))&apos; in &apos;InstanceManager.onSet(..)&apos;.&lt;br/&gt;
If some external codes rely on the current behavior of onSet(..), rename the &apos;InstanceManager.onSet(..)&apos; to &apos;InstanceManager.onModification(..)&apos;, add the method onModification(..) in FieldInterceptor interface, and adapt the external codes to use this new &apos;onModification(..)&apos; method.&lt;/p&gt;</description>
                <environment>all</environment>
        <key id="12474588">FELIX-2603</key>
            <summary>wrong behavior of InstanceManager.onSet(..) method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clement.escoffier">Clement Escoffier</assignee>
                                    <reporter username="p.a">P.A</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Sep 2010 13:11:18 +0000</created>
                <updated>Thu, 4 Nov 2010 08:03:09 +0000</updated>
                            <resolved>Tue, 21 Sep 2010 08:46:44 +0000</resolved>
                                    <version>iPOJO-1.4.0</version>
                                    <fixVersion>iPOJO-1.8.0</fixVersion>
                                    <component>iPOJO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12912882" author="clement.escoffier" created="Tue, 21 Sep 2010 08:48:10 +0000"  >&lt;p&gt;Fixed in trunk, I&apos;ve also deployed a SNAPSHOT versions.&lt;/p&gt;

&lt;p&gt;Thanks !&lt;/p&gt;</comment>
                            <comment id="12928156" author="clement.escoffier" created="Thu, 4 Nov 2010 08:03:09 +0000"  >&lt;p&gt;Released in iPOJO Core 1.6.6&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40559</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ar2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60659</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>