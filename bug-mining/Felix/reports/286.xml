<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:08:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-760] Version range in Fragment-Host declaration</title>
                <link>https://issues.apache.org/jira/browse/FELIX-760</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The catalina coyote bundle in the SpringSource.com bundle repository (&lt;a href=&quot;http://www.springsource.com/repository/app/bundle/version/detail?name=com.springsource.org.apache.coyote&amp;amp;version=6.0.16&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.springsource.com/repository/app/bundle/version/detail?name=com.springsource.org.apache.coyote&amp;amp;version=6.0.16&lt;/a&gt;) specifies a Fragment-Host using a version range (which IMHO is correct):&lt;/p&gt;

&lt;p&gt;Fragment-Host: com.springsource.org.apache.catalina;version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;6.0.16, 6.0.16&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;

&lt;p&gt;The Maven Bundle Plugin creates an entry in the OBR repository metadata which contains a capability with a version &quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;6.0.16, 6.0.16&amp;#93;&lt;/span&gt;&quot;:&lt;/p&gt;

&lt;p&gt;&amp;lt;capability name=&quot;fragment&quot;&amp;gt;&lt;br/&gt;
&amp;lt;p n=&quot;host&quot; v=&quot;com.springsource.org.apache.catalina&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;p n=&quot;version&quot; t=&quot;version&quot; v=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;6.0.16,6.0.16&amp;#93;&lt;/span&gt;&quot;/&amp;gt;&lt;br/&gt;
&amp;lt;/capability&amp;gt;&lt;/p&gt;

&lt;p&gt;This cannot be read by the bundle repository plugin resulting in the following exception:&lt;/p&gt;

&lt;p&gt;java.lang.NumberFormatException: For input string: &quot;[6&quot;&lt;br/&gt;
        at java.lang.NumberFormatException.forInputString(NumberFormatException.java:48)&lt;br/&gt;
        at java.lang.Integer.parseInt(Integer.java:447)&lt;br/&gt;
        at java.lang.Integer.parseInt(Integer.java:497)&lt;br/&gt;
        at org.osgi.framework.Version.&amp;lt;init&amp;gt;(Version.java:128)&lt;br/&gt;
        at org.apache.felix.bundlerepository.PropertyImpl.convertType(PropertyImpl.java:85)&lt;br/&gt;
        at org.apache.felix.bundlerepository.PropertyImpl.setT(PropertyImpl.java:62)&lt;br/&gt;
        at sun.reflect.GeneratedMethodAccessor43.invoke(Unknown Source)&lt;br/&gt;
        at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
        at java.lang.reflect.Method.invoke(Method.java:585)&lt;br/&gt;
        at org.apache.felix.bundlerepository.metadataparser.XmlCommonHandler.startElement(XmlCommonHandler.java:490)&lt;br/&gt;
        at org.apache.felix.bundlerepository.metadataparser.kxmlsax.KXml2SAXParser.parseXML(KXml2SAXParser.java:67)&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;PS: is the declaration of a Fragment-Host really a capability? I think it should be requirement...&lt;/p&gt;</description>
                <environment>Maven Bundle Plugin 1.4.3&lt;br/&gt;
Apache Felix Bundle Repository 1.2.0&lt;br/&gt;
Apache Felix 1.2.1/Eclipse Equinox 3.4.0</environment>
        <key id="12406175">FELIX-760</key>
            <summary>Version range in Fragment-Host declaration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="dirk.mahler">Dirk Mahler</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Oct 2008 13:40:09 +0000</created>
                <updated>Fri, 7 Jun 2013 13:06:23 +0000</updated>
                                            <version>maven-bundle-plugin-1.4.3</version>
                    <version>bundlerepository-1.2.0</version>
                                    <fixVersion>maven-bundle-plugin-future</fixVersion>
                                    <component>Bundle Repository (OBR)</component>
                    <component>Maven Bundle Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12638560" author="mcculls" created="Fri, 10 Oct 2008 13:58:31 +0000"  >&lt;p&gt;FYI, according to the current OBR RFC:&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;http://www.osgi.org/Download/File?url=/download/rfc-0112_BundleRepository.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.osgi.org/Download/File?url=/download/rfc-0112_BundleRepository.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;fragment bundles will have a requirement on their host, but also a capability of &quot;fragment&quot; because they can be used as fragments.&lt;/p&gt;</comment>
                            <comment id="12638565" author="mcculls" created="Fri, 10 Oct 2008 14:23:33 +0000"  >&lt;p&gt;Also according to the core OSGi spec it should be:&lt;/p&gt;

&lt;p&gt;  Fragment-Host: com.springsource.org.apache.catalina;bundle-version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;6.0.16, 6.0.16&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;

&lt;p&gt;not:&lt;/p&gt;

&lt;p&gt;  Fragment-Host: com.springsource.org.apache.catalina;version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;6.0.16, 6.0.16&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;

&lt;p&gt;but then I think the bindex code needs to be changed anyway because it doesn&apos;t seem to pick up the bundle-version attribute properly for use in the &quot;extend&quot; requirement. As to what version the fragment capability should use, that isn&apos;t specified in the RFC but it can&apos;t be a version range if the type is set to &quot;version&quot;.&lt;/p&gt;</comment>
                            <comment id="12638570" author="dirk.mahler" created="Fri, 10 Oct 2008 14:46:08 +0000"  >&lt;p&gt;I opened an issue for the SpringSource Bundle Repository to fix the wrong declaration of the bundle version for the fragment host: &lt;a href=&quot;https://issuetracker.springsource.com/browse/BRITS-191&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://issuetracker.springsource.com/browse/BRITS-191&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12668542" author="mcculls" created="Thu, 29 Jan 2009 18:25:21 +0000"  >&lt;p&gt;Temporarily assigning to Peter, as this is more of a Bindex / OBR spec question.&lt;/p&gt;</comment>
                            <comment id="13056181" author="mcculls" created="Mon, 27 Jun 2011 23:07:38 +0000"  >&lt;p&gt;This requires a fix in the bundlerepository code, since that is where the fragment capability is now computed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58229</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1apyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270671</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>