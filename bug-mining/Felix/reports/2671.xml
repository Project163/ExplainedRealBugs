<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 16:03:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4923] SslFilterResponse doesn &apos;t take in account ssl-forward.header property</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4923</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;&lt;tt&gt;SslFilterResponse&lt;/tt&gt; doesn &apos;t take in account &lt;tt&gt;ssl-forward&lt;/tt&gt;.header property.&lt;br/&gt;
Indeed the &lt;tt&gt;SslFilterResponse&lt;/tt&gt; constructor hardcodes &lt;tt&gt;HDR_X_FORWARDED_PROTO&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;...
request.getHeader(HDR_X_FORWARDED_PROTO);
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the  &lt;tt&gt;ssl-forward&lt;/tt&gt; osgin configuration should be taken in account IMHO. The default is even different than &lt;tt&gt;HDR_X_FORWARDED_PROTO&lt;/tt&gt; indeed is rather &lt;tt&gt;X-Forwarded-SSL&lt;/tt&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12837352">FELIX-4923</key>
            <summary>SslFilterResponse doesn &apos;t take in account ssl-forward.header property</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="asanso">Antonio Sanso</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jun 2015 08:55:49 +0000</created>
                <updated>Fri, 5 Aug 2016 08:32:40 +0000</updated>
                            <resolved>Tue, 2 Aug 2016 07:30:35 +0000</resolved>
                                                    <fixVersion>http.sslfilter-1.0.8</fixVersion>
                                    <component>HTTP Service</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14940826" author="cziegeler" created="Fri, 2 Oct 2015 06:48:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; Is this still an issue?&lt;/p&gt;</comment>
                            <comment id="14940832" author="asanso" created="Fri, 2 Oct 2015 06:54:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; I&apos;d say so....&lt;/p&gt;</comment>
                            <comment id="14940851" author="cziegeler" created="Fri, 2 Oct 2015 07:26:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; If I understand the code correctly, X-Forwaded-SSL is checked to see whether the filter should run at all, and then the harded headers are used to get the protocol and the port. Not sure if that makes sense or not. In any case, care to make a patch?&lt;/p&gt;</comment>
                            <comment id="14940863" author="asanso" created="Fri, 2 Oct 2015 07:46:20 +0000"  >&lt;p&gt;Sure. I&apos;ll propose a patch...&lt;/p&gt;</comment>
                            <comment id="15327258" author="cziegeler" created="Mon, 13 Jun 2016 12:27:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; Do we still need to do something about this?&lt;/p&gt;</comment>
                            <comment id="15327264" author="asanso" created="Mon, 13 Jun 2016 12:30:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; is a minor nice to have.&lt;/p&gt;</comment>
                            <comment id="15401749" author="asanso" created="Mon, 1 Aug 2016 09:14:15 +0000"  >&lt;p&gt;attaching proposed patch&lt;/p&gt;</comment>
                            <comment id="15401786" author="asanso" created="Mon, 1 Aug 2016 10:00:04 +0000"  >&lt;p&gt;update patch with better tests&lt;/p&gt;</comment>
                            <comment id="15401800" author="kwin" created="Mon, 1 Aug 2016 10:24:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt; Even in your patch you making some assumptions about the header name and value. Is the comparison &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (cfg.sslValue.equalsIgnoreCase(httpReq.getHeader(cfg.sslHeader))) 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;not enough here?&lt;/p&gt;

&lt;p&gt;In case we really want to distinguish between the 3 cases:&lt;br/&gt;
1) HTTPS terminated at proxy in front, Felix accessed through HTTP&lt;br/&gt;
2) HTTP terminated at proxy in front, Felix accessed through HTTPS&lt;br/&gt;
3) Felix directly accessed through HTTP or HTTPS&lt;br/&gt;
we need to extend the OSGi configuration with a value for use case 2) as well.&lt;/p&gt;</comment>
                            <comment id="15401823" author="asanso" created="Mon, 1 Aug 2016 10:46:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kwin&quot; class=&quot;user-hover&quot; rel=&quot;kwin&quot;&gt;kwin&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;...not enough here?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;not enough &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;we need to extend the OSGi configuration with a value for use case 2) as well.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;fine to me let&apos;s tackle in another issue though&lt;/p&gt;</comment>
                            <comment id="15403536" author="cziegeler" created="Tue, 2 Aug 2016 07:30:35 +0000"  >&lt;p&gt;Thanks for your patch &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=asanso&quot; class=&quot;user-hover&quot; rel=&quot;asanso&quot;&gt;asanso&lt;/a&gt;. It&apos;s applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12821298" name="FELIX-4923-patch.txt" size="9871" author="asanso" created="Mon, 1 Aug 2016 10:00:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 16 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fyrz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>