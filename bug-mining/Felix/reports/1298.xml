<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:25:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2935] Bundle.getEntryPaths and findEntries are returning META-INF/ multiple times</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2935</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Bundle.getEntryPaths(&quot;/&quot;) and Bundle.findEntries(&quot;/&quot;, &quot;*&quot;, true) return META-INF/ twice. There is no fragment attached, so there is no reason for findEntries to return twice.&lt;/p&gt;

&lt;p&gt;My code looks like this:&lt;br/&gt;
    void printEntryPaths(Bundle b, String s) {&lt;br/&gt;
        Enumeration e = b.getEntryPaths(s);&lt;br/&gt;
        if (e!=null) {&lt;br/&gt;
            while (e.hasMoreElements()) &lt;/p&gt;
{
                String next = (String)e.nextElement();
                System.out.println(next);
                printEntryPaths(b, next);
            }
&lt;p&gt;        }&lt;br/&gt;
    }&lt;/p&gt;


&lt;p&gt;    void printEntryPaths2(Bundle b, String s) {&lt;br/&gt;
        Enumeration e = b.findEntries(s, &quot;*&quot;, true);&lt;br/&gt;
        if (e != null) {&lt;br/&gt;
            while (e.hasMoreElements()) &lt;/p&gt;
{
                URL next = (URL)e.nextElement();
                System.out.println(next.getPath());
            }
&lt;p&gt;        }&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;This seems to be a regression.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12505301">FELIX-2935</key>
            <summary>Bundle.getEntryPaths and findEntries are returning META-INF/ multiple times</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="sahoo">Sanjeeb Kumar Sahoo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Apr 2011 12:31:51 +0000</created>
                <updated>Wed, 11 May 2011 17:41:23 +0000</updated>
                            <resolved>Mon, 9 May 2011 15:49:49 +0000</resolved>
                                    <version>framework-3.0.8</version>
                                    <fixVersion>framework-3.2.2</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13025770" author="sahoo" created="Wed, 27 Apr 2011 12:34:28 +0000"  >&lt;p&gt;Unzip. See README for simple instructions to test.&lt;/p&gt;</comment>
                            <comment id="13025854" author="rickhall" created="Wed, 27 Apr 2011 15:45:35 +0000"  >&lt;p&gt;This is what I see:&lt;/p&gt;

&lt;p&gt;g! lb&lt;br/&gt;
START LEVEL 1&lt;br/&gt;
   ID|State      |Level|Name&lt;br/&gt;
    0|Active     |    0|System Bundle (3.0.8)&lt;br/&gt;
    1|Active     |    1|Apache Felix Bundle Repository (1.6.2)&lt;br/&gt;
    2|Active     |    1|Apache Felix Gogo Command (0.8.0)&lt;br/&gt;
    3|Active     |    1|Apache Felix Gogo Runtime (0.8.0)&lt;br/&gt;
    4|Active     |    1|Apache Felix Gogo Shell (0.8.0)&lt;br/&gt;
    5|Installed  |    1|print-bundle-entries (1.0.0.SNAPSHOT)&lt;br/&gt;
g! start 5&lt;br/&gt;
Foo() called&lt;br/&gt;
sahoo.osgitest1.Foo@13e58d4.start()&lt;br/&gt;
Installed rfc143.test4 &lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;&lt;br/&gt;
Using printEntryPaths&lt;br/&gt;
META-INF/&lt;br/&gt;
META-INF/MANIFEST.MF&lt;br/&gt;
index.html&lt;br/&gt;
WEB-INF/&lt;br/&gt;
WEB-INF/lib/&lt;br/&gt;
WEB-INF/lib/entities1-osgi.jar&lt;br/&gt;
Using printEntryPaths2&lt;br/&gt;
/META-INF/&lt;br/&gt;
/META-INF/MANIFEST.MF&lt;br/&gt;
/index.html&lt;br/&gt;
/WEB-INF/&lt;br/&gt;
/WEB-INF/lib/&lt;br/&gt;
/WEB-INF/lib/entities1-osgi.jar&lt;br/&gt;
Uninstalled rfc143.test4 &lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;&lt;br/&gt;
g! &lt;/p&gt;

&lt;p&gt;What should I be seeing? Maybe it is platform specific.&lt;/p&gt;</comment>
                            <comment id="13026308" author="rickhall" created="Thu, 28 Apr 2011 13:54:10 +0000"  >&lt;p&gt;After some investigation, I determined that this bug is actually happening and that it occurs when a directory entry in the JAR appears after an entry in the directory. Duplicate bug &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2940&quot; title=&quot;JARs with unusual zip entry order can result in duplicate entries of Bundle.getEntryPaths()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2940&quot;&gt;&lt;del&gt;FELIX-2940&lt;/del&gt;&lt;/a&gt; has a pretty good explanation.&lt;/p&gt;</comment>
                            <comment id="13030778" author="rickhall" created="Mon, 9 May 2011 15:49:49 +0000"  >&lt;p&gt;Committed a patch. Please close this issue if satisfied, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12477533" name="FELIX-2935.zip" size="7629" author="sahoo" created="Wed, 27 Apr 2011 12:34:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56048</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vs6f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183538</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>