<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:54:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4530] [SCR Plugin] Revisit setting the default output to target/classes</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4530</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;With &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4241&quot; title=&quot;Change default output directory for SCR annotations to ${project.build.directory}/classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4241&quot;&gt;&lt;del&gt;FELIX-4241&lt;/del&gt;&lt;/a&gt; the default value for the descriptor output files has been set to &lt;tt&gt;target/classes&lt;/tt&gt;. Unfortunately this causes &lt;tt&gt;target/classes&lt;/tt&gt; to be added to the Maven Input Resources resulting in all contents of &lt;tt&gt;target/classes&lt;/tt&gt; to be included in the final bundle regardless of whether this is actually desired or not.&lt;/p&gt;

&lt;p&gt;Regardless of tooling integration noted in &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4241&quot; title=&quot;Change default output directory for SCR annotations to ${project.build.directory}/classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4241&quot;&gt;&lt;del&gt;FELIX-4241&lt;/del&gt;&lt;/a&gt;, it is against the spirit of the bundle plugin to blindly include everything in &lt;tt&gt;target/classes&lt;/tt&gt; in the bundle. So the resolution for &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4241&quot; title=&quot;Change default output directory for SCR annotations to ${project.build.directory}/classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4241&quot;&gt;&lt;del&gt;FELIX-4241&lt;/del&gt;&lt;/a&gt; must be revisited.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12720570">FELIX-4530</key>
            <summary>[SCR Plugin] Revisit setting the default output to target/classes</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 11 Jun 2014 12:37:47 +0000</created>
                <updated>Thu, 31 Jul 2014 13:17:27 +0000</updated>
                            <resolved>Mon, 28 Jul 2014 05:54:59 +0000</resolved>
                                    <version>maven-scr-plugin 1.17.0</version>
                                    <fixVersion>maven-scr-plugin 1.19.0</fixVersion>
                                    <component>SCR Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14027895" author="cziegeler" created="Wed, 11 Jun 2014 15:36:18 +0000"  >&lt;p&gt;Ok, so it seems whatever default we pick, it might be wrong &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
I personally think having a default that works in the general case and also supports tooling, is the better one.&lt;br/&gt;
In the case where you don&apos;t want target/classes to be added to the resources, you could configure a different output directory and override the default.&lt;/p&gt;

&lt;p&gt;We could maybe go with a more clever algorithm though:&lt;br/&gt;
if the output directory is already in the resources, we&apos;re fine - this should be the default.&lt;br/&gt;
If not, we don&apos;t add the full directory but just the created resources&lt;/p&gt;</comment>
                            <comment id="14030778" author="sseifert@pro-vision.de" created="Fri, 13 Jun 2014 15:55:10 +0000"  >&lt;p&gt;please note that the eclipse:eclipse project file generation is somewhat broken with all maven-scr-plugin version since 1.15.0 due to the changes from &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4241&quot; title=&quot;Change default output directory for SCR annotations to ${project.build.directory}/classes&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4241&quot;&gt;&lt;del&gt;FELIX-4241&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
see &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4535&quot; title=&quot;Calling eclipse:eclipse with maven-scr-plugin r1.15.0 and up leads to corrupt Eclipse project&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4535&quot;&gt;&lt;del&gt;FELIX-4535&lt;/del&gt;&lt;/a&gt; for details and a sample project, but i closed &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4535&quot; title=&quot;Calling eclipse:eclipse with maven-scr-plugin r1.15.0 and up leads to corrupt Eclipse project&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4535&quot;&gt;&lt;del&gt;FELIX-4535&lt;/del&gt;&lt;/a&gt; as a duplicate in favor to this ticket.&lt;/p&gt;</comment>
                            <comment id="14032215" author="fmeschbe" created="Mon, 16 Jun 2014 08:12:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; It&apos;s about a default behaviour of the bundle plugin and how the SCR plugin interferes.&lt;/p&gt;

&lt;p&gt;I am absolutely in favor of the SCR plugin adding the generated descriptors to the project resources. But this is just the manifests not the complete folder where they reside in.&lt;/p&gt;

&lt;p&gt;If the only way to add the desciptors is to add the complete descriptor target folder, then using target/classes is not a good idea because then you loose all the fine tuning that the bundle plugin and bnd offer.&lt;/p&gt;

&lt;p&gt;And maybe, it is the Sling tooling which should be more intelligent ?&lt;/p&gt;</comment>
                            <comment id="14032638" author="cziegeler" created="Mon, 16 Jun 2014 17:03:52 +0000"  >&lt;p&gt;It&apos;s not the Sling tooling, it&apos;s m2e; maybe there is a way around and this can be changed as well.&lt;/p&gt;</comment>
                            <comment id="14071722" author="cziegeler" created="Wed, 23 Jul 2014 13:53:02 +0000"  >&lt;p&gt;I&apos;ve just committed a potential fix to the maven plugin - at least this fixes &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert%40pro-vision.de&quot; class=&quot;user-hover&quot; rel=&quot;sseifert@pro-vision.de&quot;&gt;sseifert@pro-vision.de&lt;/a&gt; problem (&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4535&quot; title=&quot;Calling eclipse:eclipse with maven-scr-plugin r1.15.0 and up leads to corrupt Eclipse project&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4535&quot;&gt;&lt;del&gt;FELIX-4535&lt;/del&gt;&lt;/a&gt;).&lt;br/&gt;
With the change:&lt;br/&gt;
a) if the output directory of the plugin is not the classes directory, it is added to the maven resources (if not already) - this keeps the behaviour if a different output directory is configured&lt;br/&gt;
b) if the output directory is not the classes directory, it directly sets the Include-Resource directive for the bnd plugin and explicitely adds only the generated files&lt;br/&gt;
This should give us the best of all worlds in one setup.&lt;br/&gt;
I&apos;ll leave this open for some time to wait for potential feedback&lt;/p&gt;</comment>
                            <comment id="14076051" author="sseifert@pro-vision.de" created="Mon, 28 Jul 2014 09:46:24 +0000"  >&lt;p&gt;works - thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12721123">FELIX-4535</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="12670669">FELIX-4241</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398769</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wnhj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>