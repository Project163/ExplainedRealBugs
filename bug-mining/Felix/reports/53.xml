<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:04:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-317] Modifying a Configuration retrieved from listConfigurations is not reflected in the ConfigAdmin</title>
                <link>https://issues.apache.org/jira/browse/FELIX-317</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The ConfigurationAdmin.listConfigurations implementation accesses the configuration persistence managers to get all configurations and returns these configurations. That is, the Configuration objects returned are not backed by the same data as is cached inside the ConfigurationManager. When such a listed configuration is then updated, it is persisted, but the internally cached configuration data does not reflect the changes.&lt;/p&gt;

&lt;p&gt;This issue may be illustrated with this test code:&lt;/p&gt;

&lt;p&gt;     ConfigurationAdmin ca = getConfigurationAdmin();&lt;/p&gt;

&lt;p&gt;     // initialize configuration&lt;br/&gt;
     Dictionary dict = new Hashtable();&lt;br/&gt;
     dict.put(&quot;sample&quot;, &quot;old_value&quot;);&lt;br/&gt;
     ca.getConfiguration(&quot;sample.pid&quot;).update(dict);&lt;/p&gt;

&lt;p&gt;     // modify the listed configuration&lt;br/&gt;
     Configuraiton[] cfg = ca.listConfigurations(&quot;service.pid = sample.pid&quot;);&lt;br/&gt;
     Dictionary dict = cfg&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.getProperties();&lt;br/&gt;
     dict.put(&quot;sample&quot;, &quot;new_value&quot;);&lt;br/&gt;
     cfg&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;.update(dict);&lt;/p&gt;

&lt;p&gt;    Configuration config = ac.getConfiguration(&quot;sample.pid&quot;);&lt;br/&gt;
    Object theValue = config.getProperties().get(&quot;sample&quot;);&lt;/p&gt;

&lt;p&gt;The theValue variable is expected to contain &quot;new_value&quot; but actually contains &quot;old_value&quot;.&lt;/p&gt;

&lt;p&gt;Thanks to Tom Remoleur for reporting this issue and providing the test case.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12372971">FELIX-317</key>
            <summary>Modifying a Configuration retrieved from listConfigurations is not reflected in the ConfigAdmin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jul 2007 06:52:43 +0000</created>
                <updated>Wed, 4 Jul 2007 08:20:27 +0000</updated>
                            <resolved>Wed, 4 Jul 2007 07:22:45 +0000</resolved>
                                                    <fixVersion>framework-1.0.0</fixVersion>
                                    <component>Configuration Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12510098" author="fmeschbe" created="Wed, 4 Jul 2007 07:20:27 +0000"  >&lt;p&gt;Fixed by changing the ConfigurationManager.listConfigurations method to crosscheck with the internal cached configurations before adding a new Configuration proxy to the list.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 553107&lt;/p&gt;</comment>
                            <comment id="12510099" author="fmeschbe" created="Wed, 4 Jul 2007 07:22:45 +0000"  >&lt;p&gt;Deployed a new build to the Apache snapshot repositorys.&lt;/p&gt;</comment>
                            <comment id="12510106" author="fmeschbe" created="Wed, 4 Jul 2007 08:20:27 +0000"  >&lt;p&gt;Fix confirmed to work correctly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58667</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0w02f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184816</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>