<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:19:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2486] ClassLoaderJavaClassDescription.isA does not work under certain circumstances</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2486</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Consider two bundles B1 and B2. B1 provides an abstract component AC1. This abstract component declares itself to implement Service S by means of&lt;br/&gt;
   @scr.service interface=&quot;S&quot;&lt;br/&gt;
No AC1 does not itself implement S but it extends a baseclass which in turn implements S.&lt;/p&gt;

&lt;p&gt;This bundle B1 builds perfectly and the SCR plugin generates the descriptor for the abstract component.&lt;/p&gt;

&lt;p&gt;Now, B2 provides a concrete component CC2 extending AC1. B2 fails to build while trying to generate the SCR descriptor.&lt;/p&gt;

&lt;p&gt;The reason for this is, that while generating descriptor for CC2, the exsting service descriptor for AC1 is validated, particularly the service element. This element is checked in the context of the abstract AC1 component class internally represented by a ClassLoaderJavaClassDescriptor instance. To verify the interface, the isA(String) method is called.&lt;/p&gt;

&lt;p&gt;This is where the problem occurrs: The ClassLoaderJavaClassDescriptor.isA method only considers the interfaces directly implemented by the class but not any interfaces implemented by the parent class. Moreover, this implementation does not allow for classes (as opposed to interfaces) to be used as service interface name.&lt;/p&gt;

&lt;p&gt;The fix is probably to use Class.isAssignableFrom to implement the isA method.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12470256">FELIX-2486</key>
            <summary>ClassLoaderJavaClassDescription.isA does not work under certain circumstances</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Jul 2010 13:45:02 +0000</created>
                <updated>Tue, 9 Nov 2010 09:43:10 +0000</updated>
                            <resolved>Tue, 27 Jul 2010 13:56:16 +0000</resolved>
                                    <version> maven-scr-plugin-1.4.4</version>
                                    <fixVersion> maven-scr-plugin-1.6.0</fixVersion>
                                    <component>SCR Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12892779" author="fmeschbe" created="Tue, 27 Jul 2010 13:53:40 +0000"  >&lt;p&gt;A concrete situation from the Sling project:&lt;/p&gt;

&lt;p&gt;   Bundle B1 has:&lt;/p&gt;

&lt;p&gt;       /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@scr.component metatype=&quot;no&quot; abstract=&quot;yes&quot;&lt;/li&gt;
	&lt;li&gt;@scr.service interface=&quot;javax.servlet.Servlet&quot;&lt;br/&gt;
        */&lt;br/&gt;
       public abstract class AbstractComponent extends HttpServlet {}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   Bundle B2 has:&lt;/p&gt;

&lt;p&gt;       /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@scr.component metatype=&quot;no&quot;&lt;br/&gt;
        */&lt;br/&gt;
       public class Component extends AbstractComponent {}&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;While building the SCR descriptors for B2 the AbstractComponent fails to validate the exported interface.&lt;/p&gt;</comment>
                            <comment id="12892781" author="fmeschbe" created="Tue, 27 Jul 2010 13:56:16 +0000"  >&lt;p&gt;Fixed by implementing ClassLoaderJavaClassDescriptor.isA(String) using Class.isAssignableFrom(Class) in Rev. 979703.&lt;/p&gt;</comment>
                            <comment id="12930034" author="fmeschbe" created="Tue, 9 Nov 2010 09:43:10 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56296</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 3 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vysn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184610</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>