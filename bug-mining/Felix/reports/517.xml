<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:11:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1295] ServiceRegistry increments/decrements service use count after/before getService/ungetService() is called on ServiceFactory</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1295</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The OSGi specification says about the call to BundleContext.getService():&lt;/p&gt;

&lt;p&gt;&quot;1 If the service has been unregistered, null is returned.&lt;br/&gt;
2 The context bundle&apos;s use count for this service is incremented by one.&lt;br/&gt;
3 If the context bundle&apos;s use count for the service is currently one and the&lt;br/&gt;
service was registered with an object implementing the ServiceFactory&lt;br/&gt;
interface, the ServiceFactory.getService(Bundle, ServiceRegistration)&lt;br/&gt;
method is called to create a service object for the context bundle.&quot;&lt;/p&gt;

&lt;p&gt;The OSGi specification says about the call to ServiceFactory.ungetService():&lt;/p&gt;

&lt;p&gt;&quot;The bundle&apos;s usage count for that service object must drop to zero &lt;br/&gt;
after this call returns; that is, the bundle is about to release its last &lt;br/&gt;
dependency on the service object.&quot;&lt;/p&gt;

&lt;p&gt;However, the current implementation decrements it just after ServiceFactory.getService() and just before ServiceFactory.ungetService().&lt;/p&gt;</description>
                <environment></environment>
        <key id="12429390">FELIX-1295</key>
            <summary>ServiceRegistry increments/decrements service use count after/before getService/ungetService() is called on ServiceFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="bosschaert">David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Thu, 2 Jul 2009 13:40:38 +0000</created>
                <updated>Thu, 30 Jul 2009 15:18:53 +0000</updated>
                            <resolved>Wed, 29 Jul 2009 20:16:40 +0000</resolved>
                                    <version>framework-1.8.1</version>
                                    <fixVersion>framework-2.0.0</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12726851" author="bosschaert" created="Fri, 3 Jul 2009 09:51:48 +0000"  >&lt;p&gt;The patch I just attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1277&quot; title=&quot;Fix Service Hooks Tests failures in RFC 126 TCK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1277&quot;&gt;&lt;del&gt;FELIX-1277&lt;/del&gt;&lt;/a&gt; contains a fix for this bug. &lt;/p&gt;</comment>
                            <comment id="12736792" author="rickhall" created="Wed, 29 Jul 2009 20:16:40 +0000"  >&lt;p&gt;I didn&apos;t commit this as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1277&quot; title=&quot;Fix Service Hooks Tests failures in RFC 126 TCK&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1277&quot;&gt;&lt;del&gt;FELIX-1277&lt;/del&gt;&lt;/a&gt; because it is sufficiently unrelated and also because I noticed some issues and ended up trying to take a crack at fixing this issue differently. I think it is working now and still passing the TCK. Please close if you are satisfied, thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310010">
                    <name>Incorporates</name>
                                                                <inwardlinks description="is part of">
                                        <issuelink>
            <issuekey id="12428891">FELIX-1277</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57724</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ariv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>