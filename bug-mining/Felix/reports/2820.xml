<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 16:08:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-5571] Replace JSONParser in Serializer with the new one from utils</title>
                <link>https://issues.apache.org/jira/browse/FELIX-5571</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I can do this if there are no objections.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13046880">FELIX-5571</key>
            <summary>Replace JSONParser in Serializer with the new one from utils</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dleangen">David Leangen</assignee>
                                    <reporter username="dleangen">David Leangen</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Feb 2017 07:07:05 +0000</created>
                <updated>Tue, 28 Feb 2017 11:05:08 +0000</updated>
                            <resolved>Tue, 28 Feb 2017 11:05:08 +0000</resolved>
                                                                    <component>Converter</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15887582" author="bosschaert" created="Tue, 28 Feb 2017 08:52:51 +0000"  >&lt;p&gt;That would be great, +1!&lt;/p&gt;</comment>
                            <comment id="15887715" author="dleangen" created="Tue, 28 Feb 2017 10:06:20 +0000"  >&lt;p&gt;Unfortunately, utils has a dependency on core 4.1.0, which is older than the current 6.0.0. I tried replacing 4.1.0 with 6.0.0, but it does not compile.&lt;/p&gt;

&lt;p&gt;Therefore, this update is creating a dependency on core 4.1.0.&lt;/p&gt;

&lt;p&gt;I think we should abandon after all until the core in utils gets updated. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15887729" author="gnt" created="Tue, 28 Feb 2017 10:17:37 +0000"  >&lt;p&gt;How does a dependency from utils to core affect the json parser ? I don&apos;t think those classes actually depend on osgi core.&lt;br/&gt;
The osgi core dependency can be excluded when used in the converter if needed.&lt;/p&gt;</comment>
                            <comment id="15887735" author="cziegeler" created="Tue, 28 Feb 2017 10:21:52 +0000"  >&lt;p&gt;Just declare the dependency as &quot;provided&quot;&lt;/p&gt;</comment>
                            <comment id="15887753" author="dleangen" created="Tue, 28 Feb 2017 10:29:58 +0000"  >&lt;p&gt;It is in the Activator.&lt;/p&gt;

&lt;p&gt;Actually, I did. I added the depdendency as:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &amp;lt;dependency&amp;gt;
            &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;
            &amp;lt;artifactId&amp;gt;org.apache.felix.utils&amp;lt;/artifactId&amp;gt;
            &amp;lt;version&amp;gt;1.9.1-SNAPSHOT&amp;lt;/version&amp;gt;
            &amp;lt;scope&amp;gt;provided&amp;lt;/scope&amp;gt;
        &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It pulls in the old osgi core transitively, and causes this exception:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[ERROR] Failed to execute goal org.apache.maven.plugins:maven-compiler-plugin:3.2:compile (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-compile) on project org.apache.felix.serializer: Compilation failure: Compilation failure:
[ERROR] /Users/dleangen/libs/felix/converter/serializer/src/main/java/org/apache/felix/serializer/impl/Activator.java:[35,16] no suitable method found &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; registerService(java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;org.osgi.service.serializer.Serializer&amp;gt;,org.apache.felix.serializer.impl.json.JsonSerializerImpl,java.util.Dictionary&amp;lt;java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt;)
[ERROR] method org.osgi.framework.BundleContext.registerService(java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[],java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;,java.util.Dictionary) is not applicable
[ERROR] (argument mismatch; java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;org.osgi.service.serializer.Serializer&amp;gt; cannot be converted to java.lang.&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[])
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;R6 allows a class as a parameter to BundleContext.registerService(), but R4 does not. I don&apos;t think it would be the right call to revert to the older version of this method call.&lt;/p&gt;</comment>
                            <comment id="15887770" author="cziegeler" created="Tue, 28 Feb 2017 10:40:48 +0000"  >&lt;p&gt;ok, then you have two options:&lt;br/&gt;
a) put the dependency to utils after the one to osgi.core&lt;br/&gt;
b) exclude the dependency to core 4.1 from the utils dependency (&lt;a href=&quot;https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/guides/introduction/introduction-to-optional-and-excludes-dependencies.html&lt;/a&gt;)&lt;/p&gt;
</comment>
                            <comment id="15887777" author="dleangen" created="Tue, 28 Feb 2017 10:46:14 +0000"  >&lt;p&gt;Well well well... I had no idea that ordering mattered! Ok, thanks, that worked.&lt;/p&gt;</comment>
                            <comment id="15887800" author="dleangen" created="Tue, 28 Feb 2017 11:05:08 +0000"  >&lt;p&gt;Resolved in rev 1784722&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3apsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>