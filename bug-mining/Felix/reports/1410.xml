<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:32:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3031] maven3 deployment fails where maven2 works</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3031</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I want to deploy a bundle to a remote obr. I have configured the&lt;br/&gt;
bundle-plugin to use the default repository (which is a&lt;br/&gt;
filebased repository). Everything worked fine with maven 2. Now that I&lt;br/&gt;
switched to maven 3 I get the following error:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &amp;#8212; maven-bundle-plugin:2.3.5:deploy (default-deploy) @ test &amp;#8212;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; LOCK &lt;a href=&quot;file:///var/www/repository/repository.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///var/www/repository/repository.xml&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Downloading repository.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Computed bundle uri: &lt;a href=&quot;http://localhost/repository/example/test/1.0-SNAPSHOT/test-1.0-20110711.152943-4.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost/repository/example/test/1.0-SNAPSHOT/test-1.0-20110711.152943-4.jar&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; file doesn&apos;t exist: &lt;a href=&quot;file:/home/markus/.m2/repository/example/test/1.0-SNAPSHOT/test-1.0-20110711.152943-4.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/home/markus/.m2/repository/example/test/1.0-SNAPSHOT/test-1.0-20110711.152943-4.jar&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Writing OBR metadata&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Uploading repository.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; UNLOCK &lt;a href=&quot;file:///var/www/repository/repository.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///var/www/repository/repository.xml&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;The bundle plugin tries to retrieve the jar file from my local&lt;br/&gt;
repository. However the maven deploy plugin has also picked up the&lt;br/&gt;
remote repository and deployed the bundle in that repository&lt;br/&gt;
and not in my local repository.&lt;br/&gt;
That&apos;s different to maven2. When building with maven2 the bundle is&lt;br/&gt;
deployed in my local and in my remote repository by the deploy&lt;br/&gt;
plugin.&lt;br/&gt;
No idea what has changed (maybe I miss some configuration here?), but&lt;br/&gt;
for me it looks like the bundle plugin should pick up the bundle from&lt;br/&gt;
the default deploy repository instead of the local repository?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12513685">FELIX-3031</key>
            <summary>maven3 deployment fails where maven2 works</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mcculls">Stuart McCulloch</assignee>
                                    <reporter username="jocsch">Markus Joschko</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jul 2011 15:31:42 +0000</created>
                <updated>Fri, 2 Dec 2011 15:44:16 +0000</updated>
                            <resolved>Sun, 16 Oct 2011 19:20:57 +0000</resolved>
                                                    <fixVersion>maven-bundle-plugin-2.3.6</fixVersion>
                                    <component>Maven Bundle Plugin</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13063397" author="jocsch" created="Mon, 11 Jul 2011 15:33:07 +0000"  >&lt;p&gt;Most simple pom that demonstrates that behaviour.&lt;/p&gt;</comment>
                            <comment id="13128268" author="hampelratte" created="Sat, 15 Oct 2011 20:10:56 +0000"  >&lt;p&gt;I&apos;m getting the same error message. The problem seems to be, that the deployed jar contains a timestamp for unique snapshots. The jar in the local repo is named &amp;lt;bundle&amp;gt;-&amp;lt;version&amp;gt;-SNAPSHOT.jar . The SNAPSHOT keyword is used instead of timestamp. That&apos;s why, the lookup in the local repo fails.&lt;/p&gt;

&lt;p&gt;I have replaced the URIs in ObrDeploy, so that the build result is used instead of the file in the local repository. This solves the problem for me. PLease have a look at the patch in obr_deploy.diff.&lt;/p&gt;

&lt;p&gt;Best regards&lt;br/&gt;
Henrik&lt;/p&gt;</comment>
                            <comment id="13128477" author="mcculls" created="Sun, 16 Oct 2011 18:23:04 +0000"  >&lt;p&gt;There&apos;s a problem with that patch, in that it hardcodes the absolute path to the artifact on the local system in the remote OBR. While this might be OK for some scenarios, it will cause problems when the remote OBR is exposed from a different top-level URL. &lt;/p&gt;</comment>
                            <comment id="13128492" author="mcculls" created="Sun, 16 Oct 2011 19:20:57 +0000"  >&lt;p&gt;Fixed in r1184903&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12486070" name="mvn3bug.zip" size="19012" author="jocsch" created="Mon, 11 Jul 2011 15:33:07 +0000"/>
                            <attachment id="12499159" name="obr_deploy.diff" size="1011" author="hampelratte" created="Sat, 15 Oct 2011 20:10:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55961</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vwrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184281</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>