<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:15:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1938] Bad error message when an Event Subscriber does not set the data type and data key</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1938</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>
&lt;p&gt;The event admin handler should do a better job in reporting error. Especially the following subscriber (missing the data_key attribute):&lt;br/&gt;
@Subscriber(name = &quot;tdmEventSubscriber-1&quot;, topics = &quot;tdmEventTopic&quot;, data_type = &quot;java.lang.String&quot;)&lt;br/&gt;
 public void receive(String msg) &lt;/p&gt;
{
        System.out.println(&quot;[DATA RECEIVER] Receive event on tdmEventTopic : &quot; + msg);
 }

&lt;p&gt;will throw this exception:&lt;br/&gt;
-&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; de.akquinet.gomobile.ea.test.SubscriberTest : Cannot find callback method receive(org.osgi.service.event.Event)&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; IPOJO-Extender : An error occurs when analyzing the content or starting the management of 17&lt;br/&gt;
java.lang.IllegalStateException: Cannot find callback method receive(org.osgi.service.event.Event)&lt;br/&gt;
	at org.apache.felix.ipojo.IPojoFactory.computeDescription(IPojoFactory.java:673)&lt;br/&gt;
	at org.apache.felix.ipojo.IPojoFactory.computeFactoryState(IPojoFactory.java:700)&lt;br/&gt;
	at org.apache.felix.ipojo.ComponentFactory.addedService(ComponentFactory.java:358)&lt;br/&gt;
	at org.apache.felix.ipojo.util.Tracker$Tracked.trackAdding(Tracker.java:709)&lt;br/&gt;
	at org.apache.felix.ipojo.util.Tracker$Tracked.trackInitialServices(Tracker.java:595)&lt;br/&gt;
	at org.apache.felix.ipojo.util.Tracker.open(Tracker.java:203)&lt;br/&gt;
	at org.apache.felix.ipojo.ComponentFactory.starting(ComponentFactory.java:235)&lt;br/&gt;
	at org.apache.felix.ipojo.IPojoFactory.start(IPojoFactory.java:574)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender.createAbstractFactory(Extender.java:426)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender.parse(Extender.java:264)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender.startManagementFor(Extender.java:208)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender.access$600(Extender.java:52)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender$CreatorThread.run(Extender.java:669)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:637)&lt;/p&gt;


&lt;p&gt;The handler has detected a problem but try to use a wrong method (receiver(Event) instead of reporting the bad configuration and rejecting it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12443091">FELIX-1938</key>
            <summary>Bad error message when an Event Subscriber does not set the data type and data key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clement.escoffier">Clement Escoffier</assignee>
                                    <reporter username="clement.escoffier">Clement Escoffier</reporter>
                        <labels>
                    </labels>
                <created>Fri, 11 Dec 2009 13:27:57 +0000</created>
                <updated>Thu, 27 May 2010 06:02:49 +0000</updated>
                            <resolved>Sun, 13 Dec 2009 09:49:14 +0000</resolved>
                                    <version>iPOJO-1.4.0</version>
                                    <fixVersion>iPOJO-1.6.0</fixVersion>
                                    <component>iPOJO</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12789394" author="pierre.bourret" created="Fri, 11 Dec 2009 17:11:44 +0000"  >&lt;p&gt;Right ! The subscriber configuration parser do not check that if the data-type attribute is provided, the data-key attribute is set. The handler consider that a subscriber configured in this manner is not a data-subscriber beacause the data-key is not set, and so try to find the classical event callback (the one that receive org.osgi.service.event.Event).&lt;/p&gt;

&lt;p&gt;The attached patch should fix this. Because of a lack of time, it has not been tested, so please send feedback &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12789396" author="pierre.bourret" created="Fri, 11 Dec 2009 17:14:23 +0000"  >&lt;p&gt;The patch that checks the presence of the data-key attribute when the data-type attribute is provided.&lt;/p&gt;</comment>
                            <comment id="12789865" author="clement.escoffier" created="Sun, 13 Dec 2009 09:49:14 +0000"  >&lt;p&gt;Fixed at revision 890035.&lt;br/&gt;
I applied the patch and modified it slightly.&lt;/p&gt;

&lt;p&gt;Now, the error message is:&lt;br/&gt;
-&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; de.akquinet.gomobile.ea.test.SubscriberTest : Missing attribute in component configuration : data-key&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; IPOJO-Extender : An error occurs when analyzing the content or starting the management of 17&lt;br/&gt;
java.lang.IllegalStateException: Missing attribute in component configuration : data-key&lt;br/&gt;
	at org.apache.felix.ipojo.IPojoFactory.computeDescription(IPojoFactory.java:684)&lt;br/&gt;
	at org.apache.felix.ipojo.IPojoFactory.computeFactoryState(IPojoFactory.java:711)&lt;br/&gt;
	at org.apache.felix.ipojo.ComponentFactory.addedService(ComponentFactory.java:358)&lt;br/&gt;
	at org.apache.felix.ipojo.util.Tracker$Tracked.trackAdding(Tracker.java:709)&lt;br/&gt;
	at org.apache.felix.ipojo.util.Tracker$Tracked.trackInitialServices(Tracker.java:595)&lt;br/&gt;
	at org.apache.felix.ipojo.util.Tracker.open(Tracker.java:203)&lt;br/&gt;
	at org.apache.felix.ipojo.ComponentFactory.starting(ComponentFactory.java:235)&lt;br/&gt;
	at org.apache.felix.ipojo.IPojoFactory.start(IPojoFactory.java:582)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender.createAbstractFactory(Extender.java:430)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender.parse(Extender.java:264)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender.startManagementFor(Extender.java:208)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender.access$600(Extender.java:52)&lt;br/&gt;
	at org.apache.felix.ipojo.Extender$CreatorThread.run(Extender.java:673)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:637)&lt;/p&gt;


&lt;p&gt;which make more sense.&lt;/p&gt;

&lt;p&gt;Thanks !&lt;/p&gt;

&lt;p&gt;Clement&lt;/p&gt;</comment>
                            <comment id="12872109" author="clement.escoffier" created="Thu, 27 May 2010 06:02:49 +0000"  >&lt;p&gt;Version released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12427738" name="checkMissingDataKeyAttribute.diff" size="854" author="pierre.bourret" created="Fri, 11 Dec 2009 17:14:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>49761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 26 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vzfj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184713</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>