<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:45:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3700] DS Factory Components don&apos;t support configuration-policy = require</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3700</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;With scr 1.6.0 and also with scr from trunk, there is the following problem:&lt;/p&gt;

&lt;p&gt;When a factory component (declared with a factory attribute in the Component element), and when the Component is also defined with configuration-policy = require, then the org.osgi.service.component.ComponentFactory associated to the factory component is registered in the OSGi registry even if the configuration for the component is not yet available.&lt;/p&gt;

&lt;p&gt;This is  a problem because when the org.osgi.service.component.ComponentFactory is registered in the registry, then another component using the ComponentFactory may call the newInstance method and then instantiate the component without the required configuration.&lt;/p&gt;

&lt;p&gt;For example, in the following code, Main is injected with the A ComponentFactory and creates immediately one A instance: but at this point, the Configuration for A has not yet been created (see in the Main.start method, where a thread is started in order to create the A configuration after 1 second ...).&lt;/p&gt;

&lt;p&gt;I expect A ComponentFactory to be registered only after the A Configuration is available from config admin, because the A configuration-policy has been set to the &quot;require&quot; value.&lt;/p&gt;

&lt;p&gt;Am I correct or does the spec forbid factory components to use the configuration-policy = require ?&lt;/p&gt;

&lt;p&gt;-&amp;gt;&lt;/p&gt;

&lt;p&gt;@Component(name=&quot;A&quot;, factory = &quot;A&quot;, configurationPolicy = ConfigurationPolicy.require)&lt;br/&gt;
public class A {&lt;br/&gt;
  @Activate&lt;br/&gt;
  void start(Map&amp;lt;?, ?&amp;gt; config) &lt;/p&gt;
{
    System.out.println(&quot;A.start:&quot; + config.get(&quot;foo&quot;);
  }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;@Component&lt;br/&gt;
public class Main {&lt;br/&gt;
  private ConfigurationAdmin _cm;&lt;/p&gt;

&lt;p&gt;  @Reference(type = &apos;*&apos;, target = &quot;(component.factory=A)&quot;)&lt;br/&gt;
  void bindCF(ComponentFactory cf) &lt;/p&gt;
{ // should only be called once A config admin configuration is avail
    System.out.println(&quot;Main.bindCF&quot;);
    cf.newInstance(null);
  }

&lt;p&gt;  @Reference&lt;br/&gt;
  void bindCM(ConfigurationAdmin cm) &lt;/p&gt;
{
    _cm = cm;
  }

&lt;p&gt;  @Activate&lt;br/&gt;
  void start() {&lt;br/&gt;
    System.out.println(&quot;Main.start&quot;);&lt;/p&gt;

&lt;p&gt;    new Thread(new Runnable() {&lt;br/&gt;
      public void run() {&lt;br/&gt;
        try {&lt;br/&gt;
          Thread.sleep(1000);&lt;br/&gt;
          System.out.println(&quot;Configuring A&quot;);          &lt;br/&gt;
          Configuration config = _cm.getConfiguration(&quot;A&quot;, null);&lt;br/&gt;
          config.update(new Hashtable() {&lt;/p&gt;
            {
              put(&quot;foo&quot;, &quot;bar&quot;);
            }
&lt;p&gt;          });          &lt;br/&gt;
        } catch (Exception ioe) &lt;/p&gt;
{
          ioe.printStackTrace();
        }
&lt;p&gt;      }&lt;br/&gt;
    }).start();&lt;br/&gt;
  }&lt;br/&gt;
}&lt;/p&gt;</description>
                <environment>linux, jdk1.6</environment>
        <key id="12610457">FELIX-3700</key>
            <summary>DS Factory Components don&apos;t support configuration-policy = require</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pderop">Pierre De Rop</assignee>
                                    <reporter username="pderop">Pierre De Rop</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Oct 2012 06:56:22 +0000</created>
                <updated>Fri, 19 Oct 2012 20:25:48 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 20:25:48 +0000</resolved>
                                                                    <component>Declarative Services (SCR)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13470532" author="djencks" created="Fri, 5 Oct 2012 18:37:24 +0000"  >&lt;p&gt;Why do you think it makes sense to configure a component factory with config admin?  &lt;/p&gt;

&lt;p&gt;If the factory xml configuration has a configuration pid, how does the configuration admin configuration relate to the 1001 component instances you create by calling newinstance on the factory?  How about if the factory xml specifies a factory pid?&lt;/p&gt;

&lt;p&gt;Suppose you put a configuration pid in the properties you give the component factory.  What happens?&lt;/p&gt;

&lt;p&gt;Suppose you put a factory pid in the properties.  What happens?&lt;/p&gt;

&lt;p&gt;I don&apos;t think any of these scenarios make sense.  Since the spec doesn&apos;t explain what should happen I tend to think they aren&apos;t supposed to be supported.&lt;/p&gt;</comment>
                            <comment id="13470599" author="fmeschbe" created="Fri, 5 Oct 2012 19:54:13 +0000"  >&lt;p&gt;A Component Factory can take configuration just as any configuration and this configuration is inherited by all instances (though existing instances are not updated IIRC).&lt;/p&gt;

&lt;p&gt;From reading the code, I would think this should work ...&lt;/p&gt;

&lt;p&gt;But then: we have a test (test_component_factory_require_configuration) but it looks like this test is implemented wrong and expects a Factory Component requiring configuration to be active even if no configuration is available.&lt;/p&gt;</comment>
                            <comment id="13470642" author="pderop" created="Fri, 5 Oct 2012 20:47:15 +0000"  >&lt;p&gt;I believe I failed to explain my problem clearly ... hope you will give me another chance &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;(I have joined a patch to this issue, it&apos;s certainly incomplete, but if you could take a look at it)&lt;/p&gt;

&lt;p&gt;So, In our applications, we simply have the following components:&lt;/p&gt;

&lt;p&gt;1) a component &quot;C&quot;, which can be instantiated several times (C1/C2), but all instances are using the same configuration, from the same PID &quot;C&quot;. For example, in the &quot;C&quot; configuration pid, we configure some shared informations, like a syslog address, some database addr, etc ...&lt;/p&gt;

&lt;p&gt;C is declared like this:&lt;/p&gt;

&lt;p&gt;@Component(name=&quot;C&quot;, factory=&quot;CFactory&quot;, configuraton-policy=require)&quot;&lt;br/&gt;
class C {&lt;br/&gt;
   ...&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;2) we also have a &quot;Manager&quot; component which is in charge of instantiating C1/C2. We don&apos;t instantiate 1001 components. We are actually writing an &quot;elastic&quot; http container,  where DS components are dynamically created if the load increase. (such components are actually actor components). So, This &quot;Manager&quot; component tracks the org.osgi.service.component.ComponentFactory instances with filter &quot;(component.factory=CFactory)&quot; in order to instantiate C1/C2.&lt;/p&gt;

&lt;p&gt;3) finally, we have a &quot;Configurator&quot; component, which loads the configuration from a database and registers it into CM (config-admin osgi service), using pid &quot;C&quot;.&lt;/p&gt;

&lt;p&gt;Now the problem is that if the ComponentFactory for C is registered by SCR before the configuration for the PID &quot;C&quot; is registered into CM, then  C1/C2 will be instantiated with an empty configuration. (because the Configuration has not yet registered it into CM).&lt;/p&gt;

&lt;p&gt;Now,  I could probably rework the application in order to use another strategy, but I believe that the component factory for C should not be registered before the configuration pid for C is available, because C is declared with configuration-policy=require.&lt;/p&gt;

&lt;p&gt;Please take a look at the patch&lt;br/&gt;
thanks in advance.&lt;/p&gt;</comment>
                            <comment id="13470645" author="pderop" created="Fri, 5 Oct 2012 20:48:08 +0000"  >&lt;p&gt;attached the proposed patch (it&apos;s probably incomplete, but it will give the idea of my problem).&lt;/p&gt;</comment>
                            <comment id="13470647" author="pderop" created="Fri, 5 Oct 2012 20:52:08 +0000"  >&lt;p&gt;Oops felix, I missed your response.&lt;/p&gt;

&lt;p&gt;Yes, I do agree that may be there is a problem with the test_component_factory_require_configuration.&lt;br/&gt;
I actually started to modify it in order to reproduce the problem, but I have not yet finished.&lt;/p&gt;
</comment>
                            <comment id="13470668" author="pderop" created="Fri, 5 Oct 2012 21:18:23 +0000"  >&lt;p&gt;attached a modified version of the ComponentFactoryTest.java with a new added method&lt;br/&gt;
test_component_factory_require_configuration2().&lt;/p&gt;

&lt;p&gt;With the patch, the test_component_factory_require_configuration2() works and the old test_component_factory_require_configuration() test is failing.&lt;/p&gt;

&lt;p&gt;Without the patch, the old method works and the new configuration2() is failing.&lt;/p&gt;</comment>
                            <comment id="13475910" author="pderop" created="Sun, 14 Oct 2012 22:08:26 +0000"  >&lt;p&gt;Felix,&lt;/p&gt;

&lt;p&gt;I&apos;m sorry about to insist, but can you please give me your opinion on this issue ?&lt;br/&gt;
I would like to commit the attached fix, but since David disagrees, I&apos;m now a bit embarrassed.&lt;/p&gt;

&lt;p&gt;I have checked the specification and I think that a component factory can inherit from config admin properties, and that the configuration-policy=require is making sense for component factories. I also checked and equinox ds is implementing configuration-policy=require with factory components (that is: a factory component is not registered if the configuration from config-admin is not available).&lt;/p&gt;

&lt;p&gt;Can you please decide if this issue should be really closed or if I can commit ? &lt;br/&gt;
(but I would like you to review the patch because I&apos;m not sure if the locking is correctly done or not).&lt;/p&gt;

&lt;p&gt;(I have found another problem with component factory + configuration-policy=require, but I would like to conclude about this issue, before going ahead ...)&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;</comment>
                            <comment id="13475926" author="djencks" created="Mon, 15 Oct 2012 01:04:25 +0000"  >&lt;p&gt;Section 112.7 does clearly say that a component factory can be configured by config admin.  I don&apos;t understand why it says you can&apos;t use a factory pid with a component factory.  Wouldn&apos;t this just give you one component factory per configuration?&lt;/p&gt;

&lt;p&gt;I haven&apos;t tried your patch but I don&apos;t really understand why you need the new variable.  What happens if you leave it out?&lt;/p&gt;

&lt;p&gt;It also looks to me as if ComponentFactoryImpl.getProperties is wrong in the presence of a configuration that overrides some target properties from the metadata.  Is this the additional problem you saw?&lt;/p&gt;

&lt;p&gt;The locking looks correct to me.&lt;/p&gt;</comment>
                            <comment id="13476070" author="pderop" created="Mon, 15 Oct 2012 10:19:41 +0000"  >&lt;p&gt;Thanks David for reacting;&lt;/p&gt;

&lt;p&gt;Ok, I do agree: in section 112.7, the specification forbids to use a factory configuration pid in order to configure a DS component factory.&lt;br/&gt;
But this issue is not about using a factory configuration pid: it is about using a single configuration pid for configuring a DS component factory. By &quot;single&quot; configuration pid, I&apos;m talking about configurations created with the &quot;org.osgi.service.cm.ConfigurationAdmin.getConfiguration(java.lang.String pid, java.lang.String location)&quot; method.&lt;/p&gt;

&lt;p&gt;That beeing said, one week has passed since I posted this issue and many commits have been made ...&lt;br/&gt;
So I have to recheck with the current trunk, and will get back as soon as possible.&lt;/p&gt;
</comment>
                            <comment id="13476164" author="pderop" created="Mon, 15 Oct 2012 14:18:14 +0000"  >&lt;p&gt;ok, I have aligned the patch with the current trunk.&lt;/p&gt;

&lt;p&gt;so, regarding your questions:&lt;/p&gt;

&lt;p&gt;1) &quot;I haven&apos;t tried your patch but I don&apos;t really understand why you need the new variable. What happens if you leave it out? &quot;&lt;br/&gt;
-&amp;gt;&lt;/p&gt;

&lt;p&gt;the m_componentMetadata variable is used because the ComponentFactoryImpl.hasConfiguration() should return false if the config policy is required and if the configuration is not yet available. This variable is set to true when the configurationUpdated method is called (when config admin gives us the configuration).&lt;/p&gt;

&lt;p&gt;Now, I do agree that we could avoid using this extra variable... I will manage to rework the patch without using this extra variable.&lt;/p&gt;

&lt;p&gt;2) &quot;It also looks to me as if ComponentFactoryImpl.getProperties is wrong in the presence of a configuration that overrides some target properties from the metadata. Is this the additional problem you saw?&quot;&lt;/p&gt;

&lt;p&gt;I did not find this problem but looking at the code, I do agree with you, we probably have this problem too.&lt;/p&gt;

&lt;p&gt;Now the new problem I found is another one: Since the commit of AbstractComponentManager.java, from revision 1397887:&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;http://svn.apache.org/viewvc/felix/trunk/scr/src/main/java/org/apache/felix/scr/impl/manager/AbstractComponentManager.java?r1=1397886&amp;amp;r2=1397887&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/felix/trunk/scr/src/main/java/org/apache/felix/scr/impl/manager/AbstractComponentManager.java?r1=1397886&amp;amp;r2=1397887&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;then any component factory defined with configuration-policy = require, and also with some required (and available) service dependencies remains unsatisfied.&lt;br/&gt;
I mean: the ComponentFactory is never registered into the registry even if the required References are available and if the configuration is also available.&lt;br/&gt;
I have to make an integration test for this problem ...&lt;/p&gt;

&lt;p&gt;If we remove the &quot;if ( !m_componentMetadata.isConfigurationRequired() )&quot; test from the AbstractComponentManager.enableDependencyManagers method, &lt;br/&gt;
then we don&apos;t have the problem:&lt;/p&gt;

&lt;p&gt;    private void enableDependencyManagers() throws InvalidSyntaxException&lt;br/&gt;
    {&lt;br/&gt;
//        if ( !m_componentMetadata.isConfigurationRequired() )&lt;br/&gt;
//        {&lt;br/&gt;
            Iterator it = getDependencyManagers();&lt;br/&gt;
            while ( it.hasNext() )&lt;/p&gt;
            {
                DependencyManager dm = (DependencyManager) it.next();
                dm.enable();
            }
&lt;p&gt;//        }&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;I wonder why the dependency managers are not enabled if the configuration is required ?&lt;/p&gt;
</comment>
                            <comment id="13476289" author="pderop" created="Mon, 15 Oct 2012 17:35:06 +0000"  >&lt;p&gt;Attached a cleaned version of the initial patch (I&apos;m still using an extra &quot;m_isConfigured&quot; class attribute).&lt;/p&gt;

&lt;p&gt;The patch also includes a modification made in the integration ComponentFactoryTest.&lt;/p&gt;

&lt;p&gt;Also implemented deactivation of the ComponentFactory when configuration is lost (and when configuration policy was required).&lt;/p&gt;

&lt;p&gt;I wonder if all created component instances (with ComponentFactory.newInstance) should also be deactivated when configuration is lost ? (I prefer to think about this a bit before committing anything. what do you think ?&lt;/p&gt;

</comment>
                            <comment id="13476347" author="djencks" created="Mon, 15 Oct 2012 18:57:16 +0000"  >&lt;p&gt;I agree, configuration required should work with component factories.&lt;/p&gt;

&lt;p&gt;I changed the enableDependencyManagers to look if configuration was required because if it is there is no point registering the service listeners to look for the reference services before we know what the target filter is.  This should be true for component factories too.  So I think that the component factory should set the target filters when it gets the configuration by calling AbstractComponentManager.updateTargets(Dictionary properties)&lt;/p&gt;</comment>
                            <comment id="13476843" author="pderop" created="Tue, 16 Oct 2012 08:03:59 +0000"  >&lt;p&gt;thanks David,&lt;/p&gt;

&lt;p&gt;I applied your suggestion and it seems to work. &lt;br/&gt;
I joined the FELIX-37000.patch3 diff with the modifications you suggested.&lt;br/&gt;
(I don&apos;t commit for now because I prefer to test this patch during a couple of days, before committing).&lt;/p&gt;

&lt;p&gt;I have one remaining question:&lt;/p&gt;

&lt;p&gt;It looks like the super.updateTargets(Properties) method should be invoked while holding a lock. So, I&apos;m using a read lock. Should I use a write lock instead of a read lock ?&lt;/p&gt;

&lt;p&gt;thanks.&lt;/p&gt;</comment>
                            <comment id="13477115" author="djencks" created="Tue, 16 Oct 2012 16:08:32 +0000"  >&lt;p&gt;I think the read lock should be sufficient.&lt;/p&gt;</comment>
                            <comment id="13477441" author="pderop" created="Tue, 16 Oct 2012 23:02:08 +0000"  >&lt;p&gt;Committed a patch in revision 1399033.&lt;/p&gt;

&lt;p&gt;So, the component factory is not registered until the configuration is available (if policy=require),&lt;br/&gt;
and the target filters are updated in case the configuration is updated and the state is either DISABLE or UNSATISFIED.&lt;/p&gt;

&lt;p&gt;For now, when the configuration is removed, I don&apos;t unregister the component factory and any created component instances.&lt;br/&gt;
Indeed, in the ComponentFactoryTest.test_component_factory_require_configuration() test, it sounds like Felix does not expect the component factory to be unregistered automatically when configuration is lost.&lt;/p&gt;

</comment>
                            <comment id="13477448" author="djencks" created="Tue, 16 Oct 2012 23:10:57 +0000"  >&lt;p&gt;I may not understand what you are saying.  I see in the spec 112.2.4&lt;/p&gt;

&lt;p&gt;Any component configurations activated via the component factory are unaffected by the unregistration of the Component Factory service, but may themselves become unsatisfied for the same reason.&lt;/p&gt;

&lt;p&gt;I think that, in the situation where the component factory has configuration required,  the component factory service must be unregistered if the required configuration is removed, but none of the components created by calling factory.newInstance should be removed.&lt;/p&gt;</comment>
                            <comment id="13477690" author="pderop" created="Wed, 17 Oct 2012 07:33:51 +0000"  >&lt;p&gt;Thanks for clarifying, I was not sure what should be done.&lt;/p&gt;

&lt;p&gt;Actually, I&apos;ve been confused by the following comment, in ComponentFactoryTest.test_component_factory_require_configuration():&lt;/p&gt;

&lt;p&gt;-&amp;gt;&lt;br/&gt;
    @Test&lt;br/&gt;
    public void test_component_factory_require_configuration() throws InvalidSyntaxException&lt;br/&gt;
        ...&lt;br/&gt;
        // delete config, ensure factory still active and component instance, not changed&lt;/p&gt;


&lt;p&gt;... Ok, I do agree with you and I&apos;ll commit a fix in order to remove the component factory (but not the created component instances), and will also change the test.&lt;/p&gt;


</comment>
                            <comment id="13477877" author="pderop" created="Wed, 17 Oct 2012 13:21:50 +0000"  >&lt;p&gt;committed in 1399224 a fix, in order to unregister the component factory if the required configuration is removed.&lt;/p&gt;</comment>
                            <comment id="13480355" author="pderop" created="Fri, 19 Oct 2012 20:25:48 +0000"  >&lt;p&gt;Committed last fix for this issue, in revision 1400265.&lt;br/&gt;
I think this issue is now resolved.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12548047" name="ComponentFactoryTest.java" size="27475" author="pderop" created="Fri, 5 Oct 2012 21:18:23 +0000"/>
                            <attachment id="12548041" name="FELIX-3700.patch" size="2220" author="pderop" created="Fri, 5 Oct 2012 20:48:08 +0000"/>
                            <attachment id="12549171" name="FELIX-37000.patch2" size="8680" author="pderop" created="Mon, 15 Oct 2012 17:35:06 +0000"/>
                            <attachment id="12549275" name="FELIX-37000.patch3" size="9853" author="pderop" created="Tue, 16 Oct 2012 08:03:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>242605</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i02xf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>15015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>