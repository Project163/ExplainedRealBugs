<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:53:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4452] org.apache.felix.http.bundle jetty dependency problem</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4452</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;In the current trunk, the org.apache.felix.http.bundle bundle contains an inconsistency in its manifest which means it cannot resolve wrt to a package that it exports itself.&lt;/p&gt;

&lt;p&gt;The problem centres around this package:&lt;br/&gt;
  org.eclipse.jetty.continuation&lt;br/&gt;
The package is embedded in the bundle and exported in version 8.1.14. However the package is imported in the version range [7.6,8) which means that the import doesn&apos;t resolve against its own export.&lt;/p&gt;

&lt;p&gt;I did a little bit of digging and found that the import range stems from a transitive dependency of the org.apache.felix.http.cometd component, which has as part of its dependency tree:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; org.apache.felix:org.apache.felix.http.cometd:jar:2.3.0-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ...&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; +- org.eclipse.jetty:jetty-util:jar:8.1.14.v20131031:compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; +- org.cometd.java:cometd-java-server:jar:2.8.0:compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; |  +- org.eclipse.jetty:jetty-continuation:jar:7.6.14.v20131031:compile&lt;/p&gt;

&lt;p&gt;As you can see, the direct dependency on Jetty is in version 8.1.14, but the transitive one coming in from cometd is in 7.6.x.&lt;/p&gt;

&lt;p&gt;As it&apos;s not a good idea to mix versions of the same dependency for a single component, I looked for a newer version of org.cometd.java to see if it could work with 8.1.14. I found that cometd 3 has an import range of [7.6, 9), so they have updated it there, but cometd 3 is currently unreleased. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12699764">FELIX-4452</key>
            <summary>org.apache.felix.http.bundle jetty dependency problem</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jajans">J.W. Janssen</assignee>
                                    <reporter username="bosschaert">David Bosschaert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Mar 2014 11:39:10 +0000</created>
                <updated>Tue, 27 Feb 2018 14:43:52 +0000</updated>
                            <resolved>Tue, 27 Feb 2018 14:43:52 +0000</resolved>
                                    <version>http-2.3.0</version>
                                    <fixVersion>http-2.3.0</fixVersion>
                                    <component>HTTP Service</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13925678" author="bosschaert" created="Mon, 10 Mar 2014 11:43:58 +0000"  >&lt;p&gt;From the import range in cometd 3 I&apos;m learning that Jetty 8 is actually backward compatible with Jetty 7.6. As they have such a wide version range [7.6, 9). So we should be able to use version 8.1.14 too with the current version of comet (2.8.0). &lt;/p&gt;

&lt;p&gt;Therefore the attached patch overrides the Jetty transitive dependencies of cometd and replaces them with the versions used elsewhere in the Felix http component (= 8.1.14).&lt;/p&gt;

&lt;p&gt;Not sure whether this is the best way to solve it, so therefore a patch rather than a direct commit &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13925690" author="bosschaert" created="Mon, 10 Mar 2014 12:06:44 +0000"  >&lt;p&gt;I&apos;m just noticing that with my proposed changes the bundle resolves, but starting it doesn&apos;t start the Http endpoint...&lt;/p&gt;</comment>
                            <comment id="13925719" author="jajans" created="Mon, 10 Mar 2014 13:11:16 +0000"  >&lt;p&gt;The all-in-one bundle is by default configured to run in &quot;bridged&quot; mode and you need to explicitly enable its embedded Jetty server. Did you add &lt;tt&gt;-Dorg.apache.felix.http.jettyEnabled=true&lt;/tt&gt; (and/or &lt;tt&gt;-Dorg.apache.felix.http.whiteboardEnabled=true&lt;/tt&gt; to your test(app)? &lt;/p&gt;

&lt;p&gt;I&apos;ve seen another issue in the bundle manifest of the all-in-one bundle (the HTTP API isn&apos;t correctly versioned), mind if I apply your patch and commit it?&lt;/p&gt;</comment>
                            <comment id="13925728" author="bosschaert" created="Mon, 10 Mar 2014 13:27:40 +0000"  >&lt;p&gt;Ah, thanks for explaining. I didn&apos;t find that difference in the docs... &lt;br/&gt;
Yes, feel free to go ahead and apply the patch!&lt;/p&gt;

&lt;p&gt;Thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13925736" author="jajans" created="Mon, 10 Mar 2014 13:45:08 +0000"  >&lt;p&gt;Applied the patch and fixed a typo in the all-in-one bundle export clause. See rev #1575941.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12633677" name="felix-4452.diff" size="3071" author="bosschaert" created="Mon, 10 Mar 2014 11:43:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>378110</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t5if:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>378402</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>