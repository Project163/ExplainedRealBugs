<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:19:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2288] Felix SCR API problem/misunderstanding</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2288</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I&apos;ve been playing with the Components plugin of the Web Console and it work perfectly with the Felix SCR implementation. When I switched to ProSyst/Equinox implementation (they are basically the same) I found a small problem.&lt;/p&gt;

&lt;p&gt;When I disable a component, it&apos;s ID becomes -1 and I cannot enable it anymore. As long as I disable components all their IDs becomes -1.&lt;/p&gt;

&lt;p&gt;I opened the OSGi r4.2 specification to see if there is a reason for this behaviour. The JavaDoc for ComponentConstants states for the component ID, that &lt;br/&gt;
&quot;The value of this property is assigned by the Service Component Runtime when a component configuration is created.&quot;&lt;/p&gt;

&lt;p&gt;In part 112.6 Component Properties, the specification says, that &apos;component.id&apos; property is always added by the SCR but for &quot;Each component configuration&quot;.&lt;/p&gt;

&lt;p&gt;When a component is disabled or uninstalled, there is no configuration - it&apos;s just a component definition. So the SCR is not required to assign ID.&lt;/p&gt;


&lt;p&gt;As for the Web Console we can easily fix the problem by using the pair bundle + component name for identification, instead of ID. However, since Apache SCR API is becoming recommended OSGi API, it would be better to define a mature and compatible API.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12462220">FELIX-2288</key>
            <summary>Felix SCR API problem/misunderstanding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="v_valchev">Valentin Valchev</reporter>
                        <labels>
                    </labels>
                <created>Fri, 16 Apr 2010 07:25:19 +0000</created>
                <updated>Mon, 16 Aug 2010 12:11:51 +0000</updated>
                            <resolved>Tue, 3 Aug 2010 10:25:40 +0000</resolved>
                                    <version>scr-1.0.0</version>
                    <version>scr-1.0.2</version>
                    <version>scr-1.0.4</version>
                    <version>scr-1.0.6</version>
                    <version>scr-1.0.8</version>
                    <version>scr-1.2.0</version>
                    <version> scr-1.4.0</version>
                    <version>webconsole-3.1.0</version>
                                    <fixVersion> scr-1.6.0</fixVersion>
                    <fixVersion>webconsole-3.1.2</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                    <component>Web Console</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12857860" author="fmeschbe" created="Fri, 16 Apr 2010 15:46:42 +0000"  >&lt;p&gt;Yes, I agree (and this may well be an issue in the Apache Felix DS implementation).&lt;/p&gt;

&lt;p&gt;In fact our DS implementation actually assigns the ID when the component configuration (file) is read and internal data structure is created. And over the lifecycle of the data structure, the ID is fixed &amp;#8211; this is probably fundamentally wrong.&lt;/p&gt;

&lt;p&gt;So, yes, the API must be clarified for the Component.getId() method to only return a positive number if the component is enabled (or active).&lt;br/&gt;
And, yes, the Felix DS implementation should be fixed&lt;br/&gt;
And, yes, using the component name if the id is not valid sounds good to me.&lt;/p&gt;</comment>
                            <comment id="12894849" author="fmeschbe" created="Tue, 3 Aug 2010 08:56:35 +0000"  >&lt;p&gt;Fixed handling of the component ID in the Declarative Services bundle in Rev. 981772: The ID is now only generated and assigned to a component while the component is enabled. To still access components without an assigned ID, ScrService gets a new method getComponent(String name) to access components by their name.&lt;/p&gt;

&lt;p&gt;This also increases the version of the SCR management API to 1.6 (Rev. 981782)&lt;/p&gt;</comment>
                            <comment id="12894859" author="fmeschbe" created="Tue, 3 Aug 2010 09:48:53 +0000"  >&lt;p&gt;Fixed the Web Console in Rev. 981795 by adding support for components whose component ID is not assigned. Instead of the component ID a combination of the component name and the service.pid property assigned to the component is used. If the service.pid property is not assigned to the component, just the component name is used.&lt;/p&gt;</comment>
                            <comment id="12894864" author="fmeschbe" created="Tue, 3 Aug 2010 10:25:40 +0000"  >&lt;p&gt;This works for me now; thus resolving this issue.&lt;/p&gt;</comment>
                            <comment id="12898878" author="fmeschbe" created="Mon, 16 Aug 2010 12:11:51 +0000"  >&lt;p&gt;Apache Felix Declarative Services 1.6.0 has been released. The issues are now closed.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vwf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>