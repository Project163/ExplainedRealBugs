<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:07:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-697] Generation of a duplicated field when using generics</title>
                <link>https://issues.apache.org/jira/browse/FELIX-697</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Here an extract of my test case:&lt;/p&gt;

&lt;p&gt;In an abstract Class AbsI, I have:&lt;/p&gt;

&lt;p&gt;public abstract class AbsI&amp;lt;T extends Serializable&amp;gt; implements I {&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
    protected abstract T getName();&lt;/p&gt;

&lt;p&gt;    public String getPlip() &lt;/p&gt;
{
        return getName().toString();
    }
&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
}&lt;br/&gt;
In a child A:&lt;br/&gt;
public class A extends AbsI&amp;lt;String&amp;gt; {&lt;br/&gt;
    protected String getName() &lt;/p&gt;
{
        return &quot;a&quot;;
    }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;Generated code for A is:&lt;/p&gt;

&lt;p&gt;public class A extends AbsI&amp;lt;String&amp;gt;&lt;br/&gt;
{&lt;br/&gt;
  private InstanceManager __IM;&lt;br/&gt;
  private boolean jdField___MgetName_of_type_Boolean;&lt;br/&gt;
  private boolean jdField___MgetName_of_type_Boolean;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;=&amp;gt; jdField___MgetName_of_type_Boolean is duplicated and cannot be loaded.&lt;/p&gt;</description>
                <environment>Felix 1.0.4</environment>
        <key id="12402948">FELIX-697</key>
            <summary>Generation of a duplicated field when using generics</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clement.escoffier">Clement Escoffier</assignee>
                                    <reporter username="loris">Loris Bouzonnet</reporter>
                        <labels>
                    </labels>
                <created>Sun, 24 Aug 2008 11:08:19 +0000</created>
                <updated>Thu, 9 Oct 2008 08:42:00 +0000</updated>
                            <resolved>Tue, 9 Sep 2008 17:48:06 +0000</resolved>
                                    <version>iPOJO-0.8.0</version>
                                    <fixVersion>iPOJO-1.0.0</fixVersion>
                                    <component>iPOJO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12625152" author="loris" created="Sun, 24 Aug 2008 11:09:23 +0000"  >&lt;p&gt;The test-case&lt;/p&gt;</comment>
                            <comment id="12629506" author="clement.escoffier" created="Tue, 9 Sep 2008 15:16:40 +0000"  >&lt;p&gt;So, this issue comes from an &quot;unexpected&quot; behavior of the compiler. In fact, the method &apos;getName&apos; is duplicated in the bytecode. The only difference is the returned type (String against Serializable). So, the generated bytecode sounds like incorrect, but works anyway. Here is the generated class (decompiled)&lt;br/&gt;
    protected String getName() &lt;/p&gt;
{
        return &quot;a&quot;;
    }

&lt;p&gt;    protected volatile Serializable getName() &lt;/p&gt;
{
        return getName();
    }

&lt;p&gt;This duplication comes from the generics. iPOJO has not expected this kind of code, and so generate twice the same identifier (based on the method name and the argument list). &lt;br/&gt;
I will fix this issue by inserting the field only once. The two methods will then used the same flag. It makes sense as the two methods are associated (the generated one always call the written one).&lt;/p&gt;

&lt;p&gt;PS : I don&apos;t know why the generated method becomes volatile.&lt;/p&gt;</comment>
                            <comment id="12629531" author="clement.escoffier" created="Tue, 9 Sep 2008 17:09:36 +0000"  >&lt;p&gt;Just an update,&lt;/p&gt;

&lt;p&gt;This behavior requires Java 1.5. It also appears when implementing an interface and providing a method returning a subtype of the expected type such as in : &lt;/p&gt;

&lt;p&gt;public interface Foo {&lt;br/&gt;
    Object getFoo();&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;public class FooImpl implements Foo {&lt;br/&gt;
   public String getFoo() &lt;/p&gt;
{
    return &quot;foo&quot;;
   }
&lt;p&gt;}&lt;/p&gt;

&lt;p&gt;So, the compiled class will contain two getFoo method : one returning a String, and one returning an Object. The second one is generated by the compiler, and invokes the first &apos;written&apos; one.&lt;/p&gt;</comment>
                            <comment id="12629550" author="clement.escoffier" created="Tue, 9 Sep 2008 17:48:06 +0000"  >&lt;p&gt;Fixed in the revision 693520.&lt;br/&gt;
I commit a patch and add the test case in my test suite. &lt;br/&gt;
Loris, could you confirm the fix?&lt;/p&gt;</comment>
                            <comment id="12637454" author="loris" created="Tue, 7 Oct 2008 12:18:13 +0000"  >&lt;p&gt;Good. Thank you Cl&#233;ment!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12388813" name="ipojo-testcase.zip" size="3139" author="loris" created="Sun, 24 Aug 2008 11:09:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58292</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14153:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231647</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>