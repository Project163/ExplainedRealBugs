<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:47:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3820] Possible NPE in ConfigAdmin after shutting down when accessed by bad behaving bundles</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3820</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;When a bundle accesses the ConfigAdmin service while or after it has been stopped, NPE can occur because the internal ConfigurationAdminImpl#configurationManager field has been nulled.&lt;br/&gt;
While this is a minor issue, it would be better to throw a nicer exception indicating the COnfigAdmin service has been stopped.&lt;br/&gt;
This is mostly for bad behaving bundles that do not react to the service being unregistered though, so it&apos;s really a minor issue&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	  at org.apache.felix.cm.impl.ConfigurationAdminImpl.listConfigurations(ConfigurationAdminImpl.java:166)
	  at org.apache.felix.fileinstall.internal.ConfigInstaller.findExistingConfiguration(ConfigInstaller.java:346)
	  at org.apache.felix.fileinstall.internal.ConfigInstaller.getConfiguration(ConfigInstaller.java:320)
	  at org.apache.felix.fileinstall.internal.ConfigInstaller.setConfig(ConfigInstaller.java:245)
	  at org.apache.felix.fileinstall.internal.ConfigInstaller.install(ConfigInstaller.java:84)
	  at org.apache.felix.fileinstall.internal.DirectoryWatcher.install(DirectoryWatcher.java:929)
	  at org.apache.felix.fileinstall.internal.DirectoryWatcher.install(DirectoryWatcher.java:857)
	  at org.apache.felix.fileinstall.internal.DirectoryWatcher.process(DirectoryWatcher.java:483)
	  at org.apache.felix.fileinstall.internal.DirectoryWatcher.start(DirectoryWatcher.java:224)
	  at org.apache.felix.fileinstall.internal.FileInstall.updated(FileInstall.java:252)
	  at org.apache.felix.fileinstall.internal.FileInstall.start(FileInstall.java:139)
	  at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:645)
	  at org.apache.felix.framework.Felix.doActivateBundle(Felix.java:2259)
	  at org.apache.felix.framework.Felix$7.call(Felix.java:2197)
	  at org.apache.felix.framework.Felix$6.call(Felix.java:2141)
	  at java.util.concurrent.FutureTask$Sync.innerRun(FutureTask.java:334)
	  at java.util.concurrent.FutureTask.run(FutureTask.java:166)
	  at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1110)
	  at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:603)
	  at java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:722)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12623787">FELIX-3820</key>
            <summary>Possible NPE in ConfigAdmin after shutting down when accessed by bad behaving bundles</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="gnodet">Guillaume Nodet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Dec 2012 17:25:27 +0000</created>
                <updated>Sat, 28 Sep 2013 15:26:59 +0000</updated>
                            <resolved>Mon, 31 Dec 2012 19:47:43 +0000</resolved>
                                    <version>configadmin-1.6.0</version>
                                    <fixVersion>configadmin-1.8.0</fixVersion>
                                    <component>Configuration Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13532396" author="gnt" created="Fri, 14 Dec 2012 15:41:58 +0000"  >&lt;p&gt;Proposed patch to fix this issue, but I&apos;m going to see if I reproduce the issue after having fixed &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3821&quot; title=&quot;FileInstall does not support correctly ConfigAdmin being shut down&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3821&quot;&gt;&lt;del&gt;FELIX-3821&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13541474" author="fmeschbe" created="Mon, 31 Dec 2012 19:47:43 +0000"  >&lt;p&gt;Thanks for the patch.&lt;/p&gt;

&lt;p&gt;I have applied a slightly modified version (using a local variable to prevent repeated checks) in Rev. 747165 and added integration tests. In addition  I extended the guard for the permission checks.&lt;/p&gt;</comment>
                            <comment id="13780868" author="fmeschbe" created="Sat, 28 Sep 2013 15:26:59 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12623788">FELIX-3821</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12560986" name="FELIX-3820.patch" size="9180" author="gnodet" created="Fri, 14 Dec 2012 15:41:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>297487</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14p13:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235520</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>