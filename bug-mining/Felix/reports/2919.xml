<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 16:11:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-5686] NPE in ConfigInstaller on ConfigDelete</title>
                <link>https://issues.apache.org/jira/browse/FELIX-5686</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The ConfigInstaller is handling a Config Delete Event now, but it always throws a NullPointException which crowds up the logs.&lt;/p&gt;

&lt;p&gt;On delete, the ConfigInstaller tries to get the corresponding Configuration object: &lt;a href=&quot;https://github.com/apache/felix/blob/trunk/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java#L176&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix/blob/trunk/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java#L176&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It&apos;s never going to get the Configuration object because it was just deleted. So the getConfiguration call creates a new one with null as the properties. Then on line 180 there is a NullPointerException. &lt;/p&gt;

&lt;p&gt;Unfortunately, the fix for this will require changing the ConfigurationListener API so that the ConfigurationEvent either has the whole Dictionary of configuration properties or at least the felix.file.install property, if it exists.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13099330">FELIX-5686</key>
            <summary>NPE in ConfigInstaller on ConfigDelete</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gnodet">Guillaume Nodet</assignee>
                                    <reporter username="brandan.jeter">Brandan Jeter</reporter>
                        <labels>
                    </labels>
                <created>Fri, 1 Sep 2017 22:09:58 +0000</created>
                <updated>Thu, 19 Dec 2019 17:37:03 +0000</updated>
                            <resolved>Thu, 19 Oct 2017 07:31:15 +0000</resolved>
                                    <version>fileinstall-3.6.0</version>
                                    <fixVersion>fileinstall-3.6.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16210694" author="gnt" created="Thu, 19 Oct 2017 07:31:15 +0000"  >&lt;p&gt;Committing to &lt;a href=&quot;https://svn.apache.org/repos/asf/felix/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/felix/trunk&lt;/a&gt; ...&lt;br/&gt;
	M	fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java&lt;br/&gt;
Committed r1812602&lt;/p&gt;</comment>
                            <comment id="16211124" author="brandan.jeter" created="Thu, 19 Oct 2017 14:27:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gnodet&quot; class=&quot;user-hover&quot; rel=&quot;gnodet&quot;&gt;gnodet&lt;/a&gt;: I do not believe this is fully resolved. The NullPointerException is fixed, but that whole block of code that handles the Delete event is dead code. When it tries to get the configuration from ConfigAdmin, it will never get the actual config because the actual config was already deleted. So files in etc are never going to be properly deleted. How should I properly report this? Should I reopen the initial improvement ticket? &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-5610&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FELIX-5610&lt;/a&gt; Or create a bug ticket?&lt;/p&gt;</comment>
                            <comment id="16211194" author="gnt" created="Thu, 19 Oct 2017 15:20:51 +0000"  >&lt;p&gt;Please open a new issue.&lt;/p&gt;</comment>
                            <comment id="16211304" author="gnt" created="Thu, 19 Oct 2017 16:26:38 +0000"  >&lt;p&gt;Note that i just found &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-5722&quot; title=&quot;The factory pid is not available on the async delete event&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-5722&quot;&gt;FELIX-5722&lt;/a&gt; which will make things a bit more difficult to handle.&lt;/p&gt;</comment>
                            <comment id="16211330" author="brandan.jeter" created="Thu, 19 Oct 2017 16:41:25 +0000"  >&lt;p&gt;Yeah ultimately you&apos;ll need, at a minimum, the factory pid and the felix.file.install property from the configuration event. If they don&apos;t come with the event then the ConfigInstaller&apos;s hands are tied, so to speak.&lt;/p&gt;</comment>
                            <comment id="16211340" author="brandan.jeter" created="Thu, 19 Oct 2017 16:45:57 +0000"  >&lt;p&gt;Here&apos;s the bug I created: &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-5723&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/FELIX-5723&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13095433">KARAF-5313</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13110721">FELIX-5723</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3jki7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>