<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:22:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2876] &lt;reference&gt; element not generated when name is missing</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2876</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I have the following class:&lt;/p&gt;

&lt;p&gt;    @Component(specVersion = &quot;1.1&quot;)&lt;br/&gt;
    @Service(Servlet.class)&lt;br/&gt;
    @Reference(referenceInterface = LogService.class, strategy = ReferenceStrategy.LOOKUP)&lt;br/&gt;
    public class Test extends HttpServlet {&lt;br/&gt;
    }&lt;/p&gt;

&lt;p&gt;Running this through the Maven SCR Plugin, I would expect this descriptor:&lt;/p&gt;


&lt;p&gt;    &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
    &amp;lt;components xmlns:scr=&quot;http://www.osgi.org/xmlns/scr/v1.1.0&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scr:component enabled=&quot;true&quot; name=&quot;test.Test&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;implementation class=&quot;test.Test&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;service servicefactory=&quot;false&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;provide interface=&quot;javax.servlet.Servlet&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;/service&amp;gt;&lt;br/&gt;
            &amp;lt;property name=&quot;service.pid&quot; value=&quot;test.Test&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;reference interface=&quot;org.osgi.service.log.LogService&quot; cardinality=&quot;1..1&quot; policy=&quot;static&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/scr:component&amp;gt;&lt;br/&gt;
    &amp;lt;/components&amp;gt;&lt;/p&gt;

&lt;p&gt;what I get is the following descriptor without the &amp;lt;reference&amp;gt; element&lt;/p&gt;

&lt;p&gt;    &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
    &amp;lt;components xmlns:scr=&quot;http://www.osgi.org/xmlns/scr/v1.1.0&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;scr:component enabled=&quot;true&quot; name=&quot;test.Test&quot;&amp;gt;&lt;br/&gt;
            &amp;lt;implementation class=&quot;test.Test&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;service servicefactory=&quot;false&quot;&amp;gt;&lt;br/&gt;
                &amp;lt;provide interface=&quot;javax.servlet.Servlet&quot;/&amp;gt;&lt;br/&gt;
            &amp;lt;/service&amp;gt;&lt;br/&gt;
            &amp;lt;property name=&quot;service.pid&quot; value=&quot;test.Test&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;/scr:component&amp;gt;&lt;br/&gt;
    &amp;lt;/components&amp;gt;&lt;/p&gt;

&lt;p&gt;Adding the &quot;name&quot; attribute to the @Reference tag properly generates &amp;lt;reference&amp;gt; element, though.&lt;/p&gt;

&lt;p&gt;IMHO this is false in multiple ways:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;There is no log message indicating this omission&lt;/li&gt;
	&lt;li&gt;According to the DS 1.1 spec, the name attribute is optional; thus a &amp;lt;reference&amp;gt; element without name must be generated&lt;/li&gt;
	&lt;li&gt;If I set specVersion=&quot;1.0&quot; in the @Component tag, an error should be generated for the missing name tag (because the name tag is required in DS 1.0)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12500852">FELIX-2876</key>
            <summary>&lt;reference&gt; element not generated when name is missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Mar 2011 08:11:23 +0000</created>
                <updated>Sun, 13 Mar 2011 12:55:51 +0000</updated>
                            <resolved>Wed, 9 Mar 2011 13:13:04 +0000</resolved>
                                    <version> maven-scr-plugin-1.6.0</version>
                                    <fixVersion>maven-scr-plugin-1.7.0</fixVersion>
                    <fixVersion>scr ant task 1.1.0</fixVersion>
                    <fixVersion>scr generator 1.1.0</fixVersion>
                                    <component>SCR Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13004448" author="cziegeler" created="Wed, 9 Mar 2011 10:03:36 +0000"  >&lt;p&gt;References without a name where completly ignored. I&apos;ve now changed the code according to the description above in revision 1079719&lt;/p&gt;</comment>
                            <comment id="13004460" author="cziegeler" created="Wed, 9 Mar 2011 10:40:52 +0000"  >&lt;p&gt;The above commit does not handle bind/unbind method generation and check&lt;/p&gt;</comment>
                            <comment id="13004473" author="cziegeler" created="Wed, 9 Mar 2011 11:05:13 +0000"  >&lt;p&gt;Updated the reference validation to check for null name and use the interface class name instead when searching for bind/unbind methods. Revision 1079744&lt;/p&gt;</comment>
                            <comment id="13004530" author="cziegeler" created="Wed, 9 Mar 2011 13:13:04 +0000"  >&lt;p&gt;I think everything is working now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56103</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vy0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184485</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>