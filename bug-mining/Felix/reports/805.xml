<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:15:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1789] FileInstall is too verbose</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1789</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;GlassFish users have commented that FileInstall is too verbose. They suggest the initial configuration related messages to be moved to debug level.&lt;/p&gt;

&lt;p&gt;e.g.,&lt;/p&gt;

&lt;p&gt;INFO: &lt;/p&gt;
{felix.fileinstall.poll (ms) = 5000, felix.fileinstall.dir = /space/ss141213/WS/gf/v3/publish/glassfishv3/glassfish/domains/domain1/autodeploy/bundles, felix.fileinstall.debug = 1, felix.fileinstall.bundles.new.start = true, felix.fileinstall.tmpdir = /tmp/fileinstall, felix.fileinstall.filter = null}</description>
                <environment>generic</environment>
        <key id="12438711">FELIX-1789</key>
            <summary>FileInstall is too verbose</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="sahoo">Sanjeeb Kumar Sahoo</reporter>
                        <labels>
                    </labels>
                <created>Wed, 21 Oct 2009 14:45:45 +0000</created>
                <updated>Mon, 5 Mar 2012 09:40:49 +0000</updated>
                            <resolved>Wed, 9 Dec 2009 16:44:44 +0000</resolved>
                                    <version>fileinstall-2.0.0</version>
                                    <fixVersion>fileinstall-2.0.8</fixVersion>
                                    <component>File Install</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12776528" author="rickhall" created="Wed, 11 Nov 2009 17:31:00 +0000"  >&lt;p&gt;It looks like File Install uses the Log Service if its present, but if not then it always logs to stdout. So, if there is a log service then the output can be controlled, but if there is not then there is no control over what is logged to stdout. It seems like this could be solved by adding a configuration property to indicate which level of messages should be logged. This would control what was logged regardless of whether it was using the log service or stdout.&lt;/p&gt;</comment>
                            <comment id="12784309" author="rickhall" created="Tue, 1 Dec 2009 17:57:44 +0000"  >&lt;p&gt;The way File Install handles logging is not very good. It doesn&apos;t itself have a log level, it simply uses a single flag (felix.fileinstall.debug) to indicate whether or not it should print exception stack traces for all messages and it doesn&apos;t actually assign a log level to a message, which means there really is no way to control which messages get logged.&lt;/p&gt;

&lt;p&gt;I have attached a patch that has deleted the &quot;felix.fileinstall.debug&quot; property (since it doesn&apos;t make much sense) and have added a &quot;felix.fileinstall.log.level&quot; property, which controls which level of messages get logged. I have then modified the logging methods to associate a log level with the message being logged. Thus, messages only get logged if felix.fileinstall.log.level is greater than zero (i.e., enabled) and if the message log level is less than or equal to the configured log level.&lt;/p&gt;

&lt;p&gt;This is an improvement, but logging is still pretty ugly since it is based on a static approach. Seems like it be cleaner to give each DirectoryWatcher its own logger which is properly configured for it, but the patch is better than nothing.&lt;/p&gt;

&lt;p&gt;Two issues:&lt;/p&gt;

&lt;p&gt;1. Some people may care that I deleted the old property, but really it served little purpose.&lt;br/&gt;
2. I wasn&apos;t sure which log level to assign to the various messages, so someone may want to check that.&lt;/p&gt;

&lt;p&gt;Thoughts?&lt;/p&gt;</comment>
                            <comment id="12787570" author="rickhall" created="Tue, 8 Dec 2009 16:48:24 +0000"  >&lt;p&gt;So, does anyone have any feedback on this patch? Should I just go ahead and commit? I am not a user of File Install, so I&apos;d appreciate some feedback.&lt;/p&gt;</comment>
                            <comment id="12787577" author="gnt" created="Tue, 8 Dec 2009 17:00:56 +0000"  >&lt;p&gt;Sorry, I missed your patch. Let me until tomorrow to review it.&lt;/p&gt;</comment>
                            <comment id="12788149" author="gnt" created="Wed, 9 Dec 2009 16:34:24 +0000"  >&lt;p&gt;I&apos;ve spotted one slight problem which can lead to a NPE if I understand the patch correctly.&lt;br/&gt;
In the Utils file, the patch looks the following:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@@ -216,11 +240,15 @@
         {
             &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
         }
-        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void log(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; debug, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; message, Throwable throwable)
+
+        &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void log(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; logLevel, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; msgLevel, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; message, Throwable throwable)
         {
-            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(message + (throwable == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; : &quot;&lt;/span&gt;: &quot; + throwable));
-            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (debug &amp;amp;&amp;amp; throwable != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
+            &lt;span class=&quot;code-comment&quot;&gt;// Only print the message &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; logging is enabled and
&lt;/span&gt;+            &lt;span class=&quot;code-comment&quot;&gt;// the message level is less than or equal to the log
&lt;/span&gt;+            &lt;span class=&quot;code-comment&quot;&gt;// level.
&lt;/span&gt;+            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ((logLevel &amp;gt; 0) &amp;amp;&amp;amp; (msgLevel &amp;lt;= logLevel))
             {
+                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(message + (throwable == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; ? &lt;span class=&quot;code-quote&quot;&gt;&quot;&quot; : &quot;&lt;/span&gt;: &quot; + throwable));
                 throwable.printStackTrace(&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out);
             }
         }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;if &lt;tt&gt;throwable&lt;/tt&gt; is &lt;tt&gt;null&lt;/tt&gt;, this should lead to a NPE which was prevented with the test in the current code.&lt;br/&gt;
The remaining of the patch looks good to me.&lt;/p&gt;</comment>
                            <comment id="12788155" author="rickhall" created="Wed, 9 Dec 2009 16:44:44 +0000"  >&lt;p&gt;Good catch. I modified the patch to check for null. Sahoo, please close this issue if you are satisfied with the result. Thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12545146">FELIX-3373</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12426553" name="FELIX-1789.txt" size="21647" author="rickhall" created="Tue, 1 Dec 2009 17:49:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57248</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vten:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183737</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>