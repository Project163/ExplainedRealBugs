<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:05:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-363] Forceable termination of Felix instance leaves global EventDispatcher in non-restartable state</title>
                <link>https://issues.apache.org/jira/browse/FELIX-363</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-314&quot; title=&quot;EventDispatcher class not reusable in same class loader for multiple Felix instances&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-314&quot;&gt;&lt;del&gt;FELIX-314&lt;/del&gt;&lt;/a&gt; fixed an issue where internal shutdown of the global EventDispatcher thread left Felx in a state where new instances could not be started within the same VM at a later time.&lt;/p&gt;

&lt;p&gt;It seems in an Applet VM environment using JRE 1.6 and IE7 there is a variation on this case where the Applet VM is forcibly killing VM threads not cleanly terminated by the application itself e.g. a sloppily written Applet  (like ours!) which launched a Felix instance in the start() but didn&apos;t shut it down in the stop().&lt;/p&gt;

&lt;p&gt;Such a forceable termination is not tracked or detected, and hence leads to a similar inability to start additional Felix instances as was being seen in &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-314&quot; title=&quot;EventDispatcher class not reusable in same class loader for multiple Felix instances&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-314&quot;&gt;&lt;del&gt;FELIX-314&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12377962">FELIX-363</key>
            <summary>Forceable termination of Felix instance leaves global EventDispatcher in non-restartable state</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="walkerr">Rob Walker</assignee>
                                    <reporter username="walkerr">Rob Walker</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Sep 2007 10:30:50 +0000</created>
                <updated>Tue, 11 Sep 2007 16:30:05 +0000</updated>
                            <resolved>Tue, 11 Sep 2007 10:39:44 +0000</resolved>
                                                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12526411" author="walkerr" created="Tue, 11 Sep 2007 10:39:44 +0000"  >&lt;p&gt;Committed a fix which should ensure:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;m_thread is nulled out whenever run() exits regardless of reason&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;also checks whether m_thread.isAlive() to handle cases where thread is killed but not detected internally, and m_thread doesn&apos;t get nulled out.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12526486" author="rickhall" created="Tue, 11 Sep 2007 15:29:41 +0000"  >&lt;p&gt;The patch makes it so that the calling thread of EventDispatcher.shutdown() no longer waits for the dispatcher thread to shutdown. This changes the behavior a little bit, but I am not sure if anyone cares about this.&lt;/p&gt;

&lt;p&gt;I could imagine, given the situation of the dispatcher thread being killed, that you could get into some condition where the calling thread is waiting for the dispatcher thread forever since there is likely a race condition between the caller waiting and the dispatcher getting killed.&lt;/p&gt;</comment>
                            <comment id="12526518" author="walkerr" created="Tue, 11 Sep 2007 16:30:05 +0000"  >&lt;p&gt;Good spot - thanks for commenting Richard&lt;/p&gt;

&lt;p&gt;We had a minor issue with this seeming like a lock-up case, although it&apos;s very boundary. So not an issue to put the &quot;wait on shutdown&quot; code back in if others need it / prefer it.&lt;/p&gt;

&lt;p&gt;Could also make waiting it an optional/default case selectable by property if it&apos;s something that only a few use-cases need.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58622</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 12 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vtp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183784</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>