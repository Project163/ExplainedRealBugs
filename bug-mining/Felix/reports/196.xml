<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:06:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-399] OBR referrals</title>
                <link>https://issues.apache.org/jira/browse/FELIX-399</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I noticed that Felix does not have support right now for OBR referrals. So I added a patch, and I was hoping you guys could look at it and make sure it makes sense. The only issue is that my code does not take into account the attribute &quot;depth&quot;, it will go through every referral and add all the resources. I couldn&apos;t figure out a good way to make use of the depth attribute to make it work in the framework. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12380703">FELIX-399</key>
            <summary>OBR referrals</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="rpunnoose">Roshan Punnoose</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Oct 2007 18:25:00 +0000</created>
                <updated>Wed, 27 Aug 2008 19:30:22 +0000</updated>
                            <resolved>Thu, 26 Jun 2008 07:32:15 +0000</resolved>
                                                    <fixVersion>bundlerepository-1.2.0</fixVersion>
                                    <component>Bundle Repository (OBR)</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12536000" author="rpunnoose" created="Thu, 18 Oct 2007 18:25:53 +0000"  >&lt;p&gt;Felix OBR referral path&lt;/p&gt;</comment>
                            <comment id="12537053" author="rpunnoose" created="Tue, 23 Oct 2007 16:05:56 +0000"  >&lt;p&gt;In my last patch. I added resources from the referral directly to the repository that held the referral. I believe that the referral should use the RepositoryAdmin to add a repository from the referral url. That way if there is more than one referral in the future to the same url, the felix-bundle-repository can use they same url and not create duplicate resources.&lt;/p&gt;</comment>
                            <comment id="12600249" author="fmeschbe" created="Tue, 27 May 2008 19:19:18 +0000"  >&lt;p&gt;Thanks for this patch. I just implemented my own approach, but yours possibly reusing already loaded URLs might be better.&lt;/p&gt;

&lt;p&gt;But your patch has the problem, that it also contains code reformatting. Could you please provide a patch, which does not include the reformatting ? Thanks alot.&lt;/p&gt;</comment>
                            <comment id="12600251" author="fmeschbe" created="Tue, 27 May 2008 19:20:53 +0000"  >&lt;p&gt;&amp;gt; The only issue is that my code does not take into account the attribute &quot;depth&quot;&lt;/p&gt;

&lt;p&gt;IMHO the depth attribute is an absolute requirement to prevent endless recursions etc. We can also not just stop following referrals on repositories, we already visited because the depth value on the referral has to be obeyed as declared.&lt;/p&gt;</comment>
                            <comment id="12606778" author="tobias.wegner" created="Fri, 20 Jun 2008 14:29:04 +0000"  >&lt;p&gt;This patch works well for me, when will it be included into the release?&lt;/p&gt;</comment>
                            <comment id="12606820" author="rickhall" created="Fri, 20 Jun 2008 16:34:39 +0000"  >&lt;p&gt;Can someone get the depth attribute working? I agree with Felix, it seems like this should be in place. However, I could probably be convinced to move forward without it.&lt;/p&gt;</comment>
                            <comment id="12606867" author="rickhall" created="Fri, 20 Jun 2008 19:17:33 +0000"  >&lt;p&gt;I have attached an updated version of the patch, which mostly corrects the formatting issues with an odd change here and there. Tobias, if you want to make sure that my new patch didn&apos;t break anything, that would be great. Then we just have to figure out how to add the hop count functionality.&lt;/p&gt;</comment>
                            <comment id="12607152" author="fmeschbe" created="Mon, 23 Jun 2008 06:44:10 +0000"  >&lt;p&gt;Another patch modification. Starting from Richard&apos;s patch, this adds/changes the following:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Adds unit tests&lt;/li&gt;
	&lt;li&gt;Modifies Referral to store depth as int (default 1) and URL as String&lt;/li&gt;
	&lt;li&gt;Only loads referrals after completing file parsing (not in addReferral)&lt;/li&gt;
	&lt;li&gt;Resolves referral URLs relative to repository URL&lt;/li&gt;
	&lt;li&gt;loading hop count is only used for resolving referrals&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12608190" author="fmeschbe" created="Wed, 25 Jun 2008 21:03:16 +0000"  >&lt;p&gt;Here is another patch which enhances my first one as follows:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Removes a TODO comment hinting hopCount is not implemented&lt;/li&gt;
	&lt;li&gt;Reformats by removing extra spaces around parentheses&lt;/li&gt;
	&lt;li&gt;Reintroduces functionliaty to extract repository.xml from ZIP files&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12608310" author="fmeschbe" created="Thu, 26 Jun 2008 07:32:15 +0000"  >&lt;p&gt;I have applied my last patch (after fixing issues with the test case based on an older implementation) in Rev. 671815.&lt;/p&gt;

&lt;p&gt;Referrals are now followed and the hop count is respected. All referred repositories visited are added as if they would have been added through RepositoryAdmin.addRepository(URL).&lt;/p&gt;

&lt;p&gt;I have tested this patch in my local environment and it seems to work. Please also test in your environment thanks.&lt;/p&gt;

&lt;p&gt;If it works, please close this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12384704" name="FELIX-399-fmeschbe-2.patch" size="25643" author="fmeschbe" created="Wed, 25 Jun 2008 21:03:16 +0000"/>
                            <attachment id="12384474" name="FELIX-399-fmeschbe.patch" size="25702" author="fmeschbe" created="Mon, 23 Jun 2008 06:44:10 +0000"/>
                            <attachment id="12384405" name="FELIX-399.patch" size="10279" author="rickhall" created="Fri, 20 Jun 2008 19:15:54 +0000"/>
                            <attachment id="12368224" name="felix-obr-referral-2.patch" size="11560" author="rpunnoose" created="Tue, 23 Oct 2007 16:05:55 +0000"/>
                            <attachment id="12367961" name="felix-obr-referral.patch" size="11680" author="rpunnoose" created="Thu, 18 Oct 2007 18:25:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 22 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vurj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183957</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>