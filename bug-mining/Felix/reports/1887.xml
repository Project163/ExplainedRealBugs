<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:48:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3963] Properly handle method resolution through reflection</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3963</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;An InventoryPrinter can be registered as an InventoryPrinter service implementing the interface or it can be registered as service of any type as long as a particular method signature is implemented (along with a number of service registration properties required in both cases).&lt;/p&gt;

&lt;p&gt;The method signature is similar to the InventoryPrinter method is:&lt;/p&gt;

&lt;p&gt;   void print(String mode, PrinterWriter writer, boolean isZip)&lt;/p&gt;

&lt;p&gt;Previously the ConfigurationPrinter support in Web Console 4.0 supported the same mechanism (with a slightly different signature, of course).&lt;/p&gt;

&lt;p&gt;The question is, how is the method found:&lt;/p&gt;

&lt;p&gt;(1) Use the service implementation class only to find any declared method. This is how Web Console 4.0 supports ConfigurationPrinter discovery.&lt;/p&gt;

&lt;p&gt;(2) Use the service implementation class hierarchy to find a properly declared method. This is the current intent of the InventoryPrinter.&lt;/p&gt;

&lt;p&gt;I think for the backwards compatibility use case (ConfigurationPrinter signatures) we should implement the &quot;implementation-class-only&quot; variant (1).&lt;/p&gt;

&lt;p&gt;For new InventoryPrinter services we might consider variant (2). Yet I am not sure, whether this really is usefull: Does such a one-off InventoryPrinter service really support inheritance and method selection through the class hierarchy ? In such cases implementing the InventoryPrinter might make more sense.&lt;/p&gt;

&lt;p&gt;See also the discussion at &lt;a href=&quot;http://felix.markmail.org/thread/rtkogb7uukyt6gky&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.markmail.org/thread/rtkogb7uukyt6gky&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12636314">FELIX-3963</key>
            <summary>Properly handle method resolution through reflection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Mar 2013 08:29:08 +0000</created>
                <updated>Thu, 6 Jun 2013 15:35:00 +0000</updated>
                            <resolved>Wed, 27 Mar 2013 19:08:03 +0000</resolved>
                                    <version>inventory-1.0.0</version>
                                    <fixVersion>inventory-1.0.0</fixVersion>
                                    <component>Inventory</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13598684" author="fmeschbe" created="Mon, 11 Mar 2013 10:21:04 +0000"  >&lt;p&gt;Providing two patches implementing the two approaches:&lt;/p&gt;

&lt;p&gt;-get : only use implementation class&lt;br/&gt;
-search: use class hierarchy for InventoryPrinter but implementation class for ConfigurationPrinter&lt;/p&gt;</comment>
                            <comment id="13615334" author="fmeschbe" created="Wed, 27 Mar 2013 14:46:46 +0000"  >&lt;p&gt;After discussion on the list, none of the patches will be applied. Rather we don&apos;t use reflection for InventoryPrinter at all and for ConfigurationPrinter we support the backwards compatible mechanism of only looking for the method in the class of the registered service object and expect the method to be public.&lt;/p&gt;

&lt;p&gt;The solution to prevent eager API binding is to use dynamic imports and ServiceFactory as explained in the FAQ &lt;a href=&quot;http://felix.apache.org/documentation/tutorials-examples-and-presentations/apache-felix-osgi-faq.html#how-to-provide-optional-services&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/documentation/tutorials-examples-and-presentations/apache-felix-osgi-faq.html#how-to-provide-optional-services&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13615481" author="fmeschbe" created="Wed, 27 Mar 2013 16:52:43 +0000"  >&lt;p&gt;In Rev. 1461705 implemented:&lt;/p&gt;

&lt;p&gt;(1) InventoryPrinter only accepted as a service implementing the API (using ServiceFactory and dynamic import fixes static dependency issues better)&lt;br/&gt;
(2) ConfigurationPrinter supported through reflection for backwards compatibility (only public method in the service object class itself)&lt;br/&gt;
(3) Removing test case checking for proper reflection support of the InventoryPrinter (not needed any longer)&lt;/p&gt;</comment>
                            <comment id="13615642" author="fmeschbe" created="Wed, 27 Mar 2013 19:07:12 +0000"  >&lt;p&gt;Also removed the obsolete ClassUtils class in Rev 1461806&lt;/p&gt;</comment>
                            <comment id="13615643" author="fmeschbe" created="Wed, 27 Mar 2013 19:08:03 +0000"  >&lt;p&gt;This is done now&lt;/p&gt;</comment>
                            <comment id="13677137" author="fmeschbe" created="Thu, 6 Jun 2013 15:35:00 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12573059" name="FELIX-3963-get.patch" size="30459" author="fmeschbe" created="Mon, 11 Mar 2013 10:21:04 +0000"/>
                            <attachment id="12573058" name="FELIX-3963-search.patch" size="32522" author="fmeschbe" created="Mon, 11 Mar 2013 10:21:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>316806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1inzz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317148</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>