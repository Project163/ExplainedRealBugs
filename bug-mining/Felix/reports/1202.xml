<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:21:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2691] Apache Felix HTTP service HttpServiceImpl.isNameValid does not match OSGi R4.2 spec?</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2691</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Filing bug per:&lt;br/&gt;
&lt;a href=&quot;http://www.mail-archive.com/dev@felix.apache.org/msg19853.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/dev@felix.apache.org/msg19853.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The R4.2 enterprise spec from&lt;br/&gt;
&lt;a href=&quot;http://www.osgi.org/Download/File?url=/download/r4v42/r4.enterprise.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.osgi.org/Download/File?url=/download/r4v42/r4.enterprise.pdf&lt;/a&gt;&lt;br/&gt;
on page 48 clearly states:&lt;/p&gt;

&lt;p&gt;The name parameter must also not end with slash (&apos;/&apos;) with the&lt;br/&gt;
exception that a name of the form &quot;/&quot; is used to denote the root of&lt;br/&gt;
the bundle.&lt;/p&gt;


&lt;p&gt;The relevant code, in trunk, is, from&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/repos/asf/felix/trunk/http/base/src/main/java/org/apache/felix/http/base/internal/service/HttpServiceImpl.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/felix/trunk/http/base/src/main/java/org/apache/felix/http/base/internal/service/HttpServiceImpl.java&lt;/a&gt;&lt;/p&gt;


&lt;p&gt; public void registerResources(String alias, String name, HttpContext context)&lt;br/&gt;
        throws NamespaceException&lt;br/&gt;
    {&lt;br/&gt;
        if (!isNameValid(name)) &lt;/p&gt;
{
            throw new IllegalArgumentException( &quot;Malformed resource
name [&quot; + name + &quot;]&quot;);
        }
&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;


&lt;p&gt;private boolean isNameValid(String name)&lt;br/&gt;
    {&lt;br/&gt;
        if (name == null) &lt;/p&gt;
{
            return false;
        }&lt;br/&gt;
&lt;br/&gt;
        if (name.endsWith( &quot;/&quot; )) {            return false;        }

&lt;p&gt;        return true;&lt;br/&gt;
    }&lt;/p&gt;

</description>
                <environment>Not relevant</environment>
        <key id="12479516">FELIX-2691</key>
            <summary>Apache Felix HTTP service HttpServiceImpl.isNameValid does not match OSGi R4.2 spec?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="misha680">Misha Koshelev</reporter>
                        <labels>
                    </labels>
                <created>Tue, 9 Nov 2010 18:59:54 +0000</created>
                <updated>Tue, 8 Feb 2011 09:46:42 +0000</updated>
                            <resolved>Sat, 8 Jan 2011 00:27:24 +0000</resolved>
                                    <version>http-2.0.4</version>
                                    <fixVersion>http-2.2.0</fixVersion>
                                    <component>HTTP Service</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1800">0.5h</timeoriginalestimate>
                            <timeestimate seconds="1800">0.5h</timeestimate>
                                        <comments>
                            <comment id="12930257" author="misha680" created="Tue, 9 Nov 2010 19:45:21 +0000"  >&lt;p&gt;Here is relevant text from spec:&lt;/p&gt;

&lt;p&gt;102.10.3.2&lt;br/&gt;
org.osgi.service.http&lt;br/&gt;
public void registerResources( String alias, String name, HttpContext context ) throws&lt;br/&gt;
NamespaceException&lt;br/&gt;
alias name in the URI namespace at which the resources are registered&lt;br/&gt;
name the base name of the resources that will be registered&lt;br/&gt;
context the HttpContext object for the registered resources, or null if a default HttpContext is to be created and&lt;br/&gt;
used.&lt;br/&gt;
Registers resources into the URI namespace.&lt;br/&gt;
The alias is the name in the URI namespace of the Http Service at which the registration will be&lt;br/&gt;
mapped. An alias must begin with slash (&apos;/&apos;) and must not end with slash (&apos;/&apos;), with the exception that&lt;br/&gt;
an alias of the form &quot;/&quot; is used to denote the root alias. The name parameter must also not end with&lt;br/&gt;
slash (&apos;/&apos;) with the exception that a name of the form &quot;/&quot; is used to denote the root of the bundle. See&lt;br/&gt;
the specification text for details on how HTTP requests are mapped to servlet and resource registra-&lt;br/&gt;
tions.&lt;/p&gt;</comment>
                            <comment id="12979034" author="fmeschbe" created="Sat, 8 Jan 2011 00:27:24 +0000"  >&lt;p&gt;Thanks for providing the patch.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 1056570&lt;/p&gt;</comment>
                            <comment id="12991861" author="fmeschbe" created="Tue, 8 Feb 2011 09:46:42 +0000"  >&lt;p&gt;Close issues after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12459173" name="FELIX-2691-HttpServiceImpl-isNameValid-comply-OSGI-R42.patch" size="564" author="misha680" created="Tue, 9 Nov 2010 19:45:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40465</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aqpj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60600</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>