<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:41:37 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3465] Multi root resolve operations may cause duplicate blame chains to be created</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3465</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I am using the resolver as a &quot;multi-root&quot; resolver in order to resolve all my resources in one pass.  This may cause org.apache.felix.resolver.ResolverImpl.calculatePackageSpaces to be called multiple multiple times for the same resource if it is required by multiple resources in the set of resources that is being resolved.  This causes an artificial explosion of blame candidates when trying to determine a consistent class space solution.  Ultimately this leads to a very long resolution process or worse case an out of memory error.&lt;/p&gt;</description>
                <environment>All</environment>
        <key id="12551114">FELIX-3465</key>
            <summary>Multi root resolve operations may cause duplicate blame chains to be created</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="tjwatson">Tom Watson</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 Apr 2012 18:40:15 +0000</created>
                <updated>Fri, 25 May 2012 18:10:04 +0000</updated>
                            <resolved>Fri, 25 May 2012 18:10:04 +0000</resolved>
                                    <version>framework-4.0.2</version>
                                    <fixVersion>framework-4.2.0</fixVersion>
                                    <component>Framework</component>
                    <component>Resolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13254897" author="tjwatson" created="Mon, 16 Apr 2012 18:43:21 +0000"  >&lt;p&gt;Possible fix.  I simply checked if the resourcePkgMap already contains the resource key and return immediately if so.&lt;/p&gt;</comment>
                            <comment id="13254942" author="rickhall" created="Mon, 16 Apr 2012 19:20:05 +0000"  >&lt;p&gt;Committed the patch to both framework and resolver. This was a good catch. This performance issue was introduced in framework 4.0.0 when we moved toward the OBR resolver API which allows for multiple roots. Typically, we don&apos;t use a multi-rooted approach, so we didn&apos;t notice.&lt;/p&gt;</comment>
                            <comment id="13283540" author="rickhall" created="Fri, 25 May 2012 15:33:46 +0000"  >&lt;p&gt;Reopening because this patch has caused a regression, see &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3521&quot; title=&quot;Regression related to RequireBundle and Import-Package with bundle-symbolic-name attribute&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3521&quot;&gt;&lt;del&gt;FELIX-3521&lt;/del&gt;&lt;/a&gt;. Apparently, we need to be smarter.&lt;/p&gt;</comment>
                            <comment id="13283606" author="rickhall" created="Fri, 25 May 2012 17:13:26 +0000"  >&lt;p&gt;The regression is caused by the fact that the original patch not only prevents duplicate package space calculations, it also prevents valid package space calculations.&lt;/p&gt;

&lt;p&gt;This is because we preliminarily calculate exported packages for candidates and put them into the package space map, but the associated package space isn&apos;t fully calculated yet. The original patch prevents these partially calculated packages spaces from being fully calculated.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached a patch to remedy this situation by adding a boolean to the Packages object to indicate whether it is fully calculated or not. Not very elegant, but I can&apos;t think of anything better.&lt;/p&gt;</comment>
                            <comment id="13283654" author="rickhall" created="Fri, 25 May 2012 18:10:04 +0000"  >&lt;p&gt;Ok, I applied the proposed patch.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12556963">FELIX-3521</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12522830" name="3465.txt" size="647" author="tjwatson" created="Mon, 16 Apr 2012 18:43:21 +0000"/>
                            <attachment id="12529750" name="FELIX-3465-FIX.txt" size="1682" author="rickhall" created="Fri, 25 May 2012 17:13:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>235978</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 26 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07fxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41349</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>