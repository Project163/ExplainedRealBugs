<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:18:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2446] [Gogo] The bundle context command is not used with a scope in gosh_profile</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2446</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The default gosh_profile shell registers the bundle context as a command, but it is not assigned any scope. This apparently is problematic for anyone else registering a command with overlapping names as what is on bundle context. For example, registering a command named &quot;bundle&quot; causes the following gosh_profile line to fail:&lt;/p&gt;

&lt;p&gt;    addcommand system ((bundle 1) loadclass java.lang.System)&lt;/p&gt;

&lt;p&gt;I am not sure why or how it is shadowing it, since it seems like the order should favor the built-in commands, but apparently. Regardless, if we had a scope assigned to this we could be precise in our gosh_profile shell (e.g., gogo:bundle) to avoid this issue altogether.&lt;/p&gt;

&lt;p&gt;To make matters worse, this causes the entire shell bundle to die...it might be nice if it continued to function even if there are errors in the gosh_profile.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12467832">FELIX-2446</key>
            <summary>[Gogo] The bundle context command is not used with a scope in gosh_profile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="db82407">Derek Baum</assignee>
                                    <reporter username="rickhall">Richard S. Hall</reporter>
                        <labels>
                    </labels>
                <created>Thu, 24 Jun 2010 19:58:47 +0000</created>
                <updated>Tue, 21 Sep 2010 19:05:32 +0000</updated>
                            <resolved>Thu, 24 Jun 2010 21:10:27 +0000</resolved>
                                    <version>gogo-0.6.0</version>
                                    <fixVersion>gogo-0.6.1</fixVersion>
                                    <component>Gogo Shell</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12882330" author="db82407" created="Thu, 24 Jun 2010 21:10:27 +0000"  >&lt;p&gt;The context commands are registered into a scope - the first argument of addcommand is the scope:&lt;/p&gt;

&lt;p&gt;addcommand context ${.context}&lt;/p&gt;

&lt;p&gt;I have however fixed gosh_profile to explicitly use this scope when referencing the bundle command:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;add methods on System object as commands&lt;br/&gt;
addcommand system ((context:bundle 0) loadclass java.lang.System&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;since the bundle context is also set as a session variable, we could have written the above as:&lt;br/&gt;
addcommand system (${.context} bundle 0) loadclass java.lang.System&lt;/p&gt;

&lt;p&gt;We could protect errors in the whole gosh_profile from aborting startup by enclosing them in a try block, as is used for displaying the message of the day - rather than test whether the file exists, we just eclose it in a try block:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;print welcome message&lt;br/&gt;
try {&lt;br/&gt;
  cat ($0 resolve motd)&lt;br/&gt;
}&lt;/li&gt;
&lt;/ol&gt;
</comment>
                            <comment id="12882337" author="db82407" created="Thu, 24 Jun 2010 21:22:21 +0000"  >&lt;p&gt;the whole gosh_profile is now enclosed in a try {} block, so it doesn&apos;t abort startup if an error occurs:&lt;/p&gt;

&lt;p&gt;$ java -jar bin/felix.jar &lt;br/&gt;
bundle://4.0:1/gosh_profile: ERROR: java.io.IOException: Resource does not exist: bundle://4.0:1/motdx&lt;/p&gt;</comment>
                            <comment id="12882552" author="rickhall" created="Fri, 25 Jun 2010 12:41:15 +0000"  >&lt;p&gt;I guess I just assumed it would be in the &quot;gogo&quot; scope and when it wasn&apos;t I assumed it didn&apos;t have a scope. I changed the summary of the issue to reflect the actual bug, then. Thanks, I&apos;ll close this.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56334</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 22 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vyp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184594</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>