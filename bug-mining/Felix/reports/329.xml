<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:08:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-832] Bind method not invoked when the unbind method is unspecified after reference is changed</title>
                <link>https://issues.apache.org/jira/browse/FELIX-832</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I have a declarative service with a dynamic reference with cardinality 0..1, and since I&apos;m not interested in the unbind notification I did not specified the unbind method.&lt;br/&gt;
I noticed that Felix (1.2.1) invokes the bind method the first time, but it does not invoke it when the reference is changed. After I add a unbind method it works as expected.&lt;/p&gt;</description>
                <environment>Felix 1.2.1</environment>
        <key id="12408998">FELIX-832</key>
            <summary>Bind method not invoked when the unbind method is unspecified after reference is changed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="jassuncao">Joao Assuncao</reporter>
                        <labels>
                    </labels>
                <created>Fri, 21 Nov 2008 15:22:06 +0000</created>
                <updated>Mon, 5 Jul 2010 06:42:54 +0000</updated>
                            <resolved>Fri, 6 Feb 2009 15:31:11 +0000</resolved>
                                    <version>scr-1.0.6</version>
                                    <fixVersion>scr-1.0.8</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12651757" author="jassuncao" created="Sat, 29 Nov 2008 21:37:45 +0000"  >&lt;p&gt;This seems to occur because DependencyManager.ungetService(...) is invoked in DependencyManager.invokeUnbindMethod(...). In the situation where unbind is undefined, the reference isn&apos;t removed from the list of bound services, and because of that, serviceAdded(...) will find the service still bound and will not invoke the bind method.&lt;br/&gt;
The following change seems to fix this problem:&lt;br/&gt;
...&lt;br/&gt;
if ( m_dependencyMetadata.getUnbind() != null )&lt;br/&gt;
{&lt;br/&gt;
  invokeUnbindMethod( instance, reference );&lt;br/&gt;
}&lt;br/&gt;
+ungetService( reference );&lt;br/&gt;
...&lt;/p&gt;</comment>
                            <comment id="12671156" author="fmeschbe" created="Fri, 6 Feb 2009 15:12:02 +0000"  >&lt;p&gt;Thanks for reporting this issue. It is in fact two-fold: The service must not only be &quot;ungotten&quot; if the reference goes away, but also if the component itself is being cleanup (though in the second case there is a general cleanup at then end of the disposal)&lt;/p&gt;</comment>
                            <comment id="12671161" author="fmeschbe" created="Fri, 6 Feb 2009 15:31:11 +0000"  >&lt;p&gt;Moved the call to the ungetService method in Rev. 741593, so that service unbinding does not depend on the presence of an unbind method anymore.&lt;/p&gt;

&lt;p&gt;Actually, this problem might also be present if services are not bound by a bind method but are accessed by locateService. In this case the service must also be ungotten in case of its unregistration&lt;/p&gt;

&lt;p&gt;I have deployed SNAPSHOT version 1.0.7-20090206.153010-1 containing this fix.&lt;/p&gt;

&lt;p&gt;Could you please verify its working in your use case and close the bug then ? Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1aqif:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270761</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>