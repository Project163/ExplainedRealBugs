<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:10:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1262] [regression] shared archive resources cannot be found</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1262</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;HttpCore OSGi bundle can no longer be built after the bundle plugin got upgraded from 1.4.3 to 2.0.0&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://svn.apache.org/repos/asf/httpcomponents/httpcore/trunk/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/httpcomponents/httpcore/trunk/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The problem goes away if I manually downgrade plugin version to 1.4.3&lt;/p&gt;

&lt;p&gt;Could you please have a look?&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;

&lt;p&gt;------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Building HttpCore OSGi bundle&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Removing: jar from forked lifecycle, to prevent recursive invocation.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; [remote-resources:process &lt;/p&gt;
{execution: default}
&lt;p&gt;]&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;resources:resources&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to copy filtered resources.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; skip non existing resourceDirectory C:\data\src\apache.org\httpcomponents\httpcore\httpcore-osgi\src\main\resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;compiler:compile&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; No sources to compile&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;resources:testResources&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Using &apos;UTF-8&apos; encoding to copy filtered resources.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; skip non existing resourceDirectory C:\data\src\apache.org\httpcomponents\httpcore\httpcore-osgi\src\test\resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Copying 3 resources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;compiler:testCompile&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Not compiling test sources&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;surefire:test&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Tests are skipped.&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;bundle:bundle&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error building bundle org.apache.httpcomponents:httpcore-osgi:bundle:4.1-SNAPSHOT : Input file does not exist: target/maven-shared-archive-resources/META-INF/DEPENDENCIES~&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error building bundle org.apache.httpcomponents:httpcore-osgi:bundle:4.1-SNAPSHOT : Input file does not exist: target/maven-shared-archive-resources/META-INF/LICENSE~&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error building bundle org.apache.httpcomponents:httpcore-osgi:bundle:4.1-SNAPSHOT : Input file does not exist: target/maven-shared-archive-resources/META-INF/NOTICE~&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error(s) found in bundle configuration&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; BUILD ERROR&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Error(s) found in bundle configuration&lt;/p&gt;</description>
                <environment></environment>
        <key id="12428514">FELIX-1262</key>
            <summary>[regression] shared archive resources cannot be found</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mcculls">Stuart McCulloch</assignee>
                                    <reporter username="olegk">Oleg Kalnichevski</reporter>
                        <labels>
                    </labels>
                <created>Sun, 21 Jun 2009 20:28:06 +0000</created>
                <updated>Thu, 1 Oct 2009 20:53:28 +0000</updated>
                            <resolved>Mon, 13 Jul 2009 11:17:20 +0000</resolved>
                                    <version>maven-bundle-plugin-2.0.0</version>
                                    <fixVersion>maven-bundle-plugin-2.0.1</fixVersion>
                                    <component>Maven Bundle Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12726532" author="mcculls" created="Thu, 2 Jul 2009 16:23:51 +0000"  >&lt;p&gt;Investigate this as part of the next maintenance release schedule&lt;/p&gt;</comment>
                            <comment id="12730050" author="mcculls" created="Sun, 12 Jul 2009 06:26:47 +0000"  >&lt;p&gt;I can&apos;t reproduce this locally - the build still passes when I change httpcore-osgi/pom.xml to use 2.0.0 instead of 1.4.3.&lt;br/&gt;
I&apos;m also confused about the files ending with ~ ... they are presumably resource files but I don&apos;t see them when I build.&lt;/p&gt;

&lt;p&gt;If you can still reproduce this on your machine could you build with &quot;mvn clean install -X &amp;gt; LOG&quot; and send me the file?&lt;/p&gt;</comment>
                            <comment id="12730077" author="olegk" created="Sun, 12 Jul 2009 12:52:17 +0000"  >&lt;p&gt;Stuart,&lt;/p&gt;

&lt;p&gt;Many thanks for looking into the issue. It turned out the problem occurs only when building release assemblies using the following command:&lt;/p&gt;

&lt;p&gt;mvn package assembly:assembly&lt;/p&gt;

&lt;p&gt;Please find the log attached to this ticket.&lt;/p&gt;

&lt;p&gt;Oleg&lt;/p&gt;</comment>
                            <comment id="12730288" author="mcculls" created="Mon, 13 Jul 2009 11:09:50 +0000"  >&lt;p&gt;Fixed in r793541 - the Bnd Tool update in bundleplugin 2.0.0 introduced a change in how it handled duplicate clauses in instructions. Duplicate clauses are now suffixed with ~ to distinguish them, unfortunately this means any duplicate entries in the Include-Resource instruction also end up with ~ at the end (because the clause parser is generic). This then causes the build to fail because there&apos;s no such file ending in ~.&lt;/p&gt;

&lt;p&gt;This only seems to happen when using the assembly:assembly goal... possibly because the additional execution adds the same remote resources to the project artifacts, and the maven project code doesn&apos;t check for duplicate resource entries in the list. The fix effectively removes any duplicates before the instruction gets to the Bnd Tool.&lt;/p&gt;

&lt;p&gt;I&apos;ll deploy a build of 2.0.1-SNAPSHOT in case you want to test the fix (or you can build from the current trunk)&lt;/p&gt;</comment>
                            <comment id="12730293" author="mcculls" created="Mon, 13 Jul 2009 11:17:20 +0000"  >&lt;p&gt;Fix has been deployed to 2.0.1-20090713.111558-1 on &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots&lt;/a&gt; and will be in 2.0.1&lt;/p&gt;</comment>
                            <comment id="12761328" author="pforhan" created="Thu, 1 Oct 2009 20:23:53 +0000"  >&lt;p&gt;With maven-bundle-plugin 2.0.1 and maven-scr-plugin 1.4.0, I seem to be getting much the same problem when the maven-release-plugin does this:&lt;br/&gt;
 mvn clean verify install --no-plugin-updates -P development&lt;/p&gt;

&lt;p&gt;I get these messages in debug:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Final Manifest:&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Service-Component: OSGI-INF/serviceComponents.xml,OSGI-INF/serviceComponents.xml&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Export-Package: org.bjc.osgi.foundation.cache&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Built-By: paf2009&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Manifest-Version: 1.0&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Tool: Bnd-0.0.357&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Bundle-Name: org.bjc.osgi.foundation.cache&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Created-By: Apache Maven Bundle Plugin&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Bundle-Vendor: BJC HealthCare&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Build-Jdk: 1.6.0_02&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Bundle-Version: 1.13.0.RC1-SNAPSHOT&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Bnd-LastModified: 1254427683151&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Bundle-ManifestVersion: 2&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Bundle-Description: Caching bundle&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Import-Package: net.sf.ehcache,org.apache.log4j&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Bundle-SymbolicName: org.bjc.es.org.bjc.osgi.foundation.cache&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Warning building bundle org.bjc.es:org.bjc.osgi.foundation.cache:bundle:1.13.0.RC1-SNAPSHOT : Did not find matching referal for org.springfr&lt;br/&gt;
amework.*&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error building bundle org.bjc.es:org.bjc.osgi.foundation.cache:bundle:1.13.0.RC1-SNAPSHOT : Service-Component entry can not be located in JAR:&lt;br/&gt;
 OSGI-INF/serviceComponents.xml~&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error(s) found in bundle configuration&lt;/p&gt;</comment>
                            <comment id="12761336" author="pforhan" created="Thu, 1 Oct 2009 20:53:28 +0000"  >&lt;p&gt;Forcing the non-duplicated version of Service-Component works:&lt;br/&gt;
  &amp;lt;Service-Component&amp;gt;OSGI-INF/serviceComponents.xml&amp;lt;/Service-Component&amp;gt;&lt;/p&gt;

&lt;p&gt;It&apos;s a bit hacky, though, since SCR is generating everything...&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413228" name="maven.log" size="414444" author="olegk" created="Sun, 12 Jul 2009 12:53:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57757</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1arm7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270940</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>