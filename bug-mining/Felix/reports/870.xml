<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:16:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1843] Karaf shell doens&apos;t work properly under windows</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1843</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;When ever you  try to complete a command  the completion doesn&apos;t replace the prevoiusly typed characters but will be appended to them. Also backspace isn&apos;t working.&lt;br/&gt;
Same behaviour  if you use the &quot;up&quot;-key to get the last used command.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12439846">FELIX-1843</key>
            <summary>Karaf shell doens&apos;t work properly under windows</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ccustine">Chris Custine</assignee>
                                    <reporter username="sweber">Stefan Weber</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Nov 2009 12:48:10 +0000</created>
                <updated>Wed, 10 Feb 2010 15:04:13 +0000</updated>
                            <resolved>Wed, 10 Feb 2010 15:04:13 +0000</resolved>
                                    <version>karaf-1.2.0</version>
                                    <fixVersion>karaf-1.4.0</fixVersion>
                                    <component>Karaf</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12773468" author="gnt" created="Wed, 4 Nov 2009 12:59:09 +0000"  >&lt;p&gt;Does that happen with karaf-1.0.0 or with a recent snapshot ?&lt;br/&gt;
Could you try with a recent snapshot ? I think we&apos;ve fixed a lot of issues.&lt;/p&gt;</comment>
                            <comment id="12773684" author="sweber" created="Wed, 4 Nov 2009 22:55:55 +0000"  >&lt;p&gt;i used the latest build (#138) from hudson.&lt;br/&gt;
I suppose that the latest build has karaf 1.2.0 included.&lt;br/&gt;
This behaviour only appears on windows. Tested the same build on ubuntu 9.04. No problem.&lt;/p&gt;</comment>
                            <comment id="12774943" author="sweber" created="Mon, 9 Nov 2009 11:57:19 +0000"  >&lt;p&gt;Tested with Build #151 still the same issue.&lt;/p&gt;

&lt;p&gt;But maybe this is helpful:&lt;br/&gt;
At the first start of smx (fresh unzipped) the console does not initialize correctly. The ansi colors are missing. But at this time the console works properly. If i shutdown the smx and restart it ansi works but the console doesn&apos;t.&lt;/p&gt;</comment>
                            <comment id="12792832" author="db82407" created="Sat, 19 Dec 2009 10:44:57 +0000"  >&lt;p&gt;removed gogo from list of components; this is a karaf issue.&lt;/p&gt;</comment>
                            <comment id="12830745" author="lhein" created="Sun, 7 Feb 2010 19:04:39 +0000"  >&lt;p&gt;This issue is still a &quot;no go&quot; for windows systems.&lt;/p&gt;

&lt;p&gt;Lars&lt;/p&gt;</comment>
                            <comment id="12830914" author="gnt" created="Mon, 8 Feb 2010 12:19:29 +0000"  >&lt;p&gt;I&apos;ve raised two issues for the things we&apos;ve found on WIndows, but I&apos;ll close that one, as we can&apos;t seem to reproduce issues with backspaces or the up key with the latest snapshots ...&lt;/p&gt;</comment>
                            <comment id="12831001" author="sweber" created="Mon, 8 Feb 2010 17:11:34 +0000"  >&lt;p&gt;Still not working. And yes its reproduceable. Tested it on 3xWindows XP Prof with different JAVA 1.6 SDKs with latest build 195&lt;/p&gt;</comment>
                            <comment id="12831080" author="gnt" created="Mon, 8 Feb 2010 19:54:10 +0000"  >&lt;p&gt;For colors, full ansi support must be enabled using an optional JNA library on windows (see &lt;a href=&quot;http://jansi.fusesource.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://jansi.fusesource.org/&lt;/a&gt;).&lt;br/&gt;
Three of us have tested today on windows and haven&apos;t seen any problems beyond the one I raised ...&lt;br/&gt;
So could you precisely describe your environment, what you do, what you see and what you expect to see instead ?&lt;br/&gt;
And just to be sure, do you use the latest karaf snapshots (from &lt;a href=&quot;https://repository.apache.org/content/groups/snapshots-group/org/apache/felix/karaf/apache-felix-karaf/1.3.0-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots-group/org/apache/felix/karaf/apache-felix-karaf/1.3.0-SNAPSHOT/&lt;/a&gt; for example) ?&lt;/p&gt;</comment>
                            <comment id="12831123" author="sweber" created="Mon, 8 Feb 2010 21:12:54 +0000"  >&lt;p&gt;What i&apos;ve done:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;downloaded SMX 4.1.0 snapshot build #195&lt;/li&gt;
	&lt;li&gt;downloaded karaf 1.3.0   	 Mon Feb 08 00:44:46 GMT+00:00 2010  	 4360928&lt;/li&gt;
	&lt;li&gt;put downloaded karaf &quot;system&quot; folder contents in smx system folder&lt;/li&gt;
	&lt;li&gt;deleted the &quot;data&quot; dir to be sure everything is clear&lt;/li&gt;
	&lt;li&gt;started smx and waited till all bundles are loaded (remark: no ansi support on first start)&lt;/li&gt;
	&lt;li&gt;shut down smx&lt;/li&gt;
	&lt;li&gt;started it again (remark: ansi support from start now)&lt;br/&gt;
After this the original described behaviour applys...&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12831424" author="lhein" created="Tue, 9 Feb 2010 11:43:06 +0000"  >&lt;p&gt;I had a deeper look at this problem with Guillaume and we found out that the problem is the Ansi support.&lt;/p&gt;

&lt;p&gt;Inside a bare Karaf 1.3.0-SNAPSHOT  (most recent) the behaviour is fine even after restarting it.&lt;/p&gt;

&lt;p&gt;Then I did what is explained here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://felix.apache.org/site/71-enabling-colorized-console-output-on-windows.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/site/71-enabling-colorized-console-output-on-windows.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Afterwards you will find the same wrong behaviour also in Karaf. Guillaume was also able to reproduce it.&lt;/p&gt;

&lt;p&gt;Regards&lt;br/&gt;
Lars&lt;/p&gt;</comment>
                            <comment id="12831505" author="gnt" created="Tue, 9 Feb 2010 15:54:08 +0000"  >&lt;p&gt;The console problems come from two things:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;jline when in windows loads a native library using a system call.  when running in osgi, the osgi way of loading native library should be used, else we run into an UnsatifiedLinkError Native LIbrary already loaded in another classloader&lt;/li&gt;
	&lt;li&gt;jansi library is missing support for a few ansi calls that are used by jline, causing backspace and history to not work well&lt;br/&gt;
We need to update to newer versions of those libraries asap.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12832016" author="gnt" created="Wed, 10 Feb 2010 15:04:13 +0000"  >&lt;p&gt;Chris and I solved the issues which were in jline and jansi.  karaf now uses new releases of those libraries and the console seems to work nicely.&lt;/p&gt;

&lt;p&gt;FWIW, servicemix has a colorized console after restart because the jruby-1.1.2 bundle has a built-in version of the jna library that it exports (not sure why this is the case).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12455625">FELIX-2053</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12455626">FELIX-2054</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57198</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 42 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vr47:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183366</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>