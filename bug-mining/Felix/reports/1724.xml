<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:46:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3739] scr-plugin: &quot;Annotated method {0} not found&quot;</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3739</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I run in to that&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; problem.&lt;br/&gt;
The method that is not found looks like that:&lt;/p&gt;


&lt;p&gt;&amp;gt; @Nonnull public static &amp;lt;T&amp;gt; Entry&amp;lt;? extends T&amp;gt; create( @Nonnull T&lt;br/&gt;
&amp;gt; object,&lt;br/&gt;
@Nonnull &amp;gt;byte[] expected ) &lt;/p&gt;
{
&amp;gt; }

&lt;p&gt;I have debugged this and it comes to that:&lt;/p&gt;

&lt;p&gt;in ClassScanner#237 parameters are compared. The second parameter of&lt;br/&gt;
my method (byte[]) has a strange difference here:&lt;/p&gt;

&lt;p&gt;parameterTypeName: [B&lt;br/&gt;
signature&lt;span class=&quot;error&quot;&gt;&amp;#91;index&amp;#93;&lt;/span&gt;.getClassName(): byte[]&lt;/p&gt;

&lt;p&gt;So I think this might be related to the asm usage&lt;br/&gt;
I &lt;b&gt;think&lt;/b&gt; instead of &quot;signature&lt;span class=&quot;error&quot;&gt;&amp;#91;index&amp;#93;&lt;/span&gt;.getClassName()&quot; there should be&lt;br/&gt;
called&lt;br/&gt;
signature&lt;span class=&quot;error&quot;&gt;&amp;#91;index&amp;#93;&lt;/span&gt;.getDescriptor()&lt;/p&gt;


&lt;p&gt;Any idea how I could work around that problem (without changing my&lt;br/&gt;
method&apos;s signature)?&lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Johannes&lt;/p&gt;


&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Failed to execute goal&lt;br/&gt;
org.apache.felix:maven-scr-plugin:1.8.0:scr&lt;br/&gt;
(generate-scr-scrdescriptor) on project test-utils:&lt;br/&gt;
com.cedarsoft.serialization.test.utils.AbstractSerializerTest2 :&lt;br/&gt;
Annotated method create not found. -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Help 1&amp;#93;&lt;/span&gt;&lt;br/&gt;
org.apache.maven.lifecycle.LifecycleExecutionException: Failed to&lt;br/&gt;
execute goal org.apache.felix:maven-scr-plugin:1.8.0:scr&lt;br/&gt;
(generate-scr-scrdescriptor) on project test-utils:&lt;br/&gt;
com.cedarsoft.serialization.test.utils.AbstractSerializerTest2 :&lt;br/&gt;
Annotated method create not found.&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:217)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:153)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:145)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:84)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.lifecycle.internal.LifecycleModuleBuilder.buildProject(LifecycleModuleBuilder.java:59)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.lifecycle.internal.LifecycleStarter.singleThreadedBuild(LifecycleStarter.java:183)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.lifecycle.internal.LifecycleStarter.execute(LifecycleStarter.java:161)&lt;br/&gt;
	at org.apache.maven.DefaultMaven.doExecute(DefaultMaven.java:320)&lt;br/&gt;
	at org.apache.maven.DefaultMaven.execute(DefaultMaven.java:156)&lt;br/&gt;
	at org.apache.maven.cli.MavenCli.execute(MavenCli.java:537)&lt;br/&gt;
	at org.apache.maven.cli.MavenCli.doMain(MavenCli.java:196)&lt;br/&gt;
	at org.apache.maven.cli.MavenCli.main(MavenCli.java:141)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at&lt;br/&gt;
sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at&lt;br/&gt;
sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:601)&lt;br/&gt;
	at&lt;br/&gt;
org.codehaus.plexus.classworlds.launcher.Launcher.launchEnhanced(Launcher.java:290)&lt;br/&gt;
	at&lt;br/&gt;
org.codehaus.plexus.classworlds.launcher.Launcher.launch(Launcher.java:230)&lt;br/&gt;
	at&lt;br/&gt;
org.codehaus.plexus.classworlds.launcher.Launcher.mainWithExitCode(Launcher.java:409)&lt;br/&gt;
	at&lt;br/&gt;
org.codehaus.plexus.classworlds.launcher.Launcher.main(Launcher.java:352)&lt;br/&gt;
Caused by: org.apache.maven.plugin.MojoExecutionException:&lt;br/&gt;
com.cedarsoft.serialization.test.utils.AbstractSerializerTest2 :&lt;br/&gt;
Annotated method create not found.&lt;br/&gt;
	at&lt;br/&gt;
org.apache.felix.scrplugin.mojo.SCRDescriptorMojo.execute(SCRDescriptorMojo.java:222)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.plugin.DefaultBuildPluginManager.executeMojo(DefaultBuildPluginManager.java:101)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.maven.lifecycle.internal.MojoExecutor.execute(MojoExecutor.java:209)&lt;br/&gt;
	... 19 more&lt;br/&gt;
Caused by: org.apache.felix.scrplugin.SCRDescriptorException:&lt;br/&gt;
Annotated method create not found.&lt;br/&gt;
	at&lt;br/&gt;
org.apache.felix.scrplugin.helper.ClassScanner.extractAnnotation(ClassScanner.java:249)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.felix.scrplugin.helper.ClassScanner.processClass(ClassScanner.java:180)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.felix.scrplugin.helper.ClassScanner.scanSources(ClassScanner.java:143)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.felix.scrplugin.SCRDescriptorGenerator.execute(SCRDescriptorGenerator.java:154)&lt;br/&gt;
	at&lt;br/&gt;
org.apache.felix.scrplugin.mojo.SCRDescriptorMojo.execute(SCRDescriptorMojo.java:217)&lt;br/&gt;
	... 21 more&lt;/p&gt;</description>
                <environment>Linux, Maven 3, Java 7</environment>
        <key id="12613753">FELIX-3739</key>
            <summary>scr-plugin: &quot;Annotated method {0} not found&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="js@cedarsoft.com">Johannes Schneider</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Oct 2012 09:26:58 +0000</created>
                <updated>Fri, 7 Dec 2012 10:25:55 +0000</updated>
                            <resolved>Fri, 30 Nov 2012 11:00:35 +0000</resolved>
                                    <version>maven-scr-plugin-1.8.0</version>
                    <version>scr ant task 1.2.0</version>
                    <version>scr generator 1.2.0</version>
                                    <fixVersion>maven-scr-plugin-1.9.0</fixVersion>
                    <fixVersion>scr ant task 1.3.0</fixVersion>
                    <fixVersion>scr generator 1.3.0</fixVersion>
                                    <component>SCR Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13486166" author="cziegeler" created="Mon, 29 Oct 2012 17:20:12 +0000"  >&lt;p&gt;Thanks for the report, I&apos;Ve just committed a fix, could you please give it a try?&lt;/p&gt;</comment>
                            <comment id="13488725" author="js@cedarsoft.com" created="Thu, 1 Nov 2012 14:37:47 +0000"  >&lt;p&gt;Can u give me a hint where the SNAPSHOTS are deployed to?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/felix/maven-scr-plugin/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/felix/maven-scr-plugin/&lt;/a&gt; seems to be the wrong place....&lt;/p&gt;</comment>
                            <comment id="13489346" author="cziegeler" created="Fri, 2 Nov 2012 10:27:11 +0000"  >&lt;p&gt;It&apos;s the right place but I forgot to deploy the snapshots...now they&apos;re up&lt;/p&gt;</comment>
                            <comment id="13502037" author="js@cedarsoft.com" created="Wed, 21 Nov 2012 15:18:58 +0000"  >&lt;p&gt;The same problem occurs when there is a constructor that is annotated:&lt;/p&gt;


&lt;p&gt; @Inject&lt;br/&gt;
  public DefaultSerializationService(@Nonnull EntryDescriptorProviderService entryDescriptorProviderService) {&lt;/p&gt;


&lt;p&gt;results in: &quot;Annoated method &amp;lt;init&amp;gt; not found.&quot;&lt;/p&gt;


&lt;p&gt;--&amp;gt; 1.8.1-SNAPSHOT does &lt;b&gt;not&lt;/b&gt; fix this issue.&lt;/p&gt;

&lt;p&gt;I strongly suggest that this is viewed as blocker since the plugin fails for methods that are not annoated with scr-annotations. &lt;br/&gt;
And I suggest that the plugin does &lt;b&gt;not&lt;/b&gt; fail if a method could not be found. Instead a warning should be enough to notify the user that there might be a problem.&lt;/p&gt;
</comment>
                            <comment id="13503779" author="rmuntean" created="Mon, 26 Nov 2012 13:34:17 +0000"  >&lt;p&gt;Since I feel a bit shy about diving deep in the internals of the maven-scr-plugin without a safety net I added a couple of ITs using the maven-invoker-plugin.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;basic-build-it which contains a single annotated DS component . This IT passes.&lt;/li&gt;
	&lt;li&gt;external-annotations-it which contains a single annotated DS component which also contains an external annotation on a constructor. This IT fails.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;To make it easy to review patches, I&apos;m submitting this first and then I will start work on actually fixing the bug.&lt;/p&gt;</comment>
                            <comment id="13505574" author="cziegeler" created="Wed, 28 Nov 2012 15:47:50 +0000"  >&lt;p&gt;Thanks for your patch, Robert - i&apos;ve applied your tests&lt;/p&gt;

&lt;p&gt;I&apos;ve also added a fix which just checks whether the name of the method is &quot;&amp;lt;init&amp;gt;&quot; to detect a constructor - not sure if this is the best solution, however tests pass now &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12554850" name="FELIX-3739-its.diff" size="19351" author="rmuntean" created="Mon, 26 Nov 2012 13:34:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252506</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ctgf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>72716</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>