<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:49:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3973] Exclusion from {local-packages} doesn&apos;t work anymore</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3973</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I&apos;ve been using Export-Package: !org.apache.jsp.*, &lt;/p&gt;
{local-packages} to exclude jspc compilers output, but with BND 2.0.0 this stopped working completely (although until now I was getting a bunch of warnings).&lt;br/&gt;
&lt;br/&gt;
BND currently gives a second chance to non matching packages. This feature will rended !org.apache.jsp.* useless since {local-packages}
&lt;p&gt; is expanded to clause that contains org.apache.jsp prefixed packages.&lt;/p&gt;

&lt;p&gt;A fix would be to pre-filter the &lt;/p&gt;
{local-packages}
&lt;p&gt; against Export/Private-Package clauses&lt;/p&gt;</description>
                <environment>bnd 2.0.0.x</environment>
        <key id="12637434">FELIX-3973</key>
            <summary>Exclusion from {local-packages} doesn&apos;t work anymore</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tuomas_kiviaho">Tuomas Kiviaho</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sun, 17 Mar 2013 13:17:41 +0000</created>
                <updated>Wed, 12 Jun 2013 23:46:24 +0000</updated>
                            <resolved>Fri, 7 Jun 2013 22:21:27 +0000</resolved>
                                                    <fixVersion>maven-bundle-plugin-2.4.0</fixVersion>
                                    <component>Maven Bundle Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13604595" author="tuomas_kiviaho" created="Sun, 17 Mar 2013 13:32:56 +0000"  >&lt;p&gt;Here&apos;s a patch that fits everything to addLocalPackages by using functionality provided by BND itself.&lt;/p&gt;

&lt;p&gt;Downsize is that there&apos;s still a bit of reflection involved due to &lt;a href=&quot;https://github.com/bndtools/bnd/issues/319&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/bndtools/bnd/issues/319&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13609081" author="tuomas_kiviaho" created="Thu, 21 Mar 2013 16:20:15 +0000"  >&lt;p&gt;I removed the patch after Peter pointer out that I was doing-it-wrong. Proper way of doing it would be to use macros but alas they don&apos;t seem to be working with &lt;/p&gt;
{local-packages}
&lt;p&gt;. I noticed also that split packages clause is only applied to the last of the local package. I&apos;ll deliver a new patch soon.&lt;/p&gt;</comment>
                            <comment id="13612539" author="tuomas_kiviaho" created="Mon, 25 Mar 2013 10:24:06 +0000"  >&lt;p&gt;Here&apos;s the patch again in such form that doesn&apos;t use BND internals via reflection but instead BND postpones macro evaluation after &lt;/p&gt;
{local-packages} has been replaced. Now I can use ${filterout;{local-packages}
&lt;p&gt;;org\\.apache&lt;br class=&quot;atl-forced-newline&quot; /&gt;.jsp.*} macro to solve my problem&lt;/p&gt;</comment>
                            <comment id="13612589" author="mcculls" created="Mon, 25 Mar 2013 12:46:57 +0000"  >&lt;p&gt;Thanks for the updated patch, I&apos;ll try to get round to applying it over the Easter break.&lt;/p&gt;</comment>
                            <comment id="13613562" author="tuomas_kiviaho" created="Tue, 26 Mar 2013 06:56:26 +0000"  >&lt;p&gt;Reattaching once more. I reverted unnecessary modifications from the code while fixing one bug that I accidentally introduced. Sorry about the inconvenient GIT diff format.&lt;/p&gt;

&lt;p&gt;Key of this patch is to retrieve properties without waking up BND macros at this point.&lt;/p&gt;

&lt;p&gt;I also use BNDs PackageRef instead of direct string manipulation to ensure that delimiter is compatible with BND macros and list notation (, instead of &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. I&apos;ll repatch the &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3381&quot; title=&quot;Support for {maven-test-resources} and {maven-test-sources} placeholders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3381&quot;&gt;&lt;del&gt;FELIX-3381&lt;/del&gt;&lt;/a&gt; also so that macros can be allied to sources and resources&lt;/p&gt;

&lt;p&gt;PS. I don&apos;t recollect reading a documentation about automatic split package which I think is great considering that plugin takes care of classpath already. For some reason it was only applied to the last package which I don&apos;t believe being intentional.&lt;/p&gt;</comment>
                            <comment id="13615842" author="tuomas_kiviaho" created="Wed, 27 Mar 2013 22:29:02 +0000"  >&lt;p&gt;Fixed the diff a bit yet again. Why didn&apos;t I just write a test in the first place&lt;/p&gt;</comment>
                            <comment id="13678509" author="mcculls" created="Fri, 7 Jun 2013 22:21:27 +0000"  >&lt;p&gt;Applied in r1490854 - thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12575783" name="FELIX-3973.diff" size="6695" author="tuomas_kiviaho" created="Wed, 27 Mar 2013 22:29:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>317925</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1iuw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>318266</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>