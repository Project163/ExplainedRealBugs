<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:52:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4388] Initial start level not considered when bundle.start() is called</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4388</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;If a start level service is available, and the initial start level is set to a higher level than the current one, a call to bundle.start() of a bundle which has no start level defined, results in the bundle being immediately started.&lt;br/&gt;
However, according to the spec it should only be started when the initial start level is reached.&lt;/p&gt;

&lt;p&gt;I think this is a bug in BundleImpl as it is returning -1 if no start level is set for the bundle instead of the default level. This patch should fix this:&lt;/p&gt;

&lt;p&gt;Index: src/main/java/org/apache/felix/framework/BundleImpl.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/java/org/apache/felix/framework/BundleImpl.java	(Revision 1558397)&lt;br/&gt;
+++ src/main/java/org/apache/felix/framework/BundleImpl.java	(Arbeitskopie)&lt;br/&gt;
@@ -861,7 +861,12 @@&lt;br/&gt;
     {&lt;br/&gt;
         try&lt;br/&gt;
         {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return m_archive.getStartLevel();&lt;br/&gt;
+            int level = m_archive.getStartLevel();&lt;br/&gt;
+            if ( level == -1 )&lt;br/&gt;
+            
{
+                level = defaultLevel;
+            }
&lt;p&gt;+            return level;&lt;br/&gt;
         }&lt;br/&gt;
         catch (Exception ex)&lt;br/&gt;
         {&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12689061">FELIX-4388</key>
            <summary>Initial start level not considered when bundle.start() is called</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jan 2014 18:57:56 +0000</created>
                <updated>Mon, 27 Apr 2015 07:04:57 +0000</updated>
                            <resolved>Wed, 15 Jan 2014 19:21:48 +0000</resolved>
                                    <version>framework-4.2.0</version>
                                    <fixVersion>framework-4.4.0</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13872453" author="rickhall" created="Wed, 15 Jan 2014 19:16:21 +0000"  >&lt;p&gt;Yes, I think you are correct. This code used to be correct back in the day were we had separate files in the bundle cache for a saved start level. In that case, if the bundle didn&apos;t have a set start level, then it would get an exception when it tried to open the file. A while ago we switched to a single file for all bundle persisted information which breaks the existing logic.&lt;/p&gt;</comment>
                            <comment id="13872459" author="cziegeler" created="Wed, 15 Jan 2014 19:21:48 +0000"  >&lt;p&gt;Thanks Richard, I&apos;ve applied the patch.&lt;/p&gt;

&lt;p&gt;Yes, this used to work in previous versions (3.x)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rfof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368335</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>