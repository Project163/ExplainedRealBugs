<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:31:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1985] Error when Include-Resource instruction contains duplicate paths.</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1985</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;With the following maven-bundle-plugin configuration :&lt;br/&gt;
      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;version&amp;gt;2.0.1&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;extensions&amp;gt;true&amp;lt;/extensions&amp;gt;&lt;br/&gt;
        &amp;lt;configuration&amp;gt;&lt;br/&gt;
          &amp;lt;instructions&amp;gt;&lt;br/&gt;
            ...&lt;br/&gt;
            &amp;lt;Include-Resource&amp;gt;&lt;br/&gt;
              &lt;/p&gt;
{maven-resources},&lt;br/&gt;
              META-INF/LICENSE=LICENSE,&lt;br/&gt;
              META-INF/NOTICE=NOTICE&lt;br/&gt;
            &amp;lt;/Include-Resource&amp;gt;&lt;br/&gt;
          &amp;lt;/instructions&amp;gt;&lt;br/&gt;
        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;br/&gt;
&lt;br/&gt;
I get these errors :&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error building bundle org.ow2.chameleon.handies:org.ow2.chameleon.handies.ipojo-tccl-handler:bundle:0.0.1-SNAPSHOT : Input file does not exist: LICENSE~&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error building bundle org.ow2.chameleon.handies:org.ow2.chameleon.handies.ipojo-tccl-handler:bundle:0.0.1-SNAPSHOT : Input file does not exist: NOTICE~&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Error(s) found in bundle configuration&lt;br/&gt;
(Note the trailing &apos;~&apos; at the end of the real file names)&lt;br/&gt;
&lt;br/&gt;
But when I insert whitespaces around the &apos;=&apos; symbol (either before or after it), it works : neither error nor warning.&lt;br/&gt;
&lt;br/&gt;
            &amp;lt;Include-Resource&amp;gt;&lt;br/&gt;
              {maven-resources}
&lt;p&gt;,&lt;br/&gt;
              META-INF/LICENSE =LICENSE,&lt;br/&gt;
              META-INF/NOTICE= NOTICE&lt;br/&gt;
            &amp;lt;/Include-Resource&amp;gt;&lt;/p&gt;

&lt;p&gt;   &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESSFUL&lt;/p&gt;

&lt;p&gt;The first configuration (the one without spaces around &apos;=&apos;) works with the 1.4.3 version of the maven-bundle-plugin.&lt;/p&gt;

&lt;p&gt;Is this a regression ? Or maybe the syntax of the Include-Resource instruction has changed since the 1.4.3 version (may it affect other instruction too ?).&lt;/p&gt;</description>
                <environment>Linux quartz 2.6.31-17-generic #54-Ubuntu SMP Thu Dec 10 17:01:44 UTC 2009 x86_64 GNU/Linux</environment>
        <key id="12445408">FELIX-1985</key>
            <summary>Error when Include-Resource instruction contains duplicate paths.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mcculls">Stuart McCulloch</assignee>
                                    <reporter username="pierre.bourret">Pierre Bourret</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Jan 2010 15:18:10 +0000</created>
                <updated>Tue, 11 Oct 2011 17:09:22 +0000</updated>
                            <resolved>Sat, 25 Jun 2011 19:54:39 +0000</resolved>
                                    <version>maven-bundle-plugin-2.0.1</version>
                                    <fixVersion>maven-bundle-plugin-2.3.5</fixVersion>
                                    <component>Maven Bundle Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12799788" author="mcculls" created="Wed, 13 Jan 2010 15:31:18 +0000"  >&lt;p&gt;The trailing &apos;&lt;sub&gt;&apos; is typically seen with duplicate entries - a recent change in how the Bnd Tool processes the instructions meant duplicate clauses are tagged with &apos;&lt;/sub&gt;&apos; which then leads to failures finding the named resource because the original path doesn&apos;t have &apos;~&apos;. Note that this is part of the general purpose Bnd instruction processing that was added to support merging of clauses and just has an unfortunate side effect when Include-Resource contains duplicate entries (something that only happens when Include-Resource is generated).&lt;/p&gt;

&lt;p&gt;This was fixed for Include-Resource in &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1262&quot; title=&quot;[regression] shared archive resources cannot be found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1262&quot;&gt;&lt;del&gt;FELIX-1262&lt;/del&gt;&lt;/a&gt; which is in 2.0.1...&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;http://issues.apache.org/jira/browse/FELIX-1262?focusedCommentId=12730288&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12730288&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;http://issues.apache.org/jira/browse/FELIX-1262?focusedCommentId=12730288&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#action_12730288&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;but perhaps this fix missed a corner case involving &lt;/p&gt;
{maven-resources}
&lt;p&gt; ... if this expands to also contain entries for META-INF/LICENSE etc. then you would have duplicate entries and they&apos;d be tagged with &apos;~&apos; (the fix is supposed to filter out these duplicate entries before they reach the Bnd Tool). Adding spaces to the clause probably makes them different enough from the generated entries which explains why you don&apos;t see the error.&lt;/p&gt;
</comment>
                            <comment id="12799789" author="mcculls" created="Wed, 13 Jan 2010 15:33:09 +0000"  >&lt;p&gt;If you run with &quot;mvn -X&quot; you&apos;ll get a load of debug (pipe it to a file) including the exact instructions the bundleplugin passes on to the Bnd Tool (ie. after processing) which you can check to see if it does contain any duplicate Include-Resource clauses.&lt;/p&gt;</comment>
                            <comment id="12799806" author="pierre.bourret" created="Wed, 13 Jan 2010 16:13:38 +0000"  >&lt;p&gt;First, thanks for reacting so fast !&lt;/p&gt;

&lt;p&gt;I have run maven with the -X flag and have noticed that the LICENSE and NOTICE files are included twice. After checking again the pom hierarchy, I&apos;ve found that the parent pom of my project already contains &amp;lt;resource&amp;gt; instructions to add LICENSE and NOTICE in the project resources. So the entries in the bundle-plugin configuration are redundant. You&apos;re right !&lt;/p&gt;

&lt;p&gt;It was my fault... Sorry to report a non-issue. I&apos;m going to close this immediately...&lt;/p&gt;</comment>
                            <comment id="12799808" author="mcculls" created="Wed, 13 Jan 2010 16:17:13 +0000"  >&lt;p&gt;Well, we could also be more robust in the plugin and remove the duplicates - so feel free to leave it open and I&apos;ll fix it for the next release.&lt;/p&gt;</comment>
                            <comment id="13054960" author="mcculls" created="Sat, 25 Jun 2011 19:54:39 +0000"  >&lt;p&gt;Changed the error into a warning in r1139605&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57067</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1askn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>271095</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>