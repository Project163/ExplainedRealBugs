<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:42:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3604] No error log if the certificate is not valid</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3604</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;If bundles are signed with an invalid or already expired certificate the certificate will be revoked but there is no log entry because it&apos;s not implemented.&lt;br/&gt;
See TODO in&lt;br/&gt;
org/apache/felix/framework/security/verifier/BundleDNParser.java line 445 which catches the CertificateException without any logging.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;417     &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void getRootChains(Certificate[] certificates, List chains,
418         &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; check)
419     {
420         List chain = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList();
421 
422         &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; revoked = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
423 
424         &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; certificates.length - 1; i++)
425         {
426             X509Certificate certificate = (X509Certificate) certificates[i];
427 
428             &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!revoked &amp;amp;&amp;amp; isRevoked(certificate))
429             {
430                 revoked = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
431             }
432             &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!check || !revoked)
433             {
434                 &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
435                 {
436                     &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (check)
437                     {
438                         certificate.checkValidity();
439                     }
440 
441                     chain.add(certificate);
442                 }
443                 &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (CertificateException ex)
444                 {
445                     &lt;span class=&quot;code-comment&quot;&gt;// TODO: log &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; or something
&lt;/span&gt;446                     revoked = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
447                 }
448             }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It&apos;s hard to find the problem why a BundleSignerCondition is not applied to your bundle when nobody tells you that the certificate of your bundle was revoked.&lt;/p&gt;

&lt;p&gt;We should add an error log and print appropriate logging to tell user what&apos;s happening here.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12599777">FELIX-3604</key>
            <summary>No error log if the certificate is not valid</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="gnodet">Guillaume Nodet</reporter>
                        <labels>
                    </labels>
                <created>Sun, 22 Jul 2012 20:08:27 +0000</created>
                <updated>Wed, 25 Jul 2012 11:53:27 +0000</updated>
                            <resolved>Wed, 25 Jul 2012 11:53:27 +0000</resolved>
                                                    <fixVersion>framework.security-2.2.0</fixVersion>
                                    <component>Framework Security</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13420313" author="karlpauls" created="Sun, 22 Jul 2012 20:14:22 +0000"  >&lt;p&gt;Yeah, that probably makes sense. The problem I had with logging inside framework.security is that it is somewhat problematic to get a logger - I should add at least a print out for now.&lt;/p&gt;</comment>
                            <comment id="13420496" author="gnt" created="Mon, 23 Jul 2012 08:05:17 +0000"  >&lt;p&gt;I suppose you&apos;re talking about &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-536&quot; title=&quot;Threadlocks on ContentClassLoader by FelixDispatchQueue and FelixStartLevel threads when using log bundles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-536&quot;&gt;&lt;del&gt;FELIX-536&lt;/del&gt;&lt;/a&gt;.&lt;br/&gt;
The felix Logger class does just print to stdout now, so I think a reusing it would be a good idea, so that we can at least control the log level and output in a more common way.&lt;/p&gt;</comment>
                            <comment id="13422122" author="gnt" created="Wed, 25 Jul 2012 09:36:06 +0000"  >&lt;p&gt;Did you start working on that already ? I can do it if you want.&lt;/p&gt;</comment>
                            <comment id="13422176" author="karlpauls" created="Wed, 25 Jul 2012 11:53:27 +0000"  >&lt;p&gt;I get the framework logger and log a warning. Can you check if that works for you?&lt;/p&gt;

&lt;p&gt;The reason i wasn&apos;t using the logger inside security was that it was doing security sensitive calls during that time which created all sorts of problems. It doesn&apos;t at the moment so we should be good for now. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246043</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07gvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41502</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>