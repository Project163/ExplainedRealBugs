<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:11:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1416] Wrong factory configuration behaviour</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1416</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Currently factory configurations are applied to component factories, such that each factory configuration instance creates a componnent&lt;br/&gt;
instances of a component factory. Reversly deleting a factory configuration also deletes component instances. This is not how it is specified.&lt;/p&gt;

&lt;p&gt;Correct is, that &lt;/p&gt;

&lt;p&gt;  (1) Component Factories can only be configured with singleton configurations applying&lt;br/&gt;
          the configuration to all instances created with newInstance&lt;br/&gt;
  (2) Factory configurations are applied to non-component-factory components and&lt;br/&gt;
          cause multiple component instances to be created.&lt;/p&gt;

&lt;p&gt;To accomodate for this, the handling of components has to be redesigned: A component descriptor now causes the creation of a ComponentHolder. Depending on configuration availability a ComponentHolder will hold a single component (no configuration or singleton configuration) or multiple components (factory configuration).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12431589">FELIX-1416</key>
            <summary>Wrong factory configuration behaviour</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Tue, 28 Jul 2009 13:41:58 +0000</created>
                <updated>Fri, 30 Jul 2010 11:57:37 +0000</updated>
                            <resolved>Tue, 28 Jul 2009 14:23:40 +0000</resolved>
                                    <version>scr-1.0.8</version>
                                    <fixVersion>scr-1.2.0</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                    <component>Specification compliance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12736081" author="fmeschbe" created="Tue, 28 Jul 2009 14:23:25 +0000"  >&lt;p&gt;Added unit and integration (Pax Exam based) tests for the fixed configuration behaviour in Rev. 798522&lt;/p&gt;

&lt;p&gt;In Rev. 798529 adapted the ImmediateComponentManager to the new holder mechanism.&lt;/p&gt;

&lt;p&gt;Rev. 798531 finally brings the big block of ComponentHolder and implementation.&lt;/p&gt;

&lt;p&gt;The ComponentRegistry is refactored to be a factory for ComponentHolders and has no Configuration support. The ConfigurationComponentRegistry extends the ComponentRegistry adding support for Configuration from ConfigurationAdmin.&lt;/p&gt;

&lt;p&gt;For ComponentFactory components the ComponentFactoryImpl also acts as the component holder. For Components without configuration (configuration-policy=ignore) UnconfiguredComponentHolder instances are used. This class is also used if no ConfigurationAdmin service is available.&lt;/p&gt;

&lt;p&gt;For components taking configuration the ConfiguredComponentHolder class is used. This class can cope with singleton and factory configurations.&lt;/p&gt;

&lt;p&gt;The Configuration policy &quot;ignore&quot; is handled by the ComponentRegistry in that an UnconfiguredComponentHolder is created to hold the component without ever forwarding configuration.&lt;/p&gt;

&lt;p&gt;For Configuration policy &quot;require&quot; and &quot;optional&quot; a ConfiguredComponentHolder is used. The &quot;require&quot; policy is handled by the AbstractComponentManager to prevent activation if there is no configuration.&lt;/p&gt;</comment>
                            <comment id="12736082" author="fmeschbe" created="Tue, 28 Jul 2009 14:23:40 +0000"  >&lt;p&gt;This fixes this issue.&lt;/p&gt;</comment>
                            <comment id="12787528" author="fmeschbe" created="Tue, 8 Dec 2009 15:49:27 +0000"  >&lt;p&gt;SCR 1.2.0 has been released. Close all issues.&lt;/p&gt;</comment>
                            <comment id="12894025" author="fmeschbe" created="Fri, 30 Jul 2010 11:57:37 +0000"  >&lt;p&gt;Some update for reference purposes.&lt;/p&gt;

&lt;p&gt;The fixes for this issue change the behaviour of Component Factory support in a non-backwards-compatible (yet spec compliant way). For applications depending on the non-compliant behaviour of creating Component Factory component instances with factory configuration a configuration property &amp;#8211; ds.factory.enabled &amp;#8211; has been added.&lt;/p&gt;

&lt;p&gt;If this property is set to true, factory configurations will create Component Factroy component instances.&lt;/p&gt;

&lt;p&gt;If this property is not set or set to any value other than true, Component Factory component instances must be created calling the ComponentFactory.newInstance method.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12414293">FELIX-924</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12395073">SLING-408</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57608</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 17 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vyw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184626</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>