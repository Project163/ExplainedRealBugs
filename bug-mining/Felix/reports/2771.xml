<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 16:06:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-5469] Methodcache system size property is not used</title>
                <link>https://issues.apache.org/jira/browse/FELIX-5469</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The code in InvocationUtil to set a custom size for the method cache has been commented out. See InvocationUtil.java.&lt;br/&gt;
The default is not large enough for me.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13031039">FELIX-5469</key>
            <summary>Methodcache system size property is not used</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pderop">Pierre De Rop</assignee>
                                    <reporter username="JeroenDaanen">Jeroen Daanen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 29 Dec 2016 08:29:24 +0000</created>
                <updated>Thu, 29 Dec 2016 12:00:01 +0000</updated>
                            <resolved>Thu, 29 Dec 2016 11:37:06 +0000</resolved>
                                    <version>org.apache.felix.dependencymanager-r1</version>
                                    <fixVersion>org.apache.felix.dependencymanager-r9</fixVersion>
                                    <component>Dependency Manager</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15785052" author="pderop" created="Thu, 29 Dec 2016 10:29:52 +0000"  >&lt;p&gt;Hello Jeroen,&lt;/p&gt;

&lt;p&gt;Thanks for reporting, I have committed the patch in revision 1776396. &lt;br/&gt;
it&apos;s a regression dating from dm4-r1. Also, in the patch, I increased the default value to 4096.&lt;/p&gt;

&lt;p&gt;Let me know if it&apos;s ok now so I can turn this issue to resolved state.&lt;br/&gt;
thank you.&lt;/p&gt;
</comment>
                            <comment id="15785082" author="pderop" created="Thu, 29 Dec 2016 10:47:05 +0000"  >&lt;p&gt;by the way, I wonder what default value would be ok for you ? in my case, I observed in some applications a performance gain when using 4096, that&apos;s why I changed the default value to 4096 in the patch, which seems to be a reasonable default value).&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="15785123" author="jeroendaanen" created="Thu, 29 Dec 2016 11:13:32 +0000"  >&lt;p&gt;Yes this is ok for me, the issue can be closed. Thanks!&lt;/p&gt;

&lt;p&gt;Here we use a cache size of 10000. Indeed the caching improves the performance noticeably. I also checked if the method cache gets actually full and in our case it gets full sometimes when loading a large configuration, even with a cache size of 10000 (the number of services depends on what an end-user has configured).&lt;br/&gt;
What the best default value for every use of the dependency manager would be is a difficult question of course, I think 4096 is a good value and if someone needs more, they can just specify the VM argument.&lt;/p&gt;</comment>
                            <comment id="15785158" author="pderop" created="Thu, 29 Dec 2016 11:37:06 +0000"  >&lt;p&gt;ok, thanks.&lt;/p&gt;

&lt;p&gt;So, I see that you are in a point where you are doing some performance tests for your application. I wonder if you are using the concurrent mode of dependency manager ?&lt;br/&gt;
Mixing DM filter indices + DM concurrent mode may significantly reduce startup time, especially if you have thousands of components which have some time consuming start methods.&lt;/p&gt;

&lt;p&gt;DM concurrent mode has a kind of actor model: each component remains &quot;single threaded&quot; (all osgi events are handled serially), but multiple distinct components can be started concurrently. In case you are interested, don&apos;t hesitate to ask on the users mailing list, I will provide support. you can check &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; for general description about DM concurrent mode, and &lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; for a concrete example (in the example, I&apos;m using a pattern which allows to specify whether or not a given component can be started in a given thread pool, or if it must be handled synchronously, as it is the case by default, but you can also have a model where all components are by default started concurrently).&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://felix.staging.apache.org/documentation/subprojects/apache-felix-dependency-manager/reference/thread-model.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.staging.apache.org/documentation/subprojects/apache-felix-dependency-manager/reference/thread-model.html&lt;/a&gt;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/viewvc/felix/trunk/dependencymanager/org.apache.felix.dependencymanager.samples/src/org/apache/felix/dependencymanager/samples/tpool/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/felix/trunk/dependencymanager/org.apache.felix.dependencymanager.samples/src/org/apache/felix/dependencymanager/samples/tpool/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;hope this helps;&lt;br/&gt;
/Pierre&lt;/p&gt;</comment>
                            <comment id="15785191" author="jeroendaanen" created="Thu, 29 Dec 2016 12:00:01 +0000"  >&lt;p&gt;Indeed I did some performance testing after the upgrade from DM3 to DM4 which we (Dobias and I) did recently. Currently we&apos;re not using the concurrent mode yet, but that might be the next step. Hopefully I will have (and get) some time soon to work on that.&lt;br/&gt;
For now thanks for the directions and I will use the users mailing list in case of questions.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 46 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i383hj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>