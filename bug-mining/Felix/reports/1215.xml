<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:21:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2779] iPOJO manipulator badly supports custom annotation attributes of type Class</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2779</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I&apos;ve written a custom handler and its corresponding annotation :&lt;br/&gt;
   public @interface Portlet &lt;/p&gt;
{
      ...
      Class&amp;lt;? extends PortletPresentation&amp;gt; portletClass();
      ...
   }

&lt;p&gt;Then I&apos;ve defined a component using this annotation :&lt;br/&gt;
   @Component&lt;br/&gt;
   @Portlet(..., portletClass=DummyComponentPortletImpl.class)&lt;br/&gt;
   public class DummyComponentImpl &lt;/p&gt;
{
      ...
   }

&lt;p&gt;The problem is that the metadata computed by the manipulator doesn&apos;t hold the right value for the portletClass attribute :&lt;br/&gt;
I got &quot;Lfr/liglab/adele/icasa/portal/impl/test/DummyComponentPortletImpl;&quot; instead of &quot;fr.liglab.adele.icasa.portal.impl.test.DummyComponentPortletImpl&quot;.&lt;/p&gt;

&lt;p&gt;Despite it is still possible to deduce the original class name from this strange string, isn&apos;t the attribute value supposed to contain the real class name instead of a Java internal type name ?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12495482">FELIX-2779</key>
            <summary>iPOJO manipulator badly supports custom annotation attributes of type Class</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clement.escoffier">Clement Escoffier</assignee>
                                    <reporter username="pierre.bourret">Pierre Bourret</reporter>
                        <labels>
                    </labels>
                <created>Thu, 13 Jan 2011 12:21:20 +0000</created>
                <updated>Tue, 1 Feb 2011 16:19:58 +0000</updated>
                            <resolved>Thu, 13 Jan 2011 17:02:44 +0000</resolved>
                                    <version>iPOJO-1.6.0</version>
                                    <fixVersion>iPOJO-1.8.0</fixVersion>
                                    <component>iPOJO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12981294" author="pierre.bourret" created="Thu, 13 Jan 2011 15:47:25 +0000"  >&lt;p&gt;The problem is that the visit(String, Object) method of the CustomAnnotationVisitor is called with a org.objectweb.asm.Type parameter when the annotation attribute type is a Class. The Type.toString() method returns the internal type name, so getClassName() must be used instead.&lt;/p&gt;

&lt;p&gt;Here is a patch that solves the problem in my case. It also handles the case of Class[] annotation attribute type.&lt;/p&gt;</comment>
                            <comment id="12981368" author="clement.escoffier" created="Thu, 13 Jan 2011 17:02:43 +0000"  >&lt;p&gt;I&apos;ve applied the patch !&lt;/p&gt;

&lt;p&gt;Thanks.&lt;/p&gt;

&lt;p&gt;PS: the strange String is the Class internal name.&lt;/p&gt;</comment>
                            <comment id="12989268" author="pierre.bourret" created="Tue, 1 Feb 2011 16:19:58 +0000"  >&lt;p&gt;OK : tested with iPOJO-1.8.0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468259" name="FixBadClassParameterHandlingInCustomAnnotationVisitor.patch" size="1888" author="pierre.bourret" created="Thu, 13 Jan 2011 15:47:25 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40386</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0apxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60474</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>