<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:32:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3102] Cleanup dependencies of org.apache.felix.http.cometd</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3102</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The cometd implementation from &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1796&quot; title=&quot;Add cometd/bayeux support to HTTP Service&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1796&quot;&gt;&lt;del&gt;FELIX-1796&lt;/del&gt;&lt;/a&gt; has several issues regarding the dependencies.&lt;/p&gt;

&lt;p&gt;1. It inroduces a cyclic dependency between org.apache.felix.http.cometd and org.apache.felix.http.api. API imports org.cometd,which is exported by o.a.f.h.cometd and o.a.f.h.cometd imports o.a.f.h.api. The dependency on o.a.f.h.api is merely present because the CometdService interface has been added. I propose to move the CometdService interface into o.a.f.h.cometd instead. &lt;/p&gt;

&lt;p&gt;This is an API change, however the HTTP API bundle with CometdService has not been released yet, afaik, so this should not be an issue.&lt;/p&gt;

&lt;p&gt;2. The cometd bundle&apos;s Export-Package directive looks as follows&lt;/p&gt;

&lt;p&gt;    org.apache.felix.http.api;version=${pom.version},&lt;br/&gt;
    org.cometd;version=1.0.beta7,&lt;br/&gt;
    org.mortbay.*;-split-package:=merge-first,&lt;br/&gt;
    org.osgi.service.http,&lt;br/&gt;
    javax.servlet.*;version=2.5;-split-package:=merge-first&lt;/p&gt;

&lt;p&gt;It should only export &quot;org.cometd;version=1.0.beta7&quot;, as the org.mortbay package is an implementation detail and the other three packages should be provided by other bundles.&lt;/p&gt;

&lt;p&gt;The attached patch fixes this, and cleans up the dependencies section.&lt;/p&gt;

&lt;p&gt;A nice side-effect of these changes is that the cometd bundle can just be deployed as-is even with older versions of HTTP Service.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12521389">FELIX-3102</key>
            <summary>Cleanup dependencies of org.apache.felix.http.cometd</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="jsedding">Julian Sedding</reporter>
                        <labels>
                    </labels>
                <created>Mon, 5 Sep 2011 21:19:15 +0000</created>
                <updated>Sat, 28 Sep 2013 17:40:01 +0000</updated>
                            <resolved>Fri, 23 Sep 2011 13:39:31 +0000</resolved>
                                    <version>http-2.2.0</version>
                                    <fixVersion>http-2.2.1</fixVersion>
                                    <component>HTTP Service</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13097322" author="jsedding" created="Mon, 5 Sep 2011 21:20:31 +0000"  >&lt;p&gt;proposed patch&lt;/p&gt;</comment>
                            <comment id="13112485" author="jsedding" created="Thu, 22 Sep 2011 11:34:16 +0000"  >&lt;p&gt;I&apos;m setting this to blocker, because the attached patch reverts a change to HTTP Service API, which hasn&apos;t been released yet.&lt;/p&gt;

&lt;p&gt;The intent is not necessarily to get this patch included in http-2.2.2, but I believe the API change should be reviewed before a 2.2.2 release.&lt;/p&gt;

&lt;p&gt;Feel free to reduce the priority if this doesn&apos;t seem appropriate.&lt;/p&gt;</comment>
                            <comment id="13113350" author="fmeschbe" created="Fri, 23 Sep 2011 11:48:31 +0000"  >&lt;p&gt;Thanks for reporting. I agree with your assessment of this being a blocker.&lt;/p&gt;</comment>
                            <comment id="13113430" author="fmeschbe" created="Fri, 23 Sep 2011 13:39:31 +0000"  >&lt;p&gt;Thanks for supplying the patch. I have applied in Rev. 1174750.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12493072" name="FELIX-3102.patch" size="10747" author="jsedding" created="Mon, 5 Sep 2011 21:58:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55898</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vqmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183287</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>