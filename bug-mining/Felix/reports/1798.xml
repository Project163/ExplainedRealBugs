<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:47:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3402] DependencyManager stop can trigger IndexOutOfBoundsException</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3402</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;DependencyManager.clear(), pre &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3042&quot; title=&quot;[PATCH] Add a convenience clear() method on DependencyManager&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3042&quot;&gt;&lt;del&gt;FELIX-3042&lt;/del&gt;&lt;/a&gt; known as DependencyActivatorBase.cleanup(), iterates over unprotected list determining size only at the start. &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;build	22-Mar-2012 10:03:08	java.lang.IndexOutOfBoundsException: Index: 66, Size: 66
build	22-Mar-2012 10:03:08		at java.util.ArrayList.RangeCheck(ArrayList.java:547)
build	22-Mar-2012 10:03:08		at java.util.ArrayList.get(ArrayList.java:322)
build	22-Mar-2012 10:03:08		at java.util.Collections$SynchronizedList.get(Collections.java:1816)
build	22-Mar-2012 10:03:08		at java.util.Collections$UnmodifiableList.get(Collections.java:1154)
build	22-Mar-2012 10:03:08		at org.apache.felix.dm.DependencyActivatorBase.cleanup(DependencyActivatorBase.java:301)
build	22-Mar-2012 10:03:08		at org.apache.felix.dm.DependencyActivatorBase.stop(DependencyActivatorBase.java:90)
build	22-Mar-2012 10:03:08		at org.apache.felix.framework.util.SecureAction.stopActivator(SecureAction.java:663)
build	22-Mar-2012 10:03:08		at org.apache.felix.framework.Felix.stopBundle(Felix.java:2361)
build	22-Mar-2012 10:03:08		at org.apache.felix.framework.BundleImpl.stop(BundleImpl.java:980)
build	22-Mar-2012 10:03:08		at org.apache.felix.framework.BundleImpl.stop(BundleImpl.java:967)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12547579">FELIX-3402</key>
            <summary>DependencyManager stop can trigger IndexOutOfBoundsException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marrs">Marcel Offermans</assignee>
                                    <reporter username="bramk">Bram de Kruijff</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Mar 2012 12:01:40 +0000</created>
                <updated>Tue, 15 Jan 2013 10:20:40 +0000</updated>
                            <resolved>Tue, 15 Jan 2013 10:20:40 +0000</resolved>
                                    <version>dependencymanager-3.0.0</version>
                                                    <component>Dependency Manager</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13553631" author="marrs" created="Tue, 15 Jan 2013 10:20:40 +0000"  >&lt;p&gt;Reviewed the patch, applied it in a slightly modified way:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;using an array instead of a (more expensive) LinkedList;&lt;/li&gt;
	&lt;li&gt;not using getComponent but synchronizing on the list directly.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The big question however is, if this happens, who was modifying this list and can this fix have a side effect in that scenario that leaves double or not stopped components dangling. That&apos;s not necessarily something in scope for this fix though.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12519431" name="FELIX-3402-sync.patch" size="1537" author="bramk" created="Thu, 22 Mar 2012 12:16:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>232677</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 45 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17mav:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>252582</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>