<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:51:41 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4314] Split service registration to solve visibility issue in autoconf</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4314</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The current implementation of autoconf registers itself as both a ResourceProcessor and EventHandler. The first because, obviously, it is a resource processor. The second because it wants to know when the deployment session ends, which is signalled through an event.&lt;/p&gt;

&lt;p&gt;This creates an interesting visibility issue, especially when bootstrapping an OSGi framework by installing a deployment package containing &quot;everything&quot;.&lt;/p&gt;

&lt;p&gt;Initially this means there is just some management agent available. Through DeploymentAdmin the agent installs the deployment package which contains bundles and configuration data. The bundles that are included contain EventAdmin and ConfigurationAdmin.&lt;/p&gt;

&lt;p&gt;Let&apos;s also assume that the management agent has no dependency on EventAdmin, not even its API, because a) it does not want to depend on it (through an ImportPackage) and b) it does not want to provide and depend on it either (because it tries to isolate itself as much as possible from the rest of the framework).&lt;/p&gt;

&lt;p&gt;This creates an interesting problem: because autoconf registers as both a ResourceProcessor and EventHandler, and EventHandler is not visible to the agent, it will &lt;b&gt;not&lt;/b&gt; see the resource processor either. Therefore the deployment will fail in a way that is hard to debug (if you inspect the registry, the service is there, it&apos;s just that the agent is not allowed to see it).&lt;/p&gt;

&lt;p&gt;The easiest solution is to split the registration into two. First just register as a ResourceProcessor and then, separately, also register as an EventHandler. In fact, in this case, we can defer the latter a bit until we are actually interested in the event.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12679363">FELIX-4314</key>
            <summary>Split service registration to solve visibility issue in autoconf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marrs">Marcel Offermans</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Nov 2013 09:38:57 +0000</created>
                <updated>Tue, 1 Apr 2014 12:48:26 +0000</updated>
                            <resolved>Fri, 15 Nov 2013 13:48:26 +0000</resolved>
                                                                    <component>Deployment Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13823671" author="marrs" created="Fri, 15 Nov 2013 13:48:26 +0000"  >&lt;p&gt;Implemented.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358725</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pu7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>359015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>