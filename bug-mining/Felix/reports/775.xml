<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:14:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1278] DM/ AutoConfig is active event if setCallbacks method has been invoked</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1278</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Marcel, in this issue, I come back to you about an old thread that I posted last november 2008 here -&amp;gt; &lt;a href=&quot;http://www.mail-archive.com/users@felix.apache.org/msg02582.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.mail-archive.com/users@felix.apache.org/msg02582.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In this thread, I mentioned a potential problem concerning AutoConfiguration: Indeed, AutoConfig is active by default, even if ServiceDependency.setCallbacks() method has been invoked. So, all Pojo&apos;s attributes (wich types are the same as the injected dependency) are overriden by reflexion (auto config mode).&lt;br/&gt;
Currently, each time I call setCallbacks(), I must take care of calling setAutoConfig(false) ... &lt;br/&gt;
We think that AutoConfig mode should be disabled when setCallbacks methods is invoked.&lt;/p&gt;

&lt;p&gt;/pierre&lt;/p&gt;</description>
                <environment>linux fc10/ jdk1.5/1.6</environment>
        <key id="12428921">FELIX-1278</key>
            <summary>DM/ AutoConfig is active event if setCallbacks method has been invoked</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marrs">Marcel Offermans</assignee>
                                    <reporter username="pderop">Pierre De Rop</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jun 2009 05:26:41 +0000</created>
                <updated>Tue, 10 May 2011 08:35:08 +0000</updated>
                            <resolved>Mon, 16 Nov 2009 07:51:39 +0000</resolved>
                                    <version>dependencymanager-2.0.1</version>
                                                    <component>Dependency Manager</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12735246" author="marrs" created="Sat, 25 Jul 2009 08:09:02 +0000"  >&lt;p&gt;Let me start by saying, I think you&apos;re right. Turning off AutoConfig when a user defines callbacks would have helped (it saves him from having to do this himself).&lt;/p&gt;

&lt;p&gt;The change I could make is that if setCallbacks() is invoked with at least one non-null argument, AutoConfig becomes false (and it becomes true again if you pass all null arguments, because that probably signals you no longer want callbacks to be invoked).&lt;/p&gt;

&lt;p&gt;The biggest worry I have is breaking existing code that relies on the current behavior. I&apos;m not quite sure how big the problem is there, because I guess most people using callbacks will now have these two lines of code anyway, and a change would only render the call to setAutoConfig() obsolete (but harmless).&lt;/p&gt;

&lt;p&gt;Summarizing it, I am leaning heavily towards changing this, which means changing the semantics of the API, so it would require us to go to version 3.0.0. If anyone else wants to comment on this, now is the time! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12741762" author="marrs" created="Tue, 11 Aug 2009 08:49:05 +0000"  >&lt;p&gt;Implemented the change. Please review and test it!&lt;/p&gt;</comment>
                            <comment id="12741775" author="apanday" created="Tue, 11 Aug 2009 09:40:38 +0000"  >&lt;p&gt;I just tried it and it works. Thanks again.&lt;/p&gt;</comment>
                            <comment id="12777963" author="pderop" created="Sat, 14 Nov 2009 16:43:12 +0000"  >&lt;p&gt;Marcel,&lt;br/&gt;
I reopen this issue because, with the previous patch, the following code was not working:&lt;/p&gt;

&lt;p&gt;    dm.add(createService()&lt;br/&gt;
	   .setImplementation(MyPojo.class)&lt;br/&gt;
	   .add(createServiceDependency()&lt;br/&gt;
		.setRequired(false)&lt;br/&gt;
		.setService(MyDependency.class)&lt;br/&gt;
                .setAutoConfig(true)&lt;br/&gt;
		.setCallbacks(&quot;added&quot;, &quot;removed&quot;)));&lt;/p&gt;

&lt;p&gt;(the setCallbacks turns off autoconfig and the setAutoConfig(true) is disabled).&lt;br/&gt;
The attached patch just check if the setAutoConfig method has been called or not. If yes, then the setCallbacks method does not turn off autoconfig.&lt;/p&gt;

&lt;p&gt;(I have also added some documentation in the setCallbacks method).&lt;/p&gt;

</comment>
                            <comment id="12778244" author="marrs" created="Mon, 16 Nov 2009 07:51:39 +0000"  >&lt;p&gt;Patch applied.&lt;/p&gt;</comment>
                            <comment id="13031089" author="marrs" created="Tue, 10 May 2011 08:35:08 +0000"  >&lt;p&gt;Part of the 3.0.0 release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12424965" name="ServiceDependency.java" size="27949" author="pderop" created="Sat, 14 Nov 2009 16:46:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57741</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ark7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270931</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>