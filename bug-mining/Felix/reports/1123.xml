<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:20:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1984] Components starts disabled</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1984</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;From SCR version 1.2.0 all components starts with state &apos;disabled&apos;, SCR 1.0.8 worked fine. Configuration dump attached as zip file.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0=[pl.eurobank.osgi.springframework.web.SpringServletContextListener]
Bundlepl.eurobank.osgi.springframework-bundle (11)
State=disabled
DefaultState=enabled
Activation=delayed
ServiceType=service
Services=javax.servlet.ServletContextListener
Properties=
component.id=0
component.name=pl.eurobank.osgi.springframework.web.SpringServletContextListener
service.pid=pl.eurobank.osgi.springframework.web.SpringServletContextListener

1=[pl.eurobank.osgi.launcher.bundle.internal.LauncherSupportActivator]
Bundlepl.eurobank.osgi.launcher-bundle (18)
State=disabled
DefaultState=enabled
Activation=immediate
Reference=bundleProviderService, Satisfied
Service Name: pl.eurobank.osgi.deployment.BundleProviderService
Multiple: single
Optional: optional
Policy: dynamic
No Services bound
Reference=httpService, Satisfied
Service Name: org.osgi.service.http.HttpService
Multiple: single
Optional: optional
Policy: dynamic
No Services bound
Reference=logReader, Satisfied
Service Name: org.osgi.service.log.LogReaderService
Multiple: single
Optional: optional
Policy: dynamic
No Services bound
Properties=
component.id=1
component.name=pl.eurobank.osgi.launcher.bundle.internal.LauncherSupportActivator
service.pid=pl.eurobank.osgi.launcher.bundle.internal.LauncherSupportActivator

2=[pl.eurobank.osgi.struts.internal.TestFilter]
Bundlepl.eurobank.osgi.struts-1-2-bundle (19)
State=disabled
DefaultState=enabled
Activation=delayed
ServiceType=service
Services=javax.servlet.Filter
Properties=
alias=/test2/*
component.id=2
component.name=pl.eurobank.osgi.struts.internal.TestFilter
contextPath=/bar
init.testparam=testvalue
service.pid=pl.eurobank.osgi.struts.internal.TestFilter
service.ranking=50

3=[pl.eurobank.osgi.struts.internal.IndexServlet]
Bundlepl.eurobank.osgi.struts-1-2-bundle (19)
State=disabled
DefaultState=enabled
Activation=delayed
ServiceType=service
Services=javax.servlet.Servlet
Properties=
alias=/index
component.id=3
component.name=pl.eurobank.osgi.struts.internal.IndexServlet
contextPath=/
init.testparam=testvalue
service.pid=pl.eurobank.osgi.struts.internal.IndexServlet

4=[pl.eurobank.osgi.struts.internal.StrutsProxyServlet]
Bundlepl.eurobank.osgi.struts-1-2-bundle (19)
State=disabled
DefaultState=enabled
Activation=delayed
ServiceType=service
Services=javax.servlet.Servlet
Properties=
alias=*.ebk
component.id=4
component.name=pl.eurobank.osgi.struts.internal.StrutsProxyServlet
service.pid=pl.eurobank.osgi.struts.internal.StrutsProxyServlet

5=[pl.eurobank.osgi.jsp.internal.JspProxyServlet]
Bundlepl.eurobank.osgi.jsp-bundle (20)
State=disabled
DefaultState=enabled
Activation=delayed
ServiceType=service
Services=org.osgi.util.tracker.BundleTrackerCustomizer, java.io.Serializable, javax.servlet.Servlet, javax.servlet.ServletConfig
Properties=
alias=*.jsp
component.id=5
component.name=pl.eurobank.osgi.jsp.internal.JspProxyServlet
service.pid=pl.eurobank.osgi.jsp.internal.JspProxyServlet

6=[pl.eurobank.multipulpit.system.menu.MenuService]
Bundleeb-multipulpit-system (25)
State=disabled
DefaultState=enabled
Activation=immediate
ServiceType=service
Services=pl.eurobank.multipulpit.system.menu.MenuService
Properties=
component.id=6
component.name=pl.eurobank.multipulpit.system.menu.MenuService
service.pid=pl.eurobank.multipulpit.system.menu.MenuService
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>felix-2.0.2</environment>
        <key id="12445393">FELIX-1984</key>
            <summary>Components starts disabled</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="artur.opala">Artur Opala</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Jan 2010 11:14:42 +0000</created>
                <updated>Mon, 13 Sep 2010 10:20:16 +0000</updated>
                            <resolved>Wed, 8 Sep 2010 07:41:31 +0000</resolved>
                                    <version> configadmin-1.2.4</version>
                                    <fixVersion> configadmin-1.2.8</fixVersion>
                                    <component>Configuration Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12799700" author="artur.opala" created="Wed, 13 Jan 2010 11:43:23 +0000"  >&lt;p&gt;Declaration of a selected component&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;components xmlns:scr=&quot;http://www.osgi.org/xmlns/scr/v1.0.0&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;scr:component enabled=&quot;true&quot; immediate=&quot;true&quot; name=&quot;pl.eurobank.osgi.launcher.bundle.internal.LauncherSupportActivator&quot;&amp;gt;&lt;br/&gt;
        &amp;lt;implementation class=&quot;pl.eurobank.osgi.launcher.bundle.internal.LauncherSupportActivator&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;property name=&quot;service.pid&quot; value=&quot;pl.eurobank.osgi.launcher.bundle.internal.LauncherSupportActivator&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;reference name=&quot;httpService&quot; interface=&quot;org.osgi.service.http.HttpService&quot; cardinality=&quot;0..1&quot; policy=&quot;dynamic&quot; bind=&quot;bindHttpService&quot; unbind=&quot;unbindHttpService&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;reference name=&quot;logReader&quot; interface=&quot;org.osgi.service.log.LogReaderService&quot; cardinality=&quot;0..1&quot; policy=&quot;dynamic&quot; bind=&quot;bindLogReader&quot; unbind=&quot;unbindLogReader&quot;/&amp;gt;&lt;br/&gt;
        &amp;lt;reference name=&quot;bundleProviderService&quot; interface=&quot;pl.eurobank.osgi.deployment.BundleProviderService&quot; cardinality=&quot;0..1&quot; policy=&quot;dynamic&quot; bind=&quot;bindBundleProviderService&quot; unbind=&quot;unbindBundleProviderService&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/scr:component&amp;gt;&lt;br/&gt;
&amp;lt;/components&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12802890" author="artur.opala" created="Wed, 20 Jan 2010 16:55:11 +0000"  >&lt;p&gt;After debugging: components are not enabled beacause of the exception:&lt;/p&gt;


&lt;p&gt;java.lang.ClassCastException: org.apache.felix.cm.impl.ConfigurationAdminImpl&lt;br/&gt;
	at org.apache.felix.scr.impl.config.ConfigurationComponentRegistry.createComponentHolder(ConfigurationComponentRegistry.java:104)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.loadDescriptor(BundleComponentActivator.java:244)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.initialize(BundleComponentActivator.java:147)&lt;br/&gt;
	at org.apache.felix.scr.impl.BundleComponentActivator.&amp;lt;init&amp;gt;(BundleComponentActivator.java:111)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.loadComponents(Activator.java:238)&lt;br/&gt;
	at org.apache.felix.scr.impl.Activator.bundleChanged(Activator.java:174)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.invokeBundleListenerCallback(EventDispatcher.java:800)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireEventImmediately(EventDispatcher.java:728)&lt;br/&gt;
	at org.apache.felix.framework.util.EventDispatcher.fireBundleEvent(EventDispatcher.java:610)&lt;br/&gt;
	at org.apache.felix.framework.Felix.fireBundleEvent(Felix.java:3576)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1650)&lt;br/&gt;
	at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:915)&lt;br/&gt;
	at pl.eurobank.osgi.deployment.internal.AutoDeployActivator.processAutoDeploy(AutoDeployActivator.java:306)&lt;br/&gt;
	at pl.eurobank.osgi.deployment.internal.AutoDeployActivator.start(AutoDeployActivator.java:88)&lt;br/&gt;
	at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:640)&lt;br/&gt;
	at org.apache.felix.framework.Felix.activateBundle(Felix.java:1700)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1622)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1077)&lt;br/&gt;
	at org.apache.felix.framework.StartLevelImpl.run(StartLevelImpl.java:264)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:595)&lt;/p&gt;



&lt;p&gt;final BundleContext bundleContext = activator.getBundleContext();&lt;br/&gt;
        final String bundleLocation = bundleContext.getBundle().getLocation();&lt;br/&gt;
        final String name = metadata.getName();&lt;/p&gt;

&lt;p&gt;        final ServiceReference caRef = bundleContext.getServiceReference( ConfigurationAdmin.class.getName() );&lt;br/&gt;
        if ( caRef != null )&lt;br/&gt;
        {&lt;br/&gt;
            final ConfigurationAdmin ca = ( ConfigurationAdmin ) bundleContext.getService( caRef );&lt;/p&gt;</comment>
                            <comment id="12802906" author="artur.opala" created="Wed, 20 Jan 2010 17:42:20 +0000"  >&lt;p&gt;Resolved: The problem lies in the org.apache.felix.configadmin-1.2.4 bundle manifest, which imports package org.osgi.service.cm without explicit version range. When the org.osgi.compendium bundle is also installed on the platform, org.apache.felix.scr-1.4.0 loads the interface org.osgi.service.cm.ConfigurationAdmin from the org.osgi.compendium bundle, but the org.apache.felix.configadmin-1.2.4 bundle loads it internally and the ClassCastException arises.&lt;/p&gt;

&lt;p&gt;I have locally corrected it by adding this section to the  org.apache.felix.configadmin-1.2.4 pom.xml:&lt;/p&gt;

&lt;p&gt; &amp;lt;Import-Package&amp;gt;&lt;br/&gt;
             org.osgi.service.cm;version=&quot;[1.2,2)&quot;,&lt;br/&gt;
              *&lt;br/&gt;
&amp;lt;/Import-Package&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12802908" author="artur.opala" created="Wed, 20 Jan 2010 17:44:59 +0000"  >&lt;p&gt;I move this bug to the ConfigurationAdmin&lt;/p&gt;</comment>
                            <comment id="12803224" author="fmeschbe" created="Thu, 21 Jan 2010 08:25:59 +0000"  >&lt;p&gt;Thanks for reporting the issue. I will look into it shortly.&lt;/p&gt;</comment>
                            <comment id="12907123" author="fmeschbe" created="Wed, 8 Sep 2010 07:41:31 +0000"  >&lt;p&gt;Defined proper version imports in Rev. 993644.&lt;/p&gt;

&lt;p&gt;Now the import headers look like (formatted for readability):&lt;/p&gt;

&lt;p&gt;Import-Package:  org.apache.felix.cm;version=&quot;[1.0,1.1)&quot;,&lt;br/&gt;
              org.apache.felix.cm.file;version=&quot;[1.0,1.1)&quot;,&lt;br/&gt;
              org.osgi.framework;version=&quot;1.3&quot;,&lt;br/&gt;
              org.osgi.service.cm;version=&quot;[1.3,1.4)&quot;&lt;br/&gt;
DynamicImport-Package:  org.osgi.service.log;version=&quot;1.3&quot;      &lt;/p&gt;


&lt;p&gt;Note, that a stack dump is now written during the build. This has no influence on the correctness of the build. See &lt;a href=&quot;http://markmail.org/message/hwoy2y4r4ikbhzgo&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://markmail.org/message/hwoy2y4r4ikbhzgo&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12908697" author="fmeschbe" created="Mon, 13 Sep 2010 10:20:16 +0000"  >&lt;p&gt;Closing issues after Configuration Admin 1.2.8 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12430122" name="configuration-status-20100113-1209+0100.zip" size="50103" author="artur.opala" created="Wed, 13 Jan 2010 11:16:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57068</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vwlz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184256</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>