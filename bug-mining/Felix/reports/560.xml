<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:11:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1408] [gogo] coercion of args to match varargs method is inconsistent</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1408</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;gogo coerces the supplied arguments to match those required by the method.&lt;br/&gt;
when the last parameter of a method is an array, gogo will coerce all remaining args into the array.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;p&gt;echo is defined as String echo(Object[] args);&lt;/p&gt;

&lt;p&gt;&amp;gt; echo d e f&lt;br/&gt;
d e f&lt;/p&gt;

&lt;p&gt;above, gogo has coerced the 3 arguments into a single args[] array argument&lt;/p&gt;


&lt;p&gt;&amp;gt; list = &lt;span class=&quot;error&quot;&gt;&amp;#91;a b c&amp;#93;&lt;/span&gt;&lt;br/&gt;
a&lt;br/&gt;
b&lt;br/&gt;
c&lt;/p&gt;

&lt;p&gt;&amp;gt; echo $list&lt;br/&gt;
a b c&lt;/p&gt;

&lt;p&gt;here gogo passes the list directly, rather than as the first element of an array&lt;/p&gt;

&lt;p&gt;However, this is inconsistent when extra args are given:&lt;/p&gt;

&lt;p&gt;echo $list x&lt;br/&gt;
x a b c&lt;/p&gt;

&lt;p&gt;The bug here is that the argument &apos;x&apos; appears as the first, rather than the last argument to echo&lt;/p&gt;

&lt;p&gt; echo x $list&lt;br/&gt;
x &lt;span class=&quot;error&quot;&gt;&amp;#91;a, b, c&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The bug here is that the list is no longer expanded.&lt;br/&gt;
The result should be:&lt;br/&gt;
x a b c&lt;/p&gt;


</description>
                <environment></environment>
        <key id="12431339">FELIX-1408</key>
            <summary>[gogo] coercion of args to match varargs method is inconsistent</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="db82407">Derek Baum</assignee>
                                    <reporter username="db82407">Derek Baum</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Jul 2009 08:18:57 +0000</created>
                <updated>Wed, 30 Sep 2009 21:39:43 +0000</updated>
                            <resolved>Sun, 16 Aug 2009 11:41:35 +0000</resolved>
                                                    <fixVersion>gogo-0.2.0</fixVersion>
                                    <component>Gogo Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12737047" author="gnt" created="Thu, 30 Jul 2009 09:10:52 +0000"  >&lt;p&gt;I don&apos;t think $list should be expanded at all.&lt;br/&gt;
Doing so means you can&apos;t have access to the list in the method.&lt;/p&gt;

&lt;p&gt;I would rather go for:&lt;/p&gt;

&lt;p&gt;&amp;gt; echo $list&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;a, b, c&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; echo x $list&lt;br/&gt;
x &lt;span class=&quot;error&quot;&gt;&amp;#91;a, b, c&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; echo $list x&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;a, b, c&amp;#93;&lt;/span&gt; x&lt;/p&gt;
</comment>
                            <comment id="12737109" author="rickhall" created="Thu, 30 Jul 2009 14:08:07 +0000"  >&lt;p&gt;I agree with Guillaume, it seems simpler to treat everything as separate arguments and never expand. I suppose it could be possible to have some syntax to explicitly expand non-scalars.&lt;/p&gt;</comment>
                            <comment id="12737158" author="db82407" created="Thu, 30 Jul 2009 16:12:33 +0000"  >&lt;p&gt;My concern was that closures like:&lt;/p&gt;

&lt;p&gt;g = &lt;/p&gt;
{ grep $args }

&lt;p&gt;or&lt;/p&gt;

&lt;p&gt;warn = &lt;/p&gt;
{ echo warning: $args }

&lt;p&gt;should still work as expected, without grep/echo having to deal with the possibility that their args&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; contains a list of all the args.&lt;/p&gt;

&lt;p&gt;I now see that this is possible without the coerce method having to expand list args.&lt;/p&gt;

&lt;p&gt;So we&apos;re all in agreement.&lt;/p&gt;



</comment>
                            <comment id="12737161" author="db82407" created="Thu, 30 Jul 2009 16:15:58 +0000"  >&lt;p&gt;This patch simply removes the expansion of list arguments when coercing to to a final array parameter.&lt;/p&gt;

&lt;p&gt;It fixes the inconsistency reported in this issue, but gives the results proposed by &lt;br/&gt;
Guillaume Nodet:&lt;/p&gt;

&lt;p&gt;&amp;gt; echo $list&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;a, b, c&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; echo x $list&lt;br/&gt;
x &lt;span class=&quot;error&quot;&gt;&amp;#91;a, b, c&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt; echo $list x&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;a, b, c&amp;#93;&lt;/span&gt; x&lt;/p&gt;</comment>
                            <comment id="12743833" author="db82407" created="Sun, 16 Aug 2009 11:41:35 +0000"  >&lt;p&gt;fixed by not expanding array args during coercion.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12415035" name="patch.txt" size="1311" author="db82407" created="Thu, 30 Jul 2009 16:15:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57616</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 15 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ar5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270864</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>