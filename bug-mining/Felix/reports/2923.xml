<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 16:11:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-5723] ConfigInstaller is not deleting files in the etc directory</title>
                <link>https://issues.apache.org/jira/browse/FELIX-5723</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The ConfigInstaller takes the pid from the ConfigurationEvent and tries to get the configuration from ConfigAdmin. This will not return the config because the config has been deleted. See &lt;a href=&quot;https://github.com/apache/felix/blob/trunk/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java#L182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix/blob/trunk/fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java#L182&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The ConfigurationEvent must provide the felix.fileinstall property, so that the ConfigInstaller can use that to delete the corresponding file in etc.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13110721">FELIX-5723</key>
            <summary>ConfigInstaller is not deleting files in the etc directory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gnodet">Guillaume Nodet</assignee>
                                    <reporter username="brandan.jeter">Brandan Jeter</reporter>
                        <labels>
                    </labels>
                <created>Thu, 19 Oct 2017 16:44:03 +0000</created>
                <updated>Thu, 19 Dec 2019 17:37:08 +0000</updated>
                            <resolved>Mon, 23 Oct 2017 11:46:53 +0000</resolved>
                                    <version>fileinstall-3.6.0</version>
                    <version>fileinstall-3.6.2</version>
                                    <fixVersion>fileinstall-3.6.4</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16211338" author="brandan.jeter" created="Thu, 19 Oct 2017 16:45:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-5686&quot; title=&quot;NPE in ConfigInstaller on ConfigDelete&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-5686&quot;&gt;&lt;del&gt;FELIX-5686&lt;/del&gt;&lt;/a&gt; fixed a NPE that was happening due to this issue, but did not fix the issue of files not being deleted.&lt;/p&gt;</comment>
                            <comment id="16211456" author="gnt" created="Thu, 19 Oct 2017 18:00:25 +0000"  >&lt;p&gt;The dictionary is not available anymore when the event is sent.  This means we&apos;ll have to keep an additional map to cache the link between pid -&amp;gt; file so that we can delete the file when the pid is deleted.&lt;/p&gt;</comment>
                            <comment id="16211457" author="gnt" created="Thu, 19 Oct 2017 18:00:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=brandan.jeter&quot; class=&quot;user-hover&quot; rel=&quot;brandan.jeter&quot;&gt;brandan.jeter&lt;/a&gt; Do you think you could provide a patch for that ?&lt;/p&gt;</comment>
                            <comment id="16214996" author="gnt" created="Mon, 23 Oct 2017 11:46:53 +0000"  >&lt;p&gt;Committing to &lt;a href=&quot;https://svn.apache.org/repos/asf/felix/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/felix/trunk&lt;/a&gt; ...&lt;br/&gt;
	M	fileinstall/src/main/java/org/apache/felix/fileinstall/internal/ConfigInstaller.java&lt;br/&gt;
	M	fileinstall/src/test/java/org/apache/felix/fileinstall/internal/ConfigInstallerTest.java&lt;br/&gt;
Committed r1812996&lt;/p&gt;</comment>
                            <comment id="16215478" author="brandan.jeter" created="Mon, 23 Oct 2017 17:19:28 +0000"  >&lt;p&gt;Thank you for the rapid response, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gnodet&quot; class=&quot;user-hover&quot; rel=&quot;gnodet&quot;&gt;gnodet&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16215485" author="brandan.jeter" created="Mon, 23 Oct 2017 17:24:47 +0000"  >&lt;p&gt;As an interesting side note, we had fixed this awhile back with this solution by implementing our own ConfigurationListener: &lt;a href=&quot;https://github.com/codice/ddf/commit/e2bc11abdc00ae21089dcfb49d67e26d1299c0dd#diff-74d5172cba120da06c8629e456e88eb8R50&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/codice/ddf/commit/e2bc11abdc00ae21089dcfb49d67e26d1299c0dd#diff-74d5172cba120da06c8629e456e88eb8R50&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;We didn&apos;t contribute it back here because we weren&apos;t sure if that would be an accepted solution to the problem. Next time, we&apos;ll offer the solution anyways and risk getting shot down! Thanks again.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13099330">FELIX-5686</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13110716">FELIX-5722</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 4 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3lh1j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>