<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:41:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3515] DeploymentAdmin triggers IOException on install</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3515</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The commit in r1339925 introduced an IOException that will happen always, but may or may not have an effect (concurrency).&lt;/p&gt;

&lt;p&gt;Issue it the ExplodingOutputtingInputStream#run() will always try to read an InputStream it has already closed itself. As the IOException is now also pushed to the calling thread this cause the deployment to fail.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.io.IOException: Exception &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing the stream in the background: Pipe closed
        at org.apache.felix.deploymentadmin.ExplodingOutputtingInputStream.close(ExplodingOutputtingInputStream.java:73)
        at org.apache.felix.deploymentadmin.DeploymentAdminImpl.installDeploymentPackage(DeploymentAdminImpl.java:217)
        at org.amdatu.itest.base.impl.TestContextImpl.installDeploymentPackage(TestContextImpl.java:94)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>r1339925&lt;br/&gt;
Apache Maven 3.0.4 (r1232337; 2012-01-17 09:44:56+0100)&lt;br/&gt;
Maven home: C:\Program Files\Apache Maven\apache-maven-3.0.4&lt;br/&gt;
Java version: 1.7.0_02, vendor: Oracle Corporation&lt;br/&gt;
Java home: C:\Program Files\Java\jdk1.7.0_02\jre&lt;br/&gt;
Default locale: en_US, platform encoding: Cp1252&lt;br/&gt;
OS name: &amp;quot;windows 7&amp;quot;, version: &amp;quot;6.1&amp;quot;, arch: &amp;quot;amd64&amp;quot;, family: &amp;quot;windows&amp;quot;</environment>
        <key id="12556594">FELIX-3515</key>
            <summary>DeploymentAdmin triggers IOException on install</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="marrs">Marcel Offermans</assignee>
                                    <reporter username="bramk">Bram de Kruijff</reporter>
                        <labels>
                    </labels>
                <created>Sun, 20 May 2012 15:03:41 +0000</created>
                <updated>Mon, 21 May 2012 10:33:30 +0000</updated>
                            <resolved>Mon, 21 May 2012 08:25:07 +0000</resolved>
                                                                    <component>Deployment Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13279788" author="bramk" created="Sun, 20 May 2012 15:05:52 +0000"  >&lt;p&gt;Attached patch. I think simply removing the offending code solves the issue without risk.&lt;/p&gt;</comment>
                            <comment id="13280019" author="marrs" created="Mon, 21 May 2012 08:18:03 +0000"  >&lt;p&gt;Applying the patch would re-introduce &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-3336&quot; title=&quot;Exceptions related to the pipe used in deployment admin&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-3336&quot;&gt;&lt;del&gt;FELIX-3336&lt;/del&gt;&lt;/a&gt;, but I completely agree that the current code does not work correctly as the stream we&apos;re reading from is closed too early. I&apos;ll work on a different fix.&lt;/p&gt;</comment>
                            <comment id="13280028" author="marrs" created="Mon, 21 May 2012 08:25:07 +0000"  >&lt;p&gt;Please re-test and close if fixed for you.&lt;/p&gt;</comment>
                            <comment id="13280072" author="bramk" created="Mon, 21 May 2012 10:33:30 +0000"  >&lt;p&gt;Seems to do the trick. I can no longer reproduce it and that makes sense looking at the commit. Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12528331" name="FELIX-3515_ExplodingOutputtingInputStream_DontReadFromClosedStream.java" size="785" author="bramk" created="Sun, 20 May 2012 15:05:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246029</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07gf3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41426</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>