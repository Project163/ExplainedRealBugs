<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:45:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3726] Reference target filters defined as component properties are ignored</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3726</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Test setup has three components:&lt;/p&gt;

&lt;p&gt;(1) E registered as BS and TC without service properties&lt;br/&gt;
(2) T1 disabled by default; to be registered as TC with property p=x&lt;br/&gt;
(3) T2 enabled by default with ref to TC and target (p=x)&lt;/p&gt;

&lt;p&gt;Component T2 has the target defined as part of the component definition properties as in:&lt;/p&gt;

&lt;p&gt;   &amp;lt;reference name=&quot;ref&quot; ... /&amp;gt;&lt;br/&gt;
   &amp;lt;property name=&quot;ref.target&quot; value=&quot;(p=x)&quot; /&amp;gt;&lt;/p&gt;

&lt;p&gt;This is expected to not activate T2 because the reference cannot be satisfied until T1 is enabled and registered as a TC service with the property.&lt;/p&gt;

&lt;p&gt;Currently T2 is activated because the ref.target property is ignored and thus the component is registered without a target property and thus happily binds to component E.&lt;/p&gt;

&lt;p&gt;The AbstractComponentManager.verifyDependencyManagers method has a commented call to update the target filters. Probably because the callers of this method do the update themselves before verifying. Except the Unsatisfied.activate method, which only verifies without setting the targets.&lt;/p&gt;</description>
                <environment>OSGi CT for DS: testReferenceTargetProperty</environment>
        <key id="12612665">FELIX-3726</key>
            <summary>Reference target filters defined as component properties are ignored</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Fri, 19 Oct 2012 12:26:49 +0000</created>
                <updated>Tue, 20 Nov 2012 10:58:16 +0000</updated>
                            <resolved>Fri, 19 Oct 2012 13:00:22 +0000</resolved>
                                                    <fixVersion>scr-1.6.2</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                    <component>Specification compliance</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13479993" author="fmeschbe" created="Fri, 19 Oct 2012 13:00:22 +0000"  >&lt;p&gt;Fixed in Rev. 1400076.&lt;/p&gt;

&lt;p&gt;The Unsatisfied.activate method must set the target filters on the dependency managers before verifying them. Otherwise we get false positives.&lt;/p&gt;

&lt;p&gt;I also removed the commented call to update target filters from the verifyDependencyManagers method because this update is always done before calling the verifyDM method.&lt;/p&gt;

&lt;p&gt;After this fix, the CT also passes.&lt;/p&gt;</comment>
                            <comment id="13501039" author="fmeschbe" created="Tue, 20 Nov 2012 10:58:16 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>249914</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0an4v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60021</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>