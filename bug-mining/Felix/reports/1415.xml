<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:32:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3164] Description of EventAdminSubscriberHandler</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3164</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;When using the ipojo webconsole or the ipojo arch gogo commands I get a NullPointerException from org.apache.felix.ipojo.architecture.InstanceDescription when I&apos;m trying to take a look at any instance that has a @Subscriber annotation and event admin listener implementation.&lt;/p&gt;

&lt;p&gt;I started taking a look at this and it seems that the problem stems from the m_description field of the org.apache.felix.ipojo.handlers.event.subscriber.EventAdminSubscriberHander being null when all the services are being examined by the InstanceDescription class.&lt;/p&gt;

&lt;p&gt;Durring debugging I see that all the other service handlers have valid, non-null, descriptions but that the event admin one does not. I haven&apos;t spent any more time to determine why that is. I can say that the m_description IS being set and is valid during initialization in initializeComponentFactory() of EventAdminSubscriberHandler. Somehow it looses it somewhere along the way.&lt;/p&gt;

&lt;p&gt;Here&apos;s the stack trace from the web console:&lt;/p&gt;

&lt;p&gt;HTTP ERROR 500&lt;/p&gt;

&lt;p&gt;Problem accessing /system/console/iPOJO/instances/org.snapteam.test.endpoint.ExampleIPojoComponent.d9eee2c0-3ce7-4742-afb0-5707e366e623.json. Reason:&lt;br/&gt;
    Server Error&lt;br/&gt;
Caused by:&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.felix.ipojo.architecture.InstanceDescription.getHandlerDescription(InstanceDescription.java:111)&lt;br/&gt;
	at org.apache.felix.ipojo.webconsole.IPOJOPlugin.__getInstanceDetail(IPOJOPlugin.java:468)&lt;br/&gt;
	at org.apache.felix.ipojo.webconsole.IPOJOPlugin.getInstanceDetail(IPOJOPlugin.java)&lt;br/&gt;
	at org.apache.felix.ipojo.webconsole.IPOJOPlugin.__doGet(IPOJOPlugin.java:510)&lt;br/&gt;
	at org.apache.felix.ipojo.webconsole.IPOJOPlugin.doGet(IPOJOPlugin.java)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:693)&lt;br/&gt;
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:806)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.servlet.OsgiManager.service(OsgiManager.java:437)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.servlet.OsgiManager.service(OsgiManager.java:384)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.KarafOsgiManager.doService(KarafOsgiManager.java:67)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.KarafOsgiManager$1.run(KarafOsgiManager.java:47)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at javax.security.auth.Subject.doAs(Subject.java:396)&lt;br/&gt;
	at org.apache.felix.webconsole.internal.KarafOsgiManager.service(KarafOsgiManager.java:45)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:538)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:478)&lt;br/&gt;
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceServletHandler.doHandle(HttpServiceServletHandler.java:70)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:119)&lt;br/&gt;
	at org.eclipse.jetty.security.SecurityHandler.handle(SecurityHandler.java:480)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:225)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:937)&lt;br/&gt;
	at org.ops4j.pax.web.service.jetty.internal.HttpServiceContext.doHandle(HttpServiceContext.java:116)&lt;br/&gt;
	at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:406)&lt;br/&gt;
	at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:183)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:871)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:117)&lt;br/&gt;
	at org.ops4j.pax.web.service.jetty.internal.JettyServerHandlerCollection.handle(JettyServerHandlerCollection.java:72)&lt;br/&gt;
	at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:110)&lt;br/&gt;
	at org.eclipse.jetty.server.Server.handle(Server.java:346)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpConnection.handleRequest(HttpConnection.java:589)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpConnection$RequestHandler.headerComplete(HttpConnection.java:1048)&lt;br/&gt;
	at org.eclipse.jetty.http.HttpParser.parseNext(HttpParser.java:601)&lt;br/&gt;
	at org.eclipse.jetty.http.HttpParser.parseAvailable(HttpParser.java:214)&lt;br/&gt;
	at org.eclipse.jetty.server.HttpConnection.handle(HttpConnection.java:411)&lt;br/&gt;
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint.handle(SelectChannelEndPoint.java:535)&lt;br/&gt;
	at org.eclipse.jetty.io.nio.SelectChannelEndPoint$1.run(SelectChannelEndPoint.java:40)&lt;br/&gt;
	at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:529)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;/p&gt;


&lt;p&gt;And from the gogo command line:&lt;/p&gt;


&lt;p&gt;09:02:58,119 | INFO  | l Console Thread | araf.shell.console.jline.Console  258 | 25 - org.apache.karaf.shell.console - 2.2.2 | Exception caught while executing command&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
	at org.apache.felix.ipojo.architecture.InstanceDescription.getDescription(InstanceDescription.java:164)&lt;br/&gt;
	at org.apache.felix.ipojo.PrimitiveInstanceDescription.getDescription(PrimitiveInstanceDescription.java:165)&lt;br/&gt;
	at org.apache.felix.ipojo.arch.gogo.Arch.__instance(Arch.java:115)&lt;br/&gt;
	at org.apache.felix.ipojo.arch.gogo.Arch.instance(Arch.java)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_24&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_24&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_24&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_24&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.gogo.runtime.Reflective.method(Reflective.java:136)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.gogo.runtime.CommandProxy.execute(CommandProxy.java:82)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.gogo.runtime.Closure.executeCmd(Closure.java:474)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.gogo.runtime.Closure.executeStatement(Closure.java:400)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.gogo.runtime.Pipe.run(Pipe.java:108)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:183)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.gogo.runtime.Closure.execute(Closure.java:120)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.felix.gogo.runtime.CommandSessionImpl.execute(CommandSessionImpl.java:79)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at org.apache.karaf.shell.console.jline.Console.run(Console.java:240)&lt;span class=&quot;error&quot;&gt;&amp;#91;25:org.apache.karaf.shell.console:2.2.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:662)&lt;span class=&quot;error&quot;&gt;&amp;#91;:1.6.0_24&amp;#93;&lt;/span&gt;&lt;/p&gt;


</description>
                <environment>Karaf 2.2.2&lt;br/&gt;
Windows 7&lt;br/&gt;
Java 1.6.0_24</environment>
        <key id="12527212">FELIX-3164</key>
            <summary>Description of EventAdminSubscriberHandler</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clement.escoffier">Clement Escoffier</assignee>
                                    <reporter username="joelschuster">Joel Schuster</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Oct 2011 15:09:54 +0000</created>
                <updated>Mon, 4 Feb 2013 12:34:34 +0000</updated>
                            <resolved>Fri, 21 Oct 2011 09:46:18 +0000</resolved>
                                    <version>iPOJO-1.6.0</version>
                                    <fixVersion>ipojo-eventadmin-handler-1.8.2</fixVersion>
                                    <component>iPOJO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13132559" author="clement.escoffier" created="Fri, 21 Oct 2011 09:46:18 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The description must be set in the configure method and not in the initializeFactory method. I&apos;ve fixed it in the trunk.&lt;/p&gt;

&lt;p&gt;Could you try:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/org/apache/felix/org.apache.felix.ipojo.handler.eventadmin/1.9.0-SNAPSHOT/org.apache.felix.ipojo.handler.eventadmin-1.9.0-20111021.094635-2.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/org/apache/felix/org.apache.felix.ipojo.handler.eventadmin/1.9.0-SNAPSHOT/org.apache.felix.ipojo.handler.eventadmin-1.9.0-20111021.094635-2.jar&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>85598</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 5 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vvqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184114</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>