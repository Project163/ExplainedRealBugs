<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:05:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-364] 0..1 dynamic service reference does not bind properly.</title>
                <link>https://issues.apache.org/jira/browse/FELIX-364</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;There are 2 parts to the issue. Both are with a component with a reference to a service where cardinality=0..1 and policy=dynamic.&lt;br/&gt;
1. If the bundle providing the service is stopped (without another bundle providing the same service) and restarted, the service is not re-bound to the component.&lt;br/&gt;
2. If the service is started after the component referencing it, then the service is never bound to the component.&lt;/p&gt;</description>
                <environment>Java 1.6</environment>
        <key id="12378324">FELIX-364</key>
            <summary>0..1 dynamic service reference does not bind properly.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="annachen">I-Ann Chen</reporter>
                        <labels>
                    </labels>
                <created>Fri, 14 Sep 2007 20:42:13 +0000</created>
                <updated>Fri, 30 May 2008 18:15:56 +0000</updated>
                            <resolved>Mon, 17 Sep 2007 08:58:09 +0000</resolved>
                                    <version>framework-0.8.0</version>
                                    <fixVersion>scr-1.0.0</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12527634" author="annachen" created="Fri, 14 Sep 2007 20:59:26 +0000"  >&lt;p&gt;Proposed fix.&lt;/p&gt;</comment>
                            <comment id="12527762" author="fmeschbe" created="Sat, 15 Sep 2007 19:23:58 +0000"  >&lt;p&gt;Thanks for reporting this issue. It turns out, that support for non-multiple (cardinality 0..1 or 1..1) dynamically bound services is not implemented properly at all. &lt;/p&gt;

&lt;p&gt;The DependencyManager class internally keeps all services being tracked. In the case of multiple service bindings, this is no issue as the bind and unbind methods must just be called. For non-multiple references, only one service must be bound and this is also the only service, which may be unbound.&lt;/p&gt;

&lt;p&gt;The solution to this problem is, that the DependencyManager has to keep track of which service has actually been bound in the case of non-multiple bindings to decide whether to bind a new service and whether to unbind a service being unregistered.&lt;/p&gt;</comment>
                            <comment id="12527998" author="fmeschbe" created="Mon, 17 Sep 2007 08:58:09 +0000"  >&lt;p&gt;I have (once again) refactored the DependencyManager class:&lt;/p&gt;

&lt;p&gt;&amp;gt; Only the services to which the dependency manager is actually bound is kept in an internal map&lt;br/&gt;
&amp;gt; The number of available services is set initially from the number of already available services and then&lt;br/&gt;
   updated as part of the ServiceListener.serviceChanged handling&lt;br/&gt;
&amp;gt; Access to the service instances is centralized and thus guarantees that service lookup and service binding&lt;br/&gt;
   allways use the same references and that bound services are ungot when the dependency manager is&lt;br/&gt;
   closed.&lt;/p&gt;

&lt;p&gt;Could you please confirm, that this fix solves your issues. I will deploy a new snapshot after getting your confirmation. Thanks.&lt;/p&gt;</comment>
                            <comment id="12529423" author="annachen" created="Fri, 21 Sep 2007 13:45:29 +0000"  >&lt;p&gt;This seems to fix my issues. Thanks much. Sorry for the delay in reply.&lt;/p&gt;</comment>
                            <comment id="12529431" author="fmeschbe" created="Fri, 21 Sep 2007 14:10:37 +0000"  >&lt;p&gt;Thanks for the feedback. So I close this issue now.&lt;/p&gt;</comment>
                            <comment id="12529438" author="fmeschbe" created="Fri, 21 Sep 2007 14:24:37 +0000"  >&lt;p&gt;Deployed new snapshot build containing this fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12365897" name="patch.txt" size="1166" author="annachen" created="Fri, 14 Sep 2007 20:59:26 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58621</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 10 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vxtj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184452</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>