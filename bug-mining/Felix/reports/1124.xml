<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:20:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2184] PID with space causes ERROR log, but otherwise works</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2184</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Reading the specification I am not sure what characters are really allowed for PIDs. We are using PIDs with spaces. All works fine, just the exception is logged upon startup. I will attach the org_apache_felix_cm_impl_DynamicBindings.config file that causes the parsing error.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;ERROR&lt;/b&gt; Failure setting up dynamic configuration bindings&lt;br/&gt;
java.io.IOException: Unexpected token 78; expected: 61 (line=2, pos=10)&lt;br/&gt;
	at org.apache.felix.cm.file.ConfigurationHandler.readFailure(ConfigurationHandler.java:652)&lt;br/&gt;
	at org.apache.felix.cm.file.ConfigurationHandler.readInternal(ConfigurationHandler.java:273)&lt;br/&gt;
	at org.apache.felix.cm.file.ConfigurationHandler.read(ConfigurationHandler.java:236)&lt;br/&gt;
	at org.apache.felix.cm.file.FilePersistenceManager._load(FilePersistenceManager.java:542)&lt;br/&gt;
	at org.apache.felix.cm.file.FilePersistenceManager.load(FilePersistenceManager.java:487)&lt;br/&gt;
	at org.apache.felix.cm.impl.DynamicBindings.&amp;lt;init&amp;gt;(DynamicBindings.java:51)&lt;br/&gt;
	at org.apache.felix.cm.impl.ConfigurationManager.start(ConfigurationManager.java:211)&lt;br/&gt;
	at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:661)&lt;br/&gt;
	at org.apache.felix.framework.Felix.activateBundle(Felix.java:1756)&lt;br/&gt;
	at org.apache.felix.framework.Felix.startBundle(Felix.java:1678)&lt;br/&gt;
	at org.apache.felix.framework.Felix.setActiveStartLevel(Felix.java:1124)&lt;br/&gt;
	at org.apache.felix.framework.StartLevelImpl.run(StartLevelImpl.java:264)&lt;br/&gt;
	at java.lang.Thread.run(Thread.java:619)&lt;/p&gt;</description>
                <environment>Linux bono 2.6.32-16-generic #24-Ubuntu SMP Sat Mar 6 12:33:21 UTC 2010 i686 GNU/Linux&lt;br/&gt;
java version &amp;quot;1.6.0_18&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_18-b07)&lt;br/&gt;
Java HotSpot(TM) Client VM (build 16.0-b13, mixed mode, sharing)&lt;br/&gt;
</environment>
        <key id="12458638">FELIX-2184</key>
            <summary>PID with space causes ERROR log, but otherwise works</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="zdila">Martin Zdila</reporter>
                        <labels>
                    </labels>
                <created>Wed, 10 Mar 2010 10:13:13 +0000</created>
                <updated>Mon, 13 Sep 2010 10:20:17 +0000</updated>
                            <resolved>Wed, 8 Sep 2010 12:08:53 +0000</resolved>
                                    <version> configadmin-1.2.4</version>
                                    <fixVersion> configadmin-1.2.8</fixVersion>
                                    <component>Configuration Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12844503" author="fmeschbe" created="Fri, 12 Mar 2010 14:00:32 +0000"  >&lt;p&gt;According to Section 5.2.6, Persistent Identifier (PID), a PID is defined the same as a symbolic-name as defined in Section 1.3.2, General Syntax Definitions (all in the R 4.2 Core Spec):&lt;/p&gt;

&lt;p&gt;   digit ::= &lt;span class=&quot;error&quot;&gt;&amp;#91;0..9&amp;#93;&lt;/span&gt;&lt;br/&gt;
   alpha ::= &lt;span class=&quot;error&quot;&gt;&amp;#91;a..zA..Z&amp;#93;&lt;/span&gt;&lt;br/&gt;
   alphanum ::= alpha | digit&lt;br/&gt;
   token ::= ( alphanum | &apos;_&apos; | &apos;-&apos; )+&lt;br/&gt;
   symbolic-name ::= token(&apos;.&apos;token)*&lt;/p&gt;

&lt;p&gt;Thus a blank space is not a valid character in a PID.&lt;/p&gt;

&lt;p&gt;Still, I agree, the error message is not very helpful and should be improved.&lt;/p&gt;</comment>
                            <comment id="12844506" author="fmeschbe" created="Fri, 12 Mar 2010 14:08:27 +0000"  >&lt;p&gt;Looking at the code, I wonder how you manage to store configuration keys with spaces in them ?&lt;/p&gt;</comment>
                            <comment id="12844546" author="zdila" created="Fri, 12 Mar 2010 15:40:23 +0000"  >&lt;p&gt;&amp;gt; Looking at the code, I wonder how you manage to store configuration keys with spaces in them ?&lt;/p&gt;

&lt;p&gt;I am using spring-osgi 1.2. Configuration snippet:&lt;/p&gt;

&lt;p&gt;	&amp;lt;service ref=&quot;fileAppenderFactory&quot;&amp;gt;&lt;br/&gt;
		&amp;lt;interfaces&amp;gt;&lt;br/&gt;
			&amp;lt;bean:value&amp;gt;org.osgi.service.cm.ManagedServiceFactory&amp;lt;/bean:value&amp;gt;&lt;br/&gt;
		&amp;lt;/interfaces&amp;gt;&lt;br/&gt;
		&amp;lt;service-properties&amp;gt;&lt;br/&gt;
			&amp;lt;bean:entry key=&quot;service.pid&quot; value=&quot;File Log Appender&quot;/&amp;gt;&lt;br/&gt;
		&amp;lt;/service-properties&amp;gt;&lt;br/&gt;
	&amp;lt;/service&amp;gt;&lt;/p&gt;</comment>
                            <comment id="12845222" author="fmeschbe" created="Mon, 15 Mar 2010 07:49:28 +0000"  >&lt;p&gt;Looking at the attached org_apache_felix_cm_impl_DynamicBindings.config file it looks like there are a number of illegal keys in it:&lt;/p&gt;

&lt;p&gt;   ...&lt;br/&gt;
   File Log Appender=&quot;file:/home/martin/gofer/cluster/node1/bundles/gofer-logging.jar&quot;&lt;/p&gt;

&lt;p&gt;   SMTP Log Appender=&quot;file:/home/martin/gofer/cluster/node1/bundles/gofer-logging.jar&quot;&lt;/p&gt;

&lt;p&gt;   ...&lt;br/&gt;
   Socket Log Appender=&quot;file:/home/martin/gofer/cluster/node1/bundles/gofer-logging.jar&quot;&lt;/p&gt;

&lt;p&gt;   Telnet Log Appender=&quot;file:/home/martin/gofer/cluster/node1/bundles/gofer-logging.jar&quot;&lt;/p&gt;

&lt;p&gt;   Jabber Service=&quot;file:/home/martin/gofer/cluster/node1/bundles/gofer-jabber.jar&quot;&lt;/p&gt;

&lt;p&gt;   ...&lt;br/&gt;
   Socket Hub Log Appender=&quot;file:/home/martin/gofer/cluster/node1/bundles/gofer-logging.jar&quot;&lt;/p&gt;

&lt;p&gt;   ...&lt;br/&gt;
   Syslog Log Appender=&quot;file:/home/martin/gofer/cluster/node1/bundles/gofer-logging.jar&quot;&lt;/p&gt;

&lt;p&gt;   ...&lt;br/&gt;
   NT Event Log Appender=&quot;file:/home/martin/gofer/cluster/node1/bundles/gofer-logging.jar&quot;&lt;/p&gt;

&lt;p&gt;   ...&lt;/p&gt;


&lt;p&gt;These properties are illegal since according to the spec a property name must not contain blanks:&lt;/p&gt;

&lt;p&gt;    property-name ::= public | private&lt;br/&gt;
    public ::= symbolic-name // See 1.3.2&lt;br/&gt;
    private ::= &apos;.&apos; symbolic-name&lt;/p&gt;

&lt;p&gt;Apache Felix Configuration Admin 2.0.4 does not allow you to set such properties.&lt;/p&gt;

&lt;p&gt;Has this .config file been prepared manually ? [ It looks so, because there are a few properies missing, which are written by the Felix Configuration Admin implementation ]&lt;/p&gt;</comment>
                            <comment id="12845362" author="zdila" created="Mon, 15 Mar 2010 15:31:28 +0000"  >&lt;p&gt;No, this config is not created manually. I are using configadmin-1.2.4 (as mentioned in affected versions), but i&apos;ll give 2.0.4 a try. Meanwhile I fixed those invalid names in our code.&lt;/p&gt;</comment>
                            <comment id="12845364" author="zdila" created="Mon, 15 Mar 2010 15:33:25 +0000"  >&lt;p&gt;hmm .. I can&apos;t find org.apache.felix.configadmin-2.0.4.jar&lt;/p&gt;</comment>
                            <comment id="12845371" author="fmeschbe" created="Mon, 15 Mar 2010 15:44:23 +0000"  >&lt;p&gt;Oops, I misread the version you mentioned.&lt;/p&gt;

&lt;p&gt;In addition, I was taught, that I read the spec to narrowly: The syntax definition for service PIDs and configuration keys are only recommendations (wording is SHOULD) and not prescriptions. Thus 2.0.4 implementation of requiring the recommendation is actually wrong !&lt;/p&gt;</comment>
                            <comment id="12845385" author="fmeschbe" created="Mon, 15 Mar 2010 15:58:37 +0000"  >&lt;p&gt;Latest ist 1.2.4, actually  &amp;#8212; sorry I confused version numbers.&lt;/p&gt;</comment>
                            <comment id="12907181" author="fmeschbe" created="Wed, 8 Sep 2010 12:08:53 +0000"  >&lt;p&gt;In Rev. 995005:&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Only validate keys to be non-empty strings upon Configuration.update&lt;/li&gt;
	&lt;li&gt;Ensure in the FilePersistenceManager to write and read any non-empty strings as property names&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12908699" author="fmeschbe" created="Mon, 13 Sep 2010 10:20:17 +0000"  >&lt;p&gt;Closing issues after Configuration Admin 1.2.8 release&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12438395" name="org_apache_felix_cm_impl_DynamicBindings.config" size="2216" author="zdila" created="Wed, 10 Mar 2010 10:13:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vx9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184361</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>