<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 16:04:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-5384] EventDispatcher#createWhitelistFromHooks fails under security</title>
                <link>https://issues.apache.org/jira/browse/FELIX-5384</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	Caused by: java.security.AccessControlException: access denied (&lt;span class=&quot;code-quote&quot;&gt;&quot;org.osgi.framework.AdminPermission&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;(id=0)&quot;&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;context&quot;&lt;/span&gt;)
		at java.security.AccessControlContext.checkPermission(java.base@9-ea/AccessControlContext.java:468) ~[?:?]
		at java.security.AccessController.checkPermission(java.base@9-ea/AccessController.java:894) ~[?:?]
		at java.lang.&lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;.checkPermission(java.base@9-ea/&lt;span class=&quot;code-object&quot;&gt;SecurityManager&lt;/span&gt;.java:548) ~[?:?]
		at org.apache.felix.framework.BundleImpl.getBundleContext(BundleImpl.java:243) ~[?:?]
		at org.apache.felix.framework.Felix.getBundleContext(Felix.java:106) ~[?:?]
		at org.apache.felix.framework.util.EventDispatcher.createWhitelistFromHooks(EventDispatcher.java:684) ~[?:?]
		at org.apache.felix.framework.util.EventDispatcher.filterListenersUsingHooks(EventDispatcher.java:560) ~[?:?]
		at org.apache.felix.framework.util.EventDispatcher.fireServiceEvent(EventDispatcher.java:543) ~[?:?]
		at org.apache.felix.framework.Felix.fireServiceEvent(Felix.java:4558) ~[?:?]
		at org.apache.felix.framework.Felix.registerService(Felix.java:3550) ~[?:?]
		at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:348) ~[?:?]
		at org.apache.felix.framework.BundleContextImpl.registerService(BundleContextImpl.java:322) ~[?:?]
		at org.apache.felix.cm.impl.ConfigurationManager.start(ConfigurationManager.java:250) ~[?:?]
		at org.apache.felix.framework.util.SecureAction$Actions.run(SecureAction.java:1709) ~[?:?]
		at java.security.AccessController.doPrivileged(java.base@9-ea/Native Method) ~[?:?]
		at org.apache.felix.framework.util.SecureAction.startActivator(SecureAction.java:688) ~[?:?]
		at org.apache.felix.framework.Felix.activateBundle(Felix.java:2227) ~[?:?]
		at org.apache.felix.framework.Felix.startBundle(Felix.java:2145) ~[?:?]
		at org.apache.felix.framework.BundleImpl.start(BundleImpl.java:998) ~[?:?]
		at org.apache.karaf.bundle.command.Restart.doExecute(Restart.java:51) ~[?:?]
		... 14 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13013788">FELIX-5384</key>
            <summary>EventDispatcher#createWhitelistFromHooks fails under security</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gnodet">Guillaume Nodet</assignee>
                                    <reporter username="gnodet">Guillaume Nodet</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Oct 2016 08:25:06 +0000</created>
                <updated>Fri, 21 Oct 2016 20:55:00 +0000</updated>
                            <resolved>Thu, 20 Oct 2016 11:46:26 +0000</resolved>
                                    <version>framework-5.6.0</version>
                                    <fixVersion>framework-5.6.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="15591313" author="karlpauls" created="Thu, 20 Oct 2016 09:21:49 +0000"  >&lt;p&gt;Good catch - the EventDispatcher shouldn&apos;t try to call getBundleContext for this - it should use _getBundleContext() which doesn&apos;t check for permission.&lt;/p&gt;</comment>
                            <comment id="15591317" author="karlpauls" created="Thu, 20 Oct 2016 09:23:41 +0000"  >&lt;p&gt;Maybe we should grep for getBundleContext() inside the framework and make sure we use the right version between it and _getBundleContext() for all cases.&lt;/p&gt;</comment>
                            <comment id="15591321" author="gnt" created="Thu, 20 Oct 2016 09:26:08 +0000"  >&lt;p&gt;Right, there are a bunch of those.&lt;/p&gt;</comment>
                            <comment id="15591516" author="karlpauls" created="Thu, 20 Oct 2016 11:04:31 +0000"  >&lt;p&gt;I think this patch should catch em all.&lt;/p&gt;</comment>
                            <comment id="15591599" author="gnt" created="Thu, 20 Oct 2016 11:46:26 +0000"  >&lt;p&gt;Committing to &lt;a href=&quot;https://svn.apache.org/repos/asf/felix/trunk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/felix/trunk&lt;/a&gt; ...&lt;br/&gt;
	R	framework/src/main/java/org/apache/felix/framework/util/EventDispatcher.java =&amp;gt; framework/src/main/java/org/apache/felix/framework/EventDispatcher.java&lt;br/&gt;
	R	framework/src/test/java/org/apache/felix/framework/util/EventDispatcherTest.java =&amp;gt; framework/src/test/java/org/apache/felix/framework/EventDispatcherTest.java&lt;br/&gt;
	M	framework/src/main/java/org/apache/felix/framework/DTOFactory.java&lt;br/&gt;
	M	framework/src/main/java/org/apache/felix/framework/Felix.java&lt;br/&gt;
Committed r1765806&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12923290">FELIX-5148</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310040">
                    <name>Required</name>
                                                                <inwardlinks description="is required by">
                                        <issuelink>
            <issuekey id="12759519">KARAF-3400</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12834372" name="FELIX-5384.patch" size="3535" author="karlpauls" created="Thu, 20 Oct 2016 11:04:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 4 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3551j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>