<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:47:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3827] Error in bbd-ipojo-plugin of manipulating jar with embedded dependencies with maven bundle plugin + bnd-ipojo-plugin</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3827</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;If a bundle using maven bundle plugin+ipojo plugin embed dependencies on another bundle and that the embedded bundle contains ipojo annotations there is a failure :&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; Bundle org.ipojo.bug:component2:bundle:1.0-SNAPSHOT : Cannot read content of org/ipojo/bug/component1/MyComponent1.class&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Bundle org.ipojo.bug:component2:bundle:1.0-SNAPSHOT : Cannot compute annotations from org/ipojo/bug/component1/MyComponent1.class : Empty file&lt;/p&gt;


&lt;p&gt;In my case I don&apos;t care of annotations that are on the embedded jars.&lt;/p&gt;</description>
                <environment>Missing component and version in the JIRA list ?</environment>
        <key id="12624824">FELIX-3827</key>
            <summary>Error in bbd-ipojo-plugin of manipulating jar with embedded dependencies with maven bundle plugin + bnd-ipojo-plugin</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="sauthieg">Guillaume Sauthier</assignee>
                                    <reporter username="benoitf">Florent BENOIT</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Dec 2012 14:39:00 +0000</created>
                <updated>Mon, 4 Feb 2013 12:34:30 +0000</updated>
                            <resolved>Mon, 7 Jan 2013 17:32:58 +0000</resolved>
                                    <version>ipojo-manipulator-1.8.6</version>
                                    <fixVersion>ipojo-manipulator-1.10.0</fixVersion>
                                    <component>iPOJO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13537047" author="benoitf" created="Thu, 20 Dec 2012 14:40:43 +0000"  >&lt;p&gt;Maven project used to reproduce the issue&lt;/p&gt;</comment>
                            <comment id="13537052" author="sauthieg" created="Thu, 20 Dec 2012 14:48:56 +0000"  >&lt;p&gt;Reproduced with ipojo-bnd-plugin version 1.8.6 (using manipulator 1.8.6)&lt;/p&gt;</comment>
                            <comment id="13542979" author="sauthieg" created="Thu, 3 Jan 2013 15:17:02 +0000"  >&lt;p&gt;Thinking aloud ...&lt;/p&gt;

&lt;p&gt;We may implement 2 policies to manage that issue:&lt;br/&gt;
  1. Always ignore annotated classes from embed dependencies&lt;br/&gt;
  2. Use them whenever possible&lt;/p&gt;

&lt;p&gt;#2 is a little bit more complex and broke down into 3 cases (AFAIU)&lt;br/&gt;
  a. dep is a simple jar file. that looks like an error case where an iPOJO components is packaged into a non-bundle archive&lt;br/&gt;
  b. dep is a regular bundle archive, but not manipulated by iPOJO (classes not modified, no IPOJO-Components header in the manifest). In that case, we can manipulate the classes and store the modified bytecode in the root archive (having &apos;.&apos; in the bundle-classpath will make sure that we&apos;ll load the modified classes). But we can choose also to ignore them &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
  c. dep is a regular AND manipulated bundle. We should ignore the annotated classes since they are already manipulated. But we should &quot;merge&quot; its computed IPOJO-Components within the current Manifest result of this Bnd execution&lt;/p&gt;</comment>
                            <comment id="13545809" author="sauthieg" created="Mon, 7 Jan 2013 11:30:38 +0000"  >&lt;p&gt;Proposed fix: &lt;a href=&quot;https://github.com/sauthieg/felix/commit/83532d53d37a726f9b174020bf3736d8c30dde9e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/sauthieg/felix/commit/83532d53d37a726f9b174020bf3736d8c30dde9e&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13545856" author="clement.escoffier" created="Mon, 7 Jan 2013 13:08:18 +0000"  >&lt;p&gt;For traceability, here is a copy of my comment on the commit:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Looks good to me except that I would disable this behavior by default and let people understanding the concept of embedded dependencies enable it. Feel free to change this behavior and push your change on the trunk.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13545967" author="sauthieg" created="Mon, 7 Jan 2013 15:43:35 +0000"  >&lt;p&gt;Ok, I&apos;ll made that behavior off by default.&lt;/p&gt;</comment>
                            <comment id="13546074" author="sauthieg" created="Mon, 7 Jan 2013 17:32:58 +0000"  >&lt;p&gt;Fixed in trunk&lt;/p&gt;

&lt;p&gt;Enable the embed dependency support with the &quot;include-embed-bundles&quot; property of the bnd plugin&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12561901" name="ipojo.bug.tgz" size="2912" author="benoitf" created="Thu, 20 Dec 2012 14:40:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>301332</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 46 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i16rqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>247625</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>