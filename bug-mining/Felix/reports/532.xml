<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:11:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1445] When a component is deactivated due to the deactivation of a service to which it staticly 1..1 references, this component is not reactivated when that service is reregistered.</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1445</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;According to the comments in the method serviceAdded of class DependencyManager,  it looks like the first &quot;if&quot; is to check the unsatisfied state.&lt;br/&gt;
But there are 2 unsatisfied state: STATE_ENABLED and STATE_UNSATISFIED.&lt;/p&gt;

&lt;p&gt;So the first &quot;if&quot; should be as follows.&lt;/p&gt;

&lt;p&gt;if ( (m_componentManager.getState() &amp;amp;&lt;br/&gt;
				(AbstractComponentManager.STATE_ENABLED | AbstractComponentManager.STATE_UNSATISFIED)) != 0)&lt;/p&gt;


&lt;p&gt;And in the following &quot;else if&quot;, the method &quot;handleServiceEvent&quot; is going to check the statisfied state.&lt;br/&gt;
So &quot;STATE_UNSATISFIED&quot; should be removed from DependencyManager.STATE_MASK.&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12432062">FELIX-1445</key>
            <summary>When a component is deactivated due to the deactivation of a service to which it staticly 1..1 references, this component is not reactivated when that service is reregistered.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="agemocui">Agemo Cui</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Aug 2009 16:36:37 +0000</created>
                <updated>Mon, 3 Aug 2009 19:47:53 +0000</updated>
                            <resolved>Mon, 3 Aug 2009 19:29:39 +0000</resolved>
                                    <version>scr-1.0.8</version>
                                    <fixVersion>scr-1.2.0</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12738508" author="fmeschbe" created="Mon, 3 Aug 2009 19:17:08 +0000"  >&lt;p&gt;Thanks for reporting this issue ...&lt;/p&gt;

&lt;p&gt;Will look into the details... Off the belly, I think the code is correct, but it may as well not be ....&lt;/p&gt;</comment>
                            <comment id="12738513" author="fmeschbe" created="Mon, 3 Aug 2009 19:27:33 +0000"  >&lt;p&gt;You are right, the test is wrong: If the component is enabled but not unsatisifed, the serviceAdded method should just be ignored. Only if the component is unsatisifed, that is activation has been tried but unsuccessful, should the component be activated. Otherwise the event must be ignored (as it was in before applying the patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1185&quot; title=&quot;If a static/mandatory reference to a service is unregistered, the component should be deactivated synchronously instead of asynchronously&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1185&quot;&gt;&lt;del&gt;FELIX-1185&lt;/del&gt;&lt;/a&gt; in Rev. 781045.&lt;/p&gt;

&lt;p&gt;Reverting to testing for the UNSATISFIED state again should do the trick.&lt;/p&gt;</comment>
                            <comment id="12738514" author="fmeschbe" created="Mon, 3 Aug 2009 19:29:39 +0000"  >&lt;p&gt;Reverted the state check as indicated in Rev. 800506.&lt;/p&gt;

&lt;p&gt;Please close this issue, if you agree with the fix. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57579</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 17 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vyvj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184623</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>