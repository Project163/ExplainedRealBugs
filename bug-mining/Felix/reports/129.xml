<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:05:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-439] Improve native code loading</title>
                <link>https://issues.apache.org/jira/browse/FELIX-439</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;We need to improve native code loading in three areas:&lt;/p&gt;

&lt;p&gt;1) bundle installation should fail in case a native library is not in the jar but in the header clause that is selected for the current platform.&lt;br/&gt;
2) we should only use the first library we find of a given name.&lt;br/&gt;
3) on MacOSX there are two extensions accepted by java namely, .jnilib and .dylib but System.mapLibrary() returns only the .jnilib extension.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12384906">FELIX-439</key>
            <summary>Improve native code loading</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="karlpauls">Karl Pauls</assignee>
                                    <reporter username="karlpauls">Karl Pauls</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Dec 2007 22:29:19 +0000</created>
                <updated>Tue, 18 Dec 2007 23:06:06 +0000</updated>
                            <resolved>Tue, 18 Dec 2007 22:42:46 +0000</resolved>
                                                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12552917" author="karlpauls" created="Tue, 18 Dec 2007 22:42:46 +0000"  >&lt;p&gt;Bundle installation will now fail in case a native library is not in the jar and we only use the first library of a given name. Furthermore, we now support .dylib extensions on the mac as well as others (should make it possible to use .netmodules as well). Additionally, the name checking is more strict avoiding an issue that could result in loading the wrong library in certain cases.&lt;/p&gt;</comment>
                            <comment id="12552923" author="marrs" created="Tue, 18 Dec 2007 23:06:06 +0000"  >&lt;p&gt;about 3)&lt;/p&gt;

&lt;p&gt;If you look at the implementation for ClassLoader.loadLibrary() on the Mac, you see it first asks the classloader of the class that loads the library, and then tries to use the system and user library paths, iterating over them in turn. The interesting thing is that it first uses System.mapLibrary() as Karl explains to create the mapping from logical to physical name (ie: foo -&amp;gt; libfoo.jnilib) and then &quot;hardcoded&quot; assumes the extension is .jnilib and if that file cannot be found, replaces the extension with .dylib (using replaceFirst() which does not really work well if there are multiple substrings called .jnilib, but that&apos;s another matter). At least we can improve by emulating this behaviour in its intended way.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58547</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 50 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vtrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183796</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>