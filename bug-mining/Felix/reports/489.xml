<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:10:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1269] MalformedURLException for bundle locations installed by FileInstall</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1269</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Bundles installed by FileInstall have a bundle location that does not include a protocol:&lt;/p&gt;

&lt;p&gt;-&amp;gt; ps -l&lt;br/&gt;
START LEVEL 1&lt;br/&gt;
   ID   State         Level  Location&lt;br/&gt;
[   0] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    0] System Bundle&lt;br/&gt;
[   1] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] &lt;a href=&quot;file:/e:/osgi/org.apache.felix.fileinstall-1.0.0.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/e:/osgi/org.apache.felix.fileinstall-1.0.0.jar&lt;/a&gt;   &amp;lt;= &quot;normal&quot;&lt;br/&gt;
[   2] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] /C:/bundles/org.osgi.compendium-1.2.0.jar   &amp;lt;=  file-installed&lt;/p&gt;

&lt;p&gt;As a result such a bundle cannot be updated using the shell command:&lt;/p&gt;

&lt;p&gt;-&amp;gt; update 2&lt;br/&gt;
ERROR: Unable to update the bundle. (java.net.MalformedURLException: no protocol: /C:/bundles/org.osgi.compendium-1.2.0.jar)&lt;/p&gt;

</description>
                <environment>FileInstall 1.1.0 &lt;br/&gt;
Felix 1.8.0 &lt;br/&gt;
Windows XP</environment>
        <key id="12428626">FELIX-1269</key>
            <summary>MalformedURLException for bundle locations installed by FileInstall</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fdiotalevi">Filippo Diotalevi</assignee>
                                    <reporter username="thiloplanz">Thilo Planz</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Jun 2009 03:07:38 +0000</created>
                <updated>Tue, 8 Sep 2009 13:19:11 +0000</updated>
                            <resolved>Mon, 20 Jul 2009 19:07:52 +0000</resolved>
                                    <version> fileinstall-1.0.0</version>
                                    <fixVersion>fileinstall-2.0.0</fixVersion>
                                    <component>File Install</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12722963" author="sahoo" created="Tue, 23 Jun 2009 04:52:40 +0000"  >&lt;p&gt;Firstly, why do you have to update a bundle that&apos;s managed by fileinstall?&lt;/p&gt;

&lt;p&gt;Secondly, assumption that the location is a URL is a problem in itself. &lt;/p&gt;</comment>
                            <comment id="12723012" author="thiloplanz" created="Tue, 23 Jun 2009 09:33:58 +0000"  >&lt;p&gt;&amp;gt; Firstly, why do you have to update a bundle that&apos;s managed by fileinstall? &lt;/p&gt;

&lt;p&gt;I shut down FileInstall sometimes.&lt;/p&gt;

&lt;p&gt;Especially when it repeatedly tries (and fails to) resolve a bundle whose dependencies are still missing every two seconds.&lt;br/&gt;
This may only be a problem during development.&lt;/p&gt;

&lt;p&gt;&amp;gt; Secondly, assumption that the location is a URL is a problem in itself. &lt;/p&gt;

&lt;p&gt;Maybe.&lt;br/&gt;
But as it is, the Bundle.update() method (which is called by the &quot;update&quot; shell command) does not work.&lt;br/&gt;
Making it a valid URL would improve interoperability.&lt;/p&gt;



</comment>
                            <comment id="12723075" author="rickhall" created="Tue, 23 Jun 2009 13:43:22 +0000"  >&lt;p&gt;You can always update a bundle by typing in the URL from which you want the update to come, e.g., &quot;update 2 &lt;a href=&quot;http://foo/bar.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://foo/bar.jar&lt;/a&gt;&quot;&lt;/p&gt;</comment>
                            <comment id="12723148" author="sahoo" created="Tue, 23 Jun 2009 16:00:06 +0000"  >&lt;p&gt;Thilo,&lt;/p&gt;

&lt;p&gt;1. No, I still don&apos;t understand how explicitly updating a bundle helps when the dependencies are missing. &lt;/p&gt;

&lt;p&gt;2. Even if a file changes while the framework has been shutdown, fileinstall is expected to update the bundle when framework is started subsequently.&lt;/p&gt;

&lt;p&gt;Sahoo&lt;/p&gt;</comment>
                            <comment id="12723390" author="thiloplanz" created="Wed, 24 Jun 2009 00:53:40 +0000"  >&lt;p&gt;&amp;gt; 1. No, I still don&apos;t understand how explicitly updating a bundle helps when the dependencies are missing.&lt;/p&gt;

&lt;p&gt;I am not asking for that.&lt;br/&gt;
I was just giving an example for a situation where a bundle was installed initially by FIleInstall and later the FileInstall service went away.&lt;/p&gt;

&lt;p&gt;&amp;gt; Even if a file changes while the framework has been shutdown, fileinstall is expected to update the bundle when framework is started subsequently. &lt;/p&gt;

&lt;p&gt;I do not see why that would break if the bundle location was set to a URL.&lt;br/&gt;
FileInstall must internally have a list of bundles that it manages, and file timestamps for them. That would not change.&lt;/p&gt;
</comment>
                            <comment id="12723515" author="sahoo" created="Wed, 24 Jun 2009 10:03:00 +0000"  >&lt;p&gt;No, I am not saying it will break something if we use a URI instead of path as location. I wanted to understand the  importance of this bug and how it was affecting.&lt;/p&gt;</comment>
                            <comment id="12723934" author="thiloplanz" created="Thu, 25 Jun 2009 07:48:43 +0000"  >&lt;p&gt;&amp;gt; I wanted to understand the importance of this bug and how it was affecting.&lt;/p&gt;

&lt;p&gt;Since, as you have pointed out, it is unlikely that you need to manually update bundles that FileInstall has installed, &lt;br/&gt;
it is not very important.&lt;/p&gt;

&lt;p&gt;And since it is not specified that the bundle location needs to be a URL (even though that would be preferable for interoperability),&lt;br/&gt;
this is probably not even a bug, but a feature request.&lt;/p&gt;

&lt;p&gt;The inability to upgrade the bundle using its specified location is a complete non-issue for me.&lt;br/&gt;
I am however a little worried that there might be other subtle problems with not using a URL.&lt;/p&gt;

&lt;p&gt;I found out about the &quot;malformed&quot; bundle location when looking at bug &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1165&quot; title=&quot;When restarting a bundle, the config admin reports &amp;quot;Configuration ... has already been delivered&amp;quot;, and the bundle receives no configuration.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1165&quot;&gt;&lt;del&gt;FELIX-1165&lt;/del&gt;&lt;/a&gt; (which is an issue for me).&lt;/p&gt;

&lt;p&gt;These two issues being related is of course pure speculation on my part, I have not really looked into it,&lt;br/&gt;
the bundle non-URL was just the first thing that stood out, and &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1165&quot; title=&quot;When restarting a bundle, the config admin reports &amp;quot;Configuration ... has already been delivered&amp;quot;, and the bundle receives no configuration.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1165&quot;&gt;&lt;del&gt;FELIX-1165&lt;/del&gt;&lt;/a&gt; mention bundle locations playing a role.&lt;/p&gt;
</comment>
                            <comment id="12723950" author="sahoo" created="Thu, 25 Jun 2009 08:36:06 +0000"  >&lt;p&gt;I can&apos;t imagine how &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1165&quot; title=&quot;When restarting a bundle, the config admin reports &amp;quot;Configuration ... has already been delivered&amp;quot;, and the bundle receives no configuration.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1165&quot;&gt;&lt;del&gt;FELIX-1165&lt;/del&gt;&lt;/a&gt; is related to us not setting the location as a URL with scheme. Please raise the severity of &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1165&quot; title=&quot;When restarting a bundle, the config admin reports &amp;quot;Configuration ... has already been delivered&amp;quot;, and the bundle receives no configuration.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1165&quot;&gt;&lt;del&gt;FELIX-1165&lt;/del&gt;&lt;/a&gt; to get to the root of your problem. If you find out that these two issues are unrelated, you can close this issue.&lt;/p&gt;</comment>
                            <comment id="12733128" author="sahoo" created="Mon, 20 Jul 2009 05:41:22 +0000"  >&lt;p&gt;Patch to address the issue.&lt;/p&gt;</comment>
                            <comment id="12733324" author="fdiotalevi" created="Mon, 20 Jul 2009 19:07:52 +0000"  >&lt;p&gt;Thanks for submitting the patch. The use case it address is unusual, but I believe it&apos;s a good thing to install all the bundles using the URI.&lt;br/&gt;
I committed the cumulative patch attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1387&quot; title=&quot;FileInstall unnenessarily computes length of files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1387&quot;&gt;&lt;del&gt;FELIX-1387&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;svn ci -m &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1269&quot; title=&quot;MalformedURLException for bundle locations installed by FileInstall&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1269&quot;&gt;&lt;del&gt;FELIX-1269&lt;/del&gt;&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1387&quot; title=&quot;FileInstall unnenessarily computes length of files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1387&quot;&gt;&lt;del&gt;FELIX-1387&lt;/del&gt;&lt;/a&gt; cumulative patch submitted by Sahoo&quot;&lt;br/&gt;
Sending        fileinstall/src/main/java/org/apache/felix/fileinstall/DirectoryWatcher.java&lt;br/&gt;
Sending        fileinstall/src/main/java/org/apache/felix/fileinstall/Jar.java&lt;br/&gt;
Transmitting file data ..&lt;br/&gt;
Committed revision 795957.&lt;/p&gt;

&lt;p&gt;Please close the issue if satisfied.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12413978" name="Felix-1269.patch" size="1436" author="sahoo" created="Mon, 20 Jul 2009 05:41:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57750</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1arlb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270936</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>