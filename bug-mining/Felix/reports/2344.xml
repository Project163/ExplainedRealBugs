<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:56:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4762]  OutOfMemoryError (Java Heap Space) when resolving bundles </title>
                <link>https://issues.apache.org/jira/browse/FELIX-4762</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;When trying to start Capella (&lt;a href=&quot;https://polarsys.org/capella/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://polarsys.org/capella/&lt;/a&gt;) we encounter OutOfMemoryError (please see the stacktrace below). It seems that there is too many blames objects generated.&lt;/p&gt;

&lt;p&gt;The original bug is &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=457118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=457118&lt;/a&gt;&lt;br/&gt;
A quick workaround is proposed here &lt;a href=&quot;https://git.eclipse.org/r/#/c/39271/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git.eclipse.org/r/#/c/39271/&lt;/a&gt;&lt;br/&gt;
This workaround helps to avoid OOMError, but the resolution is still very&lt;br/&gt;
slow&lt;/p&gt;</description>
                <environment>Usage of Felix resolver as part of Eclipse Equinox</environment>
        <key id="12766235">FELIX-4762</key>
            <summary> OutOfMemoryError (Java Heap Space) when resolving bundles </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="mhelleboid">Matthieu Helleboid</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Jan 2015 15:53:53 +0000</created>
                <updated>Thu, 15 Jan 2015 17:34:04 +0000</updated>
                            <resolved>Thu, 15 Jan 2015 17:17:54 +0000</resolved>
                                                    <fixVersion>resolver-1.2.0</fixVersion>
                                    <component>Resolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14278479" author="mhelleboid" created="Thu, 15 Jan 2015 09:32:50 +0000"  >&lt;p&gt;Here is a patch : avoidMergeDuplicateExportedPackages.patch&lt;br/&gt;
The goal is to avoid to merge duplicate exported packages from required bundles.&lt;br/&gt;
I applied the patch on &lt;a href=&quot;https://github.com/gnodet/felix/commits/resolver-improvements&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gnodet/felix/commits/resolver-improvements&lt;/a&gt; and execute the tests, everything is fine.&lt;br/&gt;
I also applied the patch on the Resolver used in eclipse Luna, and it solve the OOM error and avoid duplicate in the mergeCandidatePackage method.&lt;/p&gt;</comment>
                            <comment id="14278940" author="tjwatson" created="Thu, 15 Jan 2015 17:02:01 +0000"  >&lt;p&gt;I have been reviewing this fix on the Equinox side in &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=457118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=457118&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In order to trigger the code I had to have a dependency tree like the following and I had to use re-export for each level of the dependency:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;       +--&amp;gt;C--+
A--&amp;gt;B--+      +--&amp;gt;E
       +--&amp;gt;D--+
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Where :&lt;br/&gt;
 B re-exports C and D&lt;br/&gt;
 C re-exports E&lt;br/&gt;
 D re-exports E&lt;/p&gt;

&lt;p&gt;In this scenario I would see duplicate blames for package E with the blamed requirement A-&amp;gt;B&lt;/p&gt;

&lt;p&gt;The fix looks good to me, but the variable names mergeExportedPackagesCycles and mergeExportedPackagesCyclesList are misleading.  Perhaps a name like visitedRequiredBundlesMap and visitedRequiredBundles for the list?&lt;/p&gt;</comment>
                            <comment id="14278944" author="mhelleboid" created="Thu, 15 Jan 2015 17:05:50 +0000"  >&lt;p&gt;Update of the patch to change some variables name, as suggested by Thomas Watson here : &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=457118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=457118&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14278946" author="mhelleboid" created="Thu, 15 Jan 2015 17:07:19 +0000"  >&lt;p&gt;Also here is also a scenario by Thomas Watson (from &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=457118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=457118&lt;/a&gt;) : &lt;/p&gt;

&lt;p&gt;In order to trigger the code I had to add another level to the dependency tree and I had to use re-export for each level of the dependency:&lt;/p&gt;

&lt;p&gt;       &lt;ins&gt;-&lt;del&gt;&amp;gt;C&lt;/del&gt;-&lt;/ins&gt;&lt;br/&gt;
A-&lt;del&gt;&amp;gt;B&lt;/del&gt;&lt;del&gt;+      +&lt;/del&gt;-&amp;gt;E&lt;br/&gt;
       &lt;ins&gt;-&lt;del&gt;&amp;gt;D&lt;/del&gt;-&lt;/ins&gt;&lt;/p&gt;

&lt;p&gt;Where :&lt;br/&gt;
 B re-exports C and D&lt;br/&gt;
 C re-exports E&lt;br/&gt;
 D re-exports E&lt;/p&gt;

&lt;p&gt;In this scenario I would see duplicate blames for package E with the blamed requirement A-&amp;gt;B&lt;/p&gt;</comment>
                            <comment id="14278961" author="rickhall" created="Thu, 15 Jan 2015 17:17:54 +0000"  >&lt;p&gt;I applied the patch, please close if satisfied. Thanks!&lt;/p&gt;</comment>
                            <comment id="14278991" author="mhelleboid" created="Thu, 15 Jan 2015 17:34:04 +0000"  >&lt;p&gt;Ok thx&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12692546" name="avoidMergeDuplicateExportedPackages.patch" size="3448" author="mhelleboid" created="Thu, 15 Jan 2015 17:05:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 44 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i245u7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>