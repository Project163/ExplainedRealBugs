<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:47:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3844] Native bundles cannot be installed on Windows 8 and Windows Server 2012</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3844</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;&quot;osname=win32&quot; in the Bundle-NativeCode entry doe not work, this exception is thrown:org.osgi.framework.BundleException: Unresolved constraint in bundle native-lib-windows-x86 &lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;: No matching native libraries found.&lt;/p&gt;

&lt;p&gt;This osname alias needs to be added to the felix framework. I made some changes according to the OSGI specifications at &lt;a href=&quot;http://www.osgi.org/Specifications/Reference&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.osgi.org/Specifications/Reference&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;Here is the patch:&lt;/p&gt;

&lt;p&gt;Index: src/main/java/org/apache/felix/framework/util/manifestparser/R4LibraryClause.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/java/org/apache/felix/framework/util/manifestparser/R4LibraryClause.java	(revision 1431008)&lt;br/&gt;
+++ src/main/java/org/apache/felix/framework/util/manifestparser/R4LibraryClause.java	(working copy)&lt;br/&gt;
@@ -140,11 +140,13 @@&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsnt&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows2000&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows2003&quot;)
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows2008&quot;)&lt;br/&gt;
+            &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsserver2008&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsxp&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsce&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsvista&quot;)
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows7&quot;));&lt;br/&gt;
+            &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows7&quot;)&lt;br/&gt;
+            &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows8&quot;)&lt;br/&gt;
+            &lt;/th&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsserver2012&quot;));&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;         for (int i = 0; (osnames != null) &amp;amp;&amp;amp; (i &amp;lt; osnames.length); i++)&lt;/p&gt;
         {
@@ -381,7 +383,11 @@
             }
&lt;p&gt;             else if (value.indexOf(&quot;2008&quot;) &amp;gt;= 0)&lt;/p&gt;
             {
-                os = &quot;windows2008&quot;;
+                os = &quot;windowsserver2008&quot;;
+            }
&lt;p&gt;+            else if (value.indexOf(&quot;2012&quot;) &amp;gt;= 0)&lt;br/&gt;
+            &lt;/p&gt;
{
+                os = &quot;windowsserver2012&quot;;
             }
&lt;p&gt;             else if (value.indexOf(&quot;xp&quot;) &amp;gt;= 0)&lt;/p&gt;
             {
@@ -396,10 +402,15 @@
                 os = &quot;windowsvista&quot;;
             }
&lt;p&gt;             // will need better test here if any future Windows version has a 7 in it!&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;else if (value.indexOf(&quot;7&quot;) &amp;gt;= 0)&lt;br/&gt;
+            else if (value.indexOf(&quot; 7&quot;) &amp;gt;= 0 || value.equals(&quot;win7&quot;))
             {
                 os = &quot;windows7&quot;;
             }
&lt;p&gt;+            else if (value.indexOf(&quot; 8&quot;) &amp;gt;= 0 || value.equals(&quot;win8&quot;))&lt;br/&gt;
+            &lt;/p&gt;
{
+                os = &quot;windows8&quot;;
+            }
&lt;p&gt;+&lt;br/&gt;
             return os;&lt;br/&gt;
         }&lt;br/&gt;
         else if (value.startsWith(&quot;linux&quot;))&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12626849">FELIX-3844</key>
            <summary>Native bundles cannot be installed on Windows 8 and Windows Server 2012</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="nroduit">Nicolas Roduit</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Wed, 9 Jan 2013 21:09:05 +0000</created>
                <updated>Sat, 2 Feb 2013 11:09:19 +0000</updated>
                            <resolved>Thu, 31 Jan 2013 20:06:30 +0000</resolved>
                                    <version>framework-4.0.3</version>
                                    <fixVersion>framework-4.2.0</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13549415" author="nroduit" created="Thu, 10 Jan 2013 07:57:22 +0000"  >&lt;p&gt;I think Windows 9 could be added as it should be available this year.&lt;/p&gt;</comment>
                            <comment id="13558215" author="nroduit" created="Sun, 20 Jan 2013 09:52:18 +0000"  >&lt;p&gt;New patch:&lt;/p&gt;

&lt;p&gt;Index: src/main/java/org/apache/felix/framework/util/manifestparser/R4LibraryClause.java&lt;br/&gt;
===================================================================&lt;br/&gt;
&amp;#8212; src/main/java/org/apache/felix/framework/util/manifestparser/R4LibraryClause.java	(revision 1431008)&lt;br/&gt;
+++ src/main/java/org/apache/felix/framework/util/manifestparser/R4LibraryClause.java	(working copy)&lt;br/&gt;
@@ -134,17 +134,7 @@&lt;/p&gt;

&lt;p&gt;     private boolean checkOSNames(String currentOSName, String[] osnames)&lt;br/&gt;
     {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;boolean win32 = currentOSName.startsWith(&quot;win&quot;) &amp;amp;&amp;amp;&lt;/li&gt;
	&lt;li&gt;(currentOSName.equals(&quot;windows95&quot;)&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows98&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsnt&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows2000&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows2003&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows2008&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsxp&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsce&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windowsvista&quot;)&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;th class=&apos;confluenceTh&apos;&gt; currentOSName.equals(&quot;windows7&quot;));&lt;br/&gt;
+        boolean win32 = currentOSName.startsWith(&quot;win&quot;) &amp;amp;&amp;amp; !currentOSName.equals(&quot;windowsce&quot;);&lt;/th&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;         for (int i = 0; (osnames != null) &amp;amp;&amp;amp; (i &amp;lt; osnames.length); i++)&lt;/p&gt;
         {
@@ -381,7 +371,11 @@
             }
&lt;p&gt;             else if (value.indexOf(&quot;2008&quot;) &amp;gt;= 0)&lt;/p&gt;
             {
-                os = &quot;windows2008&quot;;
+                os = &quot;windowsserver2008&quot;;
+            }
&lt;p&gt;+            else if (value.indexOf(&quot;2012&quot;) &amp;gt;= 0)&lt;br/&gt;
+            &lt;/p&gt;
{
+                os = &quot;windowsserver2012&quot;;
             }
&lt;p&gt;             else if (value.indexOf(&quot;xp&quot;) &amp;gt;= 0)&lt;br/&gt;
             {&lt;br/&gt;
@@ -395,11 +389,19 @@&lt;/p&gt;
             {
                 os = &quot;windowsvista&quot;;
             }
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;// will need better test here if any future Windows version has a 7 in it!&lt;/li&gt;
	&lt;li&gt;else if (value.indexOf(&quot;7&quot;) &amp;gt;= 0)&lt;br/&gt;
+            else if (value.indexOf(&quot; 7&quot;) &amp;gt;= 0 || value.equals(&quot;win7&quot;))
             {
                 os = &quot;windows7&quot;;
             }
&lt;p&gt;+            else if (value.indexOf(&quot; 8&quot;) &amp;gt;= 0 || value.equals(&quot;win8&quot;))&lt;br/&gt;
+            &lt;/p&gt;
{
+                os = &quot;windows8&quot;;
+            }
&lt;p&gt;+            else if (value.indexOf(&quot; 9&quot;) &amp;gt;= 0 || value.equals(&quot;win9&quot;))&lt;br/&gt;
+            &lt;/p&gt;
{
+                os = &quot;windows9&quot;;
+            }
&lt;p&gt;+            &lt;br/&gt;
             return os;&lt;br/&gt;
         }&lt;br/&gt;
         else if (value.startsWith(&quot;linux&quot;))&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13568051" author="rickhall" created="Thu, 31 Jan 2013 20:06:30 +0000"  >&lt;p&gt;I really think we should move our OS aliases to configuration properties, but I don&apos;t have time to do that right now so I am applying this patch (i&apos;ll open an issue for future work). Please close if you are satisfied. Thanks.&lt;/p&gt;</comment>
                            <comment id="13569509" author="nroduit" created="Sat, 2 Feb 2013 11:09:19 +0000"  >&lt;p&gt;Thanks, &lt;/p&gt;

&lt;p&gt;With this patch, we consider that Windows is a win32 system with some exceptions, like Windows CE or Windows RT (but still no JVM available and runs on ARM processor).&lt;br/&gt;
Now it would possible to install a win32 lib on future Windows systems without explicitly naming it  (e.g. osname=&quot;windows 8&quot;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; in pom.xml, inside Bundle-NativeCode tag. It will be enough to have &quot;osname=win32;&quot;. &lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>303539</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i17c7z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>250948</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>