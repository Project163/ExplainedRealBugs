<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:51:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3355] Autoconf can&apos;t find Metatype service</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3355</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Although Autoconf appears to consult MetaTypeService to resolve OCDs in code it never will. This is caused by the fact that the bundle does not import org.osgi.service.metatype, but embeds it. Any actual MetaTypeService will not be assignable.&lt;/p&gt;

&lt;p&gt;The reason it doesn&apos;t fail is that the dependencymanager dependency is optional. As a result the AutoconfResourceProcessor operates against an injected NullObject. You never get any warning, but it simply never resolves OCDs. &lt;/p&gt;

&lt;p&gt;Besides fixing the import IMHO it would not be unreasnable to require MetaTypeService&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Index: autoconf/pom.xml
===================================================================
--- autoconf/pom.xml    (revision 1245822)
+++ autoconf/pom.xml    (working copy)
@@ -86,7 +86,7 @@
                         &amp;lt;Bundle-Name&amp;gt;Apache Felix AutoConf Resource Processor&amp;lt;/Bundle-Name&amp;gt;
                         &amp;lt;Bundle-Description&amp;gt;A customizer bundle that publishes a Resource Processor service that processes configuration resources shipped in a
 Deployment Package.&amp;lt;/Bundle-Description&amp;gt;
                         &amp;lt;Bundle-Vendor&amp;gt;Apache Software Foundation&amp;lt;/Bundle-Vendor&amp;gt;
-                        &amp;lt;Private-Package&amp;gt;org.apache.felix.deployment.rp.autoconf, org.apache.felix.metatype, org.apache.felix.metatype.internal.l10n, org.apach
e.felix.metatype.internal, org.kxml2.io;-split-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;:=merge-first, org.xmlpull.v1;-split-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;:=merge-first, org.osgi.service.metatype;-split-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;:=merge
-first&amp;lt;/Private-Package&amp;gt;
+                        &amp;lt;Private-Package&amp;gt;org.apache.felix.deployment.rp.autoconf, org.apache.felix.metatype, org.apache.felix.metatype.internal.l10n, org.apach
e.felix.metatype.internal, org.kxml2.io;-split-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;:=merge-first, org.xmlpull.v1;-split-&lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt;:=merge-first&amp;lt;/Private-Package&amp;gt;
                         &amp;lt;Export-Package&amp;gt;org.osgi.service.deploymentadmin.spi;version=&lt;span class=&quot;code-quote&quot;&gt;&quot;1.0&quot;&lt;/span&gt;&amp;lt;/Export-Package&amp;gt;
                         &amp;lt;DeploymentPackage-Customizer&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;lt;/DeploymentPackage-Customizer&amp;gt;
                         &amp;lt;Deployment-ProvidesResourceProcessor&amp;gt;org.osgi.deployment.rp.autoconf&amp;lt;/Deployment-ProvidesResourceProcessor&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12543279">FELIX-3355</key>
            <summary>Autoconf can&apos;t find Metatype service</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="bramk">Bram de Kruijff</reporter>
                        <labels>
                    </labels>
                <created>Sun, 19 Feb 2012 22:24:33 +0000</created>
                <updated>Tue, 1 Apr 2014 12:48:26 +0000</updated>
                            <resolved>Fri, 15 Nov 2013 14:05:28 +0000</resolved>
                                    <version>autoconf-rp-0.1.0</version>
                                    <fixVersion>autoconf-rp-0.1.4</fixVersion>
                                    <component>Deployment Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13211824" author="marrs" created="Mon, 20 Feb 2012 13:01:30 +0000"  >&lt;p&gt;I agree that we should fix the import, preferably whilst still keeping the bundle self-contained. So that API package should be substitutable.&lt;/p&gt;

&lt;p&gt;I do not agree it is reasonable to require MetaTypeService as that would contradict the spec (115.3.4): &quot;If the reference cannot be found in this file, it must consult the Meta Type service (if present) for the bundle that is associated with the PID that is configured.&quot;. To me the &quot;if present&quot; clearly states that we must not require it.&lt;/p&gt;</comment>
                            <comment id="13640506" author="marrs" created="Wed, 24 Apr 2013 14:49:30 +0000"  >&lt;p&gt;Make sure we fix this for the next release.&lt;/p&gt;</comment>
                            <comment id="13823678" author="marrs" created="Fri, 15 Nov 2013 14:05:28 +0000"  >&lt;p&gt;Committed a fix.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>228525</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 1 week, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i00yev:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3507</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>