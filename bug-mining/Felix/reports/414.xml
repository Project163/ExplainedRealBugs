<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:10:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1183] iPOJO JMX handler doesn&apos;t rethrow exceptions </title>
                <link>https://issues.apache.org/jira/browse/FELIX-1183</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;When we create an MBean with iPOJO (metadata-based dynamic MBean), if any method invoke throws an exception, the exception is not rethrown to the caller.&lt;/p&gt;

&lt;p&gt;Instead, the exception&apos;s stack trace is printed back on the OSGi gateway&apos;s system.out and the JMX caller gets a &quot;null&quot; return.&lt;/p&gt;

&lt;p&gt;Normally, we expect the JMX call to throw an exception if the MBean has thrown one.&lt;/p&gt;</description>
                <environment>SNAPSHOT version, SVN revision 37639</environment>
        <key id="12426442">FELIX-1183</key>
            <summary>iPOJO JMX handler doesn&apos;t rethrow exceptions </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clement.escoffier">Clement Escoffier</assignee>
                                    <reporter username="alitokmen">S. Ali Tokmen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 May 2009 09:28:52 +0000</created>
                <updated>Wed, 29 Jul 2009 08:03:01 +0000</updated>
                            <resolved>Sat, 30 May 2009 10:03:53 +0000</resolved>
                                    <version>iPOJO-1.0.0</version>
                                    <fixVersion>iPOJO-1.4.0</fixVersion>
                                    <component>iPOJO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                    <workratio workratioPercent="0"/>
                                                                    <timeoriginalestimate seconds="0">0h</timeoriginalestimate>
                            <timeestimate seconds="0">0h</timeestimate>
                                        <comments>
                            <comment id="12713489" author="alitokmen" created="Wed, 27 May 2009 09:29:48 +0000"  >&lt;p&gt;I guess I&apos;ve found the source of the issue:&lt;/p&gt;

&lt;p&gt;Class: org.apache.felix.ipojo.handlers.jmx.DynamicMBeanImpl&lt;br/&gt;
Method: invoke (line 159)&lt;/p&gt;

&lt;p&gt;I see that method has a clear &quot;printStackTrace&quot; call. It should instead throw it back to the caller.&lt;/p&gt;</comment>
                            <comment id="12713967" author="pierre.bourret" created="Thu, 28 May 2009 12:43:03 +0000"  >&lt;p&gt;The invoke method displays the exceptions on the gateway. According to the JMX API, it must wrap the called method exception in a MBeanException, and re-throw it, in order to advise the caller. &lt;/p&gt;

&lt;p&gt;As the InvocationTargetException (thrown from the Callback.call() method) wraps a Throwable, not an Exception, it is directly wrapped in the MBeanException. So if the method throws an exception e , here is the exceptions chain received by the caller :&lt;/p&gt;

&lt;p&gt;     MBeanException&lt;br/&gt;
     ...&lt;br/&gt;
     Caused by : InvocationTargetException&lt;br/&gt;
     ...&lt;br/&gt;
     Caused by : e&lt;/p&gt;

&lt;p&gt;Any reflection exception while trying to invoke the method will result in a ReflectionException (wrapping the cause).&lt;/p&gt;

&lt;p&gt;The patch should follow very shortly.&lt;/p&gt;

&lt;p&gt;Thx to the reporter for identifying the source of this issue so fast...&lt;/p&gt;</comment>
                            <comment id="12714381" author="alitokmen" created="Fri, 29 May 2009 09:51:13 +0000"  >&lt;p&gt;Thanks, Pierre&lt;/p&gt;

&lt;p&gt;I&apos;ll get you a pint at O&apos;Callaghan shortly&lt;/p&gt;</comment>
                            <comment id="12714691" author="clement.escoffier" created="Sat, 30 May 2009 10:03:51 +0000"  >&lt;p&gt;Fixed at revision 780224.&lt;br/&gt;
I just applied the patch and check that everything is still working correctly.&lt;/p&gt;

&lt;p&gt;I also deployed a the JMX handler on apache.snapshot (so, you should be able to check it Tuesday. &lt;br/&gt;
Please close the issue if it&apos;s ok for you.&lt;/p&gt;

&lt;p&gt;Pierre, Thanks for this patch.&lt;/p&gt;

&lt;p&gt;PS: Can I also have a pint at O&apos;Callaghan during my next trip to Grenoble &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ?&lt;/p&gt;</comment>
                            <comment id="12715416" author="alitokmen" created="Tue, 2 Jun 2009 08:23:36 +0000"  >&lt;p&gt;Thanks. Tests on our side seem to pass.&lt;/p&gt;

&lt;p&gt;PS: We don&apos;t use apache.snapshot, we have our internal Hudson that enjoys recompiling many Apache projects...&lt;br/&gt;
PPS: sure you can, Cl&#233;ment &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="12736518" author="clement.escoffier" created="Wed, 29 Jul 2009 08:03:01 +0000"  >&lt;p&gt;Fixed in the iPOJO-1.4.0 version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12409260" name="JMX-handler-rethrow-exceptions.patch" size="1320" author="pierre.bourret" created="Thu, 28 May 2009 12:43:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57835</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 18 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1arsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270969</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>