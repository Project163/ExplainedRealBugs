<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:42:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3557] Tests for DS circular dependency behavior</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3557</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The DS spec is pretty confused about circular dependencies between DS services.  I wrote some tests to try to make better sense of the situation.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12560835">FELIX-3557</key>
            <summary>Tests for DS circular dependency behavior</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="djencks">David Jencks</assignee>
                                    <reporter username="djencks">David Jencks</reporter>
                        <labels>
                    </labels>
                <created>Fri, 15 Jun 2012 21:34:03 +0000</created>
                <updated>Tue, 11 Nov 2014 22:26:36 +0000</updated>
                            <resolved>Tue, 16 Oct 2012 19:35:34 +0000</resolved>
                                    <version> scr-1.6.0</version>
                                    <fixVersion>scr-1.6.2</fixVersion>
                                    <component>Declarative Services (SCR)</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13396399" author="djencks" created="Tue, 19 Jun 2012 00:14:19 +0000"  >&lt;p&gt;It&apos;s not too hard to track missing services and try again when they become available.  Unfortunately you have to try again in a different thread due to anti-circular-service-lookup code in felix core framework.&lt;/p&gt;</comment>
                            <comment id="13466378" author="djencks" created="Sun, 30 Sep 2012 01:08:09 +0000"  >&lt;p&gt;Attempt to retry dependencies that could not be obtained originally when they do show up.  This is a proof of concept at this point, we need to at least only track dependencies that are DS components so we will be able to detect when they are available.&lt;/p&gt;</comment>
                            <comment id="13477277" author="djencks" created="Tue, 16 Oct 2012 19:35:34 +0000"  >&lt;p&gt;r1398942&lt;br/&gt;
compared with patch, added check that the service we are waiting for is actually from scr.&lt;/p&gt;</comment>
                            <comment id="13501010" author="fmeschbe" created="Tue, 20 Nov 2012 10:58:13 +0000"  >&lt;p&gt;Close after release&lt;/p&gt;</comment>
                            <comment id="14207121" author="cleanerx" created="Tue, 11 Nov 2014 21:36:09 +0000"  >&lt;p&gt;I have a probably related case and I am unsure if this is fixed by this issue:&lt;br/&gt;
I have two components that both mandatory require component A. The sequence is&lt;br/&gt;
1. ConsumerA#bind(A)&lt;br/&gt;
2. Scr Instantiates A via ServiceUse#getService&lt;br/&gt;
3. A has no dependencies and is instantiated&lt;br/&gt;
4. A bundle event occurs firing newly enabled components to resolve&lt;br/&gt;
5. ConsumerB is immediate and synchrnously binds via ConsomerB#bind(A) since A is now available&lt;br/&gt;
6. Scr tries to retrieve the Service again via ServiceUse#getService&lt;br/&gt;
Since this all happens in the same stack, I get a circularity problem where I would not expect one.&lt;br/&gt;
I suspect loading this or another component triggered the bundle event causing the circularity.&lt;br/&gt;
Is this a new problem or is it solved by the fix ?&lt;/p&gt;</comment>
                            <comment id="14207201" author="cleanerx" created="Tue, 11 Nov 2014 22:26:36 +0000"  >&lt;p&gt;I was under the impression that equinox used the ds implementation. I just found out that this is not the case so you can ignore my comment.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12439404">FELIX-1824</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12467895">FELIX-2450</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12532485" name="FELIX-3557-add-missing-refs-later.diff" size="9335" author="djencks" created="Tue, 19 Jun 2012 00:14:19 +0000"/>
                            <attachment id="12547137" name="FELIX-3557-circ-dep-later-2.diff" size="10933" author="djencks" created="Sun, 30 Sep 2012 01:08:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246063</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 2 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07h3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41535</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>