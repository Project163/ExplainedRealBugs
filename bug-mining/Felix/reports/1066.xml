<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:18:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1473] [gogo] The syntax does not provide a way to call methods on a string</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1473</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;When the first argument is a string, gogo considers it to be a command.&lt;br/&gt;
The problem is that it leads to unpredictible behavior when using variables&lt;/p&gt;

&lt;p&gt;&amp;gt; $a length&lt;/p&gt;

&lt;p&gt;Depending on the type of $a, it will either try to call a command named by the value of $a, or call the length method on the $a object.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12432850">FELIX-1473</key>
            <summary>[gogo] The syntax does not provide a way to call methods on a string</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="db82407">Derek Baum</assignee>
                                    <reporter username="gnodet">Guillaume Nodet</reporter>
                        <labels>
                    </labels>
                <created>Wed, 12 Aug 2009 07:58:01 +0000</created>
                <updated>Tue, 21 Sep 2010 19:04:50 +0000</updated>
                            <resolved>Wed, 30 Jun 2010 12:06:16 +0000</resolved>
                                    <version>gogo-0.6.0</version>
                                    <fixVersion>gogo-0.6.1</fixVersion>
                                    <component>Gogo Runtime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12747880" author="db82407" created="Wed, 26 Aug 2009 10:19:55 +0000"  >&lt;p&gt;gogo command or method execution depends on the type of the command object,&lt;br/&gt;
as described in Closure.execute():&lt;/p&gt;

&lt;p&gt;        // Now there are the following cases&lt;br/&gt;
        // &amp;lt;string&amp;gt; &apos;=&apos; statement // complex assignment&lt;br/&gt;
        // &amp;lt;string&amp;gt; statement // cmd call&lt;br/&gt;
        // &amp;lt;object&amp;gt; // value of &amp;lt;object&amp;gt;&lt;br/&gt;
        // &amp;lt;object&amp;gt; statement // method call&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-1473&quot; title=&quot;[gogo] The syntax does not provide a way to call methods on a string&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-1473&quot;&gt;&lt;del&gt;FELIX-1473&lt;/del&gt;&lt;/a&gt;.patch adds an experimental &apos;.&apos; operator to force the command&lt;br/&gt;
to be treated as a reflective method call.&lt;/p&gt;

&lt;p&gt;This allows methods to be called on String objects:&lt;/p&gt;

&lt;p&gt;% x = &quot;hello world&quot;    &lt;br/&gt;
hello world&lt;/p&gt;

&lt;p&gt;% $x . startsWith hello&lt;br/&gt;
true&lt;/p&gt;

&lt;p&gt;% $x . equals hello&lt;br/&gt;
false&lt;/p&gt;

&lt;p&gt;% $x . matches h.*d    &lt;br/&gt;
true&lt;/p&gt;

&lt;p&gt;% $x . split &apos; &apos;       &lt;br/&gt;
hello&lt;br/&gt;
world&lt;/p&gt;

&lt;p&gt;% $x . length&lt;br/&gt;
11&lt;/p&gt;

&lt;p&gt;This experimental . operator is also useful for chaining method invocations:&lt;/p&gt;


&lt;p&gt;% pwd = &amp;lt;new java.io.File .&amp;gt;&lt;br/&gt;
.&lt;/p&gt;

&lt;p&gt;% $pwd . touri . resolve bin . resolve ../etc&lt;br/&gt;
&lt;a href=&quot;file:/Users/derek/devl/Zebedee/etc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/Users/derek/devl/Zebedee/etc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;% &amp;lt;&amp;lt;$pwd touri&amp;gt; resolve bin&amp;gt; resolve ../etc  &lt;br/&gt;
&lt;a href=&quot;file:/Users/derek/devl/Zebedee/etc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:/Users/derek/devl/Zebedee/etc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The first example (using .) is easier to type and read than the one using &amp;lt;&amp;gt;&lt;/p&gt;



</comment>
                            <comment id="12864596" author="db82407" created="Thu, 6 May 2010 00:16:02 +0000"  >&lt;p&gt;typing a period(.) after a command, forces reflective method invocation on String, rather than trying to invoke a command.&lt;/p&gt;

&lt;p&gt;This allows the use of all the methods on String, for example:&lt;/p&gt;

&lt;p&gt;x = (method args..)&lt;/p&gt;

&lt;p&gt;if &lt;/p&gt;
{ $x . startsWith /}
&lt;p&gt; &lt;/p&gt;
{...}</comment>
                            <comment id="12883683" author="db82407" created="Tue, 29 Jun 2010 20:33:10 +0000"  >&lt;p&gt;a better solution to this issue has been proposed:&lt;/p&gt;

&lt;p&gt;currently any command object that implements CharSequence is treated as a command, so it is impossible to call String methods. For example:&lt;/p&gt;

&lt;p&gt;if {$HOSTNAME endsWith .com} &lt;/p&gt;
{...} // this fails with &apos;command not found: my.host.name&apos;&lt;br/&gt;
&lt;br/&gt;
The current solution uses the period to force method invocation, for example:&lt;br/&gt;
&lt;br/&gt;
if {$HOSTNAME . endsWith .com} {...}

&lt;p&gt;The new proposal is to only treat &apos;bare&apos; words as commands and to treat everything else as method calls. For example:&lt;/p&gt;

&lt;p&gt;if {$HOSTNAME endsWith .com} &lt;/p&gt;
{...}
&lt;p&gt; // $HOSTNAME is NOT a bareword as it is a variable expansion, so this works as expected&lt;/p&gt;

&lt;p&gt;g! cmd = echo&lt;br/&gt;
g! $cmd hello // fails with &apos;can&apos;t coerce hello() to any of []&apos;&lt;/p&gt;

&lt;p&gt;The above fails, as there is no method &quot;hello&quot; on the String object &apos;echo&apos;;&lt;br/&gt;
To make the indirect command expansion above work, we need to introduce an osgi:eval command:&lt;/p&gt;

&lt;p&gt;g! eval $cmd hello&lt;br/&gt;
hello&lt;/p&gt;

</comment>
                            <comment id="12883899" author="db82407" created="Wed, 30 Jun 2010 12:06:16 +0000"  >&lt;p&gt;use new approach to call methods on Strings.&lt;/p&gt;

&lt;p&gt;e.g. this now works:&lt;/p&gt;

&lt;p&gt;g! $SCOPE length&lt;br/&gt;
6&lt;/p&gt;

&lt;p&gt;g! cmd = echo&lt;br/&gt;
echo&lt;br/&gt;
g! $cmd hello&lt;br/&gt;
gogo: IllegalArgumentException: Cannot coerce hello() to any of []&lt;br/&gt;
g!         &lt;br/&gt;
g! eval $cmd hello&lt;br/&gt;
hello&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12417725" name="FELIX-1473.patch" size="1502" author="db82407" created="Wed, 26 Aug 2009 10:19:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57551</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 22 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vsxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183661</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>