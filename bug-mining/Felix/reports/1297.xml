<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:25:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2948] scr-maven-plugin fails with org.maven.ide.eclipse plugin (exploded bundle)</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2948</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;scr-maven-plugin fails with org.maven.ide.eclipse plugin (exploded bundle)&lt;/p&gt;


&lt;p&gt;1) when you run scr-maven-plugin in the eclipse ide with m2e plugin&lt;br/&gt;
then it seems at first to work fine:&lt;/p&gt;

&lt;p&gt;a) import this project in the eclipse with help of m2e:&lt;br/&gt;
&lt;a href=&quot;https://github.com/carrot-garden/carrot-bugger/tree/master/carrot-bug-scr-maven-plugin-001&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrot-garden/carrot-bugger/tree/master/carrot-bug-scr-maven-plugin-001&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;b) and run &quot;eclipse -&amp;gt; project -&amp;gt; clean&quot;; it produces this success log:&lt;br/&gt;
&lt;a href=&quot;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-001/doc-inf/build-m2e.log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-001/doc-inf/build-m2e.log&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;2) but when your try&lt;/p&gt;

&lt;p&gt;a) a second project which depends on first:&lt;br/&gt;
&lt;a href=&quot;https://github.com/carrot-garden/carrot-bugger/tree/master/carrot-bug-scr-maven-plugin-002&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrot-garden/carrot-bugger/tree/master/carrot-bug-scr-maven-plugin-002&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;b) then &quot;eclipse -&amp;gt; project -&amp;gt; clean&quot; now produces the following failure log:&lt;br/&gt;
&lt;a href=&quot;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-002/doc-inf/build-m2e.log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-002/doc-inf/build-m2e.log&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;3) this is because scr-maven-plugin expects dependency to be in the jar form&lt;br/&gt;
but m2e instead (and appropriately) provides a path to the exploded bundle in the ./target/classes&lt;br/&gt;
of the dependency project (if it is a workspace project);&lt;/p&gt;


&lt;p&gt;4) the workaround is to disable workspace project resolution in m2e&lt;br/&gt;
but this impedes development speed considerably&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12507064">FELIX-2948</key>
            <summary>scr-maven-plugin fails with org.maven.ide.eclipse plugin (exploded bundle)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="andrei.pozolotin">Andrei Pozolotin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 13 May 2011 00:19:19 +0000</created>
                <updated>Thu, 28 Jul 2011 08:54:38 +0000</updated>
                            <resolved>Thu, 19 May 2011 06:00:45 +0000</resolved>
                                    <version>maven-scr-plugin-1.7.0</version>
                    <version>scr ant task 1.1.0</version>
                    <version>scr generator 1.1.0</version>
                                    <fixVersion>maven-scr-plugin-1.7.2</fixVersion>
                    <fixVersion>scr ant task 1.1.2</fixVersion>
                    <fixVersion>scr generator 1.1.2</fixVersion>
                                    <component>SCR Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13032829" author="cziegeler" created="Fri, 13 May 2011 05:35:27 +0000"  >&lt;p&gt;This looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2878&quot; title=&quot;scr- and bundle-plugin in multimodule project fails with goal &amp;quot;test&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2878&quot;&gt;&lt;del&gt;FELIX-2878&lt;/del&gt;&lt;/a&gt;  to me, can you please try latest from scr plugin from svn?&lt;/p&gt;</comment>
                            <comment id="13033046" author="andrei.pozolotin" created="Fri, 13 May 2011 14:05:51 +0000"  >&lt;p&gt;1) yes, the error message is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2878&quot; title=&quot;scr- and bundle-plugin in multimodule project fails with goal &amp;quot;test&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2878&quot;&gt;&lt;del&gt;FELIX-2878&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;2) I updated both projects to latest snapshots&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-001/pom.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-001/pom.xml&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-002/pom.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-002/pom.xml&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&amp;lt;artifactId&amp;gt;org.apache.felix.scr.annotations&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&amp;lt;version&amp;gt;1.5.3-SNAPSHOT&amp;lt;/version&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&amp;lt;artifactId&amp;gt;maven-scr-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&amp;lt;version&amp;gt;1.7.1-SNAPSHOT&amp;lt;/version&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;&lt;br/&gt;
&amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
&amp;lt;version&amp;gt;2.3.5-SNAPSHOT&amp;lt;/version&amp;gt;&lt;/p&gt;

&lt;p&gt;3) I still have the same error on eclipse-&amp;gt;clean invocation on project #2&lt;/p&gt;

&lt;p&gt;5/13/11 8:56:17 AM CDT: &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Unable to get scrinfo from artifact at /home/user1/Workspaces/github/carrot-bugger/carrot-bug-scr-maven-plugin-001/target/classes:0&lt;br/&gt;
5/13/11 8:56:17 AM CDT: Build errors for carrot-bug-scr-maven-plugin-002; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-scr-plugin:1.7.1-SNAPSHOT:scr (scr) on project carrot-bug-scr-maven-plugin-002: SCR Descriptor parsing had failures (see log)&lt;/p&gt;

&lt;p&gt;4) the difference from &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2878&quot; title=&quot;scr- and bundle-plugin in multimodule project fails with goal &amp;quot;test&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2878&quot;&gt;&lt;del&gt;FELIX-2878&lt;/del&gt;&lt;/a&gt; is that here it is not a command line mvn run, but rather an embedded maven 3.0.0-XXX invocation from m2e plugin (eclipse maven builder) which does special class path substitutions for artifacts that are local workspace projects (this is analogues to the way felix handles &quot;reference:file:&quot;  url for exploded bundles)&lt;/p&gt;

</comment>
                            <comment id="13034081" author="cziegeler" created="Mon, 16 May 2011 16:25:32 +0000"  >&lt;p&gt;Can you please append the whole stacktrace for the exception?&lt;/p&gt;</comment>
                            <comment id="13034321" author="andrei.pozolotin" created="Mon, 16 May 2011 21:20:33 +0000"  >&lt;p&gt;success log on frist project:&lt;br/&gt;
&lt;a href=&quot;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-001/doc-inf/build-m2e-debug.log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-001/doc-inf/build-m2e-debug.log&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;failure log on second project:&lt;br/&gt;
&lt;a href=&quot;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-002/doc-inf/build-m2e-debug.log&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/carrot-garden/carrot-bugger/blob/master/carrot-bug-scr-maven-plugin-002/doc-inf/build-m2e-debug.log&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13034328" author="andrei.pozolotin" created="Mon, 16 May 2011 21:28:03 +0000"  >&lt;p&gt;1) error complains about missing manifest, etc in target/classes:&lt;/p&gt;

&lt;p&gt;5/16/11 4:13:42 PM CDT: &lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Trying to get manifest from artifact /home/user1/Workspaces/github/carrot-bugger/carrot-bug-scr-maven-plugin-001/target/classes&lt;br/&gt;
5/16/11 4:13:42 PM CDT: &lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Unable to get manifest from artifact /home/user1/Workspaces/github/carrot-bugger/carrot-bug-scr-maven-plugin-001/target/classes&lt;br/&gt;
5/16/11 4:13:42 PM CDT: &lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; Trying to get scrinfo from artifact /home/user1/Workspaces/github/carrot-bugger/carrot-bug-scr-maven-plugin-001/target/classes&lt;br/&gt;
5/16/11 4:13:42 PM CDT: &lt;span class=&quot;error&quot;&gt;&amp;#91;DEBUG&amp;#93;&lt;/span&gt; ..generating descriptor for spec version: null&lt;br/&gt;
5/16/11 4:13:42 PM CDT: &lt;span class=&quot;error&quot;&gt;&amp;#91;ERROR&amp;#93;&lt;/span&gt; Unable to get scrinfo from artifact at /home/user1/Workspaces/github/carrot-bugger/carrot-bug-scr-maven-plugin-001/target/classes:0&lt;br/&gt;
5/16/11 4:13:42 PM CDT: Build errors for carrot-bug-scr-maven-plugin-002; org.apache.maven.lifecycle.LifecycleExecutionException: Failed to execute goal org.apache.felix:maven-scr-plugin:1.7.1-SNAPSHOT:scr (scr) on project carrot-bug-scr-maven-plugin-002: SCR Descriptor parsing had failures (see log)&lt;/p&gt;


&lt;p&gt;2) but first project has them:&lt;/p&gt;

&lt;p&gt;#:~/Workspaces/github/carrot-bugger/carrot-bug-scr-maven-plugin-001/target$ ls -R&lt;br/&gt;
.:&lt;br/&gt;
classes  test-classes&lt;/p&gt;

&lt;p&gt;./classes:&lt;br/&gt;
case_01  META-INF  OSGI-INF&lt;/p&gt;

&lt;p&gt;./classes/case_01:&lt;br/&gt;
HostServiceConsumer.class&lt;/p&gt;

&lt;p&gt;./classes/META-INF:&lt;br/&gt;
MANIFEST.MF&lt;/p&gt;

&lt;p&gt;./classes/OSGI-INF:&lt;br/&gt;
scr-plugin  serviceComponents.xml&lt;/p&gt;

&lt;p&gt;./classes/OSGI-INF/scr-plugin:&lt;br/&gt;
scrinfo.xml&lt;/p&gt;

&lt;p&gt;./test-classes:&lt;/p&gt;</comment>
                            <comment id="13034617" author="cziegeler" created="Tue, 17 May 2011 07:38:44 +0000"  >&lt;p&gt;It seems that I only fixed one place in &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-2878&quot; title=&quot;scr- and bundle-plugin in multimodule project fails with goal &amp;quot;test&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-2878&quot;&gt;&lt;del&gt;FELIX-2878&lt;/del&gt;&lt;/a&gt;; I&apos;ve now committed a new fix in revision 1104035 which should solve the problem - it checks whether an artifact is a jar file or a directory.&lt;br/&gt;
I&apos;ve deployed the snapshots - can you please give it a try?&lt;/p&gt;</comment>
                            <comment id="13035415" author="andrei.pozolotin" created="Wed, 18 May 2011 14:46:19 +0000"  >&lt;p&gt;Carsten:&lt;/p&gt;

&lt;p&gt;I tried maven-scr-plugin-1.7.1-20110517.073734-2.jar; it works! you are the best, thank you.&lt;/p&gt;

&lt;p&gt;Andrei.&lt;/p&gt;</comment>
                            <comment id="13036001" author="cziegeler" created="Thu, 19 May 2011 06:00:45 +0000"  >&lt;p&gt;Thanks for testing!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56037</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vwp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184270</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>