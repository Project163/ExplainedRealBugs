<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:22:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2796] felix.auto.deploy.action throws NPE with only &quot;update&quot; action</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2796</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;I used: &lt;/p&gt;

&lt;p&gt;felix.auto.deploy.action=install,update,start&lt;/p&gt;

&lt;p&gt;and expected it to update a bundle when I overwrite the jar file in the deploy dir and restart the framework.&lt;br/&gt;
Felix simply ignores and no update is done to the bundle regardless the jar file has been updated.&lt;/p&gt;

&lt;p&gt;if I used:&lt;/p&gt;

&lt;p&gt;felix.auto.deploy.actioin=update&lt;/p&gt;

&lt;p&gt;Felix would not be able to start. it would fail with NullPointerException.&lt;/p&gt;

&lt;p&gt;Generally, my goal was to auto update bundles with their jar files updated in the folder whenever felix is restarted.&lt;/p&gt;
</description>
                <environment>JDK6, Win7</environment>
        <key id="12496433">FELIX-2796</key>
            <summary>felix.auto.deploy.action throws NPE with only &quot;update&quot; action</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="zzhou">Zhou</reporter>
                        <labels>
                    </labels>
                <created>Sun, 23 Jan 2011 12:49:22 +0000</created>
                <updated>Mon, 21 Feb 2011 09:30:34 +0000</updated>
                            <resolved>Thu, 10 Feb 2011 17:35:24 +0000</resolved>
                                    <version>framework-3.0.5</version>
                                    <fixVersion>framework-3.0.9</fixVersion>
                                    <component>Main</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12985352" author="rickhall" created="Sun, 23 Jan 2011 16:09:39 +0000"  >&lt;p&gt;The intent is as you describe, to automatically update the bundles in the auto-deploy directory each time the framework is started. I just did a test and it worked for me. I even tried it with only update and I didn&apos;t see an NPE. Note that if you only have update, update will cause any bundles to be installed, only updated if they are already installed.&lt;/p&gt;

&lt;p&gt;Perhaps you could create a working framework install directory where this is failing and archive it up and attach it to this issue.&lt;/p&gt;</comment>
                            <comment id="12988531" author="zzhou" created="Sun, 30 Jan 2011 02:53:31 +0000"  >&lt;p&gt;Now I seem unable to reproduce my first issue, i.e. restart felix with no update done for the new jar. Probably that had to do with my messing around the other day on the configuration and mixing different deploy methods.&lt;/p&gt;

&lt;p&gt;The NPE issue can be reproduced with my attached setup. You can simply unzip the file, browse to the bin folder, and run &quot;run.bat&quot;. I can imagine that could be caused by an attempt to update a not yet existent bundle. This is however not a big issue since I can just use action=install,update,start instead.&lt;/p&gt;

&lt;p&gt;As far as I can see, auto deploy cannot play with felix.auto.start.x options. My attempt was to enforce a start level on bundles installed/updated by the auto deploy method. but now it proves to be a wrong idea. Fortunately, I&apos;ve managed to achieve all my deploy goals with the latest fileinstall. So I wont need to rely on either auto deploy or auto start options.&lt;/p&gt;</comment>
                            <comment id="12993131" author="rickhall" created="Thu, 10 Feb 2011 17:31:51 +0000"  >&lt;p&gt;I am definitely able to reproduce your NPE with the attached archive, thanks for providing it. We need to check if the bundle is actually installed before calling update on it.&lt;/p&gt;</comment>
                            <comment id="12993133" author="rickhall" created="Thu, 10 Feb 2011 17:35:02 +0000"  >&lt;p&gt;Regarding your original attempt to use auto-deploy and auto-start mechanisms together, in theory, this should work, but it wasn&apos;t exactly intended to be used that way. To make it work, you&apos;d have to make sure to use the absolute URL on the auto-start property, because bundles installed via the auto-deploy directory end up using their absolute path as their location URL.&lt;/p&gt;</comment>
                            <comment id="12993134" author="rickhall" created="Thu, 10 Feb 2011 17:35:24 +0000"  >&lt;p&gt;Committed a fix for this. Please close if you are satisfied, thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12469762" name="FELIX-2796.zip" size="550787" author="zzhou" created="Sun, 30 Jan 2011 02:55:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>18571</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 41 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aqi7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60567</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>