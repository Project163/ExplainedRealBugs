<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:58:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4945] Escaped folder names makes ConfigAdmin incompatible and factory configs not always work</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4945</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The fix of &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4302&quot; title=&quot;Config Admin can create illegal names on windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4302&quot;&gt;&lt;del&gt;FELIX-4302&lt;/del&gt;&lt;/a&gt; raises other issues:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Old configurations that start with reserved names, are not read and components are not instantiated&lt;/li&gt;
	&lt;li&gt;The same configurations are not working on windows and other operating systems anymore. Till now, we could copy the configuration folder between computers with different operating system and it worked pretty well&lt;/li&gt;
	&lt;li&gt;Strangely, factory.config files from old configurations were found, but the actual configuration files were not&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This issues come from the fix of &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4302&quot; title=&quot;Config Admin can create illegal names on windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4302&quot;&gt;&lt;del&gt;FELIX-4302&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I would suggest that instead of&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;having a Set winDevNames in FilePersist and&lt;/li&gt;
	&lt;li&gt;callng winDevNames.equals(dir.substring(0, 3))&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;create a separate function like isReservedName and handle the different names separately. E.g.: directory names starting with &quot;com&quot; should be escaped only if there is a number afterwards and nothing else.&lt;/p&gt;

&lt;p&gt;Handle reserved names in the same way on every operating system!!! Now the  configuration that works on windows, will not work on linux (if we simply copy the configuration folders to another system).&lt;/p&gt;</description>
                <environment></environment>
        <key id="12841667">FELIX-4945</key>
            <summary>Escaped folder names makes ConfigAdmin incompatible and factory configs not always work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="balazs.zsoldos">Balazs Zsoldos</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jun 2015 11:26:57 +0000</created>
                <updated>Mon, 10 Aug 2015 07:11:05 +0000</updated>
                            <resolved>Thu, 30 Jul 2015 14:08:03 +0000</resolved>
                                    <version>configadmin-1.8.6</version>
                                    <fixVersion>configadmin-1.8.8</fixVersion>
                                    <component>Configuration Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14608146" author="balazs.zsoldos" created="Tue, 30 Jun 2015 11:30:59 +0000"  >&lt;p&gt;I left the priority of the issue as default. However, this is a blocker issue for everyone who had folder names started with reserved words in windows.&lt;/p&gt;</comment>
                            <comment id="14614466" author="cziegeler" created="Mon, 6 Jul 2015 00:57:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=balazs.zsoldos&quot; class=&quot;user-hover&quot; rel=&quot;balazs.zsoldos&quot;&gt;balazs.zsoldos&lt;/a&gt; Are all issues mentioned here only happening on windows?&lt;/p&gt;</comment>
                            <comment id="14614669" author="balazs.zsoldos" created="Mon, 6 Jul 2015 07:52:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=cziegeler&quot; class=&quot;user-hover&quot; rel=&quot;cziegeler&quot;&gt;cziegeler&lt;/a&gt; Yes. See the usage of &lt;em&gt;winDevNames&lt;/em&gt; variable in &lt;em&gt;FilePersistentManager&lt;/em&gt; class.&lt;/p&gt;

&lt;p&gt;The other issue is that by storing files on windows in a different way, the same configuration cannot be moved between operating systems. That is why I said that although these names are not preserved on Linux or Mac, they should be handled in the same way as in Windows.&lt;/p&gt;</comment>
                            <comment id="14614674" author="balazs.zsoldos" created="Mon, 6 Jul 2015 07:54:41 +0000"  >&lt;p&gt;Shall I prepare a patch that:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Uses a regular expressions to check if a folder name is preserved instead of startsWith (e.g.: com1 will be preserved but component will not)&lt;/li&gt;
	&lt;li&gt;Handles folder names in the same way on every operating system&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;If there is a chance that it is accepted, I will spend some time to prepare the patch.&lt;/p&gt;</comment>
                            <comment id="14615752" author="cziegeler" created="Mon, 6 Jul 2015 22:08:15 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=balazs.zsoldos&quot; class=&quot;user-hover&quot; rel=&quot;balazs.zsoldos&quot;&gt;balazs.zsoldos&lt;/a&gt; A patch is definitely welcome.&lt;br/&gt;
I&apos;m not so sure about handling the folder names the same on every operating system. I see the reason behind it. If we do this, it must be compatible to the current way, which means on non windows systems the old configs need to be read correctly and maybe then converted?&lt;/p&gt;</comment>
                            <comment id="14647605" author="balazs.zsoldos" created="Thu, 30 Jul 2015 13:20:45 +0000"  >&lt;p&gt;I created a pull request, that escapes only those folder names on windows that are truly reserved words. By applying this patch, configadmin will be compatible with version 1.8.2 again.&lt;/p&gt;

&lt;p&gt;Pull request: &lt;a href=&quot;https://github.com/apache/felix/pull/32&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/felix/pull/32&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14647661" author="cziegeler" created="Thu, 30 Jul 2015 14:08:03 +0000"  >&lt;p&gt;Thanks for your patch Balazs, it&apos;s applied in rev 1693428&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 16 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gokf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>