<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:31:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3009] Abstract classes as service specifications generates warnings at runtime</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3009</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;For API compatibility reason, we&apos;re inclined to use only abstract classes, not interfaces.&lt;br/&gt;
Releasing a versioned API, we want pieces of software based against any further version of the API to remain compatible with previous API versions even if methods have been added. Using abstract methods, we provide default implementations for every new method, ensuring that pieces of software developped using this API remain usable.&lt;/p&gt;

&lt;p&gt;We therefore end up having abstract classes both for @Requires and @Provides annotations.&lt;br/&gt;
We noticed runtime warnings are being printed by iPOJO.&lt;/p&gt;


&lt;p&gt;Firstly, for service requirements, such warnings are printed:&lt;br/&gt;
	(ERROR) &lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; com.SomeComponent : Proxies cannot be used on service dependency targetting non interface service specification com.AnAbstractClass&lt;br/&gt;
Disabling proxies (through annotation parameters or the &quot;ipojo.proxy&quot; system property) prevents the warning from being printed. But shouldn&apos;t proxies still be working with abstract classes? I&apos;m quoting Peter Kriens&apos;s answer to the mail I sent to the users mailing-list subject, &quot;Abstract classes as service specifications&quot;: &quot;There is actually no technical reason why you could not proxy with classes as long as they&apos;re not final. With iPOJO&apos;s byte weaving capabilities already in place you can easily create a subclass.&quot;.&lt;br/&gt;
The matter here is therefore to know whether or not proxies should be disabled with non final classes, since iPOJO should be (is?) able to handle those.&lt;/p&gt;



&lt;p&gt;Secondly, for service specifications, we get those:&lt;br/&gt;
	(ERROR) &lt;span class=&quot;error&quot;&gt;&amp;#91;WARNING&amp;#93;&lt;/span&gt; com.AnotherComponent : The specification com.AnAbstractClassSpecification is not implemented by com.AnotherComponent it might be a superclass or the class itself.&lt;br/&gt;
Although, when look at com.A implementation, we have:&lt;br/&gt;
public class AnotherComponent extends AbstractClassSpecificationWithAdditions&lt;br/&gt;
with &lt;br/&gt;
public abstract class AbstractClassSpecificationWithAdditions extends AnAbstractClassSpecification&lt;/p&gt;

&lt;p&gt;While it&apos;s true that the specification is not &quot;implemented&quot;, it is still being provided. The specification is extended instead of being implemented.&lt;br/&gt;
I took a look at the code implementation, and this seems to be handled in ProvidedServiceHandler.java:&lt;br/&gt;
	all = computeInterfaces(serviceSpecification, parent, desc.getBundleContext().getBundle());&lt;br/&gt;
Where &quot;all&quot; is a Set of the known interfaces. When it&apos;ll go through the provided specifications, it will check if the provided interfaces are contained in that Set. If not, the warning is printed.&lt;br/&gt;
Could it be possible to also take a look at superclasses?&lt;/p&gt;

&lt;p&gt;Filed this as a bug, because non interface service requirements seem to be handled already and I&apos;m not sure the current behavior is expected. Might be an evolution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12511226">FELIX-3009</key>
            <summary>Abstract classes as service specifications generates warnings at runtime</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="clement.escoffier">Clement Escoffier</assignee>
                                    <reporter username="rmasson">R&#233;my Masson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Jun 2011 11:51:14 +0000</created>
                <updated>Mon, 14 May 2012 14:58:28 +0000</updated>
                            <resolved>Sun, 3 Jul 2011 18:23:36 +0000</resolved>
                                    <version>iPOJO-1.6.0</version>
                                    <fixVersion>ipojo-core-1.8.2</fixVersion>
                                    <component>iPOJO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13055650" author="clement.escoffier" created="Mon, 27 Jun 2011 16:54:06 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Do you mean the interfaces from the super class (should be done), or including the super class(es) into &apos;all&apos; ?&lt;/p&gt;

&lt;p&gt;Anyway, the warning should not be printed if the component class extends the super class&lt;/p&gt;</comment>
                            <comment id="13056368" author="rmasson" created="Tue, 28 Jun 2011 07:45:16 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;The interfaces from the super classes are already included, I think.&lt;br/&gt;
I did mean to include the super classes, one way or another. They could be added to the &apos;all&apos; set, which would allow the current check not to print the warning.&lt;/p&gt;</comment>
                            <comment id="13059249" author="clement.escoffier" created="Sun, 3 Jul 2011 18:23:36 +0000"  >&lt;p&gt;Fixed in trunk.&lt;/p&gt;

&lt;p&gt;Now, iPOJO collects extended classes and checks wether the defined specifications are part of the implemented interfaces, extended classes or the implementation class itself.&lt;/p&gt;</comment>
                            <comment id="13274652" author="clement.escoffier" created="Mon, 14 May 2012 14:58:28 +0000"  >&lt;p&gt;iPOJO Core 1.8.2 was released.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55983</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vybb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184532</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>