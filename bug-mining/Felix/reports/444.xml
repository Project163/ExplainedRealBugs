<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:10:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-1228] Felix File Install - Spaces in File Names</title>
                <link>https://issues.apache.org/jira/browse/FELIX-1228</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Note: In terms of creating a patch for this issue - there was already a patch created yesterday for a different issue relating to felix install. I don&apos;t think the patch has been released yet - so just to make sure there are not overwrites.&lt;/p&gt;

&lt;p&gt;Issue is below....&lt;/p&gt;

&lt;p&gt;Just in terms of the issue with the spaces, Guido suggested I put quotes around the directory. However this causes the system to go into an endless loop!&lt;/p&gt;

&lt;p&gt;Behaviour is as follows:&lt;br/&gt;
When I define felix.fileinstall.dir=watchedDir (i.e. without quotes), and when &apos;watchedDir&apos; actually resolves to E:\Documents and Settings\some\path\watchedDir, then I get the following error when I drop a bundle into that directory:&lt;/p&gt;

&lt;p&gt;ERROR    20090612 10:01:28 bid#11       - Failed to install bundle: /E:/Documents and Settings/some/path/watchedDir/print-service-0.0.2.jar (java.net.URISyntaxException: Illegal character in path at index 13: /E:/Documents and Settings/some/path/watchedDir/print-service-0.0.2.jar)&lt;br/&gt;
java.net.URISyntaxException: Illegal character in path at index 13: /E:/Documents and Settings/some/path/watchedDir/print-service-0.0.2.jar&lt;br/&gt;
       at java.net.URI$Parser.fail(Unknown Source)&lt;br/&gt;
       at java.net.URI$Parser.checkChars(Unknown Source)&lt;br/&gt;
       at java.net.URI$Parser.parseHierarchical(Unknown Source)&lt;br/&gt;
       at java.net.URI$Parser.parse(Unknown Source)&lt;br/&gt;
       at java.net.URI.&amp;lt;init&amp;gt;(Unknown Source)&lt;br/&gt;
       at org.apache.felix.fileinstall.Jar.&amp;lt;init&amp;gt;(Jar.java:58)&lt;br/&gt;
       at org.apache.felix.fileinstall.DirectoryWatcher.install(DirectoryWatche&lt;br/&gt;
r.java:686)&lt;br/&gt;
       at org.apache.felix.fileinstall.DirectoryWatcher.install(DirectoryWatche&lt;br/&gt;
r.java:587)&lt;br/&gt;
       at org.apache.felix.fileinstall.DirectoryWatcher.doInstalled(DirectoryWa&lt;br/&gt;
tcher.java:351)&lt;br/&gt;
       at org.apache.felix.fileinstall.DirectoryWatcher.run(DirectoryWatcher.ja&lt;br/&gt;
va:121)&lt;/p&gt;

&lt;p&gt;When I define felix.fileinstall.dir=&quot;watchedDir&quot; (i.e. with quotes around the directory) I get the endless loop, when I start up the container. here&apos;s a bit of the output:&lt;br/&gt;
ERROR    20090612 10:08:33 bid#11       - In main loop, we have serious trouble&lt;br/&gt;
(java.lang.NullPointerException)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
       at org.apache.felix.fileinstall.DirectoryWatcher.traverse(DirectoryWatch&lt;br/&gt;
er.java:439)&lt;br/&gt;
       at org.apache.felix.fileinstall.DirectoryWatcher.run(DirectoryWatcher.ja&lt;br/&gt;
va:120)&lt;br/&gt;
ERROR    20090612 10:08:33 bid#11       - In main loop, we have serious trouble&lt;br/&gt;
(java.lang.NullPointerException)&lt;br/&gt;
java.lang.NullPointerException&lt;br/&gt;
       at org.apache.felix.fileinstall.DirectoryWatcher.traverse(DirectoryWatch&lt;br/&gt;
er.java:439)&lt;br/&gt;
       at org.apache.felix.fileinstall.DirectoryWatcher.run(DirectoryWatcher.ja&lt;br/&gt;
va:120)&lt;/p&gt;

&lt;p&gt;(this is an endless loop of output)&lt;/p&gt;

&lt;p&gt;If I do the same things in a directory that doesn&apos;t contain spaces i.e. if I move the whole set up to directly under the E: directory, this doesn&apos;t happen.&lt;/p&gt;

&lt;p&gt;This is actually an issue since I can&apos;t guarantee that anyone else who will checkout and use this code will not be also on Windows and in their home directory (i.e. C:/Documents and Settings/${username}. Really it becomes useless to me as a project solution.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Fiona. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12427731">FELIX-1228</key>
            <summary>Felix File Install - Spaces in File Names</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="fmahon">fionamahon</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jun 2009 11:31:19 +0000</created>
                <updated>Wed, 17 Jun 2009 15:13:45 +0000</updated>
                            <resolved>Wed, 17 Jun 2009 15:13:45 +0000</resolved>
                                    <version> fileinstall-1.0.0</version>
                                    <fixVersion>fileinstall-1.2.0</fixVersion>
                                    <component>File Install</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12718828" author="sahoo" created="Fri, 12 Jun 2009 13:12:02 +0000"  >&lt;p&gt;We should try to treat the bundle location as a file path when it can&apos;t be converted to a URI. Attached patch addresses the issue. I tested it on Unix with watchedDir having space as well as watchedDir with files having space char in their name. &lt;br/&gt;
e.g., watchedDir=/tmp/foo bar/, where /tmp/foo bar/ contains &quot;foo baz.jar.&quot;&lt;/p&gt;

&lt;p&gt;Please test it on Windows and let us know.&lt;/p&gt;

&lt;p&gt;This patch does not affect files touched by patch uploaded for issue #1216. So, if you need to test both patches for 1216 and this issue, then you can apply both the patches.&lt;/p&gt;</comment>
                            <comment id="12719618" author="sahoo" created="Mon, 15 Jun 2009 16:14:39 +0000"  >&lt;p&gt;Fiona,&lt;/p&gt;

&lt;p&gt;Did you get a chance to test it on Windows? We are waiting for your feedback about the patch before integrating it. The sooner you do it, the better, else this bug may miss the next maintenance release.&lt;/p&gt;

&lt;p&gt;Sahoo&lt;/p&gt;</comment>
                            <comment id="12720625" author="sahoo" created="Wed, 17 Jun 2009 11:08:43 +0000"  >&lt;p&gt;In users@ alias, submitter has confirmed the patch to be working. SO, someone, please integrate it in workspace.&lt;/p&gt;</comment>
                            <comment id="12720704" author="rickhall" created="Wed, 17 Jun 2009 15:13:45 +0000"  >&lt;p&gt;Patch confirmed. Committed. Issue closed. Thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12410483" name="Felix-1228.patch" size="3456" author="sahoo" created="Fri, 12 Jun 2009 13:12:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>57790</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1arqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270959</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>