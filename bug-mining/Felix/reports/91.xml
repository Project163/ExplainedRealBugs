<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:05:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-306] Bundle plugin is incorrectly converting version numbers</title>
                <link>https://issues.apache.org/jira/browse/FELIX-306</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The bundle plugin appears to be converting version numbers incorrectly. For example:&lt;/p&gt;

&lt;p&gt;    0.9.0-incubator-SNAPSHOT&lt;/p&gt;

&lt;p&gt;Is being converted to:&lt;/p&gt;

&lt;p&gt;    0.9.0.incubator_SNAPSHOT&lt;/p&gt;

&lt;p&gt;Only the first &apos;&lt;del&gt;&apos; should be converted to a &apos;.&apos; to be compatible with OSGi, the remaining &apos;&lt;/del&gt;&apos; characters to not need to be converted.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12371547">FELIX-306</key>
            <summary>Bundle plugin is incorrectly converting version numbers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mcculls">Stuart McCulloch</assignee>
                                    <reporter username="rickhall">Richard S. Hall</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Jun 2007 16:27:08 +0000</created>
                <updated>Mon, 17 Dec 2007 03:59:06 +0000</updated>
                            <resolved>Fri, 21 Sep 2007 16:47:15 +0000</resolved>
                                                                    <component>Maven Bundle Plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12504314" author="carlos" created="Wed, 13 Jun 2007 16:29:45 +0000"  >&lt;p&gt;I&apos;ll look into it&lt;/p&gt;</comment>
                            <comment id="12504450" author="carlos" created="Wed, 13 Jun 2007 21:55:59 +0000"  >&lt;p&gt;can anyone look into testConvertVersionToOsgi and say if those assumptions are right ?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/repos/asf/maven/sandbox/trunk/shared/maven-osgi/src/test/java/org/apache/maven/shared/osgi/Maven2OsgiConverterTest.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/maven/sandbox/trunk/shared/maven-osgi/src/test/java/org/apache/maven/shared/osgi/Maven2OsgiConverterTest.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="12504488" author="fmeschbe" created="Thu, 14 Jun 2007 00:56:54 +0000"  >&lt;p&gt;I would say so, except for the last entries which convert the hyphen &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/forbidden.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; into underscores (_), too. Hyphens are allowed in the qualifier and should therefore probably not be mapped.&lt;/p&gt;</comment>
                            <comment id="12504500" author="mcculls" created="Thu, 14 Jun 2007 01:42:14 +0000"  >&lt;p&gt;Yes - looks fine apart from the hyphen issue, as Felix mentioned.&lt;/p&gt;

&lt;p&gt;FYI, Eclipse shows a warning when there are hyphens in Bundle-SymbolicName:&lt;/p&gt;

&lt;p&gt;    &quot;Bundle symbolic name contains illegal characters.  Legal characters are A-Z a-z 0-9 . _&quot;&lt;/p&gt;

&lt;p&gt;but I&apos;m not sure if this is an OSGi restriction (this doesn&apos;t apply to Bundle-Name).&lt;/p&gt;

&lt;p&gt;Recent versions of the BND tool also support conversion of versions to OSGi standards.&lt;br/&gt;
This even applies to any automatically discovered versions of import / export packages.&lt;/p&gt;

&lt;p&gt;Here are the tests used with BND:&lt;/p&gt;

&lt;p&gt;               assertVersion(&quot;1.2.3.x&quot;,         &quot;1.2.3.x&quot;);&lt;br/&gt;
               assertVersion(&quot;1.2.3&quot;,           &quot;1.2.3&quot;);&lt;br/&gt;
               assertVersion(&quot;1.2&quot;,             &quot;1.2&quot;);&lt;br/&gt;
               assertVersion(&quot;1&quot;,               &quot;1&quot;);&lt;br/&gt;
               assertVersion(&quot;1.2.x&quot;,           &quot;1.2.0.x&quot;);&lt;br/&gt;
               assertVersion(&quot;1.x&quot;,             &quot;1.0.0.x&quot;);&lt;br/&gt;
               assertVersion(&quot;1.2.3-x&quot;,         &quot;1.2.3.x&quot;);&lt;br/&gt;
               assertVersion(&quot;1.2:x&quot;,           &quot;1.2.0.x&quot;);&lt;br/&gt;
               assertVersion(&quot;1.2-snapshot&quot;,    &quot;1.2.0.snapshot&quot;);&lt;br/&gt;
               assertVersion(&quot;1#x&quot;,             &quot;1.0.0.x&quot;);&lt;br/&gt;
               assertVersion(&quot;1.&amp;amp;^%$#date2007/03/04&quot;, &quot;1.0.0.date20070304&quot;);&lt;/p&gt;</comment>
                            <comment id="12517439" author="mcculls" created="Fri, 3 Aug 2007 04:47:32 +0000"  >&lt;p&gt;This still appears to be an issue with the 1.0.0 release of the bundle-plugin.&lt;/p&gt;

&lt;p&gt;If you delegate the version mangling to BND using:&lt;/p&gt;

&lt;p&gt;    &amp;lt;Bundle-Version&amp;gt;${project.version}&amp;lt;/Bundle-Version&amp;gt;&lt;/p&gt;

&lt;p&gt;then it looks ok - perhaps the maven code could delegate to BND? (or look into how it does the mangling)&lt;/p&gt;</comment>
                            <comment id="12529490" author="mcculls" created="Fri, 21 Sep 2007 16:47:15 +0000"  >&lt;p&gt;The BND library now does all the necessary version formatting, so to be&lt;br/&gt;
consistent wrt. bundle versions and import / export versions we should&lt;br/&gt;
just pass the maven versions onto BND.&lt;/p&gt;</comment>
                            <comment id="12529501" author="mcculls" created="Fri, 21 Sep 2007 17:02:31 +0000"  >&lt;p&gt;can this issue be closed?&lt;/p&gt;</comment>
                            <comment id="12552225" author="mcculls" created="Sun, 16 Dec 2007 16:07:50 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I&apos;d like to get all resolved defects verified before releasing the 1.1.0 version of the bundleplugin - so I&apos;d really appreciate it if you could check things are still ok with the current snapshot, and if so close off the defect.&lt;/p&gt;

&lt;p&gt;Thanks in advance!&lt;/p&gt;</comment>
                            <comment id="12552250" author="rickhall" created="Sun, 16 Dec 2007 17:36:16 +0000"  >&lt;p&gt;As far as I can see, it still suffers from this issue...if my POM contains:&lt;/p&gt;

&lt;p&gt;  &amp;lt;version&amp;gt;1.1.0-incubator-SNAPSHOT&amp;lt;/version&amp;gt;&lt;/p&gt;

&lt;p&gt;The resulting manifest contains:&lt;/p&gt;

&lt;p&gt;  Bundle-Version: 1.1.0.incubator_SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="12552316" author="mcculls" created="Mon, 17 Dec 2007 03:05:11 +0000"  >&lt;p&gt;hmm, are you sure you&apos;re using the 1.1.0-SNAPSHOT? because with the following test POM:&lt;/p&gt;

&lt;p&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&amp;gt;&lt;br/&gt;
&amp;lt;project xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 &lt;a href=&quot;http://maven.apache.org/maven-v4_0_0.xsd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://maven.apache.org/maven-v4_0_0.xsd&lt;/a&gt;&quot; xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot;&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;&lt;br/&gt;
  &amp;lt;groupId&amp;gt;examples&amp;lt;/groupId&amp;gt;&lt;br/&gt;
  &amp;lt;artifactId&amp;gt;version.test&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
  &amp;lt;version&amp;gt;1.1.0-incubator-SNAPSHOT&amp;lt;/version&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;packaging&amp;gt;bundle&amp;lt;/packaging&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;build&amp;gt;&lt;br/&gt;
    &amp;lt;plugins&amp;gt;&lt;br/&gt;
      &amp;lt;plugin&amp;gt;&lt;br/&gt;
        &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;&lt;br/&gt;
        &amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
        &amp;lt;version&amp;gt;1.1.0-SNAPSHOT&amp;lt;/version&amp;gt;&lt;br/&gt;
        &amp;lt;extensions&amp;gt;true&amp;lt;/extensions&amp;gt;&lt;br/&gt;
        &amp;lt;configuration&amp;gt;&lt;br/&gt;
          &amp;lt;instructions&amp;gt;&lt;br/&gt;
            &amp;lt;Private-Package&amp;gt;*&amp;lt;/Private-Package&amp;gt;&lt;br/&gt;
          &amp;lt;/instructions&amp;gt;&lt;br/&gt;
        &amp;lt;/configuration&amp;gt;&lt;br/&gt;
      &amp;lt;/plugin&amp;gt;&lt;br/&gt;
    &amp;lt;/plugins&amp;gt;&lt;br/&gt;
  &amp;lt;/build&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;pluginRepositories&amp;gt;&lt;br/&gt;
    &amp;lt;pluginRepository&amp;gt;&lt;br/&gt;
      &amp;lt;id&amp;gt;ops4j-snapshots&amp;lt;/id&amp;gt;&lt;br/&gt;
      &amp;lt;url&amp;gt;&lt;a href=&quot;http://repository.ops4j.org/mvn-snapshots&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://repository.ops4j.org/mvn-snapshots&lt;/a&gt;&amp;lt;/url&amp;gt;&lt;br/&gt;
      &amp;lt;releases&amp;gt;&lt;br/&gt;
        &amp;lt;enabled&amp;gt;false&amp;lt;/enabled&amp;gt;&lt;br/&gt;
      &amp;lt;/releases&amp;gt;&lt;br/&gt;
    &amp;lt;/pluginRepository&amp;gt;&lt;br/&gt;
  &amp;lt;/pluginRepositories&amp;gt;&lt;/p&gt;

&lt;p&gt;  &amp;lt;dependencies&amp;gt;&lt;br/&gt;
    &amp;lt;dependency&amp;gt;&lt;br/&gt;
      &amp;lt;groupId&amp;gt;asm&amp;lt;/groupId&amp;gt;&lt;br/&gt;
      &amp;lt;artifactId&amp;gt;asm&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
      &amp;lt;version&amp;gt;2.2.3&amp;lt;/version&amp;gt;&lt;br/&gt;
      &amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;&lt;br/&gt;
      &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&lt;br/&gt;
    &amp;lt;/dependency&amp;gt;&lt;br/&gt;
  &amp;lt;/dependencies&amp;gt;&lt;/p&gt;

&lt;p&gt;&amp;lt;/project&amp;gt;&lt;/p&gt;

&lt;p&gt;I get the following manifest:&lt;/p&gt;

&lt;p&gt;Manifest-Version: 1.0&lt;/p&gt;

&lt;p&gt;Created-By: 1.4.2_15 (Sun Microsystems Inc.)&lt;/p&gt;

&lt;p&gt;Bnd-LastModified: 1197860624509&lt;/p&gt;

&lt;p&gt;Bundle-Version: 1.1.0.incubator-SNAPSHOT&lt;/p&gt;

&lt;p&gt;Bundle-Name: Unnamed - examples:version.test:bundle:1.1.0-incubator-SN&lt;br/&gt;
APSHOT&lt;/p&gt;

&lt;p&gt;Private-Package: org.objectweb.asm,org.objectweb.asm.signature&lt;/p&gt;

&lt;p&gt;Ant-Version: Apache Ant 1.6.5&lt;/p&gt;

&lt;p&gt;Originally-Created-By: 1.5.0_07-b03 (Sun Microsystems Inc.)&lt;/p&gt;

&lt;p&gt;Bundle-ManifestVersion: 2&lt;/p&gt;

&lt;p&gt;Bundle-SymbolicName: examples.version.test&lt;/p&gt;

&lt;p&gt;Implementation-Title: ASM&lt;/p&gt;

&lt;p&gt;Tool: Bnd-0.0.213&lt;/p&gt;

&lt;p&gt;Implementation-Version: 2.2.3&lt;/p&gt;

&lt;p&gt;Implementation-Vendor: France Telecom R&amp;amp;D&lt;/p&gt;



&lt;p&gt;where the version appears correct: 1.1.0.incubator-SNAPSHOT&lt;/p&gt;</comment>
                            <comment id="12552318" author="rickhall" created="Mon, 17 Dec 2007 03:59:06 +0000"  >&lt;p&gt;My bad, you are correct. I forgot that we change the trunk POMs to point to the released versions. I will close this issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58678</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 50 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1aosn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>270483</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>