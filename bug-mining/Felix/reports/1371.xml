<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:31:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2762] Substring parser incorrectly disallowing use of parentheses characters</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2762</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;When a bundle is trying to load a class with a classname that contains a perenthesis felix is throwing an IllegalArgumentException. Now usually the bundle trying to load the class would catch a &quot;ClassNotFoundException&quot;. Other classLoaders (or at least sun.misc.Launcher.AppClassLoader) are throwing a ClassNotFoundException if the classname contains a parenthesis.&lt;br/&gt;
Even if it&apos;s illegal to have parentheses in classnames some bundles still might try to load such classnames (e.g. due to a bug). So they could stop working in felix if they are catching a ClassNotFoundException even though they worked well before with different classloaders.&lt;/p&gt;

&lt;p&gt;Here is the stacktrace caused by a bundle that fits the category mentioned above:&lt;br/&gt;
java.lang.IllegalArgumentException: Illegal value: Document doc =&lt;br/&gt;
element.getOwnerDocument();&lt;br/&gt;
    at org.apache.felix.framework.capabilityset.SimpleFilter.parseSubstring(SimpleFilter.java:399)&lt;br/&gt;
    at org.apache.felix.framework.util.manifestparser.RequirementImpl.convertToFilter(RequirementImpl.java:162)&lt;br/&gt;
    at org.apache.felix.framework.util.manifestparser.RequirementImpl.&amp;lt;init&amp;gt;(RequirementImpl.java:49)&lt;br/&gt;
    at org.apache.felix.framework.Felix$FelixResolver.isAllowedDynamicImport(Felix.java:4139)&lt;br/&gt;
    at org.apache.felix.framework.Felix$FelixResolver.resolve(Felix.java:4029)&lt;br/&gt;
    at org.apache.felix.framework.ModuleImpl.searchDynamicImports(ModuleImpl.java:1367)&lt;br/&gt;
    at org.apache.felix.framework.ModuleImpl.findClassOrResourceByDelegation(ModuleImpl.java:723)&lt;br/&gt;
    at org.apache.felix.framework.ModuleImpl.access$200(ModuleImpl.java:73)&lt;br/&gt;
    at org.apache.felix.framework.ModuleImpl$ModuleClassLoader.loadClass(ModuleImpl.java:1690)&lt;br/&gt;
    at java.lang.ClassLoader.loadClass(ClassLoader.java:266)&lt;br/&gt;
    at org.apache.felix.framework.ModuleImpl.getClassByDelegation(ModuleImpl.java:634)&lt;br/&gt;
    at org.apache.felix.framework.Felix.loadBundleClass(Felix.java:1594)&lt;br/&gt;
    at org.apache.felix.framework.BundleImpl.loadClass(BundleImpl.java:887)&lt;br/&gt;
    at org.ops4j.pax.swissbox.core.BundleClassLoader.findClass(BundleClassLoader.java:176)&lt;br/&gt;
    at org.ops4j.pax.swissbox.core.BundleClassLoader.loadClass(BundleClassLoader.java:194)&lt;br/&gt;
    at java.lang.ClassLoader.loadClass(ClassLoader.java:266)&lt;br/&gt;
    at org.milyn.util.ClassUtil.forName(ClassUtil.java:82)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12494628">FELIX-2762</key>
            <summary>Substring parser incorrectly disallowing use of parentheses characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="mpetritsch">Michael Petritsch</reporter>
                        <labels>
                    </labels>
                <created>Tue, 4 Jan 2011 18:42:15 +0000</created>
                <updated>Tue, 30 Aug 2011 20:27:33 +0000</updated>
                            <resolved>Tue, 30 Aug 2011 15:47:45 +0000</resolved>
                                    <version>framework-3.0.7</version>
                                    <fixVersion>framework-4.0.0</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13093835" author="rickhall" created="Tue, 30 Aug 2011 15:45:06 +0000"  >&lt;p&gt;After investigating this issue a little more, I realized that the underlying issue is caused by the fact that our substring parsing code is disallowing the use of parentheses characters in its matching patterns. In other words, it was not allowing something like &quot;foo(*bar&quot; to be parsed, but there is no reason it shouldn&apos;t allow just about any character in the string. I think this is a holdover from when the code was part of the LDAP parser. I&apos;ve updated the summary of this issue to reflect the this issue.&lt;/p&gt;</comment>
                            <comment id="13093836" author="rickhall" created="Tue, 30 Aug 2011 15:47:45 +0000"  >&lt;p&gt;Parentheses characters can now be used in substrings, which should solve this issue since it will no longer throw an IllegalArgumentException, which means the dynamic import will fail due to finding no providers and a CNFE will be thrown.&lt;/p&gt;

&lt;p&gt;Please close this issue if you are satisfied. Thanks.&lt;/p&gt;</comment>
                            <comment id="13094084" author="mpetritsch" created="Tue, 30 Aug 2011 20:27:33 +0000"  >&lt;p&gt;awesome, thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 13 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1atqv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>271285</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>