<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:09:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-895] File Install treats configuration files with identical subnames as the same configuration</title>
                <link>https://issues.apache.org/jira/browse/FELIX-895</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Suppose you have two ManagedServiceFactory instances registered with pids &apos;com.acme.abc&apos; and &apos;com.acme.xyz&apos;&lt;/p&gt;

&lt;p&gt;To configure a default instance for each of the factories I created two .cfg files to be handled by File Install: com.acme.xyz-default.cfg and com.acme.abc-default.cfg&lt;/p&gt;

&lt;p&gt;What seems to happen is that File Install creates a first configuration (correctly) and then updates that configuration to the contents of the second configuration file. Apparently because the subname is the same. (filename ::= &amp;lt;pid&amp;gt; ( &apos;-&apos; &amp;lt;subname&amp;gt; )? &apos;.cfg&apos;)&lt;/p&gt;

&lt;p&gt;Possible fix: File Install (class DirectoryWatcher) uses property _alias_factory_pid to identify and retrieve the configurations it manages. The value for this property is currently set to &amp;lt;subname&amp;gt;. A possible fix could be to use &amp;lt;pid&amp;gt;-&amp;lt;subname&amp;gt; (or even &amp;lt;filename&amp;gt;) as identification value.&lt;/p&gt;</description>
                <environment>NA</environment>
        <key id="12412967">FELIX-895</key>
            <summary>File Install treats configuration files with identical subnames as the same configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pkriens">Peter Kriens</assignee>
                                    <reporter username="pneyens">Paul Neyens</reporter>
                        <labels>
                    </labels>
                <created>Thu, 22 Jan 2009 07:41:09 +0000</created>
                <updated>Wed, 11 Mar 2009 16:10:58 +0000</updated>
                            <resolved>Wed, 11 Mar 2009 16:10:58 +0000</resolved>
                                                    <fixVersion>fileinstall-0.9.2</fixVersion>
                                    <component>File Install</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12680670" author="fdiotalevi" created="Tue, 10 Mar 2009 22:43:16 +0000"  >&lt;p&gt;I&apos;m experiencing the same bug. It&apos;s definitely a major bug, configurations are not handled correctly inside FileInstall.&lt;br/&gt;
I&apos;m working on a patch right now.&lt;/p&gt;</comment>
                            <comment id="12680682" author="fdiotalevi" created="Tue, 10 Mar 2009 23:03:32 +0000"  >&lt;p&gt;Patch attached.&lt;/p&gt;

&lt;p&gt;Followed the approach explained at&lt;br/&gt;
&lt;a href=&quot;http://felix.apache.org/site/apache-felix-configuration-admin-service.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/site/apache-felix-configuration-admin-service.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Configuration objects, once created, are stored inside the DirectoryWatcher, so they can be retrieved later (and updated) when the corresponding file is changed.&lt;/p&gt;

&lt;p&gt;Can anybody else test it?&lt;/p&gt;</comment>
                            <comment id="12680905" author="rickhall" created="Wed, 11 Mar 2009 16:10:58 +0000"  >&lt;p&gt;Peter reviewed the patch and I just applied it. I made some formatting changes as well as fixed some discrepancies with the use of &apos;ConfigurationEntry&apos; and &apos;ConfigurationKey&apos; in the comments and variable names. I deployed a snapshot.&lt;/p&gt;

&lt;p&gt;Paul, please verify if the snapshot resolves the issue for you. If so,&#160;please close this bug. Thanks.&lt;/p&gt;

&lt;p&gt;Thanks to Filippo for the patch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12401878" name="FELIX-895.patch" size="6791" author="fdiotalevi" created="Tue, 10 Mar 2009 23:03:32 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58094</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vuan:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>183881</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>