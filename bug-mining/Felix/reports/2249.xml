<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:54:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4586] A field must be volatile if methods are generated for a dynamic reference</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4586</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;If a field is used for a reference, like&lt;br/&gt;
@Reference(policy=DYNAMIC)&lt;br/&gt;
private Field myService&lt;/p&gt;

&lt;p&gt;and methods are generated for this dynamic reference, the field must be declared volatile. Otherwise updates to the field are not visible to the threads calling this component.&lt;br/&gt;
If no methods are generated and the reference is dynamic, a warning should be generated if it is not volatile.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12730122">FELIX-4586</key>
            <summary>A field must be volatile if methods are generated for a dynamic reference</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="cziegeler">Carsten Ziegeler</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Jul 2014 05:44:59 +0000</created>
                <updated>Mon, 14 Dec 2015 13:40:54 +0000</updated>
                            <resolved>Mon, 28 Jul 2014 12:48:12 +0000</resolved>
                                    <version>maven-scr-plugin 1.17.0</version>
                    <version>scr ant task 1.11.0</version>
                    <version>scr generator 1.10.0</version>
                                    <fixVersion>maven-scr-plugin 1.19.0</fixVersion>
                    <fixVersion>scr ant task 1.13.0</fixVersion>
                    <fixVersion>scr generator 1.12.0</fixVersion>
                                    <component>SCR Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14076000" author="cziegeler" created="Mon, 28 Jul 2014 07:45:38 +0000"  >&lt;p&gt;Added extra checks in rev 1613904&lt;/p&gt;</comment>
                            <comment id="14076167" author="rombert" created="Mon, 28 Jul 2014 12:09:18 +0000"  >&lt;p&gt;I&apos;ve tried the new plugin on a component with the following snippet:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Reference(policy = DYNAMIC)
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; StringBuilder bla;
    
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void bindBla(StringBuilder newBla) {
    	&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bla = newBla;
    }
    
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;synchronized&lt;/span&gt; void unbindBla(StringBuilder oldBla) {
    	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; ( &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bla == oldBla ) {
    		&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.bla = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    	}
    } 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I would not expect to get an error, but I do:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[1:1]: @Reference(bla) : Dynamic field should be declared &lt;span class=&quot;code-keyword&quot;&gt;volatile&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; unary references&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I would expect this to be triggered only if the methods were generated by the plugin, which they were not. Either I misunderstood the feature, or generated methods are not properly taken into account.&lt;/p&gt;</comment>
                            <comment id="14076179" author="cziegeler" created="Mon, 28 Jul 2014 12:29:52 +0000"  >&lt;p&gt;You&apos;re absolutely right, this should actually be just a warning - or maybe we should don&apos;t comment in that case at all?&lt;/p&gt;</comment>
                            <comment id="14076182" author="rombert" created="Mon, 28 Jul 2014 12:32:36 +0000"  >&lt;p&gt;In this case I would not comment at all, since it is be annoying to write correct bind/unbind methods and still get the warning. The alternative would be to turn off the check altogether, but then I&apos;d miss potential errors in other components.&lt;/p&gt;</comment>
                            <comment id="14076186" author="cziegeler" created="Mon, 28 Jul 2014 12:35:48 +0000"  >&lt;p&gt;Hmm, right I agree. I&apos;ll remove that part completely then&lt;/p&gt;</comment>
                            <comment id="14076192" author="cziegeler" created="Mon, 28 Jul 2014 12:48:12 +0000"  >&lt;p&gt;Removed the second check completely in rev 1613989&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12921665">FELIX-5139</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408195</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1y8lb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>408199</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>