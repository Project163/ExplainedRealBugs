<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:06:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-516] ManagedService[Factory] may be updated twice with the same Configuration</title>
                <link>https://issues.apache.org/jira/browse/FELIX-516</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The Configuration Admin service implementation has a multi-threading issue in that a configuration may be delivered to a ManagedService&lt;span class=&quot;error&quot;&gt;&amp;#91;Factory&amp;#93;&lt;/span&gt; twice under certain conditions.&lt;/p&gt;

&lt;p&gt;Consider the situation of thread Threads T1 registering a ManagedServiceFactory, T2 creating and updating a configuration object for the ManagedServiceFactory registered by T1 and T3 the background thread managed by the Configuration Admin Service to serialize configuration updates.&lt;/p&gt;

&lt;p&gt;  Thread T1 was registering a ManagedServiceFactory&lt;br/&gt;
   In T1 the ConfigurationAdmin service sees the service and schedules configuration of it&lt;br/&gt;
   Thread T2 was creating and setting a configuration C&lt;br/&gt;
   In T2 the ConfigurationAdmin service schedules the update of the ManagedServiceFactory&lt;br/&gt;
   Thread T3 handles the first scheduled task of initially providing the service with configuration&lt;br/&gt;
              (created by T1 in the meantime)&lt;br/&gt;
   Thread T3 handles the second scheduled task of updating the configuration&lt;/p&gt;

&lt;p&gt;Hence the ManagedServiceFactory is updated twice with the same configuration and thus cycles the service.&lt;/p&gt;

&lt;p&gt;The fix is to record in the Configuration object that it was sent to the consuming service and to prevent sending the update of a configuration, which has already been sent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12390644">FELIX-516</key>
            <summary>ManagedService[Factory] may be updated twice with the same Configuration</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="fmeschbe">Felix Meschberger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 10 Mar 2008 10:54:58 +0000</created>
                <updated>Mon, 10 Mar 2008 12:33:35 +0000</updated>
                            <resolved>Mon, 10 Mar 2008 12:33:35 +0000</resolved>
                                    <version>configadmin-1.0.0</version>
                                    <fixVersion>configadmin-1.0.1</fixVersion>
                                    <component>Configuration Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12576964" author="fmeschbe" created="Mon, 10 Mar 2008 12:33:35 +0000"  >&lt;p&gt;Implemented a marker in the Configuration object which defines, whether the last change of a configuration update or delete has already been delivered to the owning ManagedService&lt;span class=&quot;error&quot;&gt;&amp;#91;Factory&amp;#93;&lt;/span&gt; or not.&lt;/p&gt;

&lt;p&gt;Fixed in Rev. 635540 and deployed new SNAPSHOT version 1.0.1-20080310.123324-2&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58471</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            17 years, 38 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i140un:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>231600</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>