<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:42:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-3514] Enable support for dynamic import</title>
                <link>https://issues.apache.org/jira/browse/FELIX-3514</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;The OSGi R5 Resolver API does not provide a way to (easily) resolve dynamic imports.  This is important if the resolver is to be used at runtime.  The current resolver implementation has a bit of disabled code commented out that could be used to implement this.  I will attach a patch that enables a new method on ResolverImpl to enable dynamic resolution.&lt;/p&gt;

</description>
                <environment>All</environment>
        <key id="12556301">FELIX-3514</key>
            <summary>Enable support for dynamic import</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="tjwatson">Tom Watson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 17 May 2012 20:40:17 +0000</created>
                <updated>Thu, 12 Jul 2012 13:11:28 +0000</updated>
                            <resolved>Sun, 1 Jul 2012 22:30:35 +0000</resolved>
                                                                    <component>Resolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13278243" author="tjwatson" created="Thu, 17 May 2012 20:48:36 +0000"  >&lt;p&gt;This patch enables a bit of code to do dynamic resolution.  The patch needs plenty of review because I am not confident I got all the details correct.&lt;/p&gt;

&lt;p&gt;For example, I did not perform a check in the resolver to see if the current host wiring has a package source for the requested package or not.  I think this could or should be something done outside of the resolver before attempting to do a dynamic resolve operation.&lt;/p&gt;</comment>
                            <comment id="13281213" author="tjwatson" created="Tue, 22 May 2012 21:03:42 +0000"  >&lt;p&gt;Previous patch was for the wrong issue.  Sorry, here is the correct patch.&lt;/p&gt;</comment>
                            <comment id="13289594" author="tjwatson" created="Tue, 5 Jun 2012 18:03:29 +0000"  >&lt;p&gt;Updated patch.  The previous patch did not correctly check for uses constraint violations for dynamic imports.  There were two issues.  &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;First the call to checkPackageSpaceConsistency was not passing &quot;true&quot; to indicate this was a dynamic import resolution.  This made the check consistency call to return quickly without doing any checks for an already resolved bundle.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Once I enabled this (by passing &quot;true&quot;) I ran into another issue when permuting over the solution set based on the Blame objects found.  We are wrapping all dynamic imports for already existing dynamic import wires.  These wires add their own Blame objects with wrapped requirements.  The issue is we try to permute such Blames when in reality they cannot be permuted because the existing wires cannot modified.  At runtime this results in an NPE when we attempt to permute such blamed requirements because the Candidates object does not actually contain the wrapped requirement.  For now I just added some null checks because we seem to do that in other places where a call to Candidates.getCandidates(Requirement) is called.  But I am not sure if that is the correct solution or not.  Richard, what do you recommend here?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13289621" author="rickhall" created="Tue, 5 Jun 2012 18:19:23 +0000"  >&lt;p&gt;I&apos;ll have to think about it. The other null checks are generally to detect optional imports that may have no candidates. I&apos;ll see if I can find a better approach.&lt;/p&gt;</comment>
                            <comment id="13400051" author="rickhall" created="Sat, 23 Jun 2012 20:18:57 +0000"  >&lt;p&gt;Overall, this patch looks good. I&apos;ve slightly modified it in my attached patch. The main thing I tried to do was eliminate the one getDynamicImportCandidates() method, since it doesn&apos;t seem to be necessary now. The one thing that is still missing is the check to make sure the dynamic import doesn&apos;t shadow an existing package source, but I think we can do this in calculatePackageSpaces(), I just need to think a little more about how precisely to do it.&lt;/p&gt;</comment>
                            <comment id="13404846" author="rickhall" created="Sun, 1 Jul 2012 22:30:35 +0000"  >&lt;p&gt;Ok, I&apos;ve committed my patch with a further modification to check whether the dynamic import shadows an existing package source. If it does, I throw an IllegalArgumentException. Tom, perhaps you could look at this commit and see if it seems good to you. If it does, please close this issue since I&apos;m resolving it as fixed. Thanks!&lt;/p&gt;</comment>
                            <comment id="13412759" author="tjwatson" created="Thu, 12 Jul 2012 13:11:28 +0000"  >&lt;p&gt;The patch looks fine and it passes my testcases.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12530990" name="3514.txt" size="14853" author="tjwatson" created="Tue, 5 Jun 2012 18:03:29 +0000"/>
                            <attachment id="12533190" name="FELIX-3514.txt" size="15047" author="rickhall" created="Sat, 23 Jun 2012 20:13:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>246066</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 19 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i07gpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>41475</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>