<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:57:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-4855] ConfigAdmin does not update ManagedServiceFactory on framework restart</title>
                <link>https://issues.apache.org/jira/browse/FELIX-4855</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Details are described in the linked karaf issue.&lt;/p&gt;

&lt;p&gt;I found how to fix this and will attach a patch.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12821480">FELIX-4855</key>
            <summary>ConfigAdmin does not update ManagedServiceFactory on framework restart</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gnodet">Guillaume Nodet</assignee>
                                    <reporter username="cschneider">Christian Schneider</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Apr 2015 10:07:04 +0000</created>
                <updated>Thu, 18 Jun 2015 10:33:47 +0000</updated>
                            <resolved>Thu, 16 Apr 2015 13:27:48 +0000</resolved>
                                    <version>configadmin-1.8.2</version>
                                    <fixVersion>configadmin-1.8.4</fixVersion>
                                    <component>Configuration Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14497865" author="chris@die-schneider.net" created="Thu, 16 Apr 2015 10:09:47 +0000"  >&lt;p&gt;The problem seems to be that the Caching PersistenceManager does not look into the real persistence once fullLoaded is true.&lt;/p&gt;

&lt;p&gt;As at that point the factories are not loaded it never checks again.&lt;br/&gt;
So I removed the check for fullyLoaded at exist and load.&lt;/p&gt;</comment>
                            <comment id="14498038" author="gnt" created="Thu, 16 Apr 2015 13:17:16 +0000"  >&lt;p&gt;I think the patch is not correct.&lt;br/&gt;
The problem comes from the fact that the internal cache does not contain factories configuration which are discarded when the full load is done.&lt;br/&gt;
The patch at &lt;a href=&quot;https://gist.github.com/gnodet/b8da87a1cdc9e5610f53&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/gnodet/b8da87a1cdc9e5610f53&lt;/a&gt; should provide a better fix while still retaining the fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4566&quot; title=&quot;Consistency in PersistenceManager and Cache is not guaranteed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4566&quot;&gt;&lt;del&gt;FELIX-4566&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14498043" author="gnt" created="Thu, 16 Apr 2015 13:27:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1674069&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc?view=revision&amp;amp;revision=1674069&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12821094">KARAF-3668</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12725852" name="FELIX-4855-1.patch" size="1147" author="cschneider" created="Thu, 16 Apr 2015 12:11:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dc6n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>