<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 16:00:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-5166] WrappedResource does not handle namespace correctly</title>
                <link>https://issues.apache.org/jira/browse/FELIX-5166</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;This is similar to &lt;a href=&quot;https://issues.apache.org/jira/browse/FELIX-4727&quot; title=&quot;WrappedResource.getCapabilities ignores the namespace param&quot; class=&quot;issue-link&quot; data-issue-key=&quot;FELIX-4727&quot;&gt;&lt;del&gt;FELIX-4727&lt;/del&gt;&lt;/a&gt;.  There are several issues with how namespace is handled in getCapabilities and getRequirements for the org.apache.felix.resolver.WrappedResource class&lt;/p&gt;

&lt;p&gt;In getCapabilities the namespace is correctly used to ask the host and fragment resources for the named capabilities.  But then that list is saved into the m_cachedCapabilities field.  If you first ask for the &apos;foo&apos; namespace it will save all the &apos;foo&apos; capabilities to m_cachedCapabilities, then if you ask for the &apos;bar&apos; capabilities it will simply return the m_cachedCapabilities from before with &apos;foo&apos; capabilities.&lt;/p&gt;

&lt;p&gt;In getRequirements the namespace is completely ignored.  I think there are several reasons to stop lazily crating these caches.  It leads to strange bugs like the ones above, but also there is no synchronization here and the var is not volatile so I think there could be some issues with multi-threading.  Now that the resolver is multi-threaded I think we should stop creating these lists of capabilities and requirements lazily.  Instead I think we should make them final and create them in the constructor. &lt;/p&gt;</description>
                <environment></environment>
        <key id="12929584">FELIX-5166</key>
            <summary>WrappedResource does not handle namespace correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tjwatson">Tom Watson</assignee>
                                    <reporter username="tjwatson">Tom Watson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Jan 2016 20:08:54 +0000</created>
                <updated>Thu, 13 Oct 2016 06:40:04 +0000</updated>
                            <resolved>Tue, 8 Mar 2016 08:35:52 +0000</resolved>
                                    <version>resolver-1.8.0</version>
                                    <fixVersion>resolver-1.10.0</fixVersion>
                                    <component>Resolver</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="15094839" author="tjwatson" created="Tue, 12 Jan 2016 20:16:11 +0000"  >&lt;p&gt;Possible fix&lt;/p&gt;</comment>
                            <comment id="15157336" author="tjwatson" created="Mon, 22 Feb 2016 17:27:35 +0000"  >&lt;p&gt;I released the patch&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781907" name="FELIX-5166.patch" size="6010" author="tjwatson" created="Tue, 12 Jan 2016 20:16:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r78v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>