<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:22:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2835] SCR plugin: Parsing of &quot;options&quot; for property tag broken for javadoc annotations</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2835</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;A property with options should use the key=value parameters after the &quot;options&quot; parameter as name=label for the metatype options:&lt;/p&gt;

&lt;p&gt;    @scr.property type=&quot;String&quot; value=&quot;one&quot; options one=&quot;One&quot; two=&quot;Two&quot; three=&quot;Three&quot;&lt;/p&gt;

&lt;p&gt;However, it produces this single option:&lt;/p&gt;

&lt;p&gt;            &amp;lt;Option value=&quot;one=One&quot; label=&quot;three=Three&quot;/&amp;gt;&lt;/p&gt;

&lt;p&gt;The problem is that this loop in org.apache.felix.scrplugin.helper.PropertyHandler.processProperty() &lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; is inherently broken due to both a &quot;j++&quot; in the for loop and a &quot;j += 2&quot; at the end, and a parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;j+2&amp;#93;&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;            for (int j=0; j &amp;lt; parameters.length; j++) {&lt;br/&gt;
                if (Constants.PROPERTY_OPTIONS.equals(parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;j&amp;#93;&lt;/span&gt;)) &lt;/p&gt;
{
                    options = new LinkedHashMap&amp;lt;String, String&amp;gt;();
                }
&lt;p&gt; else if (options != null) {&lt;br/&gt;
                    String optionLabel = parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;j&amp;#93;&lt;/span&gt;;&lt;br/&gt;
                    String optionValue = (j &amp;lt; parameters.length-2) ? parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;j+2&amp;#93;&lt;/span&gt; : null;&lt;br/&gt;
                    if (optionValue != null) &lt;/p&gt;
{
                        options.put(optionLabel, optionValue);
                    }
&lt;p&gt;                    j += 2;&lt;br/&gt;
                }&lt;br/&gt;
            }&lt;/p&gt;

&lt;p&gt;Without having debugged it, I guess it should be parameters&lt;span class=&quot;error&quot;&gt;&amp;#91;j+1&amp;#93;&lt;/span&gt; and j+=1, as you only skip one parameter for reading the label, not two (given that one=&quot;One&quot; is represented as two parameters &quot;one&quot; and &quot;One&quot;).&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt; &lt;a href=&quot;http://svn.apache.org/repos/asf/felix/trunk/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/helper/PropertyHandler.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/repos/asf/felix/trunk/scrplugin/generator/src/main/java/org/apache/felix/scrplugin/helper/PropertyHandler.java&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12498245">FELIX-2835</key>
            <summary>SCR plugin: Parsing of &quot;options&quot; for property tag broken for javadoc annotations</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cziegeler">Carsten Ziegeler</assignee>
                                    <reporter username="alexander.klimetschek">Alexander Klimetschek</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Feb 2011 13:53:35 +0000</created>
                <updated>Mon, 9 May 2011 18:14:25 +0000</updated>
                            <resolved>Mon, 21 Feb 2011 15:48:36 +0000</resolved>
                                    <version> maven-scr-plugin-1.6.0</version>
                    <version>scr generator 1.0.0</version>
                                    <fixVersion>maven-scr-plugin-1.7.0</fixVersion>
                    <fixVersion>scr ant task 1.1.0</fixVersion>
                    <fixVersion>scr generator 1.1.0</fixVersion>
                                    <component>SCR Tooling</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12996521" author="cziegeler" created="Fri, 18 Feb 2011 17:10:00 +0000"  >&lt;p&gt;Thanks for reporting!&lt;/p&gt;

&lt;p&gt;Actually an option one=&quot;One&quot; is a single parameter.&lt;/p&gt;

&lt;p&gt;I fixed this in revision 1072066&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12506642">FELIX-2945</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>40416</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 40 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0aq2f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60496</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>