<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:09:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-979] Config Admin throwing NPE</title>
                <link>https://issues.apache.org/jira/browse/FELIX-979</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;BJ is working on a test case for DS that uses CM, which is resulting in the following exception:&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException&lt;br/&gt;
	at org.apache.felix.cm.impl.ConfigurationManager.getCachedConfiguration(ConfigurationManager.java:281)&lt;br/&gt;
	at org.apache.felix.cm.impl.ConfigurationManager.bundleChanged(ConfigurationManager.java:509)&lt;br/&gt;
	at org.eclipse.osgi.framework.internal.core.BundleContextImpl.dispatchEvent(BundleContextImpl.java:941)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager.dispatchEvent(EventManager.java:220)&lt;br/&gt;
	at org.eclipse.osgi.framework.eventmgr.EventManager$EventThread.run(EventManager.java:330)&lt;/p&gt;

&lt;p&gt;He says, &quot;It seems CM is trying to clean up unbound configurations and barfing.&quot; Let me know if more information is needed.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12416575">FELIX-979</key>
            <summary>Config Admin throwing NPE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="fmeschbe">Felix Meschberger</assignee>
                                    <reporter username="rickhall">Richard S. Hall</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Mar 2009 20:21:57 +0000</created>
                <updated>Tue, 25 Aug 2009 08:09:16 +0000</updated>
                            <resolved>Thu, 26 Mar 2009 16:47:54 +0000</resolved>
                                    <version>configadmin-1.0.10</version>
                                    <fixVersion>configadmin-1.2.0</fixVersion>
                                    <component>Configuration Admin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12680609" author="rickhall" created="Tue, 10 Mar 2009 20:44:08 +0000"  >&lt;p&gt;Additional comments from BJ:&lt;/p&gt;

&lt;p&gt;It seems like CM might be garbage collecting configurations, which is not part of the spec. It might be the case you uninstall a bundle and re-install a new one at the same location and want it to have the previous configuration.&lt;/p&gt;</comment>
                            <comment id="12689530" author="fmeschbe" created="Thu, 26 Mar 2009 16:15:32 +0000"  >&lt;p&gt;This is most probably a corner case being hit upon, since this case of NullPointerException can only be thrown if the bundleChanged event is called &lt;em&gt;after&lt;/em&gt; the BundleActivator.stop method has already terminated when the Configuration Admin bundle.&lt;/p&gt;

&lt;p&gt;This may be the case, when the framework is stopping the Configuration Admin bundle while the framework event dispatcher still has an event pending to be delivered to the BundleListener of the stopped Configuration Admin bundle.&lt;/p&gt;

&lt;p&gt;The fix in fact is rather simple: I add a flag indicating whether the BundleListener.bundleChanged method should actually be handling events received or not.&lt;/p&gt;</comment>
                            <comment id="12689543" author="fmeschbe" created="Thu, 26 Mar 2009 16:47:54 +0000"  >&lt;p&gt;I committed the addition of the flag in Rev. 758736.&lt;/p&gt;

&lt;p&gt;This should fix this issue.&lt;/p&gt;</comment>
                            <comment id="12747284" author="fmeschbe" created="Tue, 25 Aug 2009 08:09:16 +0000"  >&lt;p&gt;Close all issues now this version has been released&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>58011</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 years, 14 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0w1an:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>185015</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>