<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Wed Nov 12 15:18:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF Jira</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[FELIX-2281] Bundle id order affects fragment resolution success</title>
                <link>https://issues.apache.org/jira/browse/FELIX-2281</link>
                <project id="12310100" key="FELIX">Felix</project>
                    <description>&lt;p&gt;Create two host bundles and two fragments with the following headers:&lt;/p&gt;

&lt;p&gt;&amp;gt; cat host1.man&lt;br/&gt;
Bundle-ManifestVersion: 2&lt;br/&gt;
Bundle-SymbolicName: host&lt;br/&gt;
Export-Package: foo&lt;br/&gt;
Bundle-Version: 1&lt;/p&gt;

&lt;p&gt;&amp;gt; cat host2.man&lt;br/&gt;
Bundle-ManifestVersion: 2&lt;br/&gt;
Bundle-SymbolicName: host&lt;br/&gt;
Export-Package: foo&lt;br/&gt;
Bundle-Version: 2&lt;/p&gt;

&lt;p&gt;&amp;gt; cat frag1.man&lt;br/&gt;
Bundle-ManifestVersion: 2&lt;br/&gt;
Bundle-SymbolicName: fragment&lt;br/&gt;
Bundle-Version: 1&lt;br/&gt;
Fragment-Host: host; bundle-version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;1,1&amp;#93;&lt;/span&gt;&quot;&lt;br/&gt;
Export-Package: bar&lt;/p&gt;

&lt;p&gt;&amp;gt; cat frag2.man&lt;br/&gt;
Bundle-ManifestVersion: 2&lt;br/&gt;
Bundle-SymbolicName: fragment&lt;br/&gt;
Bundle-Version: 2&lt;br/&gt;
Fragment-Host: host; bundle-version=&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;2,2&amp;#93;&lt;/span&gt;&quot;&lt;br/&gt;
Export-Package: bar&lt;/p&gt;

&lt;p&gt;When frag1 is loaded before frag2, it successfully resolves to host1.  When frag1 is loaded after frag2, it fails to resolve (although the first attempt at resolution does not display an error):&lt;/p&gt;

&lt;p&gt;-&amp;gt; ps&lt;br/&gt;
START LEVEL 1&lt;br/&gt;
   ID   State         Level  Name&lt;br/&gt;
[   0] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    0] System Bundle (2.0.4)&lt;br/&gt;
[   1] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Bundle Repository (1.4.3)&lt;br/&gt;
[   2] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Shell Service (1.4.2)&lt;br/&gt;
[   3] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Shell TUI (1.4.1)&lt;br/&gt;
[  59] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] host (1)&lt;br/&gt;
[  60] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] host (2)&lt;br/&gt;
[  61] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] fragment (2)&lt;br/&gt;
[  62] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] fragment (1)&lt;br/&gt;
-&amp;gt; resolve 62&lt;br/&gt;
-&amp;gt; ps&lt;br/&gt;
START LEVEL 1&lt;br/&gt;
   ID   State         Level  Name&lt;br/&gt;
[   0] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    0] System Bundle (2.0.4)&lt;br/&gt;
[   1] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Bundle Repository (1.4.3)&lt;br/&gt;
[   2] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Shell Service (1.4.2)&lt;br/&gt;
[   3] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Shell TUI (1.4.1)&lt;br/&gt;
[  59] &lt;span class=&quot;error&quot;&gt;&amp;#91;Resolved   &amp;#93;&lt;/span&gt; [    1] host (1)&lt;br/&gt;
[  60] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] host (2)&lt;br/&gt;
[  61] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] fragment (2)&lt;br/&gt;
[  62] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] fragment (1)&lt;br/&gt;
-&amp;gt; resolve 62&lt;br/&gt;
WARNING: Unable to resolve bundle 62 (org.osgi.framework.BundleException: Unresolved constraint in bundle fragment &lt;span class=&quot;error&quot;&gt;&amp;#91;62&amp;#93;&lt;/span&gt;: host; (&amp;amp;(bundle-symbolic-name=host)(bundle-version&amp;gt;=1.0.0)(bundle-version&amp;lt;=1.0.0)))&lt;/p&gt;</description>
                <environment>Mac OS 10.5.8, Java 1.5_22</environment>
        <key id="12462002">FELIX-2281</key>
            <summary>Bundle id order affects fragment resolution success</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="rickhall">Richard S. Hall</assignee>
                                    <reporter username="jspeton">Jean-Guy Speton</reporter>
                        <labels>
                    </labels>
                <created>Wed, 14 Apr 2010 00:53:07 +0000</created>
                <updated>Fri, 30 Apr 2010 20:36:59 +0000</updated>
                            <resolved>Mon, 26 Apr 2010 18:05:16 +0000</resolved>
                                    <version>framework-2.0.4</version>
                                    <fixVersion>framework-3.0.0</fixVersion>
                                    <component>Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12858628" author="rickhall" created="Mon, 19 Apr 2010 18:43:56 +0000"  >&lt;p&gt;Verified. I will look into a fix, but it will likely be in the 3.0 release and not a 2.0.x release...unless it is absolutely critical.&lt;/p&gt;</comment>
                            <comment id="12861019" author="rickhall" created="Mon, 26 Apr 2010 18:05:16 +0000"  >&lt;p&gt;The routine for attaching fragments was only considering the fragment with the highest version, not the one with the highest matching version. Thus, we&apos;d miss lower versions if there was a higher, non-matching fragment version. This appears to be working in trunk now:&lt;/p&gt;

&lt;p&gt;-&amp;gt; ps&lt;br/&gt;
START LEVEL 1&lt;br/&gt;
   ID   State         Level  Name&lt;br/&gt;
[   0] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    0] System Bundle (2.1.0.SNAPSHOT)&lt;br/&gt;
[   1] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Bundle Repository (1.4.3)&lt;br/&gt;
[   2] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Shell Service (1.4.2)&lt;br/&gt;
[   3] &lt;span class=&quot;error&quot;&gt;&amp;#91;Active     &amp;#93;&lt;/span&gt; [    1] Apache Felix Shell TUI (1.4.1)&lt;br/&gt;
[   4] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] host (1.0.0)&lt;br/&gt;
[   5] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] host (2.0.0)&lt;br/&gt;
[   6] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] fragment (2.0.0)&lt;br/&gt;
[   7] &lt;span class=&quot;error&quot;&gt;&amp;#91;Installed  &amp;#93;&lt;/span&gt; [    1] fragment (1.0.0)&lt;br/&gt;
-&amp;gt; resolve 7&lt;br/&gt;
DEBUG: FRAGMENT WIRE: 7.0 -&amp;gt; hosted by -&amp;gt; 4.0&lt;br/&gt;
-&amp;gt; &lt;/p&gt;

&lt;p&gt;Please close if you are satisfied. Thanks for reporting.&lt;/p&gt;</comment>
                            <comment id="12861034" author="jspeton" created="Mon, 26 Apr 2010 18:28:53 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="12862850" author="rickhall" created="Fri, 30 Apr 2010 20:36:59 +0000"  >&lt;p&gt;FYI: There was a logic bug in my patch, it should be fixed now. Deploying new snapshot shortly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>56457</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 30 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0vwn3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>184261</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>