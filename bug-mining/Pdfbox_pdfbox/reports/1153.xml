<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:00:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2847] mergeDocumentsNonSeq does not utilize scratchFile</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2847</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I noticed when merging relatively large pdfs (1gb)  that the heap would grow by at least the same amount until complete, even when I call mergeDocumentsNonSeq() and supplying a read/write scratchfile.   &lt;/p&gt;

&lt;p&gt;When I looked at the source for mergeDocuments(bool, RandomAccess),  it looks like the scratch file is never used.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; void mergeDocuments(&lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isNonSeq, RandomAccess scratchFile) 
            &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, COSVisitorException
{
&lt;span class=&quot;code-comment&quot;&gt;//...snip
&lt;/span&gt;
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isNonSeq)
                {
                    source = PDDocument.loadNonSeq(sourceFile, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
                }
&lt;span class=&quot;code-comment&quot;&gt;//...snip
&lt;/span&gt;}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment></environment>
        <key id="12841558">PDFBOX-2847</key>
            <summary>mergeDocumentsNonSeq does not utilize scratchFile</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="jtdevos">Jim deVos</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jun 2015 04:32:41 +0000</created>
                <updated>Thu, 23 Jul 2015 06:35:45 +0000</updated>
                            <resolved>Tue, 30 Jun 2015 20:04:29 +0000</resolved>
                                    <version>1.8.9</version>
                    <version>1.8.10</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.10</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14607143" author="jtdevos" created="Tue, 30 Jun 2015 04:40:54 +0000"  >&lt;p&gt;I attached a patch for r1686617 on /branches/1.8  that has a potential fix for the bug as well as a tweaked version of the mergeDocumentsNonSeq() test.  Apologies in advance - this is my first bug report and my first patch so I probably screwed up many aspects of the protocol / code style for these types of reports.&lt;/p&gt;</comment>
                            <comment id="14607874" author="jira-bot" created="Tue, 30 Jun 2015 07:32:45 +0000"  >&lt;p&gt;Commit 1688382 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1688382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1688382&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2847&quot; title=&quot;mergeDocumentsNonSeq does not utilize scratchFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2847&quot;&gt;&lt;del&gt;PDFBOX-2847&lt;/del&gt;&lt;/a&gt;: use scratchFile for mergeDocumentsNonSeq, as suggested by Jim deVos&lt;/p&gt;</comment>
                            <comment id="14607875" author="jira-bot" created="Tue, 30 Jun 2015 07:33:23 +0000"  >&lt;p&gt;Commit 1688384 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1688384&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1688384&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2847&quot; title=&quot;mergeDocumentsNonSeq does not utilize scratchFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2847&quot;&gt;&lt;del&gt;PDFBOX-2847&lt;/del&gt;&lt;/a&gt;: use scratchFile for mergeDocumentsNonSeq, as suggested by Jim deVos&lt;/p&gt;</comment>
                            <comment id="14607878" author="tilman" created="Tue, 30 Jun 2015 07:35:01 +0000"  >&lt;p&gt;Thanks, I committed that, with an expanded test, i.e. that both get tested. I&apos;ll also add the use of a scratch file into the 2.0 version.&lt;/p&gt;</comment>
                            <comment id="14608756" author="jtdevos" created="Tue, 30 Jun 2015 18:02:16 +0000"  >&lt;p&gt;Great to hear, thanks so much for the quick response.&lt;/p&gt;</comment>
                            <comment id="14608972" author="jira-bot" created="Tue, 30 Jun 2015 20:02:47 +0000"  >&lt;p&gt;Commit 1688513 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1688513&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1688513&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2847&quot; title=&quot;mergeDocumentsNonSeq does not utilize scratchFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2847&quot;&gt;&lt;del&gt;PDFBOX-2847&lt;/del&gt;&lt;/a&gt;: use scratchFile for mergeDocumentsNonSeq, as suggested by Jim deVos&lt;/p&gt;</comment>
                            <comment id="14608974" author="jira-bot" created="Tue, 30 Jun 2015 20:03:25 +0000"  >&lt;p&gt;Commit 1688514 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1688514&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1688514&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2847&quot; title=&quot;mergeDocumentsNonSeq does not utilize scratchFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2847&quot;&gt;&lt;del&gt;PDFBOX-2847&lt;/del&gt;&lt;/a&gt;: use scratchFile for mergeDocumentsNonSeq, as suggested by Jim deVos&lt;/p&gt;</comment>
                            <comment id="14609068" author="jira-bot" created="Tue, 30 Jun 2015 21:05:48 +0000"  >&lt;p&gt;Commit 1688518 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1688518&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1688518&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2847&quot; title=&quot;mergeDocumentsNonSeq does not utilize scratchFile&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2847&quot;&gt;&lt;del&gt;PDFBOX-2847&lt;/del&gt;&lt;/a&gt;: no scratchFile for command line utility&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12742709" name="pdfbox1.8.x.patch" size="1912" author="jtdevos" created="Tue, 30 Jun 2015 04:40:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 20 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2gnwn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>