<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:02:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3094] Merging PDFs with a Form is not retaining the field name values</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3094</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
       We are using pdfbox-app-2.0.0. I have 3 pdf forms a.pdf, b.pdf &amp;amp; c.pdf. Each of these forms are filled before i attempt to merge them. I can merge any two of these in any combination and the results looks good. &lt;br/&gt;
       If i merge any of these forms to the previous merge result then iam loosing field name values in the result  and also the form is not editable.&lt;/p&gt;

&lt;p&gt;Example:-&lt;/p&gt;

&lt;p&gt;a.pdf  merged with b.pdf to get ab.pdf&lt;/p&gt;

&lt;p&gt;If i merge ab.pdf with a.pdf, the resultant merged form will not have form field values in all the pages. It does have form field values in some pages.&lt;/p&gt;

&lt;p&gt;Is there a limitation or restriction on merging same pdf forms more than once ?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Reddy&lt;/p&gt;</description>
                <environment></environment>
        <key id="12911076">PDFBOX-3094</key>
            <summary>Merging PDFs with a Form is not retaining the field name values</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="msahyoun">Maruan Sahyoun</assignee>
                                    <reporter username="reddyval">srinivas valisekkagari</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Nov 2015 14:58:11 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:01 +0000</updated>
                            <resolved>Mon, 16 Nov 2015 16:36:29 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14993796" author="msahyoun" created="Fri, 6 Nov 2015 15:18:25 +0000"  >&lt;p&gt;So you need to merge the same PDF into the result multiple times? Would you have samples for you a.pdf, b.pdf and c.pdf?&lt;/p&gt;</comment>
                            <comment id="14993874" author="reddyval" created="Fri, 6 Nov 2015 16:14:57 +0000"  >&lt;p&gt;Hi Maruan,&lt;br/&gt;
                  Thank You for your response. Attached is a zip file with  pdfs (forms filled with fake data) that iam trying to merge.&lt;br/&gt;
Here is the sequence :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;FormA_Final.pdf filled with FormB_Final.pdf to create FormAB_Final.pdf  (All the data in the forms that was filled before is retained)&lt;/li&gt;
	&lt;li&gt;FormAB_Final.pdf is then merged with ExtForm1.pdf to create FormAB_Final_ExtForm1.pdf&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In FormAB_Final_ExtForm1.pdf , you can see that the third page ( Section IV. PRIOR CONVICTION) lost the data. The form fields are blank and not editable.&lt;br/&gt;
The remaining pdf pages look good.&lt;/p&gt;

&lt;p&gt;Let me know if you need any other details.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Reddy&lt;/p&gt;</comment>
                            <comment id="14993879" author="reddyval" created="Fri, 6 Nov 2015 16:20:06 +0000"  >&lt;p&gt;Note that FormA_Final.pdf, FormB_Final.pdf and ExtForm1.pdf have some common fields.&lt;/p&gt;

&lt;p&gt;Here are some of the fields :&lt;/p&gt;

&lt;p&gt;SourceCode:1 - SourceCode:26, &lt;br/&gt;
Offense:1 - Offense:26, &lt;br/&gt;
FileNo:1 - FileNo:26&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;If the common field names was the issue to loose form field values then it does appear to be the case when FormA_Final.pdf &amp;amp; FormB_Final.pdf were merged to create FormAB_Final.pdf&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14994045" author="msahyoun" created="Fri, 6 Nov 2015 17:32:03 +0000"  >&lt;p&gt;what&apos;s the result you expect. Shall common fields within the different forms be treated as the same fields (thats what Acrobat does) or shall they be treated as different fields (that&apos;s what we are currently trying to do)?&lt;/p&gt;</comment>
                            <comment id="14994079" author="reddyval" created="Fri, 6 Nov 2015 17:56:23 +0000"  >&lt;p&gt;Expected Result :&lt;br/&gt;
                           I am filling the forms and saving them first before attempting to merge them to a new file. I would like to retain the form field values after merge.&lt;br/&gt;
Also the form fields need to be editable after the merge. &lt;br/&gt;
                         With what iam trying to accomplish is there an issue because of common fields with in the files ?&lt;/p&gt;</comment>
                            <comment id="14994095" author="msahyoun" created="Fri, 6 Nov 2015 18:05:40 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Also the form fields need to be editable after the merge. &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s fine, and I&apos;m investigating why the fields are no longer editable. Now with the merged forms you have fields which are common across all forms. If the user changes such a field&apos;s value should that be replicated in such fields or shall they be treated independent of each other. E.g. what happens if the users modifies `File No.` on the first page of the merged form. Will the new value be the value for all appearances of that field?&lt;/p&gt;

&lt;p&gt;My opinion on that is that this should be the case.&lt;/p&gt;</comment>
                            <comment id="14994110" author="reddyval" created="Fri, 6 Nov 2015 18:09:25 +0000"  >&lt;p&gt;After surfacing the merged form to the user, if the user changes value of one of the common fields in a given page its fine. That change does not need to be reflected everywhere else in the form with the same field name. i,e common fields will need to be treated independent of each other after the merge.&lt;/p&gt;</comment>
                            <comment id="14994142" author="reddyval" created="Fri, 6 Nov 2015 18:22:11 +0000"  >&lt;p&gt;Here is my use case of these 3 forms in case it helps :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The courts use Form A or Form B depending upon the date of offense of a person.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;In each form we can only fill in either 26 (Form A) or 36 (Form B) prior convicted offenses (Section IV). If we have many prior convictions then&lt;br/&gt;
  we need to use extended form (Form C) which can only accommodate 39 more convictions.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The situations where i need to merge more than once is if the person has many prior convictions.&lt;/p&gt;

&lt;p&gt;Example :- A person has 100 prior convicted offenses.&lt;/p&gt;

&lt;p&gt;We need to use Form A + extended form + extended form (26 + 39 + 39 = 104 prior convictions can be accomodated).&lt;/p&gt;

&lt;p&gt;In each extended form unique information is written. So iam trying to merge in that order and generate a single pdf at the end with all the prior conviction information for that person.&lt;/p&gt;


</comment>
                            <comment id="14994192" author="msahyoun" created="Fri, 6 Nov 2015 18:48:30 +0000"  >&lt;p&gt;after merging as you wanted the fields to remain editable will there be further changes to the form possible? &lt;/p&gt;</comment>
                            <comment id="14994208" author="msahyoun" created="Fri, 6 Nov 2015 18:52:30 +0000"  >&lt;p&gt;mhmm - will the user understand that? Let&apos;s say he changes the &apos;File No.&apos; on the 1st page of the merged form page 3 and 5 will still have the old information. Same for name etc.&lt;/p&gt;</comment>
                            <comment id="14994332" author="reddyval" created="Fri, 6 Nov 2015 19:58:55 +0000"  >&lt;p&gt;After merging the pdfs, the resultant form fields need to en editable for following reasons :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;user needs to fill in some fields that are left blank as we didn&apos;t have the information while generating the form&lt;/li&gt;
	&lt;li&gt;user may need to edit and modify the information in any of the form fields that were already filled as&lt;br/&gt;
  the information may be incorrect.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Note that the user will print the resultant form after these edits and will not be able to save the form (for security reasons).&lt;/p&gt;</comment>
                            <comment id="14995226" author="reddyval" created="Sat, 7 Nov 2015 14:19:26 +0000"  >&lt;p&gt;Yes. The user is aware that once the final form is generated, any change to a field that&apos;s repeated in many pages need to be done is other areas.&lt;/p&gt;</comment>
                            <comment id="14996988" author="reddyval" created="Mon, 9 Nov 2015 17:47:59 +0000"  >&lt;p&gt;Hi Maruan,&lt;br/&gt;
                Were you able to reproduce the issue on your end ? If so when can we expect a fix for it ?&lt;br/&gt;
Thanks for any update on this.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Reddy&lt;/p&gt;</comment>
                            <comment id="15000628" author="jira-bot" created="Wed, 11 Nov 2015 16:38:43 +0000"  >&lt;p&gt;Commit 1713886 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1713886&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1713886&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3094&quot; title=&quot;Merging PDFs with a Form is not retaining the field name values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3094&quot;&gt;&lt;del&gt;PDFBOX-3094&lt;/del&gt;&lt;/a&gt;: add to existing fields; iterate over all source fields&lt;/p&gt;</comment>
                            <comment id="15000631" author="jira-bot" created="Wed, 11 Nov 2015 16:41:07 +0000"  >&lt;p&gt;Commit 1713888 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1713888&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1713888&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3094&quot; title=&quot;Merging PDFs with a Form is not retaining the field name values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3094&quot;&gt;&lt;del&gt;PDFBOX-3094&lt;/del&gt;&lt;/a&gt;: remove unused method and imports&lt;/p&gt;</comment>
                            <comment id="15000635" author="msahyoun" created="Wed, 11 Nov 2015 16:42:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reddyval&quot; class=&quot;user-hover&quot; rel=&quot;reddyval&quot;&gt;reddyval&lt;/a&gt; could you test and let me know if that fixes you issue?&lt;/p&gt;</comment>
                            <comment id="15000742" author="reddyval" created="Wed, 11 Nov 2015 17:33:47 +0000"  >&lt;p&gt;Thanks Maruan for the update. I will use r1713888 of PDFMergerUtility.java and test the changes.&lt;/p&gt;</comment>
                            <comment id="15000887" author="reddyval" created="Wed, 11 Nov 2015 18:54:21 +0000"  >&lt;p&gt;Hi Maruan,&lt;br/&gt;
                 After testing with r1713888 of   PDFMergerUtility.java, attached is the pdf file of the same test described above (5 days back) :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;FormA_Final.pdf merged with FormB_Final.pdf to create FormAB_Final.pdf (All the data in the forms that was filled before is retained)&lt;/li&gt;
	&lt;li&gt;FormAB_Final.pdf is then merged with ExtForm1.pdf to create FormAB_Final_ExtForm1.pdf&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In FormAB_Final_ExtForm1.pdf , you can see in the last page the data is lost for the section PRIOR CONVICTIONS. The form fields are blank and not editable (noticed that only the last 3 rows are editable and last 2 columns for some of previous rows before that).&lt;/p&gt;

&lt;p&gt;Let me know if you need any other details.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Reddy&lt;/p&gt;</comment>
                            <comment id="15000909" author="reddyval" created="Wed, 11 Nov 2015 19:07:48 +0000"  >&lt;p&gt;One strange thing i noticed just now is that i have opened the pdf of my test results and viewed it using Adode Reader XI (Version 11.0.13). I don&apos;t see data for last page as explained above.&lt;/p&gt;

&lt;p&gt;When the open the same pdf from this jira attachment ,&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;i can see the form fields in the last page (page 5) and&lt;/li&gt;
	&lt;li&gt;when i select one of the fields different value is shown&lt;br/&gt;
  ex:- Click on the first row with Offenses value of &apos;TEST TEST&apos;, it will show 12IS12,23IS34.&lt;br/&gt;
    Similarly if i select other rows its showing different values.&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="15001803" author="jira-bot" created="Thu, 12 Nov 2015 07:40:21 +0000"  >&lt;p&gt;Commit 1713970 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1713970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1713970&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3094&quot; title=&quot;Merging PDFs with a Form is not retaining the field name values&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3094&quot;&gt;&lt;del&gt;PDFBOX-3094&lt;/del&gt;&lt;/a&gt;: determine unique field number between individual runs&lt;/p&gt;</comment>
                            <comment id="15001935" author="msahyoun" created="Thu, 12 Nov 2015 10:28:56 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=reddyval&quot; class=&quot;user-hover&quot; rel=&quot;reddyval&quot;&gt;reddyval&lt;/a&gt; there was another issue where field names were not unique if a merge was done before which also had non unique fields. My last commit should resolve that. Could you give it another try?&lt;/p&gt;</comment>
                            <comment id="15002137" author="reddyval" created="Thu, 12 Nov 2015 14:07:17 +0000"  >&lt;p&gt;Thanks Maruan for the update. I will test the change now.&lt;/p&gt;</comment>
                            <comment id="15004139" author="reddyval" created="Fri, 13 Nov 2015 15:44:44 +0000"  >&lt;p&gt;Maruan,&lt;br/&gt;
       That fixed the issue. Attached is the pdf of result of my test case.&lt;br/&gt;
Many thanks for your timely response to this issue and resolving it.&lt;/p&gt;

&lt;p&gt;This jira can be closed.&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
-Reddy&lt;/p&gt;</comment>
                            <comment id="15006887" author="msahyoun" created="Mon, 16 Nov 2015 16:36:29 +0000"  >&lt;p&gt;resolving as per users feedback. See &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3111&quot; title=&quot;Replicate Acrobat behavior when merging PDFs with interactive forms&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3111&quot;&gt;PDFBOX-3111&lt;/a&gt; for a follow up enhancement.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12772217" name="FormAB_Final_ExtForm1.pdf" size="1220791" author="reddyval" created="Fri, 13 Nov 2015 15:39:22 +0000"/>
                            <attachment id="12771812" name="FormAB_Final_ExtForm1.pdf" size="1220791" author="reddyval" created="Wed, 11 Nov 2015 18:56:47 +0000"/>
                            <attachment id="12771045" name="TestPdfForms.zip" size="2239861" author="reddyval" created="Fri, 6 Nov 2015 16:09:56 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2o2bj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>