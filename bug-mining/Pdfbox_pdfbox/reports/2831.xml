<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:13:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5665] NPE when converting pdf to image.</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5665</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;For attached pdf I am getting a null pointer exception when converting it to image. Log attached.&lt;/p&gt;

&lt;p&gt;java.lang.NullPointerException at org.apache.pdfbox.rendering.PageDrawer.getPaint(PageDrawer.java:355) at org.apache.pdfbox.rendering.PageDrawer.getNonStrokingPaint(PageDrawer.java:747) at org.apache.pdfbox.rendering.PageDrawer.fillPath(PageDrawer.java:914) at org.apache.pdfbox.rendering.PageDrawer.fillAndStrokePath(PageDrawer.java:1019) at org.apache.pdfbox.contentstream.operator.graphics.FillNonZeroAndStrokePath.process(FillNonZeroAndStrokePath.java:39) at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:939) at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:514) at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:492) at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:155) at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:282) at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:355)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13548972">PDFBOX-5665</key>
            <summary>NPE when converting pdf to image.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="ritudubey">Ritu Dubey</reporter>
                        <labels>
                    </labels>
                <created>Tue, 29 Aug 2023 11:42:53 +0000</created>
                <updated>Sun, 5 Nov 2023 11:33:43 +0000</updated>
                            <resolved>Tue, 29 Aug 2023 17:43:57 +0000</resolved>
                                    <version>2.0.25</version>
                    <version>2.0.29</version>
                    <version>3.0.0 PDFBox</version>
                    <version>4.0.0</version>
                                    <fixVersion>2.0.30</fixVersion>
                    <fixVersion>3.0.1 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17760016" author="tilman" created="Tue, 29 Aug 2023 16:01:01 +0000"  >&lt;p&gt;The cause is a comment in a content stream. I doubt that this is legit: &quot;Any occurrence of the PERCENT SIGN (25h) outside a string or stream introduces a comment&quot;. You can see them by opening the file I just uploaded &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13062562/13062562_PDFBOX-5665-2_unc.pdf&quot; title=&quot;PDFBOX-5665-2_unc.pdf attached to PDFBOX-5665&quot;&gt;PDFBOX-5665-2_unc.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; with NOTEPAD++ and search for &quot;%&quot;.&lt;/p&gt;

&lt;p&gt;Of course it&apos;s wrong to throw an NPE.&lt;/p&gt;</comment>
                            <comment id="17760029" author="JIRAUSER301992" created="Tue, 29 Aug 2023 16:37:31 +0000"  >&lt;p&gt;If I split out that page specifically using online tools then it works!&lt;/p&gt;</comment>
                            <comment id="17760055" author="jira-bot" created="Tue, 29 Aug 2023 17:32:29 +0000"  >&lt;p&gt;Commit 1911990 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1911990&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1911990&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5665&quot; title=&quot;NPE when converting pdf to image.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5665&quot;&gt;&lt;del&gt;PDFBOX-5665&lt;/del&gt;&lt;/a&gt;: percent isn&apos;t part of an operator&lt;/p&gt;</comment>
                            <comment id="17760056" author="jira-bot" created="Tue, 29 Aug 2023 17:32:34 +0000"  >&lt;p&gt;Commit 1911991 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1911991&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1911991&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5665&quot; title=&quot;NPE when converting pdf to image.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5665&quot;&gt;&lt;del&gt;PDFBOX-5665&lt;/del&gt;&lt;/a&gt;: percent isn&apos;t part of an operator&lt;/p&gt;</comment>
                            <comment id="17760057" author="jira-bot" created="Tue, 29 Aug 2023 17:32:39 +0000"  >&lt;p&gt;Commit 1911992 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1911992&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1911992&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5665&quot; title=&quot;NPE when converting pdf to image.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5665&quot;&gt;&lt;del&gt;PDFBOX-5665&lt;/del&gt;&lt;/a&gt;: percent isn&apos;t part of an operator&lt;/p&gt;</comment>
                            <comment id="17760065" author="tilman" created="Tue, 29 Aug 2023 17:43:57 +0000"  >&lt;p&gt;Regardless whether it&apos;s a correct PDF or not, the problem is now fixed. There should be a snapshot version in an hour here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.30-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.30-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for submitting this file!&lt;/p&gt;</comment>
                            <comment id="17760272" author="mkl" created="Wed, 30 Aug 2023 07:52:28 +0000"  >&lt;blockquote&gt;&lt;p&gt;The cause is a comment in a content stream. I doubt that this is legit: &quot;Any occurrence of the PERCENT SIGN (25h) outside a string or stream introduces a comment&quot;.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It is valid.&lt;/p&gt;

&lt;p&gt;You quote from ISO 32000-1. Already here that characterization was incomplete as one can see in some example content streams, e.g. the colored tiling pattern examples.&lt;/p&gt;

&lt;p&gt;In ISO 32000-2 that has been changed to&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Any occurrence of the PERCENT SIGN (25h) outside a string or inside a content stream (see 7.8.2, &quot;Content streams&quot;) introduces a comment.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;which isn&apos;t that much better as it, strictly speaking, even makes `%`s in arbitrary binary streams starts of comments. Which is not intended of course.&lt;/p&gt;

&lt;p&gt;A clarification hereof has been the topic of &lt;a href=&quot;https://github.com/pdf-association/pdf-issues/issues/273&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/pdf-association/pdf-issues/issues/273&lt;/a&gt; for quite a while now.&lt;/p&gt;</comment>
                            <comment id="17760328" author="JIRAUSER301992" created="Wed, 30 Aug 2023 11:21:05 +0000"  >&lt;p&gt;Thank you for the snapshot version. Just wanted to know when can we expect the release?&lt;/p&gt;</comment>
                            <comment id="17760556" author="tilman" created="Wed, 30 Aug 2023 17:43:54 +0000"  >&lt;p&gt;Don&apos;t know, likely several months. We just had a release.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13062562" name="PDFBOX-5665-2_unc.pdf" size="153808" author="tilman" created="Tue, 29 Aug 2023 15:58:15 +0000"/>
                            <attachment id="13062559" name="test.pdf" size="1055162" author="ritudubey" created="Tue, 29 Aug 2023 11:41:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1k2ew:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>