<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:14:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5829] IOException: Error expected floating point numberactual=&apos;-12.-1&apos;</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5829</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description></description>
                <environment></environment>
        <key id="13580480">PDFBOX-5829</key>
            <summary>IOException: Error expected floating point numberactual=&apos;-12.-1&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Sun, 26 May 2024 09:51:23 +0000</created>
                <updated>Wed, 24 Jul 2024 16:02:05 +0000</updated>
                            <resolved>Sun, 26 May 2024 13:14:45 +0000</resolved>
                                    <version>2.0.31</version>
                    <version>3.0.2 PDFBox</version>
                    <version>4.0.0</version>
                                    <fixVersion>2.0.32</fixVersion>
                    <fixVersion>3.0.3 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17849515" author="jira-bot" created="Sun, 26 May 2024 10:31:38 +0000"  >&lt;p&gt;Commit 1917969 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1917969&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1917969&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5829&quot; title=&quot;IOException: Error expected floating point numberactual=&amp;#39;-12.-1&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5829&quot;&gt;&lt;del&gt;PDFBOX-5829&lt;/del&gt;&lt;/a&gt;: suuport floats like &apos;-12.-1&apos;&lt;/p&gt;</comment>
                            <comment id="17849516" author="jira-bot" created="Sun, 26 May 2024 10:31:42 +0000"  >&lt;p&gt;Commit 1917970 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1917970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1917970&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5829&quot; title=&quot;IOException: Error expected floating point numberactual=&amp;#39;-12.-1&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5829&quot;&gt;&lt;del&gt;PDFBOX-5829&lt;/del&gt;&lt;/a&gt;: suuport floats like &apos;-12.-1&apos;&lt;/p&gt;</comment>
                            <comment id="17849517" author="jira-bot" created="Sun, 26 May 2024 10:31:46 +0000"  >&lt;p&gt;Commit 1917971 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1917971&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1917971&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5829&quot; title=&quot;IOException: Error expected floating point numberactual=&amp;#39;-12.-1&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5829&quot;&gt;&lt;del&gt;PDFBOX-5829&lt;/del&gt;&lt;/a&gt;: suuport floats like &apos;-12.-1&apos;&lt;/p&gt;</comment>
                            <comment id="17849518" author="mkl" created="Sun, 26 May 2024 10:39:01 +0000"  >&lt;p&gt;Are you sure you really want to force-interpret every bit of junk that is in a PDF instead of a number?&lt;/p&gt;

&lt;p&gt;Chances always are you interpret it differently than originally intended. Already the &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3500&quot; title=&quot;Error expected floating point number actual=&amp;#39;0.-262&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3500&quot;&gt;&lt;del&gt;PDFBOX-3500&lt;/del&gt;&lt;/a&gt; interpretations are questionable, what makes you sure &lt;tt&gt;0.-262&lt;/tt&gt; was meant to mean &lt;tt&gt;-0.262&lt;/tt&gt; and not e.g. two numbers &lt;tt&gt;0. -262&lt;/tt&gt;? Similarly here, is &lt;tt&gt;-12.-1&lt;/tt&gt; actually &lt;tt&gt;12.1&lt;/tt&gt; (minus times minus), &lt;tt&gt;-12.1&lt;/tt&gt; (overeager minus addition), &lt;tt&gt;-12. -1&lt;/tt&gt; (two numbers), or something else entirely?&lt;/p&gt;

&lt;p&gt;Yes, you can of course look what Acrobat appears to interpret that and copy that behavior, but that Acrobat is allowed to be a moving target concerning its interpretation of invalid data.&lt;/p&gt;

&lt;p&gt;As an alternative, what about an option to register some listener that allows customizing the handling of invalid numbers (or other data structures with invalid format, e.g. invalid dates)? PDFBox could already come with two implementations, a strict one that rejects all invalid stuff, and a more relaxed one that tries to fix in parallel to Acrobat. &lt;/p&gt;</comment>
                            <comment id="17849520" author="tilman" created="Sun, 26 May 2024 10:49:07 +0000"  >&lt;blockquote&gt;&lt;p&gt;what makes you sure 0.-262 was meant to mean -0.262 and not e.g. two numbers 0. -262? Similarly here, is -12.-1 actually 12.1 (minus times minus), -12.1 (overeager minus addition), -12. -1 (two numbers), or something else entirely?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;It&apos;s a best guess and we haven&apos;t had any specific complaints about the handling, i.e. that a specific job wend badly because of this &quot;repair&quot;. Ideally I&apos;d refuse every even slightly incorrect file, but in practice our users want us to accept these crappy files.&lt;/p&gt;

&lt;p&gt;Registering some listener sounds like another complexity level &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17849522" author="mkl" created="Sun, 26 May 2024 10:58:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Registering some listener sounds like another complexity level &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes, but at least all the interpretation of malformed data would be bundled.&lt;/p&gt;

&lt;p&gt;If someone now asks you for the code that repairs data, you have to point here and there and elsewhere etc.&lt;/p&gt;

&lt;p&gt;(Ok, admittedly, being more focused on signing use cases I&apos;m interested in not having changing appearances because of different processors re-interpreting invalid data differently, while other users simply are happy to be able to process all incoming junk and to simply point to the original PDF producer if an repair suddenly makes a difference. So I may be a minority voice in this regard.)&lt;/p&gt;</comment>
                            <comment id="17849524" author="msahyoun" created="Sun, 26 May 2024 11:21:22 +0000"  >&lt;p&gt;Adding a listener is something that we discussed earlier before (without a conclusion) but Apache Tika, Tim was also interested in that.&lt;/p&gt;

&lt;p&gt;Apache FOP has something like that we could use as a starter and when we discussed that it seemed like a good starting point. &lt;/p&gt;</comment>
                            <comment id="17849543" author="tilman" created="Sun, 26 May 2024 13:14:45 +0000"  >&lt;p&gt;If anybody wants to contribute something, then a new issue should be created.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13005248">PDFBOX-3500</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13069114" name="PDFBOX-5829.pdf" size="8225" author="tilman" created="Sun, 26 May 2024 09:52:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://lists.apache.org/thread/pzmw13dhbhgph5spk791zb9ofhz05tzz]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1pffs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>