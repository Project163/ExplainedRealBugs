<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:15:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5307] Image lost on page render</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5307</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;One image lost on page render (debug &amp;amp;&#160;PDFToImage commands)&lt;/p&gt;

&lt;p&gt;Pdf Looks correct in acrobat reader&lt;/p&gt;</description>
                <environment>mac os</environment>
        <key id="13408391">PDFBOX-5307</key>
            <summary>Image lost on page render</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="Brunarskyi">Maksym</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Oct 2021 09:30:14 +0000</created>
                <updated>Thu, 16 Jan 2025 16:44:24 +0000</updated>
                            <resolved>Tue, 31 Dec 2024 12:32:56 +0000</resolved>
                                    <version>2.0.24</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.33</fixVersion>
                    <fixVersion>3.0.4 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17434479" author="tilman" created="Tue, 26 Oct 2021 17:20:11 +0000"  >&lt;p&gt;this is here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Root/Pages/Kids/[0]/Resources/XObject/fzFrm0/Resources/XObject/fullpage/Resources/XObject/Fm14
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I doubt we&apos;ll be able to fix this soon. This is related to CMYK transparency groups and a softmask.&lt;/p&gt;</comment>
                            <comment id="17434672" author="tilman" created="Wed, 27 Oct 2021 05:44:29 +0000"  >&lt;p&gt;The softmask at &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Root/Pages/Kids/[0]/Resources/XObject/fzFrm0/Resources/XObject/fullpage/Resources/XObject/Fm14/Resources/ExtGState/GS1/SMask/G
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;is mostly black because&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
q
  /GS0 gs
  220.3272 0 0 102.4838 237.90558 112.27924 cm
  q
    8.16326E-4 0 0 0.001754386 0 0 cm
    /XO1 Do
  Q
Q
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;produces nothing due to the very small CTM. The backdrop is mostly black, the last of the 4 CMYK numbers is 0.92.&lt;/p&gt;

&lt;p&gt;A test with an empty softmask and no backdrop brings the same problem but Adobe shows the image.&lt;/p&gt;</comment>
                            <comment id="17434680" author="tilman" created="Wed, 27 Oct 2021 06:19:23 +0000"  >&lt;p&gt;My understanding of softmasks is that &quot;white&quot; is what stays, and &quot;black&quot; is what is removed. This would mean our rendering is correct. But obviously it isn&apos;t. If this &quot;rule&quot; is different with CMYK, then it would mean we&apos;d have many bad rendering on softmasks but that isn&apos;t the case.&lt;br/&gt;
So I&apos;m wondering if we possibly hit some weird corner case.&lt;/p&gt;

&lt;p&gt;Example of another softmask&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13035393/13035393_lumi-662-1635315280003.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17748843" author="lehmi" created="Sat, 29 Jul 2023 17:11:47 +0000"  >&lt;p&gt;Maybe it is related to the &quot;S&quot; value of the softmask. It is not &quot;Alpha&quot; but &quot;Luminosity&quot;.  &lt;tt&gt;PageDrawer.applySoftMaskToPaint(Paint, PDSoftMask)&lt;/tt&gt; does take the value into account but in the case of Luminosity it seems the image is just drawn instead of calculating some softmask effect. But I&apos;m not a softmask expert ...&lt;/p&gt;</comment>
                            <comment id="17909057" author="tilman" created="Tue, 31 Dec 2024 11:12:51 +0000"  >&lt;p&gt;It was fixed in PDF.js by Jonas Jenwald based on a remark by user &quot;SehoAhn&quot; (who came from nowhere), this resulted in the closure of 7 of their tickets. We have 48 rendering differences, mostly minor. For example, the file from their ticket 19240 looked ok in PDFBox, and after the change the difference is minimal.&lt;/p&gt;

&lt;p&gt;Very different files:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;this one&lt;/li&gt;
	&lt;li&gt;PDFJS-6967-p8.pdf&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Complete list:&lt;/p&gt;

&lt;p&gt;007087-payment-due-p1.pdf&lt;br/&gt;
007087-payment-due-p58.pdf&lt;br/&gt;
007087-payment-due-p58_reduced.pdf&lt;br/&gt;
bugzilla869140.pdf&lt;br/&gt;
eci_altona-test-suite-v2_technical2_one-patch-per-page_x4.pdf&lt;br/&gt;
gs-bugzilla690351-p7.pdf&lt;br/&gt;
gs-bugzilla691218.pdf&lt;br/&gt;
gs-bugzilla694556-3.pdf&lt;br/&gt;
gs-bugzilla695306.pdf&lt;br/&gt;
gs-bugzilla695995.pdf&lt;br/&gt;
gs-bugzilla696026.pdf&lt;br/&gt;
gs-bugzilla699305.pdf&lt;br/&gt;
ICEPDF-417.pdf&lt;br/&gt;
ICEPDF-417.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2103&quot; title=&quot;JPXFilter fails to decode some Jpeg2000 images&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2103&quot;&gt;&lt;del&gt;PDFBOX-2103&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2495&quot; title=&quot;Black shapes in the background of some rendered pages of some PDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2495&quot;&gt;&lt;del&gt;PDFBOX-2495&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2658&quot; title=&quot;PdfBox cannot render image with transparency&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2658&quot;&gt;&lt;del&gt;PDFBOX-2658&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4399&quot; title=&quot;Disabled optional content groups are rendered&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4399&quot;&gt;&lt;del&gt;PDFBOX-4399&lt;/del&gt;&lt;/a&gt;-OCG.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4492&quot; title=&quot;JVM crashes on PDFRenderer.renderImage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4492&quot;&gt;&lt;del&gt;PDFBOX-4492&lt;/del&gt;&lt;/a&gt;-jvm-crash-14dpi.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4798&quot; title=&quot;Wrong position of rendered image&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4798&quot;&gt;&lt;del&gt;PDFBOX-4798&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4798&quot; title=&quot;Wrong position of rendered image&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4798&quot;&gt;&lt;del&gt;PDFBOX-4798&lt;/del&gt;&lt;/a&gt;_reduced.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4850&quot; title=&quot;Image rendering issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4850&quot;&gt;&lt;del&gt;PDFBOX-4850&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4929&quot; title=&quot;Image Distorted (PDF to image conversion)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4929&quot;&gt;&lt;del&gt;PDFBOX-4929&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5307&quot; title=&quot;Image lost on page render&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5307&quot;&gt;&lt;del&gt;PDFBOX-5307&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5484&quot; title=&quot;PDFRenderer does not render letters when converting page to image&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5484&quot;&gt;&lt;del&gt;PDFBOX-5484&lt;/del&gt;&lt;/a&gt;-p1.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5795&quot; title=&quot;Crash for Softmask with incorrect backdrop color components&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5795&quot;&gt;&lt;del&gt;PDFBOX-5795&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
PDFIUM-1140.pdf&lt;br/&gt;
PDFJS-11666.pdf&lt;br/&gt;
PDFJS-12497.pdf&lt;br/&gt;
PDFJS-12501.pdf&lt;br/&gt;
PDFJS-14296.pdf&lt;br/&gt;
PDFJS-14830.pdf&lt;br/&gt;
PDFJS-18755-p1.pdf&lt;br/&gt;
PDFJS-19240-p1.pdf&lt;br/&gt;
PDFJS-3096.pdf&lt;br/&gt;
PDFJS-5811-2.pdf&lt;br/&gt;
PDFJS-6924.pdf&lt;br/&gt;
PDFJS-6967-p8.pdf&lt;br/&gt;
PDFJS-6967.pdf&lt;br/&gt;
PDFJS-6967_reduced_outside_softmask.pdf&lt;br/&gt;
PDFJS-7378.pdf&lt;br/&gt;
PDFJS-7992.pdf&lt;br/&gt;
PDFJS-8136-p1.pdf&lt;br/&gt;
PDFJS-8136-p1_reduced.pdf&lt;br/&gt;
PDFJS-8179.pdf&lt;br/&gt;
PDFJS-9592-p1-6.pdf&lt;br/&gt;
PDFJS-9787.pdf&lt;br/&gt;
PDFJS-9937-p1.pdf&lt;/p&gt;</comment>
                            <comment id="17909061" author="jira-bot" created="Tue, 31 Dec 2024 12:29:20 +0000"  >&lt;p&gt;Commit 1922798 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922798&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922798&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5307&quot; title=&quot;Image lost on page render&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5307&quot;&gt;&lt;del&gt;PDFBOX-5307&lt;/del&gt;&lt;/a&gt;: for images that include SMask/Mask entries, ignore an SMask defined in the current graphics state, as done by SehoAhn and Jonas Jenwald in PDF.js PR 19269&lt;/p&gt;</comment>
                            <comment id="17909062" author="jira-bot" created="Tue, 31 Dec 2024 12:29:24 +0000"  >&lt;p&gt;Commit 1922799 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922799&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922799&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5307&quot; title=&quot;Image lost on page render&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5307&quot;&gt;&lt;del&gt;PDFBOX-5307&lt;/del&gt;&lt;/a&gt;: for images that include SMask/Mask entries, ignore an SMask defined in the current graphics state, as done by SehoAhn and Jonas Jenwald in PDF.js PR 19269&lt;/p&gt;</comment>
                            <comment id="17909063" author="jira-bot" created="Tue, 31 Dec 2024 12:29:28 +0000"  >&lt;p&gt;Commit 1922800 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922800&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922800&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5307&quot; title=&quot;Image lost on page render&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5307&quot;&gt;&lt;del&gt;PDFBOX-5307&lt;/del&gt;&lt;/a&gt;: for images that include SMask/Mask entries, ignore an SMask defined in the current graphics state, as done by SehoAhn and Jonas Jenwald in PDF.js PR 19269&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13035407" name="PDFBOX-5307-reduced.pdf" size="679384" author="tilman" created="Wed, 27 Oct 2021 16:30:05 +0000"/>
                            <attachment id="13035344" name="issue_file.pdf" size="2318597" author="Brunarskyi" created="Tue, 26 Oct 2021 09:27:33 +0000"/>
                            <attachment id="13035343" name="issue_file_pdfbox_result.jpg" size="145041" author="Brunarskyi" created="Tue, 26 Oct 2021 09:27:49 +0000"/>
                            <attachment id="13035393" name="lumi-662-1635315280003.png" size="1345" author="tilman" created="Wed, 27 Oct 2021 06:20:51 +0000"/>
                            <attachment id="13035345" name="screenshot from acrobat.png" size="1083652" author="Brunarskyi" created="Tue, 26 Oct 2021 09:35:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0w5qg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>