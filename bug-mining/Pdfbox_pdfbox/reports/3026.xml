<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:15:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5920] PDType0Font return invalid space width</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5920</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;WinAnsiEncoding supports not all available characters from the font. That is the reason why we moved to the workaround proposed by FAQ, also to use PDType0Font. Now we have realized, that returned space width from&#160;font.getSpaceWidth() returns invalid value.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&#160;class FontWidthTest {

    @Test
    void pdType0FontTest() throws IOException {
        try (InputStream fontStream = FontWidthTest.class.getResourceAsStream(&quot;/texgyreheros-regular.ttf&quot;);
             PDDocument document = new PDDocument()) {
            PDFont font = PDType0Font.load(document, fontStream, false);
            assertEquals(20064.0, font.getStringWidth(&quot;The quick brown fox jumps over the lazy dog.&quot;));
            assertEquals(278.0, font.getSpaceWidth()); // FAIL: returns 584.0
        }
    }

    @Test
    void pdTrueTypeFontTest() throws IOException {
        try (InputStream fontStream = FontWidthTest.class.getResourceAsStream(&quot;/texgyreheros-regular.ttf&quot;);
             PDDocument document = new PDDocument()) {
            PDFont font = PDTrueTypeFont.load(document, fontStream, WinAnsiEncoding.INSTANCE);
            assertEquals(20064.0, font.getStringWidth(&quot;The quick brown fox jumps over the lazy dog.&quot;));
            assertEquals(278.0, font.getSpaceWidth());
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13601539">PDFBOX-5920</key>
            <summary>PDType0Font return invalid space width</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="myroch">Miroslav Holubec</reporter>
                        <labels>
                            <label>fontwidth</label>
                            <label>truetype</label>
                    </labels>
                <created>Tue, 10 Dec 2024 10:56:20 +0000</created>
                <updated>Thu, 16 Jan 2025 16:44:18 +0000</updated>
                            <resolved>Tue, 7 Jan 2025 13:27:54 +0000</resolved>
                                    <version>2.0.32</version>
                    <version>3.0.3 PDFBox</version>
                                    <fixVersion>2.0.33</fixVersion>
                    <fixVersion>3.0.4 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17904534" author="tilman" created="Tue, 10 Dec 2024 14:45:49 +0000"  >&lt;p&gt;In &lt;tt&gt;getFontWidth()&lt;/tt&gt; it goes to &lt;tt&gt;fontWidthOfSpace = getWidth(32);&lt;/tt&gt; instead of using code 3. However &lt;tt&gt;font.getStringWidth(&quot; &quot;)&lt;/tt&gt; delivers the correct result. So what&apos;s missing here is some encoding.&lt;/p&gt;</comment>
                            <comment id="17904602" author="tilman" created="Tue, 10 Dec 2024 18:26:39 +0000"  >&lt;p&gt;I tried using &lt;tt&gt;font.getStringWidth(&quot; &quot;)&lt;/tt&gt; for &lt;tt&gt;getFontWidth()&lt;/tt&gt; and there are many text extraction differences. However all except one are improvements! One not improved is &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2959&quot; title=&quot;type3 font glyphs overlapped&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2959&quot;&gt;&lt;del&gt;PDFBOX-2959&lt;/del&gt;&lt;/a&gt;. That&apos;s because type3 fonts don&apos;t support encoding. I&apos;ll investigate that next.&lt;/p&gt;

&lt;p&gt;improved:&lt;br/&gt;
7LRS5U6CAFMN2P6JPTZVNBUW6XOFYH4M.pdf&lt;br/&gt;
10.5445IR1000150280-p15.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3782&quot; title=&quot;Text extraction loses whitespace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3782&quot;&gt;PDFBOX-3782&lt;/a&gt;-reduced.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4934&quot; title=&quot;Could not find referenced cmap stream Adobe-Japan1-XXXX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4934&quot;&gt;&lt;del&gt;PDFBOX-4934&lt;/del&gt;&lt;/a&gt;-JP.pdf&lt;/p&gt;

&lt;p&gt;others:&lt;br/&gt;
artikel1_20_arab.pdf  unclear&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-756&quot; title=&quot;Some characters from TeX-created files are mapped into ASCII range 1-31&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-756&quot;&gt;&lt;del&gt;PDFBOX-756&lt;/del&gt;&lt;/a&gt;-p1.pdf  not better&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2959&quot; title=&quot;type3 font glyphs overlapped&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2959&quot;&gt;&lt;del&gt;PDFBOX-2959&lt;/del&gt;&lt;/a&gt;-reduced.pdf not better&lt;br/&gt;
SO51672080-tiny-gaps.pdf irrelevant&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5324&quot; title=&quot;support get unicode from embedded  TrueTypeFont cmap&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5324&quot;&gt;&lt;del&gt;PDFBOX-5324&lt;/del&gt;&lt;/a&gt;.pdf irrelevant&lt;/p&gt;</comment>
                            <comment id="17904736" author="tilman" created="Wed, 11 Dec 2024 09:18:20 +0000"  >&lt;p&gt;It turns out that using the fallback 250 improves many cases, but the fallback should only be used as last resort.&lt;/p&gt;

&lt;p&gt;The most important is to pass your test so I&apos;ll insert my solution first without changing parts I didn&apos;t like in the existing code, before looking at files that may be improved. It turns out that your tests fails on the liberation sans font and with the same values so we won&apos;t have to use your font at all.&lt;/p&gt;</comment>
                            <comment id="17904741" author="jira-bot" created="Wed, 11 Dec 2024 09:35:31 +0000"  >&lt;p&gt;Commit 1922425 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922425&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: try to get space width by encoding first; add test by Miroslav Holubec&lt;/p&gt;</comment>
                            <comment id="17904742" author="jira-bot" created="Wed, 11 Dec 2024 09:35:35 +0000"  >&lt;p&gt;Commit 1922426 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922426&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922426&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: try to get space width by encoding first; add test by Miroslav Holubec&lt;/p&gt;</comment>
                            <comment id="17904743" author="jira-bot" created="Wed, 11 Dec 2024 09:35:40 +0000"  >&lt;p&gt;Commit 1922427 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922427&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922427&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: try to get space width by encoding first; add test by Miroslav Holubec&lt;/p&gt;</comment>
                            <comment id="17904746" author="tilman" created="Wed, 11 Dec 2024 09:42:17 +0000"  >&lt;p&gt;This commit fixes the bug and improves 10.5445IR1000150280-p15.pdf .&lt;/p&gt;</comment>
                            <comment id="17904774" author="tilman" created="Wed, 11 Dec 2024 11:45:14 +0000"  >&lt;p&gt;There&apos;s now a snapshot at&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/3.0.4-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/3.0.4-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I looked at the other files... Sadly, these are files where the fonts itself return bad data. I won&apos;t change the code parts that retrieve width for code 32 this time despite that I don&apos;t trust this, because all alternatives I tried also brought some quality loss in some files. Maybe the text extraction algorithm itself should be improved.&lt;/p&gt;</comment>
                            <comment id="17904792" author="myroch" created="Wed, 11 Dec 2024 13:15:17 +0000"  >&lt;p&gt;danke vielmals Tilman!&lt;/p&gt;</comment>
                            <comment id="17909868" author="tilman" created="Sun, 5 Jan 2025 11:46:01 +0000"  >&lt;p&gt;Space lost in files:&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13073782/13073782_PDFBOX-5920-862271-p1-superscript-prefix_reduced.pdf&quot; title=&quot;PDFBOX-5920-862271-p1-superscript-prefix_reduced.pdf attached to PDFBOX-5920&quot;&gt;PDFBOX-5920-862271-p1-superscript-prefix_reduced.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;br/&gt;
Space width for font CMSS8 is 354.0&lt;br/&gt;
It turns out that the space is in the font. So this case is bad luck, it looked better previously for the &quot;wrong reasons&quot;. Subscript / superscript are difficult anyway.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13073781/13073781_PDFBOX-5920-054514-p6_reduced.pdf&quot; title=&quot;PDFBOX-5920-054514-p6_reduced.pdf attached to PDFBOX-5920&quot;&gt;PDFBOX-5920-054514-p6_reduced.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;br/&gt;
Space width for font LZMRSS+Times-Roman~14 is 1000.0&lt;/p&gt;

&lt;p&gt;getStringWidth(&quot; &quot;) for that one returns 1000, but this is incorrect IMHO, because the space doesn&apos;t exist in that font, nameToGID(&quot;space&quot;) returns 0 because space doesn&apos;t exist in that charset. However no exception is thrown.&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13073783/13073783_PDFBOX-5920-Y5U2XZCKG2U6TO3FC36NCGOZECHQA2PY-p39-reduced.pdf&quot; title=&quot;PDFBOX-5920-Y5U2XZCKG2U6TO3FC36NCGOZECHQA2PY-p39-reduced.pdf attached to PDFBOX-5920&quot;&gt;PDFBOX-5920-Y5U2XZCKG2U6TO3FC36NCGOZECHQA2PY-p39-reduced.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;br/&gt;
Space width for font OCRJQP+Times-Roman is 1000.0&lt;/p&gt;

&lt;p&gt;likely same problem as the previous file.&lt;/p&gt;</comment>
                            <comment id="17909925" author="jira-bot" created="Sun, 5 Jan 2025 16:25:45 +0000"  >&lt;p&gt;Commit 1922902 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922902&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922902&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: make sure that the exception is thrown if space isn&apos;t in the font&lt;/p&gt;</comment>
                            <comment id="17909926" author="jira-bot" created="Sun, 5 Jan 2025 16:25:48 +0000"  >&lt;p&gt;Commit 1922903 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922903&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: make sure that the exception is thrown if space isn&apos;t in the font&lt;/p&gt;</comment>
                            <comment id="17909927" author="jira-bot" created="Sun, 5 Jan 2025 16:25:52 +0000"  >&lt;p&gt;Commit 1922904 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922904&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922904&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: make sure that the exception is thrown if space isn&apos;t in the font&lt;/p&gt;</comment>
                            <comment id="17909928" author="tilman" created="Sun, 5 Jan 2025 16:28:22 +0000"  >&lt;p&gt;The last commit improves two of the files, it just ensures that the intent of the previous code change is followed, e.g. skip a segment if the space doesn&apos;t exist in the font.&lt;br/&gt;
It worsens the extraction of 10.5445IR1000150280-p15.pdf (don&apos;t know where I got that one), but that one already had many other similar problems.&lt;/p&gt;</comment>
                            <comment id="17909945" author="jira-bot" created="Sun, 5 Jan 2025 18:21:26 +0000"  >&lt;p&gt;Commit 1922905 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922905&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922905&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="17909946" author="jira-bot" created="Sun, 5 Jan 2025 18:21:33 +0000"  >&lt;p&gt;Commit 1922906 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922906&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922906&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="17909947" author="jira-bot" created="Sun, 5 Jan 2025 18:21:38 +0000"  >&lt;p&gt;Commit 1922907 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922907&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922907&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="17910015" author="lehmi" created="Mon, 6 Jan 2025 07:04:47 +0000"  >&lt;p&gt;@Tilman your fix is valid but maybe it is a better idea to fix the implementaion in &lt;tt&gt;org.apache.pdfbox.pdmodel.font.PDType1CFont.getStringWidth(String)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;How about adding &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
cffFont.hasGlyph(string)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;right after the check of the cffFont?&lt;/p&gt;

&lt;p&gt;That should trigger the missing exception and more important, the check in PDFont is no longer needed. WDYT?&lt;/p&gt;</comment>
                            <comment id="17910046" author="tilman" created="Mon, 6 Jan 2025 08:29:53 +0000"  >&lt;p&gt;Thank you, will do. Surprisingly it&apos;s even BETTER than before, e.g. the regression of the superscript file goes away too. Maybe that call is more restrictive.&lt;/p&gt;</comment>
                            <comment id="17910048" author="jira-bot" created="Mon, 6 Jan 2025 08:33:45 +0000"  >&lt;p&gt;Commit 1922914 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922914&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922914&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: revert previous commit and check whether the name exists in PDType1CFont.getWidth(), as suggested by Andreas Lehmk&#195;&#188;hler&lt;/p&gt;</comment>
                            <comment id="17910049" author="jira-bot" created="Mon, 6 Jan 2025 08:33:49 +0000"  >&lt;p&gt;Commit 1922915 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922915&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922915&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: revert previous commit and check whether the name exists in PDType1CFont.getWidth(), as suggested by Andreas Lehmk&#195;&#188;hler&lt;/p&gt;</comment>
                            <comment id="17910050" author="jira-bot" created="Mon, 6 Jan 2025 08:33:53 +0000"  >&lt;p&gt;Commit 1922916 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922916&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922916&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: revert previous commit and check whether the name exists in PDType1CFont.getWidth(), as suggested by Andreas Lehmk&#195;&#188;hler&lt;/p&gt;</comment>
                            <comment id="17910060" author="jira-bot" created="Mon, 6 Jan 2025 09:07:06 +0000"  >&lt;p&gt;Commit 1922920 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922920&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922920&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: check whether the name exists in PDType1CFont.getWidth(), as suggested by Andreas Lehmk&#195;&#188;hler&lt;/p&gt;</comment>
                            <comment id="17910061" author="jira-bot" created="Mon, 6 Jan 2025 09:07:09 +0000"  >&lt;p&gt;Commit 1922921 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922921&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922921&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: check whether the name exists in PDType1CFont.getWidth(), as suggested by Andreas Lehmk&#195;&#188;hler&lt;/p&gt;</comment>
                            <comment id="17910062" author="jira-bot" created="Mon, 6 Jan 2025 09:07:13 +0000"  >&lt;p&gt;Commit 1922922 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922922&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: check whether the name exists in PDType1CFont.getWidth(), as suggested by Andreas Lehmk&#195;&#188;hler&lt;/p&gt;</comment>
                            <comment id="17910234" author="tilman" created="Mon, 6 Jan 2025 13:56:47 +0000"  >&lt;p&gt;I noticed I had less improved files in the recent tests. Here&apos;s one file:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13073799/13073799_PDFBOX-5920-4MQTG6ZXOYSMTQ444KGQOVC6ZFQHWFNY-spaces-reduced.pdf&quot; title=&quot;PDFBOX-5920-4MQTG6ZXOYSMTQ444KGQOVC6ZFQHWFNY-spaces-reduced.pdf attached to PDFBOX-5920&quot;&gt;PDFBOX-5920-4MQTG6ZXOYSMTQ444KGQOVC6ZFQHWFNY-spaces-reduced.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;The problem is that &lt;tt&gt;cffFont.hasGlyph(&quot;space&quot;)&lt;/tt&gt; returns false, although encoding and width would work. Likely because space isn&apos;t &quot;really&quot; a glyph.&lt;/p&gt;</comment>
                            <comment id="17910518" author="jira-bot" created="Tue, 7 Jan 2025 07:08:16 +0000"  >&lt;p&gt;Commit 1922937 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922937&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922937&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: use name of glyph&lt;/p&gt;</comment>
                            <comment id="17910519" author="jira-bot" created="Tue, 7 Jan 2025 07:09:56 +0000"  >&lt;p&gt;Commit 1922938 from lehmi@apache.org in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922938&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922938&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: use name of glyph&lt;/p&gt;</comment>
                            <comment id="17910520" author="jira-bot" created="Tue, 7 Jan 2025 07:10:51 +0000"  >&lt;p&gt;Commit 1922939 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922939&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922939&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: use name of glyph&lt;/p&gt;</comment>
                            <comment id="17910522" author="lehmi" created="Tue, 7 Jan 2025 07:13:36 +0000"  >&lt;p&gt;There was an issue with my proposal. &lt;tt&gt;hasGlyph&lt;/tt&gt; uses the name of the glyph. I&apos;ve fixed that so that it should work now&lt;/p&gt;</comment>
                            <comment id="17910578" author="tilman" created="Tue, 7 Jan 2025 10:59:22 +0000"  >&lt;p&gt;Thanks, it was my mistake too, I didn&apos;t notice it despite looking at the javadoc.&lt;/p&gt;</comment>
                            <comment id="17910627" author="jira-bot" created="Tue, 7 Jan 2025 13:16:52 +0000"  >&lt;p&gt;Commit 1922950 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922950&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922950&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="17910628" author="jira-bot" created="Tue, 7 Jan 2025 13:16:57 +0000"  >&lt;p&gt;Commit 1922951 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922951&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922951&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="17910629" author="jira-bot" created="Tue, 7 Jan 2025 13:17:02 +0000"  >&lt;p&gt;Commit 1922952 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922952&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922952&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5920&quot; title=&quot;PDType0Font return invalid space width&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5920&quot;&gt;&lt;del&gt;PDFBOX-5920&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13073781" name="PDFBOX-5920-054514-p6_reduced.pdf" size="10652" author="tilman" created="Sun, 5 Jan 2025 12:59:19 +0000"/>
                            <attachment id="13073799" name="PDFBOX-5920-4MQTG6ZXOYSMTQ444KGQOVC6ZFQHWFNY-spaces-reduced.pdf" size="5821" author="tilman" created="Mon, 6 Jan 2025 13:55:17 +0000"/>
                            <attachment id="13073782" name="PDFBOX-5920-862271-p1-superscript-prefix_reduced.pdf" size="11655" author="tilman" created="Sun, 5 Jan 2025 14:09:45 +0000"/>
                            <attachment id="13073783" name="PDFBOX-5920-Y5U2XZCKG2U6TO3FC36NCGOZECHQA2PY-p39-reduced.pdf" size="12597" author="tilman" created="Sun, 5 Jan 2025 15:34:10 +0000"/>
                            <attachment id="13073364" name="texgyreheros-regular.ttf" size="165708" author="myroch" created="Tue, 10 Dec 2024 10:56:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1t0xc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>