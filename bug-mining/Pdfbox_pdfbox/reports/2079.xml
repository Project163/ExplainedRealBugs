<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:08:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4303] Helv and ZaDb overridden</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4303</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Due to change:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3943&quot; title=&quot;/Helv entry in /DR not created if /DR exists&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3943&quot;&gt;&lt;del&gt;PDFBOX-3943&lt;/del&gt;&lt;/a&gt;: create /Helv and /ZaDb entries if they don&apos;t exist, regardless if /DR existed or not&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;was working ok in 2.0.7, in 2.0 branch&lt;/p&gt;

&lt;p&gt;PDAcroForm&lt;/p&gt;

&lt;p&gt;verifyOrCreateDefaults():&lt;/p&gt;

&lt;p&gt;is:&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#000080&quot;&gt;if &lt;/font&gt;(!defaultResources.getCOSObject().containsKey(&lt;font color=&quot;#008000&quot;&gt;&quot;Helv&quot;&lt;/font&gt;))&lt;/p&gt;

&lt;p&gt;should be checking key in the font dictionary before calling defaultResources.put&lt;/p&gt;</description>
                <environment></environment>
        <key id="13181918">PDFBOX-4303</key>
            <summary>Helv and ZaDb overridden</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                            <label>Appearance</label>
                    </labels>
                <created>Wed, 29 Aug 2018 13:24:17 +0000</created>
                <updated>Thu, 28 Feb 2019 17:45:02 +0000</updated>
                            <resolved>Thu, 6 Dec 2018 12:54:14 +0000</resolved>
                                    <version>2.0.11</version>
                                    <fixVersion>2.0.14</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16597459" author="msahyoun" created="Thu, 30 Aug 2018 13:35:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssteiner1&quot; class=&quot;user-hover&quot; rel=&quot;ssteiner1&quot;&gt;ssteiner1&lt;/a&gt; would it be possible for you to create a unit test where a) /Helv&#160;exists and b) /Helv doesn&apos;t exist and attach it to this issue?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16597478" author="ssteiner1" created="Thu, 30 Aug 2018 13:49:42 +0000"  >&lt;p&gt;PDDocument sourceDoc = PDDocument.load(&lt;font color=&quot;#000080&quot;&gt;new &lt;/font&gt;File(&lt;font color=&quot;#008000&quot;&gt;&quot;ReaderModifiedForm.pdf&quot;&lt;/font&gt;));&lt;br/&gt;
PDDocumentCatalog srcCatalog = sourceDoc.getDocumentCatalog();&lt;br/&gt;
PDAcroForm srcAcroForm = srcCatalog.getAcroForm();&lt;br/&gt;
COSDictionary dr = (COSDictionary) srcAcroForm.getCOSObject().getDictionaryObject(COSName.&lt;font color=&quot;#660e7a&quot;&gt;DR&lt;/font&gt;);&lt;br/&gt;
COSDictionary font = (COSDictionary) dr.getDictionaryObject(COSName.&lt;font color=&quot;#660e7a&quot;&gt;FONT&lt;/font&gt;);&lt;br/&gt;
COSDictionary helv = (COSDictionary) font.getDictionaryObject(COSName.getPDFName(&lt;font color=&quot;#008000&quot;&gt;&quot;Helv&quot;&lt;/font&gt;));&lt;br/&gt;
Assert.assertNotNull(helv.getDictionaryObject(COSName.&lt;font color=&quot;#660e7a&quot;&gt;NAME&lt;/font&gt;));&lt;br/&gt;
sourceDoc.close();&lt;/p&gt;</comment>
                            <comment id="16707130" author="weisskopf" created="Mon, 3 Dec 2018 12:37:47 +0000"  >&lt;p&gt;We are hitting this issue too on upgrading from 2.0.5 to 2.0.12. To fix the issue one should get the &quot;Font&quot;-Dictionary and check the existence there:&lt;/p&gt;

&lt;p&gt;e.g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;&#160;&#160; COSDictionary fontDict = (COSDictionary) defaultResources.getCOSObject().getDictionaryObject(COSName.FONT);
&#160;&#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!fontDict.containsKey(&lt;span class=&quot;code-quote&quot;&gt;&quot;Helv&quot;&lt;/span&gt;))
&#160;&#160;&#160;&#160;&#160;&#160;&#160; {
&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; defaultResources.put(COSName.getPDFName(&lt;span class=&quot;code-quote&quot;&gt;&quot;Helv&quot;&lt;/span&gt;), PDType1Font.HELVETICA);
&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What is missing for this to be fixed? &lt;/p&gt;

&lt;p&gt;I added a small git diff to fix the issue. &lt;/p&gt;</comment>
                            <comment id="16710053" author="tilman" created="Wed, 5 Dec 2018 13:15:51 +0000"  >&lt;p&gt;LOL I had to look several times before I saw the mistake. I&apos;ll fix this as part of the work in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4393&quot; title=&quot;PDF signature invalid after second interactive field signed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4393&quot;&gt;&lt;del&gt;PDFBOX-4393&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16710069" author="weisskopf" created="Wed, 5 Dec 2018 13:31:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; What about the other issue? Should I open a new issue? The call to getLastSignatureDictionary should not intitialize the AcroForm-DefaultResources imho.&lt;/p&gt;</comment>
                            <comment id="16710078" author="tilman" created="Wed, 5 Dec 2018 13:41:01 +0000"  >&lt;p&gt;Yes please, open a new issue and delete that part here (all after &quot;&lt;font color=&quot;#333333&quot;&gt;I am unsure if my observed&lt;/font&gt;&quot;). And clarify why this bothers you. Because the now fixed version will still add Helv and ZaDb.&lt;/p&gt;</comment>
                            <comment id="16711295" author="tilman" created="Thu, 6 Dec 2018 11:15:09 +0000"  >&lt;p&gt;Commit 1848212 from tilman@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848212&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4303&quot; title=&quot;Helv and ZaDb overridden&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4303&quot;&gt;&lt;del&gt;PDFBOX-4303&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4393&quot; title=&quot;PDF signature invalid after second interactive field signed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4393&quot;&gt;&lt;del&gt;PDFBOX-4393&lt;/del&gt;&lt;/a&gt;: mark updated when applicable; check whether font dictionary exists; avoid bug that wrong dictionary was checked for font&lt;/p&gt;

&lt;p&gt;Commit 1848213 from tilman@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848213&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848213&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4303&quot; title=&quot;Helv and ZaDb overridden&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4303&quot;&gt;&lt;del&gt;PDFBOX-4303&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4393&quot; title=&quot;PDF signature invalid after second interactive field signed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4393&quot;&gt;&lt;del&gt;PDFBOX-4393&lt;/del&gt;&lt;/a&gt;: mark updated when applicable; check whether font dictionary exists; avoid bug that wrong dictionary was checked for font&lt;/p&gt;
</comment>
                            <comment id="16711296" author="jira-bot" created="Thu, 6 Dec 2018 11:16:28 +0000"  >&lt;p&gt;Commit 1848285 from tilman@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848285&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848285&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4303&quot; title=&quot;Helv and ZaDb overridden&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4303&quot;&gt;&lt;del&gt;PDFBOX-4303&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4393&quot; title=&quot;PDF signature invalid after second interactive field signed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4393&quot;&gt;&lt;del&gt;PDFBOX-4393&lt;/del&gt;&lt;/a&gt;: add comments&lt;/p&gt;</comment>
                            <comment id="16711298" author="jira-bot" created="Thu, 6 Dec 2018 11:16:32 +0000"  >&lt;p&gt;Commit 1848286 from tilman@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848286&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848286&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4303&quot; title=&quot;Helv and ZaDb overridden&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4303&quot;&gt;&lt;del&gt;PDFBOX-4303&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4393&quot; title=&quot;PDF signature invalid after second interactive field signed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4393&quot;&gt;&lt;del&gt;PDFBOX-4393&lt;/del&gt;&lt;/a&gt;: add comments&lt;/p&gt;</comment>
                            <comment id="16711390" author="jira-bot" created="Thu, 6 Dec 2018 12:41:48 +0000"  >&lt;p&gt;Commit 1848299 from tilman@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848299&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848299&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4303&quot; title=&quot;Helv and ZaDb overridden&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4303&quot;&gt;&lt;del&gt;PDFBOX-4303&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4393&quot; title=&quot;PDF signature invalid after second interactive field signed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4393&quot;&gt;&lt;del&gt;PDFBOX-4393&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="16711392" author="jira-bot" created="Thu, 6 Dec 2018 12:41:57 +0000"  >&lt;p&gt;Commit 1848300 from tilman@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848300&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4303&quot; title=&quot;Helv and ZaDb overridden&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4303&quot;&gt;&lt;del&gt;PDFBOX-4303&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4393&quot; title=&quot;PDF signature invalid after second interactive field signed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4393&quot;&gt;&lt;del&gt;PDFBOX-4393&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="16711405" author="tilman" created="Thu, 6 Dec 2018 12:54:14 +0000"  >&lt;p&gt;I created a different test than the proposed one to work without a file.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                                                <inwardlinks description="is caused by">
                                        <issuelink>
            <issuekey id="13105480">PDFBOX-3943</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13202745">PDFBOX-4398</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13202221">PDFBOX-4393</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12950537" name="PDFBOX-4303-2.0.12.diff" size="1534" author="weisskopf" created="Tue, 4 Dec 2018 11:16:13 +0000"/>
                            <attachment id="12937761" name="ReaderModifiedForm.pdf" size="90212" author="ssteiner" created="Thu, 30 Aug 2018 13:49:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3xjz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>