<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1780] previous revision is damaged after signing</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1780</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt; Ihave PDF file which was signed by some other application. When I try to sign it with PDFbox, previous revision is damaged. I have discussion at stackoverflow, with Michael Klink.&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/questions/19903884/pdf-document-is-modified-by-another-revision/19905271?noredirect=1#19905271&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/19903884/pdf-document-is-modified-by-another-revision/19905271?noredirect=1#19905271&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;when we see some changes merely was structural. Some changes was just rounding problem   - &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1778&quot; title=&quot;Rounding issue in generated PDF file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1778&quot;&gt;&lt;del&gt;PDFBOX-1778&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;When I test,  problem of damaged signature was  caused from structural change &lt;span class=&quot;error&quot;&gt;&amp;#91;when there must be direct reference, there was indirect reference and etc..&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;So we solve that problem. I will upload damaged PDF document,  fixed pdf, and the patch too.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12678999">PDFBOX-1780</key>
            <summary>previous revision is damaged after signing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="v.koroghlishvili">vakhtang koroghlishvili</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Nov 2013 11:20:44 +0000</created>
                <updated>Mon, 14 Dec 2015 08:44:08 +0000</updated>
                            <resolved>Thu, 14 Nov 2013 17:28:51 +0000</resolved>
                                    <version>1.8.2</version>
                                    <fixVersion>1.8.3</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                    <component>Signing</component>
                    <component>Writing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13821223" author="v.koroghlishvili" created="Wed, 13 Nov 2013 11:21:45 +0000"  >&lt;p&gt;testing pdf files. &lt;/p&gt;</comment>
                            <comment id="13821225" author="v.koroghlishvili" created="Wed, 13 Nov 2013 11:22:42 +0000"  >&lt;p&gt;fixed version now looks like this&lt;/p&gt;</comment>
                            <comment id="13821226" author="v.koroghlishvili" created="Wed, 13 Nov 2013 11:23:21 +0000"  >&lt;p&gt;patch of fixing&lt;/p&gt;</comment>
                            <comment id="13822642" author="lehmi" created="Thu, 14 Nov 2013 17:28:51 +0000"  >&lt;p&gt;I applied the patch in revision 1541987 as proposed.&lt;/p&gt;

&lt;p&gt;Thanks for the contribution!&lt;/p&gt;</comment>
                            <comment id="13822986" author="tchojecki" created="Thu, 14 Nov 2013 22:03:38 +0000"  >&lt;p&gt;Big thanks for this patch. &lt;/p&gt;</comment>
                            <comment id="13824876" author="lehmi" created="Sun, 17 Nov 2013 15:30:18 +0000"  >&lt;p&gt;Merged into 1.8-branch in revision 1542748&lt;/p&gt;</comment>
                            <comment id="13835834" author="lehmi" created="Sat, 30 Nov 2013 17:02:20 +0000"  >&lt;p&gt;Closed after releasing 1.8.3&lt;/p&gt;</comment>
                            <comment id="13879934" author="tchojecki" created="Thu, 23 Jan 2014 13:59:50 +0000"  >&lt;p&gt;The patch contains two parts. &lt;/p&gt;

&lt;p&gt;One is the &quot;setDirect&quot; which fix the &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1314&quot; title=&quot;PDFParser should set &amp;quot;direct&amp;quot; property in COSBase if this object is direct&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1314&quot;&gt;&lt;del&gt;PDFBOX-1314&lt;/del&gt;&lt;/a&gt; issue. So the parser know which document was written directly and save this behaviour.&lt;br/&gt;
This part fix also the signature problematic for at least my problematic documents with multiple signatures over different pages.&lt;/p&gt;

&lt;p&gt;The second is the COSWriter patch. What does this patch do? This line broke the signature creation for at least one document see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1862&quot; title=&quot;Incomplete signature creation (regression in 1.8.3 with PDFBOX-1780)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1862&quot;&gt;&lt;del&gt;PDFBOX-1862&lt;/del&gt;&lt;/a&gt;. Do we need this? Can we maybe revert it?&lt;/p&gt;</comment>
                            <comment id="13879939" author="lehmi" created="Thu, 23 Jan 2014 14:17:48 +0000"  >&lt;p&gt;I had a quick look and it seems that the second part isn&apos;t needed. There is no need to divide into direct and indirect objects the &quot;subValue.accept( this )&quot; shall handle this.&lt;/p&gt;

&lt;p&gt;Sorry that I didn&apos;t saw that in the first place when aplying the patch. We should revert that part. I&apos;m going to do that later, but within &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1862&quot; title=&quot;Incomplete signature creation (regression in 1.8.3 with PDFBOX-1780)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1862&quot;&gt;&lt;del&gt;PDFBOX-1862&lt;/del&gt;&lt;/a&gt; as I don&apos;t want to reopen this one.&lt;/p&gt;</comment>
                            <comment id="13879965" author="tchojecki" created="Thu, 23 Jan 2014 14:48:02 +0000"  >&lt;p&gt;Thx for the quick response and coming revert.&lt;/p&gt;</comment>
                            <comment id="13880871" author="tchojecki" created="Fri, 24 Jan 2014 10:17:00 +0000"  >&lt;p&gt;Never ending story. If I revert locally the COSWriter change, some documents can&apos;t be signed twice again and some can. &lt;/p&gt;

&lt;p&gt;I can&apos;t find the root cause for this behaviour. I&apos;m testing with the 1.8.3 release right now and got also the problem that at least one document can&apos;t be parsed properly after creating a second signature. Adobe has no problem reading the document and the signatures.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12556361">PDFBOX-1314</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12600677">PDFBOX-1370</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12674853">PDFBOX-1751</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12913710">PDFBOX-3114</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12667049">PDFBOX-1714</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12613576" name="fixed.jpg" size="171536" author="v.koroghlishvili" created="Wed, 13 Nov 2013 11:22:42 +0000"/>
                            <attachment id="12613577" name="fixed.patch" size="2034" author="v.koroghlishvili" created="Wed, 13 Nov 2013 11:23:21 +0000"/>
                            <attachment id="12613573" name="original-signed -[FIXED].pdf" size="91905" author="v.koroghlishvili" created="Wed, 13 Nov 2013 11:21:45 +0000"/>
                            <attachment id="12613572" name="original-signed [DAMAGED].pdf" size="92338" author="v.koroghlishvili" created="Wed, 13 Nov 2013 11:21:45 +0000"/>
                            <attachment id="12613574" name="original-signed [ORIGINAL].pdf" size="52857" author="v.koroghlishvili" created="Wed, 13 Nov 2013 11:21:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358364</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 43 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1przr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>