<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:07:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4093] illegible characters in rendered image </title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4093</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;illegible characters in rendered image &lt;/p&gt;</description>
                <environment></environment>
        <key id="13135718">PDFBOX-4093</key>
            <summary>illegible characters in rendered image </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="sunnyawake">sunnyawake</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Feb 2018 08:53:29 +0000</created>
                <updated>Sat, 24 Mar 2018 09:41:29 +0000</updated>
                            <resolved>Wed, 7 Feb 2018 18:54:28 +0000</resolved>
                                    <version>2.0.8</version>
                                    <fixVersion>2.0.9</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16351440" author="tilman" created="Sat, 3 Feb 2018 16:26:53 +0000"  >&lt;p&gt;Here&apos;s what I found out so far...&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;it&apos;s a type 0 otf font with CFF&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The first glyph should appear as &quot;T&quot;. Its code is 175, its GID (according to both PDFDebugger and DTL OTM light) is 17.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;When PDFBox gets the path (in PDCIDFontType0.java), it uses the CID 175. The GID 175 is the &quot;&#252;&quot; that appears. So a CID to GID transformation is missing.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The PDF specification has this&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;There are two cases, depending on the contents of the font program:&lt;br/&gt;
 &#8226; The &quot;CFF&quot; font program has a Top DICT that uses CIDFont operators: The CIDs shall be used to determine the GID value for the glyph procedure using the charset table in the CFF program. The GID value shall then be used to look up the glyph procedure using the CharStrings INDEX table.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;NOTE Although in many fonts the CID value and GID value are the same, the CID and GID values can differ.&lt;br/&gt;
 &#8226; The &quot;CFF&quot; font program has a Top DICT that does not use CIDFont operators: The CIDs shall be used directly as GID values, and the glyph procedure shall be retrieved using the CharStrings INDEX.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;So I guess we have the first case, but I don&apos;t know how to identify whether &quot;Top DICT that uses CIDFont operators&quot;.&lt;/p&gt;</comment>
                            <comment id="16351461" author="msahyoun" created="Sat, 3 Feb 2018 17:41:53 +0000"  >&lt;p&gt;BTW - Rendering in OSX Preview, PDF.js &amp;amp; Evince is also broken i.e. similar to PDFBox.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunnyawake&quot; class=&quot;user-hover&quot; rel=&quot;sunnyawake&quot;&gt;sunnyawake&lt;/a&gt; Is this a typical sample of PDFs you are using? Are there other ways to create that document in PDFClown if you are creating these yourself?&lt;/p&gt;</comment>
                            <comment id="16351462" author="tilman" created="Sat, 3 Feb 2018 17:53:00 +0000"  >&lt;p&gt;The latest PDF.js version&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://mozilla.github.io/pdf.js/web/viewer.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mozilla.github.io/pdf.js/web/viewer.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;can display it. Whatever it is, they must have fixed it not long ago.&lt;/p&gt;</comment>
                            <comment id="16351599" author="sunnyawake" created="Sun, 4 Feb 2018 01:41:18 +0000"  >&lt;p&gt;foxit pdf reader, chrome pdf printer preview(which uses PDFdium, which uses foxit donated pdf code), pdfjs , adobe reader. all these readers can display correctly.&lt;/p&gt;</comment>
                            <comment id="16354125" author="janipe" created="Tue, 6 Feb 2018 16:54:33 +0000"  >&lt;p&gt;PDFBox already correctly processes both of the cases you have quoted above from the PDF spec. However, in the failed PDF the CIDFont has also a CIDToGIDMap entry, which must be used to transform CIDs to GIDs. This behavior is mentioned in the PDF spec only for CID-based TrueType fonts (CIDFontType2) but Acrobat and other viewers seem to utilize CIDToGIDMap also for CFF-based OpenType fonts. See my file reduced_with_CIDToGIDMap.pdf.&lt;/p&gt;</comment>
                            <comment id="16355872" author="jira-bot" created="Wed, 7 Feb 2018 18:45:17 +0000"  >&lt;p&gt;Commit 1823512 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1823512&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1823512&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4093&quot; title=&quot;illegible characters in rendered image &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4093&quot;&gt;&lt;del&gt;PDFBOX-4093&lt;/del&gt;&lt;/a&gt;: use /CIDToGIDMap as suggested by Jani Pehkonen; remove unused code&lt;/p&gt;</comment>
                            <comment id="16355875" author="jira-bot" created="Wed, 7 Feb 2018 18:47:13 +0000"  >&lt;p&gt;Commit 1823513 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1823513&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1823513&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4093&quot; title=&quot;illegible characters in rendered image &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4093&quot;&gt;&lt;del&gt;PDFBOX-4093&lt;/del&gt;&lt;/a&gt;: use /CIDToGIDMap as suggested by Jani Pehkonen; remove unused code&lt;/p&gt;</comment>
                            <comment id="16355882" author="tilman" created="Wed, 7 Feb 2018 18:54:28 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=janipe&quot; class=&quot;user-hover&quot; rel=&quot;janipe&quot;&gt;janipe&lt;/a&gt;! Yes, using the /CIDToGIDMap table does it.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sunnyawake&quot; class=&quot;user-hover&quot; rel=&quot;sunnyawake&quot;&gt;sunnyawake&lt;/a&gt; a snapshot version is available at&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.9-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.9-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16366234" author="jira-bot" created="Thu, 15 Feb 2018 20:43:46 +0000"  >&lt;p&gt;Commit 1824363 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1824363&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1824363&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4106&quot; title=&quot;Vertical text creation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4106&quot;&gt;&lt;del&gt;PDFBOX-4106&lt;/del&gt;&lt;/a&gt;: Use &apos;vhea&apos; and  &apos;vmtx&apos; tables to fix vertical displacements, by Aaron Madlon-Kay&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4093&quot; title=&quot;illegible characters in rendered image &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4093&quot;&gt;&lt;del&gt;PDFBOX-4093&lt;/del&gt;&lt;/a&gt;: make method that is called from constructor final&lt;/p&gt;</comment>
                            <comment id="16366236" author="jira-bot" created="Thu, 15 Feb 2018 20:43:57 +0000"  >&lt;p&gt;Commit 1824364 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1824364&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1824364&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4106&quot; title=&quot;Vertical text creation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4106&quot;&gt;&lt;del&gt;PDFBOX-4106&lt;/del&gt;&lt;/a&gt;: Use &apos;vhea&apos; and  &apos;vmtx&apos; tables to fix vertical displacements, by Aaron Madlon-Kay&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4093&quot; title=&quot;illegible characters in rendered image &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4093&quot;&gt;&lt;del&gt;PDFBOX-4093&lt;/del&gt;&lt;/a&gt;: make method that is called from constructor final&lt;/p&gt;</comment>
                            <comment id="16367526" author="jira-bot" created="Fri, 16 Feb 2018 16:10:04 +0000"  >&lt;p&gt;Commit 1824522 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1824522&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1824522&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4093&quot; title=&quot;illegible characters in rendered image &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4093&quot;&gt;&lt;del&gt;PDFBOX-4093&lt;/del&gt;&lt;/a&gt;: make method that is called from constructor final&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12908949" name="PDF Clown - Complex Typesetting sample.pdf" size="130646" author="sunnyawake" created="Fri, 2 Feb 2018 08:54:03 +0000"/>
                            <attachment id="12908950" name="fontfile3_opentype.pdf.png" size="314332" author="sunnyawake" created="Fri, 2 Feb 2018 08:55:05 +0000"/>
                            <attachment id="12909467" name="reduced_with_CIDToGIDMap.pdf" size="3172" author="janipe" created="Tue, 6 Feb 2018 16:54:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 39 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ppd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>