<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:10:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4807] COSString cannot be cast to COSDictionary</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4807</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;We are using the latest version of PDFBox library 2.0.19. During the conversion of test file 1904.12320.pdf (which is a valid pdf file according to&#160;&lt;a href=&quot;https://www.pdf-online.com/osa/validate.aspx&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.pdf-online.com/osa/validate.aspx&lt;/a&gt;) we get an error &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.ClassCastException: org.apache.pdfbox.cos.COSString cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.pdfbox.cos.COSDictionary&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I am attaching also the stack trace:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.ClassCastException: org.apache.pdfbox.cos.COSString cannot be &lt;span class=&quot;code-keyword&quot;&gt;cast&lt;/span&gt; to org.apache.pdfbox.cos.COSDictionary
 at org.apache.pdfbox.pdmodel.PDResources.getProperties(PDResources.java:353) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.rendering.PageDrawer.beginMarkedContentSequence(PageDrawer.java:1824) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.markedcontent.BeginMarkedContentSequenceWithProperties.process(BeginMarkedContentSequenceWithProperties.java:52) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:875) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:509) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:483) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:156) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:270) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:321) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:243) ~[pdfbox-2.0.19.jar:2.0.19]
 at org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:229) ~[pdfbox-2.0.19.jar:2.0.19]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13297093">PDFBOX-4807</key>
            <summary>COSString cannot be cast to COSDictionary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="benetomas">Tomas Bene</reporter>
                        <labels>
                    </labels>
                <created>Wed, 8 Apr 2020 14:03:49 +0000</created>
                <updated>Mon, 15 Jun 2020 04:54:09 +0000</updated>
                            <resolved>Wed, 8 Apr 2020 16:18:53 +0000</resolved>
                                    <version>2.0.19</version>
                                    <fixVersion>2.0.20</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17078358" author="tilman" created="Wed, 8 Apr 2020 15:01:06 +0000"  >&lt;p&gt;Yet another &quot;optimistic&quot; class cast. The PDF is wrong (a property should be a dictionary), but this is easy to fix.&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12999340/12999340_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17078373" author="jira-bot" created="Wed, 8 Apr 2020 15:15:59 +0000"  >&lt;p&gt;Commit 1876299 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1876299&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1876299&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4807&quot; title=&quot;COSString cannot be cast to COSDictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4807&quot;&gt;&lt;del&gt;PDFBOX-4807&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException&lt;/p&gt;</comment>
                            <comment id="17078374" author="jira-bot" created="Wed, 8 Apr 2020 15:16:03 +0000"  >&lt;p&gt;Commit 1876300 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1876300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1876300&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4807&quot; title=&quot;COSString cannot be cast to COSDictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4807&quot;&gt;&lt;del&gt;PDFBOX-4807&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException&lt;/p&gt;</comment>
                            <comment id="17078375" author="jira-bot" created="Wed, 8 Apr 2020 15:16:07 +0000"  >&lt;p&gt;Commit 1876301 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1876301&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1876301&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4807&quot; title=&quot;COSString cannot be cast to COSDictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4807&quot;&gt;&lt;del&gt;PDFBOX-4807&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException&lt;/p&gt;</comment>
                            <comment id="17078444" author="tilman" created="Wed, 8 Apr 2020 16:18:53 +0000"  >&lt;p&gt;Snapshot here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.20-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.20-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                            <comment id="17078954" author="benetomas" created="Thu, 9 Apr 2020 06:13:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;thank you very much for your really fast fix&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Do you know, when is the estimated release time?&lt;/p&gt;</comment>
                            <comment id="17079043" author="tilman" created="Thu, 9 Apr 2020 08:13:54 +0000"  >&lt;p&gt;Don&apos;t know, usually releases are done every 3-4 months, but we live in difficult times...&lt;/p&gt;</comment>
                            <comment id="17079080" author="mkl" created="Thu, 9 Apr 2020 08:56:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=benetomas&quot; class=&quot;user-hover&quot; rel=&quot;benetomas&quot;&gt;benetomas&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please be aware that the bug here is in the PDF, not in PDFBox; what you call a &quot;fix&quot; actually is not a fix but merely a change making PDFBox ignore errors in PDFs like yours.&lt;/p&gt;

&lt;p&gt;Unless your test objective was to check whether certain PDF errors are ignored, you should use a different test file.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12999332" name="1904.12320.pdf" size="1577408" author="benetomas" created="Wed, 8 Apr 2020 14:00:53 +0000"/>
                            <attachment id="12999340" name="screenshot-1.png" size="38858" author="tilman" created="Wed, 8 Apr 2020 15:01:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 31 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0deuo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>