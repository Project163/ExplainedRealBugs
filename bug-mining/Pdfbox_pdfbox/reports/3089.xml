<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:15:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-6022] Wrong glyphs since PDFBOX-5790</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-6022</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The attached PDF has an rendering issue with missing or wrong glpyhs since PDFBox 3.0.3:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13077055/13077055_image-2025-06-18-13-34-11-364.png&quot; height=&quot;160&quot; width=&quot;452&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Last worked in 3.0.2:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13077054/13077054_image-2025-06-18-13-36-35-370.png&quot; height=&quot;163&quot; width=&quot;461&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I think this is the change, which caused this:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/pdfbox/commit/4345f7ca01277a8ff94ae75aa7b7dd76e61b77e4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/pdfbox/commit/4345f7ca01277a8ff94ae75aa7b7dd76e61b77e4&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621220">PDFBOX-6022</key>
            <summary>Wrong glyphs since PDFBOX-5790</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="Schmidor">Oliver Schmidtmer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 Jun 2025 11:39:36 +0000</created>
                <updated>Thu, 2 Oct 2025 17:40:21 +0000</updated>
                            <resolved>Sun, 13 Jul 2025 10:40:47 +0000</resolved>
                                    <version>2.0.34</version>
                    <version>3.0.3 PDFBox</version>
                                    <fixVersion>2.0.35</fixVersion>
                    <fixVersion>3.0.6 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Rendering</component>
                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17983645" author="tilman" created="Thu, 19 Jun 2025 10:02:39 +0000"  >&lt;p&gt;After looking at the files and without thinking much, I changed the code segment to this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (getToUnicodeCMap() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; !isCMapPredefined)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.toString((&lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt;) code);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Now it works and even &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5838&quot; title=&quot;Text extraction garbled in this file, was OK in 3.0.2 / 2.0.31&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5838&quot;&gt;&lt;del&gt;PDFBOX-5838&lt;/del&gt;&lt;/a&gt; (which we had abandoned) works too.&lt;/p&gt;

&lt;p&gt;I&apos;d need to run our big regression tests after the tika release.&lt;/p&gt;</comment>
                            <comment id="17985153" author="tilman" created="Sun, 22 Jun 2025 09:28:06 +0000"  >&lt;p&gt;The result:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13077131/13077131_content_diffs_no_exceptions_1.xlsx&quot; title=&quot;content_diffs_no_exceptions_1.xlsx attached to PDFBOX-6022&quot;&gt;content_diffs_no_exceptions_1.xlsx&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;Many trash characters are now gone, from what I see. A good example is this file:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13077132/13077132_QXR2LOKKWTIDU5K4M36VAI4EFWVPKAHU-p10.pdf&quot; title=&quot;QXR2LOKKWTIDU5K4M36VAI4EFWVPKAHU-p10.pdf attached to PDFBOX-6022&quot;&gt;QXR2LOKKWTIDU5K4M36VAI4EFWVPKAHU-p10.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17985164" author="lehmi" created="Sun, 22 Jun 2025 14:30:57 +0000"  >&lt;p&gt;Nice, I had a look myself but I didn&apos;t have a clue where to start with a possible fix. All those broken pdfs are quite a mess.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Your proposal looks like a reasonable fix and even better it seems to fix other issues as well &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

</comment>
                            <comment id="18004958" author="jira-bot" created="Sun, 13 Jul 2025 10:13:22 +0000"  >&lt;p&gt;Commit 1927183 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1927183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1927183&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6022&quot; title=&quot;Wrong glyphs since PDFBOX-5790&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6022&quot;&gt;&lt;del&gt;PDFBOX-6022&lt;/del&gt;&lt;/a&gt;: don&apos;t use identity if there&apos;s a predefined cmap&lt;/p&gt;</comment>
                            <comment id="18004959" author="jira-bot" created="Sun, 13 Jul 2025 10:13:27 +0000"  >&lt;p&gt;Commit 1927184 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1927184&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1927184&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6022&quot; title=&quot;Wrong glyphs since PDFBOX-5790&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6022&quot;&gt;&lt;del&gt;PDFBOX-6022&lt;/del&gt;&lt;/a&gt;: don&apos;t use identity if there&apos;s a predefined cmap&lt;/p&gt;</comment>
                            <comment id="18004960" author="jira-bot" created="Sun, 13 Jul 2025 10:13:31 +0000"  >&lt;p&gt;Commit 1927185 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1927185&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1927185&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6022&quot; title=&quot;Wrong glyphs since PDFBOX-5790&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6022&quot;&gt;&lt;del&gt;PDFBOX-6022&lt;/del&gt;&lt;/a&gt;: don&apos;t use identity if there&apos;s a predefined cmap&lt;/p&gt;</comment>
                            <comment id="18004961" author="jira-bot" created="Sun, 13 Jul 2025 10:14:27 +0000"  >&lt;p&gt;Commit 1927186 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1927186&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1927186&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6022&quot; title=&quot;Wrong glyphs since PDFBOX-5790&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6022&quot;&gt;&lt;del&gt;PDFBOX-6022&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="18004962" author="jira-bot" created="Sun, 13 Jul 2025 10:14:32 +0000"  >&lt;p&gt;Commit 1927187 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1927187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1927187&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6022&quot; title=&quot;Wrong glyphs since PDFBOX-5790&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6022&quot;&gt;&lt;del&gt;PDFBOX-6022&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="18004963" author="jira-bot" created="Sun, 13 Jul 2025 10:14:37 +0000"  >&lt;p&gt;Commit 1927188 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1927188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1927188&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6022&quot; title=&quot;Wrong glyphs since PDFBOX-5790&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6022&quot;&gt;&lt;del&gt;PDFBOX-6022&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="18006698" author="schmidor" created="Tue, 15 Jul 2025 10:54:08 +0000"  >&lt;p&gt;Thank you for working on this issue. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13573153">PDFBOX-5790</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13077132" name="QXR2LOKKWTIDU5K4M36VAI4EFWVPKAHU-p10.pdf" size="1769679" author="tilman" created="Sun, 22 Jun 2025 09:28:05 +0000"/>
                            <attachment id="13077131" name="content_diffs_no_exceptions_1.xlsx" size="677613" author="tilman" created="Sun, 22 Jun 2025 09:23:15 +0000"/>
                            <attachment id="13077055" name="image-2025-06-18-13-34-11-364.png" size="67902" author="Schmidor" created="Wed, 18 Jun 2025 11:34:11 +0000"/>
                            <attachment id="13077054" name="image-2025-06-18-13-36-35-370.png" size="68893" author="Schmidor" created="Wed, 18 Jun 2025 11:36:35 +0000"/>
                            <attachment id="13077053" name="pdf viewer example 001.pdf" size="610848" author="Schmidor" created="Wed, 18 Jun 2025 11:37:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            16 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wdu8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>