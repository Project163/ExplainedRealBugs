<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:09:08 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4449] Rotated pages produce matrix value like -0.999999999999999 instead of -1</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4449</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I was wondering why I got AffineTransform objects like &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
AffineTransform[[-4.371139E-8, 0.999999999999999, 7.96E-13], [0.999999999999999, 4.371139E-8, -3.4619420881E-5]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;which makes debugging difficult, instead of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
AffineTransform[[0.0, 1.0, -0.0], [1.0, 0.0, -0.0]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The cause is this code line in PDFRenderer:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
graphics.rotate((&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;) &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.toRadians(rotationAngle));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Solution: removing the cast produces a nice AffineTransform object:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
graphics.rotate(&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.toRadians(rotationAngle));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However... this resulted in rendering bugs in several files (gs-bugzilla690022-reduced-rotations.pdf, gs-bugzilla690022-reduced-rotations-cropbox.pdf, PDFJS-5811-2-p4_reduced-rotations.pdf). Researching this found that &lt;tt&gt;getScalingFactorX()&lt;/tt&gt; and &lt;tt&gt;getScalingFactorY()&lt;/tt&gt; return negative values which they didn&apos;t before. Using &lt;tt&gt;Math.abs()&lt;/tt&gt; solves this problem and now two files are slightly better (lines no longer very slightly diagonal): &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2376&quot; title=&quot;Small regression in text extraction with PDFBox 1.8.7 vs. 1.8.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2376&quot;&gt;&lt;del&gt;PDFBOX-2376&lt;/del&gt;&lt;/a&gt;-466070.pdf page 24 and &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4399&quot; title=&quot;Disabled optional content groups are rendered&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4399&quot;&gt;&lt;del&gt;PDFBOX-4399&lt;/del&gt;&lt;/a&gt;-046615_p9_OCG-NoRotate-Annotations.pdf .&lt;/p&gt;</description>
                <environment></environment>
        <key id="13212857">PDFBOX-4449</key>
            <summary>Rotated pages produce matrix value like -0.999999999999999 instead of -1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Jan 2019 16:22:59 +0000</created>
                <updated>Thu, 28 Feb 2019 17:44:59 +0000</updated>
                            <resolved>Thu, 31 Jan 2019 20:10:04 +0000</resolved>
                                    <version>2.0.13</version>
                                    <fixVersion>2.0.14</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16756280" author="jira-bot" created="Wed, 30 Jan 2019 16:24:15 +0000"  >&lt;p&gt;Commit 1852534 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852534&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852534&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4449&quot; title=&quot;Rotated pages produce matrix value like -0.999999999999999 instead of -1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4449&quot;&gt;&lt;del&gt;PDFBOX-4449&lt;/del&gt;&lt;/a&gt;: remove uneeded cast; apply Math.abs() to scale values&lt;/p&gt;</comment>
                            <comment id="16756281" author="jira-bot" created="Wed, 30 Jan 2019 16:24:21 +0000"  >&lt;p&gt;Commit 1852535 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852535&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852535&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4449&quot; title=&quot;Rotated pages produce matrix value like -0.999999999999999 instead of -1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4449&quot;&gt;&lt;del&gt;PDFBOX-4449&lt;/del&gt;&lt;/a&gt;: remove uneeded cast; apply Math.abs() to scale values&lt;/p&gt;</comment>
                            <comment id="16757444" author="jira-bot" created="Thu, 31 Jan 2019 16:27:18 +0000"  >&lt;p&gt;Commit 1852613 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852613&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852613&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4449&quot; title=&quot;Rotated pages produce matrix value like -0.999999999999999 instead of -1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4449&quot;&gt;&lt;del&gt;PDFBOX-4449&lt;/del&gt;&lt;/a&gt;: refactor double code; avoid conversion from float to double and back; fix typo&lt;/p&gt;</comment>
                            <comment id="16757445" author="jira-bot" created="Thu, 31 Jan 2019 16:27:23 +0000"  >&lt;p&gt;Commit 1852614 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852614&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852614&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4449&quot; title=&quot;Rotated pages produce matrix value like -0.999999999999999 instead of -1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4449&quot;&gt;&lt;del&gt;PDFBOX-4449&lt;/del&gt;&lt;/a&gt;: refactor double code; avoid conversion from float to double and back; fix typo&lt;/p&gt;</comment>
                            <comment id="16757688" author="jira-bot" created="Thu, 31 Jan 2019 20:08:07 +0000"  >&lt;p&gt;Commit 1852639 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852639&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852639&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4449&quot; title=&quot;Rotated pages produce matrix value like -0.999999999999999 instead of -1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4449&quot;&gt;&lt;del&gt;PDFBOX-4449&lt;/del&gt;&lt;/a&gt;: remove unused code&lt;/p&gt;</comment>
                            <comment id="16757689" author="jira-bot" created="Thu, 31 Jan 2019 20:08:11 +0000"  >&lt;p&gt;Commit 1852640 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852640&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852640&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4449&quot; title=&quot;Rotated pages produce matrix value like -0.999999999999999 instead of -1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4449&quot;&gt;&lt;del&gt;PDFBOX-4449&lt;/del&gt;&lt;/a&gt;: remove unused code&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi0hnc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>