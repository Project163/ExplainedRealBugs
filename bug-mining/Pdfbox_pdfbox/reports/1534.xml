<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:03:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3479] NPE in AppearanceGeneratorHelper.setAppearanceValue() if no rectangle in widget</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3479</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;As reported in the linked stackoveflow question, can be reproduced with the CreateSimpleForm example by removing the &lt;tt&gt;widget.setRectangle(rect);&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.NullPointerException
at org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceValue(AppearanceGeneratorHelper.java:137)
at org.apache.pdfbox.pdmodel.interactive.form.PDTextField.constructAppearances(PDTextField.java:263)
at org.apache.pdfbox.pdmodel.interactive.form.PDTerminalField.applyChange(PDTerminalField.java:225)
at org.apache.pdfbox.pdmodel.interactive.form.PDTextField.setValue(PDTextField.java:218)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;ll throw an IOException.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13002131">PDFBOX-3479</key>
            <summary>NPE in AppearanceGeneratorHelper.setAppearanceValue() if no rectangle in widget</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="msahyoun">Maruan Sahyoun</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Sep 2016 17:37:45 +0000</created>
                <updated>Sat, 25 Mar 2017 18:13:07 +0000</updated>
                            <resolved>Fri, 9 Sep 2016 10:36:52 +0000</resolved>
                                    <version>2.0.2</version>
                    <version>2.0.3</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.3</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15456114" author="jira-bot" created="Thu, 1 Sep 2016 17:40:58 +0000"  >&lt;p&gt;Commit 1758819 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1758819&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1758819&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3479&quot; title=&quot;NPE in AppearanceGeneratorHelper.setAppearanceValue() if no rectangle in widget&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3479&quot;&gt;&lt;del&gt;PDFBOX-3479&lt;/del&gt;&lt;/a&gt;: avoid NPE if no rectangle in widget&lt;/p&gt;</comment>
                            <comment id="15456115" author="jira-bot" created="Thu, 1 Sep 2016 17:41:02 +0000"  >&lt;p&gt;Commit 1758820 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1758820&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1758820&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3479&quot; title=&quot;NPE in AppearanceGeneratorHelper.setAppearanceValue() if no rectangle in widget&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3479&quot;&gt;&lt;del&gt;PDFBOX-3479&lt;/del&gt;&lt;/a&gt;: avoid NPE if no rectangle in widget&lt;/p&gt;</comment>
                            <comment id="15456127" author="msahyoun" created="Thu, 1 Sep 2016 17:45:38 +0000"  >&lt;p&gt;wouldn&apos;t it be better to log a warning and leave it with an empty appearance. We could also create a test case to see how Acrobat handles such situations and replicate that.&lt;/p&gt;</comment>
                            <comment id="15456168" author="jira-bot" created="Thu, 1 Sep 2016 17:59:45 +0000"  >&lt;p&gt;Commit 1758823 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1758823&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1758823&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3479&quot; title=&quot;NPE in AppearanceGeneratorHelper.setAppearanceValue() if no rectangle in widget&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3479&quot;&gt;&lt;del&gt;PDFBOX-3479&lt;/del&gt;&lt;/a&gt;: don&apos;t throw exception if no rectangle in widget&lt;/p&gt;</comment>
                            <comment id="15456169" author="jira-bot" created="Thu, 1 Sep 2016 17:59:50 +0000"  >&lt;p&gt;Commit 1758824 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1758824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1758824&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3479&quot; title=&quot;NPE in AppearanceGeneratorHelper.setAppearanceValue() if no rectangle in widget&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3479&quot;&gt;&lt;del&gt;PDFBOX-3479&lt;/del&gt;&lt;/a&gt;: don&apos;t throw exception if no rectangle in widget&lt;/p&gt;</comment>
                            <comment id="15456177" author="tilman" created="Thu, 1 Sep 2016 18:02:21 +0000"  >&lt;p&gt;done... mkl mentioned the possibility of invisible fields.&lt;/p&gt;

&lt;p&gt;I created a form like this, with setNeedAppearances set to true, then opened it with Adobe Reader and saved it. I don&apos;t see any difference.&lt;/p&gt;</comment>
                            <comment id="15456185" author="tilman" created="Thu, 1 Sep 2016 18:04:25 +0000"  >&lt;p&gt;Oops, no, there is a different: the field vanishes from the Acroform field list.&lt;/p&gt;

&lt;p&gt;I also forgot to mention that per the PDF spec, /Rect is mandatory.&lt;/p&gt;</comment>
                            <comment id="15456237" author="msahyoun" created="Thu, 1 Sep 2016 18:23:12 +0000"  >&lt;p&gt;When trying to set the value in Acrobat using JavaScript the there is an error in the console&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;RaiseError: Invalid annotation object.
Doc.getField:2:Batch undefined:Exec
 ===&amp;gt; Invalid annotation object.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and there are neither an AP entry nor a V entry. What about doing the same here if there is only one such widget. In cases where there are multiple widgets where only one is invalid I&apos;d set the V entry but don&apos;t generate an AP for the incorrect widget. &lt;/p&gt;</comment>
                            <comment id="15456249" author="tilman" created="Thu, 1 Sep 2016 18:28:18 +0000"  >&lt;p&gt;?? When I looked at the two files, both have an AP and a V entry in the annotation widget.&lt;/p&gt;</comment>
                            <comment id="15456393" author="tilman" created="Thu, 1 Sep 2016 19:35:13 +0000"  >&lt;p&gt;I&apos;d rather leave this to you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15476044" author="jira-bot" created="Fri, 9 Sep 2016 06:11:48 +0000"  >&lt;p&gt;Commit 1759943 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1759943&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1759943&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3479&quot; title=&quot;NPE in AppearanceGeneratorHelper.setAppearanceValue() if no rectangle in widget&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3479&quot;&gt;&lt;del&gt;PDFBOX-3479&lt;/del&gt;&lt;/a&gt;: remove AP entry for widgets with empty /Rect entry&lt;/p&gt;</comment>
                            <comment id="15476753" author="jira-bot" created="Fri, 9 Sep 2016 10:34:52 +0000"  >&lt;p&gt;Commit 1759980 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1759980&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1759980&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3479&quot; title=&quot;NPE in AppearanceGeneratorHelper.setAppearanceValue() if no rectangle in widget&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3479&quot;&gt;&lt;del&gt;PDFBOX-3479&lt;/del&gt;&lt;/a&gt;: remove AP entry for widgets with empty /Rect entry&lt;/p&gt;</comment>
                            <comment id="15476760" author="msahyoun" created="Fri, 9 Sep 2016 10:36:52 +0000"  >&lt;p&gt;align functionality with Adobe Acrobat behavior for handling the appearance creation&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12826672" name="SimpleForm.pdf" size="1154" author="tilman" created="Thu, 1 Sep 2016 18:02:42 +0000"/>
                            <attachment id="12826673" name="SimpleForm2.pdf" size="4994" author="tilman" created="Thu, 1 Sep 2016 18:02:42 +0000"/>
                            <attachment id="12826680" name="SimpleFormNoRect.Acrobat.pdf" size="4821" author="msahyoun" created="Thu, 1 Sep 2016 19:22:43 +0000"/>
                            <attachment id="12826681" name="SimpleFormNoRect.pdf" size="915" author="msahyoun" created="Thu, 1 Sep 2016 19:22:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://stackoverflow.com/questions/39260500/pdfbox-2-0-how-to-copy-pdtextfields-between-documents]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i335br:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>