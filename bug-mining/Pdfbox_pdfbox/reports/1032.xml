<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:59:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2726] org.apache.pdfbox.cos.COSArray cannot be cast to org.apache.pdfbox.cos.COSDictionary</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2726</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When I start .convertToImage() this error is occur:&lt;/p&gt;

&lt;p&gt;org.apache.pdfbox.pdmodel.graphics.xobject.PDPixelMap getRGBImage&lt;br/&gt;
SEVERE: java.lang.ClassCastException: org.apache.pdfbox.cos.COSArray cannot be cast to org.apache.pdfbox.cos.COSDictionary&lt;br/&gt;
java.lang.ClassCastException: org.apache.pdfbox.cos.COSArray cannot be cast to org.apache.pdfbox.cos.COSDictionary&lt;br/&gt;
	at org.apache.pdfbox.filter.JBIG2Filter.decode(JBIG2Filter.java:73)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.doDecode(COSStream.java:351)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.doDecode(COSStream.java:299)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.getUnfilteredStream(COSStream.java:225)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.common.PDStream.createInputStream(PDStream.java:232)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.common.PDStream.getByteArray(PDStream.java:510)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.xobject.PDPixelMap.getRGBImage(PDPixelMap.java:254)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.xobject.PDXObjectImage.mask(PDXObjectImage.java:221)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.xobject.PDXObjectImage.applyMasks(PDXObjectImage.java:154)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.xobject.PDPixelMap.getRGBImage(PDPixelMap.java:365)&lt;br/&gt;
	at org.apache.pdfbox.util.operator.pagedrawer.Invoke.process(Invoke.java:87)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:557)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:268)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:235)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:215)&lt;br/&gt;
	at org.apache.pdfbox.pdfviewer.PageDrawer.drawPage(PageDrawer.java:139)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDPage.convertToImage(PDPage.java:801)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDPage.convertToImage(PDPage.java:732)&lt;br/&gt;
	at com.sign.PDFCutter.PDFCut(PDFCutter.java:75)&lt;br/&gt;
	at com.sign.CopyFileTree.visitFile(CopyFileTree.java:103)&lt;br/&gt;
	at com.sign.CopyFileTree.visitFile(CopyFileTree.java:21)&lt;br/&gt;
	at java.nio.file.Files.walkFileTree(Files.java:2667)&lt;br/&gt;
	at java.nio.file.Files.walkFileTree(Files.java:2739)&lt;br/&gt;
	at com.sign.Copy.main(Copy.java:158)&lt;/p&gt;

&lt;p&gt;and some resulting images are blank, some images in grey shades with fading text&lt;/p&gt;</description>
                <environment>levigo-jbig2-imageio-1.6.1.jar, jai_codec.jar, jai_imageio.jar</environment>
        <key id="12784777">PDFBOX-2726</key>
            <summary>org.apache.pdfbox.cos.COSArray cannot be cast to org.apache.pdfbox.cos.COSDictionary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="DAndreev">Dmitry Andreev</reporter>
                        <labels>
                            <label>JBIG2</label>
                    </labels>
                <created>Mon, 23 Mar 2015 09:25:16 +0000</created>
                <updated>Sat, 28 Mar 2015 14:10:30 +0000</updated>
                            <resolved>Tue, 24 Mar 2015 07:32:35 +0000</resolved>
                                    <version>1.8.8</version>
                    <version>1.8.9</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.9</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14376537" author="tilman" created="Mon, 23 Mar 2015 20:08:47 +0000"  >&lt;p&gt;Attached 1 page version of the bug.&lt;/p&gt;</comment>
                            <comment id="14376581" author="tilman" created="Mon, 23 Mar 2015 20:35:26 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/Filter [/JBIG2Decode]
/Height 3755
/Length 57773
/Subtype /Image
/ColorSpace /DeviceGray
/DecodeParms [&amp;lt;&amp;lt;
/Width 1244 0 R
/Height 1245 0 R
/JB2Quality 1246 0 R
/DoHalftoneCoding &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;
&amp;gt;&amp;gt;]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I initially thought it is a malformed PDF but it isn&apos;t. Because the filter is in a 1-element array, the decodeparms dictionaries are also to be in an array. There&apos;s a method to get the correct item but it wasn&apos;t used in the JBIG2Filter for some reason. This wasn&apos;t discovered earlier because usually PDF creators don&apos;t use an array if there is only one filter.&lt;/p&gt;</comment>
                            <comment id="14376587" author="jira-bot" created="Mon, 23 Mar 2015 20:38:23 +0000"  >&lt;p&gt;Commit 1668726 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1668726&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1668726&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2726&quot; title=&quot;org.apache.pdfbox.cos.COSArray cannot be cast to org.apache.pdfbox.cos.COSDictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2726&quot;&gt;&lt;del&gt;PDFBOX-2726&lt;/del&gt;&lt;/a&gt;: use correct call to get decode_parms&lt;/p&gt;</comment>
                            <comment id="14376615" author="jira-bot" created="Mon, 23 Mar 2015 20:55:41 +0000"  >&lt;p&gt;Commit 1668730 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1668730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1668730&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2726&quot; title=&quot;org.apache.pdfbox.cos.COSArray cannot be cast to org.apache.pdfbox.cos.COSDictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2726&quot;&gt;&lt;del&gt;PDFBOX-2726&lt;/del&gt;&lt;/a&gt;: use correct strategy to get decode_parms&lt;/p&gt;</comment>
                            <comment id="14376861" author="tilman" created="Mon, 23 Mar 2015 23:02:59 +0000"  >&lt;p&gt;Rendering tests work, setting to resolved. Thanks for the report and sorry for the inconvenience. Version 1.8.9 will be released in a few days; alternatively, get a snapshot version.&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox/1.8.9-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox/1.8.9-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14377359" author="dandreev" created="Tue, 24 Mar 2015 06:11:49 +0000"  >&lt;p&gt;Thanks for your rapid  answer&lt;/p&gt;</comment>
                            <comment id="14377411" author="dandreev" created="Tue, 24 Mar 2015 06:59:49 +0000"  >&lt;p&gt;Sorry, maybe I don&apos;t understand something, but when i tried again with snapshot version 1.8.9  this error occur:&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NoClassDefFoundError: org/apache/fontbox/afm/AFMParser&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.addAdobeFontMetric(PDFont.java:165)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.addAdobeFontMetric(PDFont.java:152)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.getAdobeFontMetrics(PDFont.java:122)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.&amp;lt;clinit&amp;gt;(PDFont.java:114)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:108)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDResources.getFonts(PDResources.java:213)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.getFonts(PDFStreamEngine.java:607)&lt;br/&gt;
	at org.apache.pdfbox.util.operator.SetTextFont.process(SetTextFont.java:59)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:557)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:268)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:235)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:215)&lt;br/&gt;
	at org.apache.pdfbox.pdfviewer.PageDrawer.drawPage(PageDrawer.java:139)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDPage.convertToImage(PDPage.java:801)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDPage.convertToImage(PDPage.java:732)&lt;br/&gt;
	at com.sign.PDFCutter.PDFCut(PDFCutter.java:75)&lt;br/&gt;
	at com.sign.CopyFileTree.visitFile(CopyFileTree.java:103)&lt;br/&gt;
	at com.sign.CopyFileTree.visitFile(CopyFileTree.java:21)&lt;br/&gt;
	at java.nio.file.Files.walkFileTree(Files.java:2667)&lt;br/&gt;
	at java.nio.file.Files.walkFileTree(Files.java:2739)&lt;br/&gt;
	at com.sign.Copy.main(Copy.java:158)&lt;br/&gt;
Caused by: java.lang.ClassNotFoundException: org.apache.fontbox.afm.AFMParser&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:372)&lt;br/&gt;
	at java.net.URLClassLoader$1.run(URLClassLoader.java:361)&lt;br/&gt;
	at java.security.AccessController.doPrivileged(Native Method)&lt;br/&gt;
	at java.net.URLClassLoader.findClass(URLClassLoader.java:360)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:424)&lt;br/&gt;
	at sun.misc.Launcher$AppClassLoader.loadClass(Launcher.java:308)&lt;br/&gt;
	at java.lang.ClassLoader.loadClass(ClassLoader.java:357)&lt;br/&gt;
	... 21 more&lt;br/&gt;
Java Result: 1&lt;/p&gt;</comment>
                            <comment id="14377413" author="tilman" created="Tue, 24 Mar 2015 07:04:38 +0000"  >&lt;p&gt;You have to also use the recent fontbox and jempbox. Alternatively, use the app, which has them too:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/1.8.9-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/1.8.9-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Don&apos;t forget to remove all 1.8.8 stuff from the class path.&lt;/p&gt;</comment>
                            <comment id="14377426" author="dandreev" created="Tue, 24 Mar 2015 07:22:38 +0000"  >&lt;p&gt;Thanks, for very rapid answers, it&apos;s work now&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12706488" name="Book_1.Working_project.pdf" size="9376790" author="DAndreev" created="Mon, 23 Mar 2015 09:27:16 +0000"/>
                            <attachment id="12706489" name="Book_1.Working_project_1.jpg" size="73121" author="DAndreev" created="Mon, 23 Mar 2015 09:27:16 +0000"/>
                            <attachment id="12706706" name="PDFBOX-2726.pdf" size="89048" author="tilman" created="Mon, 23 Mar 2015 20:08:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i277vr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>