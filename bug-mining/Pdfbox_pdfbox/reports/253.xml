<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:53:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1427] PDF page rotation is not working</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1427</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;PDFToImage creates empty images when PDF with page rotation is provided as input. Rotation logic in PDPage is not correct. Because of this problem PDF contents are rendered outside the graphics area. Hence it creates empty images. Patch file is below. Tested on pdf &lt;a href=&quot;http://eeweb.poly.edu/~yao/EE3414/image_filtering.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://eeweb.poly.edu/~yao/EE3414/image_filtering.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;---------------------------------------------------------------------&lt;br/&gt;
&amp;#8212; /data/pdf/pdfbox/pdfbox-svn/trunk/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDPage.java	2012-10-14 08:45:34.275123749 +0530&lt;br/&gt;
+++ /data/pdf/pdfbox/pdfbox-1.7.1/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDPage.java	2012-10-14 13:37:16.887054874 +0530&lt;br/&gt;
@@ -708,8 +708,13 @@&lt;br/&gt;
         //TODO The following reduces accuracy. It should really be a Dimension2D.Float.&lt;br/&gt;
         Dimension pageDimension = new Dimension( (int)widthPt, (int)heightPt );&lt;br/&gt;
         BufferedImage retval = null;&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;float rotation = (float)Math.toRadians(findRotation());&lt;/li&gt;
	&lt;li&gt;if (rotation != 0)&lt;br/&gt;
+        int rotationAngle = findRotation();&lt;br/&gt;
+        //PDF spec does not say rotation angle should be within 360 degrees&lt;br/&gt;
+        //Restrict rotation to -360 to +360 degrees range.&lt;br/&gt;
+        rotationAngle = rotationAngle % 360;&lt;br/&gt;
+        float rotation = (float)Math.toRadians(rotationAngle);&lt;br/&gt;
+        //Flip the image horizontally only for +/-90 and +/-270 degree rotation&lt;br/&gt;
+        if ((rotationAngle % 180) != 0)
         {
             retval = new BufferedImage( heightPx, widthPx, imageType );
         }
&lt;p&gt;@@ -722,7 +727,26 @@&lt;br/&gt;
         graphics.clearRect( 0, 0, retval.getWidth(), retval.getHeight() );&lt;br/&gt;
         if (rotation != 0)&lt;br/&gt;
         {&lt;/p&gt;&lt;/li&gt;
	&lt;li&gt;graphics.translate(retval.getWidth(), 0.0f);&lt;br/&gt;
+            int translateX = 0;&lt;br/&gt;
+            int translateY = 0;&lt;br/&gt;
+            switch(rotationAngle) 
{
+                case -270:
+                case 90:
+                    translateX = retval.getWidth();
+                break;
+
+                case -90:
+                case 270:
+                    translateY = retval.getHeight();
+                break;
+
+                case -180:
+                case 180:
+                    translateX = retval.getWidth();
+                    translateY = retval.getHeight();
+                break;
+            }
&lt;p&gt;+            graphics.translate(translateX,translateY);&lt;br/&gt;
             graphics.rotate(rotation);&lt;br/&gt;
         }&lt;br/&gt;
         graphics.scale( scaling, scaling );&lt;br/&gt;
---------------------------------------------------------------------&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>Ubuntu 11.10 64 bit on Intel&amp;#xAE; Core&#8482; i5-2430M CPU. Sun JDK &amp;quot;1.6.0_30&amp;quot; (build 1.6.0_30-b12) Java HotSpot(TM) 64-Bit Server VM (build 20.5-b03, mixed mode).</environment>
        <key id="12611736">PDFBOX-1427</key>
            <summary>PDF page rotation is not working</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="ravihegde">Ravi Hegde</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Sun, 14 Oct 2012 08:30:48 +0000</created>
                <updated>Sat, 23 Mar 2013 12:56:07 +0000</updated>
                            <resolved>Sun, 14 Oct 2012 12:38:32 +0000</resolved>
                                    <version>1.7.1</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13475830" author="lehmi" created="Sun, 14 Oct 2012 12:38:32 +0000"  >&lt;p&gt;I fixed the issue in revision 1398069 based on Ravi&apos;s proposal.&lt;/p&gt;

&lt;p&gt;Thanks for the contribution!&lt;/p&gt;</comment>
                            <comment id="13485593" author="lehmi" created="Sun, 28 Oct 2012 09:26:34 +0000"  >&lt;p&gt;I can&apos;t find the mentioned piece of code. Can you be more specific please? What class, revision and line number are you referring to? &lt;/p&gt;</comment>
                            <comment id="13485605" author="lehmi" created="Sun, 28 Oct 2012 11:08:58 +0000"  >&lt;p&gt;Hmm, the former poster preferred to delete his/her question instead of answering mine, that&apos;s odd &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13485677" author="ravihegde@hotmail.com" created="Sun, 28 Oct 2012 17:45:11 +0000"  >&lt;p&gt;Sorry for that surprise I created! By the time you saw my post and commented I tested the code and found it to be a bug. I deleted the comment and raised another bug report with a patch - &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1432&quot; title=&quot;PDF rotation problem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1432&quot;&gt;&lt;del&gt;PDFBOX-1432&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>248544</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 3 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i09vxr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>55615</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>