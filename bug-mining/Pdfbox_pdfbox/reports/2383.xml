<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:10:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4863] Bitmapped fonts are rendered very blurry</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4863</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Since 2.0.20 we have rendering issues for PDF&apos;s with bitmapped fonts. Please see attached images, the 2.0.19 and 2.0.20 version. Both are rendered from a A4 PDF on 300 DPI. Font size is around 12 points I think.&lt;/p&gt;

&lt;p&gt;A PDF with the problem and a diff image is attached.&lt;/p&gt;

&lt;p&gt;I think it is related to&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4516&quot; title=&quot;PDFBox text and images are blurry even after rendering with high DPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4516&quot;&gt;&lt;del&gt;PDFBOX-4516&lt;/del&gt;&lt;/a&gt; (which is generally a great improvement).&lt;/p&gt;</description>
                <environment></environment>
        <key id="13310212">PDFBOX-4863</key>
            <summary>Bitmapped fonts are rendered very blurry</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="c.hoeflake">Cornelis Hoeflake</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Mon, 8 Jun 2020 19:33:17 +0000</created>
                <updated>Fri, 21 Aug 2020 04:54:14 +0000</updated>
                            <resolved>Sat, 20 Jun 2020 10:51:45 +0000</resolved>
                                    <version>2.0.20</version>
                                    <fixVersion>2.0.21</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17128574" author="tilman" created="Mon, 8 Jun 2020 19:44:12 +0000"  >&lt;p&gt;You can disable the improvement by disabling RenderingHints.VALUE_RENDER_QUALITY or RenderingHints.VALUE_INTERPOLATION_BICUBIC in the rendering hints (get / set in PDFRenderer).&lt;/p&gt;

&lt;p&gt;The &quot;bitmapped fonts&quot; is probably type 3 fonts or inline images, e.g. &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1950&quot; title=&quot;Inline image mask does not mask&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1950&quot;&gt;&lt;del&gt;PDFBOX-1950&lt;/del&gt;&lt;/a&gt;. Will investigate later this week.&lt;/p&gt;</comment>
                            <comment id="17128607" author="c.hoeflake" created="Mon, 8 Jun 2020 20:13:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;Thanks for the render hints. &lt;/p&gt;

&lt;p&gt;And indeed it is a type 3 font. With embedded/inline images?&lt;/p&gt;</comment>
                            <comment id="17129653" author="tilman" created="Tue, 9 Jun 2020 17:27:52 +0000"  >&lt;p&gt;There is some hope. A new strategy would be to call getScaledImage with the scale of the CTM AND the scale of the graphics device. Initial attempt seems to be promising.&lt;/p&gt;

&lt;p&gt;I also realize that the file &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4516&quot; title=&quot;PDFBox text and images are blurry even after rendering with high DPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4516&quot;&gt;&lt;del&gt;PDFBOX-4516&lt;/del&gt;&lt;/a&gt;_TvT.pdf was never nicely rendered. I had focused at the &quot;grainy&quot; pattern, but the glyphs are in the same image and they look terrible.&lt;/p&gt;</comment>
                            <comment id="17136074" author="jira-bot" created="Mon, 15 Jun 2020 17:55:27 +0000"  >&lt;p&gt;Commit 1878863 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1878863&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1878863&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4863&quot; title=&quot;Bitmapped fonts are rendered very blurry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4863&quot;&gt;&lt;del&gt;PDFBOX-4863&lt;/del&gt;&lt;/a&gt;: also consider the graphics device transform when deciding whether to use getScaledInstance() for smooth scaling&lt;/p&gt;</comment>
                            <comment id="17136116" author="tilman" created="Mon, 15 Jun 2020 19:24:25 +0000"  >&lt;p&gt;OOM with pop-bugzilla107112-p12.pdf&lt;/p&gt;</comment>
                            <comment id="17138084" author="jira-bot" created="Wed, 17 Jun 2020 04:03:54 +0000"  >&lt;p&gt;Commit 1878906 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1878906&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1878906&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4863&quot; title=&quot;Bitmapped fonts are rendered very blurry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4863&quot;&gt;&lt;del&gt;PDFBOX-4863&lt;/del&gt;&lt;/a&gt;: use Math.abs() and refactor&lt;/p&gt;</comment>
                            <comment id="17138140" author="tilman" created="Wed, 17 Jun 2020 06:40:53 +0000"  >&lt;p&gt;Last commit solves OOM problem&lt;/p&gt;</comment>
                            <comment id="17138577" author="jira-bot" created="Wed, 17 Jun 2020 15:37:27 +0000"  >&lt;p&gt;Commit 1878930 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1878930&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1878930&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4863&quot; title=&quot;Bitmapped fonts are rendered very blurry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4863&quot;&gt;&lt;del&gt;PDFBOX-4863&lt;/del&gt;&lt;/a&gt;: refactor, use classic method when w or h &amp;lt; 1, combine scale values&lt;/p&gt;</comment>
                            <comment id="17140307" author="tilman" created="Fri, 19 Jun 2020 07:38:18 +0000"  >&lt;p&gt;Commit 1878970 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1878970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1878970&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4863&quot; title=&quot;Bitmapped fonts are rendered very blurry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4863&quot;&gt;&lt;del&gt;PDFBOX-4863&lt;/del&gt;&lt;/a&gt;: attempt to reverse rounding when computing the draw transform&lt;/p&gt;</comment>
                            <comment id="17141010" author="jira-bot" created="Sat, 20 Jun 2020 08:27:01 +0000"  >&lt;p&gt;Commit 1879027 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1879027&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1879027&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4863&quot; title=&quot;Bitmapped fonts are rendered very blurry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4863&quot;&gt;&lt;del&gt;PDFBOX-4863&lt;/del&gt;&lt;/a&gt;: also consider the graphics device transform when deciding whether to use getScaledInstance() for smooth scaling, use classic method when w or h &amp;lt; 1&lt;/p&gt;</comment>
                            <comment id="17141011" author="jira-bot" created="Sat, 20 Jun 2020 08:27:05 +0000"  >&lt;p&gt;Commit 1879028 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1879028&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1879028&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4863&quot; title=&quot;Bitmapped fonts are rendered very blurry&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4863&quot;&gt;&lt;del&gt;PDFBOX-4863&lt;/del&gt;&lt;/a&gt;: also consider the graphics device transform when deciding whether to use getScaledInstance() for smooth scaling, use classic method when w or h &amp;lt; 1&lt;/p&gt;</comment>
                            <comment id="17141039" author="tilman" created="Sat, 20 Jun 2020 10:51:30 +0000"  >&lt;p&gt;I&apos;m now satisfied with this. I&apos;m using 0.5 instead of the old 0.25 threshold to ensure that &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4516&quot; title=&quot;PDFBox text and images are blurry even after rendering with high DPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4516&quot;&gt;&lt;del&gt;PDFBOX-4516&lt;/del&gt;&lt;/a&gt;_TvT.pdf is rendered nicely at all resolutions.&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.21-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.21-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17150790" author="c.hoeflake" created="Fri, 3 Jul 2020 07:28:45 +0000"  >&lt;p&gt;Great! Today I tested the new code and the results are good. Thank you!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13317244">PDFBOX-4917</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13311496">PDFBOX-4886</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13317507">PDFBOX-4918</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13228489">PDFBOX-4516</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13005149" name="2.0.19.png" size="5044" author="c.hoeflake" created="Mon, 8 Jun 2020 19:32:15 +0000"/>
                            <attachment id="13005148" name="2.0.20.png" size="7939" author="c.hoeflake" created="Mon, 8 Jun 2020 19:32:15 +0000"/>
                            <attachment id="13005151" name="diff.png" size="697867" author="c.hoeflake" created="Mon, 8 Jun 2020 20:10:49 +0000"/>
                            <attachment id="13005152" name="fonts_embedded_as_glyph_anonimized.pdf" size="46711" author="c.hoeflake" created="Mon, 8 Jun 2020 20:11:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fn2g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>