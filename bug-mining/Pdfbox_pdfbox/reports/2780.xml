<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:13:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5178] Parsing differences between 2.0.23 and 2.0.24/3.0</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5178</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;There are some weird differences in parsing the attached file, 2.0.23 shows &quot;BigTIFF.tif&quot; in the /Contents of the first annotation and a loop at Root/Pages/Kids/&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;/Annots/&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;/FS (always 14 0 R), while 3.0 doesn&apos;t have that, but doesn&apos;t have &quot;BigTIFF.tif&quot;. I&apos;m not sure which one (if any) is wrong.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;UPDATE&lt;/p&gt;

&lt;p&gt;2.0.24 shows the same behaviour as 3.0&lt;/p&gt;</description>
                <environment></environment>
        <key id="13374902">PDFBOX-5178</key>
            <summary>Parsing differences between 2.0.23 and 2.0.24/3.0</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Apr 2021 11:10:54 +0000</created>
                <updated>Sat, 6 May 2023 09:48:59 +0000</updated>
                            <resolved>Sat, 1 Apr 2023 15:02:09 +0000</resolved>
                                    <version>2.0.23</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.28</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17331782" author="lehmi" created="Mon, 26 Apr 2021 06:29:20 +0000"  >&lt;p&gt;First finding: 36 0 is a compressed object stream and it references two objects with number 14, one at 241 and one at 299&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2 0 3 37 6 214 14 241 14 299 22 604 24 939 26 1912 27 2947 29 3084 30 3138 ....
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17332652" author="mkl" created="Mon, 26 Apr 2021 17:58:02 +0000"  >&lt;p&gt;As the &lt;b&gt;XRef&lt;/b&gt; streams have a &lt;tt&gt;/W&lt;span class=&quot;error&quot;&gt;&amp;#91;1 4 2&amp;#93;&lt;/span&gt;&lt;/tt&gt; with a non-0 third entry, the&#160;correct index should be derived from the cross reference entry of object 14.&lt;/p&gt;</comment>
                            <comment id="17332970" author="lehmi" created="Tue, 27 Apr 2021 06:18:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt; Thanks for the pointer. PDFBox uses the third value as generation number for type 1 entries, others are ignored. I&apos;ve never realized that detail when reading the specs :-o&lt;/p&gt;</comment>
                            <comment id="17333066" author="mkl" created="Tue, 27 Apr 2021 09:28:48 +0000"  >&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Yeah, there always are surprises in that &quot;specification&quot;...&lt;/p&gt;

&lt;p&gt;Beware, though: It is allowed to have a 0 as third entry of &lt;b&gt;W&lt;/b&gt; and quite a number of documents make use of that. If that were the case here, I wouldn&apos;t know a mechanism to find out which of those objects 14 is the currently correct one.&lt;/p&gt;</comment>
                            <comment id="17512999" author="jira-bot" created="Sun, 27 Mar 2022 16:32:40 +0000"  >&lt;p&gt;Commit 1899248 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1899248&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1899248&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: simplify&lt;/p&gt;</comment>
                            <comment id="17653322" author="jira-bot" created="Sat, 31 Dec 2022 15:12:27 +0000"  >&lt;p&gt;Commit 1906300 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1906300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1906300&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: remove convenient constructor which is used by preflight only&lt;/p&gt;</comment>
                            <comment id="17653337" author="jira-bot" created="Sat, 31 Dec 2022 16:34:13 +0000"  >&lt;p&gt;Commit 1906301 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1906301&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1906301&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: reuse object keys from cross reference table/stream if available&lt;/p&gt;</comment>
                            <comment id="17653389" author="jira-bot" created="Sun, 1 Jan 2023 10:02:44 +0000"  >&lt;p&gt;Commit 1906309 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1906309&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1906309&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: add support for the optional index value for an object of a compressed stream&lt;/p&gt;</comment>
                            <comment id="17653465" author="jira-bot" created="Sun, 1 Jan 2023 21:19:38 +0000"  >&lt;p&gt;Commit 1906329 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1906329&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1906329&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: sonar fix&lt;/p&gt;</comment>
                            <comment id="17655441" author="jira-bot" created="Fri, 6 Jan 2023 13:13:18 +0000"  >&lt;p&gt;Commit 1906422 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1906422&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1906422&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: use index value to choose correct object if the object numbers within an object stream are not unique&lt;/p&gt;</comment>
                            <comment id="17655671" author="lehmi" created="Sat, 7 Jan 2023 09:33:37 +0000"  >&lt;p&gt;I&apos;ve added support for the index of the objects within a compressed object stream. But it is limited to those streams where the object numbers aren&apos;t unique as in the given file. But this doesn&apos;t fix the issue. PDFBox accidentally refers to the correct object. The issue was introduced when I &quot;optimized&quot; the parser to stop reading malformed dictionaries to avoid endless loops. I&apos;m still searching for the correct ticket. BTW, 2.0.24 is affected as well.&lt;/p&gt;

&lt;p&gt;UPDATE: looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5163&quot; title=&quot;Stack overflow when reading a corrupt dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5163&quot;&gt;&lt;del&gt;PDFBOX-5163&lt;/del&gt;&lt;/a&gt; is the root cause. I&apos;m investigating&lt;/p&gt;

&lt;p&gt;UPDATE2: It seems to be more complicated. The definition of the objects within the object stream looks broken starting with object number 6&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
2 0 3 37 6 214 14 241 14 299 22 604 24 939 26 1912 27 2947 29 3084 30 3138

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The offset for object 6 should be 289 (214 + 75) but is 288. The first entry for object 14 belongs to object 13 and after that is getting confusing&lt;/p&gt;

&lt;p&gt;UPDATE3:&lt;br/&gt;
It starts with the first commit of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5163&quot; title=&quot;Stack overflow when reading a corrupt dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5163&quot;&gt;&lt;del&gt;PDFBOX-5163&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17655687" author="jira-bot" created="Sat, 7 Jan 2023 12:16:59 +0000"  >&lt;p&gt;Commit 1906443 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1906443&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1906443&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: return COSNull instead of null when skipping bad string values&lt;/p&gt;</comment>
                            <comment id="17655688" author="jira-bot" created="Sat, 7 Jan 2023 12:17:11 +0000"  >&lt;p&gt;Commit 1906444 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1906444&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1906444&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: return COSNull instead of null when skipping bad string values&lt;/p&gt;</comment>
                            <comment id="17655689" author="lehmi" created="Sat, 7 Jan 2023 12:23:54 +0000"  >&lt;p&gt;I&apos;ve found a way to make PDFBox a little more lenient. The parser stumbled upon the invalid dictionary entry &lt;tt&gt;/F a8&lt;/tt&gt; and returned &lt;tt&gt;null&lt;/tt&gt; so that the parser stops reading the following dictionary values. In the end some valid entries are missing which explains the differences. Now the parser returns &lt;tt&gt;COSNull&lt;/tt&gt; as value which is still invalid but the parser doesn&apos;t reading a the following values are read again.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Is there any chance to run your tests to see if there are any side effects? Thanks in advance&lt;/p&gt;</comment>
                            <comment id="17655694" author="tilman" created="Sat, 7 Jan 2023 13:16:04 +0000"  >&lt;p&gt;No regressions&lt;/p&gt;</comment>
                            <comment id="17655716" author="lehmi" created="Sat, 7 Jan 2023 15:55:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Thanks again gor the prompt feedback&lt;/p&gt;

&lt;p&gt;Set to resolved&lt;/p&gt;</comment>
                            <comment id="17702318" author="jira-bot" created="Sun, 19 Mar 2023 17:23:48 +0000"  >&lt;p&gt;Commit 1908522 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1908522&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1908522&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: introduce object key cache to avoid performance regression for big pdfs&lt;/p&gt;</comment>
                            <comment id="17702319" author="lehmi" created="Sun, 19 Mar 2023 17:27:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://svn.apache.org/r1906301&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1906301&lt;/a&gt; introduced a performance regression for big pdfs. I&apos;ve added another cache to avoid that. I&apos;m not super happy with that solution and I guess it is just a workaround. Once the refacotring of the xref parser is done there should be a better solution.&lt;/p&gt;</comment>
                            <comment id="17707144" author="lehmi" created="Fri, 31 Mar 2023 06:29:24 +0000"  >&lt;p&gt;Tims pre-releas-tests reveal a regression with the pdf from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4424&quot; title=&quot;IOException when merging PDF documents containing URLs with unmatched brakets.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4424&quot;&gt;&lt;del&gt;PDFBOX-4424&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://svn.apache.org/r1906444&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;r1906444&lt;/a&gt; seems to be the issue&lt;/p&gt;</comment>
                            <comment id="17707558" author="jira-bot" created="Sat, 1 Apr 2023 14:57:17 +0000"  >&lt;p&gt;Commit 1908901 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1908901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1908901&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: add LF-combinations to checkForEndOfString&lt;/p&gt;</comment>
                            <comment id="17707559" author="jira-bot" created="Sat, 1 Apr 2023 14:57:29 +0000"  >&lt;p&gt;Commit 1908902 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1908902&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1908902&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: add LF-combinations to checkForEndOfString&lt;/p&gt;</comment>
                            <comment id="17707560" author="lehmi" created="Sat, 1 Apr 2023 15:02:09 +0000"  >&lt;p&gt;The 2.0.27 parser stumbles upon a malformed COSString which contains unbalanced pairs of parentheses. BaseParser.checkForEndOfString tries to detect automatically some special constellations of those cases. They are all about COSString objects which end after a newline. I&apos;ve added the combination starting with a single linefeed and now everything works fine&lt;/p&gt;</comment>
                            <comment id="17707636" author="jira-bot" created="Sun, 2 Apr 2023 10:38:46 +0000"  >&lt;p&gt;Commit 1908915 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1908915&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1908915&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: fixed condition, due to a hint of valerybokov&lt;/p&gt;</comment>
                            <comment id="17707637" author="jira-bot" created="Sun, 2 Apr 2023 10:39:18 +0000"  >&lt;p&gt;Commit 1908916 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1908916&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1908916&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: fixed condition, due to a hint of valerybokov&lt;/p&gt;</comment>
                            <comment id="17707641" author="jira-bot" created="Sun, 2 Apr 2023 11:38:41 +0000"  >&lt;p&gt;Commit 1908918 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1908918&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1908918&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: fixed another issue with a condition, thanks again to valerybokov&lt;/p&gt;</comment>
                            <comment id="17707642" author="jira-bot" created="Sun, 2 Apr 2023 11:38:52 +0000"  >&lt;p&gt;Commit 1908919 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1908919&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1908919&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: fixed another issue with a condition, thanks again to valerybokov&lt;/p&gt;</comment>
                            <comment id="17709962" author="jira-bot" created="Sun, 9 Apr 2023 11:47:54 +0000"  >&lt;p&gt;Commit 1909035 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1909035&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1909035&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: be more lenient, don&apos;t stumble upon an exception due to a missing end of dictionary marker&lt;/p&gt;</comment>
                            <comment id="17709963" author="jira-bot" created="Sun, 9 Apr 2023 11:48:49 +0000"  >&lt;p&gt;Commit 1909036 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1909036&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1909036&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: be more lenient, don&apos;t stumble upon an exception due to a missing end of dictionary marker&lt;/p&gt;</comment>
                            <comment id="17709964" author="lehmi" created="Sun, 9 Apr 2023 11:59:28 +0000"  >&lt;p&gt;The pre-tests reveal some other minor regressions. The parser stumbles upon a missing/malformed end of dictionary marker when reading the attached file  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13057155/13057155_MOZILLA-1129855-0.pdf&quot; title=&quot;MOZILLA-1129855-0.pdf attached to PDFBOX-5178&quot;&gt;MOZILLA-1129855-0.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. My fix makes the parser more lenient again by swallowing any exception at that point of parsing&lt;/p&gt;</comment>
                            <comment id="17709977" author="tilman" created="Sun, 9 Apr 2023 14:52:57 +0000"  >&lt;p&gt;No regressions in my tests&lt;/p&gt;</comment>
                            <comment id="17709978" author="jira-bot" created="Sun, 9 Apr 2023 15:19:20 +0000"  >&lt;p&gt;Commit 1909039 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1909039&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1909039&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: return null instead of throwing an exception if the parser hits a malformed array or dictionary within a content stream&lt;/p&gt;</comment>
                            <comment id="17709979" author="jira-bot" created="Sun, 9 Apr 2023 15:19:37 +0000"  >&lt;p&gt;Commit 1909040 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1909040&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1909040&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5178&quot; title=&quot;Parsing differences between 2.0.23 and 2.0.24/3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5178&quot;&gt;&lt;del&gt;PDFBOX-5178&lt;/del&gt;&lt;/a&gt;: return null instead of throwing an exception if the parser hits a malformed array or dictionary within a content stream&lt;/p&gt;</comment>
                            <comment id="17709980" author="lehmi" created="Sun, 9 Apr 2023 15:24:39 +0000"  >&lt;p&gt;The pre-tests reveal some other minor regressions. The parser hits a malformed array within a content stream when reading the attached file  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13057158/13057158_GHOSTSCRIPT-699768-0.pdf&quot; title=&quot;GHOSTSCRIPT-699768-0.pdf attached to PDFBOX-5178&quot;&gt;GHOSTSCRIPT-699768-0.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; and throws an exception. My fix makes the parser more lenient again by swallowing any exception which occurs when hitting a malformed array or dictionary. The parser simply stops prematurely and returns null.&lt;/p&gt;

&lt;p&gt;@Thanks for your feedback&lt;/p&gt;</comment>
                            <comment id="17709983" author="tilman" created="Sun, 9 Apr 2023 18:52:58 +0000"  >&lt;p&gt;No regressions in my tests&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13535189">PDFBOX-5595</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13057158" name="GHOSTSCRIPT-699768-0.pdf" size="114757" author="lehmi" created="Sun, 9 Apr 2023 15:21:06 +0000"/>
                            <attachment id="13057155" name="MOZILLA-1129855-0.pdf" size="70477" author="lehmi" created="Sun, 9 Apr 2023 11:46:03 +0000"/>
                            <attachment id="13024555" name="poppler-704-0.pdf" size="10008" author="tilman" created="Sun, 25 Apr 2021 11:10:22 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 30 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qfc8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>