<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:09:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4495] Expected number, actual=COSFloat</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4495</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I got an exception to extract text from pdf using Tika. I can&apos;t attach a file to reproduce due to confidentiality.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.io.IOException: expected number, actual=COSFloat{18446744071795507394} at offset 9277 at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryValue(BaseParser.java:166) at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionaryNameValuePair(BaseParser.java:279) at org.apache.pdfbox.pdfparser.BaseParser.parseCOSDictionary(BaseParser.java:212) at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:864) at org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:904) at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:873) at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:793) at org.apache.pdfbox.pdfparser.COSParser.parseDictObjects(COSParser.java:753) at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:187) at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:226) at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1200) at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1173) at org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:154) at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt; Related:&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2842&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-2842&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13224029">PDFBOX-4495</key>
            <summary>Expected number, actual=COSFloat</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="Giorgy">Jorge Spinsanti</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 Mar 2019 12:59:07 +0000</created>
                <updated>Fri, 12 Apr 2019 14:39:49 +0000</updated>
                            <resolved>Fri, 29 Mar 2019 19:04:43 +0000</resolved>
                                    <version>2.0.14</version>
                                    <fixVersion>2.0.15</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16801753" author="mkl" created="Tue, 26 Mar 2019 14:08:03 +0000"  >&lt;p&gt;This looks like another case of the documents recently popping up containing a reference to a non-existing indirect object with an abstrusely high object number, here something like &lt;tt&gt;18446744071795507394 0 R&lt;/tt&gt; (it&apos;s handled as a &lt;tt&gt;float&lt;/tt&gt;, so don&apos;t trust the later digits...)&lt;/p&gt;

&lt;p&gt;Strictly speaking this is a case for &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;An indirect reference to an undefined object shall not be considered an error by a PDF processor; it shall be treated as a reference to the null object.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16801887" author="giorgy" created="Tue, 26 Mar 2019 16:14:37 +0000"  >&lt;p&gt;Are you talking about an issue in PDFBox or corrupt document? Because the document is open with Chrome or DocumentViewer (Ubuntu) and I can see the content without problems.&lt;/p&gt;</comment>
                            <comment id="16802107" author="jira-bot" created="Tue, 26 Mar 2019 19:54:10 +0000"  >&lt;p&gt;Commit 1856346 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1856346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1856346&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4495&quot; title=&quot;Expected number, actual=COSFloat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4495&quot;&gt;&lt;del&gt;PDFBOX-4495&lt;/del&gt;&lt;/a&gt;: return COSNull instead of throwing an exception, as suggested by Michael Klink&lt;/p&gt;</comment>
                            <comment id="16802108" author="jira-bot" created="Tue, 26 Mar 2019 19:54:15 +0000"  >&lt;p&gt;Commit 1856347 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1856347&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1856347&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4495&quot; title=&quot;Expected number, actual=COSFloat&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4495&quot;&gt;&lt;del&gt;PDFBOX-4495&lt;/del&gt;&lt;/a&gt;: return COSNull instead of throwing an exception, as suggested by Michael Klink&lt;/p&gt;</comment>
                            <comment id="16802163" author="tilman" created="Tue, 26 Mar 2019 20:51:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Giorgy&quot; class=&quot;user-hover&quot; rel=&quot;Giorgy&quot;&gt;Giorgy&lt;/a&gt; Please try opening your file with the snapshot at the bottom of &lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.15-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.15-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;java -jar pdfbox-app-XXXX.jar PDFReader yourfile.pdf&lt;/p&gt;

&lt;p&gt;and then give feedback. (If you don&apos;t, I will revert the change)&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=kschnack&quot; class=&quot;user-hover&quot; rel=&quot;kschnack&quot;&gt;kschnack&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16802774" author="mkl" created="Wed, 27 Mar 2019 13:22:01 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Giorgy&quot; class=&quot;user-hover&quot; rel=&quot;Giorgy&quot;&gt;Giorgy&lt;/a&gt;&amp;gt;Are you talking about an issue in PDFBox or corrupt document? Because the document is open with Chrome or DocumentViewer (Ubuntu) and I can see the content without problems.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;First of all, that a document opens with a number of PDF viewers does not automatically imply that it is not corrupted. PDF viewers (first and foremost Adobe Reader but then mimicked by other viewers to be compatible with Adobe) have a long history of repairing numerous errors under the hood.&lt;/p&gt;

&lt;p&gt;That being said, an indirect object reference like &lt;tt&gt;18446744071795507394 0 R&lt;/tt&gt; apparently &lt;em&gt;is&lt;/em&gt;&#160;allowed by the specification, at least by its letter. Even though it is extremely implausible that a PDF will ever contain enough objects to make an object number as large as &lt;tt&gt;18446744071795507394&lt;/tt&gt; necessary. Limits for integers are only implementation limits, not hard limits.&lt;/p&gt;

&lt;p&gt;Thus, in this case it most likely (as you haven&apos;t shared the PDF, nothing is sure) is an issue of PDFBox; but it is an issue that &lt;em&gt;the software that generated your PDF explicitly wanted to trigger&lt;/em&gt;.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&amp;gt;return COSNull instead of throwing an exception, as suggested by Michael Klink&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Well, by my &quot;strictly speaking&quot; I wanted to imply that I&apos;m not sure whether I really should suggest implementing it so. Using such object numbers implies that the generating software explicitly wants to tease PDF processors, and I&apos;m not sure one has to play along... (Well, or the generating software is broken and, therefore, generates wrong object numbers. In this case one definitively doesn&apos;t have to play along.)&lt;/p&gt;

&lt;p&gt;But if you really want to follow that suggestion, you should check &lt;b&gt;all&lt;/b&gt; code that recognizes references and update&#160;it accordingly, not only in &lt;tt&gt;parseCOSDictionaryValue&lt;/tt&gt;. Supporting so long object numbers in some contexts and not in others might cause even more inexplicably weird behaviors.&lt;/p&gt;</comment>
                            <comment id="16803202" author="giorgy" created="Wed, 27 Mar 2019 18:37:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&amp;gt;&#160;&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4495?focusedCommentId=16802163&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16802163&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PDFBOX-4495?focusedCommentId=16802163&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-16802163&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I run the snapshot with our file with following result:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;PDF Debugger opened file and I could see the content and navigate elements&lt;/li&gt;
	&lt;li&gt;logs are shown in&#160;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12963929/12963929_output.log&quot; title=&quot;output.log attached to PDFBOX-4495&quot;&gt;output.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Release used:&#160;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;pdfbox-app-2.0.15-20190327.175303-87.jar&#160;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16805350" author="tilman" created="Fri, 29 Mar 2019 19:04:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt;&lt;br/&gt;
I think that the software that generates these PDFs is broken, I suspect that they were using &quot;special&quot; numbers while building the structure tree and then missed replacing all of them.&lt;/p&gt;

&lt;p&gt;If I&apos;d be the &quot;supreme roolah&quot; then I would refuse any broken PDF and force Adobe to do the same. But I&apos;m not &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;You are right that it could happen elsewhere but I prefer not to change anything without having an exception.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Giorgy&quot; class=&quot;user-hover&quot; rel=&quot;Giorgy&quot;&gt;Giorgy&lt;/a&gt; the output is what I&apos;d expect. I&apos;ll set this to resolved. It is still possible that the change be reverted later, as a result of large scale regression testing.&lt;/p&gt;</comment>
                            <comment id="16806815" author="giorgy" created="Mon, 1 Apr 2019 14:19:22 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;. No problem, when pdfbox-2.0.15 arrives, we re-check this issue.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="13200303">PDFBOX-4385</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13223428">TIKA-2842</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12963929" name="output.log" size="20581" author="Giorgy" created="Wed, 27 Mar 2019 18:37:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 32 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z013yw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>