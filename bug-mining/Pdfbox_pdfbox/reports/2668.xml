<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:12:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5283] No Content - xRef / Obj Parsing</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5283</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;There seems to be an issue with xRef / object reading when parsing the attached pdf.&lt;/p&gt;

&lt;p&gt;The PDF itself has for example two objects with the ref &quot;8 0 R&quot;:&lt;/p&gt;

&lt;p&gt;One at position 1967 with a &quot;/Content&quot; entry.&lt;/p&gt;

&lt;p&gt;One at position 7782 without a &quot;/Content&quot; entry.&lt;/p&gt;

&lt;p&gt;Both are referenced in the XRef Table, so there seems to be something off. Probably Acrobat, etc. are using the first object, while PDFBox is using the second one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13402698">PDFBOX-5283</key>
            <summary>No Content - xRef / Obj Parsing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="Schmidor">Oliver Schmidtmer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 Sep 2021 13:22:57 +0000</created>
                <updated>Thu, 21 Apr 2022 15:38:41 +0000</updated>
                            <resolved>Sat, 2 Apr 2022 12:51:50 +0000</resolved>
                                    <version>2.0.24</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.26</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17418727" author="mkl" created="Wed, 22 Sep 2021 17:22:48 +0000"  >&lt;p&gt;The PDF is broken.&lt;/p&gt;

&lt;p&gt;The second object designated as object 8 by a &lt;tt&gt;8 0 obj&lt;/tt&gt; according to the cross references is object 9!&lt;/p&gt;

&lt;p&gt;Thus, here the cross references and the objects themselves are at odds. In such a situation different PDF processors may use different strategies in trying to read the PDF nonetheless. None of these strategies is right or wrong, for each strategy there are documents it repairs well and others it fails to repair. Even the strategy to reject the document has its merits: You cannot get fooled by dubious tricks.&lt;/p&gt;</comment>
                            <comment id="17419024" author="schmidor" created="Thu, 23 Sep 2021 08:18:26 +0000"  >&lt;p&gt;True, the PDF is in some ways broken. But currently the second reference is read, which should be object 9 in the table.&lt;/p&gt;</comment>
                            <comment id="17419077" author="mkl" created="Thu, 23 Sep 2021 09:25:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;True, the PDF is in some ways broken. But currently the second reference is read, which should be object 9 in the table.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Yes. And what now?&lt;/p&gt;

&lt;p&gt;The information in your PDF is contradictory. So different PDF processors are likely to parse the PDF differently. GIGO.&lt;/p&gt;

&lt;p&gt;Nonetheless, you might be in luck, PDFBox maintainers have a tendency to try and handle broken PDFs in a similar way as Adobe software does.&lt;/p&gt;

&lt;p&gt;IMO such PDFs should be rejected, repairs under the hood simply are attack vectors for forgery.&lt;/p&gt;</comment>
                            <comment id="17419104" author="msahyoun" created="Thu, 23 Sep 2021 10:11:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PDFBox maintainers have a tendency to try and handle broken PDFs in a similar way as Adobe software does.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Isn&apos;t that what one would expect? Rejecting a PDF which can be handled by Adobe leads to a lot of discussions and as these PDFs exist in the wild (and their creation might not be within the control  of PDFBox users) would also not be supportive. In the long run I&apos;d love to see a standards compliance mode and a relaxed mode but given the small team we are I don&apos;t think that this will happen (soon).&lt;/p&gt;</comment>
                            <comment id="17419140" author="schmidor" created="Thu, 23 Sep 2021 11:14:31 +0000"  >&lt;p&gt;Indeed, there are many bogus writers out there and Acrobat is usually the reference.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I wasn&apos;t even sure how to exactly interpret the xRef table here. But if the entry for obj 8 is the correct one and the wrong &quot;obj 8&quot; is the entry for obj no 9, I will try to debug myself why the wrong one is used.&lt;/p&gt;</comment>
                            <comment id="17419232" author="mkl" created="Thu, 23 Sep 2021 13:58:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt;&amp;gt; Isn&apos;t that what one would expect?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Na&#239;ve users (who don&apos;t care and simply don&apos;t want issues) and lazy programmers (who don&apos;t want to have to explain to support / clients / customers / users) may expect this.&lt;/p&gt;

&lt;p&gt;But it is bad. PDFBox is a library in particular for automatically creating and processing PDFs which is something entirely different than an interactive PDF viewer or editor.&lt;/p&gt;

&lt;p&gt;If an interactive PDF viewer or editor (like Adobe Acrobat) comes across an error in a file it loads and somehow fixes (or mis-fixes) it under the hood, then there still is the user to check whether the displayed result makes sense. So here one could argue that under-the-hood fixes are a feature.&lt;/p&gt;

&lt;p&gt;If an automatic process (e.g. based on PDFBox) comes across an error in a file it loads and somehow fixes (or mis-fixes) it under the hood, then there is no such check. A mis-fixed input PDF may result in thousands of PDFs with utterly broken content to be sent to potential customers who then are less inclined to become customers. Or even worse, those PDFs may go into some archive one is legally required to put certain documents into, and during the next audit one has to provide the documents and finds only garbage...&lt;/p&gt;

&lt;p&gt;For that reason alone &lt;b&gt;PDF libraries for automatic PDF processing must not be as lax as interactive PDF processors&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;But there also is a security related aspect: PDF signing and encryption scheme nowadays are usually verified to be secure if used in accordance with the PDF specification. But if PDF processors apply some repairs under the hood, then security of those schemes suddenly is not guaranteed anymore. E.g. applying signatures may interfere with such repairs in such a way that the signer in spe initially saw something different than the signed file will show.&lt;/p&gt;

&lt;p&gt;But I digress...&lt;/p&gt;</comment>
                            <comment id="17419320" author="msahyoun" created="Thu, 23 Sep 2021 16:48:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt; point(s) taken. What about having a strict mode? Feel free to open a ticket and let&apos;s continue the discussion there. As an alternative we can also have that on the mailing list prior to that. &lt;/p&gt;</comment>
                            <comment id="17419332" author="tilman" created="Thu, 23 Sep 2021 17:10:03 +0000"  >&lt;p&gt;We do have a strict mode, but it is a bit difficult to use; it is used in ShowSignature.java in the hope that we avoid the tricks by the good people at &lt;a href=&quot;https://pdf-insecurity.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pdf-insecurity.org&lt;/a&gt; (and therefore hopefully bad people we don&apos;t know about).&lt;/p&gt;</comment>
                            <comment id="17419367" author="mkl" created="Thu, 23 Sep 2021 17:48:36 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt;, sorry if I formulated that too hard. I also do understand that creating a really strict PDF library in a world where PDF viewers try to display even severely broken PDFs without a warning won&apos;t get you many users. Nonetheless the points I made do stand.&lt;/p&gt;

&lt;p&gt;The problem with a strict mode is that it really needs to be a programming principle throughout the library, not merely in a few selected locations. I.e. one must never assume that existing entries of some structure loaded from some PDF are as they should be, one always has to test etc.&lt;/p&gt;

&lt;p&gt;And unfortunately the requirements are a bit of moving targets if one takes a look at the corrections to ISO 32000-2:2020 already decided upon...&lt;/p&gt;

&lt;p&gt;So I&apos;m afraid a truly good strict mode is not&#160;really feasible. (And before you ask, no, I&apos;m not aware of a really strict PDF library...)&lt;/p&gt;</comment>
                            <comment id="17419476" author="schmidor" created="Thu, 23 Sep 2021 21:47:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/apache/pdfbox/pull/129&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/pdfbox/pull/129&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The function for searching all objects within the data is creating a map, where the second object &quot;8 0 R&quot; is overwriting the first. This is then replacing the original xRef map.&lt;/p&gt;

&lt;p&gt;This change is affecting at least two unit tests, where it changes the observed page count.&lt;/p&gt;</comment>
                            <comment id="17419544" author="tilman" created="Fri, 24 Sep 2021 03:22:15 +0000"  >&lt;p&gt;That PR also brings rendering differences for&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2250&quot; title=&quot;Improve XRef self healing mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2250&quot;&gt;&lt;del&gt;PDFBOX-2250&lt;/del&gt;&lt;/a&gt;-107425-empty-xref.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3714&quot; title=&quot;PDF with blanks at the beginning can&amp;#39;t be parsed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3714&quot;&gt;&lt;del&gt;PDFBOX-3714&lt;/del&gt;&lt;/a&gt;-2.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3788&quot; title=&quot;java.lang.RuntimeException: java.io.IOException: Catalog cannot be found&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3788&quot;&gt;&lt;del&gt;PDFBOX-3788&lt;/del&gt;&lt;/a&gt;-YVFDWHF767TEYTT7IVFSLUIJTDF3YP57.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3934&quot; title=&quot;Page missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3934&quot;&gt;&lt;del&gt;PDFBOX-3934&lt;/del&gt;&lt;/a&gt;-KTUUMJNQ7NYGJJMEDGSY5OEU76G6JX2V.pdf&lt;br/&gt;
pop-bugzilla93476.pdf&lt;/p&gt;</comment>
                            <comment id="17419580" author="msahyoun" created="Fri, 24 Sep 2021 05:50:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt; maybe it wasn&apos;t the most friendly message you&apos;ve ever written but no worries didn&apos;t think it was too hard. And no, I needn&apos;t ask about the &apos;really strict PDF library&apos; as I&apos;m also aware that there none.&lt;/p&gt;

&lt;p&gt;I&apos;d still love to get feedback from you where we can improve the &apos;strict&apos; mode Tilman pointed out as I do think that there are more security sensitive applications PDFBox is used for such as signing and ones where we might be able to be less strict such as rendering or text extraction. So if you&apos;re willing please create a ticket and note the points. As written above this will not happen in a short term but as you rightly pointed out this would help us being more sensitive to such areas (I don&apos;t think that we are doing a bad job there but we can improve - and it&apos;s also important to find the right balance between being correct and being user friendly i.e. easy to use by shielding the PDFBox users from the PDF internals if possible)&lt;/p&gt;</comment>
                            <comment id="17419585" author="tilman" created="Fri, 24 Sep 2021 06:02:27 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt; your text was fine and a valid opinion and identical to my &quot;core&quot; belief. But 99.9% of users are of the &quot;But it renders in Adobe Reader!!1!&quot; kind so we&apos;re lenient. The real problem happened maybe 20 years ago when somebody at Adobe decided to be lenient on errors, instead of refusing bad PDFs and show a meaningful error message.&lt;/p&gt;</comment>
                            <comment id="17419586" author="lehmi" created="Fri, 24 Sep 2021 06:02:48 +0000"  >&lt;p&gt;Your patch might work in your case but as Tilman already mentioned it won&apos;t in other cases so that we have to decide which strategy to use in such cases.&lt;/p&gt;

&lt;p&gt;The brute force parse comes in place if the pdf is somehow corrupt. It simply collects all valid objects starting from the beginning. If there are multiple objects using the same key most likely the latest occurrence is the correct one as those are supposed to update earlier versions of an object. Saying that I&apos;m afraid the current implementation is the better choice.&lt;/p&gt;

&lt;p&gt;Theoretically there are maybe other ways to repair such malformed pdfs, but those would be more complex and I&apos;m not sure if it would be worth to implement such an algorithm to repair just one or maybe a couple of pdfs.&lt;/p&gt;
</comment>
                            <comment id="17419677" author="mkl" created="Fri, 24 Sep 2021 09:18:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;d still love to get feedback from you where we can improve the &apos;strict&apos; mode Tilman pointed out as I do think that there are more security sensitive applications PDFBox is used for such as signing and ones where we might be able to be less strict such as rendering or text extraction. So if you&apos;re willing please create a ticket and note the points.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I can start such a ticket. Currently I don&apos;t have the time, though, to check whether the requirements &lt;em&gt;coming to my mind&lt;/em&gt; actually already are implemented or not.&lt;/p&gt;

&lt;p&gt;To be sure, by &quot;strict mode&quot; we mean &quot;disabling the lenient parsing mode&quot; which in the commonly used PDF loading routines is used, don&apos;t we? Or is there more to the &quot;strict mode&quot;?&lt;/p&gt;</comment>
                            <comment id="17419725" author="schmidor" created="Fri, 24 Sep 2021 11:07:23 +0000"  >&lt;p&gt;I&apos;ve updated the PR with another approach. Does that give acceptable results?&lt;/p&gt;

&lt;p&gt;I don&apos;t think the xRef table should be rebuild here. All references point to existing objects. There&apos;s only a search and rebuild because instead of &quot;9 0 R&quot; another &quot;8 0 R&quot; is found.&lt;/p&gt;</comment>
                            <comment id="17419727" author="msahyoun" created="Fri, 24 Sep 2021 11:10:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt; &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&quot;... coming to my mind ... implemented or not&quot; -&amp;gt; no need to do that yet, although in the long run id would be helpful if you can review PDFBox from that perspective. Let&apos;s start by collecting requirements&lt;/li&gt;
	&lt;li&gt;&quot;... is there more to strict mode ...&quot; -&amp;gt; how the implementation is done shall be determined by the requirements. Could be at the parsing phase, could be later ...&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Added note. I&apos;m not saying that we will implement specific features or any at all into that direction. But we should at least start/continue that topic &lt;/p&gt;</comment>
                            <comment id="17419793" author="mkl" created="Fri, 24 Sep 2021 13:54:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Schmidor&quot; class=&quot;user-hover&quot; rel=&quot;Schmidor&quot;&gt;Schmidor&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;the PDF error this all is about is a mismatch of the object number written in front of the indirect object and the object number implied by the position of a reference to that indirect object from the cross reference table.&lt;/p&gt;

&lt;p&gt;In case of your file the cross reference table position implies the &lt;em&gt;correct&lt;/em&gt; object number while the explicitly given one is &lt;em&gt;wrong&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;In the past, though, other broken files with such mismatches here have given rise to issues for which the cross reference table position implied the &lt;em&gt;wrong&lt;/em&gt; object number while the explicitly given one was &lt;em&gt;correct&lt;/em&gt;. For example look at &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2679&quot; title=&quot;Blank page rendered with wrong xref start objid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2679&quot;&gt;&lt;del&gt;PDFBOX-2679&lt;/del&gt;&lt;/a&gt;. I&apos;ve also seen that other PDF libraries have made provisions for such errors in the cross references.&lt;/p&gt;

&lt;p&gt;Understandably you&apos;d like PDFBox to be changed to properly read your file. On the other hand doing so results in regressions for those other files.&lt;/p&gt;

&lt;p&gt;So unless you find an easy way to determine which kind of error we have in a given file to fix correctly, PDFBox can only fix one of these kinds of issues. In that case it might be of interest how the error came to be in your PDF. Do you have any information?&lt;/p&gt;

&lt;p&gt;In particular on one hand the creator tool is claimed to be Necrona Rave. Have you had often seen such mismatch errors in Rave PDFs?&lt;/p&gt;

&lt;p&gt;And on the other hand the PDF contains a comment that the PDF was &lt;em&gt;Modified by WPCubed PDFWorkBench&lt;/em&gt;. Might the error be due to that tool? And have you often been confronted with such mismatch errors in PDFs modified by PDFWorkBench?&lt;/p&gt;</comment>
                            <comment id="17419809" author="schmidor" created="Fri, 24 Sep 2021 14:25:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If my proposed changes change rendering of other files in an unfortunate way, I have to accept that. As the file can be viewed in Acrobat, there should be a way to achieve correct rendering. &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2679&quot; title=&quot;Blank page rendered with wrong xref start objid&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2679&quot;&gt;&lt;del&gt;PDFBOX-2679&lt;/del&gt;&lt;/a&gt; seems to have another issue with the xref table. The tests in the project run without error with my changes. However, I think Tilman has many more PDFs he checks for visual differences.&lt;/p&gt;

&lt;p&gt;We ourselves do not work with those tools. If we get invalid PDFs, even our customers are mostly on the receiving end. So I cannot say how exactly they are created.&lt;/p&gt;</comment>
                            <comment id="17423707" author="tilman" created="Sun, 3 Oct 2021 19:27:09 +0000"  >&lt;blockquote&gt;&lt;p&gt;I&apos;ve updated the PR with another approach. Does that give acceptable results?&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Sorry I missed this. I tried the new PR, now it doesn&apos;t render the file from&lt;br/&gt;
&lt;a href=&quot;https://github.com/mozilla/pdf.js/issues/10326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mozilla/pdf.js/issues/10326&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17424517" author="schmidor" created="Tue, 5 Oct 2021 15:01:50 +0000"  >&lt;p&gt;Ok, in the file from&lt;a href=&quot;https://github.com/mozilla/pdf.js/issues/10326&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;&#160;https://github.com/mozilla/pdf.js/issues/10326&lt;/a&gt; the entries for 4, 5 and 6 all point to wrong objects.&lt;/p&gt;

&lt;p&gt;&quot;found wrong object number. expected &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt; found &lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt;&lt;br/&gt;
found wrong object number. expected &lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt; found &lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;&lt;br/&gt;
found wrong object number. expected &lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt; found &lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&quot;&lt;/p&gt;

&lt;p&gt;So I changed the &lt;font color=&quot;#57606a&quot;&gt;findObjectKey&lt;/font&gt; to return a corrected Object key, but to only replace the original entry if it was not valid. That seems to work for both files.&lt;/p&gt;</comment>
                            <comment id="17424616" author="tilman" created="Tue, 5 Oct 2021 17:33:28 +0000"  >&lt;p&gt;Now it renders all files!&lt;/p&gt;</comment>
                            <comment id="17424634" author="mkl" created="Tue, 5 Oct 2021 18:05:44 +0000"  >&lt;p&gt;Just for cosmetics: At the old line 1325 and new line 1335 a bracket accidentally seems to have been indented more than is appropriate. At least in the github PR compare view it looks like that.&lt;/p&gt;</comment>
                            <comment id="17424782" author="tilman" created="Wed, 6 Oct 2021 03:26:46 +0000"  >&lt;p&gt;Why is &lt;tt&gt;validKeys&lt;/tt&gt; a map and not a set?&lt;/p&gt;</comment>
                            <comment id="17424895" author="mkl" created="Wed, 6 Oct 2021 10:04:49 +0000"  >&lt;p&gt;Right, there&apos;s always key equal to value...&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17425075" author="schmidor" created="Wed, 6 Oct 2021 16:29:58 +0000"  >&lt;p&gt;Indeed. Updated the MR an rerun the tests.&lt;/p&gt;</comment>
                            <comment id="17425121" author="tilman" created="Wed, 6 Oct 2021 17:39:40 +0000"  >&lt;p&gt;Still works fine.&lt;/p&gt;</comment>
                            <comment id="17494123" author="schmidor" created="Thu, 17 Feb 2022 17:59:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&lt;br/&gt;
I noticed the PR is still open. Is there something I should change, or are the changes ready for integration?&lt;/p&gt;</comment>
                            <comment id="17494166" author="tilman" created="Thu, 17 Feb 2022 19:14:08 +0000"  >&lt;p&gt;Thanks for the reminder, I&apos;ll try to test again this weekend. I don&apos;t know why I stopped.&lt;/p&gt;</comment>
                            <comment id="17494481" author="tilman" created="Fri, 18 Feb 2022 09:21:13 +0000"  >&lt;p&gt;Trunk is fine, but the two files I just attached (  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13040227/13040227_PDFBOX-5228.pdf&quot; title=&quot;PDFBOX-5228.pdf attached to PDFBOX-5283&quot;&gt;PDFBOX-5228.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; and  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13040228/13040228_PDFJS-10326.pdf&quot; title=&quot;PDFJS-10326.pdf attached to PDFBOX-5283&quot;&gt;PDFJS-10326.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; ) fail when making the changes for 2.0 too. &lt;/p&gt;</comment>
                            <comment id="17494546" author="mkl" created="Fri, 18 Feb 2022 11:12:46 +0000"  >&lt;p&gt;In case of &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13040228/13040228_PDFJS-10326.pdf&quot; title=&quot;PDFJS-10326.pdf attached to PDFBOX-5283&quot;&gt;PDFJS-10326.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; the situation is the other way around compared with the OP&apos;s file: Here the cross references are wrong while the object numbers are right...&lt;/p&gt;

&lt;p&gt;(As mentioned before, an attempt to fix not-matching objects and cross references will almost certainly in some cases mis-fix...)&lt;/p&gt;</comment>
                            <comment id="17504580" author="schmidor" created="Thu, 10 Mar 2022 21:02:36 +0000"  >&lt;p&gt;I&apos;ve updated the MR. I think it was an issue with removing / replacing pointers before they would be needed correcting other pointers down in the line.&lt;/p&gt;</comment>
                            <comment id="17505283" author="tilman" created="Sat, 12 Mar 2022 14:09:04 +0000"  >&lt;p&gt;Yes that works now.&lt;/p&gt;</comment>
                            <comment id="17505846" author="jira-bot" created="Sun, 13 Mar 2022 15:52:15 +0000"  >&lt;p&gt;Commit 1898901 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1898901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1898901&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5283&quot; title=&quot;No Content - xRef / Obj Parsing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5283&quot;&gt;&lt;del&gt;PDFBOX-5283&lt;/del&gt;&lt;/a&gt;: ignore duplicate object keys when correcting xRefs, as suggested by Oliver Schmidtmer&lt;/p&gt;</comment>
                            <comment id="17505847" author="jira-bot" created="Sun, 13 Mar 2022 15:52:19 +0000"  >&lt;p&gt;Commit 1898902 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1898902&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1898902&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5283&quot; title=&quot;No Content - xRef / Obj Parsing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5283&quot;&gt;&lt;del&gt;PDFBOX-5283&lt;/del&gt;&lt;/a&gt;: ignore duplicate object keys when correcting xRefs, as suggested by Oliver Schmidtmer&lt;/p&gt;</comment>
                            <comment id="17505849" author="tilman" created="Sun, 13 Mar 2022 16:05:17 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Schmidor&quot; class=&quot;user-hover&quot; rel=&quot;Schmidor&quot;&gt;Schmidor&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="17511569" author="tilman" created="Thu, 24 Mar 2022 03:27:56 +0000"  >&lt;p&gt;reopened because of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5399&quot; title=&quot;Object must be defined and must not be compressed object&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5399&quot;&gt;&lt;del&gt;PDFBOX-5399&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5400&quot; title=&quot;Page tree root must be a dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5400&quot;&gt;&lt;del&gt;PDFBOX-5400&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17516288" author="lehmi" created="Sat, 2 Apr 2022 12:51:50 +0000"  >&lt;p&gt;Set to resolved again, as the regressions from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5399&quot; title=&quot;Object must be defined and must not be compressed object&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5399&quot;&gt;&lt;del&gt;PDFBOX-5399&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5400&quot; title=&quot;Page tree root must be a dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5400&quot;&gt;&lt;del&gt;PDFBOX-5400&lt;/del&gt;&lt;/a&gt; are solved&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13034032" name="Lieferschein_110300.pdf" size="276805" author="Schmidor" created="Wed, 22 Sep 2021 13:23:11 +0000"/>
                            <attachment id="13040227" name="PDFBOX-5228.pdf" size="140408" author="tilman" created="Fri, 18 Feb 2022 09:19:36 +0000"/>
                            <attachment id="13040228" name="PDFJS-10326.pdf" size="19988" author="tilman" created="Fri, 18 Feb 2022 09:20:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 32 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0v6mw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>