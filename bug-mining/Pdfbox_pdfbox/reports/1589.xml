<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:04:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3562] PDFBox hangs indefinately when rendering certain files</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3562</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;There seems to be an issue with PDFBox when rendering certain PDF files, when calling renderImageWithDPI; the call seems to hang indefinitely.&lt;br/&gt;
My jar file is ruunning with the parameter: -Dsun.java2d.cmm=sun.java2d.cmm.kcms.KcmsServiceProvider&lt;/p&gt;


&lt;p&gt;I noticed this issue on this &lt;a href=&quot;file:[&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:[&lt;/a&gt; &lt;a href=&quot;https://1drv.ms/b/s!Av-Yk52R4YupvcUEZFueSnXFh6_pXw&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://1drv.ms/b/s!Av-Yk52R4YupvcUEZFueSnXFh6_pXw&lt;/a&gt;]&lt;/p&gt;

&lt;p&gt;Here is the call to renderImageWithDPI:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;PDDocument doc = PDDocument.load(file);&lt;br/&gt;
PDFRenderer renderer = new PDFRenderer(doc);&lt;br/&gt;
BufferedImage img = renderer.renderImageWithDPI(0, 300.0f, ImageType.RGB);&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;checking the stack trace using jstack gives me the following:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&quot;pool-3-thread-1&quot; #14 prio=5 os_prio=0 tid=0x00007f0bd41d2000 nid=0x76d4 runnable &lt;span class=&quot;error&quot;&gt;&amp;#91;0x00007f0bb44db000&amp;#93;&lt;/span&gt;&lt;br/&gt;
   java.lang.Thread.State: RUNNABLE&lt;br/&gt;
        at org.apache.log4j.Category.getEffectiveLevel(Category.java:442)&lt;br/&gt;
        at org.apache.log4j.Category.log(Category.java:855)&lt;br/&gt;
        at org.slf4j.impl.Log4jLoggerAdapter.log(Log4jLoggerAdapter.java:595)&lt;br/&gt;
        at org.apache.commons.logging.impl.SLF4JLocationAwareLog.warn(SLF4JLocationAwareLog.java:179)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.graphics.shading.Type4ShadingContext.collectTriangles(Type4ShadingContext.java:152)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.graphics.shading.Type4ShadingContext.&amp;lt;init&amp;gt;(Type4ShadingContext.java:64)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.graphics.shading.Type4ShadingPaint.createContext(Type4ShadingPaint.java:66)&lt;br/&gt;
        at sun.java2d.pipe.AlphaPaintPipe.startSequence(AlphaPaintPipe.java:84)&lt;br/&gt;
        at sun.java2d.pipe.AAShapePipe.renderTiles(AAShapePipe.java:168)&lt;br/&gt;
        at sun.java2d.pipe.AAShapePipe.renderPath(AAShapePipe.java:159)&lt;br/&gt;
        at sun.java2d.pipe.AAShapePipe.fill(AAShapePipe.java:68)&lt;br/&gt;
        at sun.java2d.pipe.PixelToParallelogramConverter.fill(PixelToParallelogramConverter.java:164)&lt;br/&gt;
        at sun.java2d.pipe.ValidatePipe.fill(ValidatePipe.java:160)&lt;br/&gt;
        at sun.java2d.SunGraphics2D.fill(SunGraphics2D.java:2527)&lt;br/&gt;
        at org.apache.pdfbox.rendering.PageDrawer.shadingFill(PageDrawer.java:933)&lt;br/&gt;
        at org.apache.pdfbox.contentstream.operator.graphics.ShadingFill.process(ShadingFill.java:41)&lt;br/&gt;
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:815)&lt;br/&gt;
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:472)&lt;br/&gt;
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:446)&lt;br/&gt;
        at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:149)&lt;br/&gt;
        at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:189)&lt;br/&gt;
        at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:145)&lt;br/&gt;
        at org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:94)&lt;br/&gt;
        at com.documentconverter.PDFManager_Box.GetThumbPDF(PDFManager_Box.java:58)&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I left my application running over the weekend to see if the call will eventually return, three days later and still the application is at the same spot.&lt;/p&gt;
</description>
                <environment>Ubuntu 14.04, Oracle Java SE 1.8</environment>
        <key id="13019786">PDFBOX-3562</key>
            <summary>PDFBox hangs indefinately when rendering certain files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="redserpent7">Zaid Amir</reporter>
                        <labels>
                            <label>shading</label>
                    </labels>
                <created>Thu, 10 Nov 2016 09:42:30 +0000</created>
                <updated>Sat, 25 Mar 2017 18:12:16 +0000</updated>
                            <resolved>Thu, 10 Nov 2016 16:51:21 +0000</resolved>
                                    <version>2.0.3</version>
                                    <fixVersion>2.0.4</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15654513" author="jira-bot" created="Thu, 10 Nov 2016 16:47:08 +0000"  >&lt;p&gt;Commit 1769153 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1769153&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1769153&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3562&quot; title=&quot;PDFBox hangs indefinately when rendering certain files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3562&quot;&gt;&lt;del&gt;PDFBOX-3562&lt;/del&gt;&lt;/a&gt;: skip padding&lt;/p&gt;</comment>
                            <comment id="15654514" author="jira-bot" created="Thu, 10 Nov 2016 16:47:13 +0000"  >&lt;p&gt;Commit 1769154 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1769154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1769154&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3562&quot; title=&quot;PDFBox hangs indefinately when rendering certain files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3562&quot;&gt;&lt;del&gt;PDFBOX-3562&lt;/del&gt;&lt;/a&gt;: skip padding&lt;/p&gt;</comment>
                            <comment id="15654515" author="jira-bot" created="Thu, 10 Nov 2016 16:47:19 +0000"  >&lt;p&gt;Commit 1769155 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1769155&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1769155&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3562&quot; title=&quot;PDFBox hangs indefinately when rendering certain files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3562&quot;&gt;&lt;del&gt;PDFBOX-3562&lt;/del&gt;&lt;/a&gt;: skip padding&lt;/p&gt;</comment>
                            <comment id="15654525" author="tilman" created="Thu, 10 Nov 2016 16:51:22 +0000"  >&lt;p&gt;Thanks for submitting this file. The code didn&apos;t take care of padding for flag sizes &amp;lt; 8 bits and we&apos;ve never had this before. Your file displays within seconds now. A build will be available here within a few hours.&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.4-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.4-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15661469" author="redserpent7" created="Sun, 13 Nov 2016 13:11:54 +0000"  >&lt;p&gt;That was fast, many thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12838397" name="PDFBOX-3562-BitsPerFlag2.pdf" size="164329" author="tilman" created="Thu, 10 Nov 2016 16:49:49 +0000"/>
                            <attachment id="12838398" name="PDFBOX-3562-BitsPerFlag2.pdf-1.png" size="565051" author="tilman" created="Thu, 10 Nov 2016 16:49:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3661b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>