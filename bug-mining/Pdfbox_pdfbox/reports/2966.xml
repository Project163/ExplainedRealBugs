<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:14:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5868] PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&apos;s save as text does</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5868</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I downloaded the latest executable jar of pdfbox (3.0.3) for testing and used the export:text command line tool to obtain the results&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;the multilingual_test.pdf is the original pdf i made to test multilingual text extraction.&lt;/li&gt;
	&lt;li&gt;the pdfbox_out.txt is the text file produced by pdfbox&lt;/li&gt;
	&lt;li&gt;the adobe_out.txt is the text file created by adobe reader&apos;s save as text feature&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Observation:&lt;/p&gt;

&lt;p&gt;as you can see in the attachment the text file obtained by pdfbox shows weird unicodes for tamil and bengali (for hindi the charecters are extracted but not overlapped; japanese seems fine to me). in contrast the text file file obtained from adobe reader&apos;s save as text feature seems fine and copy pasting the text from my document viewer(evince) also works.&lt;/p&gt;

&lt;p&gt;Questions:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;why are the outputs from pdfbox and adobe different?&lt;/li&gt;
	&lt;li&gt;what can i do to extract the text from a multilingual pdf correctly?&lt;/li&gt;
	&lt;li&gt;Is there a way to apply pattern matching to text in pdf file and declare matches without extracting the text first? (say if the problem is with fonts and glyphs)&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;&#8212;&lt;/p&gt;

&lt;p&gt;My Usecase fyi:&lt;/p&gt;

&lt;p&gt;i am trying to extract text from files and run pattern matching. I am using apache tika for parsing documents. I noticed problem with extracted PDF text (other filetypes parse fine). used executable pdfbox jar to conclude that the &lt;em&gt;problem is in pdfbox and not in tika.&lt;/em&gt; tested with adobe reader&apos;s extract text to confirm the problem is not with the pdf. i&#160; want to extract these multilingual text to run pattern matching on them alone and do not need to display the content but only if the pattern is present or not (say if the problem is with fonts and glyphs)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Ubuntu 22.04.4 LTS x86_64</environment>
        <key id="13588816">PDFBOX-5868</key>
            <summary>PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&apos;s save as text does</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="manish003">Manish S N</reporter>
                        <labels>
                            <label>ActualText</label>
                    </labels>
                <created>Wed, 14 Aug 2024 07:33:13 +0000</created>
                <updated>Thu, 16 Jan 2025 16:44:25 +0000</updated>
                            <resolved>Wed, 11 Dec 2024 14:01:36 +0000</resolved>
                                    <version>2.0.32</version>
                    <version>3.0.3 PDFBox</version>
                                    <fixVersion>2.0.33</fixVersion>
                    <fixVersion>3.0.4 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="17873432" author="tilman" created="Wed, 14 Aug 2024 07:40:59 +0000"  >&lt;p&gt;1) This is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3248&quot; title=&quot;Unwanted spaces in text extraction (2)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3248&quot;&gt;&lt;del&gt;PDFBOX-3248&lt;/del&gt;&lt;/a&gt; (don&apos;t be confused by &quot;spaces&quot; in ticket title), your content stream contains /ActualText which we don&apos;t support, sadly. This is a feature that replaces &quot;wrong&quot; text extraction with the correct one.&lt;br/&gt;
2) Nothing except contribute code&lt;br/&gt;
3) don&apos;t know.&lt;/p&gt;</comment>
                            <comment id="17873477" author="JIRAUSER306563" created="Wed, 14 Aug 2024 09:49:27 +0000"  >&lt;p&gt;how can i verify this?&lt;/p&gt;

&lt;p&gt;(That my stream has /ActualText)&lt;/p&gt;

&lt;p&gt;i can&apos;t find anything with &quot;/ActualText&quot; in online PDF debugger tool or iTextRUPS or when i search manually for the string after opening the PDF as raw text in text editor&lt;/p&gt;</comment>
                            <comment id="17873485" author="tilman" created="Wed, 14 Aug 2024 10:28:48 +0000"  >&lt;p&gt;It&apos;s in the content stream:&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070878/13070878_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;

&lt;p&gt;Here&apos;s some code to detect it:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; urlText = &lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//issues.apache.org/jira/secure/attachment/13070873/multilingual_test.pdf&quot;&lt;/span&gt;;
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (PDDocument doc = PDDocument.load(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URL(urlText).openStream()))
{
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; p = 0; p &amp;lt; doc.getNumberOfPages(); ++p)
    {
        PDPage page = doc.getPage(p);
        PDFStreamParser pdfStreamParser = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDFStreamParser(page);
        &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; token = pdfStreamParser.parseNextToken();
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (token != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (token &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; COSDictionary &amp;amp;&amp;amp; ((COSDictionary) token).containsKey(COSName.ACTUAL_TEXT))
            {
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;/ActualText in page &quot;&lt;/span&gt; + (p + 1));
                &lt;span class=&quot;code-keyword&quot;&gt;break&lt;/span&gt;;
            }
            token = pdfStreamParser.parseNextToken();
        }
        pdfStreamParser.close();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, having it doesn&apos;t mean that all will be bad. For example the extraction of the first page looks ok. Also, there are many other different reasons that you could have a bad text extraction, e.g. obfuscation.&lt;/p&gt;</comment>
                            <comment id="17873512" author="JIRAUSER306563" created="Wed, 14 Aug 2024 12:00:22 +0000"  >&lt;p&gt;Thank you&#127799;&lt;/p&gt;

&lt;p&gt;I hope pdfbox to support this in a future release soon&lt;/p&gt;</comment>
                            <comment id="17874126" author="JIRAUSER306563" created="Fri, 16 Aug 2024 06:52:50 +0000"  >&lt;p&gt;I notice that okular&apos;s export as text feature works flawlessly too! so this text extraction from complex languages isn&apos;t something only adobe can do.&lt;/p&gt;

&lt;p&gt;I have attached the output of okular as okular_out.txt&lt;/p&gt;</comment>
                            <comment id="17874136" author="JIRAUSER306563" created="Fri, 16 Aug 2024 07:11:48 +0000"  >&lt;p&gt;did some additional digging and found that poppler library is used by okular to work with pdfs. i tried the commandline tool &lt;em&gt;pdftotext&lt;/em&gt;&#160;from&#160;&lt;em&gt;poppler-utils&lt;/em&gt;&#160; and found it giving fine results too&#160;&lt;/p&gt;

&lt;p&gt;attached&#160; a poppler_out.txt&lt;/p&gt;

&lt;p&gt;if poppler can do it, it is easy for pdfbox to do it too right?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;poppler is a cpp library and the java binding &lt;em&gt;java-poppler&lt;/em&gt; is removed from github long ago.&lt;/p&gt;</comment>
                            <comment id="17874166" author="lehmi" created="Fri, 16 Aug 2024 09:10:27 +0000"  >&lt;blockquote&gt;&lt;p&gt;if poppler can do it, it is easy for pdfbox to do it too right?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Patches are welcome&lt;/p&gt;</comment>
                            <comment id="17874188" author="JIRAUSER306563" created="Fri, 16 Aug 2024 10:58:33 +0000"  >&lt;p&gt;ok. if i am willing to invest some time and effort to fix it, any advise/resources/directions you give will greatly help me or the other such folks who read this issue. &#128578;&lt;/p&gt;

&lt;p&gt;so where can I start?&lt;/p&gt;</comment>
                            <comment id="17874189" author="tilman" created="Fri, 16 Aug 2024 10:58:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=manish003&quot; class=&quot;user-hover&quot; rel=&quot;manish003&quot;&gt;manish003&lt;/a&gt; So you&apos;re appealing to our pride and think that such a transparent manipulation attempt would work &#128514;&lt;/p&gt;

&lt;p&gt;I had a look at the &lt;tt&gt;PDFMarkedContentExtractor&lt;/tt&gt; class and at &lt;a href=&quot;https://stackoverflow.com/questions/78705656/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/78705656/&lt;/a&gt; and &lt;a href=&quot;https://stackoverflow.com/questions/44029191/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/44029191/&lt;/a&gt; . Using parts of PDFMarkedContentExtractor in the stripper helps;&lt;/p&gt;

&lt;p&gt;1) add&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
addOperator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BeginMarkedContentSequenceWithProperties(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;));
addOperator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BeginMarkedContentSequence(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;));
addOperator(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; EndMarkedContentSequence(&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to the constructor of the stripper&lt;/p&gt;

&lt;p&gt;2) add&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; inActualText = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; firstActualText = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; actualText = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
    
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void endMarkedContentSequence()
    {
        inActualText = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.endMarkedContentSequence();
    }

    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void beginMarkedContentSequence(COSName tag, COSDictionary properties)
    {
        PDMarkedContent mc = PDMarkedContent.create(tag, properties);
        actualText = mc.getActualText();
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (actualText != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            actualText = actualText.replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;\u00ad&quot;&lt;/span&gt;, &quot;&quot;); &lt;span class=&quot;code-comment&quot;&gt;// remove soft hyphens
&lt;/span&gt;            inActualText = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
            firstActualText = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
            &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;actualText: &quot;&lt;/span&gt; + actualText);
&lt;/span&gt;        }
        &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.beginMarkedContentSequence(tag, properties);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;wherever you want&lt;/p&gt;

&lt;p&gt;3) add&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inActualText)
{
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (firstActualText)
    {
        text.setUnicode(actualText);
        firstActualText = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    }
    &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
    {
        text.setUnicode(&quot;&quot;);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;At the beginning of &lt;tt&gt;processTextPosition(TextPosition text)&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;4) Add&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    void setUnicode(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; unicode)
    {
        &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.unicode = unicode;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in the &lt;tt&gt;Textposition&lt;/tt&gt; class.&lt;/p&gt;

&lt;p&gt;There are lots of differences in build texts, most are better, some look weird (lots of spaces). Your file is extracted differently now(non latin parts):&lt;/p&gt;


&lt;p&gt;&#160;&#2361;&#2367;&#2306;&#2342;&#2368; &#160;&#160;(hindi):&lt;br/&gt;
&#160;&#160;&#2340;&#2370;&#2305;&#160;&#2340;&#2370;&#2305;&#160;&#2325;&#2352;&#2340;&#2366; &#160;&#2340;&#2370;&#2305;&#160;&#2349;&#2351;&#2366; ,&#160;&#2350;&#2369;&#2333;&#160;&#2350;&#2376;&#2306;&#160;&#2352;&#2361;&#2368; &#160;&#2344;&#160;&#2361;&#2370;&#2305;&#2404;&lt;br/&gt;
&#160;&#160;&#2357;&#2366; &#2352;&#2368; &#160;&#2347;&#2375;&#2352;&#2368; &#160;&#2348;&#2354;&#2367; &#160;&#2327;&#2312;,&#160;&#2332;&#2367; &#2340;&#160;&#2342;&#2375;&#2326;&#2380;&#2306; &#160;&#2340;&#2367; &#2340;&#160;&#2340;&#2370;&#2305;&#160;&#2405;&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&#2332;&#2368; &#2357;&#2366; &#2340;&#2381;&#2350;&#2366; &#160;&#2325;&#2361;&#160;&#2352;&#2361;&#2368; &#160;&#2361;&#2376;&#160;&#2325;&#2367; &#160;&#8216;&#2340;&#2370;&#160;&#2361;&#2376;&#8217;&#160;&#8216;&#2340;&#2370;&#160;&#2361;&#2376;&#8217;&#160;&#2325;&#2361;&#2340;&#2375;&#8722;&#2325;&#2361;&#2340;&#2375;&#160;&#2350;&#2375;&#2352;&#2366; &#160;&#2309;&#2361;&#2306;&#2325;&#2366; &#2352;&#160;&#2360;&#2350;&#2366; &#2346;&#2381;&#2340;&#160;&#2361;&#2379; &#160;&#2327;&#2351;&#2366; &#2404;&#160;&#2311;&#2360;&#160;&#2340;&#2352;&#2361;&#160;&#2349;&#2327;&#2357;&#2366; &#2344;&#160;&#2346;&#2352;&#160;&#2344;&#2381;&#2351;&#2380; &#2331;&#2366; &#2357;&#2352;&lt;br/&gt;
&#160;&#2361;&#2379; &#2340;&#2375;&#8722;&#2361;&#2379; &#2340;&#2375;&#160;&#2350;&#2376;&#2306;&#160;&#2346;&#2370;&#2352;&#2381;&#2339;&#2340;&#2351;&#2366; &#160;&#2360;&#2350;&#2352;&#2381;&#2346;&#2367; &#2340;&#160;&#2361;&#2379; &#160;&#2327;&#2312;&#2404;&#160;&#2309;&#2348;&#160;&#2340;&#2379; &#160;&#2332;&#2367; &#2343;&#2352;&#160;&#2342;&#2375;&#2326;&#2340;&#2368; &#160;&#2361;&#2370;&#2305;&#160;&#2313;&#2343;&#2352;&#160;&#2340;&#2370;&#160;&#2361;&#2368; &#160;&#2342;&#2367; &#2326;&#2366; &#2312;&#160;&#2342;&#2375;&#2340;&#2366; &#160;&#2361;&#2376;&#2404;&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&#160;&#2980;&#2990;&#3007;&#2996;&#3021;&#160;(tamil):&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&#160;&#2950;&#2965;&#3021;&#2965;&#2990;&#3021;&#160;&#2949;&#2980;&#2992;&#3021;&#2997;&#3007;&#2985;&#3006; &#2991;&#3021;&#2970;&#3021;&#160;&#2970;&#3014; &#2994;&#3021;&#2994;&#3009;&#2990;&#3021;&#160;&#2949;&#2970;&#3016; &#2997;&#3007;&#2994;&#3006;&lt;br/&gt;
&#160;&#2954;&#2965;&#3021;&#2965;&#160;&#2990;&#3009;&#2975;&#3016; &#2991;&#3006; &#160;&#2985;&#3009;&#2996;&#3016;&lt;br/&gt;
&#2984;&#3006; &#2990;&#3006; &#2992;&#3021;&#2965;&#3021;&#2965;&#3009;&#2969;&#3021;&#160;&#2965;&#3009;&#2975;&#3007;&#2991;&#2994;&#3021;&#2994;&#3019; &#2990;&#3021;&#160;&#2984;&#2990;&#2985;&#3016; &#160;&#2991;&#2974;&#3021;&#2970;&#3019; &#2990;&#3021;&lt;br/&gt;
&#2984;&#2992;&#2965;&#2980;&#3021;&#2980;&#3007;&#160;&#2994;&#3007;&#2975;&#2992;&#3021;&#2986;&#3021;&#2986;&#2975;&#3019; &#2990;&#3021;&#160;&#2984;&#2975;&#2994;&#3016; &#160;&#2991;&#3007;&#2994;&#3021;&#2994;&#3019; &#2990;&#3021;&lt;br/&gt;
&#2959;&#2990;&#3006; &#2986;&#3021;&#2986;&#3019; &#2990;&#3021;&#160;&#2986;&#3007;&#2979;&#3007;&#2991;&#2993;&#3007;&#2991;&#3019; &#2990;&#3021;&#160;&#2986;&#2979;&#3007;&#2997;&#3019; &#160;&#2990;&#2994;&#3021;&#2994;&#3019; &#2990;&#3021;&lt;br/&gt;
&#160;&lt;/p&gt;

&lt;p&gt;&#2951;&#2985;&#3021;&#2986;&#2990;&#3015;&#160;&#2958;&#2984;&#3021;&#2984;&#3006; &#2995;&#3009;&#2984;&#3021;&#160;&#2980;&#3009;&#2985;&#3021;&#2986;&#160;&#2990;&#3007;&#2994;&#3021;&#2994;&#3016;&lt;br/&gt;
&#2980;&#3006; &#2990;&#3006; &#2992;&#3021;&#2965;&#3021;&#2965;&#3009;&#2969;&#3021;&#160;&#2965;&#3009;&#2975;&#3007;&#2991;&#2994;&#3021;&#2994;&#3006; &#2980;&#3021;&#160;&#2980;&#2985;&#3021;&#2990;&#3016; &#160;&#2991;&#3006; &#2985;&lt;br/&gt;
&#2970;&#2969;&#3021;&#2965;&#2992;&#2985;&#2993;&#3021;&#160;&#2970;&#2969;&#3021;&#2965;&#2997;&#3014; &#2979;&#3021;&#160;&#2965;&#3009;&#2996;&#3016; &#2991;&#3019; &#2992;&#3021;&#160;&#2965;&#3006; &#2980;&#3007;&#2993;&#3021;&lt;br/&gt;
&#2965;&#3019; &#2990;&#3006; &#2993;&#3021;&#2965;&#3015; &#160;&#2984;&#3006; &#2990;&#3014; &#2985;&#3021;&#2993;&#3009;&#2990;&#3021;&#160;&#2990;&#3008;&#2995;&#3006; &#160;&#2950;&#2995;&#3006; &#2991;&#3021;&#2965;&#3021;&lt;br/&gt;
&#160;&#2965;&#3018; &#2991;&#3021;&#2990;&#3021;&#2990;&#2994;&#2992;&#3021;&#2970;&#3021;&#2970;&#3015; &#160;&#2997;&#2975;&#3007;&#2991;&#3007;&#2979;&#3016; &#2991;&#3015; &#160;&#2965;&#3009;&#2993;&#3009;&#2965;&#3007;&#160;&#2985;&#3019; &#2990;&#3015; .&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;Bengali:&lt;br/&gt;
&#2438;&#2464;&#2494; &#2480;&#2507; &#160;&#2476;&#2459;&#2480;&#160;&#2476;&#2479;&#2492;&#2488;&#160;&#2453;&#2496; &#160;&#2470;&#2497;&#2435; &#2488;&#2489;&lt;br/&gt;
&#2480;&#2509;&#2488;&#2509;&#2474;&#2471;&#2494; &#2479;&#2492;&#160;&#2472;&#2503; &#2479;&#2492;&#160;&#2478;&#2494; &#2469;&#2494; &#160;&#2468;&#2507; &#2482;&#2476;&#2494; &#2480;&#160;&#2461;&#2497;&#2433; &#2453;&#2495; ,&lt;br/&gt;
&#2438;&#2464;&#2494; &#2480;&#2507; &#160;&#2476;&#2459;&#2480;&#160;&#2476;&#2479;&#2492;&#2488;&#2503; &#2439;&#160;&#2437;&#2489;&#2480;&#2489;&lt;br/&gt;
&#2476;&#2495; &#2480;&#2494; &#2463;&#160;&#2470;&#2497;&#2435; &#2488;&#2494; &#2489;&#2488;&#2503; &#2480;&#2494; &#160;&#2470;&#2503; &#2479;&#2492;&#160;&#2479;&#2503; &#160;&#2441;&#2433;&#2453;&#2495; &#2404;&lt;br/&gt;
&#2438;&#2464;&#2494; &#2480;&#2507; &#160;&#2476;&#2459;&#2480;&#160;&#2476;&#2479;&#2492;&#2488;&#2503; &#2480;&#160;&#2472;&#2503; &#2439;&#160;&#2477;&#2479;&#2492;&lt;br/&gt;
&#2474;&#2470;&#2494; &#2456;&#2494; &#2468;&#2503; &#160;&#2458;&#2494; &#2479;&#2492;&#160;&#2477;&#2494; &#2457;&#2468;&#2503; &#160;&#2474;&#2494; &#2469;&#2480;&#160;&#2476;&#2494; &#2471;&#2494; ,&lt;br/&gt;
&#2447;&#160;&#2476;&#2479;&#2492;&#2488;&#2503; &#160;&#2453;&#2503; &#2441;&#160;&#2478;&#2494; &#2469;&#2494; &#160;&#2472;&#2507; &#2479;&#2492;&#2494; &#2476;&#2494; &#2480;&#160;&#2472;&#2479;&#2492;-&lt;br/&gt;
&#2438;&#2464;&#2494; &#2480;&#2507; &#160;&#2476;&#2459;&#2480;&#160;&#2476;&#2479;&#2492;&#2488;&#160;&#2460;&#2494; &#2472;&#2503; &#160;&#2472;&#2494; &#160;&#2453;&#2494;&#2433; &#2470;&#2494; &#2404;&lt;br/&gt;
&#2447;&#160;&#2476;&#2479;&#2492;&#2488;&#160;&#2460;&#2494; &#2472;&#2503; &#160;&#2480;&#2453;&#2509;&#2468;&#2470;&#2494; &#2472;&#2503; &#2480;&#160;&#2474;&#2497;&#2467;&#2509;&#2479;&lt;br/&gt;
&#160;&#2476;&#2494; &#2487;&#2509;&#2474;&#2503; &#2480;&#160;&#2476;&#2503; &#2455;&#2503; &#160;&#2488;&#2509;&#2463;&#2495; &#2478;&#2494; &#2480;&#2503; &#2480;&#160;&#2478;&#2468;&#2507; &#160;&#2458;&#2482;&#2503; ,&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;Japnese:&lt;br/&gt;
&#160;&#21476;&#27744;&#12420;&#160;&#34521;&#39131;&#12403;&#36796;&#12416;&#160;&#27700;&#12398;&#38899;&lt;br/&gt;
&#160;&lt;/p&gt;
</comment>
                            <comment id="17874201" author="tilman" created="Fri, 16 Aug 2024 11:26:21 +0000"  >&lt;p&gt;Ideally, the changes I just posted solve it... what you can do is to apply them to the source code, build it with -skipTests (because some of the tests will fail due to text extraction differences) and then run with your file(s) and tell whether the text extraction is what you&apos;d expect or not.&lt;/p&gt;</comment>
                            <comment id="17874222" author="tilman" created="Fri, 16 Aug 2024 12:30:56 +0000"  >&lt;p&gt;The code has one flaw, that it doesn&apos;t &quot;stack&quot; the beginMarkedContentSequence / endMarkedContentSequence calls, which would make them useless if they are nested, e.g. BMCS with ActualText, BMCS with something else, EMCS, TJ, EMCS would mean that the ActualText is ignored. I&apos;ll fix that at a later time (The &lt;tt&gt;PDFMarkedContentExtractor&lt;/tt&gt; class does it properly).&lt;/p&gt;</comment>
                            <comment id="17874261" author="JIRAUSER306563" created="Fri, 16 Aug 2024 13:50:58 +0000"  >&lt;p&gt;Thank you so much Mr. Tilman&lt;/p&gt;

&lt;p&gt;using &lt;em&gt;Main.java&lt;/em&gt; i was able to extract &lt;em&gt;tilman&apos;s_solution_out.txt&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;i was able to extract text by applying the suggested changes to the source code of pdfbox&lt;/p&gt;

&lt;p&gt;now all that is left is to test these with tika&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;transparent manipulation attempt&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;well that sounds like something too evil &#128517;. but look you now have solved a problem which many people might have &#129395;&lt;/p&gt;

&lt;p&gt;btw will these changes make it into a future release&lt;b&gt;?&lt;/b&gt; or anyone who is willing to parse complex languages need to go through these steps &lt;b&gt;??&lt;/b&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17874268" author="tilman" created="Fri, 16 Aug 2024 14:19:44 +0000"  >&lt;p&gt;First I&apos;ll need to make the changes I mentioned. The next releases of PDFBox will be in a few months because we just had a release. Then there will be a Tika release. So maybe end of the year or beginning of next year. Btw /ActualText isn&apos;t the biggest cause of extraction troubles. The biggest causes are broken PDFs or PDFs obfuscated to prevent text extraction. The change here will only slightly improve the quality of extractions that already work.&lt;/p&gt;</comment>
                            <comment id="17874369" author="tilman" created="Fri, 16 Aug 2024 19:02:44 +0000"  >&lt;p&gt;There is a problem that I didn&apos;t notice immediately, the spaces are incorrect. This is the new extraction:&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#2357;&#2366; &#2352;&#2368; &#160;&#2347;&#2375;&#2352;&#2368; &#160;&#2348;&#2354;&#2367; &#160;&#2327;&#2312;,&#160;&#2332;&#2367; &#2340;&#160;&#2342;&#2375;&#2326;&#2380;&#2306; &#160;&#2340;&#2367; &#2340;&#160;&#2340;&#2370;&#2305;&#160;&#2405;&lt;/p&gt;

&lt;p&gt;This what it should have been:&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#2357;&#2366;&#2352;&#2368; &#160;&#2347;&#2375;&#2352;&#2368; &#160;&#2348;&#2354;&#2367; &#160;&#2327;&#2312;,&#160;&#2332;&#2367;&#2340;&#160;&#2342;&#2375;&#2326;&#2380;&#2306; &#160;&#2340;&#2367;&#2340;&#160;&#2340;&#2370;&#2305;&#160;&#2405;&lt;/p&gt;

&lt;p&gt;The reason seems to be that the glyphs where I remove the unicode have no width (I have to investigate why), so the stripper thinks there is a space.&lt;/p&gt;

&lt;p&gt;Update: the TextPosition items with empty unicode are missing in the list for some reason.&lt;/p&gt;

&lt;p&gt;Update 2: it&apos;s the suppressDuplicateOverlappingText segment, it has to be disabled during an /ActualText occurence &lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070939/13070939_screenshot-2.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17874436" author="JIRAUSER306563" created="Sat, 17 Aug 2024 06:47:44 +0000"  >&lt;p&gt;in most of these languages languages most of the letters are a combination of two letters (vowel + consonant). so in these cases there is a single glyph for a sequence two unicode characters.&lt;/p&gt;

&lt;p&gt;eg:&lt;/p&gt;

&lt;p&gt;in hindi:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&#2357;&#2381; ( v ) + &#2310; ( aa ) = &#2357;&#2366; (vaa)&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&#2310;&lt;/b&gt;&#160;is converted to&#160;&lt;b&gt;&#2366;&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&#2357;&#2381;&#160;+&#160;&#2366;&#160;=&#160;&#2357;&#2366;&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;in tamil:&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&#2985;&#3021; ( n )&#160;+&lt;/b&gt; &lt;b&gt;&#2950;(aa) = &#2985;&#3006; (naa)&lt;/b&gt;&#160;&lt;/p&gt;

&lt;p&gt;sometimes the combination adds a symbol &lt;em&gt;before&lt;/em&gt; the letter&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&#2970;&#3021;(ch) +&lt;/b&gt; &#160;&lt;b&gt;&#2958;(ae)&lt;/b&gt; &lt;b&gt;= &#2970;&#3014; (che)&lt;/b&gt;&#160;&lt;/p&gt;

&lt;p&gt;some other times it is in both sides&lt;/p&gt;

&lt;p&gt;&lt;b&gt;&#2975;&#3021;(t) +&lt;/b&gt; &lt;b&gt;&#2963; ( oo )&lt;/b&gt; &#160;&lt;b&gt;= &#2975;&#3019; (too) (&lt;em&gt;oo&lt;/em&gt; reads as in &lt;em&gt;oo&lt;/em&gt; in the word &lt;em&gt;door&lt;/em&gt;)&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;so it makes sense to have another seperate glyph for combination of some of these unicode character sequences rather than rendering each of them side by side&lt;/p&gt;

&lt;p&gt;guess it helps.&lt;/p&gt;

&lt;p&gt;I&apos;m studying your changes to the source code (why why there is another boolean firstactualtext and why you are removing hyphens and where you are setting unicode to empty string)&lt;/p&gt;

&lt;p&gt;meanwhile I&apos;ll keep this issue posted about anything else i find and try&lt;/p&gt;</comment>
                            <comment id="17874443" author="JIRAUSER306563" created="Sat, 17 Aug 2024 07:59:55 +0000"  >&lt;blockquote&gt;&lt;p&gt;Update 2: it&apos;s the suppressDuplicateOverlappingText segment, it has to be disabled during an /ActualText occurence&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I set the suppressDuplicateOverlapping to false when inActualText is set to true and then set it back to true when inActualText is set to false and it worked!&lt;/p&gt;

&lt;p&gt;the output is in &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13070942/13070942_suppressDuplicateOverlapping_out.txt&quot; title=&quot;suppressDuplicateOverlapping_out.txt attached to PDFBOX-5868&quot;&gt;suppressDuplicateOverlapping_out.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; i attached&lt;/p&gt;

&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; &#160;&#128591;&lt;/p&gt;</comment>
                            <comment id="17874444" author="tilman" created="Sat, 17 Aug 2024 08:08:50 +0000"  >&lt;blockquote&gt;&lt;p&gt;why why there is another boolean firstactualtext (...)  and where you are setting unicode to empty string&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So that the replacement is done only the first time, and then next glyphs get their unicode replaced with the empty string, instead of the previous unicode that is no longer needed&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;and why you are removing hyphens&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;These were soft hyphens, they&apos;re just annoying and I can&apos;t see any purpose.&lt;/p&gt;


&lt;p&gt;I&apos;ll commit the changes soon, this includes some refactoring already done locally.&lt;/p&gt;</comment>
                            <comment id="17874451" author="jira-bot" created="Sat, 17 Aug 2024 08:30:35 +0000"  >&lt;p&gt;Commit 1919942 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1919942&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1919942&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: support /ActualText&lt;/p&gt;</comment>
                            <comment id="17874452" author="JIRAUSER306563" created="Sat, 17 Aug 2024 08:30:43 +0000"  >&lt;blockquote&gt;&lt;p&gt;So that the replacement is done only the first time, and then next glyphs get their unicode replaced with the empty string, instead of the previous unicode that is no longer needed&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Oh i get it. so the first glyph is replaced with entire sequence of unicodes of ActualText content and the rest are replaced with null&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I&apos;ll commit the changes soon, this includes some refactoring already done locally.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;that&apos;s great! &#128077;&lt;/p&gt;</comment>
                            <comment id="17874454" author="jira-bot" created="Sat, 17 Aug 2024 08:43:22 +0000"  >&lt;p&gt;Commit 1919943 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1919943&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1919943&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: support /ActualText&lt;/p&gt;</comment>
                            <comment id="17874461" author="jira-bot" created="Sat, 17 Aug 2024 09:05:31 +0000"  >&lt;p&gt;Commit 1919944 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1919944&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1919944&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: support /ActualText&lt;/p&gt;</comment>
                            <comment id="17874469" author="jira-bot" created="Sat, 17 Aug 2024 09:36:30 +0000"  >&lt;p&gt;Commit 1919945 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1919945&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1919945&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="17874470" author="jira-bot" created="Sat, 17 Aug 2024 09:36:35 +0000"  >&lt;p&gt;Commit 1919946 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1919946&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1919946&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="17874471" author="jira-bot" created="Sat, 17 Aug 2024 09:36:41 +0000"  >&lt;p&gt;Commit 1919947 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1919947&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1919947&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: add test files&lt;/p&gt;</comment>
                            <comment id="17874499" author="JIRAUSER306563" created="Sat, 17 Aug 2024 12:51:05 +0000"  >&lt;p&gt;I don&apos;t see you disabling suppressDuplicateOverlapping in beginMarkedContentSequence() and enabling it back in endMarkedContentSequence() in the commit&lt;/p&gt;

&lt;p&gt;it is your suggestion and it got rid of the extra spaces. you think it is a bad idea to add it to your commit &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; ?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Override
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void endMarkedContentSequence()
{
    suppressDuplicateOverlappingText = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
    inActualText = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.endMarkedContentSequence();
}

@Override
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void beginMarkedContentSequence(COSName tag, COSDictionary properties)
{
    PDMarkedContent mc = PDMarkedContent.create(tag, properties);
    actualText = mc.getActualText();
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (actualText != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
    {
        actualText = actualText.replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;\u00ad&quot;&lt;/span&gt;, &quot;&quot;); &lt;span class=&quot;code-comment&quot;&gt;// remove soft hyphens
&lt;/span&gt;        suppressDuplicateOverlappingText = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        inActualText = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        firstActualText = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
    }
    &lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.beginMarkedContentSequence(tag, properties);
} &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17874501" author="tilman" created="Sat, 17 Aug 2024 12:56:52 +0000"  >&lt;p&gt;It&apos;s already done elsewhere and makes sure that the logic isn&apos;t applied during an ActualText segment:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (suppressDuplicateOverlappingText &amp;amp;&amp;amp; actualText == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Your proposed change ends up setting &lt;tt&gt;suppressDuplicateOverlappingText&lt;/tt&gt; to true even if it was set to false (it&apos;s an obscure option of the stripper).&lt;/p&gt;</comment>
                            <comment id="17874502" author="JIRAUSER306563" created="Sat, 17 Aug 2024 13:04:05 +0000"  >&lt;p&gt;&#128077; oh right it is my negligence&#160;&lt;/p&gt;</comment>
                            <comment id="17874700" author="tilman" created="Sun, 18 Aug 2024 17:55:00 +0000"  >&lt;p&gt;I ran a comparison on several 100000 PDF files. While there were many improvements, I discovered that /ActualText is also used to PREVENT text extraction, as shown by these files:&lt;br/&gt;
&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13070961/13070961_PDFBOX-5868-7FHMU2HNOUUPENUPKZDGD2V65YEVABRS-EmptyActualText.pdf&quot; title=&quot;PDFBOX-5868-7FHMU2HNOUUPENUPKZDGD2V65YEVABRS-EmptyActualText.pdf attached to PDFBOX-5868&quot;&gt;PDFBOX-5868-7FHMU2HNOUUPENUPKZDGD2V65YEVABRS-EmptyActualText.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13070962/13070962_PDFBOX-5868-SI5K4X4Z55SQAUPLAUP6QRRWT3UD3LAA-EmptyActualText.pdf&quot; title=&quot;PDFBOX-5868-SI5K4X4Z55SQAUPLAUP6QRRWT3UD3LAA-EmptyActualText.pdf attached to PDFBOX-5868&quot;&gt;PDFBOX-5868-SI5K4X4Z55SQAUPLAUP6QRRWT3UD3LAA-EmptyActualText.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;br/&gt;
&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13070960/13070960_PDFBOX-5868-SI5K4X4Z55SQAUPLAUP6QRRWT3UD3LAA-EmptyActualText_reduced.pdf&quot; title=&quot;PDFBOX-5868-SI5K4X4Z55SQAUPLAUP6QRRWT3UD3LAA-EmptyActualText_reduced.pdf attached to PDFBOX-5868&quot;&gt;PDFBOX-5868-SI5K4X4Z55SQAUPLAUP6QRRWT3UD3LAA-EmptyActualText_reduced.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17874774" author="JIRAUSER306563" created="Mon, 19 Aug 2024 05:10:45 +0000"  >&lt;p&gt;for contrast poppler can&apos;t extract them either&lt;/p&gt;

&lt;p&gt;and the text is non selectable in my document viewers (Adobe, Evince, Okular, Chromium)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13070967/13070967_image-2024-08-19-10-38-13-472.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17874801" author="tilman" created="Mon, 19 Aug 2024 07:38:42 +0000"  >&lt;p&gt;Here&apos;s the excel file with the differences: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13070971/13070971_content_diffs_with_exceptions-ActualText.xlsx&quot; title=&quot;content_diffs_with_exceptions-ActualText.xlsx attached to PDFBOX-5868&quot;&gt;content_diffs_with_exceptions-ActualText.xlsx&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. This is from the Apache Tika project which also uses PDFBox.&lt;/p&gt;

&lt;p&gt;Look at the columns U and W (in yellow) and compare with V and X. Usually V and X look better. Empty content in the yellow columns means we &quot;lost&quot; something during the update. Look also at the header column names to understand what they mean. Surprisingly (for me, maybe less for you) the non latin texts are the ones that are more improved.&lt;/p&gt;</comment>
                            <comment id="17874933" author="tallison@mitre.org" created="Mon, 19 Aug 2024 16:22:58 +0000"  >&lt;p&gt;I don&apos;t mean to change the topic of this issue, but separately, is it worth temporarily putting some of the /ActualText logic into Tika for now?&lt;/p&gt;</comment>
                            <comment id="17874947" author="tilman" created="Mon, 19 Aug 2024 17:20:11 +0000"  >&lt;p&gt;Yes this could be possible. All the changes except one could be done by using an extension of the stripper. The suppressDuplicateOverlappingText problem would have to be solved by saving the value when ActualText is active and restoring it afterwards.&lt;/p&gt;</comment>
                            <comment id="17875100" author="tilman" created="Tue, 20 Aug 2024 09:48:51 +0000"  >&lt;p&gt;Oops, no, it&apos;s not that easy. I forgot that we need &lt;tt&gt;TextPosition.setUnicode()&lt;/tt&gt; which doesn&apos;t exist in the released versions. And in the snapshot I&apos;ve made it package local to avoid people messing around.&lt;/p&gt;</comment>
                            <comment id="17875214" author="tilman" created="Tue, 20 Aug 2024 14:51:01 +0000"  >&lt;p&gt;Another thought I just had was to extend TextPosition and add the setter there and pass this object to the method of the base class of processTextPosition(), however TextPosition is final.&lt;/p&gt;</comment>
                            <comment id="17876660" author="tilman" created="Mon, 26 Aug 2024 10:14:36 +0000"  >&lt;p&gt;I haven&apos;t resolved this ticket because of one question I&apos;ve been asking to myself and now to the users here: should I add a getter/setter that makes this ActualText thing optional? It should be active by default because I believe that it is useful in most cases.&lt;/p&gt;

&lt;p&gt;e.g. ConsiderActualText / ActivateActualText / IncludeActualText  / whatever&lt;/p&gt;</comment>
                            <comment id="17876668" author="mkl" created="Mon, 26 Aug 2024 10:43:13 +0000"  >&lt;p&gt;IMO the selectable item need not be whether or not to use &lt;b&gt;ActualText&lt;/b&gt; but instead whether to prioritize extraction by &lt;b&gt;ToUnicode&lt;/b&gt;/&lt;b&gt;Encoding&lt;/b&gt; or extraction by &lt;b&gt;ActualText&lt;/b&gt;.&lt;/p&gt;

&lt;p&gt;If neither mechanism or only one of them works, it is obvious what to do. Merely if both mechanisms would work, you need a decision.&lt;/p&gt;</comment>
                            <comment id="17876692" author="tilman" created="Mon, 26 Aug 2024 11:40:33 +0000"  >&lt;p&gt;In the files I saw /ActualText was often used only for a part of the text (although I see that one of the files I attached uses it for all). Using /ActualText only and disregard the old text extraction was never in my thoughts. That&apos;s why a switch would mean we either have the improvement of this ticket, or work as before.&lt;/p&gt;</comment>
                            <comment id="17878076" author="tilman" created="Fri, 30 Aug 2024 11:49:06 +0000"  >&lt;p&gt;Please create a new ticket for the file you just added because this is a different problem (only if you manage to extract this properly from Adobe Reader).&lt;/p&gt;</comment>
                            <comment id="17878077" author="JIRAUSER306563" created="Fri, 30 Aug 2024 11:51:19 +0000"  >&lt;p&gt;It is the modern word processors that put actual unicode of glyphs in actual text tags but in older PDFs with embedded CID fonts like &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13071198/13071198_page.pdf&quot; title=&quot;page.pdf attached to PDFBOX-5868&quot;&gt;page.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; there is no such tags and the ligatures are left out without unicode mappings (there is no single unicode for these). but when i extracted font files using pdfbox ( &lt;a href=&quot;https://gist.githubusercontent.com/incubated-geek-cc/640a74920b184274374af257cd1587bb/raw/c6fb02fa82f9883670d96b812bfe7f2f55b18125/Main.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;code&lt;/a&gt; ) and analysed it using font forge to find the font files do contain data about these ligatures..&lt;/p&gt;

&lt;p&gt;So if we can process that data and assign these glyphs the data (unicode combination for that ligature) from font, there is no need to worry about parsing actualText and I believe it would improve text extraction from non-latin languages to a great extent. thus solution to your problem of misusing actual text to prevent text extraction &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17878081" author="JIRAUSER306563" created="Fri, 30 Aug 2024 11:59:44 +0000"  >&lt;blockquote&gt;&lt;p&gt;this is a different problem&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Initially yes it was. then upon closer inspection I saw a solution referring to this existing problem &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;P.S: I know the cmap is incomplete and no library can extract it (including adobe). but should we follow the cmap (and other libraries XD), I can open extracted font in fontforge&amp;gt;view&amp;gt;combinations to find unicode combination for the glyphs that are ligatures so we do not need to rely on actualText data anymore to process these ligatures&lt;/p&gt;</comment>
                            <comment id="17878084" author="JIRAUSER306563" created="Fri, 30 Aug 2024 12:01:33 +0000"  >&lt;p&gt;so shall i open this as a feature/improvement type issue then?&lt;/p&gt;</comment>
                            <comment id="17878089" author="tilman" created="Fri, 30 Aug 2024 12:11:05 +0000"  >&lt;p&gt;Yes. But consider that Adobe didn&apos;t do it and they&apos;re smarter than us, I just tried copy / paste and save as text. The ligature thing in fonts are meant to be used when creating PDFs, I don&apos;t know if these would work in extraction.&lt;/p&gt;</comment>
                            <comment id="17878095" author="JIRAUSER306563" created="Fri, 30 Aug 2024 12:43:21 +0000"  >&lt;p&gt;the data is right there in the fonts, within reach&lt;/p&gt;

&lt;p&gt;...&lt;/p&gt;

&lt;p&gt;on second thought, yes there are problems.&lt;/p&gt;

&lt;p&gt;this approach assumes that every glyph that has a corresponding unicode character is &lt;em&gt;present&lt;/em&gt; is the cmap which isn&apos;t always true.&lt;/p&gt;

&lt;p&gt;when seeing ligature data for &#2984;&#3010;, we see&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13071199/13071199_image-2024-08-30-17-55-41-423.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;here we can see glyph92 instead of the unicode character for dependent vowel &#160;&#3010; which is not present in cmap because that actual glyph is never used in the pdf (all pure tamil ligatures of &#3010; are irrugular and have their own glyphs and not combined side by side unlike other dependent vowel glyphs so no use for the actual glyph. hence pdf optimizers will chuck it away along with its unicode mapping)&lt;/p&gt;

&lt;p&gt;the problem is replicated by all ligatures of &#3010; (dependent vowel uu)&lt;/p&gt;

&lt;p&gt;it is the case in languages like tamil but most other non-latin languages can be fine. like hindi; it is a more regular language than tamil (when comes to letters)&lt;/p&gt;

&lt;p&gt;In the end there are also other problems like mangled cmap as a method of obfuscation&lt;/p&gt;</comment>
                            <comment id="17909778" author="jira-bot" created="Sat, 4 Jan 2025 18:15:16 +0000"  >&lt;p&gt;Commit 1922889 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922889&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922889&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: make field private&lt;/p&gt;</comment>
                            <comment id="17909779" author="jira-bot" created="Sat, 4 Jan 2025 18:15:20 +0000"  >&lt;p&gt;Commit 1922890 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922890&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922890&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: make field private&lt;/p&gt;</comment>
                            <comment id="17909780" author="jira-bot" created="Sat, 4 Jan 2025 18:15:23 +0000"  >&lt;p&gt;Commit 1922891 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922891&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922891&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5868&quot; title=&quot;PDFBox not extracting text of non-latin languages(tamil, bengali) properly but adobe reader&amp;#39;s save as text does&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5868&quot;&gt;&lt;del&gt;PDFBOX-5868&lt;/del&gt;&lt;/a&gt;: make field private&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12944557">PDFBOX-3248</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13231252">PDFBOX-4532</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13573876">TIKA-4231</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13070968" name="EmptyActualText_poppler.txt" size="1815" author="manish003" created="Mon, 19 Aug 2024 05:10:08 +0000"/>
                            <attachment id="13070969" name="EmptyActualText_reduced_poppler.txt" size="1" author="manish003" created="Mon, 19 Aug 2024 05:10:15 +0000"/>
                            <attachment id="13070928" name="Main.java" size="716" author="manish003" created="Fri, 16 Aug 2024 13:21:51 +0000"/>
                            <attachment id="13070961" name="PDFBOX-5868-7FHMU2HNOUUPENUPKZDGD2V65YEVABRS-EmptyActualText.pdf" size="322468" author="tilman" created="Sun, 18 Aug 2024 17:54:17 +0000"/>
                            <attachment id="13070962" name="PDFBOX-5868-SI5K4X4Z55SQAUPLAUP6QRRWT3UD3LAA-EmptyActualText.pdf" size="125644" author="tilman" created="Sun, 18 Aug 2024 17:54:17 +0000"/>
                            <attachment id="13070960" name="PDFBOX-5868-SI5K4X4Z55SQAUPLAUP6QRRWT3UD3LAA-EmptyActualText_reduced.pdf" size="9145" author="tilman" created="Sun, 18 Aug 2024 17:54:17 +0000"/>
                            <attachment id="13070929" name="Tilman&apos;s_solution_out.txt" size="4398" author="manish003" created="Fri, 16 Aug 2024 13:21:59 +0000"/>
                            <attachment id="13070872" name="adobe_out.txt" size="3951" author="manish003" created="Wed, 14 Aug 2024 07:04:52 +0000"/>
                            <attachment id="13070971" name="content_diffs_with_exceptions-ActualText.xlsx" size="1697552" author="tilman" created="Mon, 19 Aug 2024 07:35:20 +0000"/>
                            <attachment id="13070967" name="image-2024-08-19-10-38-13-472.png" size="10252" author="manish003" created="Mon, 19 Aug 2024 05:08:14 +0000"/>
                            <attachment id="13071199" name="image-2024-08-30-17-55-41-423.png" size="6110" author="manish003" created="Fri, 30 Aug 2024 12:25:41 +0000"/>
                            <attachment id="13070873" name="multilingual_test.pdf" size="87286" author="manish003" created="Wed, 14 Aug 2024 07:04:24 +0000"/>
                            <attachment id="13070916" name="okular_out.txt" size="3800" author="manish003" created="Fri, 16 Aug 2024 06:51:04 +0000"/>
                            <attachment id="13071198" name="page.pdf" size="127476" author="manish003" created="Fri, 30 Aug 2024 11:38:58 +0000"/>
                            <attachment id="13070871" name="pdfbox_out.txt" size="3802" author="manish003" created="Wed, 14 Aug 2024 07:04:52 +0000"/>
                            <attachment id="13070917" name="poppler_out.txt" size="3772" author="manish003" created="Fri, 16 Aug 2024 07:07:51 +0000"/>
                            <attachment id="13070878" name="screenshot-1.png" size="74817" author="tilman" created="Wed, 14 Aug 2024 10:28:01 +0000"/>
                            <attachment id="13070939" name="screenshot-2.png" size="19100" author="tilman" created="Fri, 16 Aug 2024 19:00:05 +0000"/>
                            <attachment id="13070942" name="suppressDuplicateOverlapping_out.txt" size="4258" author="manish003" created="Sat, 17 Aug 2024 07:46:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>19.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1quvc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>