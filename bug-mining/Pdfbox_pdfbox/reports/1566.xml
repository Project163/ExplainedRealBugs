<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:04:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3520] Security manager fails</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3520</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Related to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3145&quot; title=&quot;Security manager fails for .pdfbox.cache&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3145&quot;&gt;&lt;del&gt;PDFBOX-3145&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
PDF from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5&quot; title=&quot;CJK decoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5&quot;&gt;&lt;del&gt;PDFBOX-5&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;java -Djava.security.manager  -Djava.security.policy=security.policy -jar ~/pdf-box-svn/app/target/pdfbox-app-2.1.0-SNAPSHOT.jar PDFToImage chinese.pdf&lt;/p&gt;</description>
                <environment></environment>
        <key id="13009203">PDFBOX-3520</key>
            <summary>Security manager fails</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Oct 2016 10:27:24 +0000</created>
                <updated>Sat, 25 Mar 2017 18:13:37 +0000</updated>
                            <resolved>Sun, 9 Oct 2016 13:15:33 +0000</resolved>
                                    <version>2.0.3</version>
                                    <fixVersion>2.0.4</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>FontBox</component>
                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15545949" author="jira-bot" created="Tue, 4 Oct 2016 16:53:16 +0000"  >&lt;p&gt;Commit 1763300 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1763300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1763300&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3520&quot; title=&quot;Security manager fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3520&quot;&gt;&lt;del&gt;PDFBOX-3520&lt;/del&gt;&lt;/a&gt;: more resiliency against security manager fails&lt;/p&gt;</comment>
                            <comment id="15545950" author="jira-bot" created="Tue, 4 Oct 2016 16:53:19 +0000"  >&lt;p&gt;Commit 1763301 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1763301&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1763301&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3520&quot; title=&quot;Security manager fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3520&quot;&gt;&lt;del&gt;PDFBOX-3520&lt;/del&gt;&lt;/a&gt;: more resiliency against security manager fails&lt;/p&gt;</comment>
                            <comment id="15545955" author="tilman" created="Tue, 4 Oct 2016 16:54:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssteiner1&quot; class=&quot;user-hover&quot; rel=&quot;ssteiner1&quot;&gt;ssteiner1&lt;/a&gt; please test your application again. I&apos;ve only tested with windows. If there are more fails, please include a full stack trace.&lt;/p&gt;</comment>
                            <comment id="15548102" author="ssteiner1" created="Wed, 5 Oct 2016 08:51:24 +0000"  >&lt;p&gt;i get&lt;br/&gt;
Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDType1Font.&amp;lt;init&amp;gt;(PDType1Font.java:159)&lt;/p&gt;

&lt;p&gt;private static final Log LOG seems to be null&lt;/p&gt;

&lt;p&gt;called from&lt;br/&gt;
public static final PDType1Font TIMES_ROMAN = new PDType1Font(&quot;Times-Roman&quot;);&lt;/p&gt;</comment>
                            <comment id="15549361" author="tilman" created="Wed, 5 Oct 2016 17:08:36 +0000"  >&lt;p&gt;I don&apos;t have a solution for that. We can&apos;t check LOG in the whole PDFBox code for null. I tried setting logging off with a log4j config file but the NPE kept happening. I don&apos;t know if the cause is commons log or log4j.&lt;/p&gt;</comment>
                            <comment id="15549413" author="ssteiner1" created="Wed, 5 Oct 2016 17:24:40 +0000"  >&lt;p&gt;The issue isnt due to security manager but order of loading things that are static&lt;/p&gt;</comment>
                            <comment id="15549431" author="jira-bot" created="Wed, 5 Oct 2016 17:31:12 +0000"  >&lt;p&gt;Commit 1763472 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1763472&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1763472&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3520&quot; title=&quot;Security manager fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3520&quot;&gt;&lt;del&gt;PDFBOX-3520&lt;/del&gt;&lt;/a&gt;: initialize logger first&lt;/p&gt;</comment>
                            <comment id="15551373" author="ssteiner1" created="Thu, 6 Oct 2016 08:54:42 +0000"  >&lt;p&gt;console says&lt;/p&gt;

&lt;p&gt;SEVERE: Error accessing the file system&lt;br/&gt;
java.security.AccessControlException: access denied (&quot;java.io.FilePermission&quot; &quot;/usr/local/fonts&quot; &quot;read&quot;)&lt;br/&gt;
	at java.security.AccessControlContext.checkPermission(AccessControlContext.java:372)&lt;br/&gt;
	at java.security.AccessController.checkPermission(AccessController.java:559)&lt;br/&gt;
	at java.lang.SecurityManager.checkPermission(SecurityManager.java:549)&lt;br/&gt;
	at java.lang.SecurityManager.checkRead(SecurityManager.java:888)&lt;br/&gt;
	at java.io.File.exists(File.java:808)&lt;br/&gt;
	at org.apache.fontbox.util.autodetect.NativeFontDirFinder.find(NativeFontDirFinder.java:45)&lt;/p&gt;</comment>
                            <comment id="15551538" author="ssteiner1" created="Thu, 6 Oct 2016 10:09:17 +0000"  >&lt;p&gt;If you have this, then it helps since we may want to allow some font directories but not others&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;--- a/fontbox/src/main/java/org/apache/fontbox/util/autodetect/NativeFontDirFinder.java
+++ b/fontbox/src/main/java/org/apache/fontbox/util/autodetect/NativeFontDirFinder.java
@@ -41,9 +41,11 @@ &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;abstract&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;NativeFontDirFinder &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; FontDirFinder
             &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; searchableDirectorie : searchableDirectories)
             {
                 File fontDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(searchableDirectorie);
-                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fontDir.exists() &amp;amp;&amp;amp; fontDir.canRead())
-                {
-                    fontDirList.add(fontDir);
+                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
+                    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fontDir.exists() &amp;amp;&amp;amp; fontDir.canRead()) {
+                        fontDirList.add(fontDir);
+                    }
+                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (SecurityException e) {
                 }
             }
         }


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15552318" author="jira-bot" created="Thu, 6 Oct 2016 15:56:12 +0000"  >&lt;p&gt;Commit 1763617 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1763617&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1763617&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3520&quot; title=&quot;Security manager fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3520&quot;&gt;&lt;del&gt;PDFBOX-3520&lt;/del&gt;&lt;/a&gt;: more resiliency against security manager fails&lt;/p&gt;</comment>
                            <comment id="15552319" author="jira-bot" created="Thu, 6 Oct 2016 15:56:17 +0000"  >&lt;p&gt;Commit 1763618 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1763618&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1763618&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3520&quot; title=&quot;Security manager fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3520&quot;&gt;&lt;del&gt;PDFBOX-3520&lt;/del&gt;&lt;/a&gt;: more resiliency against security manager fails&lt;/p&gt;</comment>
                            <comment id="15555915" author="tilman" created="Fri, 7 Oct 2016 18:44:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssteiner1&quot; class=&quot;user-hover&quot; rel=&quot;ssteiner1&quot;&gt;ssteiner1&lt;/a&gt; Did this solve it for you?&lt;/p&gt;</comment>
                            <comment id="15559971" author="ssteiner1" created="Sun, 9 Oct 2016 13:14:00 +0000"  >&lt;p&gt;Yes thanks&lt;/p&gt;</comment>
                            <comment id="15692782" author="ssteiner1" created="Thu, 24 Nov 2016 09:37:43 +0000"  >&lt;p&gt;Would be good to get this into a release&lt;/p&gt;</comment>
                            <comment id="15693856" author="tilman" created="Thu, 24 Nov 2016 17:30:31 +0000"  >&lt;p&gt;It will be in the next release. Or are you asking when there will be one? See recent post on dev@.&lt;/p&gt;</comment>
                            <comment id="15693954" author="ssteiner1" created="Thu, 24 Nov 2016 18:18:10 +0000"  >&lt;p&gt;Just when it will be, i saw dev@ post&lt;/p&gt;</comment>
                            <comment id="15694020" author="tilman" created="Thu, 24 Nov 2016 18:52:58 +0000"  >&lt;p&gt;He said &quot;in about 2-3 weeks from now&quot;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12831293" name="security.policy" size="133" author="ssteiner" created="Mon, 3 Oct 2016 10:28:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i34cw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>