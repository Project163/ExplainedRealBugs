<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:00:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2814] Text not rendered in mode 7</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2814</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;texts in PDF are not rendered when is present shadow. &lt;br/&gt;
The url contains 4 pdf of the same page, exported in 4 different ways. In few cases one the last text line are not rendered.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://drive.google.com/drive/u/0/folders/0Bz-TZKnUq0uufmVLUDliMFBGSGRWZU1sQWVJamQ5VV9mOGxaMXhTOXZuSVhQd3Vpc280Z2M&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://drive.google.com/drive/u/0/folders/0Bz-TZKnUq0uufmVLUDliMFBGSGRWZU1sQWVJamQ5VV9mOGxaMXhTOXZuSVhQd3Vpc280Z2M&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Oracle Java8 - Windows 8.1 x64</environment>
        <key id="12832699">PDFBOX-2814</key>
            <summary>Text not rendered in mode 7</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="daniele.guiducci">Daniele guiducci</reporter>
                        <labels>
                    </labels>
                <created>Tue, 26 May 2015 12:26:55 +0000</created>
                <updated>Fri, 10 Feb 2017 16:39:17 +0000</updated>
                            <resolved>Thu, 28 May 2015 05:21:25 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14559198" author="tilman" created="Tue, 26 May 2015 14:49:23 +0000"  >&lt;p&gt;I looked at the first file only. It has &quot;in verde lo&quot; at the bottom which is unseen.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;BT
7 Tr
.35 Tc
/F2 14 Tf
/GS3 gs
[(in v)20(er)40(de l)2(o )]TJ
ET
q
.77 -.252 62.09 10.22 re
W* n
/GS1 gs
62.88 0 0 11.04 .29 -.732 cm
/I4 Do
Q
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It is rendered in mode 7 (Add text to path for clipping = NEITHER_CLIP). I.e. the path of the text is used to clip a part of a mostly black image (/I4).&lt;/p&gt;

&lt;p&gt;Changing the TJ line to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[(in verde lo)     ]TJ
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;shows the text, although in poor quality. This looks to me as if adding the shapes to the clipping path doesn&apos;t work properly for TJ if there are several elements.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; In PageDrawer.showText(), the textClippingArea is reset at the beginning of each call, and at the end, &lt;tt&gt;state.intersectClippingPath(textClippingArea);&lt;/tt&gt; is called. So if showText() is called several times as it is done in TJ, the intersection would be empty &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14562010" author="jahewson" created="Wed, 27 May 2015 23:46:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, that&apos;s exactly the problem. The buffering of the text clip needs wrap showTextString(...) and showTextStrings(...) instead of showText(...).&lt;/p&gt;</comment>
                            <comment id="14562012" author="jira-bot" created="Wed, 27 May 2015 23:49:12 +0000"  >&lt;p&gt;Commit 1682140 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1682140&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1682140&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2814&quot; title=&quot;Text not rendered in mode 7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2814&quot;&gt;&lt;del&gt;PDFBOX-2814&lt;/del&gt;&lt;/a&gt;: Collect text clip across TJ characters&lt;/p&gt;</comment>
                            <comment id="14562309" author="jahewson" created="Thu, 28 May 2015 05:21:26 +0000"  >&lt;p&gt;This fixes the missing text. The quality is low because Java2D doesn&apos;t have anti-aliased clipping. A workaround is to render at a higher DPI, say 8x and scale-down the resulting image.&lt;/p&gt;</comment>
                            <comment id="14562504" author="tilman" created="Thu, 28 May 2015 08:33:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=daniele.guiducci&quot; class=&quot;user-hover&quot; rel=&quot;daniele.guiducci&quot;&gt;daniele.guiducci&lt;/a&gt; it is a bit weird that you&apos;re using that mode 7 for parts of the text only, and it just makes your PDF bigger. You could just output the text in the desired color, like it is done elsewhere. Usually mode 7 is used to clip from an &quot;interesting&quot; background, e.g. a shading or a nice image (for example, the words &quot;surfing&quot; clipped from an image of a wave). It doesn&apos;t really make sense for a uniform color. To see what I&apos;m writing about, go to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-678&quot; title=&quot;Support missing Text Rendering Modes when rendering a PDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-678&quot;&gt;&lt;del&gt;PDFBOX-678&lt;/del&gt;&lt;/a&gt; and open the example 26 file.&lt;/p&gt;</comment>
                            <comment id="14562535" author="daniele.guiducci" created="Thu, 28 May 2015 08:54:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Thank you &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
i know that this pdf are not well structured, but we already have hundreds of this files and we can&apos;t edit them. &lt;/p&gt;</comment>
                            <comment id="14566013" author="tilman" created="Sat, 30 May 2015 14:33:48 +0000"  >&lt;p&gt;The file of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-301&quot; title=&quot;IOException when parsing 1.3 PDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-301&quot;&gt;&lt;del&gt;PDFBOX-301&lt;/del&gt;&lt;/a&gt; has also improved, the text &quot;L&#8217;Wren Scotts ...&quot; near the small &quot;2&quot; is now rendered.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12778988">PDFBOX-2696</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12846572">PDFBOX-2899</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13042116">PDFBOX-3681</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12735315" name="PDFBOX-2814.pdf" size="218082" author="tilman" created="Tue, 26 May 2015 12:57:18 +0000"/>
                            <attachment id="12735316" name="PDFBOX-2814.png" size="263842" author="tilman" created="Tue, 26 May 2015 12:57:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 25 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2f73r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>