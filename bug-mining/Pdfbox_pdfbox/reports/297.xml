<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1515] PDGraphicsState class receives null page argument leading to nullpointerexception</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1515</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;workaround changes needed for PDGraphicsState constructor as reproduced below:&lt;/p&gt;

&lt;p&gt;attached pdf file can be used to reproduce the exception&lt;/p&gt;

&lt;p&gt;public PDGraphicsState(PDRectangle page) {&lt;/p&gt;

&lt;p&gt;		/*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;TB - changes made here are a workaround which creates a default&lt;/li&gt;
	&lt;li&gt;GeneralPath assigned to currentClippingPath if the constructor&lt;/li&gt;
	&lt;li&gt;argument page is null. Probably a better remedy would be to ensure&lt;/li&gt;
	&lt;li&gt;that the page argument is not null or use a dedicated constructor if&lt;/li&gt;
	&lt;li&gt;page is null&lt;br/&gt;
		 */&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;		if (page != null) {&lt;/p&gt;

&lt;p&gt;			Dimension dimension = page.createDimension();&lt;/p&gt;

&lt;p&gt;			Rectangle rectangle = new Rectangle(dimension);&lt;/p&gt;

&lt;p&gt;			currentClippingPath = new GeneralPath(rectangle);&lt;/p&gt;

&lt;p&gt;			currentClippingPath = new GeneralPath(new Rectangle(page.createDimension()));&lt;br/&gt;
			if (page.getLowerLeftX() != 0 || page.getLowerLeftY() != 0) &lt;/p&gt;
{
				// Compensate for offset
				this.currentTransformationMatrix = this.currentTransformationMatrix.multiply(Matrix.getTranslatingInstance(-page.getLowerLeftX(),
						-page.getLowerLeftY()));
			}

&lt;p&gt;		} else &lt;/p&gt;
{

			currentClippingPath = new GeneralPath();

		}
&lt;p&gt;	}&lt;/p&gt;

&lt;p&gt;Also, as a side effect of above workaround, made following change within PDFStreamEngine.processEncodedText:&lt;/p&gt;

&lt;p&gt;/*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;TB - needed to make change here, as we encounter here a knock on&lt;/li&gt;
	&lt;li&gt;effect of allowing null page arguments through in PDGraphicsState&lt;/li&gt;
	&lt;li&gt;constructor which creates a default GeneralPath assigned to&lt;/li&gt;
	&lt;li&gt;currentClippingPath. That workaround causes findMediaBox to return&lt;/li&gt;
	&lt;li&gt;null, so in that case we assign default values to pageHeight and&lt;/li&gt;
	&lt;li&gt;pageWidth here. Everything else seems to work as far as text&lt;/li&gt;
	&lt;li&gt;extraction is concerned.&lt;br/&gt;
		 */&lt;br/&gt;
		if (page.findMediaBox() != null) 
{

			pageHeight = page.findMediaBox().getHeight();
			pageWidth = page.findMediaBox().getWidth();
		}
&lt;p&gt; else &lt;/p&gt;
{
			pageHeight = 0;
			pageWidth = 0;

		}&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>all (os-x, ubuntu linux, win-32, win64)</environment>
        <key id="12631909">PDFBOX-1515</key>
            <summary>PDGraphicsState class receives null page argument leading to nullpointerexception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="comcortim">Tim Barrett</reporter>
                        <labels>
                    </labels>
                <created>Tue, 12 Feb 2013 09:31:04 +0000</created>
                <updated>Wed, 10 Apr 2013 17:10:39 +0000</updated>
                            <resolved>Sat, 6 Apr 2013 10:11:16 +0000</resolved>
                                    <version>1.7.1</version>
                                    <fixVersion>1.8.1</fixVersion>
                                    <component>PDModel</component>
                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13576490" author="comcortim" created="Tue, 12 Feb 2013 09:38:24 +0000"  >&lt;p&gt;Exception can be reproduced using this pdf file, with straightforward code along the lines of:&lt;/p&gt;

&lt;p&gt;	parser.parse();&lt;br/&gt;
	cosDoc = parser.getDocument();&lt;br/&gt;
	pdfStripper = new PDFTextStripper();&lt;br/&gt;
	pdDoc = new PDDocument(cosDoc);&lt;br/&gt;
	parsedText = pdfStripper.getText(pdDoc);&lt;/p&gt;

&lt;p&gt;exception occurs after getText call.&lt;/p&gt;</comment>
                            <comment id="13624389" author="lehmi" created="Sat, 6 Apr 2013 10:11:16 +0000"  >&lt;p&gt;According to the pdf specs a page must have a mediabox, but obviously reality proves us wrong.&lt;br/&gt;
PDFBox now uses LETTER as default pagesize if the mediabox is missing. &lt;br/&gt;
I added the fix in revision 1465217.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12568945" name="The right to take risks.pdf" size="92198" author="comcortim" created="Tue, 12 Feb 2013 09:38:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312405</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1hwuv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>312751</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>