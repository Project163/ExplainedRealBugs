<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:55:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2073] PDF files with unusual Japanese font can not be rewrite correctly</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2073</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;While rotate attached pdf file, The Japanese characters cannot display in the output pdf file. &lt;br/&gt;
This problem can also occur when marge PDF files.&lt;br/&gt;
We suspect that this caused by the name of font type.&lt;/p&gt;

&lt;p&gt;Environment&lt;br/&gt;
-------------------------------------------------&lt;br/&gt;
OS    : Windows 7 (32bit)&lt;br/&gt;
jvm   : 1.6&lt;br/&gt;
pdfbox: 1.8.5&lt;br/&gt;
-------------------------------------------------&lt;/p&gt;


&lt;p&gt;Code to reproduce the problem&lt;br/&gt;
-------------------------------------------------&lt;br/&gt;
    public static void main(String[] args) {&lt;/p&gt;

&lt;p&gt;        String filePath = &quot;D:\\test&lt;br class=&quot;atl-forced-newline&quot; /&gt;landscape.pdf&quot;;&lt;br/&gt;
        String newPDFFile = &quot;D:\\test&lt;br class=&quot;atl-forced-newline&quot; /&gt;new_landscape.pdf&quot;;&lt;/p&gt;

&lt;p&gt;        try {&lt;br/&gt;
            PDDocument rotatedDocument = PDDocument.load(filePath);&lt;br/&gt;
            PDDocument document = new PDDocument();&lt;/p&gt;

&lt;p&gt;            int pageNumber = document.getNumberOfPages();&lt;br/&gt;
            for (int i=0; i&amp;lt;pageNumber; i++) &lt;/p&gt;
{
                PDPage page = (PDPage)document.getDocumentCatalog().getAllPages().get(i);
                page.setRotation(-90);
                rotatedDocument.addPage(page);
            }
&lt;p&gt;            rotatedDocument.save(newPDFFile);&lt;/p&gt;

&lt;p&gt;            document.close();&lt;br/&gt;
            rotatedDocument.close();&lt;br/&gt;
        } catch (Exception e) &lt;/p&gt;
{
            e.printStackTrace();
        }
&lt;p&gt;    }&lt;br/&gt;
-------------------------------------------------&lt;/p&gt;</description>
                <environment>Windows 7 32bit</environment>
        <key id="12713603">PDFBOX-2073</key>
            <summary>PDF files with unusual Japanese font can not be rewrite correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="May 2014">May Yu</reporter>
                        <labels>
                            <label>encoding</label>
                    </labels>
                <created>Mon, 12 May 2014 11:34:32 +0000</created>
                <updated>Sun, 22 Jun 2014 14:34:50 +0000</updated>
                            <resolved>Tue, 13 May 2014 17:56:22 +0000</resolved>
                                    <version>1.8.5</version>
                    <version>1.8.6</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.6</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13995327" author="tilman" created="Mon, 12 May 2014 17:54:04 +0000"  >&lt;p&gt;It is worse - it has nothing to do with the rotation, even code like this produces a PDF that can&apos;t be opened by Adobe:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;PDDocument doc = PDDocument.load(....);
doc.save(....&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13995422" author="tilman" created="Mon, 12 May 2014 18:33:35 +0000"  >&lt;p&gt;In the original PDF, the name is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;OXPCPR+07#82#e2#82#b3#82#b5#82#b3#83S#83V#83b#83N#83#7b#81#5b#83#8b#83h
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the saved PDF, the name is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;OXPCPR+07#82#E2#82#B3#82#B5#82#B3#83S#83V#83b#83N#83{#81#5B#83#8B#83h
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;changing back the &quot;{&quot; to &quot;#7b&quot; allows to display the file with Adobe Reader.&lt;/p&gt;</comment>
                            <comment id="13995577" author="tilman" created="Mon, 12 May 2014 20:15:08 +0000"  >&lt;p&gt;Fixed in rev 1594079 for the trunk and rev 1594080 for the 1.8 branch. Either wait a few months, or get it from the snapshot directory in a few hours to test.&lt;/p&gt;

&lt;p&gt;Btw I didn&apos;t test the rotation thing, assuming that the error was in the save only (which works now, i.e. the file is ok). Your example has an error, you confused document and rotatedDocument.&lt;/p&gt;</comment>
                            <comment id="13995660" author="tilman" created="Mon, 12 May 2014 21:28:44 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=May+2014&quot; class=&quot;user-hover&quot; rel=&quot;May 2014&quot;&gt;May 2014&lt;/a&gt; could you do me a favour? Please open Acrobat Viewer with your file, and make a screenshot of the properties, fonts. Does the font name look like the screenshot I attached, i.e. unreadable? Or is the font name something japanese?&lt;/p&gt;

&lt;p&gt;I am asking because I suspect that more changes are needed, when saving names, i.e. not make list what to convert, instead decide what we don&apos;t convert, e.g. a-z,A-Z,0-9,-+_ .&lt;/p&gt;</comment>
                            <comment id="13995921" author="may 2014" created="Tue, 13 May 2014 01:26:18 +0000"  >&lt;p&gt;Here is screenshot of the properties, fonts&lt;/p&gt;</comment>
                            <comment id="13996139" author="tilman" created="Tue, 13 May 2014 06:39:24 +0000"  >&lt;p&gt;Thank you, this (and the PDF spec &quot;name objects&quot;) confirms that there could be any value there. I will change this tonight to skip encoding only for those characters that are obvious (a-z,A-Z,0-9) and those explicitly not shown converted in the spec, to avoid getting this problem in the future.&lt;/p&gt;</comment>
                            <comment id="13996699" author="tilman" created="Tue, 13 May 2014 17:56:22 +0000"  >&lt;p&gt;Committed in rev 1594304 for the trunk and rev 1594305 for the 1.8 branch.&lt;/p&gt;</comment>
                            <comment id="13998393" author="may 2014" created="Thu, 15 May 2014 02:28:06 +0000"  >&lt;p&gt;Could you tell me when will you release 1.8.6 ?&lt;/p&gt;</comment>
                            <comment id="13999069" author="tilman" created="Thu, 15 May 2014 18:36:09 +0000"  >&lt;p&gt;This will probably take several months, we usually have about 4 releases per year. &lt;br/&gt;
&lt;a href=&quot;https://archive.apache.org/dist/pdfbox/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://archive.apache.org/dist/pdfbox/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;You can get an intermediate version here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox/1.8.6-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox/1.8.6-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12644487" name="font_screenshot1.png" size="30660" author="tilman" created="Mon, 12 May 2014 21:28:44 +0000"/>
                            <attachment id="12644401" name="landscape.pdf" size="7887" author="May 2014" created="Mon, 12 May 2014 11:39:44 +0000"/>
                            <attachment id="12644536" name="pdf_property.png" size="112613" author="May 2014" created="Tue, 13 May 2014 01:26:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>391919</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1vhwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>392122</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>