<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:55:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1845] PDDocument.load() give Error: Expected a long type at offset 1633</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1845</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I run this simple program with the file in attachment (scanned OCR document from Nuance Omnipage 18)&lt;/p&gt;

&lt;p&gt;	public static void main(String[] args)&lt;br/&gt;
	throws Exception &lt;/p&gt;
{
		System.out.println(&quot;Start SplitFileTest...&quot;);
		String path = &quot;D:\\test\\batch\\scan_manual\\courrier\\david.keller\\&quot;;
		String pdfFile = path + &quot;14 01 2014.pdf&quot;;
		
		FileInputStream pdfInputStream = new FileInputStream(pdfFile);
		
		PDDocument pdDocument = PDDocument.load(pdfInputStream);
		List&amp;lt;PDPage&amp;gt; pages = pdDocument.getDocumentCatalog().getAllPages();

		
		pdfInputStream.close();
	}


&lt;p&gt;And with the 1.8.0 version I have this error :&lt;/p&gt;

&lt;p&gt;java.io.IOException: Error: Expected an integer type, actual=&apos;12977[373&apos;&lt;br/&gt;
        at org.apache.pdfbox.pdfparser.BaseParser.readInt(BaseParser.java:1622)&lt;br/&gt;
        at org.apache.pdfbox.pdfparser.PDFObjectStreamParser.parse(PDFObjectStreamParser.java:100)&lt;br/&gt;
        at org.apache.pdfbox.cos.COSDocument.dereferenceObjectStreams(COSDocument.java:604)&lt;br/&gt;
        at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:226)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1187)&lt;/p&gt;



&lt;p&gt;And I have just builded the 2.0.0 from the last code source and I have this error :&lt;/p&gt;

&lt;p&gt; java.io.IOException: Error: Expected a long type at offset 1633&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.BaseParser.readLong(BaseParser.java:1682)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFObjectStreamParser.parse(PDFObjectStreamParser.java:100)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSDocument.dereferenceObjectStreams(COSDocument.java:663)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:244)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1101)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1069)&lt;/p&gt;</description>
                <environment>Windows 8.1</environment>
        <key id="12688729">PDFBOX-1845</key>
            <summary>PDDocument.load() give Error: Expected a long type at offset 1633</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="david.keller">David KELLER</reporter>
                        <labels>
                            <label>JPEG2000</label>
                            <label>JPG2000</label>
                    </labels>
                <created>Tue, 14 Jan 2014 12:59:18 +0000</created>
                <updated>Mon, 22 Dec 2014 17:23:31 +0000</updated>
                            <resolved>Sun, 4 May 2014 10:25:05 +0000</resolved>
                                    <version>1.8.0</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.6</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13870699" author="david.keller" created="Tue, 14 Jan 2014 13:03:00 +0000"  >&lt;p&gt;File build by Nuance Omnipage 18 &lt;/p&gt;</comment>
                            <comment id="13870707" author="david.keller" created="Tue, 14 Jan 2014 13:21:47 +0000"  >&lt;p&gt;I have opened the file with Acrobat Reader : no pb&lt;br/&gt;
Then i do &quot;save as&quot; and I get this file, and I can read it.&lt;/p&gt;

&lt;p&gt;Is it a issue in Nuance or PDFBOX ?&lt;br/&gt;
But Acrobat can readit so I think you can do something to open the file ?&lt;/p&gt;

&lt;p&gt;Best regards&lt;br/&gt;
David&lt;/p&gt;</comment>
                            <comment id="13871283" author="lehmi" created="Tue, 14 Jan 2014 22:20:11 +0000"  >&lt;p&gt;The second pdf was rearranged and is linearized, so that the issue is similar but not identical. Both pdfs are using streams for the XRef tabele and I&apos;m not sure if PDFBox has a problem reading those or if these are broken.&lt;/p&gt;

&lt;p&gt;We&apos;ll have to investigate further&lt;/p&gt;</comment>
                            <comment id="13988831" author="tilman" created="Sat, 3 May 2014 22:39:35 +0000"  >&lt;p&gt;I uncompressed the first PDF with qpdf and now PDFBox can process it. If &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=david.keller&quot; class=&quot;user-hover&quot; rel=&quot;david.keller&quot;&gt;david.keller&lt;/a&gt; wants to render this file he won&apos;t like it, because the images are compressed with JPEG2000 and there&apos;s a bug in the plugin.&lt;/p&gt;</comment>
                            <comment id="13988954" author="tilman" created="Sun, 4 May 2014 10:25:05 +0000"  >&lt;p&gt;An encoded stream has this content:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;... 12873 279 12882 2 12977[373 0 R]&amp;lt;&amp;lt;/Contents ...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;BaseParser.readStringNumber() reads &quot;12977[373&quot; into its number buffer. So I have added &apos;[&apos; as an extra delimiter. I have also improved the error message so that it shows what&apos;s in the buffer for the next time something like this happens.&lt;/p&gt;

&lt;p&gt;Re the JPEG2000 problem, this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1752&quot; title=&quot;Rendering PDF containing Jpeg2000 fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1752&quot;&gt;&lt;del&gt;PDFBOX-1752&lt;/del&gt;&lt;/a&gt;, see also there for a solution: &quot;I got it to work with pdfbox by using the three files from &lt;a href=&quot;http://www.jpedal.org/download/jars/jai.zip&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.jpedal.org/download/jars/jai.zip&lt;/a&gt; and not just their bugfix of jai_imageio.&quot; But if I remember correctly, other JPEG2000 images failed with that solution.&lt;/p&gt;

&lt;p&gt;Fixed in rev 1592333 for the trunk and rev 1592334 for the 1.8 branch.&lt;/p&gt;</comment>
                            <comment id="13989339" author="david.keller" created="Mon, 5 May 2014 07:45:58 +0000"  >&lt;p&gt;I just rebuild 2.0.0 version and it seems ok, thanks a lot !&lt;br/&gt;
Then if you can find a solution for &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1752&quot; title=&quot;Rendering PDF containing Jpeg2000 fails&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1752&quot;&gt;&lt;del&gt;PDFBOX-1752&lt;/del&gt;&lt;/a&gt;, it could be very nice, I want to help you... but I have not the skill to do it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; !&lt;br/&gt;
I just modify a little bit your lib to improve &quot;search and replace&quot; in the proposal &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1767&quot; title=&quot;Proposal of modification to add new feature like TextLocationReplace&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1767&quot;&gt;PDFBOX-1767&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Best regards&lt;br/&gt;
David KELLER&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12763273">PDFBOX-2579</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12622858" name="14 01 2014-2.pdf" size="7378611" author="david.keller" created="Tue, 14 Jan 2014 13:21:46 +0000"/>
                            <attachment id="12622855" name="14 01 2014.pdf" size="7348047" author="david.keller" created="Tue, 14 Jan 2014 13:03:00 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>367748</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 28 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1rdz3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>368055</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>