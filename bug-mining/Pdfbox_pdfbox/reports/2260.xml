<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:09:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4155] Password Security with Unicode needs SASLprep</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4155</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Standard Security handler for Version 6 (AES256) handles Unicode passwords. However the current handler is missing this part:&lt;/p&gt;

&lt;p&gt;&quot;The UTF-8 password string shall be generated from Unicode input by processing the input string with the SASLprep (RFC 4013) profile of stringprep (RFC 3454) using the Normalize and BiDi options, and then converting to a UTF-8 representation.&quot;&lt;/p&gt;

&lt;p&gt;SASLprep is required to normalize equivalent codings for complex glyphs (such as those using umlauts, etc).&lt;/p&gt;

&lt;p&gt;pdmodel/encryption/StandardSecurityHandler.java&lt;/p&gt;</description>
                <environment></environment>
        <key id="13146004">PDFBOX-4155</key>
            <summary>Password Security with Unicode needs SASLprep</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="MKaufman">Marc Kaufman</reporter>
                        <labels>
                            <label>security</label>
                    </labels>
                <created>Sun, 18 Mar 2018 00:02:31 +0000</created>
                <updated>Fri, 27 Sep 2019 08:28:45 +0000</updated>
                            <resolved>Sat, 1 Jun 2019 17:57:16 +0000</resolved>
                                    <version>2.0.8</version>
                                    <fixVersion>2.0.16</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Crypto</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16412538" author="tilman" created="Sat, 24 Mar 2018 11:23:45 +0000"  >&lt;p&gt;Could you show an example that the current code is wrong, e.g. a string that is passed to PDFBox but that can&apos;t be used when opening the same file with Adobe Reader?&lt;/p&gt;</comment>
                            <comment id="16412704" author="mkaufman" created="Sat, 24 Mar 2018 17:46:10 +0000"  >&lt;p&gt;The attached PDF was encrypted with the Password: &quot;S&#170;SL&#173;&#173;&#173;&#173;&#173;prep&quot; &lt;span class=&quot;error&quot;&gt;&amp;#91;S&amp;lt;U+00AA&amp;gt;SL&amp;lt;U+00AD&amp;gt;&amp;lt;U+00AD&amp;gt;&amp;lt;U+00AD&amp;gt;&amp;lt;U+00AD&amp;gt;&amp;lt;U+00AD&amp;gt;prep&amp;#93;&lt;/span&gt;. If you use that string to open the file in Reader, it opens. The SASLprep&apos;d equivalent is &quot;SaSLprep&quot; &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;lt;U+00AA&amp;gt; becomes &amp;#39;a&amp;#39;, &amp;lt;U+00AD&amp;gt; is removed&amp;#93;&lt;/span&gt;, and that string will also open the file.&lt;/p&gt;

&lt;p&gt;There are more complicated examples involving joining forms in some languages, and alternative representations of compound characters.&lt;/p&gt;

&lt;p&gt;If you create a file in PDFBox, using the non-SASLprep string, you won&apos;t be able to open it in Acrobat. If you try to open the provided example file in PDFBox using the non-SASLprep string, it won&apos;t open.&lt;/p&gt;</comment>
                            <comment id="16842298" author="tilman" created="Fri, 17 May 2019 16:14:25 +0000"  >&lt;p&gt;Our options:&lt;br/&gt;
1) change the documentation to mention that SASLPrep is to be used.&lt;br/&gt;
2) use the code. It requires a small change in prepareForDecryption() and in prepareDocumentForEncryption().&lt;br/&gt;
3) do both, i.e. improve documentation for 2.0.&amp;#42;, and include the code in 3.0.&amp;#42;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; would we need a CLI for the code from Tom Bentley?&lt;/p&gt;</comment>
                            <comment id="16843393" author="lehmi" created="Sun, 19 May 2019 11:06:00 +0000"  >&lt;p&gt;We don&apos;t need a CLA as the code is licensed under the Apache License v2.0. We should mentioned the origin in the NOTICE file.&lt;/p&gt;

&lt;p&gt;BTW: Tom is using a wrong variant of the header as I assume that he just want to use the license but didn&apos;t licensed it to the ASF. Just a nitpicking detail, I&apos;m going to contact him&lt;/p&gt;</comment>
                            <comment id="16850068" author="lehmi" created="Tue, 28 May 2019 19:33:28 +0000"  >&lt;p&gt;Update: Tom fixed the header glitch and is ok with us using/copying his code, see &lt;a href=&quot;https://github.com/tombentley/saslprep/pull/3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tombentley/saslprep/pull/3&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16853777" author="jira-bot" created="Sat, 1 Jun 2019 17:48:27 +0000"  >&lt;p&gt;Commit 1860486 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1860486&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1860486&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4155&quot; title=&quot;Password Security with Unicode needs SASLprep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4155&quot;&gt;&lt;del&gt;PDFBOX-4155&lt;/del&gt;&lt;/a&gt;: use SASLprep algorithm implementation by Tom Bentley for revision 6, as suggested by Marc Kaufman&lt;/p&gt;</comment>
                            <comment id="16853778" author="jira-bot" created="Sat, 1 Jun 2019 17:55:39 +0000"  >&lt;p&gt;Commit 1860487 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1860487&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1860487&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4155&quot; title=&quot;Password Security with Unicode needs SASLprep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4155&quot;&gt;&lt;del&gt;PDFBOX-4155&lt;/del&gt;&lt;/a&gt;: use SASLprep algorithm implementation by Tom Bentley for revision 6, as suggested by Marc Kaufman&lt;/p&gt;</comment>
                            <comment id="16853779" author="jira-bot" created="Sat, 1 Jun 2019 17:55:44 +0000"  >&lt;p&gt;Commit 1860488 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1860488&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1860488&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4155&quot; title=&quot;Password Security with Unicode needs SASLprep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4155&quot;&gt;&lt;del&gt;PDFBOX-4155&lt;/del&gt;&lt;/a&gt;: use SASLprep algorithm implementation by Tom Bentley for revision 6, as suggested by Marc Kaufman&lt;/p&gt;</comment>
                            <comment id="16853780" author="tilman" created="Sat, 1 Jun 2019 17:57:16 +0000"  >&lt;p&gt;Done. Thanks Marc, Tom and Andreas.&lt;/p&gt;</comment>
                            <comment id="16853791" author="jira-bot" created="Sat, 1 Jun 2019 19:12:26 +0000"  >&lt;p&gt;Commit 1860490 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1860490&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1860490&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4155&quot; title=&quot;Password Security with Unicode needs SASLprep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4155&quot;&gt;&lt;del&gt;PDFBOX-4155&lt;/del&gt;&lt;/a&gt;: remove call that is only supported on jdk7+&lt;/p&gt;</comment>
                            <comment id="16853792" author="jira-bot" created="Sat, 1 Jun 2019 19:12:32 +0000"  >&lt;p&gt;Commit 1860491 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1860491&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1860491&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4155&quot; title=&quot;Password Security with Unicode needs SASLprep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4155&quot;&gt;&lt;del&gt;PDFBOX-4155&lt;/del&gt;&lt;/a&gt;: remove call that is only supported on jdk7+&lt;/p&gt;</comment>
                            <comment id="16853873" author="jira-bot" created="Sun, 2 Jun 2019 03:43:21 +0000"  >&lt;p&gt;Commit 1860502 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1860502&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1860502&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4155&quot; title=&quot;Password Security with Unicode needs SASLprep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4155&quot;&gt;&lt;del&gt;PDFBOX-4155&lt;/del&gt;&lt;/a&gt;: SonarQube fix&lt;/p&gt;</comment>
                            <comment id="16853874" author="jira-bot" created="Sun, 2 Jun 2019 03:43:26 +0000"  >&lt;p&gt;Commit 1860503 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1860503&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1860503&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4155&quot; title=&quot;Password Security with Unicode needs SASLprep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4155&quot;&gt;&lt;del&gt;PDFBOX-4155&lt;/del&gt;&lt;/a&gt;: SonarQube fix&lt;/p&gt;</comment>
                            <comment id="16853875" author="jira-bot" created="Sun, 2 Jun 2019 03:43:31 +0000"  >&lt;p&gt;Commit 1860504 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1860504&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1860504&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4155&quot; title=&quot;Password Security with Unicode needs SASLprep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4155&quot;&gt;&lt;del&gt;PDFBOX-4155&lt;/del&gt;&lt;/a&gt;: SonarQube fix&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13120972">KAFKA-6272</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13242267">PDFBOX-4587</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13229104">TIKA-2858</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12904029">DIRAPI-256</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13259110">PDFBOX-4660</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12916071" name="SASLPrep example.pdf" size="7117" author="MKaufman" created="Sat, 24 Mar 2018 17:44:41 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 23 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3rgbj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>