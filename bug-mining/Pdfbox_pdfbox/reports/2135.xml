<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:08:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4009] Structure tree lost when merging from the command line</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4009</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When merging with PDFMerger from the command line (e.g. the files from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4007&quot; title=&quot;Merged documents don&amp;#39;t retain tags&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4007&quot;&gt;&lt;del&gt;PDFBOX-4007&lt;/del&gt;&lt;/a&gt;) the structure tree is lost. The cause is that &lt;tt&gt;mergeDocuments()&lt;/tt&gt; merges into an empty &lt;tt&gt;PDDocument&lt;/tt&gt; object, and &lt;tt&gt;appendDocument()&lt;/tt&gt; does not copy the structure tree if it doesn&apos;t exist in the destination. It does something only if source and destination have one.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13117630">PDFBOX-4009</key>
            <summary>Structure tree lost when merging from the command line</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                            <label>StructureTree</label>
                            <label>merge</label>
                    </labels>
                <created>Fri, 10 Nov 2017 17:58:57 +0000</created>
                <updated>Tue, 3 Nov 2020 06:02:46 +0000</updated>
                            <resolved>Tue, 1 Jan 2019 16:26:06 +0000</resolved>
                                    <version>2.0.8</version>
                                    <fixVersion>2.0.14</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16731257" author="jira-bot" created="Mon, 31 Dec 2018 10:24:03 +0000"  >&lt;p&gt;Commit 1850029 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850029&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850029&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: no need to reset anything if structure tree is not merged, it just means that the destination structure tree and settings are kept they exist&lt;/p&gt;</comment>
                            <comment id="16731258" author="jira-bot" created="Mon, 31 Dec 2018 10:24:09 +0000"  >&lt;p&gt;Commit 1850030 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850030&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850030&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: no need to reset anything if structure tree is not merged, it just means that the destination structure tree and settings are kept they exist&lt;/p&gt;</comment>
                            <comment id="16731352" author="jira-bot" created="Mon, 31 Dec 2018 15:23:48 +0000"  >&lt;p&gt;Commit 1850055 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850055&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850055&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: destParentTreeNextKey can be == 0&lt;/p&gt;</comment>
                            <comment id="16731353" author="jira-bot" created="Mon, 31 Dec 2018 15:23:54 +0000"  >&lt;p&gt;Commit 1850056 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850056&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850056&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: destParentTreeNextKey can be == 0&lt;/p&gt;</comment>
                            <comment id="16731628" author="jira-bot" created="Tue, 1 Jan 2019 16:09:24 +0000"  >&lt;p&gt;Commit 1850109 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850109&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850109&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: create dummy structure tree if destination doesn&apos;t have any but source has&lt;/p&gt;</comment>
                            <comment id="16731629" author="jira-bot" created="Tue, 1 Jan 2019 16:09:28 +0000"  >&lt;p&gt;Commit 1850110 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850110&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850110&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: create dummy structure tree if destination doesn&apos;t have any but source has&lt;/p&gt;</comment>
                            <comment id="16731630" author="jira-bot" created="Tue, 1 Jan 2019 16:12:01 +0000"  >&lt;p&gt;Commit 1850111 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850111&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850111&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: add test that merging to empty destination keeps the structure tree of the source&lt;/p&gt;</comment>
                            <comment id="16731631" author="jira-bot" created="Tue, 1 Jan 2019 16:12:06 +0000"  >&lt;p&gt;Commit 1850112 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850112&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850112&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: add test that merging to empty destination keeps the structure tree of the source&lt;/p&gt;</comment>
                            <comment id="16731686" author="jira-bot" created="Tue, 1 Jan 2019 20:59:40 +0000"  >&lt;p&gt;Commit 1850118 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850118&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850118&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: Test that ParentTreeNextKey is recalculated correctly&lt;/p&gt;</comment>
                            <comment id="16731687" author="jira-bot" created="Tue, 1 Jan 2019 20:59:45 +0000"  >&lt;p&gt;Commit 1850119 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850119&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850119&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: Test that ParentTreeNextKey is recalculated correctly&lt;/p&gt;</comment>
                            <comment id="16731690" author="jira-bot" created="Tue, 1 Jan 2019 21:05:52 +0000"  >&lt;p&gt;Commit 1850122 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850122&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850122&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: check ParentTreeNextKey&lt;/p&gt;</comment>
                            <comment id="16731691" author="jira-bot" created="Tue, 1 Jan 2019 21:05:58 +0000"  >&lt;p&gt;Commit 1850123 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850123&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850123&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: check ParentTreeNextKey&lt;/p&gt;</comment>
                            <comment id="16731700" author="jira-bot" created="Tue, 1 Jan 2019 22:07:46 +0000"  >&lt;p&gt;Commit 1850136 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850136&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850136&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: remove print&lt;/p&gt;</comment>
                            <comment id="16731701" author="jira-bot" created="Tue, 1 Jan 2019 22:07:51 +0000"  >&lt;p&gt;Commit 1850137 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1850137&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1850137&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4009&quot; title=&quot;Structure tree lost when merging from the command line&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4009&quot;&gt;&lt;del&gt;PDFBOX-4009&lt;/del&gt;&lt;/a&gt;: remove print&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12692810">PDFBOX-1878</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 45 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3mnkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>