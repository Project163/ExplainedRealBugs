<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:02:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3188] java.io.IOException: Error: source PDF is encrypted, can&apos;t append encrypted PDF documents</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3188</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;In the release notes of PDFBox 2.0.0 RC2 we can read that (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1656&quot; title=&quot;Enable PDFMergeUtility to merge Encrypted PDFs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1656&quot;&gt;&lt;del&gt;PDFBOX-1656&lt;/del&gt;&lt;/a&gt;) PDFMergerUtility is able to merge encrypted files. I have some files protected against modification with a password (users are allowed to open and print the file but its content is locked). I&apos;m trying to merge those files into a single one but without success. &lt;/p&gt;

&lt;p&gt;1. Adding source files.&lt;br/&gt;
2. Setting the destination filename.&lt;br/&gt;
3. Calling mergeDocuments().&lt;/p&gt;

&lt;p&gt;Result is : Exception in thread &quot;main&quot; java.io.IOException: Error: source PDF is encrypted, can&apos;t append encrypted PDF documents.&lt;br/&gt;
        at org.apache.pdfbox.multipdf.PDFMergerUtility.appendDocument(PDFMergerUtility.java:255)&lt;br/&gt;
        at org.apache.pdfbox.multipdf.PDFMergerUtility.mergeDocuments(PDFMergerUtility.java:201)&lt;/p&gt;

&lt;p&gt;Note : PDDocument.load() works if I need to print the files.&lt;br/&gt;
(Bonus Question : How could I decrypt a document before appending it to a new one (decrypt and openProtection are not used anymore))&lt;/p&gt;</description>
                <environment>Windows 8.1 x64, JDK 7u80 32 bits, Netbeans 8.1, PDFBox 2.0.0RC2 jar</environment>
        <key id="12929156">PDFBOX-3188</key>
            <summary>java.io.IOException: Error: source PDF is encrypted, can&apos;t append encrypted PDF documents</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="blacklord049">Vincent</reporter>
                        <labels>
                            <label>merge</label>
                    </labels>
                <created>Mon, 11 Jan 2016 12:14:49 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:42 +0000</updated>
                            <resolved>Tue, 12 Jan 2016 19:33:12 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15092415" author="tilman" created="Mon, 11 Jan 2016 18:17:33 +0000"  >&lt;p&gt;I suspect that at that time, isEncrypted() was false after decryption. I remember that there was a discussion about when isEncrypted was to be true and when not, but can&apos;t find it.&lt;/p&gt;

&lt;p&gt;I&apos;m undecided about removing the checks (I tested that it works), because RC3 is to be released right now.&lt;/p&gt;

&lt;p&gt;Re  How could I decrypt a document - just call PDDocument.load(), call setAllSecurityToBeRemoved(true) and save().&lt;/p&gt;</comment>
                            <comment id="15093530" author="blacklord049" created="Tue, 12 Jan 2016 08:30:20 +0000"  >&lt;p&gt;It did the trick, thank you!&lt;/p&gt;

&lt;p&gt;PDDocument dl = PDDocument.load(pdfc,password);&lt;br/&gt;
dl.setAllSecurityToBeRemoved(true);&lt;br/&gt;
dl.save(pdfc);&lt;br/&gt;
merge.appendDocument(dd, dl);&lt;br/&gt;
tobeclosed.add(dl);&lt;/p&gt;
</comment>
                            <comment id="15094596" author="jira-bot" created="Tue, 12 Jan 2016 19:31:09 +0000"  >&lt;p&gt;Commit 1724305 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1724305&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1724305&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3188&quot; title=&quot;java.io.IOException: Error: source PDF is encrypted, can&amp;#39;t append encrypted PDF documents&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3188&quot;&gt;&lt;del&gt;PDFBOX-3188&lt;/del&gt;&lt;/a&gt;: no need to check for encryption&lt;/p&gt;</comment>
                            <comment id="15094604" author="tilman" created="Tue, 12 Jan 2016 19:33:12 +0000"  >&lt;p&gt;I did some more investigation, an encryption dictionary never appears in the destination file, because the destination catalog is built only from specific items, i.e. no encryption dictionary is copied.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 44 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2r4lz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>