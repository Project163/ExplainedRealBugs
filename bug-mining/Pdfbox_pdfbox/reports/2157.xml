<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:08:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3973] OCG Layers partly lost after merge</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3973</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Merge the attached file with itself and open with Adobe Reader and zoom out so that both pages can be seen. The layer UI has an effect on the first page but not on the second.&lt;/p&gt;

&lt;p&gt;I suspect that the cause is that in the resource properties, the names (short and long) are the same, but the object numbers are different.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13111167">PDFBOX-3973</key>
            <summary>OCG Layers partly lost after merge</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                            <label>OCGs</label>
                    </labels>
                <created>Sat, 21 Oct 2017 13:18:06 +0000</created>
                <updated>Tue, 2 Apr 2019 17:26:12 +0000</updated>
                            <resolved>Tue, 22 Jan 2019 16:53:34 +0000</resolved>
                                    <version>2.0.7</version>
                                    <fixVersion>2.0.14</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16213928" author="tilman" created="Sat, 21 Oct 2017 13:53:17 +0000"  >&lt;p&gt;On a second thought, I&apos;m not sure if this is a bug or a feature. Should both be merged by name, or a different tree constructed?&lt;/p&gt;</comment>
                            <comment id="16215477" author="tilman" created="Mon, 23 Oct 2017 17:19:23 +0000"  >&lt;p&gt;I had another look... &lt;/p&gt;

&lt;p&gt;1) Nothing is done if OCGs exist in both files, I thought there was a &quot;bad&quot; merge but no.&lt;br/&gt;
2) the good thing is, the elements in &lt;tt&gt;Root/OCProperties/OCGs&lt;/tt&gt; MUST be indirect objects. So if we just change the names then it applies to every usage.&lt;br/&gt;
3) the real work is the /D tree &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16247298" author="ronaldguyard" created="Fri, 10 Nov 2017 10:06:39 +0000"  >&lt;p&gt;Sorry about that, but this problem is a blocking problem for my commercial software, and many of my customers are asking me for information.&lt;/p&gt;

&lt;p&gt;Do you have any idea when this problem will be solved, or for which version?&lt;/p&gt;</comment>
                            <comment id="16247835" author="tilman" created="Fri, 10 Nov 2017 17:47:17 +0000"  >&lt;p&gt;Sorry, PDFBox bugs are like missing children. If they aren&apos;t found within 24 hours it&apos;s often real bad. So I can&apos;t tell you if this will be fixed in 3 months or in 3 years, nobody of the current regulars is an expert in OCGs. Try this product: &lt;a href=&quot;https://github.com/torakiki/sambox&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/torakiki/sambox&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;The sad thing is that our merge turns out to be rather basic... we have unsolved issues on OCG, destinations and structure trees.&lt;/p&gt;</comment>
                            <comment id="16748903" author="jira-bot" created="Tue, 22 Jan 2019 16:49:08 +0000"  >&lt;p&gt;Commit 1851835 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1851835&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1851835&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3973&quot; title=&quot;OCG Layers partly lost after merge&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3973&quot;&gt;&lt;del&gt;PDFBOX-3973&lt;/del&gt;&lt;/a&gt;: cloneMerge OCGs; dereference COSArray too when cloneMerging&lt;/p&gt;</comment>
                            <comment id="16748904" author="jira-bot" created="Tue, 22 Jan 2019 16:49:14 +0000"  >&lt;p&gt;Commit 1851836 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1851836&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1851836&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3973&quot; title=&quot;OCG Layers partly lost after merge&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3973&quot;&gt;&lt;del&gt;PDFBOX-3973&lt;/del&gt;&lt;/a&gt;: cloneMerge OCGs; dereference COSArray too when cloneMerging&lt;/p&gt;</comment>
                            <comment id="16748907" author="tilman" created="Tue, 22 Jan 2019 16:53:15 +0000"  >&lt;p&gt;Now the OCGs are concatenated, so OCGs from both files will coexist.&lt;/p&gt;</comment>
                            <comment id="16807580" author="blockenpfeffer" created="Tue, 2 Apr 2019 09:21:51 +0000"  >&lt;p&gt;This merge function is a great improvement. But now if I am having two Layers with the Same name merged in one file, how do I disable &lt;b&gt;all&lt;/b&gt; Layers with the same name? Will&#160; PDOptionalContentProperties method setGroupEnabled disable them all? And why can&apos;t I use the LayerUtility without Exception if I want to append a Form as Layer with the same name?&lt;/p&gt;

&lt;p&gt;I think this change needs to be reviewed, because it affects a lot of other Utils in their behaviour.&lt;/p&gt;</comment>
                            <comment id="16807938" author="tilman" created="Tue, 2 Apr 2019 17:26:12 +0000"  >&lt;p&gt;This may have been solved in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4496&quot; title=&quot;OCG enablement with string parameter is not well defined&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4496&quot;&gt;&lt;del&gt;PDFBOX-4496&lt;/del&gt;&lt;/a&gt; (not released yet). Please test with a snapshot and if you&apos;re not satisfied, then create a new issue and attach code / PDF to reproduce the problem.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12955815" name="pdf_layer_new-merged-good.pdf" size="194945" author="tilman" created="Tue, 22 Jan 2019 16:50:52 +0000"/>
                            <attachment id="12893414" name="pdf_layer_new-merged.pdf" size="291413" author="tilman" created="Sat, 21 Oct 2017 13:16:54 +0000"/>
                            <attachment id="12893415" name="pdf_layer_new.pdf" size="97476" author="tilman" created="Sat, 21 Oct 2017 13:16:52 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://stackoverflow.com/questions/46850515/pdfbox-merge-several-pdf-without-render-optional-content-group-visibility]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ljsn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>