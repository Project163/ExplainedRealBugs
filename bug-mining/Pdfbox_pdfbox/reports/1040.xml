<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:59:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2730] PDFSplit slow and keeps unused pages</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2730</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;PDF from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1298&quot; title=&quot;java.lang.IllegalArgumentException: fromIndex(0) &amp;gt; toIndex(-2)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1298&quot;&gt;&lt;del&gt;PDFBOX-1298&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
java -jar ~/pdf-box-svn/app/target/pdfbox-app-2.0.0-SNAPSHOT.jar PDFSplit document.pdf&lt;/p&gt;</description>
                <environment></environment>
        <key id="12785868">PDFBOX-2730</key>
            <summary>PDFSplit slow and keeps unused pages</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Mar 2015 12:32:31 +0000</created>
                <updated>Thu, 23 Jul 2015 06:35:44 +0000</updated>
                            <resolved>Tue, 31 Mar 2015 17:22:32 +0000</resolved>
                                    <version>1.8.9</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.10</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14382466" author="tilman" created="Thu, 26 Mar 2015 19:09:36 +0000"  >&lt;p&gt;It isn&apos;t a speed problem, it is worse: the split files are huge because they contain &quot;orphan pages&quot; and all their content. In the attached file, &quot;77 0 obj&quot; is not referenced anywhere.&lt;/p&gt;

&lt;p&gt;Just a thought: what happens if the page that is split has &quot;Kids&quot; or &quot;Parent&quot; elements?&lt;/p&gt;</comment>
                            <comment id="14382470" author="ssteiner1" created="Thu, 26 Mar 2015 19:12:58 +0000"  >&lt;p&gt;I fixed another pdf large split size by doing&lt;br/&gt;
annotation.getDictionary().removeItem(COSName.PARENT);&lt;/p&gt;</comment>
                            <comment id="14386931" author="tilman" created="Mon, 30 Mar 2015 16:21:19 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I fixed another pdf large split size by doing&lt;br/&gt;
annotation.getDictionary().removeItem(COSName.PARENT);&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yeah, you&apos;re closer to the cause of the problem than I was... some more research on the page 2 file:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;4 0 obj
&amp;lt;&amp;lt;
/Annots [5 0 R 6 0 R 7 0 R 8 0 R 9 0 R 10 0 R 11 0 R 12 0 R 13 0 R 14 0 R
15 0 R 16 0 R 17 0 R 18 0 R 19 0 R 20 0 R 21 0 R 22 0 R 23 0 R 24 0 R
25 0 R 26 0 R 27 0 R 28 0 R 29 0 R 30 0 R 31 0 R 32 0 R]
...
/Type /Page
&amp;gt;&amp;gt;
endobj
5 0 obj
&amp;lt;&amp;lt;
...
/P 36 0 R        &amp;lt;======================
...
/Type /Annot
&amp;gt;&amp;gt;
endobj
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Annotation object 5 claims object 36 as its parent. But object 36 is the wrong parent:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;36 0 obj
&amp;lt;&amp;lt;
/Annots [5 0 R 6 0 R 7 0 R 8 0 R 9 0 R 10 0 R 11 0 R 12 0 R 13 0 R 14 0 R
15 0 R 16 0 R 17 0 R 18 0 R 19 0 R 20 0 R 21 0 R 22 0 R 23 0 R 24 0 R
25 0 R 26 0 R 27 0 R 28 0 R 29 0 R 30 0 R 31 0 R 32 0 R]
...
/Parent 43 0 R
...
/Type /Page
&amp;gt;&amp;gt;
endobj

43 0 obj
&amp;lt;&amp;lt;
/Count 6
/Kids [46 0 R 36 0 R 47 0 R 48 0 R 49 0 R 50 0 R]
/Parent 51 0 R
/Type /Pages
&amp;gt;&amp;gt;
endobj
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This suggests that when splitting, the parent of an annotation isn&apos;t updated in Splitter.processAnnotations(). One could add&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (annotation.getPage != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
{
    annotation.setPage(imported);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;but I&apos;m reluctant to touch that: the structures are not cloned IIRC, so I&apos;m afraid to mess with the source page.&lt;/p&gt;

&lt;p&gt;And just deleting the parent isn&apos;t always right... from the spec:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;(Optional except as noted below; PDF 1.3; not used in FDF files) An indirect reference to the page object with which this annotation is associated.&lt;br/&gt;
This entry shall be present in screen annotations associated with rendition actions (PDF 1.5; see 12.5.6.18, &#8220;Screen Annotations&#8221; and 12.6.4.13, &#8220;Rendition Actions&#8221;).&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Over to you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt;. You probably know more, as you worked on this in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-785&quot; title=&quot;Spliting a PDF creates unnecessarily large files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-785&quot;&gt;&lt;del&gt;PDFBOX-785&lt;/del&gt;&lt;/a&gt; which is a similar issue.&lt;/p&gt;</comment>
                            <comment id="14387038" author="jira-bot" created="Mon, 30 Mar 2015 17:31:42 +0000"  >&lt;p&gt;Commit 1670150 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1670150&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1670150&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2730&quot; title=&quot;PDFSplit slow and keeps unused pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2730&quot;&gt;&lt;del&gt;PDFBOX-2730&lt;/del&gt;&lt;/a&gt;: remove page reference from annotation&lt;/p&gt;</comment>
                            <comment id="14387050" author="jira-bot" created="Mon, 30 Mar 2015 17:39:04 +0000"  >&lt;p&gt;Commit 1670154 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1670154&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1670154&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2730&quot; title=&quot;PDFSplit slow and keeps unused pages&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2730&quot;&gt;&lt;del&gt;PDFBOX-2730&lt;/del&gt;&lt;/a&gt;: remove page reference from annotation&lt;/p&gt;</comment>
                            <comment id="14387053" author="lehmi" created="Mon, 30 Mar 2015 17:39:44 +0000"  >&lt;p&gt;The page reference wasn&apos;t removed in any case. My change should do the trick.&lt;/p&gt;</comment>
                            <comment id="14387120" author="lehmi" created="Mon, 30 Mar 2015 18:14:37 +0000"  >&lt;p&gt;The first page is still too huge. It seems as if the wrong parent is the reason.&lt;/p&gt;</comment>
                            <comment id="14388752" author="tilman" created="Tue, 31 Mar 2015 16:07:04 +0000"  >&lt;p&gt;I have a big file, but this is because page 1 is made almost entirely of a huge jpeg image. I see nothing weird?!&lt;/p&gt;</comment>
                            <comment id="14388767" author="lehmi" created="Tue, 31 Mar 2015 16:14:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Yes, you&apos;re right, I&apos;ve just double checked and came to the same conclusion.&lt;/p&gt;

&lt;p&gt;So, we are done here, aren&apos;t we?&lt;/p&gt;</comment>
                            <comment id="14388842" author="tilman" created="Tue, 31 Mar 2015 17:02:41 +0000"  >&lt;p&gt;Yes!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12470449">PDFBOX-785</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12708445" name="document-1.pdf" size="1105238" author="tilman" created="Tue, 31 Mar 2015 16:07:04 +0000"/>
                            <attachment id="12707561" name="document-2.pdf" size="5550018" author="tilman" created="Thu, 26 Mar 2015 19:09:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27e8v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>