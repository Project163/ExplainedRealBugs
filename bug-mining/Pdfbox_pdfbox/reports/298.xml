<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1559] Error when using monospaced Fonts</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1559</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I&apos;m trying to load some Ubuntu fonts in a PDF but I&apos;m having problems with monospaced ones. &lt;/p&gt;

&lt;p&gt;An small example:&lt;br/&gt;
--------------------------------------------------------------------------------------------&lt;br/&gt;
public class PDFTest&lt;br/&gt;
{&lt;br/&gt;
    public static void main (String [] args) throws IOException&lt;br/&gt;
    {&lt;br/&gt;
        PDDocument document = null;&lt;br/&gt;
        try&lt;/p&gt;
        {
            document = new PDDocument ();
            PDPage page = new PDPage ();
            document.addPage (page);
            PDFont font = PDTrueTypeFont.loadTTF (document,
                                                  &quot;D:\\UbuntuMono-R.ttf&quot;);

            PDPageContentStream contentStream = new PDPageContentStream (
                                                                         document,
                                                                         page);
            contentStream.beginText ();
            contentStream.setFont (font, 12);
            contentStream.moveTextPositionByAmount (100, 700);
            contentStream.drawString (&quot;Hello World&quot;);
            contentStream.endText ();
            contentStream.close ();
            document.save (&quot;d:\\Hello World.pdf&quot;);
            document.close ();
        }
&lt;p&gt;        catch (Exception e)&lt;/p&gt;
        {
            e.printStackTrace ();
        }
&lt;p&gt;    }&lt;br/&gt;
}&lt;br/&gt;
--------------------------------------------------------------------------------------------&lt;br/&gt;
Output:&lt;br/&gt;
--------------------------------------------------------------------------------------------&lt;br/&gt;
java.lang.ArrayIndexOutOfBoundsException: 5&lt;br/&gt;
at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadDescriptorDictionary(PDTrueTypeFont.java:409)&lt;br/&gt;
    at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:201)&lt;br/&gt;
    at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:177)&lt;br/&gt;
    at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:158)&lt;br/&gt;
    at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:145)&lt;br/&gt;
    at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:132)&lt;br/&gt;
    at es.datisa.informes.test.PDF.PDFTest.main(PDFTest.java:21)&lt;br/&gt;
--------------------------------------------------------------------------------------------&lt;/p&gt;

&lt;p&gt;Trying with other monospaced (like DejaVuSansMono.ttf from windows fonts) shows the same error. If I try with another Ubuntu Font (not mono) everything is ok.&lt;/p&gt;</description>
                <environment>Windows XP, Helios Eclipse</environment>
        <key id="12641201">PDFBOX-1559</key>
            <summary>Error when using monospaced Fonts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="jccastilla">Juan Carlos Castilla</reporter>
                        <labels>
                    </labels>
                <created>Sat, 6 Apr 2013 15:01:41 +0000</created>
                <updated>Wed, 10 Apr 2013 17:10:40 +0000</updated>
                            <resolved>Sat, 6 Apr 2013 16:03:02 +0000</resolved>
                                    <version>1.8.0</version>
                                    <fixVersion>1.8.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13624432" author="msahyoun" created="Sat, 6 Apr 2013 15:06:24 +0000"  >&lt;p&gt;Hi, &lt;/p&gt;

&lt;p&gt;I can reproduce the issue using the fonts you mentioned and some additional monospaced fonts.&lt;/p&gt;

&lt;p&gt;BR&lt;br/&gt;
Maruan Sahyoun&lt;/p&gt;</comment>
                            <comment id="13624453" author="lehmi" created="Sat, 6 Apr 2013 16:03:02 +0000"  >&lt;p&gt;The mentioned monospaced font provides only oner widt valeu for all glyphs instead of an array with the same value for each glyph.&lt;br/&gt;
I fixed the issue in revision 1465266.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321617</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 33 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1jhp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>321962</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>