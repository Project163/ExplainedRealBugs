<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:02:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3204] JVM crashes on PDFRenderer.renderImageWithDPI</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3204</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When running the following Scala program on one of the attached PDFs:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.pdmodel.PDDocument
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.rendering.PDFRenderer
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.File

object FigureExtractorBatchCli {
  def main(args: Array[&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;]): Unit = {
    &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDFRenderer(PDDocument.load(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;problem.pdf&quot;&lt;/span&gt;))).renderImageWithDPI(0, 195)
  }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;a fatal error occurs with the JVM at &lt;a href=&quot;https://github.com/apache/pdfbox/blob/6f3417a1863b308a9ce48722c2da1d62f09c9a35/pdfbox/src/main/java/org/apache/pdfbox/rendering/PageDrawer.java#L578&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;the call to java.awt.Graphics2D.draw&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For &lt;b&gt;problem.pdf&lt;/b&gt; this only happens at a DPI &amp;gt;= 195. For &lt;b&gt;problem2.pdf&lt;/b&gt; it&apos;s DPI &amp;gt;= 5. For &lt;b&gt;problem3.pdf&lt;/b&gt; it happens at any DPI.&lt;/p&gt;</description>
                <environment>Oracle Java 8 update 71, on both Mac OS X Yosemite and Ubuntu 14.04 LTS. Does not happen on OpenJDK 8.</environment>
        <key id="12933196">PDFBOX-3204</key>
            <summary>JVM crashes on PDFRenderer.renderImageWithDPI</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="amosjyng">Amos Ng</reporter>
                        <labels>
                    </labels>
                <created>Thu, 21 Jan 2016 22:31:46 +0000</created>
                <updated>Thu, 17 Mar 2016 19:07:37 +0000</updated>
                            <resolved>Mon, 25 Jan 2016 20:57:26 +0000</resolved>
                                    <version>1.8.10</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.12</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15111568" author="tilman" created="Thu, 21 Jan 2016 23:00:56 +0000"  >&lt;p&gt;Happens on Oracle JDK7 on W7 too with file problem3.pdf. It also happens with PDFBox 1.8 with file problem2.pdf when opening it with PDFReader.&lt;/p&gt;</comment>
                            <comment id="15111576" author="amosjyng" created="Thu, 21 Jan 2016 23:10:22 +0000"  >&lt;p&gt;I&apos;ll add 1.8 to affected versions then&lt;/p&gt;</comment>
                            <comment id="15112632" author="lehmi" created="Fri, 22 Jan 2016 16:32:37 +0000"  >&lt;p&gt;It&apos;s again the dash array and it&apos;s very small values, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2373&quot; title=&quot;Rendering at 72 dpi crashes java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2373&quot;&gt;&lt;del&gt;PDFBOX-2373&lt;/del&gt;&lt;/a&gt;. It doesn&apos;t crash any more if I increase the minimum value from 0.016 to 0.035&lt;/p&gt;</comment>
                            <comment id="15113352" author="amosjyng" created="Fri, 22 Jan 2016 23:45:08 +0000"  >&lt;p&gt;Would you be ok with raising the threshold then?&lt;/p&gt;</comment>
                            <comment id="15113756" author="jira-bot" created="Sat, 23 Jan 2016 14:04:57 +0000"  >&lt;p&gt;Commit 1726398 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1726398&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1726398&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3204&quot; title=&quot;JVM crashes on PDFRenderer.renderImageWithDPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3204&quot;&gt;&lt;del&gt;PDFBOX-3204&lt;/del&gt;&lt;/a&gt;: adjust minimum dash line width once again to avoid JVM crash&lt;/p&gt;</comment>
                            <comment id="15113758" author="tilman" created="Sat, 23 Jan 2016 14:06:11 +0000"  >&lt;p&gt;Slightly changed files:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;gs-bugzilla694310.pdf&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2373&quot; title=&quot;Rendering at 72 dpi crashes java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2373&quot;&gt;&lt;del&gt;PDFBOX-2373&lt;/del&gt;&lt;/a&gt;-228597-p19-JVMcrash.pdf&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15113759" author="tilman" created="Sat, 23 Jan 2016 14:07:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amosjyng&quot; class=&quot;user-hover&quot; rel=&quot;amosjyng&quot;&gt;amosjyng&lt;/a&gt; please retest your files with the current SNAPSHOT (may take a few hours before it&apos;s there) and give feedback.&lt;/p&gt;

&lt;p&gt;Btw how did you get so many crashes? Did you test with a huge amount of files?&lt;/p&gt;</comment>
                            <comment id="15115787" author="dirkgr" created="Mon, 25 Jan 2016 19:09:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=amosjyng&quot; class=&quot;user-hover&quot; rel=&quot;amosjyng&quot;&gt;amosjyng&lt;/a&gt; works with me on semanticscholar.org. I would guess he ran it on 3 million papers.&lt;/p&gt;</comment>
                            <comment id="15115975" author="amosjyng" created="Mon, 25 Jan 2016 20:32:06 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, it works now!&lt;/p&gt;

&lt;p&gt;I had over 2 million papers to run PDFBox on. It crashed on a handful. I may soon have yet more to run on. I&apos;ll let you know if this happens again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;By the way, I noticed in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2373&quot; title=&quot;Rendering at 72 dpi crashes java&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2373&quot;&gt;&lt;del&gt;PDFBOX-2373&lt;/del&gt;&lt;/a&gt; that you said there was already a bug report at Oracle. Do you mind including a link to said bug report? Just curious what happened there.&lt;/p&gt;</comment>
                            <comment id="15115980" author="jahewson" created="Mon, 25 Jan 2016 20:33:58 +0000"  >&lt;p&gt;Cool. We could add you to our &lt;a href=&quot;http://pdfbox.apache.org/references.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Projects&lt;/a&gt; page if you like?&lt;/p&gt;</comment>
                            <comment id="15115984" author="jahewson" created="Mon, 25 Jan 2016 20:36:30 +0000"  >&lt;p&gt;This is the &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-6996336&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;bug report&lt;/a&gt;, it&apos;s from 2010, no sign of Oracle fixing it. It&apos;s great to have such a large-scale user of PDFBox - we&apos;re here to help!&lt;/p&gt;</comment>
                            <comment id="15115987" author="tilman" created="Mon, 25 Jan 2016 20:38:00 +0000"  >&lt;p&gt;John mentioned it:&lt;br/&gt;
&lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-6996336&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-6996336&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Of course nothing happened. The bug is already 5 years old.&lt;/p&gt;</comment>
                            <comment id="15116016" author="jira-bot" created="Mon, 25 Jan 2016 20:54:02 +0000"  >&lt;p&gt;Commit 1726688 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1726688&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1726688&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3204&quot; title=&quot;JVM crashes on PDFRenderer.renderImageWithDPI&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3204&quot;&gt;&lt;del&gt;PDFBOX-3204&lt;/del&gt;&lt;/a&gt;: adjust minimum dash line width once again to avoid JVM crash&lt;/p&gt;</comment>
                            <comment id="15116025" author="tilman" created="Mon, 25 Jan 2016 20:56:57 +0000"  >&lt;p&gt;Keep the reports coming. Even if it hurts &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;IOExceptions are sometimes OK, but JVM crashes and unchecked exceptions (e.g. nullpointer, classcast) are a no-no.&lt;/p&gt;</comment>
                            <comment id="15116095" author="dirkgr" created="Mon, 25 Jan 2016 21:29:15 +0000"  >&lt;p&gt;Yeah, no problem. Thanks!&lt;/p&gt;</comment>
                            <comment id="15116285" author="amosjyng" created="Mon, 25 Jan 2016 23:35:36 +0000"  >&lt;p&gt;Wow, that&apos;s pretty sad... Not even a discussion.&lt;/p&gt;

&lt;p&gt;Is there some way to remind Oracle JDK devs that this bug has been affecting every single version of their JVM since 6?!&lt;/p&gt;</comment>
                            <comment id="15116756" author="tilman" created="Tue, 26 Jan 2016 06:01:24 +0000"  >&lt;p&gt;No idea how. Oracle isn&apos;t a tech company, it is a sales, lawsuits and sailing company, so I doubt that they care unless it would influence one of these three items.&lt;/p&gt;</comment>
                            <comment id="15117701" author="jahewson" created="Tue, 26 Jan 2016 18:34:43 +0000"  >&lt;p&gt;The good news is that there&apos;s always something clever we can do as a workaround, even when it looks hopeless.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12743014">PDFBOX-2373</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12855378">PDFBOX-2929</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12783693" name="problem.pdf" size="126864" author="amosjyng" created="Thu, 21 Jan 2016 22:42:43 +0000"/>
                            <attachment id="12783695" name="problem2.pdf" size="430831" author="amosjyng" created="Thu, 21 Jan 2016 22:46:50 +0000"/>
                            <attachment id="12783696" name="problem3.pdf" size="155977" author="amosjyng" created="Thu, 21 Jan 2016 22:53:15 +0000"/>
                            <attachment id="12783849" name="problem3_reduced.pdf" size="6301" author="tilman" created="Fri, 22 Jan 2016 16:09:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 42 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2rtiv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>