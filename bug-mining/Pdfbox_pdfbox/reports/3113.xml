<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:15:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-6080] Unknown code in Huffman RLE stream</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-6080</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;As reported in the users mailing list&lt;/p&gt;

&lt;p&gt;Unknown code in Huffman RLE stream&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.CCITTFaxDecoderStream.decodeRun(CCITTFaxDecoderStream.java:384)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.CCITTFaxDecoderStream.decode1D(CCITTFaxDecoderStream.java:164)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.CCITTFaxDecoderStream.decodeRowType4(CCITTFaxDecoderStream.java:293)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.CCITTFaxDecoderStream.decodeRow(CCITTFaxDecoderStream.java:313)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.CCITTFaxDecoderStream.fetch(CCITTFaxDecoderStream.java:131)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.CCITTFaxDecoderStream.read(CCITTFaxDecoderStream.java:452)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.CCITTFaxFilter.readFromDecoderStream(CCITTFaxFilter.java:131)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.CCITTFaxFilter.decode(CCITTFaxFilter.java:109)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.Filter.decode(Filter.java:97)&lt;br/&gt;
&#160; &#160; at org.apache.pdfbox.filter.Filter.decode(Filter.java:285)&lt;/p&gt;

&lt;p&gt;It worked in 1.8, 2.0.22 (released 19.12.2020)&#160;and stopped working in 2.0.23 (released 18.3.2021). It has never worked in 3.0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13630220">PDFBOX-6080</key>
            <summary>Unknown code in Huffman RLE stream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Mon, 29 Sep 2025 11:04:55 +0000</created>
                <updated>Thu, 16 Oct 2025 20:40:59 +0000</updated>
                            <resolved>Wed, 1 Oct 2025 10:17:13 +0000</resolved>
                                    <version>2.0.34</version>
                    <version>3.0.5 PDFBox</version>
                                    <fixVersion>2.0.36</fixVersion>
                    <fixVersion>3.0.6 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="18023540" author="tilman" created="Mon, 29 Sep 2025 12:27:06 +0000"  >&lt;p&gt;Brute forcing COMPRESSION_CCITT_MODIFIED_HUFFMAN_RLE makes it work?!&lt;/p&gt;

&lt;p&gt;The file has many 00000000 00000001 bytes, so these would be considered EOL despite that /EndOfLine is false (that entry is ignored by us)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13078601/13078601_image-2025-09-29-16-00-37-246.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="18023604" author="tilman" created="Mon, 29 Sep 2025 18:26:34 +0000"  >&lt;p&gt;Proposed change: in CCITTFaxFilter, add below &quot;if (k == 0)&quot;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (decodeParms.containsKey(COSName.END_OF_LINE))
{
&#160; &#160; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; hasEndOfLine = decodeParms.getBoolean(COSName.END_OF_LINE, &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;);
&#160; &#160; type = hasEndOfLine ? TIFFExtension.COMPRESSION_CCITT_T4 : TIFFExtension.COMPRESSION_CCITT_MODIFIED_HUFFMAN_RLE;
}
&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
{
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and add the existing segment into the else part. This means: if the /EndOfLine value exists, follow it. If it doesn&apos;t exist, use the EOL detection.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=Schmidor&quot; class=&quot;user-hover&quot; rel=&quot;Schmidor&quot;&gt;Schmidor&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="18024013" author="jira-bot" created="Wed, 1 Oct 2025 10:15:00 +0000"  >&lt;p&gt;Commit 1928878 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1928878&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1928878&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6080&quot; title=&quot;Unknown code in Huffman RLE stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6080&quot;&gt;&lt;del&gt;PDFBOX-6080&lt;/del&gt;&lt;/a&gt;: follow /EndOfLine setting if it exists, use heuristics from twelvemonkeys if not&lt;/p&gt;</comment>
                            <comment id="18024014" author="jira-bot" created="Wed, 1 Oct 2025 10:15:03 +0000"  >&lt;p&gt;Commit 1928879 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1928879&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1928879&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6080&quot; title=&quot;Unknown code in Huffman RLE stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6080&quot;&gt;&lt;del&gt;PDFBOX-6080&lt;/del&gt;&lt;/a&gt;: follow /EndOfLine setting if it exists, use heuristics from twelvemonkeys if not&lt;/p&gt;</comment>
                            <comment id="18024015" author="jira-bot" created="Wed, 1 Oct 2025 10:15:08 +0000"  >&lt;p&gt;Commit 1928880 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1928880&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1928880&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-6080&quot; title=&quot;Unknown code in Huffman RLE stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-6080&quot;&gt;&lt;del&gt;PDFBOX-6080&lt;/del&gt;&lt;/a&gt;: follow /EndOfLine setting if it exists, use heuristics from twelvemonkeys if not&lt;/p&gt;</comment>
                            <comment id="18024994" author="schmidor" created="Mon, 6 Oct 2025 11:32:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Sorry for the late response.&lt;/p&gt;

&lt;p&gt;The TwelveMonkey implementation skips EOL codes in RLE, so thats why reading a Group 3 with k==0 as RLE works.&lt;/p&gt;

&lt;p&gt;RLE should not have EOL codes, those are only valid and necessary in Group 3. It seems like theres a leading zero byte missing, if the hex view is complete.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13347918">PDFBOX-5057</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13078596" name="PDFBOX-6080.pdf" size="39218" author="tilman" created="Mon, 29 Sep 2025 11:05:08 +0000"/>
                            <attachment id="13078601" name="image-2025-09-29-16-00-37-246.png" size="35382" author="tilman" created="Mon, 29 Sep 2025 14:00:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://lists.apache.org/thread/xbq4q23wcx7yvkvvlnd53v3nxxhpr5ob]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1xx0w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>