<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:05:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3684] PDFBox StackOverflowError on malformed files when merging</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3684</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I supply 2 PDF files (&lt;em&gt;certificate-of-analysis.pdf&lt;/em&gt; and &lt;em&gt;questionario-sulle.pdf&lt;/em&gt;) which cause an exception if i try to merge them using &lt;tt&gt;PDFMergerUtility&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I&apos;ve implemented code examples which run to the exceptions:&lt;br/&gt;
&lt;a href=&quot;https://bitbucket.org/radistao/pdfbox-merge-bug/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bitbucket.org/radistao/pdfbox-merge-bug/&lt;/a&gt;&lt;br/&gt;
or just take the same sources from the attached &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852256/radistao-pdfbox-merge-bug.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;radistao-pdfbox-merge-bug.zip&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Those 2 files are included into the repository (&lt;tt&gt;test/resources/&lt;/tt&gt;).&lt;/p&gt;

&lt;p&gt;Error stack trace for &lt;em&gt;certificate-of-analysis.pdf&lt;/em&gt;:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;using &lt;tt&gt;addSource()&lt;/tt&gt;:
   &lt;blockquote&gt;&lt;p&gt;java.lang.StackOverflowError&lt;br/&gt;
	at java.util.HashMap.hash(HashMap.java:338)&lt;br/&gt;
	at java.util.HashMap.containsKey(HashMap.java:595)&lt;br/&gt;
	at java.util.HashSet.contains(HashSet.java:203)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.addObjectToWrite(COSWriter.java:472)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromArray(COSWriter.java:927)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSArray.accept(COSArray.java:515)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDictionary(COSWriter.java:1061)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDictionary(COSWriter.java:1020)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDictionary(COSWriter.java:1020)&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;using &lt;tt&gt;appendDocument()&lt;/tt&gt;
&lt;blockquote&gt;&lt;p&gt;org.apache.pdfbox.cos.COSDocument finalize&lt;br/&gt;
WARNING: Warning: You did not close a PDF Document&lt;br/&gt;
org.apache.pdfbox.cos.COSDocument finalize&lt;br/&gt;
WARNING: Warning: You did not close a PDF Document&lt;br/&gt;
org.apache.pdfbox.cos.COSDocument finalize&lt;br/&gt;
WARNING: Warning: You did not close a PDF Document&lt;br/&gt;
org.apache.pdfbox.cos.COSDocument finalize&lt;br/&gt;
WARNING: Warning: You did not close a PDF Document&lt;br/&gt;
org.apache.pdfbox.cos.COSDocument finalize&lt;br/&gt;
WARNING: Warning: You did not close a PDF Document&lt;/p&gt;

&lt;p&gt;java.lang.StackOverflowError&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.getObjectKey(COSWriter.java:892)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.writeReference(COSWriter.java:1175)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromArray(COSWriter.java:928)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSArray.accept(COSArray.java:515)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDictionary(COSWriter.java:1061)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDictionary(COSWriter.java:1020)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDictionary(COSWriter.java:1020)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDictionary(COSWriter.java:1020)&lt;br/&gt;
	at org.apache.pdfbox.pdfwriter.COSWriter.visitFromDictionary(COSWriter.java:1020)&lt;/p&gt;&lt;/blockquote&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;Note: in version 1.8.13 (see &lt;a href=&quot;https://bitbucket.org/radistao/pdfbox-merge-bug/branch/test/v1.8.13&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bitbucket.org/radistao/pdfbox-merge-bug/branch/test/v1.8.13&lt;/a&gt;) file &lt;em&gt;questionario-sulle.pdf&lt;/em&gt; merged fine (see attached merge result &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852259/v1.8.13-PdfMergerAddSourceTest-questionario-sulle.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;v1.8.13-PdfMergerAddSourceTest-questionario-sulle.pdf&lt;/a&gt;), but with just warnings:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;org.apache.pdfbox.pdfparser.PDFParser parseObject&lt;br/&gt;
WARNING: expected=&apos;%%EOF&apos; actual=&apos;&apos;&lt;br/&gt;
org.apache.pdfbox.pdfparser.XrefTrailerResolver setStartxref&lt;br/&gt;
WARNING: Did not found XRef object at specified startxref position 0&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13042414">PDFBOX-3684</key>
            <summary>PDFBox StackOverflowError on malformed files when merging</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="radistao">Andrii Radistao</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Feb 2017 15:47:19 +0000</created>
                <updated>Sat, 25 Mar 2017 18:12:08 +0000</updated>
                            <resolved>Sun, 19 Feb 2017 14:27:23 +0000</resolved>
                                    <version>2.0.4</version>
                                    <fixVersion>2.0.5</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Utilities</component>
                    <component>Writing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15862838" author="tilman" created="Sun, 12 Feb 2017 15:52:00 +0000"  >&lt;p&gt;Please include the exception + stack trace. The issue should contain as much as possible.&lt;/p&gt;</comment>
                            <comment id="15862851" author="msahyoun" created="Sun, 12 Feb 2017 16:03:41 +0000"  >&lt;p&gt;The error message is quite clear &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Error: can&apos;t merge source document containing dynamic XFA form content.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Background: a PDF containing a dynamic XFA content will be rendered at runtime using Adobe Reader, Acrobat or the software supporting that. PDF is only a shell containing a form description. There are no predefined visual PDF objects to represent the page. You&apos;d need to render the XFA into a regular PDF. After that you can merge it.&lt;/p&gt;

&lt;p&gt;If you try to merge the documents using Adobe Acrobat you&apos;ll get a similar result (although not an IOException - but the file is skipped).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;So the PDFBox behavior in this case is intended!&lt;/b&gt;&lt;/p&gt;</comment>
                            <comment id="15862854" author="radistao" created="Sun, 12 Feb 2017 16:10:42 +0000"  >&lt;blockquote&gt;&lt;p&gt;can&apos;t merge source document containing dynamic XFA form content.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;This is weird because in &lt;em&gt;v1.8.13&lt;/em&gt; it is merged successfully (using &lt;tt&gt;PDFMergerUtility#addSource(InputStream)&lt;/tt&gt;)&lt;/p&gt;</comment>
                            <comment id="15862857" author="msahyoun" created="Sun, 12 Feb 2017 16:18:39 +0000"  >&lt;p&gt;Could you please add the merged document to this issue if you believe it was correct. As outlined above you can&apos;t merge an XFA based PDF. 1.8.x wasn&apos;t able to do that. We improved the handling in 2.x to make it clear that you can&apos;t merge it. 1.8.x might have been able to generate a PDF but this wouldn&apos;t be a correct one. And doing a quick test here 1.8.13 will have an &lt;tt&gt;java.lang.StackOverflowError&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="15862859" author="radistao" created="Sun, 12 Feb 2017 16:20:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Please include the exception + stack trace. The issue should contain as much as possible.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;added stack trace of &lt;em&gt;certificate-of-analysis.pdf&lt;/em&gt; to the description. &lt;/p&gt;

&lt;p&gt;About &lt;em&gt;questionario-sulle.pdf&lt;/em&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; answered already (still not clear why it works in v1.8.13 using &lt;tt&gt;PDFMergerUtility#addSource(InputStream)&lt;/tt&gt;)&lt;/p&gt;</comment>
                            <comment id="15862866" author="radistao" created="Sun, 12 Feb 2017 16:31:11 +0000"  >&lt;p&gt;questionario-sulle.pdf is merged successfully in v1.8.13 using addSource()&lt;/p&gt;</comment>
                            <comment id="15862868" author="radistao" created="Sun, 12 Feb 2017 16:36:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Could you please add the merged document to this issue if you believe it was correct. &lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;i&apos;ve updated the issue description: attached the file &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852259/v1.8.13-PdfMergerAddSourceTest-questionario-sulle.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;v1.8.13-PdfMergerAddSourceTest-questionario-sulle.pdf&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Also you may run the same test for pdfbox version 1.8.13 from the new branch in my repo:&lt;br/&gt;
&lt;a href=&quot;https://bitbucket.org/radistao/pdfbox-merge-bug/branch/test/v1.8.13&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bitbucket.org/radistao/pdfbox-merge-bug/branch/test/v1.8.13&lt;/a&gt; where &lt;tt&gt;PdfMergerAddSourceTest#mergeBad_QuestionarioSulle&lt;/tt&gt;  expected to be failed, but it is not.&lt;/p&gt;</comment>
                            <comment id="15862869" author="msahyoun" created="Sun, 12 Feb 2017 16:36:49 +0000"  >&lt;p&gt;the merged result &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852259/12852259_v1.8.13-PdfMergerAddSourceTest-questionario-sulle.pdf&quot; title=&quot;v1.8.13-PdfMergerAddSourceTest-questionario-sulle.pdf attached to PDFBOX-3684&quot;&gt;v1.8.13-PdfMergerAddSourceTest-questionario-sulle.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; doesn&apos;t contain the page from &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852254/12852254_certificate-of-analysis.pdf&quot; title=&quot;certificate-of-analysis.pdf attached to PDFBOX-3684&quot;&gt;certificate-of-analysis.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;. It has only 2 pages where it should have 3.&lt;/p&gt;</comment>
                            <comment id="15862871" author="radistao" created="Sun, 12 Feb 2017 16:38:49 +0000"  >&lt;p&gt;but this is a test for &lt;em&gt;questionario-sulle.pdf&lt;/em&gt; file, not &lt;em&gt;certificate-of-analysis.pdf&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="15862872" author="radistao" created="Sun, 12 Feb 2017 16:39:57 +0000"  >&lt;p&gt;&lt;tt&gt;PdfMergerAddSourceTest#mergeBad_QuestionarioSulle()&lt;/tt&gt;:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;success in v1.8.13&lt;/li&gt;
	&lt;li&gt;fails in v2.0.4&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15862873" author="msahyoun" created="Sun, 12 Feb 2017 16:47:36 +0000"  >&lt;p&gt;So you are merging questionario-sulle.pdf with nothing? What happens if you really merge both documents as you wrote when starting the thread? What would be the expected result?&lt;/p&gt;

&lt;p&gt;What we could do is improve PDFBox so that if you merge documents and there is a single source and the source is an XFA that we don&apos;t throw an Exception. Is that what you are looking for?&lt;/p&gt;</comment>
                            <comment id="15862876" author="radistao" created="Sun, 12 Feb 2017 17:02:51 +0000"  >&lt;p&gt;I&apos;ve attached &quot;bad&quot; &lt;em&gt;questionario-sulle&lt;/em&gt; merged with &quot;good&quot; &lt;em&gt;SDE&lt;/em&gt; using v1.8.13:&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12852260/questionario-sulle%2BSDE.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;&lt;em&gt;questionario-sulle+SDE.pdf&lt;/em&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;see this commit:&lt;br/&gt;
&lt;a href=&quot;https://bitbucket.org/radistao/pdfbox-merge-bug/commits/3b409c319eefc007ff68c2a269420969c921164f?at=test/v1.8.13&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bitbucket.org/radistao/pdfbox-merge-bug/commits/3b409c319eefc007ff68c2a269420969c921164f?at=test/v1.8.13&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15862880" author="msahyoun" created="Sun, 12 Feb 2017 17:17:25 +0000"  >&lt;p&gt;fine - and does it also work with other files? Try to merge these with Acrobat and the XFA based PDF will be skipped. For a reason. I&apos;ve tested 1.8.13 with some other XFA based files to merge with SDE.pdf - and now SDE.pdf is no longer visible.  So we made a decision to handle that differently in PDFBox 2.x as you will not be able to get a consistent result.&lt;/p&gt;</comment>
                            <comment id="15862901" author="radistao" created="Sun, 12 Feb 2017 18:23:28 +0000"  >&lt;p&gt;ok, then i just misunderstood the problem.&lt;/p&gt;

&lt;p&gt;let&apos;s skip &lt;em&gt;questionario-sulle.pdf&lt;/em&gt; and concentrate only on &lt;em&gt;certificate-of-analysis.pdf&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="15863021" author="radistao" created="Sun, 12 Feb 2017 22:56:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt; So we made a decision to handle that differently in PDFBox 2.x as you will not be able to get a consistent result.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;So, if it is a &quot;standard expected&quot; error type, could you create some custom exception for it? In this case we may handle it as expected behavior on such files files.&lt;br/&gt;
Now it is just a &lt;tt&gt;IOException&lt;/tt&gt; with custom message &lt;em&gt;can&apos;t merge source document containing dynamic XFA form content&lt;/em&gt; and it is hard to distinct it from other IOExceptions, unless match a the message text, which is not a good idea.&lt;/p&gt;</comment>
                            <comment id="15873235" author="radistao" created="Sat, 18 Feb 2017 16:22:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt;&lt;br/&gt;
Just to clarify: do you see the problem with &lt;em&gt;certificate-of-analysis.pdf&lt;/em&gt; which causes &lt;em&gt;StackOverflowException&lt;/em&gt;? Should i update the description to distinct a and avoid the confusion with XFA in &lt;em&gt;questionario-sulle.pdf&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="15873614" author="tilman" created="Sun, 19 Feb 2017 10:21:49 +0000"  >&lt;p&gt;I was mostly lost here. That&apos;s what you get when putting two problems in one issue.&lt;/p&gt;

&lt;p&gt;Anyway, I looked again and was able to reproduce the stack overflow by merging two certificate-of-analysis.pdf. The cause is that the resource dictionary has a &quot;Kids&quot; entry that has one element, which is the page itself. And the resource dictionary has also an entry &quot;Resources&quot;, which is itself.&lt;/p&gt;</comment>
                            <comment id="15873634" author="jira-bot" created="Sun, 19 Feb 2017 10:50:39 +0000"  >&lt;p&gt;Commit 1783622 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1783622&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1783622&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3684&quot; title=&quot;PDFBox StackOverflowError on malformed files when merging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3684&quot;&gt;&lt;del&gt;PDFBOX-3684&lt;/del&gt;&lt;/a&gt;: avoid setDirect on dictionary that references itself&lt;/p&gt;</comment>
                            <comment id="15873635" author="jira-bot" created="Sun, 19 Feb 2017 10:50:44 +0000"  >&lt;p&gt;Commit 1783623 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1783623&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1783623&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3684&quot; title=&quot;PDFBox StackOverflowError on malformed files when merging&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3684&quot;&gt;&lt;del&gt;PDFBOX-3684&lt;/del&gt;&lt;/a&gt;: avoid setDirect on dictionary that references itself&lt;/p&gt;</comment>
                            <comment id="15873636" author="tilman" created="Sun, 19 Feb 2017 10:51:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=radistao&quot; class=&quot;user-hover&quot; rel=&quot;radistao&quot;&gt;radistao&lt;/a&gt; please try again with a snapshot (196 or higher)&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.5-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.5-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15873702" author="radistao" created="Sun, 19 Feb 2017 13:32:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&lt;br/&gt;
sorry for the mess in the ticket.&lt;/p&gt;

&lt;p&gt;i&apos;ve checked &lt;em&gt;2.0.5-20170219.105958-197&lt;/em&gt; snapshot - looks like it works fine. thanks.&lt;/p&gt;

&lt;p&gt;Still have 2 questions before the ticket closing:&lt;br/&gt;
1) &lt;tt&gt;IOException&lt;/tt&gt; like in &lt;em&gt;questionario-sulle.pdf&lt;/em&gt; with message in &lt;em&gt;can&apos;t merge source document containing dynamic XFA form content&lt;/em&gt; - could we distinct somehow the these kind of &quot;expected&quot; exceptions from other IOExceptions (like file not found or permission denied)? I mean to create a custom exception type, like &lt;em&gt;BadPdfContentException&lt;/em&gt;. Because in case of such &quot;expected&quot; issues in PDF we should notify a customer that the problem is exactly in PDF content, but not in a file as a part of file system. May be this question should be moved to separate thread/discussion&lt;/p&gt;

&lt;p&gt;2) i have one file which is processed wrong in 1.8.13 version, but works fine in 2.0.4 version (the content of destination PDF is mixed, one of two elements lost it&apos;s own content an has a content from another box). should i supply a new issue for 1.8 version, or this version won&apos;t be supported any more? (i wrote this question to the mailing list, but guess, i did some mistake like used wrong e-mail address cos there is no any answer)&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15873714" author="tilman" created="Sun, 19 Feb 2017 14:26:08 +0000"  >&lt;p&gt;Re 1) I&apos;m kindof neutral about this. One could use a new Exception type, an IllegalArgumentException, or just change the documentation so that people check for XFA. It reminds me of the problems of showText where people are irritated that they get an IllegalArgumentException when using a character that has no glyph in a font.&lt;/p&gt;

&lt;p&gt;Re 2) The 1.8 version is &quot;poorly supported&quot;, i.e. we only fix things that are very easy to do and yours does not sound like it. You should really update to 2.0.&lt;/p&gt;

&lt;p&gt;Setting to resolved. Thanks for the feedback. Please don&apos;t close the issue. You can still comment.&lt;/p&gt;</comment>
                            <comment id="15873720" author="radistao" created="Sun, 19 Feb 2017 14:49:24 +0000"  >&lt;p&gt;clear. thanks.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12852254" name="certificate-of-analysis.pdf" size="19554" author="radistao" created="Sun, 12 Feb 2017 15:47:19 +0000"/>
                            <attachment id="12852260" name="questionario-sulle+SDE.pdf" size="794431" author="radistao" created="Sun, 12 Feb 2017 17:02:51 +0000"/>
                            <attachment id="12852255" name="questionario-sulle.pdf" size="383274" author="radistao" created="Sun, 12 Feb 2017 15:47:19 +0000"/>
                            <attachment id="12852256" name="radistao-pdfbox-merge-bug.zip" size="600354" author="radistao" created="Sun, 12 Feb 2017 15:47:19 +0000"/>
                            <attachment id="12852259" name="v1.8.13-PdfMergerAddSourceTest-questionario-sulle.pdf" size="633525" author="radistao" created="Sun, 12 Feb 2017 16:31:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 38 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39yvz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>