<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:13:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5471] NPE when Transparency Group is missing the BBox</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5471</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Some files contain transparency groups with no &lt;tt&gt;BBox&lt;/tt&gt;. When this happens, PDFBox rendering code throws a &lt;tt&gt;NullPointerException&lt;/tt&gt; in the &lt;tt&gt;TransparencyGroup&lt;/tt&gt; constructor:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// transform the bbox
&lt;/span&gt;GeneralPath transformedBox = form.getBBox().transform(transform);
                                  \_______/ 
                               NPE when its &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following is a screenshot taken from &lt;tt&gt;pdf-debugger&lt;/tt&gt; when trying to open a file with has this issue:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13046200/13046200_image-2022-07-04-14-55-28-527.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The stack trace:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.RuntimeException: java.util.concurrent.ExecutionException: java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.pdfbox.pdmodel.common.PDRectangle.transform(org.apache.pdfbox.util.Matrix)&quot;&lt;/span&gt; because the &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value of &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.pdfbox.pdmodel.graphics.form.PDTransparencyGroup.getBBox()&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&#160; &#160; org.apache.pdfbox.debugger.pagepane.PagePane$RenderWorker.done(PagePane.java:485)
&#160; &#160; java.desktop/sun.swing.AccumulativeRunnable.run(AccumulativeRunnable.java:112)
&#160; &#160; java.base/java.security.AccessController.doPrivileged(AccessController.java:391)
&#160; &#160; java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)
Caused by: java.util.concurrent.ExecutionException: java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.pdfbox.pdmodel.common.PDRectangle.transform(org.apache.pdfbox.util.Matrix)&quot;&lt;/span&gt; because the &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value of &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.pdfbox.pdmodel.graphics.form.PDTransparencyGroup.getBBox()&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&#160; &#160; org.apache.pdfbox.debugger.pagepane.PagePane$RenderWorker.done(PagePane.java:465)
&#160; &#160; java.desktop/sun.swing.AccumulativeRunnable.run(AccumulativeRunnable.java:112)
&#160; &#160; java.base/java.security.AccessController.doPrivileged(AccessController.java:391)
&#160; &#160; java.base/java.security.ProtectionDomain$JavaSecurityAccessImpl.doIntersectionPrivilege(ProtectionDomain.java:85)
Caused by: java.lang.NullPointerException: Cannot invoke &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.pdfbox.pdmodel.common.PDRectangle.transform(org.apache.pdfbox.util.Matrix)&quot;&lt;/span&gt; because the &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; value of &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.pdfbox.pdmodel.graphics.form.PDTransparencyGroup.getBBox()&quot;&lt;/span&gt; is &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&#160; &#160; org.apache.pdfbox.rendering.PageDrawer$TransparencyGroup.&amp;lt;init&amp;gt;(PageDrawer.java:1672)
&#160; &#160; org.apache.pdfbox.rendering.PageDrawer$TransparencyGroup.&amp;lt;init&amp;gt;(PageDrawer.java:1637)
&#160; &#160; org.apache.pdfbox.rendering.PageDrawer.showTransparencyGroupOnGraphics(PageDrawer.java:1575)
&#160; &#160; org.apache.pdfbox.rendering.PageDrawer.showTransparencyGroup(PageDrawer.java:1553)
&#160; &#160; org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.graphics.DrawObject.process(DrawObject.java:81)
&#160; &#160; org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:966)
&#160; &#160; org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:541)
&#160; &#160; org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:516)
&#160; &#160; org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:155)
&#160; &#160; org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:279)
&#160; &#160; org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:355)
&#160; &#160; org.apache.pdfbox.debugger.pagepane.PagePane$RenderWorker.doInBackground(PagePane.java:453)
&#160; &#160; org.apache.pdfbox.debugger.pagepane.PagePane$RenderWorker.doInBackground(PagePane.java:435)
&#160; &#160; java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.run(&lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;.java:832)
 &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The following is an example file that reproduces this problem:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13046199/13046199_getbbox-null.pdf&quot; title=&quot;getbbox-null.pdf attached to PDFBOX-5471&quot;&gt;getbbox-null.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;A potential fix PR: &lt;a href=&quot;https://github.com/apache/pdfbox/pull/145&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/pdfbox/pull/145&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13469858">PDFBOX-5471</key>
            <summary>NPE when Transparency Group is missing the BBox</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="henry-canva">Henry Iguaro</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Jul 2022 05:10:17 +0000</created>
                <updated>Thu, 29 Sep 2022 17:57:15 +0000</updated>
                            <resolved>Mon, 4 Jul 2022 17:13:29 +0000</resolved>
                                    <version>2.0.26</version>
                                    <fixVersion>2.0.27</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17562030" author="jira-bot" created="Mon, 4 Jul 2022 06:43:13 +0000"  >&lt;p&gt;Commit 1902447 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1902447&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1902447&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5471&quot; title=&quot;NPE when Transparency Group is missing the BBox&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5471&quot;&gt;&lt;del&gt;PDFBOX-5471&lt;/del&gt;&lt;/a&gt;: avoid NPE, as suggested by Henry Iguaro; closes #145&lt;/p&gt;</comment>
                            <comment id="17562031" author="jira-bot" created="Mon, 4 Jul 2022 06:43:18 +0000"  >&lt;p&gt;Commit 1902448 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1902448&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1902448&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5471&quot; title=&quot;NPE when Transparency Group is missing the BBox&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5471&quot;&gt;&lt;del&gt;PDFBOX-5471&lt;/del&gt;&lt;/a&gt;: avoid NPE, as suggested by Henry Iguaro; closes #145&lt;/p&gt;</comment>
                            <comment id="17562125" author="mkl" created="Mon, 4 Jul 2022 10:26:45 +0000"  >&lt;p&gt;Strictly speaking the missing &lt;b&gt;BBox&lt;/b&gt; entry is an error. You may consider at least logging a warning.&lt;/p&gt;</comment>
                            <comment id="17562249" author="jira-bot" created="Mon, 4 Jul 2022 17:12:25 +0000"  >&lt;p&gt;Commit 1902461 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1902461&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1902461&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5471&quot; title=&quot;NPE when Transparency Group is missing the BBox&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5471&quot;&gt;&lt;del&gt;PDFBOX-5471&lt;/del&gt;&lt;/a&gt;: add warning, as suggested by Michael Klink&lt;/p&gt;</comment>
                            <comment id="17562250" author="jira-bot" created="Mon, 4 Jul 2022 17:12:29 +0000"  >&lt;p&gt;Commit 1902462 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1902462&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1902462&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5471&quot; title=&quot;NPE when Transparency Group is missing the BBox&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5471&quot;&gt;&lt;del&gt;PDFBOX-5471&lt;/del&gt;&lt;/a&gt;: add warning, as suggested by Michael Klink&lt;/p&gt;</comment>
                            <comment id="17562251" author="tilman" created="Mon, 4 Jul 2022 17:13:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt; indeed! + done&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=henry-canva&quot; class=&quot;user-hover&quot; rel=&quot;henry-canva&quot;&gt;henry-canva&lt;/a&gt; thanks for the report!&lt;/p&gt;

&lt;p&gt;snapshot at&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.27-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.27-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13046199" name="getbbox-null.pdf" size="209279" author="henry-canva" created="Mon, 4 Jul 2022 05:07:54 +0000"/>
                            <attachment id="13046200" name="image-2022-07-04-14-55-28-527.png" size="326129" author="henry-canva" created="Mon, 4 Jul 2022 04:55:30 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z16kjs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>