<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:10:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4955] Flattened form-fields are rendered at the bottom of the page</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4955</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When flattening the form, all form-fields are put at the bottom of the file, overlapping eachother.&lt;br/&gt;
 When I just look at the file however, without flattening, everything seems to be ok.&lt;br/&gt;
 Workarounds so far is to reset all BBox-es for&#160;PDFormXObjects to start rendering at (0, 0) before we flatten the file.&lt;br/&gt;
 We&apos;ve also tried setting the form-fields to &apos;read-only&apos;, which also visually left the PDF in tact but is not a real substitute for flattening.&lt;/p&gt;

&lt;p&gt;Attached are a PDF with the issue present and the OpenOffice-Drawing that was used to create the PDF&lt;/p&gt;</description>
                <environment></environment>
        <key id="13327069">PDFBOX-4955</key>
            <summary>Flattened form-fields are rendered at the bottom of the page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="bmwsedee">Ben Sedee</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Fri, 11 Sep 2020 11:02:23 +0000</created>
                <updated>Sun, 20 Dec 2020 18:47:52 +0000</updated>
                            <resolved>Sat, 12 Sep 2020 10:22:08 +0000</resolved>
                                    <version>2.0.21</version>
                                    <fixVersion>2.0.22</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>AcroForm</component>
                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17194310" author="tilman" created="Fri, 11 Sep 2020 14:57:39 +0000"  >&lt;p&gt;This is related to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3396&quot; title=&quot;flattening AcroForm with visible sign field ETSI.CAdES.detached&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3396&quot;&gt;&lt;del&gt;PDFBOX-3396&lt;/del&gt;&lt;/a&gt; and the &lt;tt&gt;resolveNeedsTranslation()&lt;/tt&gt; method. That method looks for Form XObjects in the /AP/N dictionary. This PDF has them. However they are not used. Maybe we need to analyse the content stream for that.&lt;/p&gt;</comment>
                            <comment id="17194319" author="tilman" created="Fri, 11 Sep 2020 15:16:36 +0000"  >&lt;p&gt;For later tests I&apos;ve attached your file with proper appearance streams and without /NeedAppearances.&lt;/p&gt;</comment>
                            <comment id="17194320" author="mkl" created="Fri, 11 Sep 2020 15:16:37 +0000"  >&lt;p&gt;I think this refers to the bug explained in &lt;a href=&quot;https://stackoverflow.com/a/54091766/1729265&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this stack overflow answer to &quot;Setting image form field&quot;&lt;/a&gt; starting at &quot;Beware, though, applied to your sample file it reveals a bug in the PDFBox form flattening code.&quot;&lt;br/&gt;
In particular the &lt;tt&gt;resolveNeedsTranslation&lt;/tt&gt; method and its use don&apos;t make any sense and ignore relevant form field widget information.&lt;/p&gt;</comment>
                            <comment id="17194653" author="tilman" created="Sat, 12 Sep 2020 08:31:14 +0000"  >&lt;p&gt;I didn&apos;t understand that one at that time and probably forgot about it. I looked at it again and still don&apos;t get it, and now the sample file isn&apos;t there any more. The best would be to have a sample file. I&apos;ll add a link with your answer as a TODO comment so that people who work there in the future read it again.&lt;/p&gt;</comment>
                            <comment id="17194671" author="jira-bot" created="Sat, 12 Sep 2020 09:00:22 +0000"  >&lt;p&gt;Commit 1881656 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1881656&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1881656&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4955&quot; title=&quot;Flattened form-fields are rendered at the bottom of the page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4955&quot;&gt;&lt;del&gt;PDFBOX-4955&lt;/del&gt;&lt;/a&gt;: parse content stream and ignore Form XObjects if they are not used&lt;/p&gt;</comment>
                            <comment id="17194673" author="jira-bot" created="Sat, 12 Sep 2020 09:00:50 +0000"  >&lt;p&gt;Commit 1881657 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1881657&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1881657&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4955&quot; title=&quot;Flattened form-fields are rendered at the bottom of the page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4955&quot;&gt;&lt;del&gt;PDFBOX-4955&lt;/del&gt;&lt;/a&gt;: parse content stream and ignore Form XObjects if they are not used&lt;/p&gt;</comment>
                            <comment id="17194674" author="jira-bot" created="Sat, 12 Sep 2020 09:00:54 +0000"  >&lt;p&gt;Commit 1881658 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1881658&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1881658&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4955&quot; title=&quot;Flattened form-fields are rendered at the bottom of the page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4955&quot;&gt;&lt;del&gt;PDFBOX-4955&lt;/del&gt;&lt;/a&gt;: parse content stream and ignore Form XObjects if they are not used&lt;/p&gt;</comment>
                            <comment id="17194675" author="jira-bot" created="Sat, 12 Sep 2020 09:03:30 +0000"  >&lt;p&gt;Commit 1881659 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1881659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1881659&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4955&quot; title=&quot;Flattened form-fields are rendered at the bottom of the page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4955&quot;&gt;&lt;del&gt;PDFBOX-4955&lt;/del&gt;&lt;/a&gt;: add comment by mkl for future devs&lt;/p&gt;</comment>
                            <comment id="17194697" author="jira-bot" created="Sat, 12 Sep 2020 09:50:28 +0000"  >&lt;p&gt;Commit 1881661 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1881661&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1881661&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4955&quot; title=&quot;Flattened form-fields are rendered at the bottom of the page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4955&quot;&gt;&lt;del&gt;PDFBOX-4955&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="17194698" author="jira-bot" created="Sat, 12 Sep 2020 09:50:32 +0000"  >&lt;p&gt;Commit 1881662 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1881662&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1881662&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4955&quot; title=&quot;Flattened form-fields are rendered at the bottom of the page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4955&quot;&gt;&lt;del&gt;PDFBOX-4955&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="17194701" author="tilman" created="Sat, 12 Sep 2020 10:22:08 +0000"  >&lt;p&gt;Snapshot available here&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.22-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.22-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12982335">PDFBOX-3396</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13011398" name="DEA_certificaat_Theoriekennis_test.odg" size="209537" author="bmwsedee" created="Fri, 11 Sep 2020 11:02:43 +0000"/>
                            <attachment id="13011397" name="DEA_certificaat_Theoriekennis_test.pdf" size="87682" author="bmwsedee" created="Fri, 11 Sep 2020 11:02:37 +0000"/>
                            <attachment id="13011412" name="PDFBOX-4955-flattened-badly.pdf" size="87675" author="tilman" created="Fri, 11 Sep 2020 15:19:33 +0000"/>
                            <attachment id="13011411" name="PDFBOX-4955-flattened-correctly.pdf" size="87739" author="tilman" created="Fri, 11 Sep 2020 15:18:46 +0000"/>
                            <attachment id="13011410" name="PDFBOX-4955.pdf" size="88352" author="tilman" created="Fri, 11 Sep 2020 15:16:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 9 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0iinc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>