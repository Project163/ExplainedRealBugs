<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:55:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1988] PDFBox ExtractText issue of PDF with no embedded fonts</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1988</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I have been using PDFBox 1.8.4 to extract text from several different PDF files fine.  I use the latest PDFBox app with ExtractText command line.  There is one PDF that PDFBox (and iText) fails to extract any text even though I can extract the text with Adobe Reader and also pdftotext.exe part of XPdf.  &quot;java -jar pdfbox-app-1.8.4.jar ExtractText Test1.pdf Out.txt&quot;.  I don&apos;t want to have to rely on using pdftotext.exe from a PC since this is part of an automated application.  I think the error relates to an unknown font type and having to use the few fonts installed in the jar file.  I tried running the API classes and trying to force a font from a certain location but I still got errors.  I thought I loaded the font with the loadTTF method but I don&apos;t know if that did anything with the font.  I would really like to have this working straight from the ExtractText class anyway.&lt;br/&gt;
Here are the errors I am getting.  I tried this from both a Windows 7 PC and our IBM i in the PASE environment but I get the same errors.  The section starting processEncodedText and on repeats a few times so I just included the first entries.&lt;/p&gt;



&lt;p&gt;Mar 10, 2014 3:50:44 PM org.apache.pdfbox.pdmodel.font.PDFontFactory createFont                           &lt;br/&gt;
WARNING: Substituting TrueType for unknown font subtype=                                                  &lt;br/&gt;
Mar 10, 2014 3:50:45 PM org.apache.pdfbox.util.PDFStreamEngine processOperator                            &lt;br/&gt;
WARNING: java.lang.NullPointerException                                                                   &lt;br/&gt;
Throwable occurred: java.lang.NullPointerException                                                        &lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadDescriptorDictionary(PDTrueTypeFont.java:375)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.ensureFontDescriptor(PDTrueTypeFont.java:221)    &lt;/p&gt;

&lt;p&gt;        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.&amp;lt;init&amp;gt;(PDTrueTypeFont.java:119)    &lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:121)  &lt;br/&gt;
        at org.apache.pdfbox.pdmodel.PDResources.getFonts(PDResources.java:204)             &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.getFonts(PDFStreamEngine.java:604)        &lt;br/&gt;
        at org.apache.pdfbox.util.operator.SetTextFont.process(SetTextFont.java:54)         &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:554) &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:268)&lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:235)&lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:215)   &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.processPage(PDFTextStripper.java:456)     &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.processPages(PDFTextStripper.java:381)    &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:340)       &lt;br/&gt;
        at org.apache.pdfbox.ExtractText.startExtraction(ExtractText.java:275)              &lt;br/&gt;
        at org.apache.pdfbox.ExtractText.main(ExtractText.java:85)                          &lt;br/&gt;
        at org.apache.pdfbox.PDFBox.main(PDFBox.java:58)                                    &lt;br/&gt;
Mar 10, 2014 3:50:45 PM org.apache.pdfbox.util.PDFStreamEngine processEncodedText           &lt;br/&gt;
WARNING: java.lang.NullPointerException                                                     &lt;/p&gt;

&lt;p&gt;Throwable occurred: java.lang.NullPointerException                                            &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processEncodedText(PDFStreamEngine.java:355)&lt;br/&gt;
        at org.apache.pdfbox.util.operator.ShowText.process(ShowText.java:45)                 &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:554)   &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:268)  &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:235)  &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:215)     &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.processPage(PDFTextStripper.java:456)       &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.processPages(PDFTextStripper.java:381)      &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:340)         &lt;br/&gt;
        at org.apache.pdfbox.ExtractText.startExtraction(ExtractText.java:275)                &lt;br/&gt;
        at org.apache.pdfbox.ExtractText.main(ExtractText.java:85)                            &lt;br/&gt;
        at org.apache.pdfbox.PDFBox.main(PDFBox.java:58)                                      &lt;br/&gt;
Mar 10, 2014 3:50:45 PM org.apache.pdfbox.util.PDFStreamEngine processOperator                &lt;br/&gt;
WARNING: java.lang.NullPointerException                                                       &lt;br/&gt;
Throwable occurred: java.lang.NullPointerException                                            &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processEncodedText(PDFStreamEngine.java:364)&lt;/p&gt;

&lt;p&gt;        at org.apache.pdfbox.util.operator.ShowText.process(ShowText.java:45)                 &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:554)   &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:268)  &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:235)  &lt;br/&gt;
        at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:215)     &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.processPage(PDFTextStripper.java:456)       &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.processPages(PDFTextStripper.java:381)      &lt;br/&gt;
        at org.apache.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:340)         &lt;br/&gt;
        at org.apache.pdfbox.ExtractText.startExtraction(ExtractText.java:275)                &lt;br/&gt;
        at org.apache.pdfbox.ExtractText.main(ExtractText.java:85)                            &lt;br/&gt;
        at org.apache.pdfbox.PDFBox.main(PDFBox.java:58)                                      &lt;/p&gt;


&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;Craig Strong&lt;/p&gt;</description>
                <environment>Windows 7&lt;br/&gt;
Also, PASE on IBM i</environment>
        <key id="12701516">PDFBOX-1988</key>
            <summary>PDFBox ExtractText issue of PDF with no embedded fonts</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="craigstrong">Craig Strong</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Fri, 14 Mar 2014 16:59:10 +0000</created>
                <updated>Fri, 2 May 2014 06:12:03 +0000</updated>
                            <resolved>Tue, 18 Mar 2014 06:18:26 +0000</resolved>
                                    <version>1.8.4</version>
                                    <fixVersion>1.8.5</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Rendering</component>
                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="432000">120h</timeoriginalestimate>
                            <timeestimate seconds="432000">120h</timeestimate>
                                        <comments>
                            <comment id="13935259" author="craigstrong" created="Fri, 14 Mar 2014 17:01:58 +0000"  >&lt;p&gt;Problem PDF with no embedded fonts.&lt;/p&gt;</comment>
                            <comment id="13935427" author="jahewson" created="Fri, 14 Mar 2014 18:38:47 +0000"  >&lt;p&gt;The attached file uses the  &quot;Courier Bold&quot; font which is one of the &quot;standard 14&quot; fonts which do not need to be embedded, so this looks like a bug in PDFBox rather than a font embedding issue.&lt;/p&gt;</comment>
                            <comment id="13935533" author="tilman" created="Fri, 14 Mar 2014 19:44:13 +0000"  >&lt;p&gt;Text extraction always works with the 2.0 version.&lt;/p&gt;

&lt;p&gt;Rendering is bad with the 2.0 version. I&apos;m able to render the file properly with 2.0 by making two changes:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;adding
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;            dic.setName( COSName.TYPE, COSName.TRUE_TYPE.toString() );
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;after the &quot;Substituting TrueType for unknown font subtype=&quot; warning&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;(I&apos;m not committing this because I prefer to have another opinion. The idea is that if we are to fake a TT font, that we should attach the type)&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;adding a line for Courier-Bold in the PDFBox_External_Fonts.properties file.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13935684" author="jahewson" created="Fri, 14 Mar 2014 21:31:23 +0000"  >&lt;p&gt;Revision 1577682 adds a new getName method to COSDictionary for connivence and a new COSName.EMPTY value. It also does some cleaning up of COSName such as removing the JavaDoc which was not meaningful.&lt;/p&gt;

&lt;p&gt;Revision 1577683 adds the ability to get a COSName from a COSDictionary for connivence.&lt;/p&gt;

&lt;p&gt;I&apos;ve made the fix to PDFontFactory in revision 1577725 in trunk and 1577728 in 1.8&lt;/p&gt;</comment>
                            <comment id="13935699" author="jahewson" created="Fri, 14 Mar 2014 21:39:47 +0000"  >&lt;p&gt;Tilman, I checked with my fix in revision 1577725 and 2.0 rendering is now good.&lt;/p&gt;</comment>
                            <comment id="13935713" author="tilman" created="Fri, 14 Mar 2014 21:52:29 +0000"  >&lt;p&gt;Yeah, works great!&lt;/p&gt;</comment>
                            <comment id="13937894" author="craigstrong" created="Mon, 17 Mar 2014 15:06:05 +0000"  >&lt;p&gt;Thank you John and Tilman.  That was very quick and effective work.&lt;/p&gt;</comment>
                            <comment id="13938606" author="craigstrong" created="Tue, 18 Mar 2014 00:26:30 +0000"  >&lt;p&gt;I tested the fix on the 2.0.0 build and it worked.  Thanks again.&lt;/p&gt;</comment>
                            <comment id="13938607" author="craigstrong" created="Tue, 18 Mar 2014 00:26:58 +0000"  >&lt;p&gt;Closing the issue.&lt;/p&gt;</comment>
                            <comment id="13938873" author="jahewson" created="Tue, 18 Mar 2014 06:18:19 +0000"  >&lt;p&gt;Reopening because we leave issues open until the version they were fixed in is released.&lt;/p&gt;</comment>
                            <comment id="13987382" author="lehmi" created="Fri, 2 May 2014 06:12:03 +0000"  >&lt;p&gt;Closed after releasing PDFBox 1.8.5&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12634750" name="Test1.pdf" size="4233" author="craigstrong" created="Fri, 14 Mar 2014 17:01:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>379862</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 29 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1tg9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>380147</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>