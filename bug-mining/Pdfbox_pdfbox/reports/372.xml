<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1777] memory leak in org.apache.pdfbox.cos.COSDocument</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1777</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;org.apache.pdfbox.cos.COSDocument.close() does not close the streams and causing therefore a growing memory leak. Supposed fix:&lt;br/&gt;
 public void close() throws IOException {&lt;br/&gt;
//        if (!closed) {&lt;br/&gt;
//            scratchFile.close();&lt;br/&gt;
//            if (tmpFile != null) &lt;/p&gt;
{
//                tmpFile.delete();
//            }
&lt;p&gt;//            closed = true;&lt;br/&gt;
//        }&lt;br/&gt;
        // begin Robert Scharpf&lt;br/&gt;
        closed = true;&lt;br/&gt;
        if (scratchFile != null) {&lt;br/&gt;
            try &lt;/p&gt;
{
                scratchFile.close();
            }
&lt;p&gt; catch (Exception e) {&lt;br/&gt;
            }&lt;br/&gt;
        }&lt;br/&gt;
        scratchFile = null;&lt;br/&gt;
        if (tmpFile != null) {&lt;br/&gt;
            try &lt;/p&gt;
{
                tmpFile.delete();
            }
&lt;p&gt; catch (Exception e) {&lt;br/&gt;
            }&lt;br/&gt;
        }&lt;br/&gt;
        tmpFile = null;&lt;br/&gt;
        List&amp;lt;COSObject&amp;gt; list = getObjectsByType(COSName.OBJ_STM);&lt;br/&gt;
        if (list != null) {&lt;br/&gt;
            for (COSObject objStream : list) &lt;/p&gt;
{
                COSStream stream = (COSStream) objStream.getObject();
                stream.close();
            }
&lt;p&gt;        }&lt;br/&gt;
        // end Robert Scharpf&lt;br/&gt;
    }&lt;/p&gt;</description>
                <environment>Windows 7, Netbeans 7.4</environment>
        <key id="12678568">PDFBOX-1777</key>
            <summary>memory leak in org.apache.pdfbox.cos.COSDocument</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="robert.scharpf@hp.com">Robert Scharpf</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Mon, 11 Nov 2013 13:06:41 +0000</created>
                <updated>Fri, 31 Jan 2014 06:46:17 +0000</updated>
                            <resolved>Sun, 22 Dec 2013 18:55:33 +0000</resolved>
                                    <version>1.8.2</version>
                                    <fixVersion>1.8.4</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="7200">2h</timeoriginalestimate>
                            <timeestimate seconds="7200">2h</timeestimate>
                                        <comments>
                            <comment id="13818972" author="tilman" created="Mon, 11 Nov 2013 13:56:35 +0000"  >&lt;p&gt;Doesn&apos;t compile because the two variables are final. I also can&apos;t find a close() method for COSStream. (Or is your suggestion to create one?)&lt;/p&gt;</comment>
                            <comment id="13818984" author="robert.scharpf@hp.com" created="Mon, 11 Nov 2013 14:11:15 +0000"  >&lt;p&gt;Sorry, but I did implement thi some time ago. Yes, I removed the final to allow them to set to null. Allows me to check for null, cannot do this with final. And I added a close function in org.apache.pdfbox.cos.COSStream:&lt;br/&gt;
  // begin Robert Scharpf&lt;/p&gt;

&lt;p&gt;    public void close() {&lt;br/&gt;
        if (file != null) {&lt;br/&gt;
//            System.out.println(&quot;COSStream.close() file was open!&quot;);&lt;br/&gt;
            try &lt;/p&gt;
{
                file.close();
            }
&lt;p&gt; catch (Exception e) &lt;/p&gt;
{
                e.printStackTrace();
            }&lt;br/&gt;
            file = null;&lt;br/&gt;
        }&lt;br/&gt;
        if (filteredStream != null) {&lt;br/&gt;
//            System.out.println(&quot;COSStream.close() filteredStream was open!&quot;);&lt;br/&gt;
            try {
                filteredStream.close();
            } catch (Exception e) {                e.printStackTrace();            }
&lt;p&gt;            filteredStream = null;&lt;br/&gt;
        }&lt;br/&gt;
        if (unFilteredStream != null) {&lt;br/&gt;
//            System.out.println(&quot;COSStream.close() unFilteredStream was open!&quot;);&lt;br/&gt;
            try &lt;/p&gt;
{
                unFilteredStream.close();
            }
&lt;p&gt; catch (Exception e) &lt;/p&gt;
{
                e.printStackTrace();
            }
&lt;p&gt;            unFilteredStream = null;&lt;br/&gt;
        }&lt;br/&gt;
        this.clear();&lt;br/&gt;
    }&lt;br/&gt;
    // end Robert Scharpf&lt;/p&gt;</comment>
                            <comment id="13855235" author="lehmi" created="Sun, 22 Dec 2013 18:52:15 +0000"  >&lt;p&gt;I added a fix in revision 1553017 based on Robert proposal&lt;/p&gt;</comment>
                            <comment id="13855236" author="lehmi" created="Sun, 22 Dec 2013 18:55:33 +0000"  >&lt;p&gt;I added the fix to the 1.8 branch in revision 1553018.&lt;/p&gt;

&lt;p&gt;Thanks for the contribution!&lt;/p&gt;

&lt;p&gt;P.S.: It would be nice if you can provide your next patch as diff against the recent trunk version. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13855237" author="robert.scharpf@hp.com" created="Sun, 22 Dec 2013 18:56:50 +0000"  >&lt;p&gt;&#65279;&lt;br/&gt;
I&apos;m currently out of the office until Sunday, 5th January 2014. In urgent cases please contact the hotline or NonStopSupport@hp.com&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12684034">PDFBOX-1808</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357935</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 47 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ppcn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>358225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>