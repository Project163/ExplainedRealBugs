<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:15:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5896] StackOverflowError in PDFieldFactory.findFieldType</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5896</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I have a couple of different pdfs which all cause a StackOverflowError in (i&apos;m attempting to read them using apache tika):&lt;/p&gt;

&lt;p&gt;&#160; at org.apache.pdfbox.pdmodel.interactive.form.PDFieldFactory.findFieldType(PDFieldFactory.java:138)&lt;/p&gt;

&lt;p&gt;(that line repeated 1000 times).&lt;/p&gt;

&lt;p&gt;&#160; at org.apache.pdfbox.pdmodel.interactive.form.PDFieldFactory.createField(PDFieldFactory.java:70)&lt;br/&gt;
&#160; at org.apache.pdfbox.pdmodel.interactive.form.PDField.fromDictionary(PDField.java:80)&lt;br/&gt;
&#160; at org.apache.pdfbox.pdmodel.interactive.form.PDAcroForm.getFields(PDAcroForm.java:393)&lt;/p&gt;

&lt;p&gt;Unfortunately, i am unable to share the pdf file.&#160; However, i&apos;m willing to work with someone if they want to direct me in some debugging efforts to get more info about the files in question.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13597371">PDFBOX-5896</key>
            <summary>StackOverflowError in PDFieldFactory.findFieldType</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="jahlborn">james</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Oct 2024 15:34:51 +0000</created>
                <updated>Thu, 16 Jan 2025 16:44:20 +0000</updated>
                            <resolved>Fri, 1 Nov 2024 15:39:25 +0000</resolved>
                                    <version>2.0.32</version>
                    <version>3.0.3 PDFBox</version>
                                    <fixVersion>2.0.33</fixVersion>
                    <fixVersion>3.0.4 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17894688" author="tilman" created="Thu, 31 Oct 2024 19:49:10 +0000"  >&lt;p&gt;Use PDFDebugger to open your file, then in the menu choose view, Tree View, Internal structure.&lt;/p&gt;

&lt;p&gt;Go to &lt;br/&gt;
Root/AcroForm/Fields&lt;/p&gt;

&lt;p&gt;there search in that field tree and look for /Parent or /P that point to itself, directly or trough several steps. That is my theory on what may have happened.&lt;/p&gt;</comment>
                            <comment id="17894694" author="jahlborn" created="Thu, 31 Oct 2024 20:07:51 +0000"  >&lt;p&gt;Thanks for the suggestion.&#160; unfortunately, opening the file in PDFDebugger just results in the aforementioned StackOverflowError.&lt;/p&gt;

&lt;p&gt;as an additional note, i can open this pdf document just fine with the preview feature on my macbook as well as acrobat reader.&lt;/p&gt;</comment>
                            <comment id="17894696" author="tilman" created="Thu, 31 Oct 2024 20:11:19 +0000"  >&lt;p&gt;Try this: open a different file. Switch the view mode as described. Then open the problematic file. Do not click on any &quot;/P&quot; entry because this will attempt to display a page and will result in the stack overflow. You can click on the &quot;+&quot; to expand.&lt;/p&gt;</comment>
                            <comment id="17894832" author="jahlborn" created="Fri, 1 Nov 2024 11:46:51 +0000"  >&lt;p&gt;i think this is what you are referring to, it looks like 545 -&amp;gt; 909 -&amp;gt; 545&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13072548/13072548_image-2024-11-01-07-46-42-321.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17894835" author="jahlborn" created="Fri, 1 Nov 2024 12:00:42 +0000"  >&lt;p&gt;the attached patch seems to fix the issue.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13072551/13072551_cycle_fix.patch&quot; title=&quot;cycle_fix.patch attached to PDFBOX-5896&quot;&gt;cycle_fix.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17894839" author="tilman" created="Fri, 1 Nov 2024 12:08:10 +0000"  >&lt;p&gt;Thank you. I think this can be fixed by passing a set of dictionaries that have been visited to avoid endless recursions. The good thing is that &lt;tt&gt;findFieldType()&lt;/tt&gt; is private.&lt;/p&gt;</comment>
                            <comment id="17894841" author="tilman" created="Fri, 1 Nov 2024 12:15:39 +0000"  >&lt;p&gt;Oops, I hadn&apos;t see that you had a patch. Thanks, I&apos;ll test that one, which is similar to what I had in mind.&lt;/p&gt;</comment>
                            <comment id="17894844" author="jira-bot" created="Fri, 1 Nov 2024 12:36:34 +0000"  >&lt;p&gt;Commit 1921738 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1921738&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1921738&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5896&quot; title=&quot;StackOverflowError in PDFieldFactory.findFieldType&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5896&quot;&gt;&lt;del&gt;PDFBOX-5896&lt;/del&gt;&lt;/a&gt;: avoid endless recursion, as suggested by james&lt;/p&gt;</comment>
                            <comment id="17894845" author="jira-bot" created="Fri, 1 Nov 2024 12:36:38 +0000"  >&lt;p&gt;Commit 1921739 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1921739&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1921739&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5896&quot; title=&quot;StackOverflowError in PDFieldFactory.findFieldType&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5896&quot;&gt;&lt;del&gt;PDFBOX-5896&lt;/del&gt;&lt;/a&gt;: avoid endless recursion, as suggested by james&lt;/p&gt;</comment>
                            <comment id="17894846" author="jira-bot" created="Fri, 1 Nov 2024 12:36:42 +0000"  >&lt;p&gt;Commit 1921740 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1921740&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1921740&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5896&quot; title=&quot;StackOverflowError in PDFieldFactory.findFieldType&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5896&quot;&gt;&lt;del&gt;PDFBOX-5896&lt;/del&gt;&lt;/a&gt;: avoid endless recursion, as suggested by james&lt;/p&gt;</comment>
                            <comment id="17894847" author="jahlborn" created="Fri, 1 Nov 2024 13:03:41 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; thanks for your help!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13072551" name="cycle_fix.patch" size="1458" author="jahlborn" created="Fri, 1 Nov 2024 12:00:19 +0000"/>
                            <attachment id="13072548" name="image-2024-11-01-07-46-42-321.png" size="130166" author="jahlborn" created="Fri, 1 Nov 2024 11:46:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1sbhk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>