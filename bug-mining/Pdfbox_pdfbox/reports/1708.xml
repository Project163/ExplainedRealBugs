<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:05:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3742] Unknown dir object c=&apos;&gt;&apos; cInt=62 peek=&apos;&gt;&apos; peekInt=62</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3742</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;This was originally stumbled upon when running a 69-page long PDF through Tika. I could isolate the issue to in-between those two pages. Tika ends up responding with a faulty XML, as the attached screenshot shows - together with a stacktrace on the logs that includes the PDFBox exception, shown below as reproduced from the standalone CLI tool.&lt;/p&gt;

&lt;p&gt;I&apos;m using Tika 1.1.4, although I&apos;m not exactly sure what version of PDFBox it uses. Here&apos;s the base &lt;a href=&quot;https://github.com/LogicalSpark/docker-tikaserver/blob/master/Dockerfile&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Dockerfile&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ java -jar pdfbox-app-2.0.5.jar ExtractText buggy.pdf 
Apr 01, 2017 10:08:44 PM org.apache.pdfbox.pdmodel.font.PDTrueTypeFont &amp;lt;init&amp;gt;
WARNING: Using fallback font &lt;span class=&quot;code-quote&quot;&gt;&apos;LiberationSans-Bold&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;Arial-BoldMT&apos;&lt;/span&gt;
Apr 01, 2017 10:08:44 PM org.apache.pdfbox.pdmodel.font.PDTrueTypeFont &amp;lt;init&amp;gt;
WARNING: Using fallback font &lt;span class=&quot;code-quote&quot;&gt;&apos;LiberationSans&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;ArialMT&apos;&lt;/span&gt;
Apr 01, 2017 10:08:44 PM org.apache.pdfbox.pdmodel.font.PDTrueTypeFont &amp;lt;init&amp;gt;
WARNING: Using fallback font &lt;span class=&quot;code-quote&quot;&gt;&apos;LiberationSerif&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&apos;TimesNewRomanPSMT&apos;&lt;/span&gt;
Apr 01, 2017 10:08:44 PM org.apache.pdfbox.pdfparser.BaseParser parseCOSArray
WARNING: Corrupt object reference at offset 150196
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.io.IOException: Unknown dir object c=&lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;gt;&apos;&lt;/span&gt; cInt=62 peek=&lt;span class=&quot;code-quote&quot;&gt;&apos;&amp;gt;&apos;&lt;/span&gt; peekInt=62 at offset 150196
	at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:954)
	at org.apache.pdfbox.pdfparser.BaseParser.parseCOSArray(BaseParser.java:654)
	at org.apache.pdfbox.pdfparser.PDFStreamParser.parseNextToken(PDFStreamParser.java:175)
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:502)
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:469)
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:150)
	at org.apache.pdfbox.text.LegacyPDFStreamEngine.processPage(LegacyPDFStreamEngine.java:139)
	at org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextStripper.java:391)
	at org.apache.pdfbox.text.PDFTextStripper.processPages(PDFTextStripper.java:319)
	at org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:266)
	at org.apache.pdfbox.tools.ExtractText.startExtraction(ExtractText.java:237)
	at org.apache.pdfbox.tools.ExtractText.main(ExtractText.java:82)
	at org.apache.pdfbox.tools.PDFBox.main(PDFBox.java:60)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Seems related to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1327&quot; title=&quot;Parser:  java.io.IOException: Unknown dir object c=&amp;#39;&amp;gt;&amp;#39; cInt=62 peek=&amp;#39;&amp;gt;&amp;#39; peekInt=62 &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1327&quot;&gt;&lt;del&gt;PDFBOX-1327&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</description>
                <environment>Based on Tika Docker image: logicalspark/docker-tikaserver</environment>
        <key id="13060948">PDFBOX-3742</key>
            <summary>Unknown dir object c=&apos;&gt;&apos; cInt=62 peek=&apos;&gt;&apos; peekInt=62</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="igorsantos07">Igor Santos</reporter>
                        <labels>
                    </labels>
                <created>Sun, 2 Apr 2017 02:50:16 +0000</created>
                <updated>Mon, 15 May 2017 20:28:08 +0000</updated>
                            <resolved>Sun, 2 Apr 2017 09:53:29 +0000</resolved>
                                    <version>1.8.13</version>
                    <version>2.0.5</version>
                                    <fixVersion>1.8.14</fixVersion>
                    <fixVersion>2.0.6</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15952588" author="tilman" created="Sun, 2 Apr 2017 08:14:12 +0000"  >&lt;p&gt;It&apos;s in the content stream of the second page, the end of the inline image is not recognized properly. There is this near offset 150196:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;#HH!EI DJ CK&quot;CN$
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;An inline image ends with &quot;EI&quot; and then a blank character. And an inline image should be 4KB or less. Yours is much more.&lt;/p&gt;

&lt;p&gt;The problem is that here, EI is part of the data, and not the end of the image. I added a lot of heuristics over the years to catch such &quot;false ends&quot; but yours has an additional space after &quot;DJ&quot;, so PDFBox thought this is a 2 character PDF operator, thus the image ends there. Of course there is no &quot;DJ&quot; PDF operator...&lt;/p&gt;</comment>
                            <comment id="15952603" author="jira-bot" created="Sun, 2 Apr 2017 09:41:31 +0000"  >&lt;p&gt;Commit 1789868 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1789868&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1789868&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3742&quot; title=&quot;Unknown dir object c=&amp;#39;&amp;gt;&amp;#39; cInt=62 peek=&amp;#39;&amp;gt;&amp;#39; peekInt=62&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3742&quot;&gt;&lt;del&gt;PDFBOX-3742&lt;/del&gt;&lt;/a&gt;: assume that valid non-blank sequence after EI is Q or EMC&lt;/p&gt;</comment>
                            <comment id="15952604" author="jira-bot" created="Sun, 2 Apr 2017 09:41:36 +0000"  >&lt;p&gt;Commit 1789869 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1789869&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1789869&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3742&quot; title=&quot;Unknown dir object c=&amp;#39;&amp;gt;&amp;#39; cInt=62 peek=&amp;#39;&amp;gt;&amp;#39; peekInt=62&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3742&quot;&gt;&lt;del&gt;PDFBOX-3742&lt;/del&gt;&lt;/a&gt;: assume that valid non-blank sequence after EI is Q or EMC&lt;/p&gt;</comment>
                            <comment id="15952605" author="jira-bot" created="Sun, 2 Apr 2017 09:43:08 +0000"  >&lt;p&gt;Commit 1789870 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1789870&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1789870&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3742&quot; title=&quot;Unknown dir object c=&amp;#39;&amp;gt;&amp;#39; cInt=62 peek=&amp;#39;&amp;gt;&amp;#39; peekInt=62&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3742&quot;&gt;&lt;del&gt;PDFBOX-3742&lt;/del&gt;&lt;/a&gt;: assume that valid non-blank sequence after EI is Q or EMC&lt;/p&gt;</comment>
                            <comment id="15952694" author="igorsantos07" created="Sun, 2 Apr 2017 14:08:59 +0000"  >&lt;p&gt;That was a quick fix! Thanks. &lt;/p&gt;

&lt;p&gt;What&apos;s the roadmap? Aka when should I expect a new version of PDFBox with this fix? I&apos;ll still have to wait for a new version of Tika as well... &lt;/p&gt;</comment>
                            <comment id="15952695" author="tilman" created="Sun, 2 Apr 2017 14:11:58 +0000"  >&lt;p&gt;There&apos;s no roadmap. In the past, we&apos;ve released new versions about every 3 months. You could try with a snapshot.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12861608" name="buggy.pdf" size="449702" author="igorsantos07" created="Sun, 2 Apr 2017 02:50:16 +0000"/>
                            <attachment id="12861609" name="screenshot_002.png" size="19965" author="igorsantos07" created="Sun, 2 Apr 2017 02:50:16 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 32 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3d3on:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>