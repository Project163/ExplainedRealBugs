<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:15:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5225] Flattening removes all annotations when widget annotation has no page</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5225</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        PDAcroForm acroForm = doc.getDocumentCatalog().getAcroForm();
        List&amp;lt;PDField&amp;gt; list = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();
        list.add(acroForm.getField(&lt;span class=&quot;code-quote&quot;&gt;&quot;VN_NAME&quot;&lt;/span&gt;));
        acroForm.flatten(list, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;); 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The code from buildPagesWidgetsMap that is run when there are widgets with missing page references does not consider the field list parameter. So all widgets end up in the map instead of only those we care about.&lt;/p&gt;

&lt;p&gt; &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13069852/13069852_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;/p&gt;</description>
                <environment></environment>
        <key id="13385959">PDFBOX-5225</key>
            <summary>Flattening removes all annotations when widget annotation has no page</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                            <label>flatten</label>
                    </labels>
                <created>Sat, 26 Jun 2021 04:13:42 +0000</created>
                <updated>Sat, 22 Feb 2025 04:52:37 +0000</updated>
                            <resolved>Mon, 30 Dec 2024 19:10:56 +0000</resolved>
                                    <version>2.0.24</version>
                    <version>2.0.32</version>
                    <version>3.0.3 PDFBox</version>
                                    <fixVersion>2.0.33</fixVersion>
                    <fixVersion>3.0.4 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17369806" author="msahyoun" created="Sat, 26 Jun 2021 05:03:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in addition to fixing the issue with &lt;tt&gt;buildPagesWidgetsMap&lt;/tt&gt; we could provide a FixUp processor (maybe as a sample) one could execute. WDYT?&lt;/p&gt;</comment>
                            <comment id="17369877" author="tilman" created="Sat, 26 Jun 2021 12:34:32 +0000"  >&lt;p&gt;No opinion from me at this time because I don&apos;t know what this would do. Remove the widgets? Set the page? In this case here, I suspect that the widget isn&apos;t assigned to a page and that no page exists.&lt;/p&gt;</comment>
                            <comment id="17369878" author="tilman" created="Sat, 26 Jun 2021 12:36:07 +0000"  >&lt;p&gt;My thought was to change the second part of that method to this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;

        Set&amp;lt;COSDictionary&amp;gt; widgetDictionarySet = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; HashSet&amp;lt;&amp;gt;();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDField field : fields)
        {
            List&amp;lt;PDAnnotationWidget&amp;gt; widgets = field.getWidgets();
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDAnnotationWidget widget : widgets)
            {
                widgetDictionarySet.add(widget.getCOSObject());
            }
        }

        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDPage page : document.getPages())
        {
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDAnnotation annotation : page.getAnnotations())
            {
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (widgetDictionarySet.contains(annotation.getCOSObject()))
                {
                    fillPagesAnnotationMap(pagesAnnotationsMap, page, (PDAnnotationWidget) annotation);
                }
            }
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;It seems to work but now the annotations are direct objects, and the file can&apos;t be opened with Adobe Reader.&lt;/p&gt;

&lt;p&gt;Update: it also fails a flatten test. This is getting tricky.&lt;/p&gt;</comment>
                            <comment id="17370257" author="msahyoun" created="Sun, 27 Jun 2021 16:29:09 +0000"  >&lt;p&gt;I&apos;ve taken a look at the spec as I wasn&apos;t sure if /P is a required entry for an annotation - it is not. So nothing to correct which would be handled by a FixUp. No sure if your above code is valid or if the issues you mentioned after the code are still valid?  &lt;/p&gt;</comment>
                            <comment id="17370405" author="tilman" created="Mon, 28 Jun 2021 04:02:00 +0000"  >&lt;p&gt;The direct object thing may be related to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5227&quot; title=&quot;CreateVisibleSignature2 not working anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5227&quot;&gt;&lt;del&gt;PDFBOX-5227&lt;/del&gt;&lt;/a&gt;. I have not yet investigated the flatten code failure, it fails claiming that the field list isn&apos;t empty when it should be empty.&lt;/p&gt;</comment>
                            <comment id="17370422" author="msahyoun" created="Mon, 28 Jun 2021 05:44:39 +0000"  >&lt;p&gt;If you&apos;re fine with it I&apos;ll take that issue and work on it later today.&lt;/p&gt;</comment>
                            <comment id="17370450" author="tilman" created="Mon, 28 Jun 2021 07:09:35 +0000"  >&lt;p&gt;Yes thanks!&lt;/p&gt;</comment>
                            <comment id="17371604" author="msahyoun" created="Tue, 29 Jun 2021 19:42:39 +0000"  >&lt;p&gt;The test is failing for &lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13005793/f1040sb%20test.pdf&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/13005793/f1040sb%20test.pdf&lt;/a&gt; from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4889&quot; title=&quot;Cannot flatten this file.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4889&quot;&gt;&lt;del&gt;PDFBOX-4889&lt;/del&gt;&lt;/a&gt;. Need to investigate further&lt;/p&gt;</comment>
                            <comment id="17376294" author="lehmi" created="Wed, 7 Jul 2021 06:02:07 +0000"  >&lt;p&gt;I&apos;ve fixed &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5227&quot; title=&quot;CreateVisibleSignature2 not working anymore&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5227&quot;&gt;&lt;del&gt;PDFBOX-5227&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; That failing test maybe isn&apos;t related to your changes. I&apos;ve experienced some concurrency issues with that test in the past, see my comments at &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5214&quot; title=&quot;File generated differently depending on test call&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5214&quot;&gt;&lt;del&gt;PDFBOX-5214&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17398078" author="msahyoun" created="Thu, 12 Aug 2021 13:59:06 +0000"  >&lt;p&gt;The failing test is because of the fix up kicking in so somewhat unrelated. I&apos;ve created a small JUnit test which uses the proposed code and removes the /P entry from the widget.  That works. Need to further check why after the change the test fails.&lt;/p&gt;</comment>
                            <comment id="17861102" author="msahyoun" created="Mon, 1 Jul 2024 09:25:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; are you working on this as you updated the ticket? Otherwise I&apos;ll take a look.&lt;/p&gt;</comment>
                            <comment id="17861103" author="tilman" created="Mon, 1 Jul 2024 09:28:26 +0000"  >&lt;p&gt;No I&apos;m not / yes please. I just clarified what it is about.&lt;/p&gt;</comment>
                            <comment id="17888525" author="tilman" created="Fri, 11 Oct 2024 06:24:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=raku1984&quot; class=&quot;user-hover&quot; rel=&quot;raku1984&quot;&gt;raku1984&lt;/a&gt; this one fixes the problem for this field only:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; &#160; &#160; &#160; PDField field = acroForm.getField(&lt;span class=&quot;code-quote&quot;&gt;&quot;VN_NAME&quot;&lt;/span&gt;);
&#160; &#160; &#160; &#160; List&amp;lt;PDAnnotationWidget&amp;gt; newList = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();
&#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDAnnotationWidget widget : field.getWidgets())
&#160; &#160; &#160; &#160; {
&#160; &#160; &#160; &#160; &#160; &#160; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (widget.getPage() != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
&#160; &#160; &#160; &#160; &#160; &#160; {
&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; newList.add(widget);
&#160; &#160; &#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; }
&#160; &#160; &#160; &#160; ((PDTerminalField) field).setWidgets(newList);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17888530" author="tilman" created="Fri, 11 Oct 2024 06:36:27 +0000"  >&lt;p&gt;After searching for the thread that started this all, I found out that I had already posted a more general workaround there:&lt;br/&gt;
&lt;a href=&quot;https://lists.apache.org/thread/rvhv6wq0fvz6rw53rjcw6gk0wcs4z80y&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/rvhv6wq0fvz6rw53rjcw6gk0wcs4z80y&lt;/a&gt;&lt;br/&gt;
However that solution isn&apos;t fully correct because it assumes that the /P entry is mandatory, but it isn&apos;t. Here&apos;s some improved code that sets the page first:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDPage page : doc.getPages())
    {
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDAnnotation ann : page.getAnnotations())
        {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (ann.getPage() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            {
                ann.setPage(page);
            }
        }
    }

    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDField field : acroForm.getFieldTree())
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!(field &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; PDTerminalField))
        {
            &lt;span class=&quot;code-keyword&quot;&gt;continue&lt;/span&gt;;
        }
        PDTerminalField terminalField = (PDTerminalField) field;
        List&amp;lt;PDAnnotationWidget&amp;gt; widgets = terminalField.getWidgets();

        &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; replaceWidgets = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        List&amp;lt;PDAnnotationWidget&amp;gt; newWidgets = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDAnnotationWidget widget : widgets)
        {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (widget.getPage() == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
            {
                replaceWidgets = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
                &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;field &quot;&lt;/span&gt;
                        + terminalField.getFullyQualifiedName() + &lt;span class=&quot;code-quote&quot;&gt;&quot; has widget without page&quot;&lt;/span&gt;);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
            {
                newWidgets.add(widget);
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (replaceWidgets)
        {
            terminalField.setWidgets(newWidgets);
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17888572" author="tilman" created="Fri, 11 Oct 2024 09:02:20 +0000"  >&lt;p&gt;I re-read the ticket and thought about the whole thing again, and the result (with the change mentioned on June 26) is that two tests fail:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  PDAcroFormFlattenTest.flattenTestPDFBOX5254:187 XXX\pdfbox\target\test-output\flatten\out\PDFBOX-4889-5254.pdf ==&amp;gt; expected: &amp;lt;true&amp;gt; but was: &amp;lt;false&amp;gt;
  PDAcroFormFlattenTest.testFlatten:145-&amp;gt;flattenAndCompare:226 XXX\pdfbox\target\test-output\flatten\out\PDFBOX-4889.pdf ==&amp;gt; expected: &amp;lt;true&amp;gt; but was: &amp;lt;false&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Both tests are related to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4889&quot; title=&quot;Cannot flatten this file.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4889&quot;&gt;&lt;del&gt;PDFBOX-4889&lt;/del&gt;&lt;/a&gt;, where there is only one AcroForm field but many orphan widget annotations in the pages. These do now remain which causes the tests to fail, but one could argue that this is the correct behavior, because flattening fields is based on the acroform field list and any other annotations are meant to be ignored.&lt;/p&gt;

&lt;p&gt;Result file when doing flattening of the name field on the file of Ranjeet:  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13072148/13072148_SourceFailure-saved.pdf&quot; title=&quot;SourceFailure-saved.pdf attached to PDFBOX-5225&quot;&gt;SourceFailure-saved.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="17888576" author="msahyoun" created="Fri, 11 Oct 2024 09:16:27 +0000"  >&lt;p&gt;I can run a test later using Acrobat and do the flatten and see the results - where I think we should try to achieve the same.&lt;/p&gt;</comment>
                            <comment id="17897741" author="raku1984" created="Tue, 12 Nov 2024 20:52:37 +0000"  >&lt;p&gt;Is there any progress in this ticket?&lt;/p&gt;</comment>
                            <comment id="17897808" author="tilman" created="Wed, 13 Nov 2024 04:42:41 +0000"  >&lt;p&gt;Sorry, no. I have set a target so we don&apos;t forget again. I don&apos;t have much time now, but after that I will commit my proposal (and remove the one file and the test that fail, both related to the broken file from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4889&quot; title=&quot;Cannot flatten this file.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4889&quot;&gt;&lt;del&gt;PDFBOX-4889&lt;/del&gt;&lt;/a&gt;) unless another proposal is committed.&lt;/p&gt;</comment>
                            <comment id="17900379" author="jira-bot" created="Fri, 22 Nov 2024 13:49:16 +0000"  >&lt;p&gt;Commit 1922018 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922018&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922018&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5225&quot; title=&quot;Flattening removes all annotations when widget annotation has no page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5225&quot;&gt;&lt;del&gt;PDFBOX-5225&lt;/del&gt;&lt;/a&gt;: consider the field list parameter when there are widgets with missing page references; adjust / add test&lt;/p&gt;</comment>
                            <comment id="17900380" author="jira-bot" created="Fri, 22 Nov 2024 13:49:21 +0000"  >&lt;p&gt;Commit 1922019 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922019&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922019&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5225&quot; title=&quot;Flattening removes all annotations when widget annotation has no page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5225&quot;&gt;&lt;del&gt;PDFBOX-5225&lt;/del&gt;&lt;/a&gt;: consider the field list parameter when there are widgets with missing page references; adjust / add test&lt;/p&gt;</comment>
                            <comment id="17900381" author="jira-bot" created="Fri, 22 Nov 2024 13:49:27 +0000"  >&lt;p&gt;Commit 1922020 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922020&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922020&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5225&quot; title=&quot;Flattening removes all annotations when widget annotation has no page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5225&quot;&gt;&lt;del&gt;PDFBOX-5225&lt;/del&gt;&lt;/a&gt;: consider the field list parameter when there are widgets with missing page references; adjust / add test&lt;/p&gt;</comment>
                            <comment id="17900411" author="jira-bot" created="Fri, 22 Nov 2024 14:57:42 +0000"  >&lt;p&gt;Commit 1922022 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922022&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922022&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5225&quot; title=&quot;Flattening removes all annotations when widget annotation has no page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5225&quot;&gt;&lt;del&gt;PDFBOX-5225&lt;/del&gt;&lt;/a&gt;: refactor&lt;/p&gt;</comment>
                            <comment id="17900412" author="jira-bot" created="Fri, 22 Nov 2024 14:57:45 +0000"  >&lt;p&gt;Commit 1922023 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922023&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922023&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5225&quot; title=&quot;Flattening removes all annotations when widget annotation has no page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5225&quot;&gt;&lt;del&gt;PDFBOX-5225&lt;/del&gt;&lt;/a&gt;: refactor&lt;/p&gt;</comment>
                            <comment id="17900413" author="jira-bot" created="Fri, 22 Nov 2024 14:57:49 +0000"  >&lt;p&gt;Commit 1922024 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922024&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922024&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5225&quot; title=&quot;Flattening removes all annotations when widget annotation has no page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5225&quot;&gt;&lt;del&gt;PDFBOX-5225&lt;/del&gt;&lt;/a&gt;: refactor&lt;/p&gt;</comment>
                            <comment id="17900414" author="jira-bot" created="Fri, 22 Nov 2024 15:01:06 +0000"  >&lt;p&gt;Commit 1922025 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922025&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922025&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5225&quot; title=&quot;Flattening removes all annotations when widget annotation has no page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5225&quot;&gt;&lt;del&gt;PDFBOX-5225&lt;/del&gt;&lt;/a&gt;: Sonar fix&lt;/p&gt;</comment>
                            <comment id="17900665" author="tilman" created="Sun, 24 Nov 2024 06:10:11 +0000"  >&lt;p&gt;A snapshot of 2.0.33 is now available:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.33-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.33-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also 3.0.4:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/3.0.4-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/3.0.4-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;please test it and tell whether it works as expected&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13609421">PDFBOX-5962</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13072148" name="SourceFailure-saved.pdf" size="323086" author="tilman" created="Fri, 11 Oct 2024 09:19:11 +0000"/>
                            <attachment id="13027311" name="SourceFailure.pdf" size="438966" author="tilman" created="Sat, 26 Jun 2021 04:13:05 +0000"/>
                            <attachment id="13069852" name="screenshot-1.png" size="114753" author="tilman" created="Fri, 28 Jun 2024 11:10:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            49 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0sbfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>