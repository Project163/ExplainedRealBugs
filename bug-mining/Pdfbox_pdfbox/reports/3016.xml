<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:15:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5025] BaseParser fails when a number is followed by a string starting with &apos;e&apos;</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5025</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I have found&#160;an issue in the latest version of PDFBox where parsing fails in the BaseParser when `parseDirObject` parses a number and the following string starts with an &apos;e&apos;.&lt;br/&gt;
 &#160;&lt;br/&gt;
 This is due to the attempt to include numbers stored in scientific notation and the number being followed by the endobject keyword. These are invalid pdfs that don&apos;t contain a new line after the number before the &apos;endobject&apos; keyword, but the failure can be prevented.&lt;br/&gt;
 &#160;&lt;br/&gt;
 I have found one way that seems to resolve this problem is by checking if the last character in the read number string is an e or E. If it is then removing it from the read string and unreading it from the source allows parsing to complete as expected.&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; COSNumber parseCOSNumber() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
{
  ...
  &lt;span class=&quot;code-comment&quot;&gt;// Remove last character &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; it is not a number
&lt;/span&gt;  &lt;span class=&quot;code-object&quot;&gt;char&lt;/span&gt; lastc = buf.charAt(buf.length() - 1);
  &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (lastc == &lt;span class=&quot;code-quote&quot;&gt;&apos;e&apos;&lt;/span&gt; || lastc == &lt;span class=&quot;code-quote&quot;&gt;&apos;E&apos;&lt;/span&gt;)
  { 
    buf.deleteCharAt(buf.length() - 1);
    seqSource.unread(lastc);
  }
  &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; COSNumber.get(buf.toString());
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; &#160;&lt;br/&gt;
 An example of this error can be seen in PDF.js issue3323.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/mozilla/pdf.js/blob/4ba28de2608866dcb10d627d77dc19ff3d017c17/test/pdfs/issue3323.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mozilla/pdf.js/blob/4ba28de2608866dcb10d627d77dc19ff3d017c17/test/pdfs/issue3323.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some more pdfs were attached as well with the issue.&lt;br/&gt;
 &#160;&lt;br/&gt;
 &lt;a href=&quot;https://github.com/mozilla/pdf.js/commit/26f5b1b2d37c7b74a073dee75d66fcc04fae10e8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mozilla/pdf.js/commit/26f5b1b2d37c7b74a073dee75d66fcc04fae10e8&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13342366">PDFBOX-5025</key>
            <summary>BaseParser fails when a number is followed by a string starting with &apos;e&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="cholmes5324">Cody Wayne Holmes</reporter>
                        <labels>
                    </labels>
                <created>Tue, 24 Nov 2020 13:31:45 +0000</created>
                <updated>Thu, 16 Jan 2025 16:44:23 +0000</updated>
                            <resolved>Sun, 29 Dec 2024 09:19:48 +0000</resolved>
                                    <version>2.0.21</version>
                    <version>2.0.32</version>
                    <version>3.0.3 PDFBox</version>
                                    <fixVersion>2.0.33</fixVersion>
                    <fixVersion>3.0.4 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17238202" author="cholmes5324" created="Tue, 24 Nov 2020 15:04:08 +0000"  >&lt;p&gt;I have created a &lt;a href=&quot;https://github.com/apache/pdfbox/pull/91&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR&lt;/a&gt; with my attempt at fixing the issue.&lt;/p&gt;</comment>
                            <comment id="17908664" author="tilman" created="Sun, 29 Dec 2024 06:03:00 +0000"  >&lt;p&gt;It doesn&apos;t occur in 3.0, only if one tries to access /Length1 of the actual font file, so the test will be different.&lt;/p&gt;</comment>
                            <comment id="17908670" author="jira-bot" created="Sun, 29 Dec 2024 08:42:55 +0000"  >&lt;p&gt;Commit 1922729 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922729&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922729&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5025&quot; title=&quot;BaseParser fails when a number is followed by a string starting with &amp;#39;e&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5025&quot;&gt;&lt;del&gt;PDFBOX-5025&lt;/del&gt;&lt;/a&gt;: add test file, by Cody Wayne Holmes&lt;/p&gt;</comment>
                            <comment id="17908673" author="tilman" created="Sun, 29 Dec 2024 08:45:52 +0000"  >&lt;p&gt;Commit 1922727 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922727&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922727&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5025&quot; title=&quot;BaseParser fails when a number is followed by a string starting with &amp;#39;e&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5025&quot;&gt;&lt;del&gt;PDFBOX-5025&lt;/del&gt;&lt;/a&gt;: add test file, by Cody Wayne Holmes&lt;/p&gt;

&lt;p&gt;Commit 1922728 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922728&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922728&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5025&quot; title=&quot;BaseParser fails when a number is followed by a string starting with &amp;#39;e&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5025&quot;&gt;&lt;del&gt;PDFBOX-5025&lt;/del&gt;&lt;/a&gt;: add test file, by Cody Wayne Holmes&lt;/p&gt;

&lt;p&gt;(commit messages fixed in the svn history)&lt;/p&gt;</comment>
                            <comment id="17908674" author="jira-bot" created="Sun, 29 Dec 2024 09:14:33 +0000"  >&lt;p&gt;Commit 1922730 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922730&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5025&quot; title=&quot;BaseParser fails when a number is followed by a string starting with &amp;#39;e&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5025&quot;&gt;&lt;del&gt;PDFBOX-5025&lt;/del&gt;&lt;/a&gt;: Unread trailing e in numbers, by Cody Wayne Holmes; closes #91&lt;/p&gt;</comment>
                            <comment id="17908675" author="jira-bot" created="Sun, 29 Dec 2024 09:14:38 +0000"  >&lt;p&gt;Commit 1922731 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922731&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922731&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5025&quot; title=&quot;BaseParser fails when a number is followed by a string starting with &amp;#39;e&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5025&quot;&gt;&lt;del&gt;PDFBOX-5025&lt;/del&gt;&lt;/a&gt;: Unread trailing e in numbers, by Cody Wayne Holmes; closes #91&lt;/p&gt;</comment>
                            <comment id="17908676" author="jira-bot" created="Sun, 29 Dec 2024 09:14:44 +0000"  >&lt;p&gt;Commit 1922732 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922732&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922732&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5025&quot; title=&quot;BaseParser fails when a number is followed by a string starting with &amp;#39;e&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5025&quot;&gt;&lt;del&gt;PDFBOX-5025&lt;/del&gt;&lt;/a&gt;: Unread trailing e in numbers, by Cody Wayne Holmes; closes #91&lt;/p&gt;</comment>
                            <comment id="17908677" author="tilman" created="Sun, 29 Dec 2024 09:19:48 +0000"  >&lt;p&gt;Thank you; it failed in 2.0 because that one always parses the complete PDF. It doesn&apos;t fail in 3.0 because that one does parse on demand and the item is never used unless accessed directly.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13015947" name="issue2931.pdf" size="25688" author="cholmes5324" created="Tue, 24 Nov 2020 15:43:53 +0000"/>
                            <attachment id="13015946" name="issue3323.pdf" size="40553" author="cholmes5324" created="Tue, 24 Nov 2020 15:43:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            44 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0kvzk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>