<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:59:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2128] CMYK images are not supported correctly</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2128</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I have a PDF with CMYK images inside and i need to extract the images in the RGB format. But the PDJpeg class seems to not work correctly; the colors are bad.  Example:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Original image in te PDF : &lt;a href=&quot;http://ludoda.free.fr/IMAGE_IN_PDF.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ludoda.free.fr/IMAGE_IN_PDF.jpg&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Extracted image: &lt;a href=&quot;http://ludoda.free.fr/IMAGE_EXTRACTED.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ludoda.free.fr/IMAGE_EXTRACTED.jpg&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;You can download the PDF : &lt;a href=&quot;http://ludoda.free.fr/PORSCHE_CMYK.PDF&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ludoda.free.fr/PORSCHE_CMYK.PDF&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;and try my simple Test Case (I&apos;m using PDFbox 1.8.5): &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.awt.image.BufferedImage;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.File;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Iterator;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.List;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.util.Map;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.imageio.ImageIO;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.pdmodel.PDDocument;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.pdmodel.PDPage;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.pdmodel.PDResources;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.pdmodel.graphics.xobject.PDJpeg;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.pdmodel.graphics.xobject.PDXObject;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.pdmodel.graphics.xobject.PDXObjectImage;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TestCase {
	
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) 
	{
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; 
		{
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;START EXTRACTING IMAGES...&quot;&lt;/span&gt;);
			read_pdf();
			&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;COMPLETE&quot;&lt;/span&gt;);
		}
		&lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex) 
		{
		    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&quot;&quot; + ex);
		}

	}

	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void read_pdf() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException 
	{
		    PDDocument document = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;; 
		    document = PDDocument.load(&lt;span class=&quot;code-quote&quot;&gt;&quot;C:\\temp\\PORSCHE_CMYK.pdf&quot;&lt;/span&gt;);

		    @SuppressWarnings(&lt;span class=&quot;code-quote&quot;&gt;&quot;unchecked&quot;&lt;/span&gt;)
		    List&amp;lt;PDPage&amp;gt; pages = document.getDocumentCatalog().getAllPages();
		    Iterator&amp;lt;PDPage&amp;gt; iter = pages.iterator(); 
		    &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i =1;

		    &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (iter.hasNext())
		    {
		        PDPage page = (PDPage) iter.next();
		        PDResources resources = page.getResources();
		        Map&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;, PDXObject&amp;gt; pageImages = resources.getXObjects();
		        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (pageImages != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
		        { 
		            Iterator&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; imageIter = pageImages.keySet().iterator();
		            &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; (imageIter.hasNext())
		            {
		            	&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; key = (&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;) imageIter.next();
		            	&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(pageImages.get(key) &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; PDXObjectImage)
		                {
		                	PDJpeg image = (PDJpeg) pageImages.get(key);
		                	
		                	&lt;span class=&quot;code-comment&quot;&gt;// Test 1 : write2file
&lt;/span&gt;		                	image.write2file(&lt;span class=&quot;code-quote&quot;&gt;&quot;C:\\workspace\\JAVA_PDFTools\\temp\\image&quot;&lt;/span&gt; + i);
		                	
		                	&lt;span class=&quot;code-comment&quot;&gt;// Test 2: getRGBImage
&lt;/span&gt;		                	BufferedImage bimage=image.getRGBImage();
		                	File outputfile = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;C:\\workspace\\JAVA_PDFTools\\temp\\image&quot;&lt;/span&gt; + i+&lt;span class=&quot;code-quote&quot;&gt;&quot;_buffered.jpg&quot;&lt;/span&gt;);
		                	ImageIO.write(bimage, &lt;span class=&quot;code-quote&quot;&gt;&quot;jpg&quot;&lt;/span&gt;, outputfile);
		                	i ++;
		                }
		            }
		        }
		    }
		}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Windows 7 Professional&lt;br/&gt;
Running jvm: Java HotSpot(TM) 64-Bit Server VM - 1.6.0_26-b03 - 20.1-b02 - Sun Microsystems Inc</environment>
        <key id="12720329">PDFBOX-2128</key>
            <summary>CMYK images are not supported correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ldavoine">Ludovic Davoine</reporter>
                        <labels>
                            <label>PDJpeg</label>
                            <label>cmyk</label>
                            <label>images</label>
                    </labels>
                <created>Tue, 10 Jun 2014 12:03:32 +0000</created>
                <updated>Tue, 3 Jul 2018 06:28:33 +0000</updated>
                            <resolved>Thu, 26 Feb 2015 18:15:21 +0000</resolved>
                                    <version>1.8.5</version>
                    <version>1.8.6</version>
                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>7</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="14026406" author="tilman" created="Tue, 10 Jun 2014 12:51:21 +0000"  >&lt;p&gt;In the 2.0 version, the fotos come out green, and so is the rendering of the 2nd page. There is a warning &quot;Inconsistent metadata read from JPEG stream&quot;. A source comment tells that this may indicate a YCCK image but that this isn&apos;t sure.&lt;/p&gt;</comment>
                            <comment id="14026443" author="tilman" created="Tue, 10 Jun 2014 13:43:40 +0000"  >&lt;p&gt;I get correctly extracted JPEG images if I extract the unmodified JPEG stream. According to IrfanView, the images are CMYK.&lt;/p&gt;

&lt;p&gt;So the current situation is:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The colorspace in the PDF is CMYK&lt;/li&gt;
	&lt;li&gt;The JPEG streams are CMYK&lt;/li&gt;
	&lt;li&gt;But we can&apos;t know that the JPEG is CMYK because of the &quot;Inconsistent metadata read from JPEG stream&quot; exception&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I could post the source code needed to do a 1:1 extraction, but I don&apos;t know if this will really help you, it will show weird images in other cases.&lt;/p&gt;</comment>
                            <comment id="14026539" author="ldavoine" created="Tue, 10 Jun 2014 15:03:46 +0000"  >&lt;p&gt;Thank you for your answer.&lt;/p&gt;

&lt;p&gt;Is it because  the original JPEG image was created by Photoshop (which does inverted CMYK) ? If i am not wrong, there is an Adobe &quot;APP14 marker&quot; indicating that the image is from Photoshop, so the PDJpeg class could handle this kind of file an do a conversion.&lt;/p&gt;

&lt;p&gt;In my company, most of the jpg come from Photoshop, and once in a PDF i have troubles when trying to extract its in a RGB image, so i thought that pdfbox could help me. Maybe it is not a bug but an enhancement ? Do you want me to reclassify my request ?&lt;/p&gt;</comment>
                            <comment id="14026603" author="tilman" created="Tue, 10 Jun 2014 15:50:50 +0000"  >&lt;p&gt;It is a bug, and the real cause is in the Java ImageIO which is unable to read such files. The 2.0 version has a workaround that reads the raster, but fails again when reading the header to find out whether it is a YCCK image.&lt;/p&gt;

&lt;p&gt;What do you want to do? Would it help you if you get the 1:1 JPEGs (They will look ugly in some cases, see the long discussion in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2101&quot; title=&quot;Surprising memory consumption when extracting images&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2101&quot;&gt;&lt;del&gt;PDFBOX-2101&lt;/del&gt;&lt;/a&gt; that starts on May 29)&lt;/p&gt;</comment>
                            <comment id="14026613" author="ldavoine" created="Tue, 10 Jun 2014 15:58:24 +0000"  >&lt;p&gt;The release 2.0 is available for download? If there is a workaround i will test it.&lt;/p&gt;

&lt;p&gt;I need to extract images from my PDF to display it on a screen. So, for my PDF in example, i need to extract a picture like the Original : &lt;a href=&quot;http://ludoda.free.fr/IMAGE_IN_PDF.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ludoda.free.fr/IMAGE_IN_PDF.jpg&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="14026677" author="tilman" created="Tue, 10 Jun 2014 17:03:30 +0000"  >&lt;p&gt;You misunderstood the discussion, I took that out. However you can use it for the 1.8 version too, instead of image.write2file(), do this for JPegs (didn&apos;t test it, there may be syntax errors, I hope it works)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void writeJpeg2file(PDJpeg image, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; filename) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
{
    &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; DCT_FILTERS = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt;();
    DCT_FILTERS.add(COSName.DCT_DECODE.getName());
    DCT_FILTERS.add(COSName.DCT_DECODE_ABBREVIATION.getName());

    FileOutputStream out = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;

    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
    {
        out = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileOutputStream(filename + &lt;span class=&quot;code-quote&quot;&gt;&quot;.jpg&quot;&lt;/span&gt;);
        InputStream data = image.getPDStream().getPartiallyFilteredStream(DCT_FILTERS);
        &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] buf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[1024];
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; amountRead;
        &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; ((amountRead = data.read(buf)) != -1)
        {
            out.write(buf, 0, amountRead);
        }
        IOUtils.closeQuietly(data);
        out.flush();
    }
    &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt;
    {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (out != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            out.close();
        }
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14027682" author="tilman" created="Wed, 11 Jun 2014 12:11:48 +0000"  >&lt;p&gt;I added an option &quot;directJPEG&quot; in the extractImages tool to allow 1:1 extraction of JPEG images in rev 1601867 &amp;amp; 1601875 for the 1.8 branch and in rev 1601874 for the trunk. You can see the source code &lt;a href=&quot;https://svn.apache.org/viewvc/pdfbox/branches/1.8/pdfbox/src/main/java/org/apache/pdfbox/ExtractImages.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;, it is analog to the code I posted yesterday and corrected today.&lt;/p&gt;</comment>
                            <comment id="14027686" author="ldavoine" created="Wed, 11 Jun 2014 12:14:28 +0000"  >&lt;p&gt;Thank you very much ! I will try it.&lt;/p&gt;</comment>
                            <comment id="14027716" author="tilman" created="Wed, 11 Jun 2014 13:10:18 +0000"  >&lt;p&gt;This is just a workaround, because your example shows that our detection of CMYK types is not working properly all the time.&lt;/p&gt;

&lt;p&gt;One alternative solution to think about would be to use Apache Imaging to read the header:&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/a/6901383/535646&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/a/6901383/535646&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14027972" author="ldavoine" created="Wed, 11 Jun 2014 16:25:16 +0000"  >&lt;p&gt;The workaround works for images in CMYK from Photoshop, but fails for the other image.&lt;/p&gt;

&lt;p&gt;In this PDF (&lt;a href=&quot;http://ludoda.free.fr/CAPITAL.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ludoda.free.fr/CAPITAL.pdf&lt;/a&gt;), the images are in CMYK but don&apos;t come from Photoshop, so the result is KO with the workaround (&lt;a href=&quot;http://ludoda.free.fr/CAPITAL_IMAGE_KO.jpg&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ludoda.free.fr/CAPITAL_IMAGE_KO.jpg&lt;/a&gt;) but OK with the native method &quot;PDJpeg.write2file(File f)&quot;.&lt;/p&gt;

&lt;p&gt;As you explained, the problem is to know in advance the image type (in order to use the right way to extract the image). I could use Apache Imaging to read the header, but this project needs a File object or a byte Array :&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;JPEGImageDecoder decoder = JPEGCodec.createJPEGDecoder(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FileInputStream( &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(pFilename) ) );&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;JpegImageParser parser = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JpegImageParser();
ByteSource byteSource = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteSourceArray(bytes);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and when i try to have this kind of object from my PDJpeg object, i have an exception &quot;Unsupported Image Type&quot; because ImageIO doesn&apos;t not support CMYK file:&lt;/p&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] bytes=myPDJpeg.getPDStream().getByteArray();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;javax.imageio.IIOException: Unsupported Image Type
	at com.sun.imageio.plugins.jpeg.JPEGImageReader.readInternal(Unknown Source)
	at com.sun.imageio.plugins.jpeg.JPEGImageReader.read(Unknown Source)
	at javax.imageio.ImageIO.read(Unknown Source)
	at javax.imageio.ImageIO.read(Unknown Source)
	at org.apache.pdfbox.filter.JPXFilter.decode(JPXFilter.java:56)
	at org.apache.pdfbox.cos.COSStream.doDecode(COSStream.java:342)
	at org.apache.pdfbox.cos.COSStream.doDecode(COSStream.java:254)
	at org.apache.pdfbox.cos.COSStream.getUnfilteredStream(COSStream.java:188)
	at org.apache.pdfbox.pdmodel.common.PDStream.createInputStream(PDStream.java:232)
	at org.apache.pdfbox.pdmodel.common.PDStream.getByteArray(PDStream.java:510)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So i am going in circles...&lt;/p&gt;

&lt;p&gt;One solution could be to save the image a first time with the native method &quot;PDJpeg.write2file(File f)&quot;, then check te file with Apache Imaging, and if the image is found from Photoshop, relaunch a second saving with the workaround. But the process time will be too long... Is there another way ?&lt;/p&gt;</comment>
                            <comment id="14028063" author="tilman" created="Wed, 11 Jun 2014 17:29:42 +0000"  >&lt;p&gt;If you want the raw stream, use this call:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;image.getPDStream().getPartiallyFilteredStream(DCT_FILTERS);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;image must be a PDJpeg instance. See the code I posted previously for DCT_FILTERS.&lt;/p&gt;

&lt;p&gt;To convert that stream to an array, use ByteArrayInputStream() and toByteArray().&lt;/p&gt;

&lt;p&gt;Some background:&lt;br/&gt;
What you did was to get the decoded raster in an array, but you don&apos;t want that. You want the JPEG image as such, not a raster. &quot;getPartiallyFilteredStream&quot; filters all except the JPEG. (Sometimes images are encoded twice)&lt;/p&gt;</comment>
                            <comment id="14028240" author="tilman" created="Wed, 11 Jun 2014 19:05:31 +0000"  >&lt;p&gt;I did a few tests with Apache Imaging and it looks promising. The call is different than the one you used, but maybe this is because there are different versions and it is all very confusing, see &lt;a href=&quot;https://issues.apache.org/jira/browse/IMAGING-135&quot; title=&quot;&amp;quot;Getting started&amp;quot; should get people started&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IMAGING-135&quot;&gt;&lt;del&gt;IMAGING-135&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ImageInfo imageInfo = Imaging.getImageInfo(....);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println (imageInfo);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This brings this (first is the Porsche file, second is the Capital file):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Format Details: Jpeg/JFIF v.1.1&lt;br/&gt;
Bits Per Pixel: 32&lt;br/&gt;
Comments: 0&lt;br/&gt;
Format: JPEG&lt;br/&gt;
Format Name: JPEG (Joint Photographic Experts Group) Format&lt;br/&gt;
Compression Algorithm: JPEG&lt;br/&gt;
Height: 1016&lt;br/&gt;
MimeType: image/jpeg&lt;br/&gt;
Number Of Images: 1&lt;br/&gt;
Physical Height Dpi: 300&lt;br/&gt;
Physical Height Inch: 3.3866668&lt;br/&gt;
Physical Width Dpi: 300&lt;br/&gt;
Physical Width Inch: 7.0866666&lt;br/&gt;
Width: 2126&lt;br/&gt;
Is Progressive: false&lt;br/&gt;
Is Transparent: false&lt;br/&gt;
Color Type: CMYK&lt;br/&gt;
Uses Palette: false&lt;/p&gt;

&lt;p&gt;Format Details: Jpeg/DCM&lt;br/&gt;
Bits Per Pixel: 32&lt;br/&gt;
Comments: 0&lt;br/&gt;
Format: JPEG&lt;br/&gt;
Format Name: JPEG (Joint Photographic Experts Group) Format&lt;br/&gt;
Compression Algorithm: JPEG&lt;br/&gt;
Height: 717&lt;br/&gt;
MimeType: image/jpeg&lt;br/&gt;
Number Of Images: 1&lt;br/&gt;
Physical Height Dpi: -1&lt;br/&gt;
Physical Height Inch: -1.0&lt;br/&gt;
Physical Width Dpi: -1&lt;br/&gt;
Physical Width Inch: -1.0&lt;br/&gt;
Width: 494&lt;br/&gt;
Is Progressive: false&lt;br/&gt;
Is Transparent: false&lt;br/&gt;
Color Type: YCCK&lt;br/&gt;
Uses Palette: false&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I&apos;ll make a few tests to see whether I can get a decent rendering of your files in the 2.0 version. It might be more difficult for the 1.8 version, which does not render CMYK files correctly.&lt;/p&gt;

&lt;p&gt;Apparently, the solution for you would be:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;CMYK: direct&lt;/li&gt;
	&lt;li&gt;YCCK: pdfbox&lt;/li&gt;
	&lt;li&gt;others: test it...&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14028476" author="tilman" created="Wed, 11 Jun 2014 22:11:26 +0000"  >&lt;p&gt;I tried with Apache Imaging and rendering worked with all my test files, but not with yours. There is one 700kb inline image (the signature of Sophie G.) that can&apos;t be read by Apache Imaging, see my report at &lt;a href=&quot;https://issues.apache.org/jira/browse/IMAGING-136&quot; title=&quot;Imaging.getImageInfo() fails to read JPEG file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;IMAGING-136&quot;&gt;IMAGING-136&lt;/a&gt;. Btw, such huge inline images are against the PDF spec: &quot;Because the inline format gives the application less flexibility in managing the image data, it should be used only for small images (4 KB or less).&quot;&lt;/p&gt;</comment>
                            <comment id="14333571" author="tilman" created="Mon, 23 Feb 2015 17:51:55 +0000"  >&lt;p&gt;I made a new attempt with &lt;a href=&quot;https://github.com/haraldk/TwelveMonkeys&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;twelvemonkeys&lt;/a&gt; in the DCTFilter. The CMYK images do not throw an exception when calling reader.read(0), so we get an RGB image with a 3 band raster, which results in an array out of bounds exception as we expect more data (4 bands!). But reader.readRaster(0, null) works fine. However this doesn&apos;t work for RGB images, the rendered image is blueish for some reason (why????). Thus the following code works for all my test files (except one, see at the end):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;raster = reader.readRaster(0, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (raster.getNumBands() == 3)
{
    BufferedImage image = reader.read(0);
    raster = image.getRaster();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It might be even faster to just read the metadata first to decide what to do.&lt;/p&gt;

&lt;p&gt;The trick I used for &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2501&quot; title=&quot;Page render without barcode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2501&quot;&gt;&lt;del&gt;PDFBOX-2501&lt;/del&gt;&lt;/a&gt; (seek if there is an extra 0x0a) no longer works, however the user had accepted that his PDF is malformed, and the creator of that PDF has fixed the bug too.&lt;/p&gt;</comment>
                            <comment id="14333760" author="sgoeschl" created="Mon, 23 Feb 2015 20:26:46 +0000"  >&lt;p&gt;Hi Tilman,&lt;/p&gt;

&lt;p&gt;do you have issues with twelve monkeys and if yes - how can I reproduce the issues? I&apos;m in contact with with the author of twelvemonkeys and if I prepare a test case he might be able to look at the issue.&lt;/p&gt;

</comment>
                            <comment id="14333780" author="tilman" created="Mon, 23 Feb 2015 20:38:22 +0000"  >&lt;p&gt;Not really (I can open an issue myself anyway when I&apos;m sure that twelvemonkeys is the suspect) - the problem with &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2501&quot; title=&quot;Page render without barcode&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2501&quot;&gt;&lt;del&gt;PDFBOX-2501&lt;/del&gt;&lt;/a&gt; is a malformed PDF; the CMYK file being loaded into a 3 band raster may be correct behaviour. The problem with the blueish images may also be a PDFBox problem - who says that colors in a raster are a certain RGB order? This code solves a similar problem (look for &quot;BGR&quot;).&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/repos/asf/xmlgraphics/commons/trunk/src/java/org/apache/xmlgraphics/ps/ImageEncodingHelper.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/repos/asf/xmlgraphics/commons/trunk/src/java/org/apache/xmlgraphics/ps/ImageEncodingHelper.java&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14335318" author="tilman" created="Tue, 24 Feb 2015 19:47:54 +0000"  >&lt;p&gt;Proposed patch. It changes nothing for rendering by itself, but it allows to replace the JPEG reader with the one from twelvemonkeys, which can render the Porsche file in this issue and the confidential file from Kevin from the user mailing list. And CMYK JPEG images will be rendered slightly faster thanks to the check of the meta data.&lt;/p&gt;

&lt;p&gt;Should I commit this, or rather wait for after the release of 2.0?&lt;/p&gt;</comment>
                            <comment id="14335428" author="tilman" created="Tue, 24 Feb 2015 20:53:28 +0000"  >&lt;p&gt;Another file that can&apos;t be rendered by PDFBox: Numbers of source Raster bands and source color space components do not match. But with twelvemonkeys it can be rendered.&lt;/p&gt;</comment>
                            <comment id="14335494" author="msahyoun" created="Tue, 24 Feb 2015 21:31:20 +0000"  >&lt;p&gt;I haven&apos;t tested it but you should be able to write&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Element numChannelsItem = (Element) metaTree.getElementsByTagName(&lt;span class=&quot;code-quote&quot;&gt;&quot;NumChannels&quot;&lt;/span&gt;).item(0);
&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; numChannelsItem.getAttribute(&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;);

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;thus reducing the code a little bit.&lt;/p&gt;</comment>
                            <comment id="14335529" author="sgoeschl" created="Tue, 24 Feb 2015 21:56:46 +0000"  >&lt;p&gt;Hi Tilman,&lt;/p&gt;

&lt;p&gt;something which was probably discussed on the mailing list before - what about registering a callback which allows to handle the image conversion on the application level&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;it allows to plugin non-ImageIO libraries such Apache Imaging&lt;/li&gt;
	&lt;li&gt;it allows to support highly specialised image format such as JBIG, JBIG2 &amp;amp; some flavours of TIFF&lt;/li&gt;
	&lt;li&gt;the change could be backward compatible to the existing API&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14335530" author="tilman" created="Tue, 24 Feb 2015 21:57:05 +0000"  >&lt;p&gt;Yes, thanks. However I kept the null check &quot;just in case&quot;.&lt;/p&gt;</comment>
                            <comment id="14335534" author="msahyoun" created="Tue, 24 Feb 2015 21:59:37 +0000"  >&lt;p&gt;Yes, of course - I&apos;ve missed that one.&lt;/p&gt;</comment>
                            <comment id="14335553" author="tilman" created="Tue, 24 Feb 2015 22:11:16 +0000"  >&lt;p&gt;There was a somewhat similar suggestion, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2591&quot; title=&quot;Allow using custom Filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2591&quot;&gt;&lt;del&gt;PDFBOX-2591&lt;/del&gt;&lt;/a&gt;. We already use an external product for JBIG2. Apache Imaging is not really good enough (see my comments here some time ago). It seemed to be mostly dead until recently, although there appears to be a resurrection now. But twelvemonkeys is quite alive!&lt;/p&gt;</comment>
                            <comment id="14335603" author="sgoeschl" created="Tue, 24 Feb 2015 22:43:04 +0000"  >&lt;p&gt;Would you consider a non-breaking API change to handle image conversion via callback? I had a look at it and discussed the idea with Andreas at ApacheCon@Budapest. I&apos;m currently using some custom glue code to convert images using TwelveMonkeys, JAI, an external JBIG2 library but you hit troubles if you have multiple ImageIO Readers for the same graphic format. Therefore I think having a callback hook allows you to solve the issues (if you really have to)&lt;/p&gt;</comment>
                            <comment id="14335623" author="tilman" created="Tue, 24 Feb 2015 23:02:02 +0000"  >&lt;p&gt;I wasn&apos;t at ApacheCon@Budapest so I can&apos;t comment on that. But one of our problems is that we can&apos;t distribute JAI (for Jpeg2000 reading and TIFF saving) and Levigo (for JBIG2) with PDFBox so we wouldn&apos;t be able to call the methods of such products directly. The advantage of the current solution is that the user just has to copy a plugin file into the classpath. I really liked the idea presented in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2591&quot; title=&quot;Allow using custom Filters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2591&quot;&gt;&lt;del&gt;PDFBOX-2591&lt;/del&gt;&lt;/a&gt;, but there wasn&apos;t a consensus. I suggest you present your change &quot;a non-breaking API change to handle image conversion via callback&quot; in a different issue or on the dev mailing list, but don&apos;t put work into it at this time, just explain what calls would be needed.&lt;/p&gt;</comment>
                            <comment id="14336125" author="msahyoun" created="Wed, 25 Feb 2015 07:04:23 +0000"  >&lt;p&gt;Another use case for a callback could be for PDF and PDF content validation when passing the image content to an &apos;external&apos; validator to do enhanced validation of the format over and above PDF/A validation which is not required to do a full validation of the image content. It could even be enhanced to pass font, embedded files and other resources to do enhanced checks. Looking forward to Siegfrieds suggestion.&lt;/p&gt;</comment>
                            <comment id="14336996" author="jahewson" created="Wed, 25 Feb 2015 19:06:47 +0000"  >&lt;p&gt;As an open source project, PDFBox should not be adding features which allow proprietary plugins to be used, especially not at the expense of furthering the development of our core code. Delegating image decoding to external code opens a can of worms with respect to our internal implementation of image handing. Far better for PDFBox to ship with working image handling code. We currently use JAI for JBIG2 and JPX as a necessary evil, which provides the plugibility needed to have a fully functioning PDF reader.&lt;/p&gt;

&lt;p&gt;Successfully being able to read JPEGs from a PDF is not a customisable user feature! It&apos;s not something which needs plugins - it&apos;s something which needs to work out-of-the box. We need to ship a working JPEG decoder with PDFBox. That means either using reflection to workaround Sun&apos;s bugs or adding a dependency to something like TwelveMonkeys.&lt;/p&gt;</comment>
                            <comment id="14337065" author="jira-bot" created="Wed, 25 Feb 2015 19:53:28 +0000"  >&lt;p&gt;Commit 1662297 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1662297&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1662297&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;: Workaround CMYK bug in Sun&apos;s JPEG reader&lt;/p&gt;</comment>
                            <comment id="14337089" author="jahewson" created="Wed, 25 Feb 2015 20:07:36 +0000"  >&lt;blockquote&gt;
&lt;p&gt;who says that colors in a raster are a certain RGB order? &lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;I think this is just a Sun quirk. RGB colors in JPEG are stored as YCbCr, so the conversion should be unambiguous.&lt;/p&gt;</comment>
                            <comment id="14337103" author="jahewson" created="Wed, 25 Feb 2015 20:14:26 +0000"  >&lt;p&gt;Here&apos;s a workaround for the underlying bug in Sun&apos;s JPEG decoder. If the &quot;Inconsistent metadata read from JPEG stream&quot; exception is encountered, then rather than assuming that the image is YCCK, it uses reflection to fetch the color space from Sun&apos;s JPEGImageReader. This allows us to tell YCCK and CMYK apart even in the presence of other metadata errors (or rather, other Sun bugs). Note that this preserves our handling of YCCK images such as those in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1348&quot; title=&quot;ExtractImages jpg and tiff picture from pdf  but color wrong&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1348&quot;&gt;&lt;del&gt;PDFBOX-1348&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I think that we should still look at replacing the JPEG reader in 2.1 and shipping something more robust, but this fix solves the current problem.&lt;/p&gt;</comment>
                            <comment id="14337105" author="jahewson" created="Wed, 25 Feb 2015 20:17:37 +0000"  >&lt;p&gt;That&apos;s quite a different problem. It would be better tackled by a new JIRA issue.&lt;/p&gt;</comment>
                            <comment id="14337156" author="tilman" created="Wed, 25 Feb 2015 20:54:54 +0000"  >&lt;p&gt;The second page of the rendered Porsche file is missing the Porsche cars.&lt;/p&gt;</comment>
                            <comment id="14337226" author="jahewson" created="Wed, 25 Feb 2015 21:18:56 +0000"  >&lt;p&gt;Hmm, it works fine on my machine. Try setting a breakpoint on the line:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Field field = reader.getClass().getDeclaredField(&lt;span class=&quot;code-quote&quot;&gt;&quot;colorSpaceCode&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and then evaluate:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;reader.getClass().getName()
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I get:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;com.sun.imageio.plugins.jpeg.JPEGImageReader
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also, do you get any errors in the console?&lt;/p&gt;</comment>
                            <comment id="14337230" author="jahewson" created="Wed, 25 Feb 2015 21:22:03 +0000"  >&lt;p&gt;+1 I hadn&apos;t realised that we didn&apos;t already support this!&lt;/p&gt;</comment>
                            <comment id="14337244" author="tilman" created="Wed, 25 Feb 2015 21:28:55 +0000"  >&lt;p&gt;I get com.sun.imageio.plugins.jpeg.JPEGImageReader and no errors. But now it works...&lt;/p&gt;</comment>
                            <comment id="14337248" author="jahewson" created="Wed, 25 Feb 2015 21:30:17 +0000"  >&lt;p&gt;Maybe run it a few times, logging the provider each time. Could be JAI inconsistency in provider choice?&lt;/p&gt;</comment>
                            <comment id="14337260" author="tilman" created="Wed, 25 Feb 2015 21:37:30 +0000"  >&lt;p&gt;Will do. The cause could be what you mention, or that I&apos;m getting tired. I was pretty sure that I had removed twelvemonkeys from the pom and also done svn update &lt;b&gt;before&lt;/b&gt; running the test, but who knows. &lt;/p&gt;</comment>
                            <comment id="14337263" author="tilman" created="Wed, 25 Feb 2015 21:38:47 +0000"  >&lt;p&gt;Ok will do it tomorrow.&lt;/p&gt;</comment>
                            <comment id="14337268" author="jahewson" created="Wed, 25 Feb 2015 21:41:06 +0000"  >&lt;p&gt;There&apos;s also Sun&apos;s CLibImageReader provider, which could be the cause.&lt;/p&gt;</comment>
                            <comment id="14338841" author="jira-bot" created="Thu, 26 Feb 2015 18:16:58 +0000"  >&lt;p&gt;Commit 1662522 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1662522&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1662522&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2350&quot; title=&quot;Type1 Parser hangs indefinitely&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2350&quot;&gt;&lt;del&gt;PDFBOX-2350&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;: also skip for space after eexec in type1 font&lt;/p&gt;</comment>
                            <comment id="14338847" author="jira-bot" created="Thu, 26 Feb 2015 18:19:29 +0000"  >&lt;p&gt;Commit 1662523 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1662523&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1662523&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;: use meta data to decide read() or readRaster()&lt;/p&gt;</comment>
                            <comment id="14340584" author="jira-bot" created="Fri, 27 Feb 2015 18:51:21 +0000"  >&lt;p&gt;Commit 1662787 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1662787&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1662787&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;: no need to &quot;throws&quot; unchecked exception; avoid IndexOutOfBoundsException on item(0) call&lt;/p&gt;</comment>
                            <comment id="14340933" author="tilman" created="Fri, 27 Feb 2015 22:21:55 +0000"  >&lt;p&gt;NodeList.item() does not what its javadoc tells: it throws an IndexOutOfBoundsException when item(0) is called although the list is empty. (Happened with files 046880, 503345, 503783, 523055, 539326, 562654 and 543736)&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13140933">PDFBOX-4127</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13159410">PDFBOX-4221</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13169704">PDFBOX-4258</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12720710">IMAGING-136</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12700579" name="573636.pdf" size="1803156" author="tilman" created="Tue, 24 Feb 2015 20:53:28 +0000"/>
                            <attachment id="12700588" name="DCTFilter.patch" size="2925" author="tilman" created="Tue, 24 Feb 2015 21:55:59 +0000"/>
                            <attachment id="12701137" name="PDFBOX-2128-CAPITAL.pdf-1.png" size="243824" author="tilman" created="Thu, 26 Feb 2015 18:10:22 +0000"/>
                            <attachment id="12700231" name="PDFBOX-2128-CAPITAL.pdf-1.png" size="246916" author="tilman" created="Mon, 23 Feb 2015 18:45:56 +0000"/>
                            <attachment id="12700232" name="PDFBOX-2128-CAPITAL.pdf-2.png" size="276102" author="tilman" created="Mon, 23 Feb 2015 18:45:56 +0000"/>
                            <attachment id="12700233" name="PDFBOX-2128-PORSCHE_CMYK.pdf-1.png" size="32819" author="tilman" created="Mon, 23 Feb 2015 18:45:56 +0000"/>
                            <attachment id="12700234" name="PDFBOX-2128-PORSCHE_CMYK.pdf-2.png" size="1126299" author="tilman" created="Mon, 23 Feb 2015 18:45:56 +0000"/>
                            <attachment id="12649573" name="porsche_cmyk.pdf-2.png" size="946462" author="tilman" created="Tue, 10 Jun 2014 12:51:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>8.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398528</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 38 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wm0v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>398653</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>