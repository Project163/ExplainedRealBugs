<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:05:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3698] Static Initialization Deadlock between COSNumber/COSInteger</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3698</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;h3&gt;&lt;a name=&quot;Problem&quot;&gt;&lt;/a&gt;Problem&lt;/h3&gt;
&lt;p&gt;Using Tika 1.10 (PDF Box 1.8.10) to parse PDF documents in a multi-threaded application, processing unexpectedly halted. Investigating the output of a &lt;tt&gt;kill -3&lt;/tt&gt;, we found:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;pool-2-thread-18&quot; #50 prio=5 os_prio=0 tid=0x00002af088a67000 nid=0xc9b9 in Object.wait() [0x00002af0dc803000]
   java.lang.Thread.State: RUNNABLE
  at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:1348)

x 15

&quot;pool-2-thread-13&quot; #45 prio=5 os_prio=0 tid=0x00002af0cf910800 nid=0xc9b4 in Object.wait() [0x00002af0dc2ff000]
   java.lang.Thread.State: RUNNABLE
  at org.apache.pdfbox.cos.COSDocument.getObjectFromPool(COSDocument.java:720)
  at org.apache.pdfbox.pdfparser.PDFParser.parseObject(PDFParser.java:685)

x 2

&quot;pool-2-thread-11&quot; #43 prio=5 os_prio=0 tid=0x00002af0cfba6000 nid=0xc9b2 in Object.wait() [0x00002af0dc0fc000]
   java.lang.Thread.State: RUNNABLE
  at org.apache.pdfbox.cos.COSNumber.&amp;lt;clinit&amp;gt;(COSNumber.java:33)
  at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:1348)

x 1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Upon further investigation, it appears that there is a risk for deadlock when BaseParser calls &lt;tt&gt;COSNumber.get()&lt;/tt&gt; and COSDocument call &lt;tt&gt;COSInteger.get()&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;I was able to semi-reliably replicate this issue with the below Spock test:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;import org.apache.pdfbox.cos.COSInteger
import org.apache.pdfbox.cos.COSNumber
import spock.lang.Specification

class ThreadingIssueSpec extends Specification{

    def &quot;testy test&quot;(){
        setup:
        Thread thread = new Thread(new Runnable(){

            @Override
            void run() {
                for (int i =0; i&amp;lt;100; i++){
                    COSNumber.get(&quot;-&quot;)
                }
            }
        })
        thread.start()

        for(int i =0; i&amp;lt;100; i++) {
            COSInteger.get(&quot;-&quot;)
        }

        thread.join()

        expect:
        1==1
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;(you&apos;ll likely need to run this several times before the test hangs, but it does eventually hang)&lt;/p&gt;

&lt;p&gt;I updated my Tika dep to 1.14 (PDF Box 2.0.3) and was still able to replicate this issue.&lt;/p&gt;</description>
                <environment>Mac OSX 10.12.3, Java(TM) SE Runtime Environment (build 1.8.0_25-b17) Java HotSpot(TM) 64-Bit Server VM (build 25.25-b02, mixed mode)</environment>
        <key id="13044598">PDFBOX-3698</key>
            <summary>Static Initialization Deadlock between COSNumber/COSInteger</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="seanstory">Sean Story</reporter>
                        <labels>
                    </labels>
                <created>Mon, 20 Feb 2017 16:31:35 +0000</created>
                <updated>Tue, 13 Feb 2018 19:36:28 +0000</updated>
                            <resolved>Thu, 9 Mar 2017 21:49:59 +0000</resolved>
                                    <version>2.0.3</version>
                                    <fixVersion>2.0.5</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="15874808" author="seanstory" created="Mon, 20 Feb 2017 16:58:43 +0000"  >&lt;p&gt;it also appears that at least one other person has run into this same issue: &lt;a href=&quot;https://sourceforge.net/p/pdfbox/mailman/message/19173800/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sourceforge.net/p/pdfbox/mailman/message/19173800/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15876344" author="tilman" created="Tue, 21 Feb 2017 17:35:37 +0000"  >&lt;p&gt;I don&apos;t see why this happens (apparently I&apos;d need to do some deep reading about statics initialization) and I can&apos;t reproduce it... &lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PDFBox3698
{
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException, InterruptedException
    {
        &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; thread = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;()
        {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run()
            {
                &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 100; i++)
                {
                    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
                    {
                        COSNumber.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;-&quot;&lt;/span&gt;);
                    }
                    &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException ex)
                    {
                        &lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;                    }
                }
            }
        });
        thread.start();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0; i &amp;lt; 100; i++)
        {
            COSInteger.get(&lt;span class=&quot;code-quote&quot;&gt;&quot;-&quot;&lt;/span&gt;);
        }
        thread.join();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can you build from source? If yes, can you remove the two deprecated fields in COSNumber and tell what happens? If no, would you be willing to test with a snapshot?&lt;/p&gt;</comment>
                            <comment id="15876533" author="seanstory" created="Tue, 21 Feb 2017 19:27:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; This is a pretty decent blog that almost exactly mimics this issue: &lt;a href=&quot;http://ternarysearch.blogspot.ru/2013/07/static-initialization-deadlock.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://ternarysearch.blogspot.ru/2013/07/static-initialization-deadlock.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Have you tried re-running repeatedly? I typically find that it only takes 5-10 tries to get it to hang, but it definitely isn&apos;t guaranteed to hang every time.&lt;/p&gt;

&lt;p&gt;I can try building from source - may be a while before I get around to it though. We were able to workaround this issue by just loading both COSInteger and COSNumber in sequence in the main thread before doing any other threading.&lt;/p&gt;</comment>
                            <comment id="15876579" author="jira-bot" created="Tue, 21 Feb 2017 19:46:46 +0000"  >&lt;p&gt;Commit 1783922 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1783922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1783922&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3698&quot; title=&quot;Static Initialization Deadlock between COSNumber/COSInteger&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3698&quot;&gt;&lt;del&gt;PDFBOX-3698&lt;/del&gt;&lt;/a&gt;: remove deprecated statics in hope to avoid deadlock&lt;/p&gt;</comment>
                            <comment id="15876580" author="jira-bot" created="Tue, 21 Feb 2017 19:46:51 +0000"  >&lt;p&gt;Commit 1783923 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1783923&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1783923&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3698&quot; title=&quot;Static Initialization Deadlock between COSNumber/COSInteger&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3698&quot;&gt;&lt;del&gt;PDFBOX-3698&lt;/del&gt;&lt;/a&gt;: remove deprecated statics in hope to avoid deadlock&lt;/p&gt;</comment>
                            <comment id="15876586" author="tilman" created="Tue, 21 Feb 2017 19:51:27 +0000"  >&lt;p&gt;No I can&apos;t reproduce it, I tried many times. Anyway, I removed the deprecated static fields in the hope that this will help.&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.5-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.5-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
new version would be 198 or higher. If it doesn&apos;t I&apos;ll put something in PDDocument where there&apos;s another static segment related to concurrency problems.&lt;/p&gt;</comment>
                            <comment id="15877851" author="ssteiner1" created="Wed, 22 Feb 2017 09:31:36 +0000"  >&lt;p&gt;Are you allowed to remove public APIs from 2.0?&lt;/p&gt;</comment>
                            <comment id="15878934" author="seanstory" created="Wed, 22 Feb 2017 18:34:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, With your fix, I&apos;m no longer able to reproduce the deadlock issue. Thanks!&lt;/p&gt;</comment>
                            <comment id="15878946" author="tilman" created="Wed, 22 Feb 2017 18:40:45 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssteiner1&quot; class=&quot;user-hover&quot; rel=&quot;ssteiner1&quot;&gt;ssteiner1&lt;/a&gt; don&apos;t know but I wish I can. These statics have been deprecated since 2010 in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-637&quot; title=&quot;problem with static code in COSInteger/COSNumber&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-637&quot;&gt;&lt;del&gt;PDFBOX-637&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15879247" author="lehmi" created="Wed, 22 Feb 2017 21:17:27 +0000"  >&lt;p&gt;I&apos;m afraid we must not remove those constant values. Yes, they are marked as deprecated for a long time, but it would be a change in the public api which can&apos;t be done in a minor release. This option has to wait until 3.0&lt;/p&gt;</comment>
                            <comment id="15879274" author="jira-bot" created="Wed, 22 Feb 2017 21:30:10 +0000"  >&lt;p&gt;Commit 1784064 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1784064&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1784064&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3698&quot; title=&quot;Static Initialization Deadlock between COSNumber/COSInteger&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3698&quot;&gt;&lt;del&gt;PDFBOX-3698&lt;/del&gt;&lt;/a&gt;: revert&lt;/p&gt;</comment>
                            <comment id="15879275" author="jira-bot" created="Wed, 22 Feb 2017 21:30:15 +0000"  >&lt;p&gt;Commit 1784065 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1784065&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1784065&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3698&quot; title=&quot;Static Initialization Deadlock between COSNumber/COSInteger&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3698&quot;&gt;&lt;del&gt;PDFBOX-3698&lt;/del&gt;&lt;/a&gt;: revert&lt;/p&gt;</comment>
                            <comment id="15879295" author="jira-bot" created="Wed, 22 Feb 2017 21:40:37 +0000"  >&lt;p&gt;Commit 1784066 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1784066&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1784066&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3698&quot; title=&quot;Static Initialization Deadlock between COSNumber/COSInteger&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3698&quot;&gt;&lt;del&gt;PDFBOX-3698&lt;/del&gt;&lt;/a&gt;: initialize COSNumber/COSInteger statics in hope to avoid deadlock&lt;/p&gt;</comment>
                            <comment id="15879296" author="jira-bot" created="Wed, 22 Feb 2017 21:40:42 +0000"  >&lt;p&gt;Commit 1784067 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1784067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1784067&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3698&quot; title=&quot;Static Initialization Deadlock between COSNumber/COSInteger&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3698&quot;&gt;&lt;del&gt;PDFBOX-3698&lt;/del&gt;&lt;/a&gt;: initialize COSNumber/COSInteger statics in hope to avoid deadlock&lt;/p&gt;</comment>
                            <comment id="15879302" author="tilman" created="Wed, 22 Feb 2017 21:42:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=seanstory&quot; class=&quot;user-hover&quot; rel=&quot;seanstory&quot;&gt;seanstory&lt;/a&gt; please test again, snapshot version should be 202 or higher. If it doesn&apos;t work, please tell what code you used as workaround. &lt;/p&gt;</comment>
                            <comment id="16362866" author="jesmith3" created="Tue, 13 Feb 2018 18:47:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, the initial test using Spock is&#160;written&#160;in&#160;Groovy which internally uses&#160;Class.forName to&#160;initialize the class.&#160; I have reproduced the issue starting with your Java code snippet by making the following change&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PDFBox3698
{
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; ClassNotFoundException, InterruptedException
    {
        &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt; thread = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                    &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(COSNumber.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getName(), &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, COSNumber.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader());
                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (ClassNotFoundException ex) {
                    &lt;span class=&quot;code-comment&quot;&gt;//
&lt;/span&gt;                }
            }
        });
        thread.start();
        &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.forName(COSInteger.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getName(), &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;, COSInteger.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader());
        thread.join();
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I was able to reproduce in 2.0.5 with a few executions.&lt;/p&gt;

&lt;p&gt;I downloaded&#160;3.0.0-SNAPSHOT 453 and ran the test against it and I can no longer reproduce the issue.&lt;/p&gt;

&lt;p&gt;Would you mind removing 2.0.5 from the fix version list?&#160; It tricked me into attempting that first which didn&apos;t work out.&lt;/p&gt;</comment>
                            <comment id="16362904" author="tilman" created="Tue, 13 Feb 2018 19:19:24 +0000"  >&lt;p&gt;This issue is closed, I have created issue &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4109&quot; title=&quot;Static Initialization Deadlock between COSNumber/COSInteger (2)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4109&quot;&gt;&lt;del&gt;PDFBOX-4109&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16362919" author="jesmith3" created="Tue, 13 Feb 2018 19:30:04 +0000"  >&lt;p&gt;Was the intention to fix this is 2.0.5?&#160; Based on the comments I was thinking that the intention is this can only be fixed in 3.0.&#160; If that is true then I think it is fine.&#160; I was just requesting that the fixed version field remove 2.0.5 so that it isn&apos;t misleading.&lt;/p&gt;</comment>
                            <comment id="16362927" author="tilman" created="Tue, 13 Feb 2018 19:36:28 +0000"  >&lt;p&gt;On a closed issue, it means that it was fixed for that version. The reported bug was fixed. Your different code indicates that either that or a new problem wasn&apos;t fixed in 2.0.5. It works in the trunk because some initializers were removed.I am not removing the 2.0.5 because I can&apos;t without reopening.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13138307">PDFBOX-4109</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 39 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ac5b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>