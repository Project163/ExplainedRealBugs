<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1607] StringIndexOutOfBoundsException in PDFParser</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1607</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I have few test files parsed fine in PDFBox 1.7.1 but not in 1.8.1:&lt;/p&gt;

&lt;p&gt;java.lang.StringIndexOutOfBoundsException: String index out of range: 2047&lt;br/&gt;
     at java.lang.AbstractStringBuilder.deleteCharAt(AbstractStringBuilder.java:762)&lt;br/&gt;
     at java.lang.StringBuilder.deleteCharAt(StringBuilder.java:258)&lt;br/&gt;
     at org.apache.pdfbox.pdfparser.BaseParser.parseCOSHexString(BaseParser.java:1000)&lt;br/&gt;
     at org.apache.pdfbox.pdfparser.BaseParser.parseCOSString(BaseParser.java:808)&lt;br/&gt;
     at org.apache.pdfbox.pdfparser.BaseParser.parseDirObject(BaseParser.java:1241)&lt;br/&gt;
     at org.apache.pdfbox.pdfparser.PDFParser.parseObject(PDFParser.java:558)&lt;br/&gt;
     at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:188)&lt;/p&gt;</description>
                <environment>Windows 7, JRE 1.7.0_15-b03</environment>
        <key id="12648880">PDFBOX-1607</key>
            <summary>StringIndexOutOfBoundsException in PDFParser</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="alexeya">Alex Alishevskikh</reporter>
                        <labels>
                    </labels>
                <created>Wed, 22 May 2013 12:27:36 +0000</created>
                <updated>Wed, 15 Jan 2014 11:19:00 +0000</updated>
                            <resolved>Mon, 28 Oct 2013 17:49:29 +0000</resolved>
                                    <version>1.8.1</version>
                                    <fixVersion>1.8.3</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13664052" author="alexeya" created="Wed, 22 May 2013 12:30:27 +0000"  >&lt;p&gt;Examples of files producing SIOOBE on parsing with 1.8.1 version.&lt;/p&gt;</comment>
                            <comment id="13665337" author="lehmi" created="Thu, 23 May 2013 16:41:52 +0000"  >&lt;p&gt;There is some HTML garbage at the end of the pdf and PDFBox tries to read &amp;lt;b&amp;gt; as COSString in hex format, which leads to the exception.&lt;/p&gt;

&lt;p&gt;The non sequential parser works like a charm. Use PDDocument#loadNonSeq instead of PDDocuemnt#load.&lt;/p&gt;</comment>
                            <comment id="13806720" author="arjohn" created="Mon, 28 Oct 2013 12:32:38 +0000"  >&lt;p&gt;Unfortunately, using the non sequential parser is not an option for us yet since that has other parsing problems. So I have investigated this parsing problem today.&lt;/p&gt;

&lt;p&gt;First of all this problem has been introduced in svn revision 1451638 as part of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1513&quot; title=&quot;PDF signature improvements&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1513&quot;&gt;&lt;del&gt;PDFBOX-1513&lt;/del&gt;&lt;/a&gt;. Looking at the changes that have been made to &lt;tt&gt;BaseParser&lt;/tt&gt; in that revision, I fail to see how &lt;tt&gt;sBuf&lt;/tt&gt; is related to the length of &lt;tt&gt;strmBuf&lt;/tt&gt; in this line:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;sBuf.deleteCharAt(strmBuf.length-1);&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;This looks like a genuine bug to me. The intention of this line was probably to discard the last character if the buffer contains an odd number of hexadecimals. If this line is fixed then the problematic documents parse successfully, albeit with an error being logged. That error is the result of the &lt;tt&gt;wasLastParsedObjectEOF&lt;/tt&gt; in &lt;tt&gt;PDFParser.parse()&lt;/tt&gt; being reset to false.&lt;/p&gt;

&lt;p&gt;The attached patch fixes both issues. That patch is based on today&apos;s trunk code. Please consider applying this patch.&lt;/p&gt;</comment>
                            <comment id="13806994" author="lehmi" created="Mon, 28 Oct 2013 17:49:29 +0000"  >&lt;p&gt;I applied the fix in revision 1536441 as proposed by Arjohn.&lt;/p&gt;

&lt;p&gt;Thanks for the contribution!&lt;/p&gt;</comment>
                            <comment id="13824813" author="lehmi" created="Sun, 17 Nov 2013 12:03:44 +0000"  >&lt;p&gt;Merged into 1.8-branch in revision 1542711&lt;/p&gt;</comment>
                            <comment id="13835787" author="lehmi" created="Sat, 30 Nov 2013 17:02:03 +0000"  >&lt;p&gt;Closed after releasing 1.8.3&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12676337">PDFBOX-1761</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12584297" name="pdf-govdocs-036902.pdf" size="126075" author="alexeya" created="Wed, 22 May 2013 12:30:27 +0000"/>
                            <attachment id="12584298" name="pdf-govdocs-107566.pdf" size="81801" author="alexeya" created="Wed, 22 May 2013 12:30:27 +0000"/>
                            <attachment id="12610546" name="pdfbox-1607-fix.patch" size="1505" author="arjohn" created="Mon, 28 Oct 2013 12:35:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329209</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ksrj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>329549</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>