<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:09:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4678] Use PDFontFactory. CreateDefaultFont font to render text, the exported PDF document has a mistake</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4678</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Using PDFontFactory. CreateDefaultFont font to render a text and save this document.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; fontSize = 11;
PDFont font = PDFontFactory.createDefaultFont(); 
contentStream.beginText();  
contentStream.newLineAtOffset(100, 100); 
contentStream.setFont(font, fontSize);
contentStream.showText(&lt;span class=&quot;code-quote&quot;&gt;&quot;&#165;456,123&quot;&lt;/span&gt;); 
contentStream.endText();
contentStream.close();

doc.save(&lt;span class=&quot;code-quote&quot;&gt;&quot;sample.pdf&quot;&lt;/span&gt;);&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Open the PDF document with Abode and throw the following error message when editing the document.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12984871/12984871_AdobeError.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;And&#160;i&#160;opened this pdf document using the Google browser as shown below:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12984870/12984870_GoogleChrome.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12984872/12984872_Test.zip&quot; title=&quot;Test.zip attached to PDFBOX-4678&quot;&gt;Test.zip&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13266255">PDFBOX-4678</key>
            <summary>Use PDFontFactory. CreateDefaultFont font to render text, the exported PDF document has a mistake</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="berylbai">bai yuan</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Nov 2019 05:44:44 +0000</created>
                <updated>Mon, 23 Dec 2019 22:15:57 +0000</updated>
                            <resolved>Tue, 5 Nov 2019 17:51:58 +0000</resolved>
                                    <version>2.0.17</version>
                                    <fixVersion>2.0.18</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16967261" author="tilman" created="Tue, 5 Nov 2019 06:04:59 +0000"  >&lt;p&gt;Please try using&#160;&lt;tt&gt;PDType1Font.HELVETICA&lt;/tt&gt; instead and tell whether that works. I have doubts whether &lt;tt&gt;createDefaultFont&lt;/tt&gt; is good for creating PDFs (at the very least, the method has a poor javadoc), it was meant for rendering corrupted PDFs (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2222&quot; title=&quot;NPE in PDFStreamEngine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2222&quot;&gt;&lt;del&gt;PDFBOX-2222&lt;/del&gt;&lt;/a&gt;) and I see that it references a font that may not exist on your machine (Arial). I don&apos;t have an error with Adobe Reader, but I have the save problem with Chrome that you have.&lt;/p&gt;</comment>
                            <comment id="16967276" author="berylbai" created="Tue, 5 Nov 2019 06:25:00 +0000"  >&lt;p&gt;Use the Adobe Acrobat Pro DC, and click on the &quot;Edit PDF&quot; menu, the error box appreaes.&#160; &#160;I use the&#160;PDType1Font.HELVETICA instead,&#160;neither of these situations exists. So is it not recommended to use createDefaultFont to create the default font for pdfbox?&lt;/p&gt;</comment>
                            <comment id="16967290" author="tilman" created="Tue, 5 Nov 2019 06:38:21 +0000"  >&lt;p&gt;Indeed, you should not use that method, sorry about it. I&apos;ll think about it, but I will probably deprecate the method in 2.0 and delete it in the trunk.&lt;/p&gt;

&lt;p&gt;I don&apos;t have Acrobat Pro.&lt;/p&gt;</comment>
                            <comment id="16967297" author="berylbai" created="Tue, 5 Nov 2019 06:56:24 +0000"  >&lt;p&gt;I got it, thanks&lt;/p&gt;</comment>
                            <comment id="16967717" author="jira-bot" created="Tue, 5 Nov 2019 17:48:48 +0000"  >&lt;p&gt;Commit 1869422 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1869422&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1869422&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4678&quot; title=&quot;Use PDFontFactory. CreateDefaultFont font to render text, the exported PDF document has a mistake&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4678&quot;&gt;&lt;del&gt;PDFBOX-4678&lt;/del&gt;&lt;/a&gt;: deprecate method that returns a possibly broken font, use / return standard font instead&lt;/p&gt;</comment>
                            <comment id="16967718" author="jira-bot" created="Tue, 5 Nov 2019 17:48:53 +0000"  >&lt;p&gt;Commit 1869423 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1869423&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1869423&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4678&quot; title=&quot;Use PDFontFactory. CreateDefaultFont font to render text, the exported PDF document has a mistake&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4678&quot;&gt;&lt;del&gt;PDFBOX-4678&lt;/del&gt;&lt;/a&gt;: deprecate method that returns a possibly broken font, use / return standard font instead&lt;/p&gt;</comment>
                            <comment id="16967720" author="jira-bot" created="Tue, 5 Nov 2019 17:50:34 +0000"  >&lt;p&gt;Commit 1869424 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1869424&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1869424&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4678&quot; title=&quot;Use PDFontFactory. CreateDefaultFont font to render text, the exported PDF document has a mistake&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4678&quot;&gt;&lt;del&gt;PDFBOX-4678&lt;/del&gt;&lt;/a&gt;: remove method that returned a possibly broken font, use standard font instead&lt;/p&gt;</comment>
                            <comment id="16967721" author="jira-bot" created="Tue, 5 Nov 2019 17:50:39 +0000"  >&lt;p&gt;Commit 1869425 from Tilman Hausherr in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1869425&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1869425&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4678&quot; title=&quot;Use PDFontFactory. CreateDefaultFont font to render text, the exported PDF document has a mistake&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4678&quot;&gt;&lt;del&gt;PDFBOX-4678&lt;/del&gt;&lt;/a&gt;: remove method that returned a possibly broken font, use standard font instead&lt;/p&gt;</comment>
                            <comment id="16967722" author="tilman" created="Tue, 5 Nov 2019 17:51:58 +0000"  >&lt;p&gt;Done. Thanks for reporting this!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12728188">PDFBOX-2222</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12984871" name="AdobeError.png" size="47423" author="berylbai" created="Tue, 5 Nov 2019 05:43:30 +0000"/>
                            <attachment id="12984870" name="GoogleChrome.png" size="19051" author="berylbai" created="Tue, 5 Nov 2019 05:44:40 +0000"/>
                            <attachment id="12984872" name="Test.zip" size="9856714" author="berylbai" created="Tue, 5 Nov 2019 04:13:09 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z089co:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>