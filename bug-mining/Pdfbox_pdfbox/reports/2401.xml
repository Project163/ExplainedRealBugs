<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:10:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4900] PDFBox Rendering of PDF Page incorrect when using the special None Named Separation</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4900</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Setting a Named Separation to &quot;None&quot; is a way of creating an ink should be ignored by the rendering application. This doesn&apos;t happen in PDFBox as it appears to use the CMYK representation when displaying the PDF in the debugger and when it creates a rendered png file.&lt;/p&gt;

&lt;p&gt;i.e.&lt;/p&gt;

&lt;p&gt;BufferedImage bim = pdfRenderer.renderImageWithDPI(page, 300, ImageType.RGB);&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Other applications (Acrobat, ImageMagick etc.) render the output correctly.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The attached PDF FIle illustrate this.&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
TwoCircles_NS.pdf was created in Adobe Illustrator and saved as PDF without compression. It uses a couple of named separations NS_1 and NS_2.&#160;&lt;br/&gt;
&#160;&lt;br/&gt;
TwoCircles_NS-None.pdf is the same PDF content but the names of the name separations have both been set to &quot;None&quot; - This was done in a HexEditor but in practice it is done via PDFBox.&lt;br/&gt;
&#160;&lt;br/&gt;
PDFBox_TwoCircles_NS-None.pdf-1.png is the result of the PDFBox Render to PNG which doesn&apos;t appear to follow the PDF Spec. and the definition of None when used as a named separation.&lt;br/&gt;
&#160;&lt;br/&gt;
ImageMagic_TwoCircles_NS-none.png is the output from &quot;magick convert -density 150&quot; which appears to be correct/gives the desired result.&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&lt;br/&gt;
&#160;&lt;/p&gt;</description>
                <environment>Windows Linux</environment>
        <key id="13313662">PDFBOX-4900</key>
            <summary>PDFBox Rendering of PDF Page incorrect when using the special None Named Separation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="PDFDeveloper">Andrew Daykin</reporter>
                        <labels>
                    </labels>
                <created>Fri, 26 Jun 2020 17:34:43 +0000</created>
                <updated>Fri, 21 Aug 2020 04:55:05 +0000</updated>
                            <resolved>Sun, 12 Jul 2020 07:57:56 +0000</resolved>
                                    <version>2.0.19</version>
                                    <fixVersion>2.0.21</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1209600">336h</timeoriginalestimate>
                            <timeestimate seconds="1209600">336h</timeestimate>
                                        <comments>
                            <comment id="17146852" author="tilman" created="Sat, 27 Jun 2020 09:28:03 +0000"  >&lt;p&gt;I suspect that this one will need some major work, although I&apos;ll be able to make a workaround for this file. The problem is that our code returns RGB values everywhere, not ARGB. Before that, I&apos;ll search our files to see whethere there are any with this colorspace and &quot;None&quot;.&lt;/p&gt;</comment>
                            <comment id="17146872" author="msahyoun" created="Sat, 27 Jun 2020 10:22:40 +0000"  >&lt;p&gt;Maybe an intial step would be to ignore the separation &quot;None&quot; elements as these should not be rendered at all.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17146887" author="tilman" created="Sat, 27 Jun 2020 10:55:52 +0000"  >&lt;p&gt;One part is the code in PageDrawer which is easy. But there are lots of other parts. The problem is that it&apos;s not good code, to ask for the class of a colorspace and then to check whether it is None.&lt;/p&gt;</comment>
                            <comment id="17146912" author="jira-bot" created="Sat, 27 Jun 2020 11:52:14 +0000"  >&lt;p&gt;Commit 1879262 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1879262&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1879262&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4900&quot; title=&quot;PDFBox Rendering of PDF Page incorrect when using the special None Named Separation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4900&quot;&gt;&lt;del&gt;PDFBOX-4900&lt;/del&gt;&lt;/a&gt;: don&apos;t show if separation color space with name &quot;None&quot;&lt;/p&gt;</comment>
                            <comment id="17146986" author="tilman" created="Sat, 27 Jun 2020 14:42:02 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=PDFDeveloper&quot; class=&quot;user-hover&quot; rel=&quot;PDFDeveloper&quot;&gt;PDFDeveloper&lt;/a&gt; please try the snapshot&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.21-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.21-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17156230" author="jira-bot" created="Sun, 12 Jul 2020 07:49:43 +0000"  >&lt;p&gt;Commit 1879804 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1879804&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1879804&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4900&quot; title=&quot;PDFBox Rendering of PDF Page incorrect when using the special None Named Separation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4900&quot;&gt;&lt;del&gt;PDFBOX-4900&lt;/del&gt;&lt;/a&gt;: don&apos;t show if separation color space with name &quot;None&quot;&lt;/p&gt;</comment>
                            <comment id="17156231" author="jira-bot" created="Sun, 12 Jul 2020 07:49:47 +0000"  >&lt;p&gt;Commit 1879805 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1879805&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1879805&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4900&quot; title=&quot;PDFBox Rendering of PDF Page incorrect when using the special None Named Separation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4900&quot;&gt;&lt;del&gt;PDFBOX-4900&lt;/del&gt;&lt;/a&gt;: don&apos;t show if separation color space with name &quot;None&quot;&lt;/p&gt;</comment>
                            <comment id="17156233" author="tilman" created="Sun, 12 Jul 2020 07:57:48 +0000"  >&lt;p&gt;positive feedback was given by mail.&lt;/p&gt;

&lt;p&gt;This solution is not a perfect one, for example it ignores images, and colorspaces made of other colorspaces. This opens a real can of worms (see also my first comment), despite that it is a rather obscure feature. I ran a software to find examples in our corpus, and the cases I found always had a &quot;backup&quot;, i.e. the actual color value was used so that it came out white. One can only notice the difference by using ARGB feature when rendering, now such areas are transparent instead of white.&lt;/p&gt;

&lt;p&gt;What&apos;s also missing is &quot;All&quot;. This one I didn&apos;t understand.&lt;/p&gt;

&lt;p&gt;So I&apos;m setting this to resolved anyway; if anyone hits an example where it is needed, please create a follow-up issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13006543" name="ImageMagic_TwoCircles_NS-None.png" size="23874" author="PDFDeveloper" created="Fri, 26 Jun 2020 17:30:37 +0000"/>
                            <attachment id="13006542" name="PDFBox_TwoCircles_NS-None.pdf-1.png" size="130528" author="PDFDeveloper" created="Fri, 26 Jun 2020 17:30:37 +0000"/>
                            <attachment id="13006540" name="TwoCircles_NS-None.pdf" size="357683" author="PDFDeveloper" created="Fri, 26 Jun 2020 17:30:37 +0000"/>
                            <attachment id="13006541" name="TwoCircles_NS.pdf" size="357683" author="PDFDeveloper" created="Fri, 26 Jun 2020 17:30:37 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 17 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0g8a8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>