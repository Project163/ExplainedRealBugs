<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:57:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2313] ExtractImages finds never-rendered images</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2313</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The file from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2101&quot; title=&quot;Surprising memory consumption when extracting images&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2101&quot;&gt;&lt;del&gt;PDFBOX-2101&lt;/del&gt;&lt;/a&gt; is still causing unexpectedly high memory use with ExtractImages when compared to PDFToImage. Given that PDFToImage uses the same caching strategy, it&apos;s not really a caching issue, though we might still want to think about that.&lt;/p&gt;

&lt;p&gt;The PDF contains 55 images on the first page which are never rendered and ExtractImages runs out of memory trying to extract them all. Given that PDFs often contain junk like this, I suggest that ExtractImages only extract images which are actually drawn to the page at some point.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12738950">PDFBOX-2313</key>
            <summary>ExtractImages finds never-rendered images</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="jahewson">John Hewson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 3 Sep 2014 22:16:25 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:22 +0000</updated>
                            <resolved>Fri, 5 Sep 2014 17:42:34 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14120996" author="tilman" created="Thu, 4 Sep 2014 06:11:11 +0000"  >&lt;p&gt;To only extract images which are actually drawn to the page at some point we&apos;d need to create something like a PageDrawer that doesn&apos;t draw. We would have to parse all streams of a page, including substreams, and remember which images we saved. Nobody has ever complained about getting too many images (including me, I noticed I was getting more than I needed years ago already).&lt;/p&gt;

&lt;p&gt;It would be easier to just put back the PDImageXObject.clear() method removed in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2310&quot; title=&quot;codeToGID NPE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2310&quot;&gt;&lt;del&gt;PDFBOX-2310&lt;/del&gt;&lt;/a&gt;. Or get rid of the image caching, or improve it, e.g. by only caching small images, or only caching the last recently used images.&lt;/p&gt;</comment>
                            <comment id="14123219" author="jira-bot" created="Fri, 5 Sep 2014 17:40:31 +0000"  >&lt;p&gt;Commit 1622746 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1622746&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1622746&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2313&quot; title=&quot;ExtractImages finds never-rendered images&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2313&quot;&gt;&lt;del&gt;PDFBOX-2313&lt;/del&gt;&lt;/a&gt;: Only extract images which are used in the content stream&lt;/p&gt;</comment>
                            <comment id="14123225" author="jahewson" created="Fri, 5 Sep 2014 17:41:55 +0000"  >&lt;blockquote&gt;
&lt;p&gt;we&apos;d need to create something like a PageDrawer that doesn&apos;t draw&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Now that we have PDFGraphicsStreamEngine this was actually easy, and it has the added benefit that inline images will finally be supported by ExtractImages.&lt;/p&gt;

&lt;p&gt;I&apos;m still going to look into removing/improving image caching, with a view to having consumers perform their own caching an implementing something smart for us in PDFRenderer - see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2323&quot; title=&quot;More flexible image caching (OOM)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2323&quot;&gt;&lt;del&gt;PDFBOX-2323&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12738791">PDFBOX-2310</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12717072">PDFBOX-2101</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 11 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1znjr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>