<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:09:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4490] .getNumberofPages() returns incorrect value</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4490</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Uses the following method to return total page numbers:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pageCount(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] document) { withDocument(document) { PDDocument pdf -&amp;gt; pdf.getNumberOfPages() } }


&lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; withDocument(&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] document, Closure clos) {
    PDDocument doc

    &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
        &lt;span class=&quot;code-comment&quot;&gt;// Read the PDF file via PdfBox
&lt;/span&gt;        ByteArrayInputStream bais = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(document)
        doc = PDDocument.load(bais, MemoryUsageSetting.setupTempFileOnly())

        &lt;span class=&quot;code-comment&quot;&gt;// Clone the Closure as a security measureee
&lt;/span&gt;        Closure clone = clos.clone()

        &lt;span class=&quot;code-comment&quot;&gt;// Execute the custom processing on the PDDocument
&lt;/span&gt;        clone(doc)
    } &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt; {
        doc?.close()
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;When using the attached PDF, it returns a total of two pages.&lt;/p&gt;</description>
                <environment>Operating System: Ubuntu 18.04&lt;br/&gt;
Framework: Grails 2.5.6</environment>
        <key id="13222602">PDFBOX-4490</key>
            <summary>.getNumberofPages() returns incorrect value</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="spencer.gowin">Spencer</reporter>
                        <labels>
                    </labels>
                <created>Tue, 19 Mar 2019 14:39:43 +0000</created>
                <updated>Sat, 1 Feb 2020 05:05:24 +0000</updated>
                            <resolved>Sun, 24 Mar 2019 13:32:47 +0000</resolved>
                                    <version>2.0.14</version>
                                    <fixVersion>2.0.15</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16796481" author="tilman" created="Tue, 19 Mar 2019 20:19:37 +0000"  >&lt;p&gt;Whatever it is, it worked in 2.0.7 (3 pages) and no longer in 2.0.8 (2 pages).&lt;/p&gt;</comment>
                            <comment id="16799983" author="lehmi" created="Sun, 24 Mar 2019 10:37:16 +0000"  >&lt;p&gt;I can&apos;t confirm the issue using 2.0.15-SNAPSHOT.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; What did you do to trigger the issue? I&apos;ve simply loaded the atteched pdf and called getNumberOfPages()? Am I missing some important detail?&lt;/p&gt;</comment>
                            <comment id="16799985" author="tilman" created="Sun, 24 Mar 2019 10:43:40 +0000"  >&lt;p&gt;I just opened the file with PDFDebugger and it showed 2 pages, starting with 2.0.8. Adobe Reader shows 3 pages.&lt;/p&gt;</comment>
                            <comment id="16799988" author="lehmi" created="Sun, 24 Mar 2019 11:05:44 +0000"  >&lt;p&gt;It seems to be a runtime issue. It works for Oracle JDK 1.7.0_75 and fails for OpenJDK 1.8.0_201 at least on fedora.&lt;br/&gt;
Update: it fails as well for Oracle 1.8.0_73&lt;/p&gt;</comment>
                            <comment id="16800062" author="jira-bot" created="Sun, 24 Mar 2019 13:21:51 +0000"  >&lt;p&gt;Commit 1856148 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1856148&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1856148&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4490&quot; title=&quot;.getNumberofPages() returns incorrect value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4490&quot;&gt;&lt;del&gt;PDFBOX-4490&lt;/del&gt;&lt;/a&gt;: compare correct index values while rebuilding object streams&lt;/p&gt;</comment>
                            <comment id="16800063" author="jira-bot" created="Sun, 24 Mar 2019 13:22:08 +0000"  >&lt;p&gt;Commit 1856149 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1856149&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1856149&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4490&quot; title=&quot;.getNumberofPages() returns incorrect value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4490&quot;&gt;&lt;del&gt;PDFBOX-4490&lt;/del&gt;&lt;/a&gt;: compare correct index values while rebuilding object streams&lt;/p&gt;</comment>
                            <comment id="16800064" author="lehmi" created="Sun, 24 Mar 2019 13:32:13 +0000"  >&lt;p&gt;I&apos;ve fixed an issue with the brute force parser. The rebuild of object streams didn&apos;t work correct. Depending on the order of a specific map it works or not. Obviously different JDKs are producing different randomly ordered maps so that it sometimes works or not&lt;/p&gt;

&lt;p&gt;Snapshot will be available soon&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.15-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.15-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16800078" author="tilman" created="Sun, 24 Mar 2019 14:13:23 +0000"  >&lt;p&gt;There is a difference but I suspect this is an improvement. The signature when rendering &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3714&quot; title=&quot;PDF with blanks at the beginning can&amp;#39;t be parsed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3714&quot;&gt;&lt;del&gt;PDFBOX-3714&lt;/del&gt;&lt;/a&gt;-2.pdf is no longer visible. However, for the file &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3714&quot; title=&quot;PDF with blanks at the beginning can&amp;#39;t be parsed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3714&quot;&gt;&lt;del&gt;PDFBOX-3714&lt;/del&gt;&lt;/a&gt;-2-fixed.pdf the signature is never visible, i.e. not before and not after the change. (The annotation flags are gone)&lt;/p&gt;</comment>
                            <comment id="16800119" author="lehmi" created="Sun, 24 Mar 2019 16:50:41 +0000"  >&lt;p&gt;Yes, it seems the bug reactivates some objects which are outdated/updated&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13282733">PDFBOX-4759</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12962991" name="NeS1078.pdf" size="283351" author="spencer.gowin" created="Tue, 19 Mar 2019 14:30:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 33 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00v7c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>