<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:10:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4904] Bold text leads to wrong order - Text extraction</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4904</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When extracting the text from a PDF bold text seems to be out of order under some conditions.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; (PDDocument doc = PDDocument.load(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;152-0130-20-B-&#214;-43.pdf&quot;&lt;/span&gt;))) {
    PDFTextStripper stripper = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDFTextStripper();
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; contents = stripper.getText(doc);
    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(contents);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;See section w) - the text should be:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;&lt;b&gt;Pr&#228;qualifizierte Unternehmen&lt;/b&gt; f&#252;hren den Nachweis der Eignung durch den Eintrag in&lt;/em&gt;&lt;br/&gt;
 &lt;em&gt;die Liste des Vereins f&#252;r die Pr&#228;qualifikation von Bauunternehmen e.V.&lt;/em&gt;&lt;br/&gt;
 &lt;em&gt;(Pr&#228;qualifikationsverzeichnis). ...&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;But it actually is:&lt;/p&gt;

&lt;p&gt;&#160;&lt;em&gt;f&#252;hren den Nachweis der Eignung durch den Eintrag in &lt;b&gt;Pr&#228;qualifizierte Unternehmen&lt;/b&gt;&lt;/em&gt;&lt;br/&gt;
 &lt;em&gt;die Liste des Vereins f&#252;r die Pr&#228;qualifikation von Bauunternehmen e.V.&lt;/em&gt;&lt;br/&gt;
 &lt;em&gt;(Pr&#228;qualifikationsverzeichnis).&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I attached an example PDF.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;/edit: pdfjs and Acrobat can copy/paste the text in order.&lt;/p&gt;</description>
                <environment>JDK 8</environment>
        <key id="13314325">PDFBOX-4904</key>
            <summary>Bold text leads to wrong order - Text extraction</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="10004">Not A Bug</resolution>
                                        <assignee username="msahyoun">Maruan Sahyoun</assignee>
                                    <reporter username="ronald.bergmann">Ronald Bergmann</reporter>
                        <labels>
                            <label>Documentation</label>
                    </labels>
                <created>Tue, 30 Jun 2020 15:25:50 +0000</created>
                <updated>Fri, 21 Aug 2020 04:54:10 +0000</updated>
                            <resolved>Wed, 1 Jul 2020 10:20:38 +0000</resolved>
                                    <version>2.0.20</version>
                                    <fixVersion>2.0.21</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17148782" author="msahyoun" created="Tue, 30 Jun 2020 15:39:29 +0000"  >&lt;p&gt;please set &lt;tt&gt;stripper.setSortByPosition(true)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://pdfbox.apache.org/2.0/faq.html#why-does-the-extracted-text-appear-in-the-wrong-sequence%3F&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pdfbox.apache.org/2.0/faq.html#why-does-the-extracted-text-appear-in-the-wrong-sequence%3F&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17149209" author="ronald.bergmann" created="Wed, 1 Jul 2020 08:25:22 +0000"  >&lt;p&gt;Now I feel stupid, thanks &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/biggrin.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Can we add a hint to stripper.getText() or the constructor doc? That&apos;d be helpful.&lt;/p&gt;</comment>
                            <comment id="17149221" author="msahyoun" created="Wed, 1 Jul 2020 08:53:54 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ronald.bergmann&quot; class=&quot;user-hover&quot; rel=&quot;ronald.bergmann&quot;&gt;ronald.bergmann&lt;/a&gt; no need to feel stupid - obviously we can improve our documentation. Where would you expect that information? If we add that to the JavaDoc would that be sufficient? I think it would best be placed at the top of the class - is that fine for you? Any other suggestion?&lt;/p&gt;</comment>
                            <comment id="17149257" author="ronald.bergmann" created="Wed, 1 Jul 2020 09:51:56 +0000"  >&lt;p&gt;I&apos;d very much appreciate that. Somewhere prominent in the getText() doc would be fine, I guess. Thanks!&lt;/p&gt;</comment>
                            <comment id="17149280" author="jira-bot" created="Wed, 1 Jul 2020 10:11:18 +0000"  >&lt;p&gt;Commit 1879395 from Maruan Sahyoun in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1879395&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1879395&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4904&quot; title=&quot;Bold text leads to wrong order - Text extraction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4904&quot;&gt;&lt;del&gt;PDFBOX-4904&lt;/del&gt;&lt;/a&gt;: add hint to javadoc to setSortByPosition as suggested by Ronald Bergmann&lt;/p&gt;</comment>
                            <comment id="17149281" author="jira-bot" created="Wed, 1 Jul 2020 10:11:42 +0000"  >&lt;p&gt;Commit 1879396 from Maruan Sahyoun in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1879396&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1879396&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4904&quot; title=&quot;Bold text leads to wrong order - Text extraction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4904&quot;&gt;&lt;del&gt;PDFBOX-4904&lt;/del&gt;&lt;/a&gt;: add hint to javadoc to setSortByPosition as suggested by Ronald Bergmann&lt;/p&gt;</comment>
                            <comment id="17149291" author="jira-bot" created="Wed, 1 Jul 2020 10:18:01 +0000"  >&lt;p&gt;Commit 1879397 from Maruan Sahyoun in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1879397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1879397&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4904&quot; title=&quot;Bold text leads to wrong order - Text extraction&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4904&quot;&gt;&lt;del&gt;PDFBOX-4904&lt;/del&gt;&lt;/a&gt;: add hint to javadoc to setSortByPosition as suggested by Ronald Bergmann&lt;/p&gt;</comment>
                            <comment id="17149293" author="msahyoun" created="Wed, 1 Jul 2020 10:20:38 +0000"  >&lt;p&gt;Added hint to to javadoc as suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ronald.bergmann&quot; class=&quot;user-hover&quot; rel=&quot;ronald.bergmann&quot;&gt;ronald.bergmann&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17149344" author="faltiska" created="Wed, 1 Jul 2020 11:36:19 +0000"  >&lt;p&gt;I was under the impression sortByPosition does not work very well and I tried never to use it.&lt;/p&gt;

&lt;p&gt;Mainly because it breaks extraction from multi column PDFs. Here&apos;s an example:&#160;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13006820/13006820_Two+columns+1.pdf&quot; title=&quot;Two columns 1.pdf attached to PDFBOX-4904&quot;&gt;Two columns 1.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;I was not aware that there are cases were it works better with the flag than without it.&lt;br/&gt;
I wonder if there&apos;s a way to detect when would the flag help or hinder.&lt;/p&gt;

&lt;p&gt;Is sortByPosition expected to work in case of multi column?&lt;/p&gt;



&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17149421" author="ronald.bergmann" created="Wed, 1 Jul 2020 13:07:09 +0000"  >&lt;p&gt;That&apos;s a good point. Thankfully tables and sorts are not an issue for this particular project of mine but for others.&lt;/p&gt;

&lt;p&gt;How come it&apos;s not the default option, btw? Don&apos;t people expect to get the text in the order they see it (in the reader, not in the sources)?&lt;/p&gt;</comment>
                            <comment id="17149430" author="msahyoun" created="Wed, 1 Jul 2020 13:17:14 +0000"  >&lt;p&gt;sort is not the default option as&lt;/p&gt;

&lt;p&gt;a) there is an impact (although small) in performance and&lt;/p&gt;

&lt;p&gt;b) more importantly it doesn&apos;t work well for multi colum layouts and tables&lt;/p&gt;

&lt;p&gt;There is an option in PDF to mark multicolumn text or articles in what&apos;s called Beads but that&apos;s not commonly used. PDFs could also have structure information which again is not commonly used. So there is room for improvement when it comes to text extraction for complex layouts.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13006763" name="152-0130-20-B-&#214;-43.pdf" size="45311" author="ronald.bergmann" created="Tue, 30 Jun 2020 15:22:41 +0000"/>
                            <attachment id="13006765" name="152-0130-20-B-&#214;-43.txt" size="6669" author="msahyoun" created="Tue, 30 Jun 2020 15:43:10 +0000"/>
                            <attachment id="13006820" name="Two columns 1.pdf" size="9511" author="Faltiska" created="Wed, 1 Jul 2020 11:32:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 19 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0gcdk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>