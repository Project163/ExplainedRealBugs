<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:14:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5806] Wrong font substitution for Wingdings</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5806</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;On the attached PDF the non embedded font &quot;Wingdings,Bolt&quot; is not found and replaced by another font.&lt;/p&gt;

&lt;p&gt;Is:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13068255/13068255_screenshot-2.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Expected:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13068256/13068256_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;There are more fonts that are not found. For those Acrobat also seems to use an replacement, &quot;Adobe Sans MM&quot;. Those should be ok.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160;Warning &#160;[PDTrueTypeFont] Using fallback font CourierNewPS-BoldMT &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Wingdings,Bold
&#160;Warning &#160;[PDTrueTypeFont] Using fallback font CourierNewPSMT &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CorporateACon
&#160;Warning &#160;[PDTrueTypeFont] Using fallback font CourierNewPSMT &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; CorpoSLig&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I propose an addition to the FontMapperImpl in findFont:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@@ -441,6 +441,16 @@ &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;FontMapperImpl &lt;span class=&quot;code-keyword&quot;&gt;implements&lt;/span&gt; FontMapper
&#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; info.getFont();
&#160; &#160; &#160; &#160; &#160;}
&#160;
+ &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (postScriptName.contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;)) {
+ &#160; &#160; &#160; &#160; &#160; &#160;postScriptName = postScriptName.substring(0, postScriptName.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;,&quot;&lt;/span&gt;));
+ &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; cutting font style and getting the basefont, eg. &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;code-quote&quot;&gt;&quot;Wingdings,Bolt&quot;&lt;/span&gt; to &lt;span class=&quot;code-quote&quot;&gt;&quot;Wingding-Regular&quot;&lt;/span&gt; (including the following step)
&lt;/span&gt;+ &#160; &#160; &#160; &#160; &#160; &#160;info = getFont(format, postScriptName);
+ &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (info != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
+ &#160; &#160; &#160; &#160; &#160; &#160;{
+ &#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; info.getFont();
+ &#160; &#160; &#160; &#160; &#160; &#160;}
+ &#160; &#160; &#160; &#160;}
+
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; appending &lt;span class=&quot;code-quote&quot;&gt;&quot;-Regular&quot;&lt;/span&gt;, works &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; Wingdings on windows
&lt;/span&gt;&#160; &#160; &#160; &#160; &#160;info = getFont(format, postScriptName + &lt;span class=&quot;code-quote&quot;&gt;&quot;-Regular&quot;&lt;/span&gt;);
&#160; &#160; &#160; &#160; &#160;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (info != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13576259">PDFBOX-5806</key>
            <summary>Wrong font substitution for Wingdings</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="Schmidor">Oliver Schmidtmer</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Apr 2024 19:19:33 +0000</created>
                <updated>Wed, 24 Jul 2024 16:02:07 +0000</updated>
                            <resolved>Thu, 18 Apr 2024 08:19:22 +0000</resolved>
                                    <version>2.0.31</version>
                    <version>3.0.2 PDFBox</version>
                                    <fixVersion>2.0.32</fixVersion>
                    <fixVersion>3.0.3 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17838443" author="tilman" created="Thu, 18 Apr 2024 03:40:17 +0000"  >&lt;p&gt;This change may have to be limited to WingDings (and maybe Symbol) because it would mean that other fonts won&apos;t be replaced with a bold font where it makes sense. I got several rendering changes that I&apos;ll analyse later.&lt;/p&gt;</comment>
                            <comment id="17838493" author="schmidor" created="Thu, 18 Apr 2024 07:08:40 +0000"  >&lt;p&gt;The cut of anything after a &quot;,&quot; is after all other variants have been tried. At least now only adding &quot;-Regular&quot; is tried currently.&lt;/p&gt;

&lt;p&gt;I thought removing any &quot;,Bold&quot;, &quot;,Italic&quot; etc. should be reasonable, as I don&apos;t think &quot;,Bold-Regular&quot; should exist on any system.&lt;/p&gt;

&lt;p&gt;Is it possible there are fonts, which include a comma within the name, that is not a separator for the font style?&lt;/p&gt;</comment>
                            <comment id="17838495" author="tilman" created="Thu, 18 Apr 2024 07:17:06 +0000"  >&lt;p&gt;Ignore my comment, I checked the differences and all are shown to be more similar to what Adobe is doing so this will be committed.&lt;/p&gt;</comment>
                            <comment id="17838502" author="jira-bot" created="Thu, 18 Apr 2024 07:32:42 +0000"  >&lt;p&gt;Commit 1917095 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1917095&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1917095&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5806&quot; title=&quot;Wrong font substitution for Wingdings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5806&quot;&gt;&lt;del&gt;PDFBOX-5806&lt;/del&gt;&lt;/a&gt;: try cutting font style and getting the basefont, as suggested by Oliver Schmidtmer&lt;/p&gt;</comment>
                            <comment id="17838503" author="jira-bot" created="Thu, 18 Apr 2024 07:32:47 +0000"  >&lt;p&gt;Commit 1917096 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1917096&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1917096&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5806&quot; title=&quot;Wrong font substitution for Wingdings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5806&quot;&gt;&lt;del&gt;PDFBOX-5806&lt;/del&gt;&lt;/a&gt;: try cutting font style and getting the basefont, as suggested by Oliver Schmidtmer&lt;/p&gt;</comment>
                            <comment id="17838504" author="jira-bot" created="Thu, 18 Apr 2024 07:32:51 +0000"  >&lt;p&gt;Commit 1917097 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1917097&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1917097&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5806&quot; title=&quot;Wrong font substitution for Wingdings&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5806&quot;&gt;&lt;del&gt;PDFBOX-5806&lt;/del&gt;&lt;/a&gt;: try cutting font style and getting the basefont, as suggested by Oliver Schmidtmer&lt;/p&gt;</comment>
                            <comment id="17838530" author="tilman" created="Thu, 18 Apr 2024 08:19:22 +0000"  >&lt;p&gt;Thanks for the contribution!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13068256" name="screenshot-1.png" size="8253" author="Schmidor" created="Wed, 17 Apr 2024 19:05:12 +0000"/>
                            <attachment id="13068255" name="screenshot-2.png" size="11969" author="Schmidor" created="Wed, 17 Apr 2024 19:05:15 +0000"/>
                            <attachment id="13068257" name="test.pdf" size="6008" author="Schmidor" created="Wed, 17 Apr 2024 19:02:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1opi0:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>