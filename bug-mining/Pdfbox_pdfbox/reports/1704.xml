<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:05:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3728] org.apache.pdfbox.cos.COSDictionary cannot be cast to org.apache.pdfbox.cos.COSStream</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3728</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The attached PDF document produces an exception in rendering or text extraction.&lt;/p&gt;

&lt;p&gt;Stacktrace:&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: org.apache.pdfbox.cos.COSDictionary cannot be cast to org.apache.pdfbox.cos.COSStream&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDPage.getContents(PDPage.java:157)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFStreamParser.&amp;lt;init&amp;gt;(PDFStreamParser.java:92)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:485)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:469)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:150)&lt;br/&gt;
	at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:206)&lt;br/&gt;
	at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:145)&lt;br/&gt;
	at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:68)&lt;br/&gt;
	at biz.pinnau.rcp.pdf.java.PDFBoxHandler.renderCurrentImage(PDFBoxHandler.java:52)&lt;br/&gt;
	at biz.pinnau.rcp.pdf.SWTPDFPositionChooser$12.run(SWTPDFPositionChooser.java:403)&lt;/p&gt;</description>
                <environment>Ubuntu + Windows, JRE 1.8.0 121</environment>
        <key id="13057915">PDFBOX-3728</key>
            <summary>org.apache.pdfbox.cos.COSDictionary cannot be cast to org.apache.pdfbox.cos.COSStream</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="pinnau">Peter Pinnau</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Mar 2017 14:21:57 +0000</created>
                <updated>Mon, 15 May 2017 20:28:14 +0000</updated>
                            <resolved>Tue, 21 Mar 2017 18:47:08 +0000</resolved>
                                    <version>2.0.4</version>
                    <version>2.0.5</version>
                                    <fixVersion>2.0.6</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15934889" author="lehmi" created="Tue, 21 Mar 2017 17:01:42 +0000"  >&lt;p&gt;The pdf is broken. It looks like someone edited it by hand to get some sort of template. Where did you get that? Did you create it yourself?&lt;/p&gt;</comment>
                            <comment id="15934935" author="jira-bot" created="Tue, 21 Mar 2017 17:23:50 +0000"  >&lt;p&gt;Commit 1788008 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1788008&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1788008&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3728&quot; title=&quot;org.apache.pdfbox.cos.COSDictionary cannot be cast to org.apache.pdfbox.cos.COSStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3728&quot;&gt;&lt;del&gt;PDFBOX-3728&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException&lt;/p&gt;</comment>
                            <comment id="15934936" author="jira-bot" created="Tue, 21 Mar 2017 17:23:56 +0000"  >&lt;p&gt;Commit 1788009 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1788009&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1788009&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3728&quot; title=&quot;org.apache.pdfbox.cos.COSDictionary cannot be cast to org.apache.pdfbox.cos.COSStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3728&quot;&gt;&lt;del&gt;PDFBOX-3728&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException&lt;/p&gt;</comment>
                            <comment id="15934961" author="jira-bot" created="Tue, 21 Mar 2017 17:39:08 +0000"  >&lt;p&gt;Commit 1788013 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1788013&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1788013&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3728&quot; title=&quot;org.apache.pdfbox.cos.COSDictionary cannot be cast to org.apache.pdfbox.cos.COSStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3728&quot;&gt;&lt;del&gt;PDFBOX-3728&lt;/del&gt;&lt;/a&gt;: avoid NPE&lt;/p&gt;</comment>
                            <comment id="15934962" author="jira-bot" created="Tue, 21 Mar 2017 17:39:13 +0000"  >&lt;p&gt;Commit 1788014 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1788014&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1788014&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3728&quot; title=&quot;org.apache.pdfbox.cos.COSDictionary cannot be cast to org.apache.pdfbox.cos.COSStream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3728&quot;&gt;&lt;del&gt;PDFBOX-3728&lt;/del&gt;&lt;/a&gt;: avoid NPE&lt;/p&gt;</comment>
                            <comment id="15934979" author="tilman" created="Tue, 21 Mar 2017 17:51:17 +0000"  >&lt;p&gt;That file is really FUBAR. I&apos;ve made some changes but this is only so that you don&apos;t get unchecked exceptions when rendering. Text extraction works.&lt;/p&gt;</comment>
                            <comment id="15935092" author="pinnau" created="Tue, 21 Mar 2017 18:42:10 +0000"  >&lt;p&gt;The document has not been modified by hand. But maybe the file is broken for other reason.&lt;/p&gt;

&lt;p&gt;A colleague of mine created that file out of Microsoft Word. It was a test document for another system. There we use PDFBox to add keywords and annotations to PDF documents.&lt;/p&gt;

&lt;p&gt;The fields&lt;br/&gt;
/DMS.doctype (ER)&lt;br/&gt;
/DMS.Mandant (PPW)&lt;br/&gt;
/DMS.Datum (2017-03-14)&lt;br/&gt;
/ER.Sachkto-Nr (094.02410)&lt;br/&gt;
/ER.Sachkto (Parkhaus)&lt;/p&gt;

&lt;p&gt;come from that processing.&lt;/p&gt;

&lt;p&gt;The /_TemplateID (TC018408419991) seems to come from Microsoft Word. I will try to reproduce the problem by generating and validating other files.&lt;/p&gt;

&lt;p&gt;Thank you.&lt;/p&gt;</comment>
                            <comment id="15935096" author="tilman" created="Tue, 21 Mar 2017 18:46:50 +0000"  >&lt;p&gt;Thanks for the feedback... if you keep getting such weird files, try generating from another PC with the same version of Word; if it still comes, submit a bug report to microsoft. The problem with this file is that many PDF elements were null, e.g. the ICC colorspace stream, or the page content stream array elements.&lt;/p&gt;</comment>
                            <comment id="15935117" author="pinnau" created="Tue, 21 Mar 2017 18:53:00 +0000"  >&lt;p&gt;OK. As mentioned the original document has been processed with PDFBox to add some fields. I will check if that null elements appear in the original PDF already or are a result of processing.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12859744" name="test.pdf" size="6573" author="pinnau" created="Tue, 21 Mar 2017 14:21:57 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ckzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>