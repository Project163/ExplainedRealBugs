<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1770] ExtractText gets all &quot;?&quot; when pdf &apos;s font is instance of PDType1Font</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1770</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;ExtractText gets all &quot;?&quot; when font is instanceof PDType1Font and subtype is type1CFont and fontEncoding is null.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12677492">PDFBOX-1770</key>
            <summary>ExtractText gets all &quot;?&quot; when pdf &apos;s font is instance of PDType1Font</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="sean.sun">Sean.Sun</reporter>
                        <labels>
                    </labels>
                <created>Tue, 5 Nov 2013 02:04:55 +0000</created>
                <updated>Fri, 31 Jan 2014 06:46:15 +0000</updated>
                            <resolved>Sat, 4 Jan 2014 17:39:28 +0000</resolved>
                                    <version>1.8.2</version>
                                    <fixVersion>1.8.4</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Text extraction</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13813561" author="sean.sun" created="Tue, 5 Nov 2013 02:06:35 +0000"  >&lt;p&gt;test file and result&lt;/p&gt;</comment>
                            <comment id="13813575" author="sean.sun" created="Tue, 5 Nov 2013 02:30:20 +0000"  >&lt;p&gt;I trace the source and found that:&lt;br/&gt;
PDType1Font.encode-&amp;gt;PDType1CFont.encode-&amp;gt;getCharacter:return null&lt;br/&gt;
But I don&apos;t know why excute PDType1CFont.encode when subtype is type1CFont and fontEncoding is null.&lt;br/&gt;
Needing some help. Thank you.&lt;/p&gt;</comment>
                            <comment id="13813833" author="tilman" created="Tue, 5 Nov 2013 10:39:32 +0000"  >&lt;p&gt;What do you mean &quot;But I don&apos;t why excute&quot;?&lt;/p&gt;

&lt;p&gt;1) Anyway, I took a quick look and I think I understand what you mean. PDFStreamEngine.java:380 is weird. From a string with &quot;14&quot; it makes a non-existing unicode character 12596.&lt;/p&gt;

&lt;p&gt;2) I also noticed: in PDType1CFont.java, in load(), the variable codeToNameMap is filled but then never used. However mapping.getCode() (which would have exactly the char values used in the PDF) is put there and not used. There should be some logic that maps from mapping.getCode() to mapping.getSID() and I suspect that it involves codeToNameMap. A perfect result would be that 49 somehow leads to 396, because 396 does exist in codetoGlyph and maps to the correct glyph 0.&lt;/p&gt;

&lt;p&gt;3) CFFGlyph2D has the same problem in the constructor as described in 2). Adding codeToGlyph.put(mapping.getCode(), glyphId) would bring up a perfectly rendered image, while the existing code brings only a lot of &quot;?&quot;.&lt;/p&gt;</comment>
                            <comment id="13814855" author="sean.sun" created="Wed, 6 Nov 2013 12:52:03 +0000"  >&lt;p&gt;Thanks for your reply,But I still don&apos;t know why PDType1CFont is different from others.&lt;/p&gt;</comment>
                            <comment id="13814872" author="tilman" created="Wed, 6 Nov 2013 13:27:58 +0000"  >&lt;p&gt;Neither do I (although encoding isn&apos;t null in the 2.0.0 version, but the result is the same). It&apos;s eather a bug or a non-conforming document. I have been able to make three changes so that I can extract text and render images, but the change is probably not really clean and might bring bad results in other documents. A good bugfix can only be made by somebody who has understood the 62page CFF spec.&lt;/p&gt;</comment>
                            <comment id="13862368" author="lehmi" created="Sat, 4 Jan 2014 17:39:28 +0000"  >&lt;p&gt;I fixed the issue in revisions 1555382 (trunk) and 1555384 (1.8 branch). Both the extraction of the text and the rendering works well.&lt;/p&gt;

&lt;p&gt;It doesn&apos;t make sense to use the embedded Type1 font to encode the string if the parent font hasn&apos;t any encoding. I simply removed the delegating call.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12612087" name="The Importance of Symmetry.pdf" size="94198" author="sean.sun" created="Tue, 5 Nov 2013 02:06:35 +0000"/>
                            <attachment id="12612088" name="The Importance of Symmetry.pdf.d2t" size="3649" author="sean.sun" created="Tue, 5 Nov 2013 02:06:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>356867</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 46 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1pirz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>357157</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>