<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:14:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5776] DataFormatException: invalid distance too far back</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5776</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13067060/13067060_image1.pdf&quot; title=&quot;image1.pdf attached to PDFBOX-5776&quot;&gt;image1.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;sup&gt;java.io.IOException: java.util.zip.DataFormatException: invalid distance too far back&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.filter.FlateFilter.decode(FlateFilter.java:58)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.pdmodel.graphics.image.PDInlineImage.&amp;lt;init&amp;gt;(PDInlineImage.java:90)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.contentstream.operator.graphics.BeginInlineImage.process(BeginInlineImage.java:44)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:966)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:541)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:516)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:155)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:284)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:355)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:272)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.Test.main(Test.java:289)&lt;/sup&gt;&lt;br/&gt;
&lt;sup&gt;Caused by: java.util.zip.DataFormatException: invalid distance too far back&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at java.util.zip.Inflater.inflateBytes(Native Method)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at java.util.zip.Inflater.inflate(Inflater.java:259)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at java.util.zip.Inflater.inflate(Inflater.java:280)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.filter.FlateFilter.decompress(FlateFilter.java:86)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;at org.apache.pdfbox.filter.FlateFilter.decode(FlateFilter.java:50)&lt;/sup&gt;&lt;br/&gt;
&#160; &#160; &lt;sup&gt;... 10 more&lt;/sup&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13569985">PDFBOX-5776</key>
            <summary>DataFormatException: invalid distance too far back</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="lycheng">liu</reporter>
                        <labels>
                    </labels>
                <created>Tue, 27 Feb 2024 10:46:45 +0000</created>
                <updated>Fri, 15 Mar 2024 04:54:12 +0000</updated>
                            <resolved>Wed, 28 Feb 2024 09:20:08 +0000</resolved>
                                    <version>2.0.30</version>
                    <version>3.0.1 PDFBox</version>
                                    <fixVersion>2.0.31</fixVersion>
                    <fixVersion>3.0.2 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17821174" author="tilman" created="Tue, 27 Feb 2024 10:59:46 +0000"  >&lt;p&gt;Here&apos;s what Adobe Reader shows (it means &quot;error on this page&quot;):&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13067062/13067062_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;br/&gt;
After clicking OK, it shows a stamp. That&apos;s a (broken) signature annotation. The stack trace indicates that at least one of the many inline images fails to decompress.&lt;/p&gt;</comment>
                            <comment id="17821258" author="mkl" created="Tue, 27 Feb 2024 14:18:12 +0000"  >&lt;p&gt;Indeed, already the first inline image is broken:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
q
.24 0 0 .24 0 0 cm 1765 3129.34 424 -34 re W* n
q
2.5 0 0 .5 1838.5 3128.830026 cm
BI
/BPC 8/CS/RGB/H 1/W 5 ID
&#167;&#167;&#228;&#167;&#167;&#228;oq&#212;&#155;&#156;&#225;&#155;&#156;&#225;q 0.24 0 0 0.24 0 0 cm
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The image data starts after &lt;b&gt;ID&lt;/b&gt; and ends before &lt;b&gt;EI&lt;/b&gt; &amp;#8212; and that &lt;b&gt;EI&lt;/b&gt; end image indicator is missing.&lt;/p&gt;

&lt;p&gt;This is not the only broken inline image in that content stream, though, more are following.&lt;/p&gt;

&lt;p&gt;Thus, both PDFBox and Acrobat are right to reject that PDF.&lt;/p&gt;</comment>
                            <comment id="17821474" author="JIRAUSER297279" created="Wed, 28 Feb 2024 01:54:13 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13067095/13067095_image-2024-02-28-09-53-49-944.png&quot; height=&quot;259&quot; width=&quot;342&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I found that it can be converted using mupdf&lt;/p&gt;</comment>
                            <comment id="17821476" author="JIRAUSER297279" created="Wed, 28 Feb 2024 02:12:09 +0000"  >&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13067096/13067096_image-2024-02-28-10-10-27-787.png&quot; height=&quot;233&quot; width=&quot;431&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13067097/13067097_image-2024-02-28-10-10-55-890.png&quot; height=&quot;185&quot; width=&quot;430&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;I try otherwise exception is thrown and will get a picture.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Can this exception be thrown? The data that can be rendered is rendered first, and the data that cannot be rendered can be printed out in the log without interrupting the conversion.&lt;/p&gt;</comment>
                            <comment id="17821568" author="jira-bot" created="Wed, 28 Feb 2024 08:56:37 +0000"  >&lt;p&gt;Commit 1916031 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916031&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916031&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5776&quot; title=&quot;DataFormatException: invalid distance too far back&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5776&quot;&gt;&lt;del&gt;PDFBOX-5776&lt;/del&gt;&lt;/a&gt;: catch DataFormatException, as suggested by Liu&lt;/p&gt;</comment>
                            <comment id="17821569" author="jira-bot" created="Wed, 28 Feb 2024 08:56:40 +0000"  >&lt;p&gt;Commit 1916032 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916032&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916032&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5776&quot; title=&quot;DataFormatException: invalid distance too far back&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5776&quot;&gt;&lt;del&gt;PDFBOX-5776&lt;/del&gt;&lt;/a&gt;: catch DataFormatException, as suggested by Liu&lt;/p&gt;</comment>
                            <comment id="17821570" author="jira-bot" created="Wed, 28 Feb 2024 08:56:44 +0000"  >&lt;p&gt;Commit 1916033 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916033&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5776&quot; title=&quot;DataFormatException: invalid distance too far back&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5776&quot;&gt;&lt;del&gt;PDFBOX-5776&lt;/del&gt;&lt;/a&gt;: catch DataFormatException, as suggested by Liu&lt;/p&gt;</comment>
                            <comment id="17821579" author="tilman" created="Wed, 28 Feb 2024 09:20:08 +0000"  >&lt;p&gt;Fixed as suggested, thanks. &lt;/p&gt;

&lt;p&gt;Initially I was thinking of expanding &lt;tt&gt;hasNoFollowingBinData()&lt;/tt&gt; but this is useless, considering this mess:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;BI
/BPC 8/CS/RGB/DP&amp;lt;&amp;lt;/Colors 3/Columns 35/Predictor 15&amp;gt;&amp;gt;/F/Fl/H 1/W 35 ID
x&#156;c&#140;&#141;&#191;&#242;&#247;&#239;O�&#154;���N &#233;&#238;&#198;
&amp;lt;/Predictor 15
/Columns 19
/Colors 3&amp;gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17821580" author="JIRAUSER297279" created="Wed, 28 Feb 2024 09:23:10 +0000"  >&lt;p&gt;(y)thanks&lt;/p&gt;</comment>
                            <comment id="17827049" author="JIRAUSER297279" created="Thu, 14 Mar 2024 10:52:26 +0000"  >&lt;p&gt;hi&#65281;I would like to know when 3.0.2 will be released?&lt;/p&gt;</comment>
                            <comment id="17827355" author="tilman" created="Fri, 15 Mar 2024 04:08:44 +0000"  >&lt;p&gt;It has just been released.&lt;/p&gt;</comment>
                            <comment id="17827374" author="JIRAUSER297279" created="Fri, 15 Mar 2024 04:54:12 +0000"  >&lt;p&gt;thanks&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13067095" name="image-2024-02-28-09-53-49-944.png" size="202630" author="lycheng" created="Wed, 28 Feb 2024 01:53:52 +0000"/>
                            <attachment id="13067096" name="image-2024-02-28-10-10-27-787.png" size="235691" author="lycheng" created="Wed, 28 Feb 2024 02:10:30 +0000"/>
                            <attachment id="13067097" name="image-2024-02-28-10-10-55-890.png" size="13828" author="lycheng" created="Wed, 28 Feb 2024 02:10:57 +0000"/>
                            <attachment id="13067060" name="image1.pdf" size="146520" author="lycheng" created="Tue, 27 Feb 2024 10:46:38 +0000"/>
                            <attachment id="13067062" name="screenshot-1.png" size="39603" author="tilman" created="Tue, 27 Feb 2024 10:57:53 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 34 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1nn74:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>