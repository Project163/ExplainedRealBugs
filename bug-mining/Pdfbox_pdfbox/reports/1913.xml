<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:07:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4103] Optional Content Groups with same names can&apos;t have different visibility</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4103</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;According to PDF specs, it is possible to create OC Groups with the same name. Their visibility should be determined using object references (object number and generation number). The current implementation of&#160;PDOptionalContentProperties does not allow to create and check visibility&#160;of two different groups with the same name because all checks are done using group name, not group object key.&lt;/p&gt;

&lt;p&gt;Provided PDF demonstrates this issue.&lt;/p&gt;

&lt;p&gt;The attached patch adds an ability to use&#160;PDOptionalContentGroup as key to check and set group visibility.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13137437">PDFBOX-4103</key>
            <summary>Optional Content Groups with same names can&apos;t have different visibility</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="ikhaldeev">Ivan Khaldeev</reporter>
                        <labels>
                            <label>OCGs</label>
                    </labels>
                <created>Fri, 9 Feb 2018 13:20:34 +0000</created>
                <updated>Sat, 24 Mar 2018 09:41:36 +0000</updated>
                            <resolved>Sun, 11 Feb 2018 09:44:19 +0000</resolved>
                                    <version>2.0.8</version>
                                    <fixVersion>2.0.9</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16359457" author="tilman" created="Sat, 10 Feb 2018 15:15:07 +0000"  >&lt;blockquote&gt;
&lt;p&gt;According to PDF specs, it is possible to create OC Groups with the same name.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Did you find such a text (if yes, where) or is this a conclusion of you after reading the PDF specification? From looking at the structure of your file, it does seem that you&apos;re right, i.e. all the referencing could be done done by object number. I did look at the PDF specification just now but just very quickly.&lt;/p&gt;</comment>
                            <comment id="16359515" author="ikhaldeev" created="Sat, 10 Feb 2018 17:19:46 +0000"  >&lt;p&gt;It is just a conclusion after reading PDF Reference (v1.7, from Adobe), section 8.11 Optional Content (I actually haven&apos;t read other parts). &quot;Name&quot; only mentioned as &quot;suitable for presentation in a reader&#8217;s user interface&quot; and no mentions of any restrictions.&lt;/p&gt;

&lt;p&gt;Provided PDF is created in Adobe Illustrator, so this means that even this case is ambiguous from spec perspective - we already have to deal with such PDFs.&lt;/p&gt;</comment>
                            <comment id="16359853" author="jira-bot" created="Sun, 11 Feb 2018 09:18:16 +0000"  >&lt;p&gt;Commit 1823824 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1823824&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1823824&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4103&quot; title=&quot;Optional Content Groups with same names can&amp;#39;t have different visibility&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4103&quot;&gt;&lt;del&gt;PDFBOX-4103&lt;/del&gt;&lt;/a&gt;: add ability to use PDOptionalContentGroup as key to check and set group visibility, by Ivan Khaldeev&lt;/p&gt;</comment>
                            <comment id="16359854" author="jira-bot" created="Sun, 11 Feb 2018 09:18:21 +0000"  >&lt;p&gt;Commit 1823825 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1823825&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1823825&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4103&quot; title=&quot;Optional Content Groups with same names can&amp;#39;t have different visibility&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4103&quot;&gt;&lt;del&gt;PDFBOX-4103&lt;/del&gt;&lt;/a&gt;: add ability to use PDOptionalContentGroup as key to check and set group visibility, by Ivan Khaldeev&lt;/p&gt;</comment>
                            <comment id="16359862" author="tilman" created="Sun, 11 Feb 2018 09:44:19 +0000"  >&lt;p&gt;Thank you, I committed your patch with two minor changes, I moved one method back to where it was before so that there would be less diff, and I reinstated the two &quot;instanceof&quot; that you replaced with null checks. We try to use these &quot;instanceof&quot; checks to avoid ClassCastExceptions coming from bad PDFs.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12909940" name="check_group_by_object_ref.patch" size="9185" author="ikhaldeev" created="Fri, 9 Feb 2018 13:19:45 +0000"/>
                            <attachment id="12909941" name="layers.pdf" size="55300" author="ikhaldeev" created="Fri, 9 Feb 2018 13:19:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3pzyf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>