<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1741] [PATCH] Text should be in italic but is rendered upright</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1741</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;See attached PDF. The embedded font has a FontMatrix with skew values to make the font look italic. It&apos;s not taken into account by PDFBox.&lt;/p&gt;

&lt;p&gt;In PageDrawer and CFFGlyph2D there are a lot of manual modifications of the y coordinate to convert from the PDF coordinate system to AWT. This can be avoided by applying an initial transform to the Graphics2D instance. That allows to simplify the code quite a bit.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12672659">PDFBOX-1741</key>
            <summary>[PATCH] Text should be in italic but is rendered upright</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="vhennebert">Vincent Hennebert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 7 Oct 2013 17:58:24 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:00 +0000</updated>
                            <resolved>Sat, 26 Oct 2013 11:31:34 +0000</resolved>
                                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="13791712" author="vhennebert" created="Thu, 10 Oct 2013 17:33:33 +0000"  >&lt;p&gt;Updated patch to also fix scaling and glyph positioning issues for text using a TrueType font.&lt;/p&gt;</comment>
                            <comment id="13805168" author="lehmi" created="Fri, 25 Oct 2013 08:37:49 +0000"  >&lt;p&gt;I agree with Vincent, the fontmatrix isn&apos;t used properly. Until now only the scaling is used as I never saw something like this sample. It uses a &quot;regular&quot; font which is made italic by using a font matrix with some shearing effect.&lt;/p&gt;

&lt;p&gt;But your patch is somehow problematic. I like your idea to simplify the adjustment of the y-coordinate, but your patch would simply remove some of needed code which would break the rendering of a lot of pdfs. e.g. &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the changes in &quot;Invoke&quot; will lead to wrong scaled images, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-758&quot; title=&quot;Rotated images aren&amp;#39;t placed and rendered correctly while converting PDF pages to images&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-758&quot;&gt;&lt;del&gt;PDFBOX-758&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;the changes in &quot;TTFGlyph2d&quot; eliminate the transformation from font units to display units (in most cases the factor is 1000 but not always, I have a sample PDF somewhere, but didn&apos;t find it yet)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m going to fix the fontmatrix usage and I&apos;ll try to simply some of the code based on the proposed changes.&lt;/p&gt;

&lt;p&gt;So far, thanks for the contribution. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13805212" author="vhennebert" created="Fri, 25 Oct 2013 10:37:26 +0000"  >&lt;blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;the changes in &quot;Invoke&quot; will lead to wrong scaled images, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-758&quot; title=&quot;Rotated images aren&amp;#39;t placed and rendered correctly while converting PDF pages to images&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-758&quot;&gt;&lt;del&gt;PDFBOX-758&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Well I ran the test cases attached to that issue and they render fine. All tests also pass. It&apos;s all a bit faded in my memory now, but I think the manipulation in Invoke becomes unnecessary thanks to the changes made in PageDrawer.&lt;/p&gt;

&lt;blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;the changes in &quot;TTFGlyph2d&quot; eliminate the transformation from font units to display units&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;There was a multiplication by 1000 in PageDrawer that was cancelling out the division by 1000 in TTFGlyph2D, so I removed both. If I remember well that was also allowing me to use the FontMatrix from CFF fonts directly, without scaling by 1000.&lt;/p&gt;

&lt;p&gt;Vincent&lt;/p&gt;</comment>
                            <comment id="13806061" author="lehmi" created="Sat, 26 Oct 2013 11:31:34 +0000"  >&lt;p&gt;I&apos;ve to apologize. After setting up a fresh environment both cases I&apos;d mentioned are working fine. There was an issue with 2 files (yaddatest and data-000001) from our testarena. Both are using the AWT to render the fonts which didn&apos;t work well. I fixed that and clean up some of the code.&lt;/p&gt;

&lt;p&gt;I&apos;ve added the changes in revision 1535966.&lt;/p&gt;

&lt;p&gt;Thanks for the report and the fix!&lt;/p&gt;</comment>
                            <comment id="13807935" author="tilman" created="Tue, 29 Oct 2013 12:48:31 +0000"  >&lt;p&gt;@Vincent: please have a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1760&quot; title=&quot;Regressions 28 Oct 2013&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1760&quot;&gt;&lt;del&gt;PDFBOX-1760&lt;/del&gt;&lt;/a&gt;, there are four images that no longer render like they did before.&lt;/p&gt;</comment>
                            <comment id="13808097" author="lmpmbernardo" created="Tue, 29 Oct 2013 15:39:05 +0000"  >&lt;p&gt;based on my fresh experience with &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-615&quot; title=&quot;shfill operator needs implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-615&quot;&gt;&lt;del&gt;PDFBOX-615&lt;/del&gt;&lt;/a&gt;, I suspect that &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1760&quot; title=&quot;Regressions 28 Oct 2013&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1760&quot;&gt;&lt;del&gt;PDFBOX-1760&lt;/del&gt;&lt;/a&gt; rendering issues are due to some ad hoc transformations of Y coordinates that are not needed. compare the two patches attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-615&quot; title=&quot;shfill operator needs implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-615&quot;&gt;&lt;del&gt;PDFBOX-615&lt;/del&gt;&lt;/a&gt;, one for trunk (2.0.0), the other for 1.8 branch.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12607843" name="FontMatrix.patch" size="14429" author="vhennebert" created="Thu, 10 Oct 2013 17:33:33 +0000"/>
                            <attachment id="12607198" name="image.pdf" size="6954" author="vhennebert" created="Mon, 7 Oct 2013 18:04:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352282</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 3 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1oqkf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>352570</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>