<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:03:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3333] Wrong appearance generation for rotated AcroForms fields</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3333</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When filling a PDF field that is rotated the resulting generated PDF has the correct format.  But when you generate an image of the PDF the image has the text in those rotated fields as not rotated.&lt;/p&gt;

&lt;p&gt;I have tried a variety of templates and they all do the same thing: view the preview of the PDF and see unrotated text.  Open the PDF and see the correctly rotated text.&lt;/p&gt;

&lt;p&gt;Note that I generate the same PDF using iText 5.5.9 and the preview is correct, the text is correctly rotated.  I&apos;m basically bouncing back and forth between iText and PDFBox trying to find a working solution.&lt;/p&gt;

&lt;p&gt;If it makes any difference I&apos;m using an FDF file to fill with iText and an XFDF file for PDFBox because I can&apos;t figure out how to load an FDF in 2.0.1.&lt;/p&gt;</description>
                <environment>Mac OS X development, Ubuntu production</environment>
        <key id="12964097">PDFBOX-3333</key>
            <summary>Wrong appearance generation for rotated AcroForms fields</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="msahyoun">Maruan Sahyoun</assignee>
                                    <reporter username="chronosafe">Richard Brown</reporter>
                        <labels>
                            <label>Appearance</label>
                    </labels>
                <created>Sat, 30 Apr 2016 20:35:27 +0000</created>
                <updated>Sat, 25 Mar 2017 18:13:28 +0000</updated>
                            <resolved>Tue, 3 May 2016 06:00:52 +0000</resolved>
                                    <version>2.0.1</version>
                    <version>2.0.2</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.2</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15265476" author="chronosafe" created="Sat, 30 Apr 2016 20:36:50 +0000"  >&lt;p&gt;An example of a file with the screwed up preview: 000063_WAU3FAFR4CA029987.pdf&lt;/p&gt;</comment>
                            <comment id="15265477" author="chronosafe" created="Sat, 30 Apr 2016 20:37:59 +0000"  >&lt;p&gt;An example of the same layout generated by iText 5.5.9: 000002_3VW7T7AT1FM805256.pdf&lt;/p&gt;</comment>
                            <comment id="15265480" author="chronosafe" created="Sat, 30 Apr 2016 20:40:41 +0000"  >&lt;p&gt;The template the data is merged into for both samples: BlueWideSticker1.pdf&lt;/p&gt;</comment>
                            <comment id="15265483" author="chronosafe" created="Sat, 30 Apr 2016 20:45:35 +0000"  >&lt;p&gt;PNG preview exhibiting the issue: 000001_3VW7T7AT1FM805256.png&lt;/p&gt;</comment>
                            <comment id="15265484" author="chronosafe" created="Sat, 30 Apr 2016 20:46:18 +0000"  >&lt;p&gt;Correct preview generated when using PDF created by iText: 000002_3VW7T7AT1FM805256_450_450.png&lt;/p&gt;</comment>
                            <comment id="15265510" author="tilman" created="Sat, 30 Apr 2016 21:51:28 +0000"  >&lt;p&gt;Adobe Reader shows the 000063_WAU3FAFR4CA029987.pdf text unrotated; when clicking on the yellow bar, the text is rotated.&lt;/p&gt;</comment>
                            <comment id="15265515" author="chronosafe" created="Sat, 30 Apr 2016 21:57:35 +0000"  >&lt;p&gt;What I did:&lt;/p&gt;

&lt;p&gt;Used PDFBox to fill a PDF template and generated a thumbnail of the template using pdfRenderer.renderImage.  The PDF was generated successfully as was the thumbnail&lt;/p&gt;

&lt;p&gt;What I expected to happen:&lt;/p&gt;

&lt;p&gt;I expected the PDF to be generated correctly (it appears to be so in Acrobat) and the thumbnail to be an accurate representation of the PDF.&lt;/p&gt;

&lt;p&gt;What happened instead:&lt;/p&gt;

&lt;p&gt;The PDF that was generated looked correct in Acrobat (rotated text), but both the thumbnail generated and the Mac&apos;s file preview shows the text as being unrotated.  Only rotated text seems to be affected.&lt;/p&gt;</comment>
                            <comment id="15265516" author="chronosafe" created="Sat, 30 Apr 2016 21:58:58 +0000"  >&lt;p&gt;Here is the code I used to generate the thumbnail with the issue.  I used ImageMagick to generate the thumbnail created for the iText PDF.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void printImage(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; pdfFilename, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; thumbPath, &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt; dpi) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        PDDocument document = PDDocument.load(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(pdfFilename));
        PDFRenderer pdfRenderer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDFRenderer(document);
        BufferedImage bim = pdfRenderer.renderImage(0, 1.0f);
        &lt;span class=&quot;code-comment&quot;&gt;// suffix in filename will be used as the file format
&lt;/span&gt;        ImageIOUtil.writeImage(bim, thumbPath, dpi);
        document.close();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15265646" author="msahyoun" created="Sun, 1 May 2016 07:07:32 +0000"  >&lt;p&gt;Short answer - when filling forms PDFBox doesn&apos;t correctly generate the appearance stream for rotated fields/pages.&lt;/p&gt;

&lt;p&gt;Longer explanation:&lt;br/&gt;
The appearance stream generation ignores the rotation for the fields and incorrectly generates the appearance as if there is no rotation. The reason the form is correctly viewed in Adobe Acrobat is because the NeedAppearances flag is set to true which enforces Adobe Acrobat to regenerate the appearance streams when the form is loaded. Mac preview and the thumbnail generation ignore the flag and show the form as is.&lt;/p&gt;</comment>
                            <comment id="15265663" author="msahyoun" created="Sun, 1 May 2016 08:10:15 +0000"  >&lt;p&gt;Adding a form template with rotated fields and pages filled by&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Adobe Acrobat &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801639/12801639_AcroFormsRotation.pdf&quot; title=&quot;AcroFormsRotation.pdf attached to PDFBOX-3333&quot;&gt;AcroFormsRotation.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;PDFBox &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801640/12801640_AcroFormsRotation.pdfbox.pdf&quot; title=&quot;AcroFormsRotation.pdfbox.pdf attached to PDFBOX-3333&quot;&gt;AcroFormsRotation.pdfbox.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15265676" author="tilman" created="Sun, 1 May 2016 08:20:02 +0000"  >&lt;p&gt;000063_WAU3FAFR4CA029987_good.pdf is the file opened with Adobe Reader and then saved. The difference is that the matrix in the appearance stream is set to 0 -1 1 0 0 710.788, i.e. it is rotated and (individually) translated (The translation is the height of the field). The &quot;bad&quot; file just has the identity matrix.&lt;/p&gt;</comment>
                            <comment id="15265716" author="msahyoun" created="Sun, 1 May 2016 11:09:55 +0000"  >&lt;p&gt;The issue is caused by overwriting the matrix within the appearance stream with an identity transformation.&lt;/p&gt;</comment>
                            <comment id="15265717" author="jira-bot" created="Sun, 1 May 2016 11:13:54 +0000"  >&lt;p&gt;Commit 1741858 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1741858&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1741858&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3333&quot; title=&quot;Wrong appearance generation for rotated AcroForms fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3333&quot;&gt;&lt;del&gt;PDFBOX-3333&lt;/del&gt;&lt;/a&gt;: keep existing transformation matrix&lt;/p&gt;</comment>
                            <comment id="15265723" author="jira-bot" created="Sun, 1 May 2016 11:21:55 +0000"  >&lt;p&gt;Commit 1741859 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1741859&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1741859&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3333&quot; title=&quot;Wrong appearance generation for rotated AcroForms fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3333&quot;&gt;&lt;del&gt;PDFBOX-3333&lt;/del&gt;&lt;/a&gt;: keep existing transformation matrix&lt;/p&gt;</comment>
                            <comment id="15265892" author="jira-bot" created="Sun, 1 May 2016 19:17:26 +0000"  >&lt;p&gt;Commit 1741882 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1741882&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1741882&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3333&quot; title=&quot;Wrong appearance generation for rotated AcroForms fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3333&quot;&gt;&lt;del&gt;PDFBOX-3333&lt;/del&gt;&lt;/a&gt;: calculate bbox and transformation matrix respecting rotation&lt;/p&gt;</comment>
                            <comment id="15265895" author="msahyoun" created="Sun, 1 May 2016 19:26:22 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801672/12801672_BlueWideSticker1-pdfbox-r1741882.png&quot; title=&quot;BlueWideSticker1-pdfbox-r1741882.png attached to PDFBOX-3333&quot;&gt;BlueWideSticker1-pdfbox-r1741882.png&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; generated by Mac preview using PDFBox 2.1.0-SNAPSHOT r1741882&lt;/p&gt;</comment>
                            <comment id="15265907" author="jira-bot" created="Sun, 1 May 2016 19:43:16 +0000"  >&lt;p&gt;Commit 1741883 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1741883&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1741883&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3333&quot; title=&quot;Wrong appearance generation for rotated AcroForms fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3333&quot;&gt;&lt;del&gt;PDFBOX-3333&lt;/del&gt;&lt;/a&gt;: calculate bbox and transformation matrix respecting rotation&lt;/p&gt;</comment>
                            <comment id="15265913" author="jira-bot" created="Sun, 1 May 2016 19:56:44 +0000"  >&lt;p&gt;Commit 1741884 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1741884&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1741884&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3333&quot; title=&quot;Wrong appearance generation for rotated AcroForms fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3333&quot;&gt;&lt;del&gt;PDFBOX-3333&lt;/del&gt;&lt;/a&gt;: fix source code formatting&lt;/p&gt;</comment>
                            <comment id="15265914" author="msahyoun" created="Sun, 1 May 2016 19:59:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chronosafe&quot; class=&quot;user-hover&quot; rel=&quot;chronosafe&quot;&gt;chronosafe&lt;/a&gt; could you test using the latest snapshots if the form filling has been improved by the changes made.&lt;/p&gt;</comment>
                            <comment id="15265925" author="chronosafe" created="Sun, 1 May 2016 20:21:12 +0000"  >&lt;p&gt;I got an error trying to build the trunk:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn clean install
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The result:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[INFO] Reactor Summary:
[INFO]
[INFO] PDFBox parent ...................................... SUCCESS [ 50.479 s]
[INFO] Apache FontBox ..................................... SUCCESS [ 14.403 s]
[INFO] Apache XmpBox ...................................... SUCCESS [  2.354 s]
[INFO] Apache PDFBox ...................................... FAILURE [ 32.402 s]
[INFO] Apache Preflight ................................... SKIPPED
[INFO] Apache Preflight application ....................... SKIPPED
[INFO] Apache PDFBox Debugger ............................. SKIPPED
[INFO] Apache PDFBox tools ................................ SKIPPED
[INFO] Apache PDFBox application .......................... SKIPPED
[INFO] Apache PDFBox Debugger application ................. SKIPPED
[INFO] Apache PDFBox examples ............................. SKIPPED
[INFO] PDFBox reactor ..................................... SKIPPED
[INFO] ------------------------------------------------------------------------
[INFO] BUILD FAILURE
[INFO] ------------------------------------------------------------------------
[INFO] Total time: 02:06 min
[INFO] Finished at: 2016-05-01T16:19:01-04:00
[INFO] Final Memory: 39M/314M
[INFO] ------------------------------------------------------------------------
[ERROR] Failed to execute goal org.apache.maven.plugins:maven-surefire-plugin:2.17:test (&lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;-test) on project pdfbox: There are test failures.
[ERROR]
[ERROR] Please refer to /Users/chronosafe/Documents/Development/Personal/pdfbox/trunk/pdfbox/target/surefire-reports &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; the individual test results.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15265926" author="chronosafe" created="Sun, 1 May 2016 20:24:51 +0000"  >&lt;p&gt;surefire-reports.zip - surefire-reports test results directory&lt;/p&gt;</comment>
                            <comment id="15265932" author="tilman" created="Sun, 1 May 2016 20:32:07 +0000"  >&lt;p&gt;I was able to build... please get a snapshot here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.2-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.2-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15265934" author="tilman" created="Sun, 1 May 2016 20:34:32 +0000"  >&lt;p&gt;Install the Java Cryptography Extension (JCE) Unlimited Strength Jurisdiction Policy Files&lt;br/&gt;
&lt;a href=&quot;https://pdfbox.apache.org/building.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pdfbox.apache.org/building.html&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/a/6481658/535646&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/a/6481658/535646&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15265941" author="chronosafe" created="Sun, 1 May 2016 20:43:32 +0000"  >&lt;p&gt;I was able to use the snapshot to generate a correct PDF in terms of the preview.  All text is rotated as it&apos;s supposed to be.&lt;/p&gt;

&lt;p&gt;formfill.png - Correctly rotated preview&lt;br/&gt;
FillFormField.pdf - Generated PDF from snapshot.&lt;/p&gt;

&lt;p&gt;Note: I did see this warning when generating the PDF.  It didn&apos;t seem to affect the output.&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;May 01, 2016 4:39:15 PM org.apache.pdfbox.pdmodel.font.PDSimpleFont toUnicode
WARNING: No Unicode mapping &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; f_f_i (31) in font AIBSRI+MyriadPro-Bold
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15265945" author="chronosafe" created="Sun, 1 May 2016 20:54:28 +0000"  >&lt;p&gt;I had copied the files to the wrong JRE directory.  I copied them to the correct location and was able to successfully build, thanks.&lt;/p&gt;</comment>
                            <comment id="15266293" author="jira-bot" created="Mon, 2 May 2016 09:42:11 +0000"  >&lt;p&gt;Commit 1741945 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1741945&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1741945&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3333&quot; title=&quot;Wrong appearance generation for rotated AcroForms fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3333&quot;&gt;&lt;del&gt;PDFBOX-3333&lt;/del&gt;&lt;/a&gt;: add unit test with rendering&lt;/p&gt;</comment>
                            <comment id="15266298" author="jira-bot" created="Mon, 2 May 2016 09:48:46 +0000"  >&lt;p&gt;Commit 1741948 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1741948&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1741948&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3333&quot; title=&quot;Wrong appearance generation for rotated AcroForms fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3333&quot;&gt;&lt;del&gt;PDFBOX-3333&lt;/del&gt;&lt;/a&gt;: add unit test with rendering&lt;/p&gt;</comment>
                            <comment id="15266305" author="msahyoun" created="Mon, 2 May 2016 09:51:10 +0000"  >&lt;p&gt;resolving per users feedback&lt;/p&gt;</comment>
                            <comment id="15266742" author="chronosafe" created="Mon, 2 May 2016 15:02:37 +0000"  >&lt;p&gt;Sorry, this still seems to be an issue.  I created the following PDF today using the snapshot in production and it&apos;s still showing up weird text.&lt;/p&gt;

&lt;p&gt;ForSaleSign_Black.pdf - template&lt;br/&gt;
000006_1J4GR48K66C183410_200_600.png - Thumbnail created by PDFBox&lt;br/&gt;
000006_1J4GR48K66C183410.pdf - Final PDF&lt;/p&gt;</comment>
                            <comment id="15266752" author="chronosafe" created="Mon, 2 May 2016 15:06:32 +0000"  >&lt;p&gt;To be fair, iText also generates a malformed preview.  Is it an issue with the PDF?&lt;/p&gt;

&lt;p&gt;000006_1J4GR48K66C183410_iText.png - Thumbnail made by iText&lt;br/&gt;
000006_1J4GR48K66C183410_iText.pdf - PDF generated by iText&lt;/p&gt;</comment>
                            <comment id="15266801" author="msahyoun" created="Mon, 2 May 2016 15:32:47 +0000"  >&lt;p&gt;new issues with different form template - needs analysis - although only certain fields are affected.&lt;/p&gt;</comment>
                            <comment id="15266817" author="msahyoun" created="Mon, 2 May 2016 15:36:32 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chronosafe&quot; class=&quot;user-hover&quot; rel=&quot;chronosafe&quot;&gt;chronosafe&lt;/a&gt; I&apos;ll look into that later today. One thing to keep in mind though is that the appearance generation details are not part of the PDF specification so one can only come close to how Adobe Reader/Acrobat render the PDF. Things like padding in text boxes, line spacing ... are not documented. More details later after having looked into the form.&lt;/p&gt;

&lt;p&gt;BTW - are these templates copyrighted or could we make them part of our test suite?&lt;/p&gt;</comment>
                            <comment id="15266881" author="chronosafe" created="Mon, 2 May 2016 16:01:57 +0000"  >&lt;p&gt;I was&apos;t aware that it isn&apos;t a part of the PDF spec.  I&apos;m currently working on adding PDFs as a feature to my website www.decodethis.com, hence the need for a variety of odd formats; I&apos;m using PDFs as sort of vector images with fillable text.  All the PDFs, code, and images are my property and I fully allow them to be used as part of any testing.&lt;/p&gt;</comment>
                            <comment id="15267593" author="msahyoun" created="Mon, 2 May 2016 22:04:55 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801841/12801841_ForSaleSign_Black.pdfbox.pdf&quot; title=&quot;ForSaleSign_Black.pdfbox.pdf attached to PDFBOX-3333&quot;&gt;ForSaleSign_Black.pdfbox.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; Form template filled using current snapshot build&lt;br/&gt;
&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801840/12801840_ForSaleSign_Black.pdfbox.png&quot; title=&quot;ForSaleSign_Black.pdfbox.png attached to PDFBOX-3333&quot;&gt;ForSaleSign_Black.pdfbox.png&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; PNG exported from OS X Preview&lt;/p&gt;</comment>
                            <comment id="15267599" author="msahyoun" created="Mon, 2 May 2016 22:11:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chronosafe&quot; class=&quot;user-hover&quot; rel=&quot;chronosafe&quot;&gt;chronosafe&lt;/a&gt;&lt;br/&gt;
I&apos;ve used the &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12801748/12801748_ForSaleSign_Black.pdf&quot; title=&quot;ForSaleSign_Black.pdf attached to PDFBOX-3333&quot;&gt;ForSaleSign_Black.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; template filling it with some sample data. The results are fine for me. Do you get any error messages when generating the files. The reason I&apos;m asking is that it seems that the &apos;wrong&apos; fields have no appearance generated at all. That&apos;s why the content is displayed but not correct. Having them filled on my system the appearance is generated.&lt;/p&gt;

&lt;p&gt;Did you do the form filling on OS X or Ubuntu?&lt;/p&gt;</comment>
                            <comment id="15268047" author="chronosafe" created="Tue, 3 May 2016 04:08:03 +0000"  >&lt;p&gt;Sorry, it is probably me; I recompiled the source and tried again.  I&apos;m not a Java developer: this is literally my first Java app ever.  I&apos;m a Rails developer forced to look for a decent PDF solution on Linux (I deploy to Ubuntu but develop on a Mac).&lt;/p&gt;

&lt;p&gt;Now with the 2.1.0 SNAPSHOT I was able to see the rotated text correctly. BUT I&apos;m seeing the spacing issue from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3332&quot; title=&quot;Apache PDFBox Form Fill TrueType text spacing issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3332&quot;&gt;&lt;del&gt;PDFBOX-3332&lt;/del&gt;&lt;/a&gt; now in some of the rotated text.  Note the red text in the lower left corner and the text above it.  Preview the PDF and you&apos;ll see the spacing issue.  Open it in Acrobat and it appears correct.&lt;/p&gt;

&lt;p&gt;FillFormField_pdfbox_2.1.0.pdf - Filled PDF&lt;br/&gt;
formfill_SNAPSHOT_2.1.0.png - PDFBox generated PNG&lt;/p&gt;</comment>
                            <comment id="15268156" author="msahyoun" created="Tue, 3 May 2016 05:54:46 +0000"  >&lt;p&gt;I&apos;m glad it works apart form the spacing issue which is being dealt with in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3332&quot; title=&quot;Apache PDFBox Form Fill TrueType text spacing issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3332&quot;&gt;&lt;del&gt;PDFBOX-3332&lt;/del&gt;&lt;/a&gt;. So I&apos;m going to close this issue again.&lt;/p&gt;</comment>
                            <comment id="15268160" author="msahyoun" created="Tue, 3 May 2016 05:58:17 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=chronosafe&quot; class=&quot;user-hover&quot; rel=&quot;chronosafe&quot;&gt;chronosafe&lt;/a&gt; so we can make the files part of the resources within our source to everyones access? That would mean that they can also be used in non commercial and commercial applications as they are then governed by the ASF license terms. Or would you prefer that we don&apos;t do that?&lt;/p&gt;</comment>
                            <comment id="15268161" author="msahyoun" created="Tue, 3 May 2016 06:00:52 +0000"  >&lt;p&gt;resolving as the form filling - apart from the &lt;tt&gt;space&lt;/tt&gt; which is being dealt with on &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3332&quot; title=&quot;Apache PDFBox Form Fill TrueType text spacing issue&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3332&quot;&gt;&lt;del&gt;PDFBOX-3332&lt;/del&gt;&lt;/a&gt; - is correct. Handling rotated fields now seems to work.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12801609" name="000001_3VW7T7AT1FM805256.png" size="57054" author="chronosafe" created="Sat, 30 Apr 2016 20:45:35 +0000"/>
                            <attachment id="12801606" name="000002_3VW7T7AT1FM805256.pdf" size="1021362" author="chronosafe" created="Sat, 30 Apr 2016 20:37:59 +0000"/>
                            <attachment id="12801610" name="000002_3VW7T7AT1FM805256_450_450.png" size="183020" author="chronosafe" created="Sat, 30 Apr 2016 20:46:18 +0000"/>
                            <attachment id="12801750" name="000006_1J4GR48K66C183410.pdf" size="3041415" author="chronosafe" created="Mon, 2 May 2016 15:02:37 +0000"/>
                            <attachment id="12801749" name="000006_1J4GR48K66C183410_200_600.png" size="75288" author="chronosafe" created="Mon, 2 May 2016 15:02:37 +0000"/>
                            <attachment id="12801752" name="000006_1J4GR48K66C183410_iText.pdf" size="2996532" author="chronosafe" created="Mon, 2 May 2016 15:06:32 +0000"/>
                            <attachment id="12801751" name="000006_1J4GR48K66C183410_iText.png" size="180270" author="chronosafe" created="Mon, 2 May 2016 15:06:32 +0000"/>
                            <attachment id="12801605" name="000063_WAU3FAFR4CA029987.pdf" size="1033336" author="chronosafe" created="Sat, 30 Apr 2016 20:36:50 +0000"/>
                            <attachment id="12801641" name="000063_WAU3FAFR4CA029987_good.pdf" size="804681" author="tilman" created="Sun, 1 May 2016 08:20:02 +0000"/>
                            <attachment id="12801639" name="AcroFormsRotation.pdf" size="42637" author="msahyoun" created="Sun, 1 May 2016 08:10:15 +0000"/>
                            <attachment id="12801640" name="AcroFormsRotation.pdfbox.pdf" size="56247" author="msahyoun" created="Sun, 1 May 2016 08:10:15 +0000"/>
                            <attachment id="12801672" name="BlueWideSticker1-pdfbox-r1741882.png" size="230593" author="msahyoun" created="Sun, 1 May 2016 19:26:22 +0000"/>
                            <attachment id="12801607" name="BlueWideSticker1.pdf" size="1537130" author="chronosafe" created="Sat, 30 Apr 2016 20:40:41 +0000"/>
                            <attachment id="12801678" name="FillFormField.pdf" size="1033137" author="chronosafe" created="Sun, 1 May 2016 20:43:32 +0000"/>
                            <attachment id="12801891" name="FillFormField_pdfbox_2.1.0.pdf" size="3053142" author="chronosafe" created="Tue, 3 May 2016 04:08:03 +0000"/>
                            <attachment id="12801748" name="ForSaleSign_Black.pdf" size="3025562" author="chronosafe" created="Mon, 2 May 2016 15:02:37 +0000"/>
                            <attachment id="12801841" name="ForSaleSign_Black.pdfbox.pdf" size="3048642" author="msahyoun" created="Mon, 2 May 2016 22:04:55 +0000"/>
                            <attachment id="12801840" name="ForSaleSign_Black.pdfbox.png" size="240339" author="msahyoun" created="Mon, 2 May 2016 22:04:55 +0000"/>
                            <attachment id="12801677" name="formfill.png" size="67496" author="chronosafe" created="Sun, 1 May 2016 20:43:32 +0000"/>
                            <attachment id="12801892" name="formfill_SNAPSHOT_2.1.0.png" size="77180" author="chronosafe" created="Tue, 3 May 2016 04:08:03 +0000"/>
                            <attachment id="12801675" name="surefire-reports.zip" size="155985" author="chronosafe" created="Sun, 1 May 2016 20:24:51 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>21.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2x09j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>