<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:57:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2345] IndexOutOfBoundsException reading encrypted pdf</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2345</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;java -jar ~/pdf-box-svn/app/target/pdfbox-app-2.0.0-SNAPSHOT.jar WriteDecodedDoc -nonSeq out.pdf&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 4, Size: 4&lt;br/&gt;
	at java.util.ArrayList.rangeCheck(ArrayList.java:635)&lt;br/&gt;
	at java.util.ArrayList.get(ArrayList.java:411)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFObjectStreamParser.parse(PDFObjectStreamParser.java:110)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12741031">PDFBOX-2345</key>
            <summary>IndexOutOfBoundsException reading encrypted pdf</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                            <label>ObjStm</label>
                    </labels>
                <created>Fri, 12 Sep 2014 12:05:41 +0000</created>
                <updated>Fri, 19 Sep 2014 14:40:44 +0000</updated>
                            <resolved>Mon, 15 Sep 2014 15:39:47 +0000</resolved>
                                    <version>1.8.6</version>
                    <version>1.8.7</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.7</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14131505" author="tilman" created="Fri, 12 Sep 2014 13:13:08 +0000"  >&lt;p&gt;Your file is incorrect:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;&amp;lt;
  /Type /ObjStm
  /N 4
  /First 24
  /Length 500
&amp;gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;That means that your object stream contains 4 objects. &lt;/p&gt;

&lt;p&gt;And this is your stream:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;9 0
10 66
11 144
12 207
&amp;lt;&amp;lt;
  /Type /StructElem
  /S /Document
  /P 8 0 R
  /K [10 0 R]
&amp;gt;&amp;gt;
&amp;lt;&amp;lt;
  /Type /StructElem
  /S /Part
  /P 9 0 R
  /Lang (en-GB)
  /K [11 0 R]
&amp;gt;&amp;gt;
&amp;lt;&amp;lt;
  /Type /StructElem
  /S /Sect
  /P 10 0 R
  /K [12 0 R]
&amp;gt;&amp;gt;
&amp;lt;&amp;lt;
  /Type /StructElem
  /S /P
  /P 11 0 R
  /K [&amp;lt;&amp;lt;
  /Type /MCR
  /Pg 15 0 R
  /MCID 0
&amp;gt;&amp;gt;
 &amp;lt;&amp;lt;
  /Type /MCR
  /Pg 15 0 R
  /MCID 1
&amp;gt;&amp;gt;
 &amp;lt;&amp;lt;
  /Type /MCR
  /Pg 15 0 R
  /MCID 2
&amp;gt;&amp;gt;
 &amp;lt;&amp;lt;
  /Type /MCR
  /Pg 15 0 R
  /MCID 3
&amp;gt;&amp;gt;
 &amp;lt;&amp;lt;
  /Type /MCR
  /Pg 15 0 R
  /MCID 4
&amp;gt;&amp;gt;
]
&amp;gt;&amp;gt;
-
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Whats this &quot;-&quot;? This would be the 5th object. (The 4th object is longer than it appears at first sight, because of the &quot;[&quot;)&lt;/p&gt;</comment>
                            <comment id="14131506" author="jira-bot" created="Fri, 12 Sep 2014 13:15:53 +0000"  >&lt;p&gt;Commit 1624536 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1624536&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1624536&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2345&quot; title=&quot;IndexOutOfBoundsException reading encrypted pdf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2345&quot;&gt;&lt;del&gt;PDFBOX-2345&lt;/del&gt;&lt;/a&gt;: avoid exception if there are more objects than in /N value of /ObjStrm&lt;/p&gt;</comment>
                            <comment id="14131511" author="jira-bot" created="Fri, 12 Sep 2014 13:18:14 +0000"  >&lt;p&gt;Commit 1624537 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1624537&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1624537&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2345&quot; title=&quot;IndexOutOfBoundsException reading encrypted pdf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2345&quot;&gt;&lt;del&gt;PDFBOX-2345&lt;/del&gt;&lt;/a&gt;: avoid exception if there are more objects than in /N value of /ObjStrm&lt;/p&gt;</comment>
                            <comment id="14131514" author="tilman" created="Fri, 12 Sep 2014 13:24:42 +0000"  >&lt;p&gt;To be fair, you probably didn&apos;t write that &quot;-&quot; yourself, it is likely the result of another error in the PDF. qpdf has this to say about the file:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2345&quot; title=&quot;IndexOutOfBoundsException reading encrypted pdf&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2345&quot;&gt;&lt;del&gt;PDFBOX-2345&lt;/del&gt;&lt;/a&gt;.pdf (xref stream, file position 12450): Cross-reference stream data has the wrong size; expected = 308; actual = 309&lt;br/&gt;
qpdf: operation succeeded with warnings; resulting file may have some problems&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14131809" author="tilman" created="Fri, 12 Sep 2014 17:43:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssteiner1&quot; class=&quot;user-hover&quot; rel=&quot;ssteiner1&quot;&gt;ssteiner1&lt;/a&gt; how did you create the file? With Apache FOP only? Or was PDFBox involved somehow? I&apos;m asking to find out whether PDFBox is the &quot;guilty&quot; party re: the incorrect stream size / content in this file and in the one of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2346&quot; title=&quot;Unknown dir object c=&amp;#39;]&amp;#39; cInt=93 peek=&amp;#39;]&amp;#39; peekInt=93 3641&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2346&quot;&gt;&lt;del&gt;PDFBOX-2346&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14133724" author="ssteiner1" created="Mon, 15 Sep 2014 09:15:58 +0000"  >&lt;p&gt;It was fop&lt;/p&gt;</comment>
                            <comment id="14134022" author="tilman" created="Mon, 15 Sep 2014 15:39:47 +0000"  >&lt;p&gt;So it is &quot;not our fault&quot;, but the error message has been improved somewhat, so I am setting this to resolved.&lt;/p&gt;

&lt;p&gt;Whats next for you?&lt;br/&gt;
Please&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;create an issue in FOP JIRA&lt;/li&gt;
	&lt;li&gt;have it corrected in FOP&lt;/li&gt;
	&lt;li&gt;test any created PDF files&lt;/li&gt;
	&lt;li&gt;if you want me to test the files with qpdf because you don&apos;t want to or can&apos;t install qpdf, add me as a watcher in the FOP issue and attach any test file there. I will check the files, but usually not during working hours.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The command I used for qpdf:&lt;/p&gt;

&lt;p&gt;qpdf --stream-data=uncompress file.pdf fileU.pdf&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12741033">PDFBOX-2346</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12668322" name="out.pdf" size="12995" author="ssteiner" created="Fri, 12 Sep 2014 12:06:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 9 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zyxj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>