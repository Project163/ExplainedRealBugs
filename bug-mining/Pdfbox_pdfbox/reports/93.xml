<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:52:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-28] Spliiting a PDF creates unnecessarily large chunks</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-28</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;imported from SourceForge&amp;#93;&lt;/span&gt;&lt;br/&gt;
&lt;a href=&quot;http://sourceforge.net/tracker/index.php?group_id=78314&amp;amp;atid=552832&amp;amp;aid=1052458&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://sourceforge.net/tracker/index.php?group_id=78314&amp;amp;atid=552832&amp;amp;aid=1052458&lt;/a&gt;&lt;br/&gt;
Originally submitted by bryang1 on 2004-10-22 13:23.&lt;/p&gt;

&lt;p&gt;Using PDFBox 0.6.7a, some PDFs contain objects that are&lt;br/&gt;
inherited when the PDF is split into a smaller document&lt;br/&gt;
using the Splitter class (even if the children&lt;br/&gt;
documents are compressed).&lt;/p&gt;

&lt;p&gt;The linked PDF splits into chunks approximately the&lt;br/&gt;
same size as the original.  The first several pages&lt;br/&gt;
will be smaller because I recreated them for debugging.&lt;br/&gt;
 The rest of the document will reflect the problem&lt;br/&gt;
however.  Try splitting after page 5, or at every page&lt;br/&gt;
to recreate.&lt;/p&gt;

&lt;p&gt;PDF (13MB):&lt;br/&gt;
&lt;a href=&quot;http://esis.infofoundry.com:8080/audi/pdf/audi.ns.ssp.951903.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://esis.infofoundry.com:8080/audi/pdf/audi.ns.ssp.951903.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Opening and using the &apos;Save As&apos; feature in Acrobat&lt;br/&gt;
removes the unnecessary objects, but I can find no way&lt;br/&gt;
to do this programmatically using PDFBox.&lt;/p&gt;

&lt;p&gt;Here are the messages from Acrobat when using &apos;Save As&apos;:&lt;/p&gt;

&lt;p&gt;&quot;Consolidating duplicate images&quot;&lt;br/&gt;
&quot;Consolidating duplicate page backgrounds&quot;&lt;br/&gt;
&quot;Removeing unused objects and saving&quot;&lt;/p&gt;

&lt;p&gt;Here is some sample code:&lt;/p&gt;

&lt;p&gt;// splitting:&lt;br/&gt;
splitter.setSplitAtPage( split );&lt;br/&gt;
documents = splitter.split( document );&lt;br/&gt;
for( int i=0; i&amp;lt;documents.size(); i++ )&lt;br/&gt;
{&lt;br/&gt;
  PDDocument doc = (PDDocument)documents.get( i );&lt;br/&gt;
  String fileName = pdfFile.substring(0,&lt;br/&gt;
pdfFile.length()&lt;del&gt;4 ) + &quot;&lt;/del&gt;&quot; + i + &quot;.pdf&quot;;&lt;br/&gt;
  writeCompressedDocument( doc, fileName );&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;// saving w/ compression:&lt;br/&gt;
fileOut = new FileOutputStream( fileName );&lt;br/&gt;
COSStream stream = new COSStream( &lt;br/&gt;
     doc.getDocument().getScratchFile() ); &lt;br/&gt;
OutputStream output = stream.createUnfilteredStream();&lt;br/&gt;
int length = new&lt;br/&gt;
Long(doc.getDocument().getScratchFile().length()).intValue();&lt;br/&gt;
byte[] bytes = new byte&lt;span class=&quot;error&quot;&gt;&amp;#91;length&amp;#93;&lt;/span&gt;;&lt;br/&gt;
doc.getDocument().getScratchFile().readFully(bytes, 0,&lt;br/&gt;
length);&lt;br/&gt;
output.write(bytes);&lt;br/&gt;
stream.setFilters( COSName.FLATE_DECODE );&lt;/p&gt;</description>
                <environment></environment>
        <key id="12391062">PDFBOX-28</key>
            <summary>Spliiting a PDF creates unnecessarily large chunks</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                                <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="-1">None</reporter>
                        <labels>
                    </labels>
                <created>Fri, 22 Oct 2004 20:23:00 +0000</created>
                <updated>Thu, 2 Apr 2015 10:51:48 +0000</updated>
                            <resolved>Wed, 24 Nov 2010 20:22:38 +0000</resolved>
                                                    <fixVersion>1.4.0</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12935472" author="lehmi" created="Wed, 24 Nov 2010 20:22:38 +0000"  >&lt;p&gt;Copy only the page resources instead of copying all resources of a document for every page.&lt;/p&gt;

&lt;p&gt;Fixed in revision 1038796&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12470449">PDFBOX-785</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12787449">PDFBOX-2742</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163019</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zesv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>204700</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>