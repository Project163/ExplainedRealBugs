<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:03:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3336] several errors in the incremental save</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3336</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;We have several mistakes in pdf signature.&lt;/p&gt;

&lt;p&gt;1) Some PDF ar not signed but no error is arised &lt;br/&gt;
2) Others contain the signature but acrobat reader does not show it .&lt;/p&gt;

&lt;p&gt;The documents of the first type are confidential and we can only provide the information appendend by pdfbox to the original PDF. &lt;/p&gt;

&lt;p&gt;For the second case we will provide you the original document .&lt;/p&gt;</description>
                <environment>JDK8</environment>
        <key id="12964723">PDFBOX-3336</key>
            <summary>several errors in the incremental save</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="marcom1981@gmail.com">Marco Monacelli</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Tue, 3 May 2016 16:51:21 +0000</created>
                <updated>Sat, 25 Mar 2017 18:13:24 +0000</updated>
                            <resolved>Wed, 4 May 2016 15:36:57 +0000</resolved>
                                    <version>2.0.1</version>
                    <version>2.0.2</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.2</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Signing</component>
                    <component>Writing</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15269060" author="marcom1981@gmail.com" created="Tue, 3 May 2016 16:53:13 +0000"  >&lt;p&gt;document type two if signed with pdbox visible signature acrobat reader DC  not show the signature.&lt;/p&gt;</comment>
                            <comment id="15269064" author="tilman" created="Tue, 3 May 2016 16:55:14 +0000"  >&lt;p&gt;What code did you use to sign?&lt;/p&gt;</comment>
                            <comment id="15269066" author="marcom1981@gmail.com" created="Tue, 3 May 2016 16:55:23 +0000"  >&lt;p&gt;This is the case 1 files when PDFBOX append data without signature.&lt;/p&gt;</comment>
                            <comment id="15269073" author="tilman" created="Tue, 3 May 2016 16:58:25 +0000"  >&lt;p&gt;The file does not even have an /AcroForm entry in its document catalog:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;&amp;lt;/Lang(it-IT)/Metadata 89 0 R/OpenAction 147 0 R/Outlines 115 0 R/PageLayout/SinglePage/Pages 138 0 R/Type/Catalog/ViewerPreferences&amp;lt;&amp;lt;/DisplayDocTitle &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;&amp;gt;&amp;gt;&amp;gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15269080" author="tilman" created="Tue, 3 May 2016 17:01:12 +0000"  >&lt;p&gt;So document type 2 is really document type 1?&lt;/p&gt;</comment>
                            <comment id="15269085" author="marcom1981@gmail.com" created="Tue, 3 May 2016 17:02:17 +0000"  >&lt;p&gt;PDSignature signature = new PDSignature();&lt;br/&gt;
signature.setFilter(PDSignature.FILTER_ADOBE_PPKLITE);&lt;br/&gt;
signature.setSubFilter(PDSignature.SUBFILTER_ADBE_PKCS7_DETACHED);&lt;br/&gt;
signature.setName(x509.getName());&lt;/p&gt;

&lt;p&gt;//where this is mysignature interface&lt;br/&gt;
document.addSignature(signature, this);&lt;br/&gt;
document.saveIncremental(fos);&lt;/p&gt;

&lt;p&gt;//With other documet work fine&lt;/p&gt;
</comment>
                            <comment id="15269092" author="marcom1981@gmail.com" created="Tue, 3 May 2016 17:04:29 +0000"  >&lt;p&gt;It&apos;s possibile create it when it is not found ?&lt;/p&gt;</comment>
                            <comment id="15269099" author="marcom1981@gmail.com" created="Tue, 3 May 2016 17:06:11 +0000"  >&lt;p&gt;this document is appended by pdbbox in document type1. if you have a private mail i send you a document.&lt;/p&gt;</comment>
                            <comment id="15269143" author="tilman" created="Tue, 3 May 2016 17:22:41 +0000"  >&lt;p&gt;Is your signature interface the sample code from PDFBox, or is it your own?&lt;/p&gt;

&lt;p&gt;The file append_by_pdf_box_no_signature.txt does have an acroform, but I don&apos;t see the field, although I see the XObjects belonging to it.&lt;/p&gt;

&lt;p&gt;Are you possibly having several versions of PDFBox in your classpath?&lt;/p&gt;

&lt;p&gt;However... I tried to sign your file and it doesn&apos;t work properly, i.e. Adobe Reader does not display the signature although it should.&lt;/p&gt;
</comment>
                            <comment id="15269295" author="tilman" created="Tue, 3 May 2016 18:25:46 +0000"  >&lt;p&gt;document_type_2_signed-TILMAN.pdf is the document signed by me. Adobe Reader does not show the signature. PDFBox shows it, as do two other tools. GSView has a bug:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;GSview 5.0 2012-01-17
GPL Ghostscript 9.14 (2014-03-26)
Copyright (C) 2014 Artifex Software, Inc.  All rights reserved.
This software comes with NO WARRANTY: see the file PUBLIC &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; details.
Scanning PDF file
   **** Warning:  An error occurred &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; reading an XREF table.
   **** The file has been damaged.  This may have been caused
   **** by a problem &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; converting or transfering the file.
   **** Ghostscript will attempt to recover the data.
   **** Warning:  There are objects with matching object and generation
   **** numbers.  The accuracy of the resulting image is unknown.
   **** Error:  Trailer is not found.
%GSVIEW_PDF_PAGES: 1 0
Displaying PDF page 1
%GSVIEW_PDF_PAGE: 1
Error: /rangecheck in --get--
Operand stack:
   1   --nostringval--   0
Execution stack:
   %interp_exit   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;   1   %stopped_push   1950   1   3   %oparray_pop   1949   1   3   %oparray_pop   1933   1   3   %oparray_pop   1819   1   3   %oparray_pop   --nostringval--   %errorexec_pop   .runexec2   --nostringval--   --nostringval--   --nostringval--   2   %stopped_push   --nostringval--   --nostringval--   --nostringval--
Dictionary stack:
   --dict:1193/1684(ro)(G)--   --dict:1/20(G)--   --dict:86/200(L)--   --dict:114/127(ro)(G)--   --dict:280/300(ro)(G)--   --dict:27/32(L)--
Current allocation mode is local
pdf_page_init failed
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15269302" author="tilman" created="Tue, 3 May 2016 18:28:12 +0000"  >&lt;p&gt;document_type_2_signed-TILMAN-INVISIBLE.pdf invisible signature, same problem.&lt;/p&gt;</comment>
                            <comment id="15269308" author="tilman" created="Tue, 3 May 2016 18:30:54 +0000"  >&lt;p&gt;my mail is tilman at snafu dot de. I&apos;ve not really understood the problem, but I hope that the problem I have found is the one that you&apos;re complaining about.&lt;/p&gt;</comment>
                            <comment id="15269338" author="tilman" created="Tue, 3 May 2016 18:50:54 +0000"  >&lt;p&gt;There is hope: these two files (document_type_2_signed-TILMAN-1.8.pdf and document_type_2_signed-TILMAN-INVISIBLE-1.8.pdf) were signed with 1.8 and Adobe Reader can find the signature.&lt;/p&gt;</comment>
                            <comment id="15269361" author="tilman" created="Tue, 3 May 2016 19:02:28 +0000"  >&lt;p&gt;The /Size entry of the XRef stream is very suspicious:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;246 0 obj
&amp;lt;&amp;lt;
/ID [&amp;lt;D1937B3FD680CC64D5EBCC37CBBFA250&amp;gt; &amp;lt;9C81007F4396CCA0A2C2DFBD3E3C5F31&amp;gt;]
/Info 144 0 R
/Root 146 0 R
/Prev 116
/Type /XRef
/Size 4
/Index [0 1 146 1 244 2]
/W [1 3 0]
/Filter /FlateDecode
/Length 24
&amp;gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;/Size should be 247, not 4: &quot;The number one greater than the highest object number used in this section or in any section for which this shall be an update. It shall be equivalent to the Size entry in a trailer dictionary.&quot;&lt;/p&gt;

&lt;p&gt;Changing the /Size entry manually allows the file to be shown in Adobe Reader (of course signature is no longer valid).&lt;/p&gt;</comment>
                            <comment id="15269495" author="jira-bot" created="Tue, 3 May 2016 20:14:46 +0000"  >&lt;p&gt;Commit 1742192 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1742192&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1742192&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3336&quot; title=&quot;several errors in the incremental save&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3336&quot;&gt;&lt;del&gt;PDFBOX-3336&lt;/del&gt;&lt;/a&gt;: partial revert of 1734615, keep &quot;highest object number+1&quot; size that is set by setSize() call in COSWriter&lt;/p&gt;</comment>
                            <comment id="15269496" author="jira-bot" created="Tue, 3 May 2016 20:15:01 +0000"  >&lt;p&gt;Commit 1742193 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1742193&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1742193&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3336&quot; title=&quot;several errors in the incremental save&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3336&quot;&gt;&lt;del&gt;PDFBOX-3336&lt;/del&gt;&lt;/a&gt;: partial revert of 1734615, keep &quot;highest object number+1&quot; size that is set by setSize() call in COSWriter&lt;/p&gt;</comment>
                            <comment id="15269503" author="tilman" created="Tue, 3 May 2016 20:18:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; please review the last change, which partially reverts your work in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3263&quot; title=&quot;Overlaying 2 pdfs corrupts cross-reference stream&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3263&quot;&gt;&lt;del&gt;PDFBOX-3263&lt;/del&gt;&lt;/a&gt;. IMO the part that I reverted wasn&apos;t needed in your change, as you inserting a 0 entry should not modify the /Size entry (whose name is misleading for XRef streams).&lt;/p&gt;</comment>
                            <comment id="15269506" author="tilman" created="Tue, 3 May 2016 20:20:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marcom1981%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;marcom1981@gmail.com&quot;&gt;marcom1981@gmail.com&lt;/a&gt; please try your work with a snapshot version, that should be available within a few hours&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.2-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.2-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
and give feedback, also tell whether you still have (other) signing problems.&lt;/p&gt;</comment>
                            <comment id="15270201" author="marcom1981@gmail.com" created="Wed, 4 May 2016 06:45:50 +0000"  >&lt;p&gt;yes we start the test today.&lt;/p&gt;</comment>
                            <comment id="15270249" author="tilman" created="Wed, 4 May 2016 07:32:14 +0000"  >&lt;p&gt;&lt;del&gt;I have an idea about the problem shown in the .TXT file. That one does not contain the signature field. Could it be that the document is already signed, and that you&apos;re resigning it with the same signature object?&lt;/del&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        PDSignatureField signatureField = findSignatureField(fields, sigObject);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (signatureField == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            signatureField = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDSignatureField(acroForm);
            &lt;span class=&quot;code-comment&quot;&gt;// append the signature object
&lt;/span&gt;            signatureField.setValue(sigObject);
            &lt;span class=&quot;code-comment&quot;&gt;// backward linking
&lt;/span&gt;            signatureField.getWidgets().get(0).setPage(page);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;del&gt;This code from PDDocument searches for the signature cosobject. If it is already there, it does not call &lt;tt&gt;setNeedToBeUpdated(true);&lt;/tt&gt; but maybe it should.&lt;/del&gt;&lt;/p&gt;</comment>
                            <comment id="15270251" author="jira-bot" created="Wed, 4 May 2016 07:33:50 +0000"  >&lt;p&gt;Commit 1742217 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1742217&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1742217&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3336&quot; title=&quot;several errors in the incremental save&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3336&quot;&gt;&lt;del&gt;PDFBOX-3336&lt;/del&gt;&lt;/a&gt;: flag signature object for update if existing&lt;/p&gt;</comment>
                            <comment id="15270252" author="marcom1981@gmail.com" created="Wed, 4 May 2016 07:34:02 +0000"  >&lt;p&gt;I have autorization for send the document typo1 whit same code append only  data in .txt file.&lt;/p&gt;</comment>
                            <comment id="15270253" author="jira-bot" created="Wed, 4 May 2016 07:34:47 +0000"  >&lt;p&gt;Commit 1742218 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1742218&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1742218&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3336&quot; title=&quot;several errors in the incremental save&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3336&quot;&gt;&lt;del&gt;PDFBOX-3336&lt;/del&gt;&lt;/a&gt;: flag signature object for update if existing&lt;/p&gt;</comment>
                            <comment id="15270254" author="marcom1981@gmail.com" created="Wed, 4 May 2016 07:34:53 +0000"  >&lt;p&gt;I upload typo1 document.&lt;/p&gt;</comment>
                            <comment id="15270259" author="marcom1981@gmail.com" created="Wed, 4 May 2016 07:37:12 +0000"  >&lt;p&gt;Document Type2 now work fine.&lt;/p&gt;</comment>
                            <comment id="15270279" author="tilman" created="Wed, 4 May 2016 07:56:48 +0000"  >&lt;p&gt;I was able to reproduce the problem with the type1 document, i.e. I signed it but my signature doesn&apos;t appear, the signature dictionary is missing. Further investigation is needed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15270282" author="marcom1981@gmail.com" created="Wed, 4 May 2016 07:58:39 +0000"  >&lt;p&gt;In function visitFromDocument never pass in doWriteSignature because fails this condition (signatureOffset == 0 || byteRangeOffset == 0)&lt;/p&gt;</comment>
                            <comment id="15270307" author="jira-bot" created="Wed, 4 May 2016 08:18:42 +0000"  >&lt;p&gt;Commit 1742229 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1742229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1742229&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3336&quot; title=&quot;several errors in the incremental save&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3336&quot;&gt;&lt;del&gt;PDFBOX-3336&lt;/del&gt;&lt;/a&gt;: flag field array for update if existing&lt;/p&gt;</comment>
                            <comment id="15270308" author="jira-bot" created="Wed, 4 May 2016 08:19:03 +0000"  >&lt;p&gt;Commit 1742230 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1742230&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1742230&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3336&quot; title=&quot;several errors in the incremental save&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3336&quot;&gt;&lt;del&gt;PDFBOX-3336&lt;/del&gt;&lt;/a&gt;: flag field array for update if existing&lt;/p&gt;</comment>
                            <comment id="15270320" author="jira-bot" created="Wed, 4 May 2016 08:33:49 +0000"  >&lt;p&gt;Commit 1742231 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1742231&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1742231&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3336&quot; title=&quot;several errors in the incremental save&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3336&quot;&gt;&lt;del&gt;PDFBOX-3336&lt;/del&gt;&lt;/a&gt;: revert 1742217, this is already done in checkSignatureField&lt;/p&gt;</comment>
                            <comment id="15270322" author="jira-bot" created="Wed, 4 May 2016 08:34:01 +0000"  >&lt;p&gt;Commit 1742232 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1742232&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1742232&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3336&quot; title=&quot;several errors in the incremental save&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3336&quot;&gt;&lt;del&gt;PDFBOX-3336&lt;/del&gt;&lt;/a&gt;: revert 1742217, this is already done in checkSignatureField&lt;/p&gt;</comment>
                            <comment id="15270329" author="tilman" created="Wed, 4 May 2016 08:39:20 +0000"  >&lt;p&gt;Please try again now. It works for me, I am able to see the 4th signature. What you observed may be a follow-up effect.&lt;/p&gt;

&lt;p&gt;The reason for the missing signature was that the (existing) field list wasn&apos;t flagged for update.&lt;/p&gt;</comment>
                            <comment id="15270348" author="marcom1981@gmail.com" created="Wed, 4 May 2016 08:54:51 +0000"  >&lt;p&gt;now work fine we start regrassion test.&lt;/p&gt;</comment>
                            <comment id="15270361" author="marcom1981@gmail.com" created="Wed, 4 May 2016 09:14:33 +0000"  >&lt;p&gt;OK now all test passed. When the 2.0.2 version will be released ?&lt;/p&gt;</comment>
                            <comment id="15270419" author="lehmi" created="Wed, 4 May 2016 09:57:33 +0000"  >&lt;p&gt;I didn&apos; run any test but it looks like you are right. I&apos;m going to double check my changes ...&lt;/p&gt;</comment>
                            <comment id="15270507" author="tilman" created="Wed, 4 May 2016 11:49:30 +0000"  >&lt;p&gt;Version 2.01 was just released, so it won&apos;t be very soon. You could use version 2.0, and add this line to your code just before calling saveIncremental():&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;COSArray fieldArray = (COSArray) acroForm.getCOSObject().getDictionaryObject(COSName.FIELDS);
fieldArray.setNeedToBeUpdated(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15270532" author="marcom1981@gmail.com" created="Wed, 4 May 2016 12:18:05 +0000"  >&lt;p&gt;I try but the work around resolve type2 bug or only type1 ?&lt;/p&gt;</comment>
                            <comment id="15270548" author="tilman" created="Wed, 4 May 2016 12:30:47 +0000"  >&lt;p&gt;The type2 bug (that I solved first) is not in 2.0.0 but in 2.0.1. The type1 bug (that I solved next) is in all versions.&lt;/p&gt;</comment>
                            <comment id="15272156" author="marcom1981@gmail.com" created="Thu, 5 May 2016 10:14:42 +0000"  >&lt;p&gt;the work around work fine thanks.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12972405">PDFBOX-3361</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12948530">PDFBOX-3263</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12801984" name="append_by_pdf_box_no_signature.txt" size="1298" author="marcom1981@gmail.com" created="Tue, 3 May 2016 16:55:23 +0000"/>
                            <attachment id="12801983" name="document_type_2.pdf" size="1704883" author="marcom1981@gmail.com" created="Tue, 3 May 2016 16:53:13 +0000"/>
                            <attachment id="12802015" name="document_type_2_signed-TILMAN-1.8.pdf" size="1731073" author="tilman" created="Tue, 3 May 2016 18:50:54 +0000"/>
                            <attachment id="12802014" name="document_type_2_signed-TILMAN-INVISIBLE-1.8.pdf" size="1726042" author="tilman" created="Tue, 3 May 2016 18:50:54 +0000"/>
                            <attachment id="12802011" name="document_type_2_signed-TILMAN-INVISIBLE.pdf" size="1724736" author="tilman" created="Tue, 3 May 2016 18:28:12 +0000"/>
                            <attachment id="12802009" name="document_type_2_signed-TILMAN.pdf" size="1747226" author="tilman" created="Tue, 3 May 2016 18:25:46 +0000"/>
                            <attachment id="12802135" name="type1_based.pdf" size="328963" author="marcom1981@gmail.com" created="Wed, 4 May 2016 07:34:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2x44f:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>