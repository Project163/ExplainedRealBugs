<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:07:13 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4146] Patch: Fix for appearance of visible signature</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4146</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;We&apos;re using PDFBox (as backend used by Esig DSS) for digital signing of documents. We&apos;ve found out&#160; that visible signature has different look on Mac Preview app than other PDF viewers. After some investigation we suspect that BBox-es for appearance of signature is not filled correctly by PDFBox. The values are hard coded as &lt;span class=&quot;error&quot;&gt;&amp;#91;0, 0, 100, 50&amp;#93;&lt;/span&gt;. Also transformation matrix for translating from form XObject coordinate system into default one has value (1, 0, 0, 1, 0, 0) -&amp;gt; no scaling between default user coordinate system and form XObject coordinate system.&lt;/p&gt;

&lt;p&gt;Therefore I think that the Mac Preview App draws signature with dimensions 100x50 because no transformation were done.&lt;/p&gt;

&lt;p&gt;I&apos;ve attached patch which solves this issue for us. The signature is shown correctly in all PDF viewers now. Maybe you can take a look on it and integrate it into your code base, or propose better solution.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13143239">PDFBOX-4146</key>
            <summary>Patch: Fix for appearance of visible signature</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="mato7d5">Martin Mancuska</reporter>
                        <labels>
                            <label>Signature</label>
                            <label>patch</label>
                    </labels>
                <created>Wed, 7 Mar 2018 14:51:34 +0000</created>
                <updated>Sat, 24 Mar 2018 09:41:47 +0000</updated>
                            <resolved>Mon, 12 Mar 2018 16:58:49 +0000</resolved>
                                    <version>2.0.8</version>
                                    <fixVersion>2.0.9</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Signing</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16394503" author="tilman" created="Sun, 11 Mar 2018 13:36:13 +0000"  >&lt;p&gt;This looks good and I tested it with two different images and the resulting PDF is shown identically in Adobe Reader and PDFBox than the &quot;created before the change&quot; PDF. IMHO it is a bug in Mac Preview. There are some transformations to be done when showing annotations and it isn&apos;t easy. However I&apos;d like to sleep one more night before deciding whether to commit.&lt;/p&gt;</comment>
                            <comment id="16394564" author="mato7d5" created="Sun, 11 Mar 2018 16:50:18 +0000"  >&lt;p&gt;Thanks for info. IMHO this patch affects only annotations for visible digital signatures. Appearances of other signatures remain untouched.&lt;/p&gt;</comment>
                            <comment id="16395502" author="jira-bot" created="Mon, 12 Mar 2018 16:55:09 +0000"  >&lt;p&gt;Commit 1826575 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1826575&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1826575&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4146&quot; title=&quot;Patch: Fix for appearance of visible signature&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4146&quot;&gt;&lt;del&gt;PDFBOX-4146&lt;/del&gt;&lt;/a&gt;: use same bbox size as image size instead of hard coded values to avoid confusing Mac Preview app, as suggested by Martin Mancuska&lt;/p&gt;</comment>
                            <comment id="16395503" author="jira-bot" created="Mon, 12 Mar 2018 16:55:14 +0000"  >&lt;p&gt;Commit 1826576 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1826576&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1826576&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4146&quot; title=&quot;Patch: Fix for appearance of visible signature&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4146&quot;&gt;&lt;del&gt;PDFBOX-4146&lt;/del&gt;&lt;/a&gt;: use same bbox size as image size instead of hard coded values to avoid confusing Mac Preview app, as suggested by Martin Mancuska&lt;/p&gt;</comment>
                            <comment id="16395508" author="tilman" created="Mon, 12 Mar 2018 16:58:49 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mato7d5&quot; class=&quot;user-hover&quot; rel=&quot;mato7d5&quot;&gt;mato7d5&lt;/a&gt;! Btw there is an alternative example for visual signing available in the repository and in the next source download, see also&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/44311502/in-java-using-pdfbox-how-to-create-visible-digital-signature-with-text&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/44311502/in-java-using-pdfbox-how-to-create-visible-digital-signature-with-text&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16395706" author="mato7d5" created="Mon, 12 Mar 2018 18:51:09 +0000"  >&lt;p&gt;You&apos;re welcome &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;. Thanks for link, but for signing we use DSS (&lt;a href=&quot;https://github.com/esig/dss)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/esig/dss)&lt;/a&gt; and it uses PDFBox as backend.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12913398" name="visible_signature.patch" size="3381" author="mato7d5" created="Wed, 7 Mar 2018 14:51:45 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 35 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3qzp3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>