<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:56:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2114] ObjStm is being processed to late</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2114</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I have a pdf that has the following &lt;/p&gt;

&lt;p&gt;1 0 obj^M&lt;br/&gt;
&amp;lt;&amp;lt;/Type/Catalog/Pages 5 0 R/Metadata 8 0 R/AcroForm&amp;lt;&amp;lt;/Fields[]&amp;gt;&amp;gt;&amp;gt;&amp;gt;^M&lt;/p&gt;

&lt;p&gt;and&lt;/p&gt;

&lt;p&gt;22 0 obj^M&lt;br/&gt;
&amp;lt;&amp;lt;/Type /ObjStm /N 2/First 10/Length 175/Filter /FlateDecode&amp;gt;&amp;gt;stream^M&lt;/p&gt;

&lt;p&gt;Inside the 22 0 obj is the 5 0 which holds the pages. When 1 0obj is parsed then a place holder is set for the 5 0Obj with it&apos;s value set to null. When 22 0 is parsed it is not expanded so 5 0 is always null.&lt;/p&gt;

&lt;p&gt;When I go to get all the pages &lt;/p&gt;

&lt;p&gt;document.getDocumentCatalog().getAllPages() it returns 0 since&lt;/p&gt;


&lt;p&gt;(COSDictionary)root.getDictionaryObject( COSName.PAGES ) is null.&lt;/p&gt;

&lt;p&gt;Should ObjStm not get processed immediately so the objects tha are in there are filled? &lt;/p&gt;

&lt;p&gt;I have a pdf as an example but it is confidential so I can send it someone off list &lt;/p&gt;</description>
                <environment></environment>
        <key id="12718455">PDFBOX-2114</key>
            <summary>ObjStm is being processed to late</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="dave.smith">Dave Smith</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Jun 2014 20:04:59 +0000</created>
                <updated>Sun, 22 Jun 2014 14:34:50 +0000</updated>
                            <resolved>Wed, 11 Jun 2014 10:59:02 +0000</resolved>
                                                    <fixVersion>1.8.6</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14018096" author="dave.smith" created="Wed, 4 Jun 2014 20:11:25 +0000"  >&lt;p&gt;Ahh I see&lt;/p&gt;


&lt;p&gt;   if( !document.isEncrypted() )&lt;/p&gt;
            {
                document.dereferenceObjectStreams();
            }

&lt;p&gt;I guess the questions is why do we care?&lt;/p&gt;</comment>
                            <comment id="14018113" author="dave.smith" created="Wed, 4 Jun 2014 20:29:08 +0000"  >&lt;p&gt;Please close, Sorry for the noise. I added &lt;/p&gt;

&lt;p&gt;if(document.isEncrypted())&lt;/p&gt;
			{
				document.openProtection(null);
			}

&lt;p&gt;t my code and it works. Maybe a better error message? A null page reference and a encrypted document, throw an exception that we should try decrypting before rendering? &lt;/p&gt;</comment>
                            <comment id="14027627" author="tilman" created="Wed, 11 Jun 2014 10:59:02 +0000"  >&lt;p&gt;I added an info log msg that the document is encrypted in rev 1601846 for the 1.8 branch and in rev 1601847 in the trunk. I didn&apos;t put a warning message because I don&apos;t want to bother those who know that the documents may be encrypted. I didn&apos;t add anything in document.getDocumentCatalog().getAllPages() because there could be several reasons that it is null.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396654</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wafz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>396775</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>