<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:07:32 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4235] NPE when setting the DA of a PDTextField</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4235</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The following Kotlin Code results in a NullPointerException:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;when(pdField) {&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;is PDTextField -&amp;gt; {&lt;/tt&gt;&lt;br/&gt;
{{ &#160; &#160; try {}}&lt;br/&gt;
{{ &#160; &#160; &#160; &#160; pdField.value = value?.toString() ?: &quot;&quot;}}&lt;br/&gt;
{{ &#160; &#160; } catch (ioException: IOException) {}}&lt;br/&gt;
{{ &#160; &#160; &#160; &#160; pdField.cosObject.setString(COSName.DA, &quot;/Helv 0 tf 0 g&quot;)}}&lt;br/&gt;
{{ &#160; &#160; &#160; &#160; pdField.value = value?.toString() ?: &quot;&quot;}}&lt;br/&gt;
{{&#160; &#160; }}}&lt;/p&gt;

&lt;p&gt;}}&lt;/p&gt;</description>
                <environment></environment>
        <key id="13163124">PDFBOX-4235</key>
            <summary>NPE when setting the DA of a PDTextField</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="cgd">Christoph Grimmer-Dietrich</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 May 2018 11:55:01 +0000</created>
                <updated>Thu, 21 Jun 2018 20:27:51 +0000</updated>
                            <resolved>Thu, 31 May 2018 19:05:12 +0000</resolved>
                                    <version>2.0.9</version>
                                    <fixVersion>2.0.10</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16496806" author="tilman" created="Thu, 31 May 2018 16:22:12 +0000"  >&lt;p&gt;The NPE is because it&apos;s &quot;Tf&quot; and not &quot;tf&quot;. Now we need to come up with a meaningful exception, that tells that the font is missing, and/or post a meaningful log message when a bad operator is used.&lt;/p&gt;</comment>
                            <comment id="16496855" author="cgd" created="Thu, 31 May 2018 17:00:20 +0000"  >&lt;p&gt;Apparently&#160; I have a typo (should be&#160;&quot;/Helv 0 Tf 0 g&quot;) according to &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; but still an NPE is always a bad thing.&#160;&lt;/p&gt;</comment>
                            <comment id="16496858" author="msahyoun" created="Thu, 31 May 2018 17:02:04 +0000"  >&lt;p&gt;Of course a NPE shouldn&apos;t happen. OTOH as the DA has been set using the low level API one would expect that the user knows what he is doing. I suggest we provide a meaningful exception when setting the DA is done using the PDModel e.g. &lt;tt&gt;IllegalArgumentException&lt;/tt&gt;. In other cases it would be more user friendly to use a default font if none has been set and log that which would apply here too.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We can look into solving that with &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4212&quot; title=&quot;Rewrite formatter for interactive form fields&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4212&quot;&gt;PDFBOX-4212&lt;/a&gt;/&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2662&quot; title=&quot;Implement fallback if there are no AcroForm default resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2662&quot;&gt;PDFBOX-2662&lt;/a&gt; respectively.&lt;/p&gt;</comment>
                            <comment id="16496944" author="jira-bot" created="Thu, 31 May 2018 18:07:20 +0000"  >&lt;p&gt;Commit 1832634 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1832634&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1832634&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4235&quot; title=&quot;NPE when setting the DA of a PDTextField&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4235&quot;&gt;&lt;del&gt;PDFBOX-4235&lt;/del&gt;&lt;/a&gt;: avoid NPE if font is not defined in /DA string&lt;/p&gt;</comment>
                            <comment id="16496946" author="jira-bot" created="Thu, 31 May 2018 18:07:28 +0000"  >&lt;p&gt;Commit 1832635 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1832635&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1832635&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4235&quot; title=&quot;NPE when setting the DA of a PDTextField&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4235&quot;&gt;&lt;del&gt;PDFBOX-4235&lt;/del&gt;&lt;/a&gt;: avoid NPE if font is not defined in /DA string&lt;/p&gt;</comment>
                            <comment id="16496963" author="cgd" created="Thu, 31 May 2018 18:17:47 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; I wholeheartedly disagree. I fumbled along the few bits of documentation I could find. If there is a high level API to accomplish what I indented by setting the DA String I would appreciate a pointer &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16496973" author="jira-bot" created="Thu, 31 May 2018 18:24:54 +0000"  >&lt;p&gt;Commit 1832637 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1832637&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1832637&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4235&quot; title=&quot;NPE when setting the DA of a PDTextField&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4235&quot;&gt;&lt;del&gt;PDFBOX-4235&lt;/del&gt;&lt;/a&gt;: IllegalArgumentException instead of IllegalStateException&lt;/p&gt;</comment>
                            <comment id="16496974" author="jira-bot" created="Thu, 31 May 2018 18:25:00 +0000"  >&lt;p&gt;Commit 1832638 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1832638&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1832638&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4235&quot; title=&quot;NPE when setting the DA of a PDTextField&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4235&quot;&gt;&lt;del&gt;PDFBOX-4235&lt;/del&gt;&lt;/a&gt;: IllegalArgumentException instead of IllegalStateException&lt;/p&gt;</comment>
                            <comment id="16496975" author="jira-bot" created="Thu, 31 May 2018 18:25:52 +0000"  >&lt;p&gt;Commit 1832640 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1832640&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1832640&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4235&quot; title=&quot;NPE when setting the DA of a PDTextField&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4235&quot;&gt;&lt;del&gt;PDFBOX-4235&lt;/del&gt;&lt;/a&gt;: test to check that IllegalArgumentException is thrown and no NPE&lt;/p&gt;</comment>
                            <comment id="16496976" author="jira-bot" created="Thu, 31 May 2018 18:25:57 +0000"  >&lt;p&gt;Commit 1832641 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1832641&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1832641&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4235&quot; title=&quot;NPE when setting the DA of a PDTextField&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4235&quot;&gt;&lt;del&gt;PDFBOX-4235&lt;/del&gt;&lt;/a&gt;: test to check that IllegalArgumentException is thrown and no NPE&lt;/p&gt;</comment>
                            <comment id="16496979" author="tilman" created="Thu, 31 May 2018 18:28:53 +0000"  >&lt;p&gt;No there is no high level API for this. Your original solution was fine except for the typo. It&apos;s unfortunate, but such typoes can happen and have happened to all of us some time. And thanks to you we&apos;re now bringing a more meaningful output.&lt;/p&gt;</comment>
                            <comment id="16496983" author="tilman" created="Thu, 31 May 2018 18:35:44 +0000"  >&lt;p&gt;post &quot;log message when a bad operator is used&quot; didn&apos;t work easily, because the parser still returns &quot;tf&quot; as an operator. So it&apos;s just the exception.&lt;/p&gt;</comment>
                            <comment id="16497140" author="msahyoun" created="Thu, 31 May 2018 20:39:21 +0000"  >&lt;p&gt;There is &lt;tt&gt;PDVariableText.setDefaultAppearance([String&#160;daValue)&lt;/tt&gt; which &lt;tt&gt;PDTextField&lt;/tt&gt; extends&#160;which parses the passed string. The error handling can be improved though.&lt;/p&gt;

&lt;p&gt;Setting directly via &lt;tt&gt;COSObject&lt;/tt&gt;/&lt;tt&gt;COSDictionary&lt;/tt&gt; wouldn&apos;t allow parsing as the low level API doesn&apos;t know anything about the high level object the COS element defines.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12925931" name="F2_Datenblatt_022015.pdf" size="176573" author="tilman" created="Thu, 31 May 2018 15:19:02 +0000"/>
                            <attachment id="12925900" name="stacktrace.txt" size="1136" author="cgd" created="Thu, 31 May 2018 11:54:40 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 24 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ucon:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>