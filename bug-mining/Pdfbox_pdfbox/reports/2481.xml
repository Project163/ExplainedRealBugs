<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:11:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5078] Failure to modify cropBox when splitting a PDF Page vertically into 2 pieces</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5078</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;We can able to convert A4 PDF to Booklet PDF via PrintDF open source (&lt;a href=&quot;https://github.com/Raudius/PrintDF/blob/master/src/us/raudi/printdf/PrintDF.java)&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Raudius/PrintDF/blob/master/src/us/raudi/printdf/PrintDF.java)&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;However not able to convert Booklet to A4 i.e that is cutting vertically of a Booklet PDF page and resequence all the pages.&lt;/p&gt;

&lt;p&gt;1st problem is not sure how to cut veritically each and every PDF page and save as 2 separate PDF page or file&lt;/p&gt;

&lt;p&gt;2nd re-sequence of the booklet to proper sequence as 1, 2, 3, 4, 5 by first identifying the actual book sequence (&lt;a href=&quot;http://www.boooks.org/index.php?page=21&amp;amp;lng=1&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.boooks.org/index.php?page=21&amp;amp;lng=1&lt;/a&gt;)&lt;/p&gt;</description>
                <environment></environment>
        <key id="13351559">PDFBOX-5078</key>
            <summary>Failure to modify cropBox when splitting a PDF Page vertically into 2 pieces</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="apostlechristian377">Joseph</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Jan 2021 18:21:41 +0000</created>
                <updated>Fri, 19 Mar 2021 15:41:44 +0000</updated>
                            <resolved>Sat, 16 Jan 2021 10:54:08 +0000</resolved>
                                    <version>2.0.22</version>
                                    <fixVersion>2.0.23</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17263072" author="tilman" created="Tue, 12 Jan 2021 04:53:36 +0000"  >&lt;p&gt;How exactly is this a &quot;bug&quot;?&lt;/p&gt;</comment>
                            <comment id="17263593" author="apostlechristian377" created="Tue, 12 Jan 2021 18:49:49 +0000"  >&lt;p&gt;Because the vertical cut doesn&apos;t work when we CROP with X/Y axis. Hard to find a good documentation as well as example for Vertical Cut and save the 2 pieces as PDF files&lt;/p&gt;

&lt;p&gt;Tried huge options but couldn&apos;t succeed and looks like it is a bug.&lt;/p&gt;

&lt;p&gt;Can you please take a PDF Booklet one page and cut and verify ? If works, please kindly paste the sample here to verify&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://stackoverflow.com/questions/42315560/split-a-pdf-page-in-two-parts&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/42315560/split-a-pdf-page-in-two-parts&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17263615" author="tilman" created="Tue, 12 Jan 2021 19:13:32 +0000"  >&lt;p&gt;A &quot;bug&quot; is if it should work but didn&apos;t. You wrote:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Because the vertical cut doesn&apos;t work when we CROP with X/Y axis.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;please include your code and the input PDF.&lt;/p&gt;</comment>
                            <comment id="17263852" author="apostlechristian377" created="Wed, 13 Jan 2021 03:05:53 +0000"  >&lt;p&gt;Below is the code which i have tried to convert the booklet to A4 pdf to cut vertically...However cropping X or Y axis and importing a page has different result. you can take any&#160; booklet pdf and give a try.&#160;&lt;/p&gt;

&lt;p&gt;Each Page would have two sides - one on left hand side and other on right hand side. Booklet sample&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;2 page booklet: Type&#160;4,1,- 1st page and 2nd page - 2,3&#160;&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;4 page booklet: Type&#160;8,1,2,7,6,3,4,5&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;10 page booklet: Type&#160;20,1,2,19,18,3,4,17,16,5,6,15,14,7,8,13,12,9,10,11&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;if front and back printed it would be 1 paper,&#160;&lt;/p&gt;

&lt;p&gt;if front and back printed it would be 2 paper,&#160;&lt;/p&gt;

&lt;p&gt;if front and back printed it would be 5 page,&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i&amp;lt;noOfPages; i++) {
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Page No (PDF From Booklet): &quot;&lt;/span&gt;+ (i+1));
 PDDocument outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
 PDPage page = document.getPage(i);
 PDRectangle cropBox = document.getPage(i).getCropBox();
 &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; upperRightY = cropBox.getUpperRightY();
 &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; lowerLeftY = cropBox.getLowerLeftY();

 cropBox.setLowerLeftY(upperRightY/2);
 page.setCropBox(cropBox);
 outdoc.importPage(page);

 cropBox = page.getCropBox();
 cropBox.setUpperRightY(upperRightY/2);
 cropBox.setLowerLeftY(lowerLeftY/2);
 page.setCropBox(cropBox);
 outdoc.importPage(page);

 outdoc.save(f.getParent()+File.separator+&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt;+(i+1)+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;);
 outdoc.close();
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17263879" author="tilman" created="Wed, 13 Jan 2021 04:15:18 +0000"  >&lt;p&gt;I suspect it is indeed a bug - setCropBox() sets the item directly instead of making a copy. The &quot;spirit&quot; of importPage() is that it creates a copy, unlike addPage().&lt;/p&gt;

&lt;p&gt;Try creating a new PDRectangle, set its elements and then call setCropBox() with that one.&lt;/p&gt;</comment>
                            <comment id="17264352" author="apostlechristian377" created="Wed, 13 Jan 2021 18:45:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&#160;Is it possible to help me with the code snippet with that portion alone ?&lt;/p&gt;</comment>
                            <comment id="17264366" author="tilman" created="Wed, 13 Jan 2021 19:08:22 +0000"  >&lt;p&gt;Instead of&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
page.setCropBox(cropBox);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;try&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
page.setCropBox(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBox.getCOSArray());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17264653" author="apostlechristian377" created="Thu, 14 Jan 2021 07:09:13 +0000"  >&lt;p&gt;Not getting the expected output when used the above&lt;/p&gt;

&lt;p&gt;#1 - Need to cut in the center of each page&lt;/p&gt;

&lt;p&gt;#2 - Save the Left hand side as one pdf&lt;/p&gt;

&lt;p&gt;#3 - Save the right hand side as one pdf&lt;/p&gt;

&lt;p&gt;#4 - Re-arrange with proper sequence and combine them all.&lt;/p&gt;

&lt;p&gt;Can you help me with more code snippet?&lt;/p&gt;</comment>
                            <comment id="17264659" author="tilman" created="Thu, 14 Jan 2021 07:25:42 +0000"  >&lt;p&gt;Please attach the PDF input file, and the modified code that you used.&lt;/p&gt;</comment>
                            <comment id="17265078" author="apostlechristian377" created="Thu, 14 Jan 2021 17:49:59 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13018782/13018782_64-1212+%284%29.pdf&quot; title=&quot;64-1212 (4).pdf attached to PDFBOX-5078&quot;&gt;64-1212 (4).pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Attached a sample booklet PDF file&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
PDDocument outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
PDPage page = document.getPage(i);
PDRectangle cropBox = document.getPage(i).getCropBox();
&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; upperRightY = cropBox.getUpperRightY();
&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; lowerLeftY = cropBox.getLowerLeftY();

cropBox.setLowerLeftY(upperRightY/2);
cropBox.setUpperRightY(upperRightY/2);
page.setCropBox(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBox.getCOSArray()));
&lt;span class=&quot;code-comment&quot;&gt;//page.setCropBox(cropBox);
&lt;/span&gt;outdoc.importPage(page);
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; j = i+1;
outdoc.save(f.getParent()+File.separator+&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt;+(j)+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;);

cropBox = page.getCropBox();
cropBox.setUpperRightY(upperRightY/2);
cropBox.setLowerLeftY(lowerLeftY/2);
&lt;span class=&quot;code-comment&quot;&gt;//page.setCropBox(cropBox);
&lt;/span&gt;page.setCropBox(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBox.getCOSArray()));
outdoc.importPage(page);

outdoc.save(f.getParent()+File.separator+&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt;+(j+1)+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;);
outdoc.close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17265125" author="tilman" created="Thu, 14 Jan 2021 18:52:08 +0000"  >&lt;p&gt;Here&apos;s your cropbox of the first result file&lt;br/&gt;
 &lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13018789/13018789_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt; &lt;br/&gt;
The problem is that both Y values are identical. IMO the Y values should stay the same, only the X values should change.&lt;/p&gt;

&lt;p&gt;I&apos;ll try to do something...&lt;/p&gt;</comment>
                            <comment id="17265133" author="tilman" created="Thu, 14 Jan 2021 18:58:34 +0000"  >&lt;p&gt;This works:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        PDDocument outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
        PDPage page = document.getPage(i);
        PDRectangle cropBoxORIG = document.getPage(i).getCropBox();

        PDRectangle cropBoxLEFT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());
        cropBoxLEFT.setUpperRightX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);

        page.setCropBox(cropBoxLEFT);
        outdoc.importPage(page);
        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; j = i + 1;
        outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(XXXXX,&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + (j) + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));

        PDRectangle cropBoxRIGHT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());
        cropBoxRIGHT.setLowerLeftX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);

        page.setCropBox(cropBoxRIGHT);
        outdoc.importPage(page);

        outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(XXXX,&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + (j+1) + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
        outdoc.close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17265193" author="apostlechristian377" created="Thu, 14 Jan 2021 20:14:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&#160;Thanks a lot . Now i am able to understand the issue. However the code needs to be altered a little to get the expected output and have modified the same. Below is for reference&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; j=1;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i&amp;lt;noOfPages; i++) {
   &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Page No (PDF From Booklet): &quot;&lt;/span&gt;+ (i+1));
   PDDocument outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
   PDPage page = document.getPage(i);
   PDRectangle cropBoxORIG = document.getPage(i).getCropBox();
   PDRectangle cropBoxLEFT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());
   cropBoxLEFT.setUpperRightX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);
   page.setCropBox(cropBoxLEFT);
   outdoc.importPage(page);
   j = i + j;
   outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent(),&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + (j) + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));

   outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
   PDRectangle cropBoxRIGHT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());
   cropBoxRIGHT.setLowerLeftX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);

   page.setCropBox(cropBoxRIGHT);
   outdoc.importPage(page);
   j = j + 1;
   outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent(),&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + (j) + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
   outdoc.close();
}
&lt;span class=&quot;code-comment&quot;&gt;//document.save(&lt;span class=&quot;code-quote&quot;&gt;&quot;Path&quot;&lt;/span&gt;);
&lt;/span&gt;document.close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;---------------------&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Now the files got separately nicely and it works great. Thanks a lot for your time.&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;How to merge all the files as a single PDF file? Can you help me with a link or example or code for an example. However you can mark this ticket as resolved. Thanks again.&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="17265207" author="tilman" created="Thu, 14 Jan 2021 20:22:54 +0000"  >&lt;p&gt;For a single PDF file - save only once.&lt;/p&gt;

&lt;p&gt;I&apos;ll resolve later, I need to make a change in &lt;tt&gt;PDDocument.importPage()&lt;/tt&gt;, per my &quot;spirit&quot; comment.&lt;/p&gt;</comment>
                            <comment id="17265209" author="apostlechristian377" created="Thu, 14 Jan 2021 20:32:06 +0000"  >&lt;p&gt;Thank you. May be if someone could add these code to PDFSplitter to convert booklet to pdf or pdf to booklet and it would help many in the future.&#160;&lt;/p&gt;</comment>
                            <comment id="17265690" author="tilman" created="Fri, 15 Jan 2021 04:52:32 +0000"  >&lt;p&gt;It doesn&apos;t fit in the existing code of the splitter class, but I&apos;ll create a split-in-the-horizontal-middle tool in the examples subproject.&lt;/p&gt;</comment>
                            <comment id="17265771" author="apostlechristian377" created="Fri, 15 Jan 2021 07:27:40 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; The code works for the attached PDF but doesn&apos;t work in all booklet PDF. for some PDF file nothing is changed, however half of the page has been horizontally cut. Any idea?&#160;&lt;/p&gt;</comment>
                            <comment id="17265779" author="tilman" created="Fri, 15 Jan 2021 07:29:42 +0000"  >&lt;p&gt;You&apos;d have to attach the problem PDF.&lt;/p&gt;</comment>
                            <comment id="17265829" author="apostlechristian377" created="Fri, 15 Jan 2021 08:53:15 +0000"  >&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13018825/13018825_58-10-05E+Not+Working.pdf&quot; title=&quot;58-10-05E Not Working.pdf attached to PDFBOX-5078&quot;&gt;58-10-05E Not Working.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Attached the not working PDF. Not sure why it is not working.&lt;/p&gt;</comment>
                            <comment id="17266172" author="tilman" created="Fri, 15 Jan 2021 16:33:54 +0000"  >&lt;p&gt;That one must be cut on a horizontal line because the pages are rotated. Here some new code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;SplitBooklet
{
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException
    {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; dir = XXXX
        PDDocument document = Loader.loadPDF(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dir, XXXX));

        PDDocument outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDPage page : document.getPages())
        {
            PDRectangle cropBoxORIG = page.getCropBox();

            &lt;span class=&quot;code-comment&quot;&gt;// make sure to have &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; objects
&lt;/span&gt;            PDRectangle cropBoxLEFT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());
            PDRectangle cropBoxRIGHT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());

            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (page.getRotation() == 90 || page.getRotation() == 270)
            {
                cropBoxLEFT.setUpperRightY(cropBoxORIG.getLowerLeftY() + cropBoxORIG.getHeight() / 2);
                cropBoxRIGHT.setLowerLeftY(cropBoxORIG.getLowerLeftY() + cropBoxORIG.getHeight() / 2);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
            {
                cropBoxLEFT.setUpperRightX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);
                cropBoxRIGHT.setLowerLeftX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);
            }

            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (page.getRotation() == 180 || page.getRotation() == 270)
            {
                PDPage pageRIGHT = outdoc.importPage(page);
                pageRIGHT.setCropBox(cropBoxRIGHT);
                PDPage pageLEFT = outdoc.importPage(page);
                pageLEFT.setCropBox(cropBoxLEFT);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
            {
                PDPage pageLEFT = outdoc.importPage(page);
                pageLEFT.setCropBox(cropBoxLEFT);
                PDPage pageRIGHT = outdoc.importPage(page);
                pageRIGHT.setCropBox(cropBoxRIGHT);
            }
        }

        outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dir, XXX));
        outdoc.close();
        document.close(); &lt;span class=&quot;code-comment&quot;&gt;// must be after saving the destination document
&lt;/span&gt;    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Your booklet does not have the pages in sequence, so more logic is needed.&lt;/p&gt;</comment>
                            <comment id="17266319" author="jira-bot" created="Fri, 15 Jan 2021 19:48:31 +0000"  >&lt;p&gt;Commit 1885530 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885530&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885530&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5078&quot; title=&quot;Failure to modify cropBox when splitting a PDF Page vertically into 2 pieces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5078&quot;&gt;&lt;del&gt;PDFBOX-5078&lt;/del&gt;&lt;/a&gt;: make mediabox and cropbox a copy and not a reference&lt;/p&gt;</comment>
                            <comment id="17266320" author="jira-bot" created="Fri, 15 Jan 2021 19:48:34 +0000"  >&lt;p&gt;Commit 1885531 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885531&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885531&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5078&quot; title=&quot;Failure to modify cropBox when splitting a PDF Page vertically into 2 pieces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5078&quot;&gt;&lt;del&gt;PDFBOX-5078&lt;/del&gt;&lt;/a&gt;: make mediabox and cropbox a copy and not a reference&lt;/p&gt;</comment>
                            <comment id="17266489" author="apostlechristian377" created="Sat, 16 Jan 2021 02:39:22 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&#160;Thanks a lot and it works great. Yes, generally the pages will not be in sequence, so more logic is required. I have done the complete code for rearrange the page sequence and it works awesome. Please go through so that you can add a method in splitter or a new class which would do the conversion from Booklet into PDF&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (File f : items) {
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println();
 PDDocument document = PDDocument.load(f);
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (document.isEncrypted()) {
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.err.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Error: Encrypted documents are not supported!&quot;&lt;/span&gt;);
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(1);
 }
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Start: Create PDF from Booklet.&quot;&lt;/span&gt;);
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; noOfPages= document.getNumberOfPages();
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.print(&lt;span class=&quot;code-quote&quot;&gt;&quot;No of Pages in the PDF File: &quot;&lt;/span&gt; + f.getAbsolutePath() + &lt;span class=&quot;code-quote&quot;&gt;&quot; are &quot;&lt;/span&gt; + noOfPages);
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; j=0;
 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=0; i&amp;lt;noOfPages; i++) {
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Page No (PDF From Booklet): &quot;&lt;/span&gt;+ (i+1));
 PDDocument outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
 PDPage page = document.getPage(i);

 PDRectangle cropBoxORIG = page.getCropBox();
 &lt;span class=&quot;code-comment&quot;&gt;// make sure to have &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; objects
&lt;/span&gt; PDRectangle cropBoxLEFT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());
 PDRectangle cropBoxRIGHT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());

 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (page.getRotation() == 90 || page.getRotation() == 270) {
 cropBoxLEFT.setUpperRightY(cropBoxORIG.getLowerLeftY() + cropBoxORIG.getHeight() / 2);
 cropBoxRIGHT.setLowerLeftY(cropBoxORIG.getLowerLeftY() + cropBoxORIG.getHeight() / 2);
 } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
 cropBoxLEFT.setUpperRightX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);
 cropBoxRIGHT.setLowerLeftX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);
 }

 PDPage pageLEFT = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
 PDPage pageRIGHT = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (page.getRotation() == 180 || page.getRotation() == 270) {
 pageRIGHT = outdoc.importPage(page);
 pageRIGHT.setCropBox(cropBoxRIGHT);
 pageLEFT = outdoc.importPage(page);
 pageLEFT.setCropBox(cropBoxLEFT);
 } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
 pageLEFT = outdoc.importPage(page);
 pageLEFT.setCropBox(cropBoxLEFT);
 pageRIGHT = outdoc.importPage(page);
 pageRIGHT.setCropBox(cropBoxRIGHT);
 }

 j = 1 + j;
 outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
 outdoc.importPage(pageLEFT);
 outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent(),&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + (j) + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
 j = j + 1;
 outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
 outdoc.importPage(pageRIGHT);
 outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent(),&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + (j) + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
 outdoc.close();

 /*PDRectangle cropBoxORIG = document.getPage(i).getCropBox();
 PDRectangle cropBoxLEFT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());
 cropBoxLEFT.setUpperRightX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);
 page.setCropBox(cropBoxLEFT);
 outdoc.importPage(page);
 j = 1 + j;
 outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent(),&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + (j) + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));

 outdoc = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
 PDRectangle cropBoxRIGHT = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(cropBoxORIG.getCOSArray());
 cropBoxRIGHT.setLowerLeftX(cropBoxORIG.getLowerLeftX() + cropBoxORIG.getWidth() / 2);

 page.setCropBox(cropBoxRIGHT);
 outdoc.importPage(page);
 j = j + 1;
 outdoc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent(),&lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + (j) + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
 outdoc.close();*/
 }
 &lt;span class=&quot;code-comment&quot;&gt;//document.save(&lt;span class=&quot;code-quote&quot;&gt;&quot;Path&quot;&lt;/span&gt;);
&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;//document.close();
&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.exit(0);
&lt;/span&gt; File fileDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent());
 PDFMergerUtility PDFmerger = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDFMergerUtility();
 &lt;span class=&quot;code-comment&quot;&gt;//Setting the destination file
&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; destinationFileName = f.getParent()+ File.separator + f.getName();
 destinationFileName= destinationFileName.replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;,&quot;&quot;);
 PDFmerger.setDestinationFileName(destinationFileName+ &lt;span class=&quot;code-quote&quot;&gt;&quot;_converted.pdf&quot;&lt;/span&gt;);
 FilenameFilter filter = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; FilenameFilter() {
 @Override
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; accept(File dir, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileName) {
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (fileName.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;sample&quot;&lt;/span&gt;)) {
 &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
 }
 &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
 }
 };
 File[] files = fileDir.listFiles(filter);
 &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; destDir = f.getParent() + File.separator + &lt;span class=&quot;code-quote&quot;&gt;&quot;dest&quot;&lt;/span&gt;;
 &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; dir = f.getParent();
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; totalPages = files.length;
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; loops = totalPages/2;
 &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; pickFirst = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pageNbr1 = 0;
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pageNbr2 = 0;
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; count = 1;
 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i=1; i &amp;lt;= loops; i++) {
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(pickFirst == &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;) {
 pageNbr1 = totalPages;
 pageNbr2 = i;
 pickFirst = &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
 totalPages--;
 } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
 pageNbr1 = i;
 pageNbr2 = totalPages;
 totalPages--;
 pickFirst = &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
 }
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;PageNbr 1 &quot;&lt;/span&gt;+pageNbr1);
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;PageNbr 2 &quot;&lt;/span&gt;+pageNbr2);
 File dest = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(destDir);
 dest.mkdirs();
 File file1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dir + &lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt;+ pageNbr1+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;);
 renameFile(file1, dir, count, &lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt;, destDir, pageNbr1);
 count++;
 File file2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dir + &lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt; + pageNbr2+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;);
 renameFile(file2, dir, count, &lt;span class=&quot;code-quote&quot;&gt;&quot;sample_&quot;&lt;/span&gt;, destDir, pageNbr2);
 count++;
 }
 File splittedDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent() + File.separator + &lt;span class=&quot;code-quote&quot;&gt;&quot;dest&quot;&lt;/span&gt;);
 File[] splittedFiles = splittedDir.listFiles(filter);
 Arrays.sort(splittedFiles, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Comparator&amp;lt;File&amp;gt;() {
 @Override
 &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; compare(File o1, File o2) {
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n1 = extractNumber(o1.getName());
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; n2 = extractNumber(o2.getName());
 &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; n1 - n2;
 }

 &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; extractNumber(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name) {
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i = 0;
 &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; s = name.indexOf(&lt;span class=&quot;code-quote&quot;&gt;&quot;_&quot;&lt;/span&gt;)+1;
 &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; e = name.lastIndexOf(&lt;span class=&quot;code-quote&quot;&gt;&apos;.&apos;&lt;/span&gt;);
 &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; number = name.substring(s, e);
 i = &lt;span class=&quot;code-object&quot;&gt;Integer&lt;/span&gt;.parseInt(number);
 } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e) {
 i = 0; &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; filename does not match the format
&lt;/span&gt; &lt;span class=&quot;code-comment&quot;&gt;// then &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt; to 0
&lt;/span&gt; }
 &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; i;
 }
 });

 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(File file: splittedFiles) {
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;File NAME: &quot;&lt;/span&gt;+file.getAbsolutePath());
 }
 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(File file: splittedFiles) {
 PDFmerger.addSource(file);
 }
 PDFmerger.mergeDocuments();
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Documents merged&quot;&lt;/span&gt;);
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Sample files will be deleted&quot;&lt;/span&gt;);
 File reaarrnagedDir = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(f.getParent() + File.separator + &lt;span class=&quot;code-quote&quot;&gt;&quot;dest&quot;&lt;/span&gt;);
 File[] rearrangedFiles = reaarrnagedDir.listFiles(filter);
 &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(File file: rearrangedFiles) {
 file.delete();
 file.deleteOnExit();
 }
}
&#160;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void renameFile(File file, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; dir, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; count, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileNameStartsWith, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; destDir, &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; pageNbr) {
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Name1: &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dir + File.separator + fileNameStartsWith+ count + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Rename To: &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(destDir + File.separator + fileNameStartsWith+ pageNbr +&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
 &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; success = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dir + File.separator + fileNameStartsWith+count+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;).renameTo(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(destDir + File.separator + fileNameStartsWith+pageNbr+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
 &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(!success) {
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Not success Actual : &quot;&lt;/span&gt;+&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(dir + File.separator + fileNameStartsWith+count+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Not success Rename To : &quot;&lt;/span&gt;+&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(destDir + File.separator + fileNameStartsWith+pageNbr+&lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;));
 } &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; {
 &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;success&quot;&lt;/span&gt;);
 }
}


&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;br/&gt;
&#160;&lt;/p&gt;</comment>
                            <comment id="17266562" author="jira-bot" created="Sat, 16 Jan 2021 10:49:14 +0000"  >&lt;p&gt;Commit 1885550 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885550&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885550&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5078&quot; title=&quot;Failure to modify cropBox when splitting a PDF Page vertically into 2 pieces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5078&quot;&gt;&lt;del&gt;PDFBOX-5078&lt;/del&gt;&lt;/a&gt;: add simple example&lt;/p&gt;</comment>
                            <comment id="17266563" author="jira-bot" created="Sat, 16 Jan 2021 10:49:17 +0000"  >&lt;p&gt;Commit 1885551 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885551&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5078&quot; title=&quot;Failure to modify cropBox when splitting a PDF Page vertically into 2 pieces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5078&quot;&gt;&lt;del&gt;PDFBOX-5078&lt;/del&gt;&lt;/a&gt;: add simple example&lt;/p&gt;</comment>
                            <comment id="17266565" author="tilman" created="Sat, 16 Jan 2021 10:54:08 +0000"  >&lt;p&gt;I added an example but didn&apos;t use your improvements because IMHO it is too specific to your case. However I linked back to here so that people can still see your code and the link to the other project. Thank you for your report and your input!&lt;/p&gt;</comment>
                            <comment id="17266729" author="apostlechristian377" created="Sun, 17 Jan 2021 09:32:46 +0000"  >&lt;p&gt;You are the one to be appreciated. Thanks for your quick response and resolution.&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17266787" author="jira-bot" created="Sun, 17 Jan 2021 14:09:51 +0000"  >&lt;p&gt;Commit 1885601 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885601&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885601&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5078&quot; title=&quot;Failure to modify cropBox when splitting a PDF Page vertically into 2 pieces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5078&quot;&gt;&lt;del&gt;PDFBOX-5078&lt;/del&gt;&lt;/a&gt;: add missing package declaration&lt;/p&gt;</comment>
                            <comment id="17266789" author="jira-bot" created="Sun, 17 Jan 2021 14:12:37 +0000"  >&lt;p&gt;Commit 1885602 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1885602&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1885602&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5078&quot; title=&quot;Failure to modify cropBox when splitting a PDF Page vertically into 2 pieces&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5078&quot;&gt;&lt;del&gt;PDFBOX-5078&lt;/del&gt;&lt;/a&gt;: add missing package declaration&lt;/p&gt;</comment>
                            <comment id="17266792" author="tilman" created="Sun, 17 Jan 2021 14:18:35 +0000"  >&lt;p&gt;Thanks... it&apos;s weird that I didn&apos;t get any compiler error.&lt;/p&gt;</comment>
                            <comment id="17266793" author="lehmi" created="Sun, 17 Jan 2021 14:34:57 +0000"  >&lt;p&gt;Obviously the complier doesn&apos;t complain, it simply creates a class file without any package (I&apos;ve checked the jar in nexus). Eclipse OTOH detects the missing information and marks the file as faulty.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13018825" name="58-10-05E Not Working.pdf" size="338305" author="apostlechristian377" created="Fri, 15 Jan 2021 08:52:57 +0000"/>
                            <attachment id="13018782" name="64-1212 (4).pdf" size="724532" author="apostlechristian377" created="Thu, 14 Jan 2021 17:46:25 +0000"/>
                            <attachment id="13018790" name="sample_2.pdf" size="112372" author="tilman" created="Thu, 14 Jan 2021 18:58:53 +0000"/>
                            <attachment id="13018789" name="screenshot-1.png" size="5607" author="tilman" created="Thu, 14 Jan 2021 18:51:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0mguo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>