<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:04:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3549] Can&apos;t read embedded ICC 4 profile (Invalid profile sequence)</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3549</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;1) Goto this page: &lt;a href=&quot;http://www.color.org/version4ready.xalter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.color.org/version4ready.xalter&lt;/a&gt;&lt;br/&gt;
2) Download this file: &lt;a href=&quot;http://www.color.org/version4pdf.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.color.org/version4pdf.pdf&lt;/a&gt;&lt;br/&gt;
3) Run this command:&lt;br/&gt;
java -jar pdfbox-app-2.0.3.jar PDFToImage version4pdf.pdf&lt;br/&gt;
4) PDFBox output error:&lt;br/&gt;
Can&apos;t read embedded ICC profile (Invalid profile sequence), using alternate color space: DeviceRGB&lt;br/&gt;
5) Open the output file: version4pdf1.jpg, you will found there is a rendering error.&lt;/p&gt;</description>
                <environment>Ubuntu 12.04 AMD64, Java 7</environment>
        <key id="13016600">PDFBOX-3549</key>
            <summary>Can&apos;t read embedded ICC 4 profile (Invalid profile sequence)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="liuhuasong">Liu Huasong</reporter>
                        <labels>
                            <label>ICC</label>
                            <label>icc4</label>
                    </labels>
                <created>Mon, 31 Oct 2016 13:35:36 +0000</created>
                <updated>Sat, 25 Mar 2017 18:12:41 +0000</updated>
                            <resolved>Wed, 2 Nov 2016 16:59:24 +0000</resolved>
                                    <version>2.0.3</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.4</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15622327" author="liuhuasong" created="Mon, 31 Oct 2016 14:36:54 +0000"  >&lt;p&gt;When I test pdfbox-app-2.1.0-20161030.162347-413.jar, it can&apos;t output the jpg file, error message is:&lt;br/&gt;
Exception in thread &quot;main&quot; java.awt.color.ProfileDataException: Invalid profile sequence&lt;br/&gt;
	at sun.java2d.cmm.kcms.CMM.createTransform(CMM.java:149)&lt;br/&gt;
	at java.awt.image.ColorConvertOp.updateBITransform(ColorConvertOp.java:443)&lt;br/&gt;
	at java.awt.image.ColorConvertOp.ICCBIFilter(ColorConvertOp.java:351)&lt;br/&gt;
	at java.awt.image.ColorConvertOp.filter(ColorConvertOp.java:282)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.color.PDColorSpace.toRGBImageAWT(PDColorSpace.java:282)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.color.PDICCBased.toRGBImage(PDICCBased.java:199)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.image.SampledImageReader.from8bit(SampledImageReader.java:257)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.image.SampledImageReader.getRGBImage(SampledImageReader.java:143)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject.getImage(PDImageXObject.java:340)&lt;br/&gt;
	at org.apache.pdfbox.tools.ExtractImages.write2file(ExtractImages.java:313)&lt;br/&gt;
	at org.apache.pdfbox.tools.ExtractImages.access$400(ExtractImages.java:48)&lt;br/&gt;
	at org.apache.pdfbox.tools.ExtractImages$ImageGraphicsEngine.drawImage(ExtractImages.java:217)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.operator.graphics.DrawObject.process(DrawObject.java:62)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:815)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:472)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:446)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:149)&lt;br/&gt;
	at org.apache.pdfbox.tools.ExtractImages$ImageGraphicsEngine.run(ExtractImages.java:195)&lt;br/&gt;
	at org.apache.pdfbox.tools.ExtractImages.extract(ExtractImages.java:174)&lt;br/&gt;
	at org.apache.pdfbox.tools.ExtractImages.run(ExtractImages.java:136)&lt;br/&gt;
	at org.apache.pdfbox.tools.ExtractImages.main(ExtractImages.java:80)&lt;br/&gt;
	at org.apache.pdfbox.tools.PDFBox.main(PDFBox.java:64)&lt;/p&gt;</comment>
                            <comment id="15624661" author="tilman" created="Tue, 1 Nov 2016 07:45:30 +0000"  >&lt;p&gt;The text has the title &quot;Is Your System ICC Version 4 Ready?&quot; - I guess the answer is &quot;no&quot;.&lt;/p&gt;

&lt;p&gt;The fatal error goes away when not using the option mentioned in &lt;a href=&quot;https://pdfbox.apache.org/2.0/getting-started.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pdfbox.apache.org/2.0/getting-started.html&lt;/a&gt; although the file is still not rendered properly. LittleCMS brings other problems.&lt;/p&gt;</comment>
                            <comment id="15626050" author="jahewson" created="Tue, 1 Nov 2016 17:20:36 +0000"  >&lt;p&gt;According to the PDF spec V4 (a.k.a. ICC.1:2001-12) profiles have been supported since PDF 1.5. But this is a problem for Java&apos;s CMS, as PDFBox delegates all color profile code to Java.&lt;/p&gt;</comment>
                            <comment id="15628325" author="liuhuasong" created="Wed, 2 Nov 2016 09:22:53 +0000"  >&lt;p&gt;You are right. I made a mistake:&lt;br/&gt;
My system have both Java7 and Java8 installed&#65292;I just found the default is Java7, after I installed oracle-java8-set-default package, the problem disappeared.&lt;br/&gt;
Please close this issue.&lt;/p&gt;</comment>
                            <comment id="15628371" author="liuhuasong" created="Wed, 2 Nov 2016 09:35:42 +0000"  >&lt;p&gt;But the latest 2.1.0 failed with latest Oracle Java8(1.8.0_111):&lt;br/&gt;
1) Goto this page: &lt;a href=&quot;http://www.color.org/version4ready.xalter&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.color.org/version4ready.xalter&lt;/a&gt;&lt;br/&gt;
2) Download this file: &lt;a href=&quot;http://www.color.org/version4pdf.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.color.org/version4pdf.pdf&lt;/a&gt;&lt;br/&gt;
3) Run this command:&lt;br/&gt;
java -jar pdfbox-app-2.1.0-20161030.162347-413.jar PDFToImage version4pdf.pdf&lt;br/&gt;
4) PDFBox output error:&lt;br/&gt;
Can&apos;t read embedded ICC profile (LCMS error 13: Couldn&apos;t link the profiles), using alternate color space: DeviceRGB&lt;br/&gt;
5) Open the output file: version4pdf1.jpg, you will found there is a rendering error.&lt;/p&gt;

&lt;p&gt;I failed to create an issue for 2.1.0&lt;/p&gt;</comment>
                            <comment id="15629584" author="jira-bot" created="Wed, 2 Nov 2016 16:57:32 +0000"  >&lt;p&gt;Commit 1767734 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1767734&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1767734&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3549&quot; title=&quot;Can&amp;#39;t read embedded ICC 4 profile (Invalid profile sequence)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3549&quot;&gt;&lt;del&gt;PDFBOX-3549&lt;/del&gt;&lt;/a&gt;: restore the test call deleted in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3531&quot; title=&quot;LCMS error 13: Couldn&amp;#39;t link the profiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3531&quot;&gt;&lt;del&gt;PDFBOX-3531&lt;/del&gt;&lt;/a&gt; because we need both&lt;/p&gt;</comment>
                            <comment id="15629588" author="jira-bot" created="Wed, 2 Nov 2016 16:57:43 +0000"  >&lt;p&gt;Commit 1767735 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1767735&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1767735&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3549&quot; title=&quot;Can&amp;#39;t read embedded ICC 4 profile (Invalid profile sequence)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3549&quot;&gt;&lt;del&gt;PDFBOX-3549&lt;/del&gt;&lt;/a&gt;: restore the test call deleted in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3531&quot; title=&quot;LCMS error 13: Couldn&amp;#39;t link the profiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3531&quot;&gt;&lt;del&gt;PDFBOX-3531&lt;/del&gt;&lt;/a&gt; because we need both&lt;/p&gt;</comment>
                            <comment id="15629596" author="tilman" created="Wed, 2 Nov 2016 16:58:52 +0000"  >&lt;p&gt;As I said, the problem comes with KCMS but not with LittleCMS. The line &quot;using alternate color space: DeviceRGB&quot; means that we detected at an early time that the icc profile is bad and are working with a &quot;Plan B&quot;.&lt;/p&gt;

&lt;p&gt;We used a different method prior to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3531&quot; title=&quot;LCMS error 13: Couldn&amp;#39;t link the profiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3531&quot;&gt;&lt;del&gt;PDFBOX-3531&lt;/del&gt;&lt;/a&gt; to detect icc problems. In &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3531&quot; title=&quot;LCMS error 13: Couldn&amp;#39;t link the profiles&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3531&quot;&gt;&lt;del&gt;PDFBOX-3531&lt;/del&gt;&lt;/a&gt; I changed it with a call that I thought would help all the time, but your issue shows it ain&apos;t so. Thus I&apos;ll add the old line again, i.e. we&apos;ll have two tests now.&lt;/p&gt;

&lt;p&gt;After the change the file renders, although the colors are wrong. This is the fault of java, so I&apos;ll set this issue to resolved.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13012020">PDFBOX-3531</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 2 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35me7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>