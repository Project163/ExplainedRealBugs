<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:04:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3546] IOException over DataFormatException, &quot;invalid stored block lengths&quot; on a valid PDF</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3546</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;On the attached document, which loads and displays with Adobe Reader fine, PDDocument.load() throws the following exception:&lt;/p&gt;

&lt;p&gt;java.io.IOException: java.util.zip.DataFormatException: invalid stored block lengths&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decode(FlateFilter.java:82)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSInputStream.create(COSInputStream.java:69)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.createInputStream(COSStream.java:162)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFXrefStreamParser.&amp;lt;init&amp;gt;(PDFXrefStreamParser.java:56)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.COSParser.parseXrefStream(COSParser.java:2053)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.COSParser.parseXrefObjStream(COSParser.java:333)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.COSParser.parseXref(COSParser.java:259)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:194)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:252)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:957)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:913)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:861)&lt;br/&gt;
	at Temp.PDFTemp.App.main(App.java:19)&lt;br/&gt;
Caused by: java.util.zip.DataFormatException: invalid stored block lengths&lt;br/&gt;
	at java.util.zip.Inflater.inflateBytes(Native Method)&lt;br/&gt;
	at java.util.zip.Inflater.inflate(Inflater.java:259)&lt;br/&gt;
	at java.util.zip.Inflater.inflate(Inflater.java:280)&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decompress(FlateFilter.java:107)&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decode(FlateFilter.java:73)&lt;br/&gt;
	... 12 more&lt;/p&gt;</description>
                <environment>Windows 7 x64, JVM 1.8.0_101</environment>
        <key id="13015961">PDFBOX-3546</key>
            <summary>IOException over DataFormatException, &quot;invalid stored block lengths&quot; on a valid PDF</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="sevaa">Seva Alekseyev</reporter>
                        <labels>
                    </labels>
                <created>Thu, 27 Oct 2016 20:29:34 +0000</created>
                <updated>Wed, 23 Aug 2017 16:29:06 +0000</updated>
                            <resolved>Wed, 2 Nov 2016 17:05:45 +0000</resolved>
                                    <version>1.8.12</version>
                    <version>2.0.3</version>
                                    <fixVersion>1.8.13</fixVersion>
                    <fixVersion>2.0.4</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="15615806" author="tilman" created="Fri, 28 Oct 2016 16:06:22 +0000"  >&lt;p&gt;&quot;/XRefStm 208788&quot; has an incorrect value. Unless somebody else does it first, I&apos;ll fix it mid next week, i.e. catch the exception and skip the incorrect XRefStm.&lt;/p&gt;</comment>
                            <comment id="15629554" author="jira-bot" created="Wed, 2 Nov 2016 16:49:34 +0000"  >&lt;p&gt;Commit 1767729 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1767729&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1767729&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3546&quot; title=&quot;IOException over DataFormatException, &amp;quot;invalid stored block lengths&amp;quot; on a valid PDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3546&quot;&gt;&lt;del&gt;PDFBOX-3546&lt;/del&gt;&lt;/a&gt;: catch exception and skip incorrect XRefStm&lt;/p&gt;</comment>
                            <comment id="15629555" author="jira-bot" created="Wed, 2 Nov 2016 16:49:38 +0000"  >&lt;p&gt;Commit 1767730 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1767730&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1767730&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3546&quot; title=&quot;IOException over DataFormatException, &amp;quot;invalid stored block lengths&amp;quot; on a valid PDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3546&quot;&gt;&lt;del&gt;PDFBOX-3546&lt;/del&gt;&lt;/a&gt;: catch exception and skip incorrect XRefStm&lt;/p&gt;</comment>
                            <comment id="15629623" author="jira-bot" created="Wed, 2 Nov 2016 17:04:53 +0000"  >&lt;p&gt;Commit 1767739 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1767739&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1767739&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3546&quot; title=&quot;IOException over DataFormatException, &amp;quot;invalid stored block lengths&amp;quot; on a valid PDF&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3546&quot;&gt;&lt;del&gt;PDFBOX-3546&lt;/del&gt;&lt;/a&gt;: catch exception and skip incorrect XRefStm&lt;/p&gt;</comment>
                            <comment id="15875909" author="xtracoder" created="Tue, 21 Feb 2017 12:31:14 +0000"  >&lt;p&gt;I&apos;ve got to the same exception in &apos;FlateFilter.java:82&apos; via another stack trace, unfortunately i can&apos;t attach sample PDF because it contains some proprietary information (This PDF can is able to open in other tools e.g. Foxit PDF reader)&lt;/p&gt;

&lt;p&gt;java.io.IOException: java.util.zip.DataFormatException: invalid stored block lengths&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decode(FlateFilter.java:82)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSInputStream.create(COSInputStream.java:69)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.createInputStream(COSStream.java:162)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.readCMap(PDFont.java:189)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.&amp;lt;init&amp;gt;(PDFont.java:134)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDSimpleFont.&amp;lt;init&amp;gt;(PDSimpleFont.java:84)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.&amp;lt;init&amp;gt;(PDTrueTypeFont.java:164)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:75)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:143)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.operator.text.SetFontAndSize.process(SetFontAndSize.java:60)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:829)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:486)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:460)&lt;br/&gt;
	at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:150)&lt;br/&gt;
	at org.apache.pdfbox.text.LegacyPDFStreamEngine.processPage(LegacyPDFStreamEngine.java:139)&lt;br/&gt;
	at org.apache.pdfbox.text.PDFTextStripper.processPage(PDFTextStripper.java:391)&lt;br/&gt;
	at org.apache.pdfbox.text.PDFTextStripper.processPages(PDFTextStripper.java:319)&lt;br/&gt;
	at org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:266)&lt;br/&gt;
	at org.apache.pdfbox.text.PDFTextStripper.getText(PDFTextStripper.java:227)&lt;br/&gt;
	...&lt;br/&gt;
Caused by: java.util.zip.DataFormatException: invalid stored block lengths&lt;br/&gt;
	at java.util.zip.Inflater.inflateBytes(Native Method)&lt;br/&gt;
	at java.util.zip.Inflater.inflate(Inflater.java:259)&lt;br/&gt;
	at java.util.zip.Inflater.inflate(Inflater.java:280)&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decompress(FlateFilter.java:107)&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decode(FlateFilter.java:73)&lt;br/&gt;
	... 21 more&lt;/p&gt;</comment>
                            <comment id="15875990" author="xtracoder" created="Tue, 21 Feb 2017 13:48:40 +0000"  >&lt;p&gt;This occurs in v2.0.4&lt;/p&gt;</comment>
                            <comment id="15876330" author="lehmi" created="Tue, 21 Feb 2017 17:26:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=xtracoder&quot; class=&quot;user-hover&quot; rel=&quot;xtracoder&quot;&gt;xtracoder&lt;/a&gt; Please open a new ticket and attach a sample file. This one is already closed&lt;/p&gt;</comment>
                            <comment id="16138258" author="privarola" created="Wed, 23 Aug 2017 12:00:23 +0000"  >&lt;p&gt;I reproduced this error with PDFBox 1.8.13 :&lt;br/&gt;
{{java.io.IOException&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decode(FlateFilter.java:108)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.doDecode(COSStream.java:379)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.doDecode(COSStream.java:291)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.getUnfilteredStream(COSStream.java:225)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.common.COSStreamArray.getUnfilteredStream(COSStreamArray.java:197)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFStreamParser.&amp;lt;init&amp;gt;(PDFStreamParser.java:117)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:252)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:236)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:216)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFTextStripper.processPage(PDFTextStripper.java:471)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFTextStripper.processPages(PDFTextStripper.java:395)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFTextStripper.writeText(PDFTextStripper.java:354)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFTextStripper.getText(PDFTextStripper.java:287)&lt;br/&gt;
	at com.knowings.commons.io.PDFUtils.extractText(PDFUtils.java:384)&lt;br/&gt;
Caused by: java.util.zip.DataFormatException: invalid stored block lengths&lt;br/&gt;
	at java.util.zip.Inflater.inflateBytes(Native Method)&lt;br/&gt;
	at java.util.zip.Inflater.inflate(Inflater.java:259)&lt;br/&gt;
	at java.util.zip.Inflater.inflate(Inflater.java:280)&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decompress(FlateFilter.java:134)&lt;br/&gt;
	at org.apache.pdfbox.filter.FlateFilter.decode(FlateFilter.java:100)&lt;br/&gt;
	... 90 more}}&lt;/p&gt;

&lt;p&gt;Unfortunately I cannot post the file because it is confidential.&lt;/p&gt;</comment>
                            <comment id="16138490" author="tilman" created="Wed, 23 Aug 2017 15:20:21 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=privarola&quot; class=&quot;user-hover&quot; rel=&quot;privarola&quot;&gt;privarola&lt;/a&gt; please read &lt;a href=&quot;https://pdfbox.apache.org/support.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://pdfbox.apache.org/support.html&lt;/a&gt; in full.&lt;/p&gt;</comment>
                            <comment id="16138541" author="privarola" created="Wed, 23 Aug 2017 16:06:46 +0000"  >&lt;p&gt;If you mean trying both the default parser and the nonSeq parser, I got the error with both of them. Adobe can read the text.&lt;br/&gt;
If you mean something else, please explain.&lt;/p&gt;</comment>
                            <comment id="16138563" author="tilman" created="Wed, 23 Aug 2017 16:20:09 +0000"  >&lt;p&gt;Yes that&apos;s what I mean. But for further analysis I&apos;d need the file, which you can&apos;t deliver. It&apos;s quite possible that only one page is broken. Adobe often doesn&apos;t report errors.&lt;/p&gt;</comment>
                            <comment id="16138591" author="lehmi" created="Wed, 23 Aug 2017 16:29:06 +0000"  >&lt;p&gt;BTW, please open a new ticket and don&apos;t reuse already closed ones&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12835662" name="Null-control-man.pdf" size="276988" author="sevaa" created="Thu, 27 Oct 2016 20:29:49 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 12 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i35ig7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>