<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:03:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3298] Can&apos;t show text (glyph) from ZapfDingbats font</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3298</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I am unable to add glyphs from the standard &lt;b&gt;ZapfDingbats&lt;/b&gt; font to a PDF document. The issue seems to be that the encoding for the font (&lt;b&gt;WinAnsiEncoding&lt;/b&gt;) does not have mappings for the &quot;non-ASCII (???)&quot; PDF names used in the font (&quot;aXX&quot;). (However, the &lt;tt&gt;PDSimpleFont.glyphList&lt;/tt&gt; &lt;b&gt;does&lt;/b&gt; contain mappings between Unicode codepoints and PDF names.)&lt;/p&gt;

&lt;p&gt;Sample code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;PDDocument document = PDDocument.load(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;myfile.pdf&quot;&lt;/span&gt;));
PDPage page = document.getPages().get(0); &lt;span class=&quot;code-comment&quot;&gt;// first page
&lt;/span&gt;PDPageContentStream contentStream = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDPageContentStream(document, page, AppendMode.APPEND, &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);

PDType1Font font = PDType1Font.ZAPF_DINGBATS;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; glyph = &lt;span class=&quot;code-quote&quot;&gt;&quot;\u2714&quot;&lt;/span&gt;;

contentStream.beginText();
contentStream.setFont(font, fontSize);
contentStream.newLineAtOffset(10, 10); &lt;span class=&quot;code-comment&quot;&gt;// towards lower left corner of page
&lt;/span&gt;contentStream.showText(glyph);
contentStream.endText();
contentStream.close();

document.save(&lt;span class=&quot;code-quote&quot;&gt;&quot;output.pdf&quot;&lt;/span&gt;);
document.close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Exception thrown:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IllegalArgumentException: U+2714 (&lt;span class=&quot;code-quote&quot;&gt;&apos;a20&apos;&lt;/span&gt;) is not available in &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; font&apos;s encoding: WinAnsiEncoding
    at org.apache.pdfbox.pdmodel.font.PDType1Font.encode(PDType1Font.java:345)
    at org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:286)
    :
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</description>
                <environment>Linux (kernel &amp;quot;3.19.0-32 generic&amp;quot;), Java &amp;quot;build 1.8.0_66-b17&amp;quot;.</environment>
        <key id="12954892">PDFBOX-3298</key>
            <summary>Can&apos;t show text (glyph) from ZapfDingbats font</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="fif">Friedwin Fleischmann</reporter>
                        <labels>
                    </labels>
                <created>Thu, 31 Mar 2016 08:35:24 +0000</created>
                <updated>Sat, 25 Mar 2017 18:13:28 +0000</updated>
                            <resolved>Mon, 11 Jul 2016 16:53:55 +0000</resolved>
                                    <version>2.0.0</version>
                    <version>2.0.2</version>
                    <version>2.0.3</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.3</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>FontBox</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15230604" author="jahewson" created="Thu, 7 Apr 2016 17:19:24 +0000"  >&lt;p&gt;We should probably implement this. ZapfDingbats has its own glyph list.&lt;/p&gt;</comment>
                            <comment id="15366793" author="jira-bot" created="Thu, 7 Jul 2016 21:22:49 +0000"  >&lt;p&gt;Commit 1751833 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1751833&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1751833&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3298&quot; title=&quot;Can&amp;#39;t show text (glyph) from ZapfDingbats font&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3298&quot;&gt;&lt;del&gt;PDFBOX-3298&lt;/del&gt;&lt;/a&gt;: added encoding for ZapfDingbats&lt;/p&gt;</comment>
                            <comment id="15366795" author="jira-bot" created="Thu, 7 Jul 2016 21:24:53 +0000"  >&lt;p&gt;Commit 1751834 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1751834&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1751834&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3298&quot; title=&quot;Can&amp;#39;t show text (glyph) from ZapfDingbats font&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3298&quot;&gt;&lt;del&gt;PDFBOX-3298&lt;/del&gt;&lt;/a&gt;: added encoding for ZapfDingbats&lt;/p&gt;</comment>
                            <comment id="15366801" author="tilman" created="Thu, 7 Jul 2016 21:25:50 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=fif&quot; class=&quot;user-hover&quot; rel=&quot;fif&quot;&gt;fif&lt;/a&gt; please test your application and give feedback. A snapshot should be available within hours here&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.3-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.3-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15367121" author="jahewson" created="Fri, 8 Jul 2016 02:41:38 +0000"  >&lt;p&gt;Looks good!&lt;/p&gt;</comment>
                            <comment id="15370593" author="fif" created="Mon, 11 Jul 2016 11:35:21 +0000"  >&lt;p&gt;I have run above sample code with both pdfbox-app-2.0.3-20160708.172314-80.jar and pdfbox-app-2.0.3-20160709.162153-87.jar, unfortunately it still throws the exception as reported above.&lt;/p&gt;</comment>
                            <comment id="15370776" author="tilman" created="Mon, 11 Jul 2016 13:42:24 +0000"  >&lt;p&gt;Is the ZapfDingbats font on your system? The file name is usually ZD______.PFB. Alternatively, the font file msgothic.ttc can also work.&lt;/p&gt;</comment>
                            <comment id="15371032" author="jira-bot" created="Mon, 11 Jul 2016 15:56:15 +0000"  >&lt;p&gt;Commit 1752181 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1752181&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1752181&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3298&quot; title=&quot;Can&amp;#39;t show text (glyph) from ZapfDingbats font&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3298&quot;&gt;&lt;del&gt;PDFBOX-3298&lt;/del&gt;&lt;/a&gt;: improve Exception message&lt;/p&gt;</comment>
                            <comment id="15371038" author="jira-bot" created="Mon, 11 Jul 2016 15:56:59 +0000"  >&lt;p&gt;Commit 1752182 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1752182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1752182&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3298&quot; title=&quot;Can&amp;#39;t show text (glyph) from ZapfDingbats font&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3298&quot;&gt;&lt;del&gt;PDFBOX-3298&lt;/del&gt;&lt;/a&gt;: improve Exception message&lt;/p&gt;</comment>
                            <comment id="15371049" author="tilman" created="Mon, 11 Jul 2016 15:59:06 +0000"  >&lt;p&gt;I have improved the exception message. This could be what comes out if you don&apos;t have that font installed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;11.07.2016 17:55:18.293 WARN  [main] org.apache.pdfbox.pdmodel.font.PDType1Font:156 - Using fallback font ArialMT &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; base font ZapfDingbats
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IllegalArgumentException: No glyph &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; U+2714 in font ZapfDingbats (&lt;span class=&quot;code-keyword&quot;&gt;generic&lt;/span&gt;: ArialMT)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To find out whether you have this font, or the gothic font, go to your user directory and open the file &quot;.pdfbox.cache&quot;.&lt;/p&gt;

&lt;p&gt;Please post the exception message that you get now.&lt;/p&gt;</comment>
                            <comment id="15371146" author="fif" created="Mon, 11 Jul 2016 16:50:59 +0000"  >&lt;p&gt;I confirm that my test app runs correctly (using pdfbox-app-2.1.0-20160711.161740-168.jar). I&apos;ll backtrack now to see why I couldn&apos;t get it working previously. I assume it is my own setup that was problematic &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15371151" author="tilman" created="Mon, 11 Jul 2016 16:53:22 +0000"  >&lt;p&gt;Thanks for the feedback. Re your (deleted) message, your test code was excellent, and your initial bug report showed a real problem in our code. Thanks again!&lt;/p&gt;</comment>
                            <comment id="15371198" author="fif" created="Mon, 11 Jul 2016 17:22:22 +0000"  >&lt;p&gt;And thank YOU for your patience and help &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15371362" author="fif" created="Mon, 11 Jul 2016 18:25:17 +0000"  >&lt;p&gt;I also want to add that it works even with the above fonts uninstalled again, and removed from .pdfbox.cache - at least on my system. I guess the fallback font works transparently.&lt;br/&gt;
It seems I could not confirm the fix initially due to an undetected dependency to the old JAR.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13036781">PDFBOX-3659</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vg3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>