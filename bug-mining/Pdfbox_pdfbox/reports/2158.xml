<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:08:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4435] Poor quality printing of PDF label</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4435</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I&apos;m experiencing poor quality printing of PDF courier labels with PDFBox when printing from the command line with the following command:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java -jar pdfbox-app-*.jar PrintPDF label.pdf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This makes scanning the QR code on these labels troublesome.&lt;/p&gt;

&lt;p&gt;I&apos;ve tried versions 2.0.3, 2.0.13, 2.0.14 (SNAPSHOT) and all produce the same quality issue. Interestingly version 1.8.16 does not appear to suffer from this issue.&lt;/p&gt;

&lt;p&gt;I have tried 2 different thermal printers, a GK420d and a CITIZEN CL-S400DT(Z) and both output the same.&lt;/p&gt;

&lt;p&gt;When printing the label directly from the GNOME document viewer (Evince) the label prints clearly on both printers.&lt;/p&gt;

&lt;p&gt;Please find examples of these labels attached.&lt;/p&gt;

&lt;p&gt;Can anything be done to prevent these quality issues?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;/p&gt;

&lt;p&gt;David&lt;/p&gt;</description>
                <environment>Lubuntu 16.04, GK420d printer, CL-S400DT(Z) printer</environment>
        <key id="13210360">PDFBOX-4435</key>
            <summary>Poor quality printing of PDF label</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="david.hancock">David Hancock</reporter>
                        <labels>
                            <label>print</label>
                            <label>printing</label>
                    </labels>
                <created>Fri, 18 Jan 2019 11:42:28 +0000</created>
                <updated>Mon, 29 Apr 2019 11:48:41 +0000</updated>
                            <resolved>Sat, 26 Jan 2019 12:02:34 +0000</resolved>
                                    <version>2.0.3</version>
                    <version>2.0.13</version>
                    <version>2.0.14</version>
                                    <fixVersion>2.0.14</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16746286" author="tilman" created="Fri, 18 Jan 2019 13:33:54 +0000"  >&lt;p&gt;I suspect this: the QR code is an RGB image and has /Interpolate set. So java interpolates and creates some colors between black and white. This looks weird on a b/w printer. So what you could do:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;convert the QR image to a b/w image&lt;br/&gt;
or&lt;/li&gt;
	&lt;li&gt;don&apos;t print directly, instead use PDFBox to convert to a b/w image (there is an option for this) and print that image&lt;br/&gt;
or&lt;/li&gt;
	&lt;li&gt;modify PDFBox so that in PageDrawer.java, force &lt;tt&gt;graphics.setRenderingHint(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_NEAREST_NEIGHBOR);&lt;/tt&gt;&lt;br/&gt;
or&lt;/li&gt;
	&lt;li&gt;remove the interpolate setting from the QR code&lt;br/&gt;
or&lt;/li&gt;
	&lt;li&gt;change PDFPrintable so that when dpi is non zero, a bitonal image is used and not an ARGB image&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16746372" author="david.hancock" created="Fri, 18 Jan 2019 14:56:43 +0000"  >&lt;p&gt;Thanks for the reply &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Would any of the above affect strokes?&lt;/p&gt;

&lt;p&gt;I ask as the entire label prints this way not just the QR code, you can see the&#160;stroked lines and text in the images differ between v1.8 and v2 also.&lt;/p&gt;</comment>
                            <comment id="16746386" author="tilman" created="Fri, 18 Jan 2019 15:09:10 +0000"  >&lt;p&gt;I tried on an ordinary laser printer. I can barely see the problem with the text and the line, but it is there. So the QR image isn&apos;t the only problem. I did try to render to a b/w image and then print and the text and the line look better. So forget about solutions 1 and 4.&lt;/p&gt;</comment>
                            <comment id="16746387" author="tilman" created="Fri, 18 Jan 2019 15:11:11 +0000"  >&lt;p&gt;To try the bitonal rendering, use pdfbox-app and PDFToImage with parameters  &quot;-color bilevel -dpi 600 -imageType png&quot;. (Adjust the DPI, and don&apos;t use jpeg)&lt;/p&gt;</comment>
                            <comment id="16746417" author="david.hancock" created="Fri, 18 Jan 2019 15:51:44 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, I can confirm the label prints fine when converting it to an image first as per your last comment and printing via OS.&lt;/p&gt;

&lt;p&gt;My issue is we indirectly use PDFBox though QZ-Tray for printing which means I&apos;ve got no control over how the printing of this PDF is handled internally.&lt;/p&gt;

&lt;p&gt;I&apos;ll raise a ticket with them and see if they can make use of any of the suggestions here.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="16746565" author="tresf" created="Fri, 18 Jan 2019 18:35:48 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; this PDF is behaving identical to what was reported over in&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4123&quot; title=&quot;PDF will only print rasterized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4123&quot;&gt;&lt;del&gt;PDFBOX-4123&lt;/del&gt;&lt;/a&gt;.&#160; Is there a chance it&apos;s a transparency causing it?&#160; I can see &quot;&lt;b&gt;/S/Transparency&lt;/b&gt;&quot; in the&#160;document, but I&apos;m not sure how to flag it off.&lt;/p&gt;</comment>
                            <comment id="16746577" author="tresf" created="Fri, 18 Jan 2019 18:50:39 +0000"  >&lt;p&gt;&amp;gt; &quot;I can confirm the label prints fine when converting it to an image first as per your last comment and printing via OS. My issue is we indirectly use PDFBox though QZ-Tray for printing which means I&apos;ve got no control over how the printing of this PDF is handled internally.&#160; I&apos;ll raise a ticket with them and see if they can make use of any of the suggestions here.&quot;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The 3rd party app uses the PDFBOX API directly.&#160; Coercing a good black/white image through a 600dpi&#160;command line render won&apos;t make it into the 3rd party product (I&apos;m the developer).&#160; We&apos;re always willing to add flags (or a code shim) to fix and/or advanced API settings, but the issue here appears to be that the PDF is&#160;force PDFBOX&#160;to a rasterized print which needs to be fixed either in the PDF or in the render.&lt;/p&gt;</comment>
                            <comment id="16746578" author="tilman" created="Fri, 18 Jan 2019 18:54:03 +0000"  >&lt;p&gt;Good observation. But I just tried what I did in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4123&quot; title=&quot;PDF will only print rasterized&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4123&quot;&gt;&lt;del&gt;PDFBOX-4123&lt;/del&gt;&lt;/a&gt;, printed but it doesn&apos;t get better.&lt;/p&gt;</comment>
                            <comment id="16746597" author="tresf" created="Fri, 18 Jan 2019 19:13:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; as an aside/stop-gap we&apos;d be happy to honor the&#160;&lt;b&gt;nearest neighbor&lt;/b&gt;&#160;flags and send them to PDFBOX.&#160;&#160;The last we tried, we were &lt;a href=&quot;https://github.com/qzind/tray/issues/249#issuecomment-342975647&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;unsuccessful&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16746605" author="tresf" created="Fri, 18 Jan 2019 19:26:18 +0000"  >&lt;p&gt;... so this is strange... Using Adobe Acrobat and PDFCreator, I printed the original&#160;&lt;b&gt;label.pdf&lt;/b&gt;&#160;to a new PDF, then sent it back through PDFBOX.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;PDFBOX prints without rasterizing (this is not a surprise, the bad data is stripped out)&lt;/li&gt;
	&lt;li&gt;The barcode printed in vector.&#160; How is this even possible?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Before and after attached...&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12955458/12955458_before_after.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="16746612" author="tresf" created="Fri, 18 Jan 2019 19:36:21 +0000"  >&lt;p&gt;&amp;gt; &quot;The barcode printed in vector.&#160; How is this even possible?&quot;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Answering my own question... it appears passing it through PDFCreator and then back through PDFBOX again stripped the&#160;&lt;b&gt;interpolate&lt;/b&gt;&#160;flag from the second XObject/Image.&lt;/p&gt;</comment>
                            <comment id="16746623" author="tilman" created="Fri, 18 Jan 2019 19:58:19 +0000"  >&lt;p&gt;Yeah, this is all tricky&#8230; in the meantime I tried to remove the /Interpolate flag and print, and it changes nothing - because &quot;isScaledUp&quot; is decided only related to the CTM, not related to the actual zoom, for whatever reason.&lt;/p&gt;

&lt;p&gt;Another thing I tried was to detect whether the target is b/w but I failed that one too - the printer graphics device presents itself as supporting color.&lt;/p&gt;

&lt;p&gt;The best would be to tell PageDrawer that the target is b/w; but this must be passed through PageDrawerParameters, which must be set in the PDFRenderer, which must be set in &lt;del&gt;PDFPageable&lt;/del&gt; PDFPrintable. This sounds complex.&lt;/p&gt;</comment>
                            <comment id="16746993" author="tilman" created="Sat, 19 Jan 2019 09:37:31 +0000"  >&lt;p&gt;Targeting to 2.0.14 because this MUST be fixed. Initially I thought &quot;user error, don&apos;t care much&quot; but now I see this differently, especially after reading the linked issues.&lt;/p&gt;</comment>
                            <comment id="16747031" author="tilman" created="Sat, 19 Jan 2019 11:29:19 +0000"  >&lt;p&gt;My current thought is this:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;in PageDrawer, setRenderingHints() should get from a map that contains the rendering hints. This map is passed in PageDrawerParameters. If that map is null, use the current default.&lt;/li&gt;
	&lt;li&gt;in PDFRenderer, initialize the map as it is done today (with special setting for b/w), and also offer getter / setter.&lt;/li&gt;
	&lt;li&gt;in PDFPrintable, offset a new option (getter / setter) &quot;forceBitonal&quot; which will pass the appropriate map. Alternatively, offer getter/setter for map. (The &quot;simple&quot; option would be easier to understand, and one could also force the use of a bitonal image when the dpi option is set. The dpi option (force the use of an image) has often been used with label printers.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tresf&quot; class=&quot;user-hover&quot; rel=&quot;tresf&quot;&gt;tresf&lt;/a&gt; does this sound good for you and your clients?&lt;/p&gt;</comment>
                            <comment id="16748121" author="tresf" created="Mon, 21 Jan 2019 17:36:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; I really like the proposal that PDFBOX will be able to honor some rendering hints.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have to mention.... I also feel the underlying issue (the PDF is always rasterized) is the root of the problem.&#160; Is there a way for PDFBOX to NEVER rasterize?&#160; We have some clients on low-resource computers, and often the compatibility issues&#160;originate as performance issues since rasterization takes more memory and CPU.&lt;/p&gt;</comment>
                            <comment id="16748141" author="tilman" created="Mon, 21 Jan 2019 18:15:29 +0000"  >&lt;p&gt;I don&apos;t see that the file from this issue is rasterized by PDFBox. This is the printer driver that does this. I assume you wrote this from looking at the result PDFs when printing to PDF.&lt;/p&gt;</comment>
                            <comment id="16748147" author="tresf" created="Mon, 21 Jan 2019 18:36:32 +0000"  >&lt;p&gt;It&apos;s definitely rasterizing.&#160; Here&apos;s a comparison (PDFBOX 2.0.13, Java 8u192, Windows 10)&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12955689/12955689_comparison.png&quot; title=&quot;comparison.png attached to PDFBOX-4435&quot;&gt;comparison.png&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;PDFBOX printed through PDFCreator = rasterized&lt;/li&gt;
	&lt;li&gt;Preview in Acrobat =&#160;vector&lt;/li&gt;
	&lt;li&gt;Acrobat printed through PDFCreator =&#160;vector&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Command line:&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&lt;b&gt;&amp;gt; java -jar pdfbox-app-2.0.13.jar PrintPDF -printerName PDFCreator&#160;label.pdf&lt;/b&gt;&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I assume you wrote this from looking at the result PDFs when printing to PDF.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Correct.&lt;/p&gt;</comment>
                            <comment id="16748180" author="tilman" created="Mon, 21 Jan 2019 19:41:33 +0000"  >&lt;p&gt;That&apos;s java that does this. I got rid of it by removing the /Group thing and the &quot;/ca 0&quot; somewhere. Don&apos;t know if the /Group thing was relevant. A /ca 0 makes no sense - why not just leave off what you don&apos;t want to see? Oops, it&apos;s not your file, but that&apos;s the cause there. I can&apos;t just drop stuff under the table because I suspect it will result in rasterization, people couldl get wrong prints.&lt;/p&gt;</comment>
                            <comment id="16748196" author="tresf" created="Mon, 21 Jan 2019 20:12:13 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;em&gt;A /ca 0 makes no sense - why not just leave off what you don&apos;t want to see?&lt;/em&gt;&#160;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That fixed it.&#160; &#160;Agreed and I&apos;ve asked the OP to go back to the 3rd party and ask them to correct this document.&#160; This information is very helpful.&lt;/p&gt;


&lt;blockquote&gt;&lt;p&gt;&lt;em&gt;I can&apos;t just drop stuff under the table because I suspect it will result in rasterization, people couldl get wrong prints.&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Agreed, I just fear this problem will keep coming back.&#160; The quality is so drastically affected, a workaround would help.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;em&gt;That&apos;s java that does this.&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I don&apos;t know the details&#160;on this but I assume it&apos;s not a &quot;bug&quot;?&#160; Our users usually want to avoid rasterization at all costs for reasons mentioned previously and anything to help that out (upstream bug report with oracle or downstream workaround from PDFBOX) would certainly help.&#160; At this point, we&apos;d even be open to scraping the PDF content ourselves for &quot;bad&quot; objects, but I wouldn&apos;t even know where to start looking.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16748206" author="tilman" created="Mon, 21 Jan 2019 20:36:37 +0000"  >&lt;p&gt;This is a longtime problem&#8230; see the link I posted last time, and here&apos;s another one:&lt;br/&gt;
&lt;a href=&quot;https://kbdeveloper.qoppa.com/slow-when-printing-a-page-that-has-a-watermark/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://kbdeveloper.qoppa.com/slow-when-printing-a-page-that-has-a-watermark/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The ExtGState resources - ca and CA, also blend modes. And of course group entries.&lt;/p&gt;</comment>
                            <comment id="16748261" author="tresf" created="Mon, 21 Jan 2019 23:02:58 +0000"  >&lt;p&gt;That article claims that there are performance issues, not that it&apos;s unsupported.&#160; Are they the same issue (I assume so, 27 minutes to print is atrocious &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;

&lt;p&gt;Is there something that an Oracle subscriber can do to help?&#160; Today, coincidentally, I just received another, separate client report out of memory issues on another, unrelated PDF and when I test it, I can confirm that PDFBOX/Java prints it to raster and it uses over 1GB of ram to print.&#160; If it&apos;s not an upstream bug, perhaps we can add some compat code to disable transparency altogether?&lt;/p&gt;

&lt;p&gt;If it is upstream, I&apos;m &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2682?focusedCommentId=15982293&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels%3Acomment-tabpanel#comment-15982293&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;not afraid to reach out to Oracle for support&lt;/a&gt;&#160;(again &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;).&lt;/p&gt;</comment>
                            <comment id="16748375" author="tilman" created="Tue, 22 Jan 2019 04:24:22 +0000"  >&lt;p&gt;You could try&#8230; my feeling is that it is unfixable, because it&apos;s the only way to pass the transparency, which is why I haven&apos;t attempted to report it myself, although I recently got a more direct access to their bug tracker. Maybe it&apos;s different for a paid subscriber. &lt;/p&gt;

&lt;p&gt;The speed and the rasterization are the same problem IMHO, see also &lt;br/&gt;
&lt;a href=&quot;https://blog.idrsolutions.com/2012/05/avoid-transparency-when-printing-in-java/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://blog.idrsolutions.com/2012/05/avoid-transparency-when-printing-in-java/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;And I searched again today, and maybe it is a industry-wide problem:&lt;br/&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/6286665/what-causes-wpf-printer-output-to-be-rasterized&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/6286665/what-causes-wpf-printer-output-to-be-rasterized&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;If possible I&apos;d like to see the file you mention.&lt;/p&gt;</comment>
                            <comment id="16749007" author="jira-bot" created="Tue, 22 Jan 2019 18:51:57 +0000"  >&lt;p&gt;Commit 1851848 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1851848&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1851848&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: create possibility to pass renderingHints to PageDrawer (not yet changeable by user, more to come)&lt;/p&gt;</comment>
                            <comment id="16749008" author="jira-bot" created="Tue, 22 Jan 2019 18:52:03 +0000"  >&lt;p&gt;Commit 1851849 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1851849&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1851849&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: create possibility to pass renderingHints to PageDrawer (not yet changeable by user, more to come)&lt;/p&gt;</comment>
                            <comment id="16750219" author="jira-bot" created="Wed, 23 Jan 2019 16:57:49 +0000"  >&lt;p&gt;Commit 1851949 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1851949&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1851949&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: create possibility to pass renderingHints to PDFPrintable and PDFRenderer&lt;/p&gt;</comment>
                            <comment id="16750220" author="jira-bot" created="Wed, 23 Jan 2019 16:57:55 +0000"  >&lt;p&gt;Commit 1851950 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1851950&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1851950&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: create possibility to pass renderingHints to PDFPrintable and PDFRenderer&lt;/p&gt;</comment>
                            <comment id="16750271" author="tilman" created="Wed, 23 Jan 2019 17:46:46 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tresf&quot; class=&quot;user-hover&quot; rel=&quot;tresf&quot;&gt;tresf&lt;/a&gt; please test whether this solves the bad quality problems. What you should do is to pass these renderingHints to PDFPrintable:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; RenderingHints r = new RenderingHints(null);&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.put(RenderingHints.KEY_INTERPOLATION, RenderingHints.VALUE_INTERPOLATION_NEAREST_NEIGHBOR); // maybe, maybe not&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.put(RenderingHints.KEY_RENDERING, RenderingHints.VALUE_RENDER_QUALITY); // don&apos;t know&lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; r.put(RenderingHints.KEY_ANTIALIASING, RenderingHints.VALUE_ANTIALIAS_OFF); // important&lt;/p&gt;</comment>
                            <comment id="16751885" author="tresf" created="Fri, 25 Jan 2019 04:17:41 +0000"  >&lt;blockquote&gt;&lt;p&gt;please test whether this solves the bad quality problems.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It does.&#160; I&apos;ll send a build out to David for confirmation.&lt;/p&gt;</comment>
                            <comment id="16752546" author="david.hancock" created="Fri, 25 Jan 2019 18:27:27 +0000"  >&lt;p&gt;I can confirm the build Tres sent to me works perfectly in our environment.&lt;/p&gt;

&lt;p&gt;Thank you both for diagnosing and working to supply a fix for this issue.&lt;/p&gt;</comment>
                            <comment id="16752558" author="tresf" created="Fri, 25 Jan 2019 18:37:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; I&apos;d like to add that while working with &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=david.hancock&quot; class=&quot;user-hover&quot; rel=&quot;david.hancock&quot;&gt;david.hancock&lt;/a&gt; I learned that he&apos;s running this on Linux/CUPS, so the Windows-specific conversations regarding rasterization may not be relevant to the underlying issue.&#160; I&apos;m still interested in a way to force vector prints as they are faster and better quality.&lt;/p&gt;</comment>
                            <comment id="16752996" author="jira-bot" created="Sat, 26 Jan 2019 11:11:29 +0000"  >&lt;p&gt;Commit 1852215 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852215&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: disable default interpolation when bitonal&lt;/p&gt;</comment>
                            <comment id="16752997" author="jira-bot" created="Sat, 26 Jan 2019 11:11:34 +0000"  >&lt;p&gt;Commit 1852216 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852216&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852216&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: disable default interpolation when bitonal&lt;/p&gt;</comment>
                            <comment id="16753007" author="jira-bot" created="Sat, 26 Jan 2019 12:00:25 +0000"  >&lt;p&gt;Commit 1852218 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852218&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852218&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: add new option for PrintPDF command line utility&lt;/p&gt;</comment>
                            <comment id="16753008" author="jira-bot" created="Sat, 26 Jan 2019 12:00:31 +0000"  >&lt;p&gt;Commit 1852219 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852219&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852219&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: add new option for PrintPDF command line utility&lt;/p&gt;</comment>
                            <comment id="16753009" author="tilman" created="Sat, 26 Jan 2019 12:02:34 +0000"  >&lt;p&gt;I&apos;ve also added an option for the command line utility, because some people are using PDFBox from shell scripts or php.&lt;/p&gt;

&lt;p&gt;Thanks to both of you for the cooperation and patience!&lt;/p&gt;</comment>
                            <comment id="16753050" author="tilman" created="Sat, 26 Jan 2019 13:56:53 +0000"  >&lt;p&gt;I noticed that the changed PrintPDF now prints in the middle of the page. What I didn&apos;t know (but found out) is that when calling &lt;tt&gt;printJob.setPrintable()&lt;/tt&gt; that &lt;tt&gt;PDFPageable.getPageFormat()&lt;/tt&gt; is no longer called. Thus calling &lt;tt&gt;setPageable&lt;/tt&gt; is the only thing to do and adjust. The Pageable then creates a Printable so we need to pass everything useful.&lt;/p&gt;</comment>
                            <comment id="16753051" author="jira-bot" created="Sat, 26 Jan 2019 13:58:41 +0000"  >&lt;p&gt;Commit 1852228 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852228&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852228&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: offer subsampling and renderingHints and pass these to PDFPrintable&lt;/p&gt;</comment>
                            <comment id="16753052" author="jira-bot" created="Sat, 26 Jan 2019 13:58:46 +0000"  >&lt;p&gt;Commit 1852229 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852229&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852229&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: offer subsampling and renderingHints and pass these to PDFPrintable&lt;/p&gt;</comment>
                            <comment id="16753084" author="jira-bot" created="Sat, 26 Jan 2019 14:11:14 +0000"  >&lt;p&gt;Commit 1852232 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852232&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852232&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: revert back to use PDFPageable only (reason see comment), but pass renderingHints&lt;/p&gt;</comment>
                            <comment id="16753085" author="jira-bot" created="Sat, 26 Jan 2019 14:11:20 +0000"  >&lt;p&gt;Commit 1852233 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852233&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852233&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: revert back to use PDFPageable only (reason see comment), but pass renderingHints&lt;/p&gt;</comment>
                            <comment id="16758045" author="jira-bot" created="Fri, 1 Feb 2019 07:35:20 +0000"  >&lt;p&gt;Commit 1852673 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852673&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852673&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: remove unused import&lt;/p&gt;</comment>
                            <comment id="16758046" author="jira-bot" created="Fri, 1 Feb 2019 07:35:24 +0000"  >&lt;p&gt;Commit 1852674 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1852674&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1852674&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4435&quot; title=&quot;Poor quality printing of PDF label&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4435&quot;&gt;&lt;del&gt;PDFBOX-4435&lt;/del&gt;&lt;/a&gt;: remove unused import&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12750285">PDFBOX-2450</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13230642">PDFBOX-4530</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12955458" name="before_after.png" size="60330" author="tresf" created="Fri, 18 Jan 2019 19:26:05 +0000"/>
                            <attachment id="12955689" name="comparison.png" size="11235" author="tresf" created="Mon, 21 Jan 2019 18:33:19 +0000"/>
                            <attachment id="12955396" name="label-pdfbox-1-8.jpg" size="334079" author="david.hancock" created="Fri, 18 Jan 2019 11:40:51 +0000"/>
                            <attachment id="12955395" name="label-pdfbox-2-0.jpg" size="329599" author="david.hancock" created="Fri, 18 Jan 2019 11:40:51 +0000"/>
                            <attachment id="12955397" name="label.pdf" size="61292" author="david.hancock" created="Fri, 18 Jan 2019 11:40:21 +0000"/>
                            <attachment id="12955424" name="label.png" size="35096" author="tilman" created="Fri, 18 Jan 2019 15:11:54 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>6.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|yi02ao:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>