<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:59:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2733] Nullpointer exception in PDFXrefStreamParser.parse</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2733</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;with some pdf, an nullpointer is sent during the parsing &lt;/p&gt;

&lt;p&gt;&lt;ins&gt;&lt;blockquote&gt;
&lt;p&gt;Here is the trace :&lt;/p&gt;

&lt;p&gt;Caused by: java.lang.NullPointerException&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFXrefStreamParser.parse(PDFXrefStreamParser.java:91)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.COSParser.parseXrefStream(COSParser.java:1836)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.COSParser.parseXrefObjStream(COSParser.java:320)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.COSParser.parseXref(COSParser.java:280)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:314)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:373)&lt;br/&gt;
	at ch.ge.afc.ael.commun.piecejointe.UtiPdf.loadDocument(UtiPdf.java:439)&lt;/p&gt;&lt;/blockquote&gt;&lt;/ins&gt;&lt;/p&gt;</description>
                <environment>windows 7</environment>
        <key id="12786204">PDFBOX-2733</key>
            <summary>Nullpointer exception in PDFXrefStreamParser.parse</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="jgi74">jerome girardini</reporter>
                        <labels>
                    </labels>
                <created>Fri, 27 Mar 2015 13:56:34 +0000</created>
                <updated>Thu, 23 Jul 2015 06:35:44 +0000</updated>
                            <resolved>Sat, 28 Mar 2015 19:21:12 +0000</resolved>
                                    <version>1.8.9</version>
                    <version>1.8.10</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.10</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14383865" author="jgi74" created="Fri, 27 Mar 2015 14:01:24 +0000"  >&lt;p&gt;This pdf makes the parsing to stop on a nullpointer exception&lt;/p&gt;</comment>
                            <comment id="14383944" author="oneiros" created="Fri, 27 Mar 2015 14:42:34 +0000"  >&lt;p&gt;Opening it in PDFDebugger crashes with (with logging enabled)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Mar 27, 2015 3:36:15 PM org.apache.pdfbox.pdfparser.COSParser calculateXRefFixedOffset
SEVERE: Can&apos;t find the object axref table/stream at offset 0
Mar 27, 2015 3:36:15 PM org.apache.pdfbox.pdfparser.COSParser parseCOSStream
WARNING: The stream doesn&apos;t provide any stream length, using fallback readUntilEnd
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.NullPointerException
        at org.apache.pdfbox.pdfparser.PDFXrefStreamParser.parse(PDFXrefStreamParser.java:90)
        at org.apache.pdfbox.pdfparser.COSParser.parseXrefStream(COSParser.java:1836)
        at org.apache.pdfbox.pdfparser.COSParser.parseXrefObjStream(COSParser.java:320)
        at org.apache.pdfbox.pdfparser.COSParser.parseXref(COSParser.java:280)
        at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:314)
        at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:373)
        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:805)
        at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:751)
        at org.apache.pdfbox.tools.PDFDebugger.parseDocument(PDFDebugger.java:388)
        at org.apache.pdfbox.tools.PDFDebugger.readPDFFile(PDFDebugger.java:374)
        at org.apache.pdfbox.tools.PDFDebugger.main(PDFDebugger.java:362)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The file can be opened in okular and Adobe Reader 9.5.5; qpdf --check reports no errors.&lt;/p&gt;</comment>
                            <comment id="14385378" author="tilman" created="Sat, 28 Mar 2015 15:55:27 +0000"  >&lt;p&gt;The file is malformed. Here&apos;s an excerpt of the validation from PDF-Tools (this is for PDF/A-1b, I&apos;ve deleted the parts only relevant to PDF/A):&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Validating file &quot;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2733&quot; title=&quot;Nullpointer exception in PDFXrefStreamParser.parse&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2733&quot;&gt;&lt;del&gt;PDFBOX-2733&lt;/del&gt;&lt;/a&gt;.pdf&quot; for conformance level pdfa-1b&lt;br/&gt;
The &apos;xref&apos; keyword was not found or the xref table is malformed.&lt;br/&gt;
The file trailer dictionary is missing or invalid.&lt;br/&gt;
The comment, classifying the file as containing 8-bit binary data, is missing.&lt;br/&gt;
The file trailer dictionary must have an id key.&lt;br/&gt;
The file format (header, trailer, objects, xref, streams) is corrupted.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;One of the causes is this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;&amp;lt; /Prev 0 /Root 5 0 R /Size 6 &amp;gt;&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Definition of Prev:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The byte offset from the beginning of the file to the beginning of the previous cross-reference section.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;So it makes no sense that it is 0. Adobe Reader offers to save the file when closing. It does this when the file is broken.&lt;/p&gt;

&lt;p&gt;I&apos;ll test a small fix. But if you can, you should return the scanner to the seller &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14385425" author="jira-bot" created="Sat, 28 Mar 2015 17:20:58 +0000"  >&lt;p&gt;Commit 1669804 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1669804&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1669804&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2733&quot; title=&quot;Nullpointer exception in PDFXrefStreamParser.parse&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2733&quot;&gt;&lt;del&gt;PDFBOX-2733&lt;/del&gt;&lt;/a&gt;: ignore /Prev 0; improve one log message&lt;/p&gt;</comment>
                            <comment id="14385484" author="jira-bot" created="Sat, 28 Mar 2015 19:16:44 +0000"  >&lt;p&gt;Commit 1669828 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1669828&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1669828&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2733&quot; title=&quot;Nullpointer exception in PDFXrefStreamParser.parse&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2733&quot;&gt;&lt;del&gt;PDFBOX-2733&lt;/del&gt;&lt;/a&gt;: ignore /Prev 0&lt;/p&gt;</comment>
                            <comment id="14385486" author="jira-bot" created="Sat, 28 Mar 2015 19:17:13 +0000"  >&lt;p&gt;Commit 1669829 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1669829&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1669829&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2733&quot; title=&quot;Nullpointer exception in PDFXrefStreamParser.parse&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2733&quot;&gt;&lt;del&gt;PDFBOX-2733&lt;/del&gt;&lt;/a&gt;: ignore /Prev 0&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12707769" name="scan-canon-windows8.pdf" size="514192" author="jgi74" created="Fri, 27 Mar 2015 14:01:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 34 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i27gaf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>