<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:01:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2868] NPE in Acroform getValueAsString</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2868</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The most common exception in the first run of 2.0.0-trunk against govdocs1 is this:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.NullPointerException
	at org.apache.pdfbox.pdmodel.interactive.form.PDNonTerminalField.getValueAsString(PDNonTerminalField.java:181)
	at org.apache.tika.parser.pdf.PDF2XHTML.addFieldString(PDF2XHTML.java:615)
	at org.apache.tika.parser.pdf.PDF2XHTML.processAcroField(PDF2XHTML.java:580)
	at org.apache.tika.parser.pdf.PDF2XHTML.extractAcroForm(PDF2XHTML.java:567)
	at org.apache.tika.parser.pdf.PDF2XHTML.endDocument(PDF2XHTML.java:201)
	at org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:250)
	at org.apache.tika.parser.pdf.PDF2XHTML.process(PDF2XHTML.java:137)
	at org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:132)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12844157">PDFBOX-2868</key>
            <summary>NPE in Acroform getValueAsString</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="msahyoun">Maruan Sahyoun</assignee>
                                    <reporter username="tallison">Tim Allison</reporter>
                        <labels>
                    </labels>
                <created>Fri, 10 Jul 2015 12:08:16 +0000</created>
                <updated>Thu, 17 Mar 2016 19:07:39 +0000</updated>
                            <resolved>Mon, 13 Jul 2015 09:45:20 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14622208" author="tallison@mitre.org" created="Fri, 10 Jul 2015 12:08:42 +0000"  >&lt;p&gt;Shortest triggering document&lt;/p&gt;</comment>
                            <comment id="14622324" author="jira-bot" created="Fri, 10 Jul 2015 13:54:44 +0000"  >&lt;p&gt;Commit 1690263 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1690263&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1690263&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2868&quot; title=&quot;NPE in Acroform getValueAsString&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2868&quot;&gt;&lt;del&gt;PDFBOX-2868&lt;/del&gt;&lt;/a&gt;: avoid NPE in getValueAsString() if there is no value assigned&lt;/p&gt;</comment>
                            <comment id="14622340" author="msahyoun" created="Fri, 10 Jul 2015 14:05:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;tallison@apache.org&quot;&gt;tallison@apache.org&lt;/a&gt; thanks for the report. My last commit should fix the NPE. OTOH a PDNonTerminalField doesn&apos;t have a value of it&apos;s own but the value is used to be inherited by (PDTerminalField) childs to the PDNonTerminalField. Although it was necessary to fix the issue it might be better to only output values of PDTerminalField instances as otherwise the same value might show up multiple times.&lt;/p&gt;</comment>
                            <comment id="14622684" author="tallison@mitre.org" created="Fri, 10 Jul 2015 18:09:00 +0000"  >&lt;p&gt;Doh! Of course...need to fix that from our legacy 1.8.x code.  Thank you!&lt;/p&gt;

&lt;p&gt;So, to confirm, we&apos;ll get duplicates &quot;values&quot; if we print out nonterminalfields.  However, would it make sense to print out the field names for non-terminals:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;field.getPartialName();
field.getAlternateFieldName();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Or would that be useless information?  Thank you, again.&lt;/p&gt;</comment>
                            <comment id="14622826" author="msahyoun" created="Fri, 10 Jul 2015 19:56:56 +0000"  >&lt;p&gt;Depends on what you would like to achieve. If you&apos;d like to show the structure of the form this is useful information. E.g. a form might have two non terminal fields &apos;ShipTo&apos; and &apos;BillTo&apos; with childs Name, Street ... so you could show that similar to &lt;tt&gt;org.apache.pdfbox.examples.fdf.PrintFields&lt;/tt&gt; in the examples package.&lt;/p&gt;

&lt;p&gt;OTOH you could also use the &lt;tt&gt;field.getFullyQualifiedName()&lt;/tt&gt; which gives you the full name with the parents a field has so for the above sample this would print &lt;tt&gt;ShipTo.Name&lt;/tt&gt; and &lt;tt&gt;BillTo.Name&lt;/tt&gt;. Then I&apos;d omit the non terminal field&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12711349">TIKA-1285</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12744704" name="543014.pdf" size="33188" author="tallison" created="Fri, 10 Jul 2015 12:08:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2h3nb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>