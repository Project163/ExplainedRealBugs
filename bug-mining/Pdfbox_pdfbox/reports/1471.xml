<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:03:26 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3359] Drawing to Graphics2D / ScratchFileBuffer not closed</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3359</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;First, there is a little bug on PDFRenderer.renderPageToGraphics(int pageIndex, Graphics2D graphics, float scale) when using scale != 1 the call to clearRect() fills the original size with white background, but it should fill the scaled size.&lt;/p&gt;

&lt;p&gt;Second, I implemented a JPanel which is painted using that function and on every paint this message goes to the console:&lt;br/&gt;
&quot;DEBUG ScratchFileBuffer:516 - ScratchFileBuffer not closed!&quot;. Here is the code to test it, run it and &lt;b&gt;resize the JFrame&lt;/b&gt;:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-style: solid;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeHeader panelHeader&quot; style=&quot;border-bottom-width: 1px;border-bottom-style: solid;&quot;&gt;&lt;b&gt;PanelTest.java&lt;/b&gt;&lt;/div&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.awt.Dimension;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.awt.Graphics;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.awt.Graphics2D;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.File;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; java.io.IOException;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.swing.JFrame;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.swing.JPanel;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.swing.SwingUtilities;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; javax.swing.WindowConstants;

&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.pdmodel.PDDocument;
&lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; org.apache.pdfbox.rendering.PDFRenderer;

&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;PanelTest {
   
    &lt;span class=&quot;code-keyword&quot;&gt;private&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; JPanel getTestPanel() {
        PDDocument doc = &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            doc = PDDocument.load(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;anyfile.pdf&quot;&lt;/span&gt;));
        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
            e.printStackTrace();
        }
        &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; PDFRenderer renderer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDFRenderer(doc);
        JPanel panel = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JPanel() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; void paintComponent(Graphics g) {
                &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
                    renderer.renderPageToGraphics(0, (Graphics2D) g, 0.5f);
                } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (IOException e) {
                    e.printStackTrace();
                }
            }
        };
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; panel;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
        SwingUtilities.invokeLater(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Runnable&lt;/span&gt;() {
            @Override
            &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void run() {
                JFrame frame = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; JFrame();
                frame.setDefaultCloseOperation(WindowConstants.EXIT_ON_CLOSE);
                frame.add(getTestPanel());
                frame.pack();
                frame.setSize(600, 400);
                Dimension paneSize = frame.getSize();
                Dimension screenSize = frame.getToolkit().getScreenSize();
                frame.setLocation((screenSize.width - paneSize.width) / 2, (screenSize.height - paneSize.height) / 2);
                frame.setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Test&quot;&lt;/span&gt;);
                frame.setVisible(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
            }
        });
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Ivan &lt;/p&gt;</description>
                <environment></environment>
        <key id="12971808">PDFBOX-3359</key>
            <summary>Drawing to Graphics2D / ScratchFileBuffer not closed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="ivanrf">Ivan Ridao Freitas</reporter>
                        <labels>
                    </labels>
                <created>Sat, 21 May 2016 16:12:04 +0000</created>
                <updated>Fri, 18 Aug 2023 05:46:10 +0000</updated>
                            <resolved>Thu, 3 Dec 2020 16:21:26 +0000</resolved>
                                    <version>2.0.1</version>
                                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>8</watches>
                                                                                                                <comments>
                            <comment id="15295219" author="tilman" created="Sat, 21 May 2016 19:27:50 +0000"  >&lt;blockquote&gt;
&lt;p&gt;First, there is a little bug on PDFRenderer.renderPageToGraphics(int pageIndex, Graphics2D graphics, float scale) when using scale != 1 the call to clearRect() fills the original size with white background, but it should fill the scaled size.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Are you building from source? If yes, can you move the line with &lt;tt&gt;clearRect&lt;/tt&gt; below the next code line, and does this solve the problem?&lt;/p&gt;</comment>
                            <comment id="15295227" author="ivanrf" created="Sat, 21 May 2016 19:37:09 +0000"  >&lt;p&gt;Yes, I tested and switching those lines fixes that first bug.&lt;/p&gt;

&lt;p&gt;What about the debug messages?&lt;/p&gt;</comment>
                            <comment id="15295230" author="jira-bot" created="Sat, 21 May 2016 19:45:40 +0000"  >&lt;p&gt;Commit 1744972 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1744972&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1744972&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: fill the scaled size with white background, as suggested by Ivan Ridao Freitas&lt;/p&gt;</comment>
                            <comment id="15295233" author="jira-bot" created="Sat, 21 May 2016 19:47:25 +0000"  >&lt;p&gt;Commit 1744973 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1744973&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1744973&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: fill the scaled size with white background, as suggested by Ivan Ridao Freitas&lt;/p&gt;</comment>
                            <comment id="15295235" author="tilman" created="Sat, 21 May 2016 19:55:49 +0000"  >&lt;p&gt;Thanks, I was also able to reproduce the problem by adding&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;g.setColor(Color.red);
g.fillRect(0, 0, getWidth(), getHeight());
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;in your code before the &lt;tt&gt;renderPageToGraphics&lt;/tt&gt; call.&lt;/p&gt;

&lt;p&gt;Re your 2nd question, somebody else will have to work on this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="15302787" author="jira-bot" created="Thu, 26 May 2016 19:42:31 +0000"  >&lt;p&gt;Commit 1745635 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1745635&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1745635&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: move clearing after all transform operations, simplify code&lt;/p&gt;</comment>
                            <comment id="15302922" author="jira-bot" created="Thu, 26 May 2016 21:01:16 +0000"  >&lt;p&gt;Commit 1745644 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1745644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1745644&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: revert last two commits, a back bar appeared in TestPDFToImage&lt;/p&gt;</comment>
                            <comment id="15302929" author="jira-bot" created="Thu, 26 May 2016 21:04:52 +0000"  >&lt;p&gt;Commit 1745645 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1745645&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1745645&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: revert last two commits, a back bar appeared in TestPDFToImage&lt;/p&gt;</comment>
                            <comment id="15302933" author="tilman" created="Thu, 26 May 2016 21:05:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ivanrf&quot; class=&quot;user-hover&quot; rel=&quot;ivanrf&quot;&gt;ivanrf&lt;/a&gt; I&apos;ve reverted the last two commits, we&apos;re back at the start. I prefer to have it this way instead of switching one error for another. My second commit had the problem that a tiny black bar appeared in rendered images.&lt;/p&gt;</comment>
                            <comment id="15302981" author="ivanrf" created="Thu, 26 May 2016 21:39:22 +0000"  >&lt;p&gt;I end up using this code to simulate a PDF preview with the current version (2.0.1):&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void paintComponent(Graphics g) {
		Graphics2D graphics = (Graphics2D) g.create();
		bufferedImage = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; BufferedImage(scaledWidth, scaledHeight, BufferedImage.TYPE_INT_ARGB);
		Graphics2D g2 = bufferedImage.createGraphics();
		g2.addRenderingHints(hints);
		g2.setColor(Color.WHITE);
		g2.fillRect(0, 0, scaledWidth, scaledHeight);
		g2.scale(scaleX, scaleY);
		g2.clip(imageableArea);
		&lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
			g2.setBackground(Color.WHITE);
			&lt;span class=&quot;code-comment&quot;&gt;// Margins
&lt;/span&gt;			g2.translate(imageableArea.getX(), imageableArea.getY());
			renderer.renderPageToGraphics(pageNumber, graphics);
		} &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt;(Exception e) {
			e.printStackTrace();
		}
		g2.dispose();
		graphics.drawImage(bufferedImage, &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, 0, 0);
		graphics.dispose();
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I make the scaling before PDFBox rendering. I had to set g2.setBackground(Color.WHITE); since the background is black by default (I don&apos;t know if that is the expected behaviour for PDFBox). I also use a cache and only re generate bufferedImage if the scale was changed, but I removed that from the example code.&lt;/p&gt;</comment>
                            <comment id="15304209" author="jira-bot" created="Fri, 27 May 2016 15:41:27 +0000"  >&lt;p&gt;Commit 1745766 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1745766&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1745766&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: defactor and refactor code to separate clearing for both cases, i.e. render to graphics and render to image&lt;/p&gt;</comment>
                            <comment id="15304214" author="tilman" created="Fri, 27 May 2016 15:44:52 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ivanrf&quot; class=&quot;user-hover&quot; rel=&quot;ivanrf&quot;&gt;ivanrf&lt;/a&gt; please test again and give feedback. I combined both the old code (clear before transforming, works fine for images) and the new code (clear after transforming, works for graphics).&lt;/p&gt;

&lt;p&gt;To check that rotated images are also displayed correctly in graphics, use a file from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3083&quot; title=&quot;Form fields are missing when rendering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3083&quot;&gt;&lt;del&gt;PDFBOX-3083&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15326300" author="jira-bot" created="Sun, 12 Jun 2016 08:19:07 +0000"  >&lt;p&gt;Commit 1747966 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1747966&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1747966&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3381&quot; title=&quot;PDF rendering regression&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3381&quot;&gt;&lt;del&gt;PDFBOX-3381&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: copy from trunk&lt;/p&gt;</comment>
                            <comment id="15338422" author="jahewson" created="Sun, 19 Jun 2016 07:41:31 +0000"  >&lt;p&gt;This is a really bad commit message. Lets please reproduce the original message.&lt;/p&gt;</comment>
                            <comment id="15410930" author="tilman" created="Sun, 7 Aug 2016 12:07:12 +0000"  >&lt;p&gt;removed the 2.0.3 target as the &quot;ScratchFileBuffer not closed&quot; part doesn&apos;t seem to be going to be fixed soon.&lt;/p&gt;</comment>
                            <comment id="15818051" author="lehmi" created="Wed, 11 Jan 2017 11:21:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ivanrf&quot; class=&quot;user-hover&quot; rel=&quot;ivanrf&quot;&gt;ivanrf&lt;/a&gt;&lt;br/&gt;
IMHO it doesn&apos;t make sense to render the pdf with every call of paintComponent. You should render the pdf when creating the panel and cache that image to be used on every call of paintComponent. This sould solve the second issue and should be faster that rendering the pdf again and again.&lt;/p&gt;

&lt;p&gt;BTW: PDFBox manipulates the given graphics instance, so that it might be important to follow the instructions in the javadoc of paintComponent:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;If you override this in a subclass you should not make permanent changes to the passed in Graphics. For example, you should not alter the clip Rectangle or modify the transform. If you need to do these operations you may find it easier to create a new Graphics from the passed in Graphics and manipulate it. Further, if you do not invoker super&apos;s implementation you must honor the opaque property, that is if this component is opaque, you must completely fill in the background in a non-opaque color. If you do not honor the opaque property you will likely see visual artifacts. &lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16711976" author="jira-bot" created="Thu, 6 Dec 2018 20:11:08 +0000"  >&lt;p&gt;Commit 1848358 from tilman@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848358&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848358&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2999&quot; title=&quot;Optimize COSStream scratch file usage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2999&quot;&gt;&lt;del&gt;PDFBOX-2999&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: close existing buffer to avoid &quot;ScratchFileBuffer not closed&quot; log message&lt;/p&gt;</comment>
                            <comment id="16711978" author="jira-bot" created="Thu, 6 Dec 2018 20:11:13 +0000"  >&lt;p&gt;Commit 1848359 from tilman@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848359&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848359&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2999&quot; title=&quot;Optimize COSStream scratch file usage&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2999&quot;&gt;&lt;del&gt;PDFBOX-2999&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3359&quot; title=&quot;Drawing to Graphics2D / ScratchFileBuffer not closed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3359&quot;&gt;&lt;del&gt;PDFBOX-3359&lt;/del&gt;&lt;/a&gt;: close existing buffer to avoid &quot;ScratchFileBuffer not closed&quot; log message&lt;/p&gt;</comment>
                            <comment id="16712484" author="tilman" created="Fri, 7 Dec 2018 08:30:01 +0000"  >&lt;p&gt;The last commit should reduce the logs for encrypted files.&lt;/p&gt;</comment>
                            <comment id="16838522" author="juanmirocks" created="Mon, 13 May 2019 12:57:35 +0000"  >&lt;p&gt;Any update on this issue?&lt;/p&gt;

&lt;p&gt;I guess&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4493&quot; title=&quot;InputStream not closed after reading &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4493&quot;&gt;&lt;del&gt;PDFBOX-4493&lt;/del&gt;&lt;/a&gt;&#160;is related.&lt;/p&gt;

&lt;p&gt;However, I do not understand why&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4493&quot; title=&quot;InputStream not closed after reading &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4493&quot;&gt;&lt;del&gt;PDFBOX-4493&lt;/del&gt;&lt;/a&gt;&#160;&#160;was marked as fixed by just improving the documentation. AFAIK, the internal opening of the buffer(s) is not controlled by the client. Therefore, the error of &quot;ScratchFileBuffer not closed&quot; still persists.&lt;/p&gt;</comment>
                            <comment id="16838661" author="tilman" created="Mon, 13 May 2019 16:12:23 +0000"  >&lt;p&gt;No that&apos;s not the same issue. Don&apos;t get sleepless nights because of the &quot;ScratchFileBuffer not closed&quot; message in debug log level. It is harmless.&lt;/p&gt;</comment>
                            <comment id="17243313" author="lehmi" created="Thu, 3 Dec 2020 16:21:26 +0000"  >&lt;p&gt;This shouldn&apos;t be an issue anymore as the PDFBox doesn&apos;t use scratch files anymore when reading a pdf&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12980891">PDFBOX-3388</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13251604">PDFBOX-4634</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12901160">PDFBOX-2999</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12977906">PDFBOX-3381</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13202395">PDFBOX-4396</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2ybpz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>