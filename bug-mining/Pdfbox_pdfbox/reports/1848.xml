<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:06:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3940] Lost metadata in 2.0.8-SNAPSHOT</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3940</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;We noticed some missing metadata values in the recent large scale regression testing.  I finally had a chance to look.  It looks like a genuine regression.&lt;/p&gt;

&lt;p&gt;The diff btwn 2.0.7 and 2.0.8-SNAPSHOT in metadata values is often -2.  However, in some files, the problem is more pronounced.&lt;/p&gt;

&lt;p&gt;In the attached file, when we call &lt;tt&gt;PDDocument.getDocumentInformation()&lt;/tt&gt;, the returned &lt;tt&gt;PDDocumentInformation info&lt;/tt&gt; is empty in 2.0.8-SNAPSHOT but not in 2.0.7.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13104916">PDFBOX-3940</key>
            <summary>Lost metadata in 2.0.8-SNAPSHOT</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tallison">Tim Allison</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Mon, 25 Sep 2017 21:41:52 +0000</created>
                <updated>Thu, 2 Nov 2017 21:01:10 +0000</updated>
                            <resolved>Tue, 26 Sep 2017 15:39:49 +0000</resolved>
                                    <version>2.0.8</version>
                                    <fixVersion>2.0.8</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16180319" author="tilman" created="Tue, 26 Sep 2017 06:28:58 +0000"  >&lt;p&gt;The offset of the info object (1 0 obj) is 10641 in the table but is really at 10493.&lt;/p&gt;</comment>
                            <comment id="16180927" author="tilman" created="Tue, 26 Sep 2017 15:16:28 +0000"  >&lt;p&gt;This regression first occured because of r187622 in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3923&quot; title=&quot;Expected a long type at offset 52152, instead got &amp;#39;xref&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3923&quot;&gt;&lt;del&gt;PDFBOX-3923&lt;/del&gt;&lt;/a&gt;. One of the offsets is incorrect (points within table) so exception is thrown and the trailer is rebuilt. When rebuilding, this piece of code is hit:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-comment&quot;&gt;// info dictionary
&lt;/span&gt;&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (dictionary.containsKey(COSName.MOD_DATE)
        &amp;amp;&amp;amp; (dictionary.containsKey(COSName.TITLE)
                || dictionary.containsKey(COSName.AUTHOR)
                || dictionary.containsKey(COSName.SUBJECT)
                || dictionary.containsKey(COSName.KEYWORDS)
                || dictionary.containsKey(COSName.CREATOR)
                || dictionary.containsKey(COSName.PRODUCER)
                || dictionary.containsKey(COSName.CREATION_DATE)))
{
    trailer.setItem(COSName.INFO, document.getObjectFromPool(entry.getKey()));
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The &quot;&amp;amp;&amp;amp;&quot; was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3208&quot; title=&quot;The trailer rebuild mechnism doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3208&quot;&gt;&lt;del&gt;PDFBOX-3208&lt;/del&gt;&lt;/a&gt; (&quot;ModDate is mandatory for an info dictionary&quot;). In file 079977.pdf there is no /Info/ModDate. According to the PDF specification /ModDate is not mandatory.&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3208&quot; title=&quot;The trailer rebuild mechnism doesn&amp;#39;t work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3208&quot;&gt;&lt;del&gt;PDFBOX-3208&lt;/del&gt;&lt;/a&gt; the problem was that without the change there, an outline dictionary was used as /Info because it had a /Title. I suggest check for /Parent to decide it&apos;s not an /Info. If there are other dictionaries that have items that are found in /Info then we&apos;d have to add that as well.&lt;/p&gt;</comment>
                            <comment id="16180953" author="jira-bot" created="Tue, 26 Sep 2017 15:35:49 +0000"  >&lt;p&gt;Commit 1809755 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1809755&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1809755&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3940&quot; title=&quot;Lost metadata in 2.0.8-SNAPSHOT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3940&quot;&gt;&lt;del&gt;PDFBOX-3940&lt;/del&gt;&lt;/a&gt;: /Info dictionary can&apos;t have a /Parent item, and /ModDate is not mandatory&lt;/p&gt;</comment>
                            <comment id="16180954" author="jira-bot" created="Tue, 26 Sep 2017 15:35:55 +0000"  >&lt;p&gt;Commit 1809756 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1809756&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1809756&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3940&quot; title=&quot;Lost metadata in 2.0.8-SNAPSHOT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3940&quot;&gt;&lt;del&gt;PDFBOX-3940&lt;/del&gt;&lt;/a&gt;: /Info dictionary can&apos;t have a /Parent item, and /ModDate is not mandatory&lt;/p&gt;</comment>
                            <comment id="16182729" author="jira-bot" created="Wed, 27 Sep 2017 15:21:00 +0000"  >&lt;p&gt;Commit 1809860 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1809860&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1809860&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3940&quot; title=&quot;Lost metadata in 2.0.8-SNAPSHOT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3940&quot;&gt;&lt;del&gt;PDFBOX-3940&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="16182730" author="jira-bot" created="Wed, 27 Sep 2017 15:21:06 +0000"  >&lt;p&gt;Commit 1809861 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1809861&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1809861&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3940&quot; title=&quot;Lost metadata in 2.0.8-SNAPSHOT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3940&quot;&gt;&lt;del&gt;PDFBOX-3940&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="16199168" author="tilman" created="Tue, 10 Oct 2017 18:46:17 +0000"  >&lt;p&gt;J4S6TTBZEDXOJ77USE3HTUDSAXU2CRR4.pdf has no /Parent (although it is mandatory), but an /A. I&apos;ll add that and also /Dest. &lt;/p&gt;</comment>
                            <comment id="16199179" author="jira-bot" created="Tue, 10 Oct 2017 18:56:15 +0000"  >&lt;p&gt;Commit 1811759 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1811759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1811759&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3940&quot; title=&quot;Lost metadata in 2.0.8-SNAPSHOT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3940&quot;&gt;&lt;del&gt;PDFBOX-3940&lt;/del&gt;&lt;/a&gt;: /Info dictionary can&apos;t have a /A or /Dest item&lt;/p&gt;</comment>
                            <comment id="16199180" author="jira-bot" created="Tue, 10 Oct 2017 18:56:20 +0000"  >&lt;p&gt;Commit 1811760 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1811760&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1811760&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3940&quot; title=&quot;Lost metadata in 2.0.8-SNAPSHOT&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3940&quot;&gt;&lt;del&gt;PDFBOX-3940&lt;/del&gt;&lt;/a&gt;: /Info dictionary can&apos;t have a /A or /Dest item&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12933615">PDFBOX-3208</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12888957" name="079977.pdf" size="11651" author="tallison" created="Mon, 25 Sep 2017 21:38:40 +0000"/>
                            <attachment id="12888956" name="2_0_7_079977.pdf.json" size="12424" author="tallison" created="Mon, 25 Sep 2017 21:38:40 +0000"/>
                            <attachment id="12888958" name="2_0_8-SNAPSHOT_079977.pdf.json" size="11483" author="tallison" created="Mon, 25 Sep 2017 21:38:40 +0000"/>
                            <attachment id="12891323" name="J4S6TTBZEDXOJ77USE3HTUDSAXU2CRR4.pdf" size="1046283" author="tilman" created="Tue, 10 Oct 2017 18:43:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kitb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>