<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:12:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5345] IllegalArgumentException: Input buffer too short in StandardSecurityHandler.computeRC4key</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5345</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.lang.IllegalArgumentException: Input buffer too short
        at java.base/java.security.MessageDigest.update(MessageDigest.java:347)
        at org.apache.pdfbox.pdmodel.encryption.StandardSecurityHandler.computeRC4key(StandardSecurityHandler.java:894)
        at org.apache.pdfbox.pdmodel.encryption.StandardSecurityHandler.getUserPassword(StandardSecurityHandler.java:617)
        at org.apache.pdfbox.pdmodel.encryption.StandardSecurityHandler.isOwnerPassword(StandardSecurityHandler.java:595)
        at org.apache.pdfbox.pdmodel.encryption.StandardSecurityHandler.prepareForDecryption(StandardSecurityHandler.java:213)
        at org.apache.pdfbox.pdfparser.COSParser.prepareDecryption(COSParser.java:2532)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Probably because of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5312&quot; title=&quot;Decryption for V4 fails when no Length entry is set in Encryption Dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5312&quot;&gt;&lt;del&gt;PDFBOX-5312&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13417864">PDFBOX-5345</key>
            <summary>IllegalArgumentException: Input buffer too short in StandardSecurityHandler.computeRC4key</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Thu, 16 Dec 2021 04:30:41 +0000</created>
                <updated>Thu, 21 Apr 2022 15:38:40 +0000</updated>
                            <resolved>Thu, 16 Dec 2021 19:30:01 +0000</resolved>
                                    <version>2.0.24</version>
                                    <fixVersion>2.0.26</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Crypto</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17460444" author="lehmi" created="Thu, 16 Dec 2021 07:09:42 +0000"  >&lt;p&gt;Looks like &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5312&quot; title=&quot;Decryption for V4 fails when no Length entry is set in Encryption Dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5312&quot;&gt;&lt;del&gt;PDFBOX-5312&lt;/del&gt;&lt;/a&gt; adds a missing length value and replaces existing ones as well at least for AESV2 and AESV3. We shouldn&apos;t do the latter even if those values don&apos;t comply with the spec. And yes, that fixes this issue &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17460472" author="jira-bot" created="Thu, 16 Dec 2021 08:01:50 +0000"  >&lt;p&gt;Commit 1896025 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1896025&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1896025&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5345&quot; title=&quot;IllegalArgumentException: Input buffer too short in StandardSecurityHandler.computeRC4key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5345&quot;&gt;&lt;del&gt;PDFBOX-5345&lt;/del&gt;&lt;/a&gt;: don&apos;t ignore length value, as suggested by Andreas Lehmk&#252;hler&lt;/p&gt;</comment>
                            <comment id="17460473" author="jira-bot" created="Thu, 16 Dec 2021 08:01:59 +0000"  >&lt;p&gt;Commit 1896026 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1896026&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1896026&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5345&quot; title=&quot;IllegalArgumentException: Input buffer too short in StandardSecurityHandler.computeRC4key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5345&quot;&gt;&lt;del&gt;PDFBOX-5345&lt;/del&gt;&lt;/a&gt;: don&apos;t ignore length value, as suggested by Andreas Lehmk&#252;hler&lt;/p&gt;</comment>
                            <comment id="17460631" author="jira-bot" created="Thu, 16 Dec 2021 11:24:15 +0000"  >&lt;p&gt;Commit 1896045 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1896045&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1896045&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5345&quot; title=&quot;IllegalArgumentException: Input buffer too short in StandardSecurityHandler.computeRC4key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5345&quot;&gt;&lt;del&gt;PDFBOX-5345&lt;/del&gt;&lt;/a&gt;: partial revert; use more tailored approach instead&lt;/p&gt;</comment>
                            <comment id="17460632" author="jira-bot" created="Thu, 16 Dec 2021 11:24:39 +0000"  >&lt;p&gt;Commit 1896047 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1896047&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1896047&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5345&quot; title=&quot;IllegalArgumentException: Input buffer too short in StandardSecurityHandler.computeRC4key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5345&quot;&gt;&lt;del&gt;PDFBOX-5345&lt;/del&gt;&lt;/a&gt;: partial revert; use more tailored approach instead&lt;/p&gt;</comment>
                            <comment id="17460837" author="lehmi" created="Thu, 16 Dec 2021 16:18:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&#160; the &lt;tt&gt;encryption&lt;/tt&gt; dictionary is the relevant one not &lt;tt&gt;stdCryptFilterDictionary&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17460959" author="jira-bot" created="Thu, 16 Dec 2021 18:42:44 +0000"  >&lt;p&gt;Commit 1896069 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1896069&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1896069&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5345&quot; title=&quot;IllegalArgumentException: Input buffer too short in StandardSecurityHandler.computeRC4key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5345&quot;&gt;&lt;del&gt;PDFBOX-5345&lt;/del&gt;&lt;/a&gt;: use encryption dictionary length value, as suggested by Andreas Lehmk&#252;hler&lt;/p&gt;</comment>
                            <comment id="17460961" author="jira-bot" created="Thu, 16 Dec 2021 18:43:08 +0000"  >&lt;p&gt;Commit 1896070 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1896070&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1896070&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5345&quot; title=&quot;IllegalArgumentException: Input buffer too short in StandardSecurityHandler.computeRC4key&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5345&quot;&gt;&lt;del&gt;PDFBOX-5345&lt;/del&gt;&lt;/a&gt;: use encryption dictionary length value, as suggested by Andreas Lehmk&#252;hler&lt;/p&gt;</comment>
                            <comment id="17460962" author="tilman" created="Thu, 16 Dec 2021 18:43:20 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; thanks, that works!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13410079">PDFBOX-5312</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13037553" name="poppler-89422-0.pdf" size="1146" author="tilman" created="Thu, 16 Dec 2021 04:29:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://bugs.freedesktop.org/show_bug.cgi?id=89422]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 47 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0xrio:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>