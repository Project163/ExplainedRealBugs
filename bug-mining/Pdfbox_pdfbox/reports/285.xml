<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:05 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1496] Can&apos;t add multiple form XObjects to a PDF - they become duplicated</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1496</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I&apos;ve been trying to paste multiple small PDFs into a big one as form XObjects. This image illustrates what I&apos;m trying to do:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://imageshack.us/photo/my-images/59/pdfsampleimagepasterigh.png/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://imageshack.us/photo/my-images/59/pdfsampleimagepasterigh.png/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The Test 1-3 boxes would be the little PDFs I want to insert. When I try to do this, I get this result:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://imageshack.us/photo/my-images/15/pdfsampleimagepastewron.png/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://imageshack.us/photo/my-images/15/pdfsampleimagepastewron.png/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The last form to be pasted is just duplicated three times. It seems that instead of adding multiple XObjects, I am just adding multiple references to a single XObject, and whenever I try to add another XObject it just overwrites the XObject that the form instances were referring to. It seems I can&apos;t insert multiple forms, just multiple references to a single one.&lt;/p&gt;</description>
                <environment>Ubuntu Linux 12.04 w/ OpenJDK 6</environment>
        <key id="12628171">PDFBOX-1496</key>
            <summary>Can&apos;t add multiple form XObjects to a PDF - they become duplicated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="asengul">Andrew Sengul</reporter>
                        <labels>
                            <label>LayerUtility,</label>
                            <label>XObject,</label>
                    </labels>
                <created>Fri, 18 Jan 2013 08:02:04 +0000</created>
                <updated>Sat, 23 Mar 2013 12:56:03 +0000</updated>
                            <resolved>Sun, 3 Mar 2013 11:15:16 +0000</resolved>
                                    <version>1.7.1</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>PDModel</component>
                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13585853" author="ax" created="Mon, 25 Feb 2013 13:34:08 +0000"  >&lt;p&gt;It works if you use same PDResources object for all PDPageContentStreams which draw XObjects. See PDResources#addXObject, called by PDPageContentStream#drawXObject to see how XObject identifiers are generated.&lt;/p&gt;

&lt;p&gt;Everything would work out of the box if PDPage#getResources would return same PDResource object for different invocations. It doesn&apos;t, and tests depend on such behaviour. I don&apos;t understand the contract here.&lt;/p&gt;

&lt;p&gt;You need to write subclass of PDPageContentStream with PDResources as additional parameter ( PDDocument document, PDPage sourcePage, PDResources resources ) and put use this in modified OverlayMergerUtility.&lt;/p&gt;</comment>
                            <comment id="13585888" author="lehmi" created="Mon, 25 Feb 2013 14:38:07 +0000"  >&lt;p&gt;Sounds like &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1394&quot; title=&quot;Image streams are lost when adding new images to page&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1394&quot;&gt;&lt;del&gt;PDFBOX-1394&lt;/del&gt;&lt;/a&gt;. It is already fixed in the current trunk.&lt;/p&gt;</comment>
                            <comment id="13585906" author="ax" created="Mon, 25 Feb 2013 15:03:20 +0000"  >&lt;p&gt;This issue is on PDPage level, every #getResources returns new instance, so creating new XObjects seemingly overwrites earlier ones. So you have to pass resource and page around if you want to add more than one XObject &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;PS. I really don&apos;t understand the reason for != operator here &lt;/p&gt;

&lt;p&gt;    public PDResources getResources()&lt;br/&gt;
    {&lt;br/&gt;
        PDResources retval = null;&lt;br/&gt;
        COSDictionary resources = (COSDictionary)page.getDictionaryObject( COSName.RESOURCES );&lt;br/&gt;
        if( resources != null )&lt;/p&gt;
        {
            retval = new PDResources( resources );
        }
&lt;p&gt;        return retval;&lt;br/&gt;
    }&lt;/p&gt;</comment>
                            <comment id="13586570" author="asengul" created="Tue, 26 Feb 2013 01:16:11 +0000"  >&lt;p&gt;So will the posted example work with the current trunk? Or will I need to modify the LayerUtility code?&lt;/p&gt;</comment>
                            <comment id="13590764" author="lehmi" created="Fri, 1 Mar 2013 17:47:14 +0000"  >&lt;p&gt;I added a resources cache to PDPage in revision 1451662 so that they won&apos;t be recreated every time getResources is called. Thanks to Aleksander for the hint.&lt;/p&gt;

&lt;p&gt;Unfortunately I didn&apos;t had the time to check if this fixes Andrews issue.&lt;/p&gt;</comment>
                            <comment id="13591401" author="lehmi" created="Sat, 2 Mar 2013 12:41:38 +0000"  >&lt;p&gt;I fixed a minor issue in revision 1451881 introduced with my former changes. I also fixed a major one found in PDResources#clear. Furthermore all setters of cached values within PDResources are now able to handle null values correct.&lt;/p&gt;

&lt;p&gt;I can&apos;t check if my patch fixes Andrews issue as the third link doesn&apos;t work anymore&lt;/p&gt;</comment>
                            <comment id="13591465" author="asengul" created="Sat, 2 Mar 2013 18:11:13 +0000"  >&lt;p&gt;I did another test and it looks like my issue was already fixed with the 1.8.0 version. Thanks.&lt;/p&gt;</comment>
                            <comment id="13591709" author="lehmi" created="Sun, 3 Mar 2013 11:15:16 +0000"  >&lt;p&gt;Thanks for your feedback! &lt;/p&gt;

&lt;p&gt;Set to resolved&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>305065</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 37 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i187zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>256098</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>