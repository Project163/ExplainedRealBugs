<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:13:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5687] PDFBox 3.0 OSGi bundle requires sun.java2d.cmm.kcms package</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5687</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;We consume PDFBox in the Apache Sling project and recently attempted to upgrade to 3.0.0 . Sling uses OSGi and a new required import appeared in the 3.0.0 bundles: sun.java2d.cmm.kcms .  Our PR is at &lt;a href=&quot;https://github.com/apache/sling-org-apache-sling-starter/pull/212&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/sling-org-apache-sling-starter/pull/212&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;This prevents us from on applying the update. I looked at the desired usage for kcms and it seems like it is an optional feature.&lt;/p&gt;

&lt;p&gt;I suspect this addition was triggered by a version update of the maven-bundle-plugin, which added support for transforming &quot;Class.forName&quot; calls as OSGi package imports - &lt;a href=&quot;https://bnd.bndtools.org/instructions/noclassforname.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bnd.bndtools.org/instructions/noclassforname.html&lt;/a&gt; .&lt;/p&gt;

&lt;p&gt;I would suggest that this import is removed by disabling the specified bnd instruction.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13552204">PDFBOX-5687</key>
            <summary>PDFBox 3.0 OSGi bundle requires sun.java2d.cmm.kcms package</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="rombert">Robert Munteanu</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Sep 2023 14:35:18 +0000</created>
                <updated>Thu, 30 Nov 2023 21:19:24 +0000</updated>
                            <resolved>Mon, 9 Oct 2023 06:13:07 +0000</resolved>
                                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>3.0.1 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17770686" author="lehmi" created="Sat, 30 Sep 2023 11:01:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; according toPDFBOX-5678 the whole KCMS-stuff is obsolet, at least w.r.t 3.0.x. How about removing it completely?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; What about the other Class.forName calls? Are these problematic too?&lt;/p&gt;</comment>
                            <comment id="17770689" author="tilman" created="Sat, 30 Sep 2023 11:11:49 +0000"  >&lt;p&gt;Yes I agree.&lt;/p&gt;</comment>
                            <comment id="17770724" author="jira-bot" created="Sat, 30 Sep 2023 15:26:28 +0000"  >&lt;p&gt;Commit 1912628 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1912628&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1912628&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5687&quot; title=&quot;PDFBox 3.0 OSGi bundle requires sun.java2d.cmm.kcms package&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5687&quot;&gt;&lt;del&gt;PDFBOX-5687&lt;/del&gt;&lt;/a&gt;: remove obsolete KCMS option&lt;/p&gt;</comment>
                            <comment id="17770725" author="jira-bot" created="Sat, 30 Sep 2023 15:27:33 +0000"  >&lt;p&gt;Commit 1912629 from lehmi@apache.org in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1912629&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1912629&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5687&quot; title=&quot;PDFBox 3.0 OSGi bundle requires sun.java2d.cmm.kcms package&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5687&quot;&gt;&lt;del&gt;PDFBOX-5687&lt;/del&gt;&lt;/a&gt;: remove obsolete KCMS option&lt;/p&gt;</comment>
                            <comment id="17770782" author="rombert" created="Sat, 30 Sep 2023 21:17:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; - thanks for the quick turnaround. I see the following calls in the 3.0 branch&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;debugger/src/main/java/org/apache/pdfbox/debugger/ui/OSXAdapter.java:                Class&amp;lt;?&amp;gt; filesHandlerClass = Class.forName(&quot;java.awt.desktop.QuitHandler&quot;);
debugger/src/main/java/org/apache/pdfbox/debugger/ui/OSXAdapter.java:                Class&amp;lt;?&amp;gt; filesHandlerClass = Class.forName(&quot;java.awt.desktop.OpenFilesHandler&quot;);
debugger/src/main/java/org/apache/pdfbox/debugger/ui/OSXAdapter.java:            Class&amp;lt;?&amp;gt; applicationClass = Class.forName(&quot;com.apple.eawt.Application&quot;);
debugger/src/main/java/org/apache/pdfbox/debugger/ui/OSXAdapter.java:            Class&amp;lt;?&amp;gt; applicationListenerClass = Class.forName(&quot;com.apple.eawt.ApplicationListener&quot;);
io/src/main/java/org/apache/pdfbox/io/IOUtils.java:                final Class&amp;lt;?&amp;gt; unsafeClass = Class.forName(&quot;sun.misc.Unsafe&quot;);
io/src/main/java/org/apache/pdfbox/io/IOUtils.java:                final Class&amp;lt;?&amp;gt; directBufferClass = Class.forName(&quot;java.nio.DirectByteBuffer&quot;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;We don&apos;t use the debugger and it&apos;s not an OSGi bundle so we can skip that one. The &quot;io&quot; bundle imports sun.misc and java.nio and both of these are typically provided by the JVM, so I would not worry about them so much.&lt;/p&gt;

&lt;p&gt;Our application now starts with the 3.0-SNAPSHOT versions of the bundles, but some tests are failing. I don&apos;t think they are related to this issue, but I can only look more in depth in a couple of weeks.&lt;/p&gt;</comment>
                            <comment id="17772266" author="lehmi" created="Thu, 5 Oct 2023 15:49:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; You missed the following one in &lt;tt&gt;org.apache.pdfbox.pdmodel.encryption.SecurityProvider.getProvider()&lt;/tt&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
               &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;Provider&amp;gt; providerClass = (&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;&amp;lt;Provider&amp;gt;) &lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;
                        .forName(&lt;span class=&quot;code-quote&quot;&gt;&quot;org.bouncycastle.jce.provider.BouncyCastleProvider&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I&apos;ve removed it as well, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5693&quot; title=&quot;Consolidate bouncycastle configuration&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5693&quot;&gt;&lt;del&gt;PDFBOX-5693&lt;/del&gt;&lt;/a&gt; for further details&lt;/p&gt;</comment>
                            <comment id="17773114" author="lehmi" created="Mon, 9 Oct 2023 06:13:07 +0000"  >&lt;p&gt;Set to resolved&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rombert&quot; class=&quot;user-hover&quot; rel=&quot;rombert&quot;&gt;rombert&lt;/a&gt; please close the PR. Thanks for your report&lt;/p&gt;</comment>
                            <comment id="17773280" author="rombert" created="Mon, 9 Oct 2023 12:33:31 +0000"  >&lt;p&gt;PR closed, thanks for lookin into this &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt;!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10032">
                    <name>Blocker</name>
                                            <outwardlinks description="blocks">
                                        <issuelink>
            <issuekey id="13552206">SLING-12048</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 4 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kmcw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>