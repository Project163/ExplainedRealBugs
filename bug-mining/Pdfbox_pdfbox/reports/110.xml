<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:52:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-939] Lost whitespaces when extracting Arabic text</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-939</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I tried to extract text from an arabic PDF. Result looks good for the first look, but if you look closer, you may notice that some of whitespaces is missing comparing to copy/pasted text from the same PDF.&lt;/p&gt;

&lt;p&gt;Copy/pasted line from attached PDF:&lt;br/&gt;
&#1576;&#1593;&#1583; &#1605;&#1575; &#1575;&#1603;&#1578;&#1588;&#1601; &#1581;&#1602;&#1610;&#1602;&#1577; &#1575;&#1604;&#1605;&#1579;&#1604;&#1579; &#1575;&#1604;&#1594;&#1575;&#1605;&#1590;&lt;/p&gt;

&lt;p&gt;Extracted text:&lt;br/&gt;
&#1576;&#1593;&#1583; &#1605;&#1575; &#1575;&#1603;&#1578;&#1588;&#1601; &#1581;&#1602;&#1610;&#1602;&#1577;&#1575;&#1604;&#1605;&#1579;&#1604;&#1579;&#1575;&#1604;&#1594;&#1575;&#1605;&#1590;&lt;/p&gt;
</description>
                <environment></environment>
        <key id="12495258">PDFBOX-939</key>
            <summary>Lost whitespaces when extracting Arabic text</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="delson">Anton Stremoukhov</reporter>
                        <labels>
                    </labels>
                <created>Tue, 11 Jan 2011 15:11:04 +0000</created>
                <updated>Fri, 4 Mar 2011 10:29:17 +0000</updated>
                            <resolved>Tue, 25 Jan 2011 07:18:54 +0000</resolved>
                                    <version>1.4.0</version>
                                    <fixVersion>1.5.0</fixVersion>
                                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12986058" author="papaha" created="Mon, 24 Jan 2011 22:09:39 +0000"  >&lt;p&gt;Hi Anton, &lt;/p&gt;

&lt;p&gt;I&apos;ve checked your example and found that each arabic line lost only two final spaces. The reason is located in the method PDFTextStripper#writeLine(List&amp;lt;String&amp;gt; line, boolean isRtlDominant). &lt;/p&gt;

&lt;p&gt;The original source code is:&lt;br/&gt;
int numberOfStrings = line.size();&lt;br/&gt;
        if (isRtlDominant) {&lt;br/&gt;
            for(int i=numberOfStrings-1; i&amp;gt;=0; i--)&lt;/p&gt;
{
                if (i &amp;gt; 1)
                    writeWordSeparator();
                writeString(line.get(i));
            }
&lt;p&gt;        }&lt;br/&gt;
        else {&lt;br/&gt;
            for(int i=0; i&amp;lt;numberOfStrings; i++)&lt;/p&gt;
{
                writeString(line.get(i));
                if (!isRtlDominant &amp;amp;&amp;amp; i &amp;lt; numberOfStrings-1)
                    writeWordSeparator();
            }
&lt;p&gt;        }&lt;/p&gt;

&lt;p&gt;I f you change condition &quot;if (i &amp;gt; 1)&quot; to &quot;if (i &amp;lt; numberOfStrings-1)&quot; text extraction will be correct. I suppose this is a bug.&lt;/p&gt;</comment>
                            <comment id="12986255" author="lehmi" created="Tue, 25 Jan 2011 07:18:54 +0000"  >&lt;p&gt;I added the pathc as proposed in revision 1063158. Works like a charm.&lt;/p&gt;

&lt;p&gt;Thanks for the contribution!&lt;/p&gt;</comment>
                            <comment id="12986339" author="delson" created="Tue, 25 Jan 2011 11:16:41 +0000"  >&lt;p&gt;Thanks very much, Pavel! Your solution works well.&lt;br/&gt;
Seems like this bug took place for all RTL pdfs and I can&apos;t believe nobody else faced it.&lt;br/&gt;
I&apos;m talking about a low activity on this issue.&lt;/p&gt;

&lt;p&gt;Anyway, now its done, and I can use 1.5.0-SNAPSHOT.&lt;br/&gt;
Thanks!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12468014" name="extracted.txt" size="375" author="delson" created="Tue, 11 Jan 2011 15:13:19 +0000"/>
                            <attachment id="12468013" name="test.pdf" size="28299" author="delson" created="Tue, 11 Jan 2011 15:12:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163580</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 43 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zktr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>205676</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>