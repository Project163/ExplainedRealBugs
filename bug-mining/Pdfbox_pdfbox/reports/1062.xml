<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:00:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2774] Can&apos;t encode Euro with WinAnsiEncoding</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2774</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;From the users mailing list when trying to set a field value to the Euro sign the following exception occurs&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IllegalArgumentException: No glyph &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; U+20AC in font Arial
	at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.encode(PDTrueTypeFont.java:267)
	at org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:268)
	at org.apache.pdfbox.pdmodel.font.PDFont.getStringWidth(PDFont.java:297)
	at org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.calculateHorizontalOffset(AppearanceGeneratorHelper.java:564)
	at org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.insertGeneratedAppearance(AppearanceGeneratorHelper.java:305)
	at org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.createAppearanceContent(AppearanceGeneratorHelper.java:228)
	at org.apache.pdfbox.pdmodel.interactive.form.AppearanceGeneratorHelper.setAppearanceValue(AppearanceGeneratorHelper.java:203)
	at org.apache.pdfbox.pdmodel.interactive.form.AppearanceGenerator.generateFieldAppearances(AppearanceGenerator.java:61)
	at org.apache.pdfbox.pdmodel.interactive.form.PDField.updateFieldAppearances(PDField.java:121)
	at org.apache.pdfbox.pdmodel.interactive.form.PDTextField.setValue(PDTextField.java:289)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A small test loading the extracted font &lt;tt&gt;ArialMT&lt;/tt&gt; directly with&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    PDTrueTypeFont font2 = PDTrueTypeFont.loadTTF(document, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;ArialMT.ttf&quot;&lt;/span&gt;));
    font2.encode(&lt;span class=&quot;code-quote&quot;&gt;&quot;&#8364;&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt; gives the same error whereas using&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    PDType0Font font = PDType0Font.load(document, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;ArialMT.ttf&quot;&lt;/span&gt;));
    font.encode(&lt;span class=&quot;code-quote&quot;&gt;&quot;&#8364;&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the error doesn&apos;t happen.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12823795">PDFBOX-2774</key>
            <summary>Can&apos;t encode Euro with WinAnsiEncoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="msahyoun">Maruan Sahyoun</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Apr 2015 16:18:03 +0000</created>
                <updated>Thu, 17 Mar 2016 19:07:47 +0000</updated>
                            <resolved>Sat, 25 Apr 2015 01:45:18 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>AcroForm</component>
                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14511297" author="msahyoun" created="Fri, 24 Apr 2015 16:20:28 +0000"  >&lt;p&gt;The extracted font file&lt;/p&gt;</comment>
                            <comment id="14511311" author="msahyoun" created="Fri, 24 Apr 2015 16:31:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; would one of you be able to take a look into that - I&apos;m not familiar with the font handling code.&lt;/p&gt;</comment>
                            <comment id="14511397" author="msahyoun" created="Fri, 24 Apr 2015 17:36:38 +0000"  >&lt;p&gt;sample documents from the users mailing list&lt;/p&gt;</comment>
                            <comment id="14512138" author="jahewson" created="Sat, 25 Apr 2015 01:11:38 +0000"  >&lt;p&gt;Ok, I took a look at this and the first attempt led me down the wrong path. The issue is actually a bug in PDTrueTypeFont&apos;s encode method. There is a line which looks up a GID via PDF character code but a Unicode character is passed as the argument. Oops.&lt;/p&gt;</comment>
                            <comment id="14512168" author="jahewson" created="Sat, 25 Apr 2015 01:43:31 +0000"  >&lt;p&gt;There was another bug in the same method where the PDF character code being returned was actually a Unicode character, which is why the &quot;logical not&quot; symbol was appearing instead of Euro.&lt;/p&gt;</comment>
                            <comment id="14512169" author="jira-bot" created="Sat, 25 Apr 2015 01:45:04 +0000"  >&lt;p&gt;Commit 1675988 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1675988&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1675988&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2774&quot; title=&quot;Can&amp;#39;t encode Euro with WinAnsiEncoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2774&quot;&gt;&lt;del&gt;PDFBOX-2774&lt;/del&gt;&lt;/a&gt;: Fix incorrect encoding of PDTrueType fonts&lt;/p&gt;</comment>
                            <comment id="14512217" author="msahyoun" created="Sat, 25 Apr 2015 03:35:18 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; thank you for acting quickly - that fixed it.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12727945" name="ArialMT.ttf" size="709676" author="msahyoun" created="Fri, 24 Apr 2015 16:20:28 +0000"/>
                            <attachment id="12727964" name="PdfTest.java" size="625" author="msahyoun" created="Fri, 24 Apr 2015 17:36:38 +0000"/>
                            <attachment id="12727965" name="test.pdf" size="470131" author="msahyoun" created="Fri, 24 Apr 2015 17:36:38 +0000"/>
                            <attachment id="12727963" name="test2.pdf" size="461463" author="msahyoun" created="Fri, 24 Apr 2015 17:36:38 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 30 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2dq3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>