<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:58:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2441] Improve XRef self healing mechanism when more than one xref table</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2441</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;This is a follow-up issue to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2250&quot; title=&quot;Improve XRef self healing mechanism&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2250&quot;&gt;&lt;del&gt;PDFBOX-2250&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;the xref repair algorithm simply searches for the nearest offset, which may fail if more than one xref table is present&lt;br/&gt;
...&lt;br/&gt;
Once we have a sample pdf which can&apos;t be parsed with the simple algorithm, we can open a new issue.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;And here&apos;s one:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.io.IOException: Error: Expected a &lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; type at offset 1180, instead got &lt;span class=&quot;code-quote&quot;&gt;&apos;50/Filter/FlateDecode/DecodeParms&apos;&lt;/span&gt;
        at org.apache.pdfbox.pdfparser.BaseParser.readLong(BaseParser.java:1690)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;That file does have more than one xref table.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12749443">PDFBOX-2441</key>
            <summary>Improve XRef self healing mechanism when more than one xref table</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Tue, 21 Oct 2014 06:53:45 +0000</created>
                <updated>Sat, 13 Dec 2014 14:14:51 +0000</updated>
                            <resolved>Thu, 23 Oct 2014 09:56:42 +0000</resolved>
                                    <version>1.8.7</version>
                    <version>1.8.8</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.8</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14180185" author="jira-bot" created="Wed, 22 Oct 2014 17:10:58 +0000"  >&lt;p&gt;Commit 1633653 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1633653&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1633653&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2441&quot; title=&quot;Improve XRef self healing mechanism when more than one xref table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2441&quot;&gt;&lt;del&gt;PDFBOX-2441&lt;/del&gt;&lt;/a&gt;: added check/repair of xref stream offset, rearrange some code&lt;/p&gt;</comment>
                            <comment id="14180199" author="lehmi" created="Wed, 22 Oct 2014 17:21:06 +0000"  >&lt;p&gt;The simple algorithm wasn&apos;t the issue here, it still works quite perfect &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;br/&gt;
I simply forgot to add the check/repair mechanism to the offsets of object streams. With the last commit the self repair is in place an it works. BUT there is another issue with at least one of the streams. I got a DataFormatException while parsing the object stream 69 0 R. Any ideas?&lt;/p&gt;
</comment>
                            <comment id="14180208" author="jira-bot" created="Wed, 22 Oct 2014 17:25:21 +0000"  >&lt;p&gt;Commit 1633659 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1633659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1633659&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2441&quot; title=&quot;Improve XRef self healing mechanism when more than one xref table&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2441&quot;&gt;&lt;del&gt;PDFBOX-2441&lt;/del&gt;&lt;/a&gt;: added check/repair of xref stream offset, rearrange some code&lt;/p&gt;</comment>
                            <comment id="14180256" author="tilman" created="Wed, 22 Oct 2014 18:04:12 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;I got a DataFormatException &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; parsing the object stream 69 0 R. Any ideas?
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Sorry, I just see that the file I attached doesn&apos;t display properly in AR.&lt;/p&gt;

&lt;p&gt;Recently I rechecked many of the files that had such offset problems, and a few of them had new (different) problems, also in AR.&lt;/p&gt;

&lt;p&gt;Here&apos;s what probably happened: these files were uploaded in ASCII mode. This didn&apos;t make any trouble for some older PDF files that were encoded with ascii85, but did make trouble for files like this one, that have Flate decode.&lt;/p&gt;</comment>
                            <comment id="14181184" author="lehmi" created="Thu, 23 Oct 2014 09:56:42 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Sorry, I just see that the file I attached doesn&apos;t display properly in AR.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No need to worry, I&apos;ve got caught in the same trap. I&apos;ve opened it in AR and the first page looks fine. There isn&apos;t any error not until I scroll down. Saying that, thanks for the sample pdf.&lt;/p&gt;

&lt;p&gt;However the xref stream issue is solved. The remaining issue is something which can&apos;t be fixed by any more or less intelligent algorithm. We have to skip such broken parts in the future but that is another story, so that I&apos;m setting this issue to resolved.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12731332">PDFBOX-2250</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12714845">TIKA-1300</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12676041" name="260105.pdf" size="125314" author="tilman" created="Tue, 21 Oct 2014 06:55:15 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i21e3j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>