<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:02:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3114] Visible signatures in different pages changes previous revision</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3114</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I tried to make two visible signatures in a 2-pages pdf file using pdfbox-2.0.0-RC1.&lt;/p&gt;

&lt;p&gt;I followed the example in SVN directory&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc/pdfbox/trunk/examples/src/main/java/org/apache/pdfbox/examples/signature/&lt;/a&gt;&lt;br/&gt;
I have just modified CreateVisibleSignature class customizing the input parameters and the page to sign.&lt;/p&gt;

&lt;p&gt;If both the signatures are made in the same page, no error occurs. If signatures are made in different pages (e.g. signature 1 in page 1 and signature 2 in page 2), when I open the pdf file with Adobe Acrobat XI Pro (v.11.0.13) it tells that signature 1 is not valid.&lt;/p&gt;

&lt;p&gt;The attachment below refers to the source/resourse zip file. It contains:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;test.docx: 2-pages test document generated with Microsoft Office Professional Plus 2013&lt;/li&gt;
	&lt;li&gt;test1.pdf: pdf version that generates error (created with Word by selecting &quot;Save as Adobe PDF&quot; option)&lt;/li&gt;
	&lt;li&gt;test1_*.pdf: signed pdf files with error&lt;/li&gt;
	&lt;li&gt;test2.pdf: pdf version that generates no error (created with Word by selecting &quot;Save as&quot; option and then &quot;*.PDF&quot;)&lt;/li&gt;
	&lt;li&gt;test2_*.pdf: signed pdf files with no error&lt;/li&gt;
	&lt;li&gt;CreateVisibleSignature.java: customized source code&lt;/li&gt;
	&lt;li&gt;stamp.png: signature image&lt;/li&gt;
	&lt;li&gt;test.p12: key store (password 12345)&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>Compiled with jdk1.8.0_60, tested with Adobe Acrobat XI Pro v.11.0.13</environment>
        <key id="12913710">PDFBOX-3114</key>
            <summary>Visible signatures in different pages changes previous revision</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="luca.bati@gmail.com">Luca Battistelli</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Nov 2015 14:20:47 +0000</created>
                <updated>Thu, 14 Nov 2019 05:10:37 +0000</updated>
                            <resolved>Tue, 5 Jan 2016 07:49:29 +0000</resolved>
                                    <version>1.8.10</version>
                    <version>1.8.11</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.11</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Signing</component>
                        <due></due>
                            <votes>11</votes>
                                    <watches>14</watches>
                                                                                                                <comments>
                            <comment id="15037601" author="cbremaud" created="Thu, 3 Dec 2015 10:08:12 +0000"  >&lt;p&gt;I have the same issue with PDFBox-1.8.10&lt;/p&gt;</comment>
                            <comment id="15045320" author="tilman" created="Mon, 7 Dec 2015 17:42:25 +0000"  >&lt;p&gt;All I could find out till now, that it happens  (that the (in time) first signature is invalid) when:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the file is linearized (as in test1, not with test2)&lt;/li&gt;
	&lt;li&gt;the file has an XRef stream as in test1 (and not when an xref table as in test2)&lt;/li&gt;
	&lt;li&gt;the second signature is on page 2 (but not on page 3! - tested with the PDF spec which is linearized and with XRef stream)&lt;/li&gt;
	&lt;li&gt;the first signature is on page 2 and the second on page 1 (but only with your file, not with the PDF spec)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15048241" author="marcom1981@gmail.com" created="Wed, 9 Dec 2015 07:57:32 +0000"  >&lt;p&gt;For Tilman :&lt;br/&gt;
The same files used in the test case , if it is signed the second time with Acrobat or IText not invalidate the signature . &lt;br/&gt;
This only happens with PDFBox .&lt;/p&gt;

&lt;p&gt;This suggests that PDFBox have a bug .&lt;/p&gt;

&lt;p&gt;Good Job&lt;/p&gt;</comment>
                            <comment id="15048266" author="tilman" created="Wed, 9 Dec 2015 08:16:35 +0000"  >&lt;p&gt;Could you please sign the test1_sp1_OK file with Acrobat and iText on page 2 and attach the 2 result files?&lt;/p&gt;</comment>
                            <comment id="15048849" author="luca.bati@gmail.com" created="Wed, 9 Dec 2015 15:47:47 +0000"  >&lt;p&gt;I add &lt;b&gt;test_Acrobat_iText.zip&lt;/b&gt; to the attachments. &lt;br/&gt;
It contains:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;b&gt;test1_sp1_OK_sp2_iText.pdf&lt;/b&gt;: requested by you&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;test1_sp1_OK_sp2_Acrobat.pdf&lt;/b&gt;: requested by you&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;test1_sp1_Acrobat_OK.pdf&lt;/b&gt; and &lt;b&gt;test1_sp1_sp2_Acrobat_OK.pdf&lt;/b&gt;: both signatures with Acrobat&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;test1_sp1_iText_OK.pdf&lt;/b&gt; and &lt;b&gt;test1_sp1_sp2_iText_OK.pdf&lt;/b&gt;: both signatures with iText&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Regards&lt;/p&gt;</comment>
                            <comment id="15049023" author="tilman" created="Wed, 9 Dec 2015 17:33:20 +0000"  >&lt;p&gt;It also happens with the non-visual signature (CreateSignature.java). To force page 2, change the code below the comment as shown here:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;        &lt;span class=&quot;code-comment&quot;&gt;// register signature dictionary and sign &lt;span class=&quot;code-keyword&quot;&gt;interface&lt;/span&gt;
&lt;/span&gt;        SignatureOptions signatureOptions = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SignatureOptions();
        signatureOptions.setPage(1); &lt;span class=&quot;code-comment&quot;&gt;// 0-based
&lt;/span&gt;        document.addSignature(signature, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;, signatureOptions);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="15049025" author="tilman" created="Wed, 9 Dec 2015 17:34:03 +0000"  >&lt;p&gt;Thanks for the additional files. I&apos;ll be searching....&lt;/p&gt;</comment>
                            <comment id="15050302" author="luca.bati@gmail.com" created="Thu, 10 Dec 2015 08:19:21 +0000"  >&lt;p&gt;Ok. We hope it will be fixed as soon as possible...&lt;/p&gt;</comment>
                            <comment id="15051617" author="tilman" created="Thu, 10 Dec 2015 20:40:50 +0000"  >&lt;p&gt;Could you do me another favor? Please sign an invisible signature on the attached file (test1_signedinvisible_p2.pdf) on page 1 with Acrobat.&lt;/p&gt;

&lt;p&gt;With PDFBox, invisible signatures are also attached to a page. I don&apos;t know how acrobat does it. The new file should have less changes, so hopefully it should be easier to find some clue what&apos;s wrong.&lt;/p&gt;

&lt;p&gt;I did find out something today, the error does not happen if the (invisible) annotation on the page of the second signature is omitted. From my understanding of the spec, the (invisible) annotation is not needed for invisible signatures at all. But of course it is needed for visible signatures.&lt;/p&gt;

&lt;p&gt;To me, this (and the viewer error msg &quot;one page was modified&quot;) suggests that Adobe Reader believes that one page of the (signed) file was modified, but I haven&apos;t found out why.&lt;/p&gt;</comment>
                            <comment id="15051670" author="tilman" created="Thu, 10 Dec 2015 21:22:59 +0000"  >&lt;p&gt;test1_invisiblysignednoannotations_p1p2.pdf is a file that has been signed twice, once connected to page 1 and once to page 2, but without any annotations and also no appearance stream. This time Adobe Reader shows no error.&lt;/p&gt;</comment>
                            <comment id="15054281" author="tilman" created="Sat, 12 Dec 2015 12:49:37 +0000"  >&lt;p&gt;I found this on stackoverflow:&lt;br/&gt;
&lt;a href=&quot;http://stackoverflow.com/a/19905271/535646&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/a/19905271/535646&lt;/a&gt;&lt;br/&gt;
this resulted in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1780&quot; title=&quot;previous revision is damaged after signing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1780&quot;&gt;&lt;del&gt;PDFBOX-1780&lt;/del&gt;&lt;/a&gt;. So I compared the versions with PDFDebugger and there is a indirect to direct modification in &lt;tt&gt;Root/Pages/Kids/[1]/Resources/ColorSpace/CS0&lt;/tt&gt;, see attached screenshot.&lt;/p&gt;</comment>
                            <comment id="15055043" author="tilman" created="Sun, 13 Dec 2015 16:35:04 +0000"  >&lt;p&gt;test1_invisiblysigned_COSWriterModified_p1p2_ERR.pdf is the test1 file signed twice with 3 modifications in COSWriter.visitFromDictionary(). However  the problem is still there, although Adobe Reader no longer insists that a specific page is wrong.&lt;/p&gt;</comment>
                            <comment id="15055597" author="luca.bati@gmail.com" created="Mon, 14 Dec 2015 07:58:02 +0000"  >&lt;p&gt;No errors also with Adobe Acrobat XI Pro (v.11.0.13)&lt;/p&gt;</comment>
                            <comment id="15055614" author="luca.bati@gmail.com" created="Mon, 14 Dec 2015 08:22:14 +0000"  >&lt;p&gt;Adobe Acrobat XI Pro (v.11.0.13) notices that signature in revision #1 is not valid (&quot;the document has been changed or changed&quot;); no errors for the signature in revision #2&lt;/p&gt;</comment>
                            <comment id="15056081" author="msahyoun" created="Mon, 14 Dec 2015 15:11:39 +0000"  >&lt;p&gt;that clearly shows that there is still something wrong as the first signature shall still be valid although applying for a different revision of the document.&lt;/p&gt;</comment>
                            <comment id="15056101" author="tilman" created="Mon, 14 Dec 2015 15:26:40 +0000"  >&lt;p&gt;I&apos;ll hopefully fix the remaining problem tonight &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;
</comment>
                            <comment id="15056287" author="jira-bot" created="Mon, 14 Dec 2015 17:02:41 +0000"  >&lt;p&gt;Commit 1719956 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1719956&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1719956&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3114&quot; title=&quot;Visible signatures in different pages changes previous revision&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3114&quot;&gt;&lt;del&gt;PDFBOX-3114&lt;/del&gt;&lt;/a&gt;: keep indirect structures when doing incremental update&lt;/p&gt;</comment>
                            <comment id="15056293" author="jira-bot" created="Mon, 14 Dec 2015 17:07:00 +0000"  >&lt;p&gt;Commit 1719958 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1719958&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1719958&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3114&quot; title=&quot;Visible signatures in different pages changes previous revision&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3114&quot;&gt;&lt;del&gt;PDFBOX-3114&lt;/del&gt;&lt;/a&gt;: implement COSUpdateInfo interface to avoid wrong decision in COSWriter.addObjectToWrite()&lt;/p&gt;</comment>
                            <comment id="15056300" author="tilman" created="Mon, 14 Dec 2015 17:12:36 +0000"  >&lt;p&gt;test1_p1p2_visualsigned_COSWriterCOSArrayModified_OK.pdf shows a PDF with 2 visible signature that is OK. &lt;/p&gt;

&lt;p&gt;The first problem is the one that was mentioned by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt; last year in &lt;a href=&quot;https://stackoverflow.com/questions/19903884/pdf-document-is-modified-by-another-revision&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/19903884/pdf-document-is-modified-by-another-revision&lt;/a&gt; . This can be fixed by eliminating some optimizations (rather, not do them when incremental update) that transform indirect objects into direct objects.&lt;/p&gt;

&lt;p&gt;After that was done, Adobe Reader wasn&apos;t satisfied, and I noticed that object 58 (colorspace CS0) was updated. I then tried a dirty hack just to exclude object 58 to see what would happen - and Adobe Reader was satisfied. So that was really the problem. Surprisingly, the object 60 (font TT0) from the same resource dictionary was not updated. The only difference between the two is that CS0 is an array and TT0 is a dictionary. Solution: make COSArray updatable. Now Adobe Reader was satisfied.&lt;/p&gt;

&lt;p&gt;I suspect that in the long term, we must make every COSObject updateable again, revert most of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2685&quot; title=&quot;COS &amp;#39;primitive&amp;#39; types are mutable&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2685&quot;&gt;&lt;del&gt;PDFBOX-2685&lt;/del&gt;&lt;/a&gt;, and change COSWriter so that unusual structures are preserved (example: even an indirect NULL should be preserved!). But I won&apos;t do anything without a test case.&lt;/p&gt;

&lt;p&gt;I&apos;ll also commit the changes about the invisible signatures, the annotations and the appearance streams are not needed.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=v.koroghlishvili&quot; class=&quot;user-hover&quot; rel=&quot;v.koroghlishvili&quot;&gt;v.koroghlishvili&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tchojecki&quot; class=&quot;user-hover&quot; rel=&quot;tchojecki&quot;&gt;tchojecki&lt;/a&gt; please test whether your signing applications work properly with the 2.0 trunk.&lt;/p&gt;</comment>
                            <comment id="15056304" author="frank.cornelis" created="Mon, 14 Dec 2015 17:14:44 +0000"  >&lt;p&gt;Will this also be backported to 1.8?&lt;/p&gt;</comment>
                            <comment id="15056308" author="jira-bot" created="Mon, 14 Dec 2015 17:15:35 +0000"  >&lt;p&gt;Commit 1719960 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1719960&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1719960&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3114&quot; title=&quot;Visible signatures in different pages changes previous revision&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3114&quot;&gt;&lt;del&gt;PDFBOX-3114&lt;/del&gt;&lt;/a&gt;: non visible signatures don&apos;t need annotation or appearance&lt;/p&gt;</comment>
                            <comment id="15056309" author="tilman" created="Mon, 14 Dec 2015 17:18:03 +0000"  >&lt;p&gt;Don&apos;t know, but I will try.&lt;/p&gt;</comment>
                            <comment id="15056328" author="frank.cornelis" created="Mon, 14 Dec 2015 17:30:13 +0000"  >&lt;p&gt;That would be great. We already have an N2 layer patch for visible signatures (so you can put text on top of the N0 background image) against 1.8 (though this needs some cleanup). The idea is to port it to 2.0 and open source the patch towards PDFBox (if we find ourselves some time, the usual problem).&lt;/p&gt;</comment>
                            <comment id="15056367" author="jira-bot" created="Mon, 14 Dec 2015 17:50:28 +0000"  >&lt;p&gt;Commit 1719974 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1719974&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1719974&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3114&quot; title=&quot;Visible signatures in different pages changes previous revision&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3114&quot;&gt;&lt;del&gt;PDFBOX-3114&lt;/del&gt;&lt;/a&gt;: keep indirect structures when doing incremental update&lt;/p&gt;</comment>
                            <comment id="15056382" author="tilman" created="Mon, 14 Dec 2015 18:00:11 +0000"  >&lt;p&gt;The change for 1.8 was easier, because the COSArray change wasn&apos;t needed. I also didn&apos;t do the change for invisible signatures as this is just optimization. The example was adjusted in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2812&quot; title=&quot;NPE in PDColorSpaceFactory.createColorSpace with PDICCBased&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2812&quot;&gt;&lt;del&gt;PDFBOX-2812&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15056391" author="tilman" created="Mon, 14 Dec 2015 18:03:22 +0000"  >&lt;p&gt;Weird stuff I noticed: the options page number was changed from 1-based (still in 1.8) to 0-based in rev 1634252 in PDDocument in 2.0. We should either mention this in the documentation, or change it so that it is 1-based again.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;-        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (options.getPage() &amp;gt; size)
-        {
-            page = kids.get(size - 1);
-        }
-        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (options.getPage() &amp;lt;= 0)
-        {
-            page = kids.get(0);
-        }
-        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
-        {
-            page = kids.get(options.getPage() - 1);
-        }
 
+        &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; startIndex = &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.max(&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.min(options.getPage(), 0), pageCount - 1);
+        PDPage page = catalog.getPages().get(startIndex);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15056716" author="luca.bati@gmail.com" created="Mon, 14 Dec 2015 21:02:48 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; for the fix. I&apos;ll test the double-signature tomorrow and I&apos;ll feedback to you.&lt;/p&gt;</comment>
                            <comment id="15058160" author="luca.bati@gmail.com" created="Tue, 15 Dec 2015 14:54:05 +0000"  >&lt;p&gt;Now, &lt;b&gt;pdfbox-2.0.0-SNAPSHOT&lt;/b&gt; generate no errors with double-signature on &lt;b&gt;test1.pdf&lt;/b&gt;!! In the next days we will make other tests...&lt;/p&gt;</comment>
                            <comment id="15062289" author="tilman" created="Thu, 17 Dec 2015 16:37:08 +0000"  >&lt;p&gt;I tested the file in &lt;br/&gt;
&lt;a href=&quot;https://drive.google.com/file/d/0B-qB8oXqKgqScUstRmdxeXFGMzg/view?usp=sharing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://drive.google.com/file/d/0B-qB8oXqKgqScUstRmdxeXFGMzg/view?usp=sharing&lt;/a&gt; (mentioned by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=marcom1981%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;marcom1981@gmail.com&quot;&gt;marcom1981@gmail.com&lt;/a&gt; in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2816&quot; title=&quot;PDFBox makes disallowed changes when signing a signed document&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2816&quot;&gt;&lt;del&gt;PDFBOX-2816&lt;/del&gt;&lt;/a&gt;, but belongs here) and it has a new problem with the current code: signing works fine now, but the signature doesn&apos;t appear on page 3. The cause is that the annotations array isn&apos;t updated. Updating it doesn&apos;t help; the problem is solved by making the annotations array a direct entry in the page.&lt;/p&gt;</comment>
                            <comment id="15062291" author="jira-bot" created="Thu, 17 Dec 2015 16:38:44 +0000"  >&lt;p&gt;Commit 1720611 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1720611&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1720611&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3114&quot; title=&quot;Visible signatures in different pages changes previous revision&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3114&quot;&gt;&lt;del&gt;PDFBOX-3114&lt;/del&gt;&lt;/a&gt;: make /Annots a direct object, other strategies make Adobe Reader claim that the file was modified&lt;/p&gt;</comment>
                            <comment id="15062299" author="jira-bot" created="Thu, 17 Dec 2015 16:41:15 +0000"  >&lt;p&gt;Commit 1720612 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1720612&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1720612&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3114&quot; title=&quot;Visible signatures in different pages changes previous revision&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3114&quot;&gt;&lt;del&gt;PDFBOX-3114&lt;/del&gt;&lt;/a&gt;: make /Annots a direct object, other strategies make Adobe Reader claim that the file was modified&lt;/p&gt;</comment>
                            <comment id="15062317" author="luca.bati@gmail.com" created="Thu, 17 Dec 2015 16:51:15 +0000"  >&lt;p&gt;Ok, we keep on testing&lt;/p&gt;</comment>
                            <comment id="15062467" author="frank.cornelis" created="Thu, 17 Dec 2015 18:13:36 +0000"  >&lt;p&gt;I can confirm that the patch against the 1.8 branch indeed fixes this issue.&lt;/p&gt;</comment>
                            <comment id="15081445" author="tilman" created="Mon, 4 Jan 2016 17:45:04 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=luca.bati%40gmail.com&quot; class=&quot;user-hover&quot; rel=&quot;luca.bati@gmail.com&quot;&gt;luca.bati@gmail.com&lt;/a&gt; does it work? I&apos;d like to set this issue to resolved.&lt;/p&gt;</comment>
                            <comment id="15082595" author="luca.bati@gmail.com" created="Tue, 5 Jan 2016 07:47:58 +0000"  >&lt;p&gt;The fix has passed my tests for both version 1.8.11 and 2.0.0. Thanks.&lt;/p&gt;</comment>
                            <comment id="15082615" author="luca.bati@gmail.com" created="Tue, 5 Jan 2016 08:08:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; When will the releases be published?&lt;/p&gt;</comment>
                            <comment id="15082640" author="tilman" created="Tue, 5 Jan 2016 08:33:06 +0000"  >&lt;p&gt;Don&apos;t know, but see the recent discussion in the dev mailing list.&lt;/p&gt;</comment>
                            <comment id="15471279" author="tilman" created="Wed, 7 Sep 2016 17:39:01 +0000"  >&lt;p&gt;Unrelated but I&apos;m trying to reach signature users:&lt;br/&gt;
Please have a look at &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3065&quot; title=&quot;Right now PDFBOX does not permit to sign multiple files while calling an external signing service.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3065&quot;&gt;&lt;del&gt;PDFBOX-3065&lt;/del&gt;&lt;/a&gt;, this is about a different way to sign that will replace the current situation in 2.1, and in 2.0.* it will coexist. More explanation in &lt;tt&gt;PDDocument.saveIncrementalForExternalSigning&lt;/tt&gt;, see [ &lt;a href=&quot;https://svn.apache.org/r1759639&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1759639&lt;/a&gt; ].&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12600677">PDFBOX-1370</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12678999">PDFBOX-1780</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12941120">PDFBOX-3244</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13268193">PDFBOX-4689</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12777281" name="PDFBOX-3114-screenshot.png" size="87905" author="tilman" created="Sat, 12 Dec 2015 12:49:37 +0000"/>
                            <attachment id="12772752" name="pdfbox-2.0.0-RC1_issue.zip" size="916733" author="luca.bati@gmail.com" created="Tue, 17 Nov 2015 14:22:04 +0000"/>
                            <attachment id="12777355" name="test1_invisiblysigned_COSWriterModified_p1p2_ERR.pdf" size="67536" author="tilman" created="Sun, 13 Dec 2015 16:35:04 +0000"/>
                            <attachment id="12776894" name="test1_invisiblysignednoannotations_p1p2.pdf" size="66951" author="tilman" created="Thu, 10 Dec 2015 21:22:59 +0000"/>
                            <attachment id="12777510" name="test1_p1p2_visualsigned_COSWriterCOSArrayModified_OK.pdf" size="70919" author="tilman" created="Mon, 14 Dec 2015 17:09:39 +0000"/>
                            <attachment id="12776882" name="test1_signedinvisible_p2.pdf" size="47514" author="tilman" created="Thu, 10 Dec 2015 20:40:50 +0000"/>
                            <attachment id="12776588" name="test_Acrobat_iText.zip" size="463348" author="luca.bati@gmail.com" created="Wed, 9 Dec 2015 15:40:05 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>7.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10431"><![CDATA[Important]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oidz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>