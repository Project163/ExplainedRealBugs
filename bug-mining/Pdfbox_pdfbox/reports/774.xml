<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:57:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2402] NonSequentialPDFParser cannot recover from spurious closing brackets</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2402</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The NonSequentialPDFParser fails if an object has a spurious closing tag (for example, a PDFArray with two closing brackets). In lenient mode, it would be good to at least attempt recovering from that. The attached patch, instead of throwing an exception in case the endObject string is not &quot;endobj&quot; or &quot; obj&quot;, skips a character (the spurious character) and tries reading a string. It continues until either the file ends or an &quot;endobj&quot; is found.&lt;/p&gt;

&lt;p&gt;I have a document where this worked but I am not allowed to upload it, unfortunately. In any case the patch cannot make things worse, since it replaces throwing an exception with at least attempting to recover from it.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12745934">PDFBOX-2402</key>
            <summary>NonSequentialPDFParser cannot recover from spurious closing brackets</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="briksoftware">Michele Balistreri</reporter>
                        <labels>
                    </labels>
                <created>Sat, 4 Oct 2014 17:37:53 +0000</created>
                <updated>Sat, 13 Dec 2014 14:15:29 +0000</updated>
                            <resolved>Sat, 11 Oct 2014 13:25:59 +0000</resolved>
                                    <version>1.8.8</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.8</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14159224" author="briksoftware" created="Sat, 4 Oct 2014 17:39:06 +0000"  >&lt;p&gt;Attempts to work around this issue&lt;/p&gt;</comment>
                            <comment id="14165333" author="tilman" created="Thu, 9 Oct 2014 16:31:03 +0000"  >&lt;p&gt;If you can&apos;t attach the file, could you open it with an editor like NOTEPAD++ and then make a screenshot? You can still alter the screenshot to remove stuff like your work environment, the name of the file and whatever should stay confidential.&lt;/p&gt;</comment>
                            <comment id="14165420" author="briksoftware" created="Thu, 9 Oct 2014 17:47:15 +0000"  >&lt;p&gt;I attached the screenshot showing the wrongly formatted object. The file opens fine with Acrobat and Preview.app (Mac OS X). I did not test other readers.&lt;/p&gt;</comment>
                            <comment id="14168123" author="tilman" created="Sat, 11 Oct 2014 12:27:07 +0000"  >&lt;p&gt;Your patch works with a test file I created, but there&apos;s one thing I wonder about: do we need the read? This code works as well:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (!endObjectKey.startsWith(&lt;span class=&quot;code-quote&quot;&gt;&quot;endobj&quot;&lt;/span&gt;))
{
    &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (isLenient)
    {
        LOG.warn(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; (&quot;&lt;/span&gt; + readObjNr + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt; + readObjGen + &lt;span class=&quot;code-quote&quot;&gt;&quot;) at offset &quot;&lt;/span&gt;
                + offsetOrObjstmObNr + &lt;span class=&quot;code-quote&quot;&gt;&quot; does not end with &lt;span class=&quot;code-quote&quot;&gt;&apos;endobj&apos;&lt;/span&gt; but with &apos;&quot;&lt;/span&gt;
                + endObjectKey + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&quot;&lt;/span&gt;);
    }
    &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
    {
        &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; (&quot;&lt;/span&gt; + readObjNr + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt; + readObjGen
                + &lt;span class=&quot;code-quote&quot;&gt;&quot;) at offset &quot;&lt;/span&gt; + offsetOrObjstmObNr
                + &lt;span class=&quot;code-quote&quot;&gt;&quot; does not end with &lt;span class=&quot;code-quote&quot;&gt;&apos;endobj&apos;&lt;/span&gt; but with &lt;span class=&quot;code-quote&quot;&gt;&apos;&quot;&lt;/span&gt; + endObjectKey + &lt;span class=&quot;code-quote&quot;&gt;&quot;&apos;&lt;/span&gt;&quot;&lt;/span&gt;);
    }
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The parser is non-sequential, i.e. it doesn&apos;t have to position to the next object correctly.&lt;/p&gt;</comment>
                            <comment id="14168129" author="briksoftware" created="Sat, 11 Oct 2014 12:33:54 +0000"  >&lt;p&gt;If reading is not needed, then is ok. I did the read only to skip the spurious bytes and eventually find the &quot;endobj&quot; tag. If this is not required for correct functioning, it can be as well be omitted.&lt;/p&gt;</comment>
                            <comment id="14168146" author="jira-bot" created="Sat, 11 Oct 2014 13:21:29 +0000"  >&lt;p&gt;Commit 1631042 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1631042&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1631042&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2402&quot; title=&quot;NonSequentialPDFParser cannot recover from spurious closing brackets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2402&quot;&gt;&lt;del&gt;PDFBOX-2402&lt;/del&gt;&lt;/a&gt;: ignore stuff after the object is parsed if the parser is lenient, as suggested by Michele Balistreri&lt;/p&gt;</comment>
                            <comment id="14168147" author="jira-bot" created="Sat, 11 Oct 2014 13:22:59 +0000"  >&lt;p&gt;Commit 1631043 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1631043&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1631043&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2402&quot; title=&quot;NonSequentialPDFParser cannot recover from spurious closing brackets&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2402&quot;&gt;&lt;del&gt;PDFBOX-2402&lt;/del&gt;&lt;/a&gt;: ignore stuff after the object is parsed if the parser is lenient, as suggested by Michele Balistreri&lt;/p&gt;</comment>
                            <comment id="14168148" author="tilman" created="Sat, 11 Oct 2014 13:25:59 +0000"  >&lt;p&gt;Done; thanks for the suggestion and the cooperation; please test it with your file(s) and reopen if it doesn&apos;t work (but it should).&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12684994">PDFBOX-1811</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12672944" name="NonSequentialPDFParser.patch" size="2002" author="briksoftware" created="Sat, 4 Oct 2014 17:39:06 +0000"/>
                            <attachment id="12673939" name="file screenshot.png" size="85584" author="briksoftware" created="Thu, 9 Oct 2014 17:46:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20sxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>