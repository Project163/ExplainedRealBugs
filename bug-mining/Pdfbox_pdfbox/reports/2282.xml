<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:09:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4607] Transparent 16 bit image doesn&apos;t display in Adobe Reader</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4607</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Thomas on stackoverflow has very simple code that creates a PDF from a 16 bit PNG image. The PDF displays fine on Adobe Reader in 2.0.8 but no longer since 2.0.12. It displays on all other viewers I&apos;ve tried: PDFBox, GS, PDF.js and Chrome. It works on Adobe Reader when disabling the predictor logic in LosslessFactory.java. Thomas and I narrowed the problem last evening and now he has a non confidential file for us and also a workaround on his side.&lt;/p&gt;

&lt;p&gt;To reproduce the problem I used the ImageToPDF example.&lt;/p&gt;

&lt;p&gt;cc &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rototor&quot; class=&quot;user-hover&quot; rel=&quot;rototor&quot;&gt;rototor&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the &quot;bad&quot; file has&#160;imageType custom, colorspace with getNumComponents = 1, 8 bpc, data buffer TYPE_BYTE&lt;/p&gt;</description>
                <environment></environment>
        <key id="13246950">PDFBOX-4607</key>
            <summary>Transparent 16 bit image doesn&apos;t display in Adobe Reader</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Thu, 25 Jul 2019 03:56:36 +0000</created>
                <updated>Tue, 30 Jun 2020 06:13:27 +0000</updated>
                            <resolved>Thu, 25 Jul 2019 17:02:31 +0000</resolved>
                                    <version>2.0.12</version>
                    <version>2.0.16</version>
                                    <fixVersion>2.0.17</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16892544" author="rototor" created="Thu, 25 Jul 2019 08:41:10 +0000"  >&lt;p&gt;I&apos;ll try to look into this today afternoon.&lt;/p&gt;</comment>
                            <comment id="16892680" author="rototor" created="Thu, 25 Jul 2019 12:18:27 +0000"  >&lt;p&gt;The alternate color space is not set correctly for grayscale images.&lt;/p&gt;

&lt;p&gt;This patch&#160;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12975800/12975800_Correctly_handle_grayscale_colorspacees_when_setting_the_alternate__colorspace_.patch&quot; title=&quot;Correctly_handle_grayscale_colorspacees_when_setting_the_alternate__colorspace_.patch attached to PDFBOX-4607&quot;&gt;Correctly_handle_grayscale_colorspacees_when_setting_the_alternate_&lt;em&gt;colorspace&lt;/em&gt;.patch&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&#160;fixes it.&#160;&lt;/p&gt;</comment>
                            <comment id="16892932" author="jira-bot" created="Thu, 25 Jul 2019 16:37:11 +0000"  >&lt;p&gt;Commit 1863744 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1863744&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1863744&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4607&quot; title=&quot;Transparent 16 bit image doesn&amp;#39;t display in Adobe Reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4607&quot;&gt;&lt;del&gt;PDFBOX-4607&lt;/del&gt;&lt;/a&gt;: set correct /Alternate colorspace for images with gray colorspace, by Emmeran Seehuber&lt;/p&gt;</comment>
                            <comment id="16892933" author="jira-bot" created="Thu, 25 Jul 2019 16:37:16 +0000"  >&lt;p&gt;Commit 1863745 from Tilman Hausherr in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1863745&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1863745&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4607&quot; title=&quot;Transparent 16 bit image doesn&amp;#39;t display in Adobe Reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4607&quot;&gt;&lt;del&gt;PDFBOX-4607&lt;/del&gt;&lt;/a&gt;: set correct /Alternate colorspace for images with gray colorspace, by Emmeran Seehuber&lt;/p&gt;</comment>
                            <comment id="16892934" author="jira-bot" created="Thu, 25 Jul 2019 16:37:21 +0000"  >&lt;p&gt;Commit 1863746 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1863746&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1863746&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4607&quot; title=&quot;Transparent 16 bit image doesn&amp;#39;t display in Adobe Reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4607&quot;&gt;&lt;del&gt;PDFBOX-4607&lt;/del&gt;&lt;/a&gt;: set correct /Alternate colorspace for images with gray colorspace, by Emmeran Seehuber&lt;/p&gt;</comment>
                            <comment id="16892935" author="jira-bot" created="Thu, 25 Jul 2019 16:37:26 +0000"  >&lt;p&gt;Commit 1863747 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1863747&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1863747&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4607&quot; title=&quot;Transparent 16 bit image doesn&amp;#39;t display in Adobe Reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4607&quot;&gt;&lt;del&gt;PDFBOX-4607&lt;/del&gt;&lt;/a&gt;: set correct /Alternate colorspace for images with gray colorspace, by Emmeran Seehuber&lt;/p&gt;</comment>
                            <comment id="16892936" author="tilman" created="Thu, 25 Jul 2019 16:37:36 +0000"  >&lt;p&gt;Thank you! I noticed that in the upper part of the patch, you&apos;re not asking for TYPE_GRAY. Is this because you are sure that such a colorspace would always be an ICC_ColorSpace?&lt;/p&gt;</comment>
                            <comment id="16892942" author="rototor" created="Thu, 25 Jul 2019 16:48:14 +0000"  >&lt;p&gt;No, I just did an &quot;extract expression&quot; for &lt;tt&gt;srcCspaceType&lt;/tt&gt;. Theoretically their can be grayscale images without an ICC-Profile. But at least everything read in with ImageIO should have a ICC Profile, even if it&apos;s only the default builtin ICC Profile. So feel free to extend this line to also handle the grayscale case. I.e.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
PDColorSpace pdColorSpace = srcCspaceType == ColorSpace.TYPE_CMYK
      ? PDDeviceCMYK.INSTANCE : (srcCspaceType == ColorSpace. TYPE_GRAY ? PDDeviceGray.INSTANCE : PDDeviceRGB.INSTANCE);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I just would not know how to trigger/test this case.&lt;/p&gt;</comment>
                            <comment id="16892945" author="jira-bot" created="Thu, 25 Jul 2019 16:54:28 +0000"  >&lt;p&gt;Commit 1863748 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1863748&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1863748&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4607&quot; title=&quot;Transparent 16 bit image doesn&amp;#39;t display in Adobe Reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4607&quot;&gt;&lt;del&gt;PDFBOX-4607&lt;/del&gt;&lt;/a&gt;: set correct /Alternate colorspace for images with gray colorspace, by Emmeran Seehuber&lt;/p&gt;</comment>
                            <comment id="16892946" author="jira-bot" created="Thu, 25 Jul 2019 16:54:33 +0000"  >&lt;p&gt;Commit 1863749 from Tilman Hausherr in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1863749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1863749&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4607&quot; title=&quot;Transparent 16 bit image doesn&amp;#39;t display in Adobe Reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4607&quot;&gt;&lt;del&gt;PDFBOX-4607&lt;/del&gt;&lt;/a&gt;: set correct /Alternate colorspace for images with gray colorspace, by Emmeran Seehuber&lt;/p&gt;</comment>
                            <comment id="16892947" author="jira-bot" created="Thu, 25 Jul 2019 16:54:38 +0000"  >&lt;p&gt;Commit 1863750 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1863750&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1863750&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4607&quot; title=&quot;Transparent 16 bit image doesn&amp;#39;t display in Adobe Reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4607&quot;&gt;&lt;del&gt;PDFBOX-4607&lt;/del&gt;&lt;/a&gt;: set correct /Alternate colorspace for images with gray colorspace, by Emmeran Seehuber&lt;/p&gt;</comment>
                            <comment id="16892948" author="jira-bot" created="Thu, 25 Jul 2019 16:54:44 +0000"  >&lt;p&gt;Commit 1863751 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1863751&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1863751&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4607&quot; title=&quot;Transparent 16 bit image doesn&amp;#39;t display in Adobe Reader&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4607&quot;&gt;&lt;del&gt;PDFBOX-4607&lt;/del&gt;&lt;/a&gt;: set correct /Alternate colorspace for images with gray colorspace, by Emmeran Seehuber&lt;/p&gt;</comment>
                            <comment id="16892950" author="tilman" created="Thu, 25 Jul 2019 17:02:32 +0000"  >&lt;p&gt;Thanks again, also for the fast help!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13150764">PDFBOX-4184</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12975736" name="16bit-transparent.pdf" size="4054" author="tilman" created="Thu, 25 Jul 2019 03:41:03 +0000"/>
                            <attachment id="12975735" name="16bit-transparent.png" size="1677" author="tilman" created="Thu, 25 Jul 2019 03:41:03 +0000"/>
                            <attachment id="12975800" name="Correctly_handle_grayscale_colorspacees_when_setting_the_alternate__colorspace_.patch" size="1763" author="rototor" created="Thu, 25 Jul 2019 12:17:34 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://stackoverflow.com/questions/57187261/]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0504w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>