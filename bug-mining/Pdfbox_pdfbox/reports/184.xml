<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:53:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1128] Wrong color space used for DeviceN operator without color space specified</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1128</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I have a PDF that uses a DeviceN color space, but when using the PDFToImage utility I noticed that some of the text comes out as cyan.&lt;/p&gt;

&lt;p&gt;I tracked the issue down to when the scn or SCN operator is used without setting the color space explicitly (ie using the current color space).  I have attached a patch which resolves the issue by reinstating the original (DeviceN) color space after using the alternate color space, otherwise the alternate color space (in this case CMYK) was seen as the current color space and the attribute of 1 for the scn operator, which was meant for the DeviceN color space, is used in the CMYK color space resulting in the cyan.&lt;/p&gt;

&lt;p&gt;I have also attached an example PDF and the result for the PDFToImage conversion.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12525527">PDFBOX-1128</key>
            <summary>Wrong color space used for DeviceN operator without color space specified</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="simonmazer">Simon Maskell</reporter>
                        <labels>
                    </labels>
                <created>Mon, 3 Oct 2011 11:41:53 +0000</created>
                <updated>Tue, 29 May 2012 16:21:56 +0000</updated>
                            <resolved>Sat, 15 Oct 2011 15:08:54 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.7.0</fixVersion>
                                    <component>PDModel</component>
                    <component>Swing GUI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13119314" author="lehmi" created="Mon, 3 Oct 2011 13:49:20 +0000"  >&lt;p&gt;I fixed the issue in revision 1178412, but I didn&apos;t use Simons patch, as It was just a workaround. Separation-colorspaces had a similar issue, see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-963&quot; title=&quot;PDF Box Image Color Distortion&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-963&quot;&gt;&lt;del&gt;PDFBOX-963&lt;/del&gt;&lt;/a&gt; for further details.&lt;/p&gt;

&lt;p&gt;Thanks for the pointer and the detailed description, it made it easy for me to fix this issue !&lt;/p&gt;</comment>
                            <comment id="13119322" author="simonmazer" created="Mon, 3 Oct 2011 14:08:33 +0000"  >&lt;p&gt;That&apos;s great, thanks for the prompt response.&lt;/p&gt;</comment>
                            <comment id="13125047" author="danielwilson" created="Tue, 11 Oct 2011 14:08:36 +0000"  >&lt;p&gt;I had hoped this would resolve some test failures I&apos;ve seen recently, but it didn&apos;t resolve all of them.&lt;/p&gt;

&lt;p&gt;ARCHIVERGB is showing 2 problems:&lt;br/&gt;
1. The stencil mask is missing completely&lt;br/&gt;
2. Some of the letters are not being filled.  I&apos;ve seen this in other cases that I have not yet received permission to release ... a group of letters will have only the first filled with the fill color.  &lt;/p&gt;

&lt;p&gt;Back in August, these items were working better ... so one of us made a mistake somewhere.&lt;/p&gt;

&lt;p&gt;If you prefer me to post a new issue, I certainly can.&lt;/p&gt;</comment>
                            <comment id="13125192" author="lehmi" created="Tue, 11 Oct 2011 16:59:58 +0000"  >&lt;p&gt;Reopend as it was my bad. I already found the cause, but I&apos;ve to clean up my code before comitting it.&lt;/p&gt;</comment>
                            <comment id="13126000" author="lehmi" created="Wed, 12 Oct 2011 18:02:31 +0000"  >&lt;p&gt;I guess I resolved the issue in revision 1182494. &lt;/p&gt;

&lt;p&gt;The stencil mask works better than before. Former PDFBox versions always used black as color for the stencil mask and now following the specs the non stroking color will be used &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;

&lt;p&gt;There is one TODO left. The stencil mask creation is based on default values (&lt;span class=&quot;error&quot;&gt;&amp;#91;0,1&amp;#93;&lt;/span&gt;) for the DecodeArray. Does anyone have a sample using &lt;span class=&quot;error&quot;&gt;&amp;#91;1,0&amp;#93;&lt;/span&gt; as DecodeArray?&lt;/p&gt;
</comment>
                            <comment id="13126155" author="lehmi" created="Wed, 12 Oct 2011 21:06:48 +0000"  >&lt;p&gt;I forgot to commit my changes on PDColorState. I made up for it in revision 1182584&lt;/p&gt;</comment>
                            <comment id="13126641" author="danielwilson" created="Thu, 13 Oct 2011 14:55:46 +0000"  >&lt;p&gt;The stencil mask looks lots better!  Awesome!&lt;/p&gt;</comment>
                            <comment id="13127280" author="lehmi" created="Fri, 14 Oct 2011 05:41:18 +0000"  >&lt;p&gt;@Daniel&lt;br/&gt;
I assume that you don&apos;t have a sample for a &lt;span class=&quot;error&quot;&gt;&amp;#91;1,0&amp;#93;&lt;/span&gt; DecodeArray, have you? If not I&apos;ll set this issue to resolved. I added a TODO comment, so that we will (hopefully) find the relevant part of the source, if we&apos;ll get a suitable sample for that case in the future.&lt;/p&gt;</comment>
                            <comment id="13127609" author="danielwilson" created="Fri, 14 Oct 2011 15:08:28 +0000"  >&lt;p&gt;Andreas,&lt;/p&gt;

&lt;p&gt;I&apos;m afraid I don&apos;t have an example either.  Sorry!&lt;/p&gt;</comment>
                            <comment id="13128215" author="lehmi" created="Sat, 15 Oct 2011 15:08:54 +0000"  >&lt;p&gt;I set this to resolved as the main issue is solved. I added a comment to the source pointing to the unsupported case.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12497444" name="DeviceN.patch" size="2618" author="simonmazer" created="Mon, 3 Oct 2011 11:43:49 +0000"/>
                            <attachment id="12497445" name="test4.pdf" size="20543" author="simonmazer" created="Mon, 3 Oct 2011 11:44:43 +0000"/>
                            <attachment id="12497446" name="test4.pdf-1.png" size="13719" author="simonmazer" created="Mon, 3 Oct 2011 11:44:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>43646</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 6 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zm7j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>205900</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>