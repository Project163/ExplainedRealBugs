<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:00:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2704] PDPageTree.indexOf doesn&apos;t find page numbers</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2704</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I know &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2423&quot; title=&quot;Page tree handling needs rewriting&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2423&quot;&gt;&lt;del&gt;PDFBOX-2423&lt;/del&gt;&lt;/a&gt; is not closed yet so I&apos;m not sure if the issues I&apos;m having are a cause of that.&lt;br/&gt;
I&apos;m using the latest trunk and I have issues with the PDPageTree.indexOf method. The javadoc reads &lt;cite&gt;Returns the index of the given page, or -1 if it does not exist.&lt;/cite&gt; which I understand it means in returns -1 if the given page is not found in the page tree correct? If so, the following unit test fails:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt; @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void indexOfNotFoundPage() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        PDDocument doc1 = PDDocument.load(getClass().getClassLoader()
                .getResourceAsStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;pdf/bigger_outline_test.pdf&quot;&lt;/span&gt;));
        assertEquals(-1, doc1.getPages().indexOf(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDPage()));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Another similar issue I have is that PDPageTree.indexOf doesn&apos;t find the correct index for a PDPage returned by the PDOutlineItem.findDestinationPage:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;@Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void indexOfPageFromOutlineDestination() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        PDDocument doc = PDDocument
                .load(getClass().getClassLoader().getResourceAsStream(&lt;span class=&quot;code-quote&quot;&gt;&quot;pdf/bigger_outline_test.pdf&quot;&lt;/span&gt;));
        PDDocumentOutline outline = doc.getDocumentCatalog().getDocumentOutline();
        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDOutlineItem current : outline.children()) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (current.getTitle().contains(&lt;span class=&quot;code-quote&quot;&gt;&quot;Second&quot;&lt;/span&gt;)) {
                assertEquals(3, doc.getPages().indexOf(current.findDestinationPage(doc)));
            }
        }
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Also note that indexOf is used by PDPageDestination.findPageNumber which also returns a wrong result.&lt;/p&gt;</description>
                <environment>2.0.0-SNAPSHOT r1665633</environment>
        <key id="12780933">PDFBOX-2704</key>
            <summary>PDPageTree.indexOf doesn&apos;t find page numbers</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="torakiki">Andrea Vacondio</reporter>
                        <labels>
                            <label>PDPageTree</label>
                    </labels>
                <created>Tue, 10 Mar 2015 18:11:39 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:30 +0000</updated>
                            <resolved>Thu, 23 Apr 2015 18:20:36 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>2</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14355355" author="torakiki" created="Tue, 10 Mar 2015 18:12:15 +0000"  >&lt;p&gt;Test pdf&lt;/p&gt;</comment>
                            <comment id="14357316" author="torakiki" created="Wed, 11 Mar 2015 18:11:21 +0000"  >&lt;p&gt;I created a possible fix for this. I don&apos;t know if PDPageTree is under development and maybe my fix won&apos;t be needed but I also included unit tests that I think might be useful to test the indexOf behavior. &lt;/p&gt;</comment>
                            <comment id="14509505" author="jira-bot" created="Thu, 23 Apr 2015 18:14:27 +0000"  >&lt;p&gt;Commit 1675695 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1675695&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1675695&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2704&quot; title=&quot;PDPageTree.indexOf doesn&amp;#39;t find page numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2704&quot;&gt;&lt;del&gt;PDFBOX-2704&lt;/del&gt;&lt;/a&gt;: fix bug in PDPageTree.indexOf and add test, by Andrea Vacondio&lt;/p&gt;</comment>
                            <comment id="14509523" author="jira-bot" created="Thu, 23 Apr 2015 18:19:33 +0000"  >&lt;p&gt;Commit 1675697 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1675697&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1675697&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2704&quot; title=&quot;PDPageTree.indexOf doesn&amp;#39;t find page numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2704&quot;&gt;&lt;del&gt;PDFBOX-2704&lt;/del&gt;&lt;/a&gt;: forgot the test files of Andrea Vacondio in previous commit&lt;/p&gt;</comment>
                            <comment id="14509529" author="tilman" created="Thu, 23 Apr 2015 18:20:36 +0000"  >&lt;p&gt;Thank you! I committed your patch almost unchanged, except for the parameter in getResourceAsStream.&lt;/p&gt;</comment>
                            <comment id="14537088" author="jira-bot" created="Sun, 10 May 2015 09:00:52 +0000"  >&lt;p&gt;Commit 1678540 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1678540&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1678540&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2704&quot; title=&quot;PDPageTree.indexOf doesn&amp;#39;t find page numbers&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2704&quot;&gt;&lt;del&gt;PDFBOX-2704&lt;/del&gt;&lt;/a&gt;: remove unused test file that already exists&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12747367">PDFBOX-2423</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12703700" name="bigger_outline_test.pdf" size="20066" author="torakiki" created="Tue, 10 Mar 2015 18:12:15 +0000"/>
                            <attachment id="12703971" name="page_tree_index_of.diff" size="6755" author="torakiki" created="Wed, 11 Mar 2015 18:11:21 +0000"/>
                            <attachment id="12703973" name="page_tree_multiple_levels.pdf" size="2346" author="torakiki" created="Wed, 11 Mar 2015 18:11:21 +0000"/>
                            <attachment id="12703972" name="with_outline.pdf" size="20066" author="torakiki" created="Wed, 11 Mar 2015 18:11:21 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 27 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i26lcv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>