<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:57:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2360] PDFont had methods removed</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2360</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Add back methods or provide a equivalent to pdfbox so it easier to upgrade to PDFBox 2&lt;br/&gt;
PDFont&lt;br/&gt;
public int getFirstChar()&lt;br/&gt;
public int getLastChar()&lt;br/&gt;
public Encoding getFontEncoding()&lt;br/&gt;
public CMap getToUnicodeCMap()&lt;br/&gt;
public String encode(byte[] c, int offset, int length) throws IOException&lt;/p&gt;

&lt;p&gt;PDCIDFont&lt;br/&gt;
public long getDefaultWidth()&lt;/p&gt;

&lt;p&gt;Encoding&lt;br/&gt;
public String getCharacter(int code) throws IOException&lt;/p&gt;

&lt;p&gt;CFFFont&lt;br/&gt;
public Object getProperty(String name)&lt;br/&gt;
public Map&amp;lt;String, byte[]&amp;gt; getCharStringsDict()&lt;br/&gt;
public CFFEncoding getEncoding()&lt;/p&gt;

&lt;p&gt;CFFCharset&lt;br/&gt;
public List&amp;lt;Entry&amp;gt; getEntries()&lt;/p&gt;

&lt;p&gt;CFFEncoding&lt;br/&gt;
public List&amp;lt;Entry&amp;gt; getEntries()&lt;/p&gt;

&lt;p&gt;Cmap&lt;br/&gt;
public String lookup( int code, int length )&lt;/p&gt;</description>
                <environment></environment>
        <key id="12742446">PDFBOX-2360</key>
            <summary>PDFont had methods removed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Sep 2014 13:20:03 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:26 +0000</updated>
                            <resolved>Tue, 23 Sep 2014 17:11:11 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14139392" author="jahewson" created="Thu, 18 Sep 2014 19:50:31 +0000"  >&lt;p&gt;These APIs have been redesigned in 2.0, the old APIs which were removed are dangerously broken. The structure of these APIs and the way they interact has fundamentally changed in 2.0, so meaningful backwards compatibility is not possible. The good news is that the 2.0 APIs operate at a much higher level of abstraction and so you can replace large chunks of code with just a couple of new API calls.&lt;/p&gt;

&lt;p&gt;Feel free to ask on the mailing list about how to port specific pieces of code from 1.8 to 2.0.&lt;/p&gt;</comment>
                            <comment id="14139430" author="ssteiner1" created="Thu, 18 Sep 2014 20:16:24 +0000"  >&lt;p&gt;Some of these methods could be added back easily since the classes havent internally changed eg getFirstChar&lt;/p&gt;</comment>
                            <comment id="14139503" author="jahewson" created="Thu, 18 Sep 2014 20:57:27 +0000"  >&lt;p&gt;Those methods are not needed to use the new API, so it&apos;s just enabling people to do the wrong thing. Do you have a specific use case?&lt;/p&gt;</comment>
                            <comment id="14140221" author="ssteiner1" created="Fri, 19 Sep 2014 09:15:45 +0000"  >&lt;p&gt;We are using the API for font subsetting and font merging:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/java/org/apache/fop/fonts/truetype/OTFFile.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/java/org/apache/fop/fonts/truetype/OTFFile.java?view=markup&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/java/org/apache/fop/fonts/truetype/OTFSubSetFile.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/java/org/apache/fop/fonts/truetype/OTFSubSetFile.java?view=markup&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc/xmlgraphics/fop-pdf-images/trunk/src/java/org/apache/fop/render/pdf/pdfbox/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/xmlgraphics/fop-pdf-images/trunk/src/java/org/apache/fop/render/pdf/pdfbox/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14140278" author="lehmi" created="Fri, 19 Sep 2014 10:14:08 +0000"  >&lt;blockquote&gt;
&lt;p&gt;so it&apos;s just enabling people to do the wrong thing&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I disagree at least in some cases. Some of those values are part of a dictionary and are already accesible by using the underlying COSDictionary. I prefer to provide such getter for convenience instead of forcing users to use low-level access. The remaining methods should be discussed. Maybe the best approach would be to integrate the FOP features into fontbox.&lt;/p&gt;</comment>
                            <comment id="14140470" author="ssteiner1" created="Fri, 19 Sep 2014 13:31:53 +0000"  >&lt;p&gt;PDCIDFont used to extend PDFont, since they are now seperate it makes it difficult to write common code for both. Could they both implement a interface with &quot;public PDFontDescriptor getFontDescriptor()&quot;.&lt;/p&gt;</comment>
                            <comment id="14141195" author="jahewson" created="Fri, 19 Sep 2014 20:02:37 +0000"  >&lt;blockquote&gt;
&lt;p&gt; I prefer to provide such getter for convenience instead of forcing users to use low-level access.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;But experience tells us that this doesn&apos;t work, users are simply not able to use the low-level font APIs correctly, they are far, far too complex. Just look at how much difficulty we&apos;ve had getting PDFBox to use its own APIs correctly internally.&lt;/p&gt;

&lt;p&gt;The internal COS structure of PDF fonts is a giant mess and if the PD API were simply a wrapper around the COS structures then it too would be a giant mess, which to an extent it was. The old APIs were unmaintainable and were completely ripped out and replaced for that very reason: they could not be maintained, nobody understood them, they were a giant mess. Let&apos;s not go back to that.&lt;/p&gt;</comment>
                            <comment id="14141200" author="jahewson" created="Fri, 19 Sep 2014 20:09:36 +0000"  >&lt;blockquote&gt;
&lt;p&gt;PDCIDFont used to extend PDFont, since they are now seperate it makes it difficult to write common code for both. Could they both implement a interface with &quot;public PDFontDescriptor getFontDescriptor()&quot;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;That&apos;s because CIDFonts are not fonts, they are &quot;font-like objects&quot; to quote the PDF spec. It&apos;s certainly possible to have their common aspects implement an interface though, I&apos;ll take a look at this. Maybe &quot;PDFontLike&quot;.&lt;/p&gt;

&lt;p&gt;P.S. I&apos;m happy to add APIs for valid use cases, feel free to suggest more &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14141243" author="jahewson" created="Fri, 19 Sep 2014 20:29:20 +0000"  >&lt;blockquote&gt;
&lt;p&gt;We are using the API for font subsetting and font merging:&lt;br/&gt;
&lt;a href=&quot;http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/java/org/apache/fop/fonts/truetype/OTFFile.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/xmlgraphics/fop/trunk/src/java/org/apache/fop/fonts/truetype/OTFFile.java?view=markup&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Looking at the code I see you&apos;re embedding CFF fonts. This is probably where the biggest API changes have been. The reason is that the old FontBox API conflated two different kinds of font, CIDFonts and Type 1-equivalent fonts, both of which can be represented as a CFF. Any code using the old API is guaranteed to be buggy in fairly major ways.&lt;/p&gt;

&lt;p&gt;These two fonts types work in very different manners, Type 1-equivalent fonts have an encoding which maps PostScript names to glyphs. CIDFonts do not have any encoding and use CIDs to index glyphs numerically. The new APIs in 2.0 reflect this, and CFFont has been split into two subclasses CFFType1Font and CFFCIDFont, one with a name-based API and the other with a CID-based API.&lt;/p&gt;</comment>
                            <comment id="14141297" author="jira-bot" created="Fri, 19 Sep 2014 21:05:57 +0000"  >&lt;p&gt;Commit 1626333 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1626333&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1626333&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2360&quot; title=&quot;PDFont had methods removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2360&quot;&gt;&lt;del&gt;PDFBOX-2360&lt;/del&gt;&lt;/a&gt;: Added PDFontLike interface for common PDFont and PDCIDFont aspects&lt;/p&gt;</comment>
                            <comment id="14141300" author="jira-bot" created="Fri, 19 Sep 2014 21:07:18 +0000"  >&lt;p&gt;Commit 1626334 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1626334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1626334&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2360&quot; title=&quot;PDFont had methods removed&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2360&quot;&gt;&lt;del&gt;PDFBOX-2360&lt;/del&gt;&lt;/a&gt;: Use getName() in preflight&lt;/p&gt;</comment>
                            <comment id="14141323" author="jahewson" created="Fri, 19 Sep 2014 21:20:53 +0000"  >&lt;p&gt;I&apos;ve added a new interface PDFontLike which represents &quot;font-like objects&quot;, i.e. the common aspects of PDFont and PDCIDFont. Note that the getFontDescriptor() which you&apos;re using can return null. PDFont implements safe methods which provide similar information to the font descriptor, perhaps you could use these instead. Also you probably want to be working with a PDType0Font and not accessing its descendant PDCIDFont directly, but that depends on exactly what you&apos;re doing.&lt;/p&gt;

&lt;p&gt;Do you have a link to the code which you&apos;re trying to update? I found no use of getFontDescriptor() in the other links.&lt;/p&gt;

&lt;p&gt;P.S. You might need to do a find-and-replace on &quot;getBaseName&quot; to &quot;getName&quot; after the latest changes (getBaseName still exists for non-Type3 fonts though).&lt;/p&gt;</comment>
                            <comment id="14141362" author="msahyoun" created="Fri, 19 Sep 2014 21:49:03 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; maybe you could come up with a better name for PDFontLike - without looking into the interface I wouldn&#8217;t know what it&#8217;s doing.&lt;/p&gt;</comment>
                            <comment id="14141492" author="jahewson" created="Fri, 19 Sep 2014 22:55:11 +0000"  >&lt;p&gt;It&apos;s a &quot;font-like object&quot; according to the PDF spec. I generally prefer names to be the same as the spec to avoid confusion or creating PDFBox-specific jargon. This interface is never exposed publicly by the API in any methods or fields, it&apos;s just implemented by PDFont and PDCIDFont, for whatever purpose power users want that for. Unless you&apos;re looking into the interface you wouldn&apos;t ever encounter it or need to use it.&lt;/p&gt;</comment>
                            <comment id="14142410" author="msahyoun" created="Sun, 21 Sep 2014 10:16:45 +0000"  >&lt;p&gt;You are correct that fontlike is used with the PDF spec but it has been given a name there which is CIDFont&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;A composite font, also called a Type 0 font, is one whose glyphs are obtained from a fontlike object called a CIDFont&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Now with the new interface you are wrapping common information for different font types which is very good. The information returned is also available within the spec but is part of the different font definitions. So what about something like PDFontCommonProperties.&lt;/p&gt;
</comment>
                            <comment id="14142717" author="jahewson" created="Sun, 21 Sep 2014 21:15:52 +0000"  >&lt;blockquote&gt;
&lt;p&gt;You are correct that fontlike is used with the PDF spec but it has been given a name there which is CIDFont&lt;/p&gt;&lt;/blockquote&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;PDF Spec:
A composite font, also called a Type 0 font, is one whose glyphs are obtained from a fontlike object called a CIDFont
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;A Type 0 font is not itself a CIDFont, it is &lt;b&gt;obtained from&lt;/b&gt; a CIDFont, i.e. it wraps a descendant CIDFont. It&apos;s true that a CIDFont is a font-like object, but a font-like object is not always a CIDFont, it may be a normal Font.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Now with the new interface you are wrapping common information for different font types which is very good.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Technically this is incorrect, these are not &quot;different font types&quot; because a &lt;b&gt;CIDFont is not a font&lt;/b&gt;. It&apos;s a &quot;font-like object&quot;.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;So what about something like PDFontCommonProperties.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;As a CIDFont is not a font this name would be wrong. There&apos;s already a name in the spec for the common features of both Fonts and CIDFonts, it&apos;s &quot;font-like object&quot; which is what I&apos;ve used. The spec tells us that a CIDFont is &quot;font-like&quot; and a Font is by definition already &quot;font-like&quot;.&lt;/p&gt;</comment>
                            <comment id="14145051" author="jahewson" created="Tue, 23 Sep 2014 17:11:11 +0000"  >&lt;p&gt;I&apos;m going to mark this issue as resolved, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssteiner1&quot; class=&quot;user-hover&quot; rel=&quot;ssteiner1&quot;&gt;ssteiner1&lt;/a&gt;, if you have any other API difficulties in 2.0 please open new issues (perhaps smaller in scope).&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i207i7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>