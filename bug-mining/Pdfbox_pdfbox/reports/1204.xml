<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:01:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2954] Exception when trying to write Spanish or French characters</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2954</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When I create a PDF with PDFBOX 2.0.0 SNAPSHOT using the typical Hello World example with Spanish and French characters:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    PDDocument document = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocument();
    PDPage page = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDPage(PDRectangle.A4);
    document.addPage(page);
    PDType1Font font = PDType1Font.HELVETICA;

    PDPageContentStream stream = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDPageContentStream(document, page);
    &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; text = &lt;span class=&quot;code-quote&quot;&gt;&quot;&#225;&#193;&#192;&#224;&quot;&lt;/span&gt;;
    stream.beginText();
    stream.setFont(font, 12);
    stream.newLineAtOffset(100, 700);
    stream.showText(text);
    stream.endText();
    stream.close();
    document.save(&lt;span class=&quot;code-quote&quot;&gt;&quot;sample.pdf&quot;&lt;/span&gt;);
    document.close();
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I get this error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;sep 02, 2015 12:42:43 PM org.apache.pdfbox.pdmodel.font.PDType1Font &amp;lt;init&amp;gt;
ADVERTENCIA: Using fallback font ArialMT &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; base font ZapfDingbats
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IllegalArgumentException: This font type only supports 8-bit code points
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;If I load &lt;tt&gt;arialuni.ttf&lt;/tt&gt; font with Type0 it compiles but only get question marks instead of the correct characters in the PDF file.&lt;/p&gt;

&lt;p&gt;I have tried PDFBOX 1.8 and doesn&#180;t work either.&lt;/p&gt;</description>
                <environment>Windows 10, Java 8</environment>
        <key id="12861322">PDFBOX-2954</key>
            <summary>Exception when trying to write Spanish or French characters</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="loonger">Ivan de la Fuente</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Sep 2015 14:22:45 +0000</created>
                <updated>Thu, 3 Sep 2015 18:37:59 +0000</updated>
                            <resolved>Thu, 3 Sep 2015 10:08:35 +0000</resolved>
                                    <version>2.0.0</version>
                                                    <component>Writing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14727512" author="tilman" created="Wed, 2 Sep 2015 15:33:34 +0000"  >&lt;p&gt;See also &lt;a href=&quot;https://stackoverflow.com/questions/32351565/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/32351565/&lt;/a&gt; , using&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;PDType0Font font = PDType0Font.load(document, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;c:/windows/fonts/arialuni.ttf&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;didn&apos;t help either.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=loonger&quot; class=&quot;user-hover&quot; rel=&quot;loonger&quot;&gt;loonger&lt;/a&gt; what encoding does your source code use? In what country did you buy or update the windows you&apos;re using now? Do you have access to a W7 system, and if yes, does the effect also happen there?&lt;/p&gt;</comment>
                            <comment id="14727602" author="loonger" created="Wed, 2 Sep 2015 16:43:47 +0000"  >&lt;p&gt;I&#180;m using UTF-8 in Intellij IDEA. All my software has been downloaded from Spain and all my systems are updated to W10. I&#180;ll make a partition with W7 and try...&lt;/p&gt;</comment>
                            <comment id="14727878" author="jahewson" created="Wed, 2 Sep 2015 19:19:18 +0000"  >&lt;p&gt;There&apos;s definitely something going wrong here. The characters in &quot;&#225;&#193;&#192;&#224;&quot; are all 8-bit code points, so the error message is contradictory. Can you post the full stack trace of the exception?&lt;/p&gt;</comment>
                            <comment id="14727953" author="loonger" created="Wed, 2 Sep 2015 20:14:55 +0000"  >&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;sep 02, 2015 10:10:34 PM org.apache.pdfbox.pdmodel.font.PDType1Font &amp;lt;init&amp;gt;
ADVERTENCIA: Using fallback font ArialMT &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; base font ZapfDingbats
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IllegalArgumentException: This font type only supports 8-bit code points
	at org.apache.pdfbox.pdmodel.font.PDType1Font.encode(PDType1Font.java:327)
	at org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:282)
	at org.apache.pdfbox.pdmodel.PDPageContentStream.showText(PDPageContentStream.java:341)
	at com.loonger.HelloWorld.main(HelloWorld.java:31)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="14727991" author="jahewson" created="Wed, 2 Sep 2015 20:39:55 +0000"  >&lt;p&gt;This appears to be a prior unrelated message: &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;sep 02, 2015 10:10:34 PM org.apache.pdfbox.pdmodel.font.PDType1Font &amp;lt;init&amp;gt;&lt;br/&gt;
ADVERTENCIA: Using fallback font ArialMT for base font ZapfDingbats&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Presumably because PDType1Font&apos;s static initializer maps all of the &quot;base 14&quot; fonts, which includes Zapf Dingbats.&lt;/p&gt;</comment>
                            <comment id="14727998" author="jira-bot" created="Wed, 2 Sep 2015 20:45:29 +0000"  >&lt;p&gt;Commit 1700899 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1700899&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1700899&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2954&quot; title=&quot;Exception when trying to write Spanish or French characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2954&quot;&gt;&lt;del&gt;PDFBOX-2954&lt;/del&gt;&lt;/a&gt;: Add more detail to error message&lt;/p&gt;</comment>
                            <comment id="14727999" author="jahewson" created="Wed, 2 Sep 2015 20:46:32 +0000"  >&lt;p&gt;I&apos;ve added more detail to the error message so that we can try and figure this one out. Can you either pull the latest PDFBox from SVN, or wait for the latest snapshot (which could be a few hours).&lt;/p&gt;</comment>
                            <comment id="14728001" author="jira-bot" created="Wed, 2 Sep 2015 20:47:23 +0000"  >&lt;p&gt;Commit 1700901 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1700901&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1700901&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2954&quot; title=&quot;Exception when trying to write Spanish or French characters&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2954&quot;&gt;&lt;del&gt;PDFBOX-2954&lt;/del&gt;&lt;/a&gt;: Typo&lt;/p&gt;</comment>
                            <comment id="14728752" author="loonger" created="Thu, 3 Sep 2015 09:35:00 +0000"  >&lt;p&gt;I think the problem has solved. Maybe it only was a problem with the encodings.xml because I have deleted it, remaked it with UTF-8 encoding and rewrite the Spanish text and it works now..&lt;/p&gt;</comment>
                            <comment id="14729482" author="jahewson" created="Thu, 3 Sep 2015 18:03:32 +0000"  >&lt;p&gt;That makes sense, I think. Given the error message it was looking likely that your Java source was being compiled using the wrong encoding.&lt;/p&gt;</comment>
                            <comment id="14729537" author="loonger" created="Thu, 3 Sep 2015 18:36:00 +0000"  >&lt;p&gt;Yes, and I think the key is to retype in the source code the problematic characters when you change the encoding, otherwise the change doesn&#180;t affect the previous source code.&lt;br/&gt;
Thanks for the help!&lt;/p&gt;</comment>
                            <comment id="14729542" author="jahewson" created="Thu, 3 Sep 2015 18:37:59 +0000"  >&lt;p&gt;Yep, we got caught out by this a while ago when we changed PDFBox&apos;s source code from Windows 1251 to UTF-8.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 11 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2jpef:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>