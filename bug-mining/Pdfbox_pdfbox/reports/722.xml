<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:57:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2358] ExternalFonts uses classloader of class in font-box</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2358</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;ExternalFonts loads some default fonts via the org.apache.fontbox.util.ResourceLoader. That resourceloader uses it&apos;s own classloader (ResourceLoader.class.getClassLoader()) for loading the given resource.&lt;br/&gt;
The problem is that the resource is in the PDFBox project and the ResourceLoader in the FontBox. In an OSGI environment this is a problem.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12742071">PDFBOX-2358</key>
            <summary>ExternalFonts uses classloader of class in font-box</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="c.hoeflake">Cornelis Hoeflake</reporter>
                        <labels>
                    </labels>
                <created>Wed, 17 Sep 2014 08:16:12 +0000</created>
                <updated>Thu, 17 Mar 2016 19:06:51 +0000</updated>
                            <resolved>Thu, 18 Sep 2014 20:13:04 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14136940" author="c.hoeflake" created="Wed, 17 Sep 2014 08:23:03 +0000"  >&lt;p&gt;One solution is to pass a classloader to the ResourceLoader. But throwing around with classloaders can cause issues.&lt;/p&gt;

&lt;p&gt;Another solution is to load the file directly without the ResourceLoader, as far as I can see the resourceloader does nothing extra in this case. Same for CMapParser which also uses the ResourceLoader.&lt;/p&gt;

&lt;p&gt;Next is to remove ResourceLoader or to make very clear that the ResourceLoader cannot be used outside the fontbox. My personal opinion is that the ResourceLoader is a black class which does some magic tricks (for example, return a FileInputStream if the resource could not be found in the classloader, this is somewhat obscure and could be dangerous).&lt;/p&gt;</comment>
                            <comment id="14137721" author="jahewson" created="Wed, 17 Sep 2014 18:39:46 +0000"  >&lt;p&gt;The use of FontBox&apos;s ResourceLoader in ExternalFonts is an IDE autocomplete accident. PDFBox has its own ResourceLoader class which should have been used.&lt;/p&gt;

&lt;p&gt;The way that CMapParser uses the FontBox ResourceLoader is more troubling. As you say, passing resource paths from PDFBox to FontBox is not OSGI friendly. The solution would seem to be to move the cmap resource files from PDFBox to FontBox, because they are not PDF-specific, they are more properly part of Adobe&apos;s CIDFont system.&lt;/p&gt;</comment>
                            <comment id="14138034" author="jira-bot" created="Wed, 17 Sep 2014 21:38:40 +0000"  >&lt;p&gt;Commit 1625834 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1625834&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1625834&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2358&quot; title=&quot;ExternalFonts uses classloader of class in font-box&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2358&quot;&gt;&lt;del&gt;PDFBOX-2358&lt;/del&gt;&lt;/a&gt;: Move CMaps from PDFBox to FontBox and remove ResourceLoader&lt;/p&gt;</comment>
                            <comment id="14138134" author="jira-bot" created="Wed, 17 Sep 2014 22:35:38 +0000"  >&lt;p&gt;Commit 1625840 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1625840&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1625840&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2358&quot; title=&quot;ExternalFonts uses classloader of class in font-box&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2358&quot;&gt;&lt;del&gt;PDFBOX-2358&lt;/del&gt;&lt;/a&gt;: Remove ResourceLoader usage in PDFBox&lt;/p&gt;</comment>
                            <comment id="14138135" author="jahewson" created="Wed, 17 Sep 2014 22:38:58 +0000"  >&lt;p&gt;I&apos;ve also removed as may uses of PDFBox&apos;s ResourceLoader as possible, because as you point out it is &quot;obscure and dangerous&quot;. It is now only used by PDFStreamEngine and its subclasses for loading .properties files. However, this usage is itself not OSGI compatible as it is designed to by used by subclasses in a different module, where loading resources from the &quot;pdfbox&quot; module is not OSGI friendly.&lt;/p&gt;

&lt;p&gt;This looks like the final straw for the PDFStreamEngine .properties mechanism, which was already a candidate for removal.&lt;/p&gt;</comment>
                            <comment id="14138587" author="lehmi" created="Thu, 18 Sep 2014 06:39:09 +0000"  >&lt;p&gt;You have to move the maven rat config  from pdfbox to fontbox as well to ignore the moved files when checking the license.&lt;/p&gt;</comment>
                            <comment id="14139285" author="jahewson" created="Thu, 18 Sep 2014 18:21:59 +0000"  >&lt;p&gt;Good point - thanks Andreas.&lt;/p&gt;</comment>
                            <comment id="14139288" author="jira-bot" created="Thu, 18 Sep 2014 18:22:28 +0000"  >&lt;p&gt;Commit 1626039 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1626039&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1626039&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2358&quot; title=&quot;ExternalFonts uses classloader of class in font-box&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2358&quot;&gt;&lt;del&gt;PDFBOX-2358&lt;/del&gt;&lt;/a&gt;: Move RAT config for cmap files to FontBox&lt;/p&gt;</comment>
                            <comment id="14139415" author="jira-bot" created="Thu, 18 Sep 2014 20:06:06 +0000"  >&lt;p&gt;Commit 1626066 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1626066&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1626066&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2358&quot; title=&quot;ExternalFonts uses classloader of class in font-box&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2358&quot;&gt;&lt;del&gt;PDFBOX-2358&lt;/del&gt;&lt;/a&gt;: Typo in RAT config for cmap files to FontBox&lt;/p&gt;</comment>
                            <comment id="14139426" author="jahewson" created="Thu, 18 Sep 2014 20:13:04 +0000"  >&lt;p&gt;I will remove PDFBox&apos;s own ResourceLoader class in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2362&quot; title=&quot;Remove .properties file usage in PDFStreamEngine&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2362&quot;&gt;&lt;del&gt;PDFBOX-2362&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12743565">PDFBOX-2379</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12742566">PDFBOX-2362</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 9 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2059z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>