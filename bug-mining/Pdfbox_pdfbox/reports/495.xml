<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:55:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2048] TextExtraction only working after uncompressing with pdftk</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2048</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;From Jonas Karlsson on the user list:&lt;br/&gt;
===&lt;br/&gt;
We have a user with PDFs generated by a commercial transcription service.&lt;br/&gt;
When we try to extract text from these pdfs, pdfbox returns a few empty&lt;br/&gt;
lines. We get this result both from our own code, and when using the&lt;br/&gt;
ExtractText command line tool&lt;/p&gt;

&lt;p&gt;If I specify the non-sequential parser, with the -nonSeq flag, the&lt;br/&gt;
following error is produced:&lt;/p&gt;

&lt;p&gt;Apr 28, 2014 10:35:11 AM org.apache.pdfbox.pdfparser.NonSequentialPDFParser&lt;br/&gt;
validateStreamLength&lt;/p&gt;

&lt;p&gt;SEVERE: The end of the stream doesn&apos;t point to the correct offset, using&lt;br/&gt;
workaround to read the stream&lt;/p&gt;

&lt;p&gt;If I uncompress the file with pdftk, pdfbox is able to successfully extract&lt;br/&gt;
the text.&lt;br/&gt;
===&lt;/p&gt;

&lt;p&gt;I have been given permission to attach the file &quot;committers only&quot;. So don&apos;t pass it around, avoid quoting details from the file. The file is also not rendering. The lengths of the streams are 0.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12711020">PDFBOX-2048</key>
            <summary>TextExtraction only working after uncompressing with pdftk</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Apr 2014 21:11:09 +0000</created>
                <updated>Thu, 17 Mar 2016 19:38:32 +0000</updated>
                            <resolved>Fri, 2 May 2014 08:41:24 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>1.8.6</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                    <component>Rendering</component>
                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13983592" author="tilman" created="Mon, 28 Apr 2014 21:33:02 +0000"  >&lt;p&gt;I can confirm what Jonas said: Trying to render the file as is brings an empty image. I then decompressed the file with qpdf. Now rendering and text extraction works.&lt;/p&gt;

&lt;p&gt;My next step (today or tomorrow) will be to find out whether readUntilEndStream(), aka the &quot;plan B&quot; for stream reading works properly or not.&lt;/p&gt;</comment>
                            <comment id="13983697" author="tilman" created="Mon, 28 Apr 2014 22:49:48 +0000"  >&lt;p&gt;The problem is in COSStream.doDecode(). At at two places, a &quot;bad&quot; decision is made because of length == 0. I changed the code locally so that it skips to the &quot;if no good stream was found&quot; segment. And THEN it works. Will make more tests after getting sleep.&lt;/p&gt;

&lt;p&gt;1) the &quot;don&apos;t bother trying to decode&quot; segment should only be accessed if length AND writtenLength are 0&lt;br/&gt;
2) the first decode loop is tried only if length &amp;gt; 0.&lt;/p&gt;

&lt;p&gt;==&amp;gt; so we jump to the second decode loop, which uses the writtenLength.&lt;/p&gt;</comment>
                            <comment id="13984050" author="tilman" created="Tue, 29 Apr 2014 05:57:43 +0000"  >&lt;p&gt;Change committed in the trunk in rev 1590873, and rev 1590874 in the 1.8 branch.&lt;/p&gt;

&lt;p&gt;Jonas, you can find a new jar file at &lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox/1.8.6-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox/1.8.6-SNAPSHOT/&lt;/a&gt;&lt;br/&gt;
within a few hours. However it will be a few months before this will be released officially.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>389341</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 29 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1v2cf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>389587</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>