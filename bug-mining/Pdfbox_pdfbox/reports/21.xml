<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:52:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-695] COSStream doesn&apos;t actually stream tokens, causing OOM in larger PDF text extraction</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-695</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Text extraction of certain pdfs has been hanging and/or OOMing.  Profiling revealed that PDFStreamEngine.processSubStream() eventually calls PDFStreamParser.getTokens(), which assembles an ArrayList of Tokens.  In some cases, this can use over 1GB of memory.&lt;/p&gt;

&lt;p&gt;The attached patch replaces PDFStreamParser.getTokens() with PDFStreamParser.getTokensIterator(), which streams the tokens, avoiding the ArrayList build.  It only uses this in the call path of org.apache.pdfbox.ExtractText, so the fix may not benefit other usages.  Also, API used by the fix may not be ideal.&lt;/p&gt;</description>
                <environment>All</environment>
        <key id="12462506">PDFBOX-695</key>
            <summary>COSStream doesn&apos;t actually stream tokens, causing OOM in larger PDF text extraction</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="fizx">Kyle Maxwell</reporter>
                        <labels>
                            <label>OOM</label>
                            <label>bug</label>
                    </labels>
                <created>Mon, 19 Apr 2010 23:22:21 +0000</created>
                <updated>Thu, 1 Jul 2010 07:27:23 +0000</updated>
                            <resolved>Thu, 6 May 2010 17:48:12 +0000</resolved>
                                    <version>1.2.0</version>
                                    <fixVersion>1.2.0</fixVersion>
                                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="12858723" author="fizx" created="Mon, 19 Apr 2010 23:23:35 +0000"  >&lt;p&gt;Patch against svn trunk version 935604.&lt;/p&gt;</comment>
                            <comment id="12859009" author="lehmi" created="Tue, 20 Apr 2010 18:25:09 +0000"  >&lt;p&gt;Interesting idea. Can you provide us with an example pdf triggering the OOM?&lt;/p&gt;</comment>
                            <comment id="12859023" author="fizx" created="Tue, 20 Apr 2010 18:58:57 +0000"  >&lt;p&gt;Too big to attach, but &lt;a href=&quot;http://www.hpl.hp.com/techreports/1999/HPL-1999-56.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.hpl.hp.com/techreports/1999/HPL-1999-56.pdf&lt;/a&gt; triggers the issue.&lt;/p&gt;</comment>
                            <comment id="12864858" author="lehmi" created="Thu, 6 May 2010 17:48:12 +0000"  >&lt;p&gt;I&apos;ve made a slight modification to the provided patch. Instead of using a COSStream the PDFStreamEngine uses the PDFStreamParser directly.&lt;/p&gt;

&lt;p&gt;I&apos;ve applied the patch with version 941826.&lt;/p&gt;

&lt;p&gt;Thanks to Kyle for the contribution.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12442242" name="pdfbox-oom-against-935604.patch" size="5497" author="fizx" created="Mon, 19 Apr 2010 23:23:35 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163433</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zjc7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>205435</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>