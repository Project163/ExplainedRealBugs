<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:13:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5359] Operators &quot;q&quot; and &quot;Q&quot; should also preserve text matrices</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5359</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Open the attached file in PDFDebugger and compare to the Adobe Reader or Foxit. The problem is in saving/restoring the graphics state inside text object (which should be allowed according to the documentation and text matrices should be part of the graphics state).&lt;/p&gt;

&lt;p&gt;Therefore I propose the solution to move PDFStreamEngine.textMatrix and PDFStreamEngine.textLineMatrix into PDGraphicsState.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13421239">PDFBOX-5359</key>
            <summary>Operators &quot;q&quot; and &quot;Q&quot; should also preserve text matrices</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="jaromirdobry@kadel.cz">Jarom&#237;r Dobr&#253;</reporter>
                        <labels>
                            <label>PDF2.0</label>
                    </labels>
                <created>Fri, 7 Jan 2022 08:16:43 +0000</created>
                <updated>Fri, 18 Aug 2023 05:46:17 +0000</updated>
                            <resolved>Sat, 5 Aug 2023 10:19:14 +0000</resolved>
                                    <version>2.0.24</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.30</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17470532" author="JIRAUSER283200" created="Fri, 7 Jan 2022 10:53:11 +0000"  >&lt;p&gt;Sorry, I accidentally created an invalid example. The page in the original file was a direct object. This one is correct:&lt;br/&gt;
zapf_dingbats_page_indirect.pdf&lt;/p&gt;</comment>
                            <comment id="17470712" author="lehmi" created="Fri, 7 Jan 2022 15:52:50 +0000"  >&lt;p&gt;Which documentation are you referring to? The PDF reference? If so, which part exactly?&lt;/p&gt;</comment>
                            <comment id="17470720" author="mkl" created="Fri, 7 Jan 2022 16:06:40 +0000"  >&lt;p&gt;In ISO 32000-2:2020 &lt;b&gt;q&lt;/b&gt; and &lt;b&gt;Q&lt;/b&gt; became general graphics state operators while in ISO 32000-2:2017 they still were special graphics state operators.&lt;/p&gt;

&lt;p&gt;Furthermore, ISO 32000-2:2020 section 9.4.1 now requires &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;When the graphics state stack operators &lt;b&gt;q&lt;/b&gt; and &lt;b&gt;Q&lt;/b&gt; (see 8.4.2, &quot;Graphics state stack&quot;) are combined with&lt;br/&gt;
the text object operators &lt;b&gt;BT&lt;/b&gt; and &lt;b&gt;ET&lt;/b&gt;, each pair of matching operators (&lt;b&gt;q&lt;/b&gt; &#8230; &lt;b&gt;Q&lt;/b&gt;) shall be properly&lt;br/&gt;
(separately) nested.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;In particular, therefore, this issue should be labeled &lt;tt&gt;PDF2.0&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17472587" author="JIRAUSER283200" created="Tue, 11 Jan 2022 09:16:05 +0000"  >&lt;p&gt;I was looking into 32000-1:2008. I didn&apos;t noticed that they divide graphics state operators into these two categories, sorry for that.&lt;/p&gt;</comment>
                            <comment id="17748653" author="jira-bot" created="Fri, 28 Jul 2023 15:20:23 +0000"  >&lt;p&gt;Commit 1911327 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1911327&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1911327&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5359&quot; title=&quot;Operators &amp;quot;q&amp;quot; and &amp;quot;Q&amp;quot; should also preserve text matrices&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5359&quot;&gt;&lt;del&gt;PDFBOX-5359&lt;/del&gt;&lt;/a&gt;: move textMatrix and textLineMatrix into graphics state, as suggested by Jarom&#237;r Dobr&#253;&lt;/p&gt;</comment>
                            <comment id="17748654" author="tilman" created="Fri, 28 Jul 2023 15:21:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jaromirdobry%40kadel.cz&quot; class=&quot;user-hover&quot; rel=&quot;jaromirdobry@kadel.cz&quot;&gt;jaromirdobry@kadel.cz&lt;/a&gt; is this what you had in mind? This is only for the trunk, and some minor refactoring and javadoc / code moving is missing.&lt;/p&gt;</comment>
                            <comment id="17749576" author="JIRAUSER283200" created="Tue, 1 Aug 2023 09:02:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; It was year and a half ago so I don&apos;t remember anything but it looks right and if it works with the example then I think it&apos;s ok.&lt;/p&gt;</comment>
                            <comment id="17751292" author="jira-bot" created="Sat, 5 Aug 2023 09:55:01 +0000"  >&lt;p&gt;Commit 1911455 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1911455&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1911455&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5359&quot; title=&quot;Operators &amp;quot;q&amp;quot; and &amp;quot;Q&amp;quot; should also preserve text matrices&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5359&quot;&gt;&lt;del&gt;PDFBOX-5359&lt;/del&gt;&lt;/a&gt;: rearrange code, add javadoc&lt;/p&gt;</comment>
                            <comment id="17751293" author="jira-bot" created="Sat, 5 Aug 2023 09:56:49 +0000"  >&lt;p&gt;Commit 1911456 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1911456&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1911456&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5359&quot; title=&quot;Operators &amp;quot;q&amp;quot; and &amp;quot;Q&amp;quot; should also preserve text matrices&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5359&quot;&gt;&lt;del&gt;PDFBOX-5359&lt;/del&gt;&lt;/a&gt;: move textMatrix and textLineMatrix into graphics state, as suggested by Jarom&#237;r Dobr&#253;&lt;/p&gt;</comment>
                            <comment id="17751295" author="jira-bot" created="Sat, 5 Aug 2023 10:10:53 +0000"  >&lt;p&gt;Commit 1911457 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1911457&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1911457&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5359&quot; title=&quot;Operators &amp;quot;q&amp;quot; and &amp;quot;Q&amp;quot; should also preserve text matrices&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5359&quot;&gt;&lt;del&gt;PDFBOX-5359&lt;/del&gt;&lt;/a&gt;: optimize&lt;/p&gt;</comment>
                            <comment id="17751296" author="jira-bot" created="Sat, 5 Aug 2023 10:10:57 +0000"  >&lt;p&gt;Commit 1911458 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1911458&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1911458&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5359&quot; title=&quot;Operators &amp;quot;q&amp;quot; and &amp;quot;Q&amp;quot; should also preserve text matrices&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5359&quot;&gt;&lt;del&gt;PDFBOX-5359&lt;/del&gt;&lt;/a&gt;: optimize&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13038388" name="zapf_dingbats.pdf" size="1876" author="jaromirdobry@kadel.cz" created="Fri, 7 Jan 2022 08:07:47 +0000"/>
                            <attachment id="13038393" name="zapf_dingbats_page_indirect.pdf" size="7048" author="jaromirdobry@kadel.cz" created="Fri, 7 Jan 2022 10:50:18 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ycaw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>