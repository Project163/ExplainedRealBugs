<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:06:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3942] ClassCastException in getOptionalContentGroups</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3942</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I noticed this issue when trying to remove a set of layers I previously added on a multi-page PDF. I noticed it in version 2.0.6, but might be present in others.&lt;br/&gt;
Here is a stacktrace snippet:&lt;br/&gt;
Caused by: java.lang.ClassCastException: org.apache.pdfbox.cos.COSDictionary cannot be cast to org.apache.pdfbox.cos.COSObject&lt;br/&gt;
at org.apache.pdfbox.pdmodel.graphics.optionalcontent.PDOptionalContentProperties.getOptionalContentGroups(PDOptionalContentProperties.java:180).&lt;/p&gt;

&lt;p&gt;I looked at the source and saw the toDictionary method that seemed to be used in every other place so I just put in in place and it seems to have solved the issue.&lt;/p&gt;

&lt;p&gt;I&apos;ve uploaded the updated file, the one that I&apos;m using, which you can review and include in your project if it&apos;s a valid fix. &lt;/p&gt;</description>
                <environment></environment>
        <key id="13105089">PDFBOX-3942</key>
            <summary>ClassCastException in getOptionalContentGroups</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="vmarchis">Vlad-Tudor Marchis</reporter>
                        <labels>
                            <label>support</label>
                    </labels>
                <created>Tue, 26 Sep 2017 13:41:42 +0000</created>
                <updated>Thu, 2 Nov 2017 21:01:09 +0000</updated>
                            <resolved>Fri, 29 Sep 2017 14:26:08 +0000</resolved>
                                    <version>1.8.13</version>
                    <version>2.0.6</version>
                    <version>2.0.7</version>
                                    <fixVersion>1.8.14</fixVersion>
                    <fixVersion>2.0.8</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16181032" author="jira-bot" created="Tue, 26 Sep 2017 16:12:43 +0000"  >&lt;p&gt;Commit 1809759 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1809759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1809759&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3942&quot; title=&quot;ClassCastException in getOptionalContentGroups&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3942&quot;&gt;&lt;del&gt;PDFBOX-3942&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException, as suggested by Vlad-Tudor Marchis&lt;/p&gt;</comment>
                            <comment id="16181033" author="jira-bot" created="Tue, 26 Sep 2017 16:12:48 +0000"  >&lt;p&gt;Commit 1809760 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1809760&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1809760&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3942&quot; title=&quot;ClassCastException in getOptionalContentGroups&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3942&quot;&gt;&lt;del&gt;PDFBOX-3942&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException, as suggested by Vlad-Tudor Marchis&lt;/p&gt;</comment>
                            <comment id="16181036" author="tilman" created="Tue, 26 Sep 2017 16:14:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=vmarchis&quot; class=&quot;user-hover&quot; rel=&quot;vmarchis&quot;&gt;vmarchis&lt;/a&gt; please check that this was all you had in mind; I saw more differences when doing a diff to your code, I suspect you were using a version even older.&lt;/p&gt;</comment>
                            <comment id="16182185" author="vmarchis" created="Wed, 27 Sep 2017 08:29:23 +0000"  >&lt;p&gt;I think I grabbed the source from an older version by accident. &lt;br/&gt;
I will try the new versions, thank you!&lt;/p&gt;</comment>
                            <comment id="16182738" author="tilman" created="Wed, 27 Sep 2017 15:26:43 +0000"  >&lt;p&gt;To test your application, you can get a snapshot here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.8-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.8-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To see the current source, use svn or see here:&lt;br/&gt;
&lt;a href=&quot;https://svn.apache.org/viewvc/pdfbox/trunk/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/optionalcontent/PDOptionalContentProperties.java?view=markup&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/viewvc/pdfbox/trunk/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/optionalcontent/PDOptionalContentProperties.java?view=markup&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16185897" author="jira-bot" created="Fri, 29 Sep 2017 14:23:45 +0000"  >&lt;p&gt;Commit 1810104 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1810104&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1810104&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3942&quot; title=&quot;ClassCastException in getOptionalContentGroups&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3942&quot;&gt;&lt;del&gt;PDFBOX-3942&lt;/del&gt;&lt;/a&gt;: correct test for getOptionalContentGroups()&lt;/p&gt;</comment>
                            <comment id="16185898" author="jira-bot" created="Fri, 29 Sep 2017 14:23:50 +0000"  >&lt;p&gt;Commit 1810105 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1810105&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1810105&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3942&quot; title=&quot;ClassCastException in getOptionalContentGroups&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3942&quot;&gt;&lt;del&gt;PDFBOX-3942&lt;/del&gt;&lt;/a&gt;: correct test for getOptionalContentGroups()&lt;/p&gt;</comment>
                            <comment id="16185901" author="tilman" created="Fri, 29 Sep 2017 14:26:08 +0000"  >&lt;p&gt;Setting to resolved. If there&apos;s anything please tell it before the end of the weekend because a release build is planned for monday.&lt;/p&gt;</comment>
                            <comment id="16187087" author="jira-bot" created="Sat, 30 Sep 2017 13:28:33 +0000"  >&lt;p&gt;Commit 1810205 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1810205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1810205&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3942&quot; title=&quot;ClassCastException in getOptionalContentGroups&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3942&quot;&gt;&lt;del&gt;PDFBOX-3942&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException, as suggested by Vlad-Tudor Marchis; add test&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12889073" name="PDOptionalContentProperties.java" size="10463" author="vmarchis" created="Tue, 26 Sep 2017 13:41:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 7 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3kjvr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>