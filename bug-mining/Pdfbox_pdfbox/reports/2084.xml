<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:08:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4400] jlink loading police.afm files</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4400</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;hello everybody,&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I&apos;ve got a problem with this trace on jlink on java11 (it works without jlink)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;JavaFX Application &lt;span class=&quot;code-object&quot;&gt;Thread&lt;/span&gt;&quot;&lt;/span&gt; java.lang.ExceptionInInitializerError
&lt;/span&gt;&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.pdmodel.font.PDFont.&amp;lt;init&amp;gt;(PDFont.java:112)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.pdmodel.font.PDType0Font.&amp;lt;init&amp;gt;(PDType0Font.java:176)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:83)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:146)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.text.SetFontAndSize.process(SetFontAndSize.java:60)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:848)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:503)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:477)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:150)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:254)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:245)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:179)
&#160;&#160;&#160;&#160;&#160;&#160;
Caused by: java.lang.RuntimeException: java.io.IOException: org/apache/pdfbox/resources/afm/Courier-Bold.afm not found
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.pdmodel.font.Standard14Fonts.&amp;lt;clinit&amp;gt;(Standard14Fonts.java:97)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 36 more
Caused by: java.io.IOException: org/apache/pdfbox/resources/afm/Courier-Bold.afm not found
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.pdmodel.font.Standard14Fonts.addAFM(Standard14Fonts.java:134)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.pdmodel.font.Standard14Fonts.addAFM(Standard14Fonts.java:103)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; at pdfbox@2.0.13/org.apache.pdfbox.pdmodel.font.Standard14Fonts.&amp;lt;clinit&amp;gt;(Standard14Fonts.java:50)
&#160;&#160;&#160;&#160;&#160;&#160;&#160; ... 36 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I think the problem comes from the fact that while using jlink the classpath does not exist and it need to be loaded by an another way that the classpath one.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;the path should look like something like :&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;// Path path = Paths.get(URI.create(&lt;span class=&quot;code-quote&quot;&gt;&quot;jrt:/pdfbox/org/apache/resources/afm/police.afm&quot;&lt;/span&gt;));&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;modules here is managed by moditect (maven plugin to help creating module-info descriptor) and contain all dependancies of the project&lt;/p&gt;</description>
                <environment>java11 jlink windows moditect</environment>
        <key id="13203082">PDFBOX-4400</key>
            <summary>jlink loading police.afm files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="yboompook">kevin guerin</reporter>
                        <labels>
                            <label>jdk9</label>
                    </labels>
                <created>Fri, 7 Dec 2018 16:26:49 +0000</created>
                <updated>Thu, 28 Feb 2019 17:45:01 +0000</updated>
                            <resolved>Wed, 12 Dec 2018 08:32:45 +0000</resolved>
                                    <version>2.0.13</version>
                                    <fixVersion>2.0.14</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16713060" author="tilman" created="Fri, 7 Dec 2018 16:32:21 +0000"  >&lt;p&gt;&lt;tt&gt;Paths&lt;/tt&gt; doesn&apos;t exist in jdk6 which we do support for 2.0.*. And with jdk7 I get &quot;FileSystemNotFoundException: Provider &quot;jrt&quot; not installed&quot;.&lt;/p&gt;</comment>
                            <comment id="16714429" author="yboompook" created="Mon, 10 Dec 2018 08:44:35 +0000"  >&lt;p&gt;I didn&apos;t know you were supporting till jdk 1.6. I think this problem should be resolved more on a 3.0 version than 2.0.* then, because this is blocking the use of pdfBox with jlink on java 9/1*. I think jlink will be more and more used for java application.&lt;/p&gt;</comment>
                            <comment id="16714489" author="tilman" created="Mon, 10 Dec 2018 09:35:48 +0000"  >&lt;p&gt;Possible solution:&lt;br/&gt;
 &lt;a href=&quot;https://openjdk.java.net/jeps/261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://openjdk.java.net/jeps/261&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The &lt;tt&gt;ClassLoader::getResource*&lt;/tt&gt; methods can no longer be used to locate JDK-internal resources other than class files. Module-private non-class resources can be read via the &lt;tt&gt;Class::getResource*&lt;/tt&gt;&lt;font color=&quot;#000000&quot;&gt; methods, the &lt;/font&gt;&lt;tt&gt;Module::getResourceAsStream&lt;/tt&gt;&lt;font color=&quot;#000000&quot;&gt; method or via the &lt;/font&gt;&lt;tt&gt;jrt:&lt;/tt&gt;&lt;font color=&quot;#000000&quot;&gt; URL scheme and filesystem defined in &lt;/font&gt;&lt;a href=&quot;https://openjdk.java.net/jeps/220&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JEP 220&lt;/a&gt;&lt;font color=&quot;#000000&quot;&gt;.&lt;/font&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Changing&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ttfName = &lt;span class=&quot;code-quote&quot;&gt;&quot;org/apache/pdfbox/resources/ttf/LiberationSans-Regular.ttf&quot;&lt;/span&gt;;
URL url = FontMapper.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader().getResource(ttfName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ttfName = &lt;span class=&quot;code-quote&quot;&gt;&quot;/org/apache/pdfbox/resources/ttf/LiberationSans-Regular.ttf&quot;&lt;/span&gt;;
URL url = FontMapper.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getResource(ttfName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;seems to work.&lt;/p&gt;</comment>
                            <comment id="16714600" author="yboompook" created="Mon, 10 Dec 2018 11:33:37 +0000"  >&lt;p&gt;I think I find what is needed to change, however, I need a info what is the jdk to compile the source&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I think it should work with this change, however, with this change I guess it won&apos;t work without jlink&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
         URI uri = URI.create(&lt;span class=&quot;code-quote&quot;&gt;&quot;jrt:/modules/pdfbox/org/apache/pdfbox/reources/afm/&quot;&lt;/span&gt; + afmName + &lt;span class=&quot;code-quote&quot;&gt;&quot;.pdf&quot;&lt;/span&gt;);
        URL url = uri.toURL();

&lt;span class=&quot;code-comment&quot;&gt;//        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourceName = &lt;span class=&quot;code-quote&quot;&gt;&quot;org/apache/pdfbox/resources/afm/&quot;&lt;/span&gt; + afmName + &lt;span class=&quot;code-quote&quot;&gt;&quot;.afm&quot;&lt;/span&gt;;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//        URL url = PDType1Font.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader().getResource(resourceName);
&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16714660" author="tilman" created="Mon, 10 Dec 2018 12:33:15 +0000"  >&lt;p&gt;You can compile with any jdk you want. On the apache servers, we compile with 8, 9 and 11. The release is done with 8. But you should try to use the solution I mentioned. I&apos;ll test this and commit the changes soon.&lt;/p&gt;</comment>
                            <comment id="16714698" author="jira-bot" created="Mon, 10 Dec 2018 13:12:24 +0000"  >&lt;p&gt;Commit 1848574 from tilman@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848574&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848574&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4400&quot; title=&quot;jlink loading police.afm files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4400&quot;&gt;&lt;del&gt;PDFBOX-4400&lt;/del&gt;&lt;/a&gt;: don&apos;t use getClassLoader() to get resources because of problems with jlink&lt;/p&gt;</comment>
                            <comment id="16714700" author="jira-bot" created="Mon, 10 Dec 2018 13:13:34 +0000"  >&lt;p&gt;Commit 1848575 from tilman@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848575&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848575&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4400&quot; title=&quot;jlink loading police.afm files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4400&quot;&gt;&lt;del&gt;PDFBOX-4400&lt;/del&gt;&lt;/a&gt;: don&apos;t use getClassLoader() to get resources because of problems with jlink&lt;/p&gt;</comment>
                            <comment id="16714731" author="jira-bot" created="Mon, 10 Dec 2018 13:37:59 +0000"  >&lt;p&gt;Commit 1848579 from tilman@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1848579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1848579&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4400&quot; title=&quot;jlink loading police.afm files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4400&quot;&gt;&lt;del&gt;PDFBOX-4400&lt;/del&gt;&lt;/a&gt;: don&apos;t use getClassLoader() to get resources because of problems with jlink&lt;/p&gt;</comment>
                            <comment id="16714788" author="tilman" created="Mon, 10 Dec 2018 14:30:30 +0000"  >&lt;p&gt;Please try with a snapshot and give feedback whether it works now, or if there are any new exceptions.&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.14-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.14-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16718341" author="zimmi" created="Wed, 12 Dec 2018 01:39:25 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, I had the same issue and can confirm that your commit fixes it. Thanks a ton!&lt;/p&gt;

&lt;p&gt;Switching to Class::getResource* is actually the preferred fix, as can be seen &lt;a href=&quot;https://stackoverflow.com/questions/45166757/loading-classes-and-resources-in-java-9/45173837#45173837&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="16718607" author="tilman" created="Wed, 12 Dec 2018 08:32:45 +0000"  >&lt;p&gt;Thanks for the feedback!&lt;/p&gt;</comment>
                            <comment id="16718854" author="yboompook" created="Wed, 12 Dec 2018 11:41:20 +0000"  >&lt;p&gt;just change&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ttfName = &lt;span class=&quot;code-quote&quot;&gt;&quot;org/apache/pdfbox/resources/ttf/LiberationSans-Regular.ttf&quot;&lt;/span&gt;;
URL url = FontMapper.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader().getResource(ttfName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; ttfName = &lt;span class=&quot;code-quote&quot;&gt;&quot;/org/apache/pdfbox/resources/ttf/LiberationSans-Regular.ttf&quot;&lt;/span&gt;;
URL url = FontMapper.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getResource(ttfName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;doesn&apos;t work with java11 and jlink&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;change&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
URL url = PDType1Font.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getClassLoader().getResource(resourceName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
URL url = PDType1Font.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getResource(resourceName);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;doesn&apos;t in my test&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;my final working test is&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
        Path path = Paths.get(URI.create(&lt;span class=&quot;code-quote&quot;&gt;&quot;jrt:/modules/pdfbox/org/apache/pdfbox/resources/afm/&quot;&lt;/span&gt; + afmName + &lt;span class=&quot;code-quote&quot;&gt;&quot;.afm&quot;&lt;/span&gt;));

&lt;span class=&quot;code-comment&quot;&gt;//        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; resourceName = &lt;span class=&quot;code-quote&quot;&gt;&quot;org/apache/pdfbox/resources/afm/&quot;&lt;/span&gt; + afmName + &lt;span class=&quot;code-quote&quot;&gt;&quot;.afm&quot;&lt;/span&gt;;
&lt;/span&gt;&lt;span class=&quot;code-comment&quot;&gt;//        URL url = PDType1Font.&lt;span class=&quot;code-keyword&quot;&gt;class.&lt;/span&gt;getResource(resourceName);
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (path != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;)
        {
            InputStream afmStream = Files.newInputStream(path);
            &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt;
            {
                AFMParser parser = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; AFMParser(afmStream);
                FontMetrics metric = parser.parse(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;);
                STANDARD14_AFM_MAP.put(fontName, metric);
            }
            &lt;span class=&quot;code-keyword&quot;&gt;finally&lt;/span&gt;
            {
                afmStream.close();
            }
        }
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
        {
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(path + &lt;span class=&quot;code-quote&quot;&gt;&quot; not found&quot;&lt;/span&gt;);
        }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;the problem is its not generic because you can name the modules part of the link as you want to (the name of the directory is in the command of jlink). therefore people who want to use jlink need to change this. may be passing throw a properties file could do the job?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;is PdfBox 3.0 means to work with java11 and jlink?&lt;/p&gt;</comment>
                            <comment id="16718876" author="tilman" created="Wed, 12 Dec 2018 11:55:53 +0000"  >&lt;p&gt;PDFBox 3.0 is expected to work with jdk7. What could be done would be to add &quot;jrt:&quot; if needed.&lt;/p&gt;

&lt;p&gt;How come that Thomas had the same problem but that it works for him now?&lt;/p&gt;

&lt;p&gt;Can you tell what steps are to be done to reproduce the effect? Please include everything.&lt;/p&gt;</comment>
                            <comment id="16718973" author="zimmi" created="Wed, 12 Dec 2018 13:34:34 +0000"  >&lt;p&gt;I&apos;m also using the &lt;a href=&quot;https://github.com/moditect/moditect&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;moditect-maven-plugin&lt;/a&gt; to generate module descriptors for pdfbox, fontbox, xmpbox and JAXB (javax.activation-api lacks a module descriptor). I&apos;ll append my configuration, maybe you are doing something different, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yboompook&quot; class=&quot;user-hover&quot; rel=&quot;yboompook&quot;&gt;yboompook&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;To verify the fix worked, I did:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;git clone https://github.com/apache/pdfbox.git&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;then inside the pdfbox directory&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;mvn clean install&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and then changed my project to depend on pdfbox version 3.0.0-SNAPSHOT.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here is the relevant part of the configuration for the moditect-maven-plugin (this is for the 3.0.0-SNAPSHOT version of pdfbox, fontbox added a package recently, so that also needs to be exported):&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;module&amp;gt;
&#160;&#160;&#160; &amp;lt;artifact&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;groupId&amp;gt;org.apache.pdfbox&amp;lt;/groupId&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;artifactId&amp;gt;pdfbox&amp;lt;/artifactId&amp;gt;
&#160;&#160;&#160; &amp;lt;/artifact&amp;gt;
&#160;&#160;&#160; &amp;lt;moduleInfoSource&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; module pdfbox {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; org.bouncycastle.pkix;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; org.bouncycastle.provider;

&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires transitive java.desktop;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires transitive java.xml;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires transitive fontbox;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires transitive org.apache.commons.logging;

&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.contentstream;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.color;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.graphics;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.markedcontent;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.state;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.text;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.cos;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.filter;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.io;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.multipdf;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdfparser;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdfwriter;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.common;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.common.filespecification;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.common.function;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.common.function.type4;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.documentinterchange.logicalstructure;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.documentinterchange.markedcontent;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.documentinterchange.prepress;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.documentinterchange.taggedpdf;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.encryption;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.fdf;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.font;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.font.encoding;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics.blend;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics.color;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics.form;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics.image;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics.optionalcontent;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics.pattern;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics.shading;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.graphics.state;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.action;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.annotation;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.annotation.handlers;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.annotation.layout;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.digitalsignature;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.digitalsignature.visible;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.documentnavigation.destination;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.documentnavigation.outline;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.form;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.measurement;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.pagenavigation;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.pdmodel.interactive.viewerpreferences;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.printing;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.rendering;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.text;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.util;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.pdfbox.util.filetypedetector;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
&#160;&#160;&#160; &amp;lt;/moduleInfoSource&amp;gt;
&amp;lt;/module&amp;gt;
&amp;lt;module&amp;gt;
&#160;&#160;&#160; &amp;lt;artifact&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;groupId&amp;gt;org.apache.pdfbox&amp;lt;/groupId&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;artifactId&amp;gt;fontbox&amp;lt;/artifactId&amp;gt;
&#160;&#160;&#160; &amp;lt;/artifact&amp;gt;
&#160;&#160;&#160; &amp;lt;moduleInfoSource&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; module fontbox {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires org.apache.commons.logging;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires transitive java.desktop;

&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.afm;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.cff;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.cmap;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.encoding;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.pfb;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.ttf;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.ttf.gsub;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.ttf.model;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.ttf.table.common;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.ttf.table.gsub;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.type1;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.util;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.fontbox.util.autodetect;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
&#160;&#160;&#160; &amp;lt;/moduleInfoSource&amp;gt;
&amp;lt;/module&amp;gt;
&amp;lt;module&amp;gt;
&#160;&#160;&#160; &amp;lt;artifact&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;groupId&amp;gt;org.apache.pdfbox&amp;lt;/groupId&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;artifactId&amp;gt;xmpbox&amp;lt;/artifactId&amp;gt;
&#160;&#160;&#160; &amp;lt;/artifact&amp;gt;
&#160;&#160;&#160; &amp;lt;moduleInfoSource&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; module xmpbox {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires java.xml.bind;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires transitive java.xml;

&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.xmpbox;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.xmpbox.schema;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.xmpbox.type;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports org.apache.xmpbox.xml;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
&#160;&#160;&#160; &amp;lt;/moduleInfoSource&amp;gt;
&amp;lt;/module&amp;gt;
&amp;lt;!--
javax:activation:javax.activation-api:1.2.0 is
using removed JDK classes, but it still works somehow:
https:&lt;span class=&quot;code-comment&quot;&gt;//github.com/eclipse-ee4j/jaxb-ri/issues/1236
&lt;/span&gt;
Remove &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; when JAXB is using a version that has a
proper module-info.java.
--&amp;gt;
&amp;lt;module&amp;gt;
&#160;&#160;&#160; &amp;lt;artifact&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;groupId&amp;gt;javax.activation&amp;lt;/groupId&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; &amp;lt;artifactId&amp;gt;javax.activation-api&amp;lt;/artifactId&amp;gt;
&#160;&#160;&#160; &amp;lt;/artifact&amp;gt;
&#160;&#160;&#160; &amp;lt;moduleInfoSource&amp;gt;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; module java.activation {
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires java.logging;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires transitive java.datatransfer;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; requires transitive java.desktop;

&#160;&#160;&#160;&#160;&#160;&#160;&#160; exports javax.activation;
&#160;&#160;&#160;&#160;&#160;&#160;&#160; }
&#160;&#160;&#160; &amp;lt;/moduleInfoSource&amp;gt;
&amp;lt;/module&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Edit: I know the module names are bad (should be org.apache.pdfbox, org.apache.fontbox etc.) but they need to work as automatic modules inside my IDE as well for now.&lt;/p&gt;</comment>
                            <comment id="16719155" author="yboompook" created="Wed, 12 Dec 2018 16:30:33 +0000"  >&lt;p&gt;I&apos;ll see that tomorow morning when I&apos;ll have time. It might be because I&apos;m using 2.0.13 version instead of 3.0.0.snapshot or it might be because I&apos;m using jlink&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;do you use jlink?&lt;/p&gt;</comment>
                            <comment id="16719172" author="zimmi" created="Wed, 12 Dec 2018 16:47:32 +0000"  >&lt;p&gt;Yes, after creating all those module descriptors, all modules are fed to jlink to create a modular runtime.&lt;/p&gt;

&lt;p&gt;And you should definitely try the snapshot, 2.0.13 doesn&apos;t include the fix yet.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 48 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|s01afs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>