<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:58:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2296] Wrong stream length</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2296</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The file of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2048&quot; title=&quot;TextExtraction only working after uncompressing with pdftk&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2048&quot;&gt;&lt;del&gt;PDFBOX-2048&lt;/del&gt;&lt;/a&gt; has a wrong encoded font length, it is 4412 in the PDF but it is really about 27350. This wrong length is used to read the encoded font stream and this results in further trouble (EOF).&lt;/p&gt;

&lt;p&gt;The problem is that the wrong length is passed to createFilteredStream() instead of just calling it without parameters. In cosStream.doDecode() unFilteredStream = filteredStream (there is a FIXME there!!!), and in doDecode(COSName filterName, int filterIndex) unFilteredStream.getLength() is used, which returns the expectedLength.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12737579">PDFBOX-2296</key>
            <summary>Wrong stream length</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Thu, 28 Aug 2014 22:14:48 +0000</created>
                <updated>Sat, 7 Feb 2015 22:47:46 +0000</updated>
                            <resolved>Thu, 16 Oct 2014 17:07:13 +0000</resolved>
                                    <version>1.8.6</version>
                    <version>1.8.7</version>
                    <version>1.8.8</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.8</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14114927" author="jira-bot" created="Fri, 29 Aug 2014 06:38:01 +0000"  >&lt;p&gt;Commit 1621245 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1621245&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1621245&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2296&quot; title=&quot;Wrong stream length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2296&quot;&gt;&lt;del&gt;PDFBOX-2296&lt;/del&gt;&lt;/a&gt;: don&apos;t call createFilteredStream() with an expected length if we know that length is wrong; code cleanup&lt;/p&gt;</comment>
                            <comment id="14115718" author="jira-bot" created="Fri, 29 Aug 2014 19:41:43 +0000"  >&lt;p&gt;Commit 1621371 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1621371&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1621371&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2296&quot; title=&quot;Wrong stream length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2296&quot;&gt;&lt;del&gt;PDFBOX-2296&lt;/del&gt;&lt;/a&gt;: DRY refactoring of createFilteredStream()&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2262&quot; title=&quot;Remove usage of AWT fonts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2262&quot;&gt;&lt;del&gt;PDFBOX-2262&lt;/del&gt;&lt;/a&gt;: don&apos;t lose stream contents when changing filters, as suggested by Dominic Tubach&lt;/p&gt;</comment>
                            <comment id="14115735" author="tilman" created="Fri, 29 Aug 2014 19:57:46 +0000"  >&lt;p&gt;The fix I did in the morning won&apos;t fix all cases for the old parser, including the file above: the length value isn&apos;t known, but the COSObject is. createFilteredStream() is called with COSObject (&quot;89 0 R&quot;) and the actual length will be set later. And after that time, RandomAccessFileOutputStream.getLength() will return a wrong result.&lt;/p&gt;

&lt;p&gt;In theory we could fix this by going through all the objects in the PDF, check which ones are streams and then correct the length. Or we could change getLength() so that it first returns the written length, and only returns an expected length if a written length doesn&apos;t exist yet.&lt;/p&gt;</comment>
                            <comment id="14137734" author="jira-bot" created="Wed, 17 Sep 2014 18:48:57 +0000"  >&lt;p&gt;Commit 1625743 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1625743&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1625743&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2296&quot; title=&quot;Wrong stream length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2296&quot;&gt;&lt;del&gt;PDFBOX-2296&lt;/del&gt;&lt;/a&gt;: don&apos;t call createFilteredStream() with an expected length if we know that length is wrong&lt;/p&gt;</comment>
                            <comment id="14137956" author="jira-bot" created="Wed, 17 Sep 2014 20:46:30 +0000"  >&lt;p&gt;Commit 1625817 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1625817&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1625817&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2296&quot; title=&quot;Wrong stream length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2296&quot;&gt;&lt;del&gt;PDFBOX-2296&lt;/del&gt;&lt;/a&gt;: fix documentation&lt;/p&gt;</comment>
                            <comment id="14173932" author="jira-bot" created="Thu, 16 Oct 2014 16:51:08 +0000"  >&lt;p&gt;Commit 1632382 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1632382&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1632382&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2296&quot; title=&quot;Wrong stream length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2296&quot;&gt;&lt;del&gt;PDFBOX-2296&lt;/del&gt;&lt;/a&gt;: check and fix the length of all streams where /Length value has become known after reading&lt;/p&gt;</comment>
                            <comment id="14173937" author="tilman" created="Thu, 16 Oct 2014 16:53:42 +0000"  >&lt;p&gt;This fix allows the rendering of the attached five files (from a TIKA test set, see &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1419&quot; title=&quot;Upgrade to PDFBox 1.8.7&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1419&quot;&gt;&lt;del&gt;TIKA-1419&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1442&quot; title=&quot;Upgrade to PDFBox 1.8.8&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1442&quot;&gt;&lt;del&gt;TIKA-1442&lt;/del&gt;&lt;/a&gt;) with the &quot;old&quot; parser. (They can&apos;t be read with the nonSeq parser because the offsets are wrong)&lt;/p&gt;

&lt;p&gt;A solution that removes the &quot;old&quot; should be able to render the five attached files.&lt;/p&gt;</comment>
                            <comment id="14173961" author="jira-bot" created="Thu, 16 Oct 2014 17:06:54 +0000"  >&lt;p&gt;Commit 1632387 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1632387&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1632387&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2296&quot; title=&quot;Wrong stream length&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2296&quot;&gt;&lt;del&gt;PDFBOX-2296&lt;/del&gt;&lt;/a&gt;: check and fix the length of all streams where /Length value has become known after reading&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12706914">PDFBOX-2016</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12714489">PDFBOX-2079</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12773257">PDFBOX-2674</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12675303" name="063344.pdf" size="108444" author="tilman" created="Thu, 16 Oct 2014 16:45:08 +0000"/>
                            <attachment id="12675304" name="156339.pdf" size="151947" author="tilman" created="Thu, 16 Oct 2014 16:45:08 +0000"/>
                            <attachment id="12675305" name="359669.pdf" size="452794" author="tilman" created="Thu, 16 Oct 2014 16:45:08 +0000"/>
                            <attachment id="12675306" name="416089.pdf" size="62026" author="tilman" created="Thu, 16 Oct 2014 16:45:08 +0000"/>
                            <attachment id="12675307" name="490554.pdf" size="116442" author="tilman" created="Thu, 16 Oct 2014 16:45:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 5 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1zgmn:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>