<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:53:15 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1079] TestCOSFloat occasionally fails: Is something wrong with my machine?</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1079</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;In org.apache.pdfbox.cos.TestCOSFloat, testEquals() fails when num is close to 1.0f.  &lt;/p&gt;

&lt;p&gt;I originally encountered the problem as an occasional failure while building the unmodified source code.&lt;/p&gt;

&lt;p&gt;I can get the failure consistently by setting num to 1.0f explicitly in the code and running the test.  &lt;/p&gt;

&lt;p&gt;The problem occurs on this line, on the last iteration of the loop, when i is 280000f and num is close to 280000f.&lt;br/&gt;
COSFloat test4 = new COSFloat(num + 0.01f);&lt;/p&gt;

&lt;p&gt;It passes consistently on my machine if I change this value to 0.02f.&lt;/p&gt;</description>
                <environment>Windows Vista, HP Pavilion, NetBeans, Java is probably version 1.6.0_25</environment>
        <key id="12515800">PDFBOX-1079</key>
            <summary>TestCOSFloat occasionally fails: Is something wrong with my machine?</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="gbm.bailleul">Guillaume Bailleul</assignee>
                                    <reporter username="aaronstewart">Aaron Stewart</reporter>
                        <labels>
                    </labels>
                <created>Fri, 29 Jul 2011 19:33:08 +0000</created>
                <updated>Mon, 15 Aug 2011 09:43:10 +0000</updated>
                            <resolved>Mon, 15 Aug 2011 09:43:10 +0000</resolved>
                                    <version>1.7.0</version>
                                    <fixVersion>1.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="1800">0.5h</timeoriginalestimate>
                            <timeestimate seconds="1800">0.5h</timeestimate>
                                        <comments>
                            <comment id="13073336" author="gbm.bailleul" created="Sun, 31 Jul 2011 09:49:51 +0000"  >&lt;p&gt;No that&apos;s not your machine.&lt;/p&gt;

&lt;p&gt;I encountered that problem, but it was disappearing when I was looking at it. With Aaron&apos;s description, it was easier to understand why it was not so frequent.&lt;/p&gt;

&lt;p&gt;But the value of 0.02 is not enough, this code is an example where 2 consecutively coded float are distant of more than 0.2 :&lt;/p&gt;

&lt;p&gt;int si = 1216919551;&lt;br/&gt;
float sf = Float.intBitsToFloat(si);&lt;br/&gt;
int ei = si+1;&lt;br/&gt;
float ef1 = Float.intBitsToFloat(ei);&lt;br/&gt;
float ef2 = sf+ 0.01f;&lt;br/&gt;
System.out.println(sf);&lt;br/&gt;
System.out.println(ef1);&lt;br/&gt;
System.out.println(ef2);&lt;/p&gt;

&lt;p&gt;I propose a patch that use Float method to create 2 consecutive float (if I understood enough float coding). This patch target the same line.&lt;/p&gt;</comment>
                            <comment id="13073338" author="gbm.bailleul" created="Sun, 31 Jul 2011 09:50:47 +0000"  >&lt;p&gt;sha1sum &lt;br/&gt;
ea954c6bd4c0c5196a694840df86a2253d8b0ed9  testfloat.patch&lt;/p&gt;</comment>
                            <comment id="13080365" author="gbm.bailleul" created="Sat, 6 Aug 2011 07:02:52 +0000"  >&lt;p&gt;applied patch&lt;/p&gt;</comment>
                            <comment id="13084984" author="gbm.bailleul" created="Mon, 15 Aug 2011 07:47:04 +0000"  >&lt;p&gt;I think the problem on testEquals does not exists anymore.&lt;/p&gt;

&lt;p&gt;But sometimes, testHashCode fails.&lt;/p&gt;

&lt;p&gt;There is the same equality test than in testEquals. Shouldn&apos;t it be a comparison on hashCode result ?&lt;/p&gt;</comment>
                            <comment id="13084988" author="gbm.bailleul" created="Mon, 15 Aug 2011 07:57:36 +0000"  >&lt;p&gt;Patch instable TestCOSFloat.testHashCode&lt;/p&gt;

&lt;p&gt;sha1sum&lt;br/&gt;
d5ef0713ea53dbfefd161fde0e85ec905f64cd92  testHashCode.patch&lt;/p&gt;</comment>
                            <comment id="13085009" author="gbm.bailleul" created="Mon, 15 Aug 2011 09:43:10 +0000"  >&lt;p&gt;patch applied&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12490414" name="testHashCode.patch" size="755" author="gbm.bailleul" created="Mon, 15 Aug 2011 07:57:36 +0000"/>
                            <attachment id="12488349" name="testfloat.patch" size="669" author="gbm.bailleul" created="Sun, 31 Jul 2011 09:50:47 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2824</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 14 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zm5j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>205891</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>