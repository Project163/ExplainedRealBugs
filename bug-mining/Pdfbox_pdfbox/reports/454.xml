<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:55:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1969] JPEGFactory bug</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1969</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Attempted to run the RubberStampWithImage sample and received the following errors:&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.NullPointerException&lt;br/&gt;
   at org.apache.pdfbox.pdmodel.graphics.image.JPEGFactory.createFromStream(JPEGFactory.java:72)&lt;br/&gt;
   at org.apache.pdfbox.examples.pdmodel.RubberStampWithImage.doIt(RubberStampWithImage.java:93)&lt;br/&gt;
   at org.apache.pdfbox.examples.pdmodel.RubberStampWithImage.main(RubberStampWithImage.java:185)&lt;/p&gt;

&lt;p&gt;This happens with any jog I tested with.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12699526">PDFBOX-1969</key>
            <summary>JPEGFactory bug</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sketh24">Steven Burg</reporter>
                        <labels>
                    </labels>
                <created>Fri, 7 Mar 2014 22:47:21 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:36 +0000</updated>
                            <resolved>Tue, 18 Mar 2014 11:21:56 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13924695" author="jahewson" created="Sat, 8 Mar 2014 03:30:08 +0000"  >&lt;p&gt;There&apos;s no unit test for this behaviour so it was inadvertently broken when JPEGFactory was added. I&apos;ll fix this and add a unit test so that it doesn&apos;t break in the future.&lt;/p&gt;</comment>
                            <comment id="13925028" author="jahewson" created="Sat, 8 Mar 2014 22:12:08 +0000"  >&lt;p&gt;Fixed in trunk in revision 1575618 and added a unit test.&lt;/p&gt;</comment>
                            <comment id="13935328" author="tilman" created="Fri, 14 Mar 2014 17:51:05 +0000"  >&lt;p&gt;While writing the test for the CCITTFactory (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1983&quot; title=&quot;Unable to add TIF images, CCITTFactory not working&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1983&quot;&gt;&lt;del&gt;PDFBOX-1983&lt;/del&gt;&lt;/a&gt;), I thought I&apos;d write a test for this class as well, before reading here / noticing that there was already a test in the example package.&lt;/p&gt;

&lt;p&gt;The test for createFromImage() failed with the now familiar &quot;Stream was not read&quot; exception. I&apos;ll correct that one this weekend unless someone else does it first.&lt;/p&gt;

&lt;p&gt;I remember that someone said on the dev list that the signature images didn&apos;t appear. This might be caused by this bug.&lt;/p&gt;

&lt;p&gt;In the meantime, I have committed a first version of the test in rev 1577622, with only one of two tests active. &lt;/p&gt;</comment>
                            <comment id="13935702" author="tilman" created="Fri, 14 Mar 2014 21:41:35 +0000"  >&lt;p&gt;I first isolated the &quot;JPEG only&quot; stuff to deal with shorter code.&lt;/p&gt;

&lt;p&gt;I then applied a similar change than I did in CCITT. The test now works. An image-to-pdf test I did (temporarly modified the example to use that method) also worked. What I couldn&apos;t test is whether the alpha thing works, i.e. whether it is possible to put a semi transparent jpeg in a PDF.&lt;/p&gt;

&lt;p&gt;This was done in rev 1577734 and rev 1577735. John, please review this, if you want.&lt;/p&gt;</comment>
                            <comment id="13935918" author="jahewson" created="Sat, 15 Mar 2014 01:22:40 +0000"  >&lt;p&gt;Thanks, that&apos;s great. I&apos;ve never encountered a transparent JPEG, though they are part of the spec. Maybe I can make one in Photoshop.&lt;/p&gt;</comment>
                            <comment id="13936225" author="tilman" created="Sat, 15 Mar 2014 15:23:38 +0000"  >&lt;p&gt;I tried by creating an ARGB image with partially set alpha values. It fails in ImageFactory.getAlphaImage() with an exception. It asks whether the color model created in getAlphaImage() is compatible with the raster from getAlphaRaster(), and looking at the JDK sources this is never true if it is not a ComponentSampleModel. However the sample model of the alpha raster is a SinglePixelPackedSampleModel. Makes me wonder if this has &lt;em&gt;ever&lt;/em&gt; worked - the 1.8 code also combines the alphaRaster with a ComponentColorModel.&lt;/p&gt;

&lt;p&gt;I did some more changes in rev 1577878:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;removed that &quot;jpeg only&quot; part in JPEGFactory per DRY and replaced it with a call to ImageIOUtils&lt;/li&gt;
	&lt;li&gt;prepared a test for ARGB, but disabled it&lt;/li&gt;
	&lt;li&gt;removed a line in createJPEG() that I had inserted and that made no sense&lt;/li&gt;
	&lt;li&gt;added a graphics.dispose() call in ImageFactory&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13938571" author="jahewson" created="Mon, 17 Mar 2014 23:49:33 +0000"  >&lt;p&gt;Ok, well if someone really wants support for JPEGs which use ARGB we can follow up on this, given that it has probably never worked (quite a bit of the 1.8 image parsing code was like that).&lt;/p&gt;</comment>
                            <comment id="13938572" author="jahewson" created="Mon, 17 Mar 2014 23:50:26 +0000"  >&lt;p&gt;Shall we close this issue?&lt;/p&gt;</comment>
                            <comment id="13942231" author="tilman" created="Thu, 20 Mar 2014 20:24:20 +0000"  >&lt;p&gt;I added did some refactoring of the tests per DRY, in rev 1579729. And I added a comment that the current extraction of the alpha part just doesn&apos;t work, and why.&lt;/p&gt;</comment>
                            <comment id="13992499" author="tilman" created="Thu, 8 May 2014 04:33:17 +0000"  >&lt;p&gt;Follow-up in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2067&quot; title=&quot;Error creating JPEG image with SMask&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2067&quot;&gt;&lt;del&gt;PDFBOX-2067&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12712956">PDFBOX-2067</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>377873</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 28 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1t41r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>378165</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>