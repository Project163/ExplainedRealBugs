<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1663] Hello World using a TrueType font ArrayIndexOutOfBoundsException</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1663</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The small example &#8220;Hello World using a TrueType font&#8221; on the pdfbox website does not work when selecting the Windows font &#8220;cour.ttf&#8221; (Courier New). It works with the non-fixed width fonts that I have tried (Arial, Albertus, Bookman Old Style, Garamond, Palatino, Segoe UI) and it works with Lucida Console, a fixed width font, but not Courier New.&lt;/p&gt;

&lt;p&gt;This is the error:&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.lang.ArrayIndexOutOfBoundsException: 5&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadDescriptorDictionary(PDTrueTypeFont.java:418)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:201)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:177)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:158)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:145)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.loadTTF(PDTrueTypeFont.java:132)&lt;br/&gt;
        at pdfbox_ttf_test.Main.main(Main.java:31)&lt;/p&gt;

&lt;p&gt;To me this is the same error as &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1335&quot; title=&quot;ArrayIndexOutOfBoundsException while loading ttf font&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1335&quot;&gt;&lt;del&gt;PDFBOX-1335&lt;/del&gt;&lt;/a&gt;, except maybe it is still not fixed for all fonts.&lt;/p&gt;

&lt;p&gt;I am using Windows 7 SP1 32-bit, pdfbox 1.8.2., NetBeans IDE 6.9.1&lt;/p&gt;

&lt;p&gt;This is my source:&lt;br/&gt;
----------------------- &amp;lt;snip&amp;gt; -------------------------&lt;br/&gt;
/*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;To change this template, choose Tools | Templates&lt;/li&gt;
	&lt;li&gt;and open the template in the editor.&lt;br/&gt;
*/&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;package pdfbox_ttf_test;&lt;br/&gt;
import org.apache.pdfbox.pdmodel.PDDocument;&lt;br/&gt;
import org.apache.pdfbox.pdmodel.PDPage;&lt;br/&gt;
import org.apache.pdfbox.pdmodel.font.PDFont;&lt;br/&gt;
import org.apache.pdfbox.pdmodel.font.PDTrueTypeFont;&lt;br/&gt;
import org.apache.pdfbox.pdmodel.edit.PDPageContentStream;&lt;br/&gt;
import org.apache.pdfbox.exceptions.COSVisitorException;&lt;br/&gt;
import java.io.IOException;&lt;/p&gt;

&lt;p&gt;/**&lt;br/&gt;
*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@author Duncan&lt;br/&gt;
*/&lt;br/&gt;
public class Main {&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;@param args the command line arguments&lt;br/&gt;
     */&lt;br/&gt;
    public static void main(String[] args) throws IOException, COSVisitorException 
{
        // TODO code application logic here
        PDDocument document = new PDDocument();
        PDPage page = new PDPage();
        document.addPage( page );

        // Create a new font object by loading a TrueType font into the document
        PDFont font = PDTrueTypeFont.loadTTF(document, &quot;C:\\Windows\\Fonts\\cour.ttf&quot;);

        // Start a new content stream which will &quot;hold&quot; the to be created content
        PDPageContentStream contentStream = new PDPageContentStream(document, page);

        // Define a text content stream using the selected font, moving the cursor and drawing the text &quot;Hello World&quot;
        contentStream.beginText();
        contentStream.setFont( font, 12 );
        contentStream.moveTextPositionByAmount( 100, 700 );
        contentStream.drawString( &quot;Hello World&quot; );
        contentStream.endText();

        // Make sure that the content stream is closed:
        contentStream.close();

        // Save the results and ensure that the document is properly closed:
        document.save( &quot;Hello World.pdf&quot;);
        document.close();
    }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;}&lt;br/&gt;
-------------------------- &amp;lt;end snip&amp;gt; -----------------------------&lt;/p&gt;</description>
                <environment>Windows 7 SP1 32-bit, pdfbox 1.8.2., NetBeans IDE 6.9.1</environment>
        <key id="12658025">PDFBOX-1663</key>
            <summary>Hello World using a TrueType font ArrayIndexOutOfBoundsException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="duncanhorrocks">Duncan Horrocks</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jul 2013 14:49:55 +0000</created>
                <updated>Sat, 30 Nov 2013 17:02:13 +0000</updated>
                            <resolved>Sat, 10 Aug 2013 12:09:13 +0000</resolved>
                                    <version>1.8.2</version>
                                    <fixVersion>1.8.3</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13735879" author="lehmi" created="Sat, 10 Aug 2013 12:09:13 +0000"  >&lt;p&gt;Monospaced fonts most likely don&apos;t provide a single width for each character, so that there isn&apos;t any array filled with those values.&lt;/p&gt;

&lt;p&gt;I fixed the issue in revision 1512661. &lt;/p&gt;

&lt;p&gt;I also changed the datatype of width values from float to int.&lt;/p&gt;</comment>
                            <comment id="13824852" author="lehmi" created="Sun, 17 Nov 2013 14:33:23 +0000"  >&lt;p&gt;Merged into 1.8-branch in revision 1542735&lt;/p&gt;</comment>
                            <comment id="13835813" author="lehmi" created="Sat, 30 Nov 2013 17:02:13 +0000"  >&lt;p&gt;Closed after releasing 1.8.3&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338219</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1mc53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>338540</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>