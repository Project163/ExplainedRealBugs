<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:59:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2668] intersectClippingPath does a shallow copy</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2668</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;While working on &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2660&quot; title=&quot;Text missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2660&quot;&gt;&lt;del&gt;PDFBOX-2660&lt;/del&gt;&lt;/a&gt; I discovered that PDGraphicsState#intersectClippingPath performs a shallow copy of the Area, which means that it will retain any mutation which occurs in following states.&lt;/p&gt;

&lt;p&gt;I don&apos;t have a PDF file which is known to trigger this problem, but I&apos;ve confirmed that it exists with a debugger.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12772585">PDFBOX-2668</key>
            <summary>intersectClippingPath does a shallow copy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="jahewson">John Hewson</reporter>
                        <labels>
                    </labels>
                <created>Thu, 5 Feb 2015 04:52:34 +0000</created>
                <updated>Thu, 17 Mar 2016 19:07:30 +0000</updated>
                            <resolved>Thu, 5 Feb 2015 21:12:02 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14306632" author="jira-bot" created="Thu, 5 Feb 2015 04:53:10 +0000"  >&lt;p&gt;Commit 1657477 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1657477&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1657477&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2668&quot; title=&quot;intersectClippingPath does a shallow copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2668&quot;&gt;&lt;del&gt;PDFBOX-2668&lt;/del&gt;&lt;/a&gt;: Perform a deep copy when intersecting clipping paths&lt;/p&gt;</comment>
                            <comment id="14306634" author="jahewson" created="Thu, 5 Feb 2015 04:53:58 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, does this fix have any impact on your regression test renderings?&lt;/p&gt;</comment>
                            <comment id="14306832" author="tilman" created="Thu, 5 Feb 2015 08:33:31 +0000"  >&lt;p&gt;Yes, it doesn&apos;t work much. hsv-shading.pdf, eci_altona-test-suite-v2_technical_H.pdf, color_gradient.pdf, asy-ring.pdf, gs-bugzilla694385.pdf, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1094&quot; title=&quot;Pattern colorspace support&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1094&quot;&gt;&lt;del&gt;PDFBOX-1094&lt;/del&gt;&lt;/a&gt;-094730.pdf, and probably every file.&lt;/p&gt;

&lt;p&gt;It would make more sense to add &quot;area = cloned;&quot; after your change, but there are still regressions. See the rendering of annots.pdf, page 4 and 5; asy-ring.pdf, Basiswissen-Vorschriften.pdf, bugzilla867751.pdf (&quot;the braun shaver file&quot;)&lt;/p&gt;</comment>
                            <comment id="14306853" author="jira-bot" created="Thu, 5 Feb 2015 08:44:24 +0000"  >&lt;p&gt;Commit 1657496 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1657496&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1657496&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2668&quot; title=&quot;intersectClippingPath does a shallow copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2668&quot;&gt;&lt;del&gt;PDFBOX-2668&lt;/del&gt;&lt;/a&gt;: revert 1657477 because of regression&lt;/p&gt;</comment>
                            <comment id="14307786" author="jahewson" created="Thu, 5 Feb 2015 19:08:43 +0000"  >&lt;p&gt;Thanks Tilman, it was &lt;tt&gt;clippingPath = cloned;&lt;/tt&gt; that was needed, I had this line there previously, somehow I managed to delete it in between writing it and committing it (Cmd+D is both diff and delete line in my IDE, depending on context, and I always look at my diff before committing).&lt;/p&gt;

&lt;p&gt;I&apos;ll try again...&lt;/p&gt;</comment>
                            <comment id="14307787" author="jira-bot" created="Thu, 5 Feb 2015 19:09:52 +0000"  >&lt;p&gt;Commit 1657666 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1657666&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1657666&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2668&quot; title=&quot;intersectClippingPath does a shallow copy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2668&quot;&gt;&lt;del&gt;PDFBOX-2668&lt;/del&gt;&lt;/a&gt;: Deep copy when intersecting clipping paths&lt;/p&gt;</comment>
                            <comment id="14307977" author="tilman" created="Thu, 5 Feb 2015 20:57:05 +0000"  >&lt;p&gt;no regressions!&lt;/p&gt;</comment>
                            <comment id="14308007" author="jahewson" created="Thu, 5 Feb 2015 21:11:55 +0000"  >&lt;p&gt;Sweet &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i257vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>