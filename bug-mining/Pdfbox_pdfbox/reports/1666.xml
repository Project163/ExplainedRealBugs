<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:05:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3672] Exception on font PDType1Font.ZAPF_DINGBATS</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3672</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;I am getting this exception using snapshot pdfbox-2.1.0-20170131.210242-692.jar and fontbox-2.1.0-20170131.215925-709.jar&lt;/p&gt;

&lt;p&gt;Debugging PDType1Font.java, the unicode value passed to method &quot;protected byte[] encode(int unicode) throws IOException&quot;  was 84&lt;br/&gt;
and the call to  method &quot;encode(int unicode)&quot; was triggered from font.getStringWidth(...) when font was PDType1Font.ZAPF_DINGBATS&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: U+0054 (&apos;.notdef&apos;) is not available in this font ZapfDingbats (generic: MS-Gothic) encoding: ZapfDingbatsEncoding&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDType1Font.encode(PDType1Font.java:409)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.encode(PDFont.java:316)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.font.PDFont.getStringWidth(PDFont.java:345)&lt;/p&gt;
</description>
                <environment></environment>
        <key id="13039336">PDFBOX-3672</key>
            <summary>Exception on font PDType1Font.ZAPF_DINGBATS</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="smherz@gmail.com">Said Herzallah</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 Jan 2017 23:58:44 +0000</created>
                <updated>Sat, 25 Mar 2017 18:12:10 +0000</updated>
                            <resolved>Thu, 2 Feb 2017 06:21:36 +0000</resolved>
                                    <version>2.0.4</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.5</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15847940" author="tilman" created="Wed, 1 Feb 2017 03:55:59 +0000"  >&lt;p&gt;I tried to recreate your exception and I could by passing a &quot;T&quot;. That can&apos;t work. See Annex D.6 in the PDF 32000 specification.&lt;br/&gt;
&lt;a href=&quot;https://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.adobe.com/content/dam/Adobe/en/devnet/acrobat/pdfs/PDF32000_2008.pdf&lt;/a&gt;&lt;br/&gt;
Note that this table doesn&apos;t mention the unicode symbols. What works is e.g. &quot;\u27a2&quot; which is a sort of triangle. See here&lt;br/&gt;
&lt;a href=&quot;https://en.wikipedia.org/wiki/Dingbat#Dingbats_Unicode_block&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://en.wikipedia.org/wiki/Dingbat#Dingbats_Unicode_block&lt;/a&gt;&lt;br/&gt;
for examples.&lt;/p&gt;

&lt;p&gt;What is the parameter that you passed to getStringWidth() ?&lt;/p&gt;</comment>
                            <comment id="15848026" author="smherz@gmail.com" created="Wed, 1 Feb 2017 05:20:22 +0000"  >&lt;p&gt;Hi&lt;br/&gt;
thank you for your reply.&lt;/p&gt;

&lt;p&gt;Here is another way to get the exception without using getStringWidth(). I just need to be able to print some symbols on the pdf using this font PDType1Font.ZAPF_DINGBATS&lt;br/&gt;
would you please provide a very small example on how to, for example, print the &quot;Black florette   U+273F&quot; ?&lt;/p&gt;

&lt;p&gt;PDPageContentStream contStream = null;&lt;br/&gt;
try{&lt;br/&gt;
	contStream = new PDPageContentStream(pdDoc, page, PDPageContentStream.AppendMode.APPEND, true);&lt;br/&gt;
	contStream.saveGraphicsState();&lt;br/&gt;
	PDFont pdFont = PDType1Font.ZAPF_DINGBATS;&lt;br/&gt;
	contStream.setFont(pdFont,50);&lt;br/&gt;
	contStream.beginText();&lt;br/&gt;
	contStream.showText(&quot;ABCDEF&quot;);&lt;br/&gt;
	contStream.endText();&lt;br/&gt;
	contStream.restoreGraphicsState();&lt;br/&gt;
}finally{&lt;br/&gt;
	if (null != contStream)&lt;br/&gt;
		contStream.close();&lt;br/&gt;
}	&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Said&lt;/p&gt;</comment>
                            <comment id="15848119" author="tilman" created="Wed, 1 Feb 2017 08:22:50 +0000"  >&lt;p&gt;Just use that symbol. You can&apos;t use ABCD because A, B, C and D are not available in that encoding and in that font.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;contStream.showText(&lt;span class=&quot;code-quote&quot;&gt;&quot;\u273F&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15848125" author="tilman" created="Wed, 1 Feb 2017 08:25:59 +0000"  >&lt;p&gt;Btw I see you didn&apos;t put any positioning, so add this somewhere:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;contStream.newLineAtOffset(50, 600);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Be careful: newLineAtOffset is relative to the previous position within a text segment. The first position is 0,0 obviously. (0,0) is at the bottom of a page.&lt;/p&gt;</comment>
                            <comment id="15848998" author="smherz@gmail.com" created="Wed, 1 Feb 2017 22:01:31 +0000"  >&lt;p&gt;Thanks.&lt;br/&gt;
My background is itextpdf, If I use ABC, it translates that to the relative symbols. I will get used to PDFBox&lt;/p&gt;

&lt;p&gt;Thanks for your help. I will now close this incident.&lt;/p&gt;

&lt;p&gt;Regards,&lt;br/&gt;
Said&lt;/p&gt;</comment>
                            <comment id="15849003" author="smherz@gmail.com" created="Wed, 1 Feb 2017 22:03:07 +0000"  >&lt;p&gt;This was user error (my error) as per previous comments.&lt;br/&gt;
Issue resolved.&lt;br/&gt;
thanks&lt;/p&gt;</comment>
                            <comment id="15849313" author="smherz@gmail.com" created="Thu, 2 Feb 2017 02:40:12 +0000"  >&lt;p&gt;Hi&lt;/p&gt;

&lt;p&gt;The space throws an exception &lt;br/&gt;
contentStream.showText(&quot;\u271D\u0020\u275E&quot;);&lt;/p&gt;

&lt;p&gt;Isn&apos;t the space represented by &apos;\u0020&apos; ?&lt;/p&gt;

&lt;p&gt;Thanks&lt;/p&gt;</comment>
                            <comment id="15849359" author="jira-bot" created="Thu, 2 Feb 2017 03:54:17 +0000"  >&lt;p&gt;Commit 1781346 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1781346&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1781346&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3672&quot; title=&quot;Exception on font PDType1Font.ZAPF_DINGBATS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3672&quot;&gt;&lt;del&gt;PDFBOX-3672&lt;/del&gt;&lt;/a&gt;: add space to ITC Zapf Dingbats Glyph List&lt;/p&gt;</comment>
                            <comment id="15849360" author="jira-bot" created="Thu, 2 Feb 2017 03:54:25 +0000"  >&lt;p&gt;Commit 1781347 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1781347&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1781347&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3672&quot; title=&quot;Exception on font PDType1Font.ZAPF_DINGBATS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3672&quot;&gt;&lt;del&gt;PDFBOX-3672&lt;/del&gt;&lt;/a&gt;: add space to ITC Zapf Dingbats Glyph List&lt;/p&gt;</comment>
                            <comment id="15849364" author="tilman" created="Thu, 2 Feb 2017 03:56:11 +0000"  >&lt;p&gt;The space is part of the encoding, but was missing in the Adobe Glyph list at &lt;br/&gt;
&lt;a href=&quot;https://github.com/adobe-type-tools/agl-aglfn/blob/master/zapfdingbats.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/adobe-type-tools/agl-aglfn/blob/master/zapfdingbats.txt&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;A snapshot will be available soon at&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.5-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.5-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15849408" author="smherz@gmail.com" created="Thu, 2 Feb 2017 04:31:36 +0000"  >&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="15849496" author="tilman" created="Thu, 2 Feb 2017 06:21:26 +0000"  >&lt;p&gt;Please don&apos;t close fixed issues, this is done after release. We just resolve them.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39fyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>