<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:18 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1599] ConvertToImage gets ClassCastException with Checkboxes in PDFForm</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1599</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;When creating an image from a PDF Form we get an CastCastException in:&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.ClassCastException: org.apache.pdfbox.cos.COSName cannot be cast to org.apache.pdfbox.cos.COSStream&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.interactive.annotation.PDAppearanceDictionary.getNormalAppearance(PDAppearanceDictionary.java:103)&lt;br/&gt;
        at org.apache.pdfbox.pdfviewer.PageDrawer.drawPage(PageDrawer.java:140)&lt;br/&gt;
        at org.apache.pdfbox.pdmodel.PDPage.convertToImage(PDPage.java:781)&lt;br/&gt;
        at org.apache.pdfbox.examples.util.Extraction$BarcodeLocator.getBarcode(Extraction.java:418)&lt;br/&gt;
        at org.apache.pdfbox.examples.util.Extraction$BarcodeLocator.access$000(Extraction.java:379)&lt;br/&gt;
        at org.apache.pdfbox.examples.util.Extraction.&amp;lt;init&amp;gt;(Extraction.java:103)&lt;br/&gt;
        at org.apache.pdfbox.examples.util.Extraction.main(Extraction.java:138)&lt;/p&gt;

&lt;p&gt;An further analysis shows that it seems to be related to checkboxes on the PDF Form. I fixed it temporarily using:&lt;/p&gt;

&lt;p&gt;try&lt;/p&gt;
			{
				COSStream as = (COSStream)map.getDictionaryObject( asName );
				actuals.put( asName.getName(), new PDAppearanceStream( as ) );
			}
&lt;p&gt;			catch (ClassCastException ex)&lt;/p&gt;
			{
				System.err.println(&quot;Exception name: &quot; + asName.getName());
			}
&lt;p&gt;in PDAppearanceDictionary.java.&lt;/p&gt;

&lt;p&gt;Best regards&lt;br/&gt;
Jens&lt;/p&gt;</description>
                <environment>Windows Vista, Java 1.6</environment>
        <key id="12647911">PDFBOX-1599</key>
            <summary>ConvertToImage gets ClassCastException with Checkboxes in PDFForm</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="vogje01">Jens Vogt</reporter>
                        <labels>
                            <label>patch</label>
                    </labels>
                <created>Thu, 16 May 2013 08:33:31 +0000</created>
                <updated>Sun, 2 Jun 2013 13:35:28 +0000</updated>
                            <resolved>Thu, 23 May 2013 17:10:38 +0000</resolved>
                                    <version>1.8.1</version>
                                    <fixVersion>1.8.2</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13659708" author="lehmi" created="Thu, 16 May 2013 17:01:57 +0000"  >&lt;p&gt;Can you provide us with a sample pdf?&lt;/p&gt;</comment>
                            <comment id="13662812" author="vogje01" created="Tue, 21 May 2013 08:40:43 +0000"  >&lt;p&gt;Hi Andreas,&lt;/p&gt;

&lt;p&gt;as we are a bank, we can&apos;t provide you with the normal documents as they are internal documents. Therefore we will prepare a special document with a single checkbox will shows the error. It will come eiither today or tomorrow.&lt;/p&gt;

&lt;p&gt;Thanks in advance&lt;br/&gt;
Jens&lt;/p&gt;</comment>
                            <comment id="13663822" author="vogje01" created="Wed, 22 May 2013 06:10:03 +0000"  >&lt;p&gt;Hi Andreas,&lt;/p&gt;

&lt;p&gt;attached you will find an example PDF and a small Java program to convert the PDF to an JPG image. This will cause the above mentioned ClassCastException.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Jens&lt;/p&gt;</comment>
                            <comment id="13665362" author="lehmi" created="Thu, 23 May 2013 17:10:38 +0000"  >&lt;p&gt;I fixed the issue in revision 1485781.&lt;/p&gt;

&lt;p&gt;Thanks for the report and the analysis!&lt;/p&gt;</comment>
                            <comment id="13666089" author="vogje01" created="Fri, 24 May 2013 08:00:12 +0000"  >&lt;p&gt;thanks a lot&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13667106" author="lehmi" created="Sat, 25 May 2013 15:18:30 +0000"  >&lt;p&gt;I added some logging about the non-conformance workaround as discussed on the dev@ in revision 1486337&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12584249" name="00193_01_DE_A0002001_pdffields.pdf" size="189899" author="vogje01" created="Wed, 22 May 2013 06:08:59 +0000"/>
                            <attachment id="12584248" name="Extraction.java" size="2775" author="vogje01" created="Wed, 22 May 2013 06:08:19 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328267</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1kmzb:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>328611</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>