<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:00:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2829] PDBox 2.0 Throws IndexOutOfBoundsException (severe offset errors as well)</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2829</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The pdf file comes up in adobe okay.  It has an unusally font.  And the load complains about  incorrect offsets.   &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Jun 12, 2015 12:27:10 PM org.apache.pdfbox.pdfparser.COSParser validateStreamLength
SEVERE: The end of the stream doesn&apos;t point to the correct offset, using workaround to read the stream, found 576 but expected 6095
Jun 12, 2015 12:27:10 PM org.apache.pdfbox.pdfparser.COSParser validateStreamLength
SEVERE: The end of the stream doesn&apos;t point to the correct offset, using workaround to read the stream, found 6513 but expected 8951
Exception in thread &lt;span class=&quot;code-quote&quot;&gt;&quot;main&quot;&lt;/span&gt; java.lang.IndexOutOfBoundsException: Index: 10, Size: 10
	at java.util.ArrayList.rangeCheck(ArrayList.java:635)
	at java.util.ArrayList.get(ArrayList.java:411)
	at org.apache.pdfbox.io.RandomAccessBuffer.nextBuffer(RandomAccessBuffer.java:395)
	at org.apache.pdfbox.io.RandomAccessBuffer.read(RandomAccessBuffer.java:260)
	at org.apache.pdfbox.pdfparser.BaseParser.readUntilEndStream(BaseParser.java:412)
	at org.apache.pdfbox.pdfparser.COSParser.parseCOSStream(COSParser.java:922)
	at org.apache.pdfbox.pdfparser.COSParser.parseFileObject(COSParser.java:725)
	at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:686)
	at org.apache.pdfbox.pdfparser.COSParser.parseObjectDynamically(COSParser.java:639)
	at org.apache.pdfbox.pdfparser.COSParser.parseDictObjects(COSParser.java:600)
	at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:198)
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:225)
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:976)
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:865)
	at com.smartfin.backend.sfreceipts.offline.PdfToImage2_0RedoTesterFor.getImageFromPdf(PdfToImage2_0RedoTesterFor.java:47)
	at com.smartfin.backend.sfreceipts.offline.PdfToImage2_0RedoTesterFor.getImageFromPdf(PdfToImage2_0RedoTesterFor.java:39)
	at com.smartfin.backend.sfreceipts.offline.PdfToImage2_0RedoTesterFor.main(PdfToImage2_0RedoTesterFor.java:199)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:606)
	at com.intellij.rt.execution.application.AppMain.main(AppMain.java:140)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Process finished with exit code 1&lt;/p&gt;</description>
                <environment></environment>
        <key id="12837448">PDFBOX-2829</key>
            <summary>PDBox 2.0 Throws IndexOutOfBoundsException (severe offset errors as well)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="lori.golden">Lori</reporter>
                        <labels>
                    </labels>
                <created>Fri, 12 Jun 2015 16:36:40 +0000</created>
                <updated>Thu, 17 Mar 2016 19:07:58 +0000</updated>
                            <resolved>Wed, 17 Jun 2015 00:01:44 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14583804" author="tilman" created="Fri, 12 Jun 2015 18:04:53 +0000"  >&lt;p&gt;The two error messages should be downgraded to warnings, they mean that a length parameter in a stream is incorrect, and PDFBox then tries to read the stream until it finds &quot;endstream&quot; instead of relying on the length parameter. This is because your PDF is malformed, somehow all newlines were transformed in 0d 0a. Either the creator messed up, or they were transferred in ascii mode from a unix to a non unix system. I will do that and also work on the text, which is confusing.&lt;/p&gt;</comment>
                            <comment id="14583856" author="tilman" created="Fri, 12 Jun 2015 18:34:39 +0000"  >&lt;p&gt;I can reproduce the exception, it happens when reading from a stream, not from a file.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; could this be related to the recent changes in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2301&quot; title=&quot;RandomAccessBuffer consumes too much memory.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2301&quot;&gt;&lt;del&gt;PDFBOX-2301&lt;/del&gt;&lt;/a&gt; ?&lt;/p&gt;</comment>
                            <comment id="14583860" author="jira-bot" created="Fri, 12 Jun 2015 18:37:09 +0000"  >&lt;p&gt;Commit 1685143 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685143&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685143&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2829&quot; title=&quot;PDBox 2.0 Throws IndexOutOfBoundsException (severe offset errors as well)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2829&quot;&gt;&lt;del&gt;PDFBOX-2829&lt;/del&gt;&lt;/a&gt;: downgrad error message to warning, better content&lt;/p&gt;</comment>
                            <comment id="14583875" author="lori.golden" created="Fri, 12 Jun 2015 18:42:16 +0000"  >&lt;p&gt;Thanks for this very concise and exact explanation.&lt;/p&gt;

&lt;p&gt;Very much appreciated!&lt;/p&gt;</comment>
                            <comment id="14583899" author="tilman" created="Fri, 12 Jun 2015 19:00:38 +0000"  >&lt;p&gt;Temporary workaround if this happens more often: save into a temp file and read from there with PDDocument.load(new File(...))&lt;/p&gt;</comment>
                            <comment id="14583923" author="lori.golden" created="Fri, 12 Jun 2015 19:16:40 +0000"  >&lt;p&gt;Thanks Tim&lt;/p&gt;

&lt;p&gt;On Fri, Jun 12, 2015 at 3:01 PM, Tilman Hausherr (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;/p&gt;




&lt;p&gt;&amp;#8211; &lt;br/&gt;
*Lori Golden|Lori.Golden@smartfinancellc.net&lt;br/&gt;
&amp;lt;Lori.Golden@smartfinancellc.net&amp;gt;|Smart Finance, LLC*&lt;/p&gt;</comment>
                            <comment id="14584714" author="tilman" created="Sat, 13 Jun 2015 16:59:15 +0000"  >&lt;p&gt;Also error in the file of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1738&quot; title=&quot;PDF with parsing IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1738&quot;&gt;&lt;del&gt;PDFBOX-1738&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;java.lang.IndexOutOfBoundsException: Index: 118, Size: 111
	at java.util.ArrayList.rangeCheck(ArrayList.java:635)
	at java.util.ArrayList.get(ArrayList.java:411)
	at org.apache.pdfbox.io.RandomAccessBuffer.seek(RandomAccessBuffer.java:175)
	at org.apache.pdfbox.pdfparser.COSParser.checkXRefOffset(COSParser.java:1016)
	at org.apache.pdfbox.pdfparser.COSParser.parseXref(COSParser.java:264)
	at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:184)
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:225)
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:976)
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:898)
	at org.apache.pdfbox.rendering.TestPDFToImage.doTestFile(TestPDFToImage.java:206)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Don&apos;t know if this is the sole cause, but seek() makes no check for the position.&lt;/p&gt;</comment>
                            <comment id="14585053" author="jira-bot" created="Sun, 14 Jun 2015 12:32:55 +0000"  >&lt;p&gt;Commit 1685398 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685398&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685398&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;PDGBOX-2301, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2829&quot; title=&quot;PDBox 2.0 Throws IndexOutOfBoundsException (severe offset errors as well)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2829&quot;&gt;&lt;del&gt;PDFBOX-2829&lt;/del&gt;&lt;/a&gt;: refactored read method&lt;/p&gt;</comment>
                            <comment id="14585056" author="lehmi" created="Sun, 14 Jun 2015 12:39:07 +0000"  >&lt;p&gt;My last change fixes the issue with the attached file.&lt;/p&gt;</comment>
                            <comment id="14585059" author="jira-bot" created="Sun, 14 Jun 2015 12:54:56 +0000"  >&lt;p&gt;Commit 1685399 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685399&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685399&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2301&quot; title=&quot;RandomAccessBuffer consumes too much memory.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2301&quot;&gt;&lt;del&gt;PDFBOX-2301&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2829&quot; title=&quot;PDBox 2.0 Throws IndexOutOfBoundsException (severe offset errors as well)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2829&quot;&gt;&lt;del&gt;PDFBOX-2829&lt;/del&gt;&lt;/a&gt;: handle positions beyond EOF within seek&lt;/p&gt;</comment>
                            <comment id="14585060" author="lehmi" created="Sun, 14 Jun 2015 13:05:19 +0000"  >&lt;p&gt;My very last change solves the issue with the file from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1738&quot; title=&quot;PDF with parsing IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1738&quot;&gt;&lt;del&gt;PDFBOX-1738&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14585128" author="tilman" created="Sun, 14 Jun 2015 17:15:28 +0000"  >&lt;p&gt;Reopening, because of wrong rendering of the files ARCHIVERGB.ai, gs-bugzilla692503.ai and &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1870&quot; title=&quot;PDFunctionType0 incorrect&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1870&quot;&gt;&lt;del&gt;PDFBOX-1870&lt;/del&gt;&lt;/a&gt;-DeviceN3.pdf. I verified that it is not because of the change in PDColor.java I did yesterday, it is related to rev 1685398.&lt;/p&gt;</comment>
                            <comment id="14585240" author="jira-bot" created="Sun, 14 Jun 2015 20:12:23 +0000"  >&lt;p&gt;Commit 1685453 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1685453&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1685453&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2301&quot; title=&quot;RandomAccessBuffer consumes too much memory.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2301&quot;&gt;&lt;del&gt;PDFBOX-2301&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2829&quot; title=&quot;PDBox 2.0 Throws IndexOutOfBoundsException (severe offset errors as well)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2829&quot;&gt;&lt;del&gt;PDFBOX-2829&lt;/del&gt;&lt;/a&gt;: take the given offset into account&lt;/p&gt;</comment>
                            <comment id="14585243" author="lehmi" created="Sun, 14 Jun 2015 20:14:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Thanks for pointer. I guess my last change should solve that regression. Could you please recheck?&lt;/p&gt;</comment>
                            <comment id="14585272" author="tilman" created="Sun, 14 Jun 2015 21:15:29 +0000"  >&lt;p&gt;Now it works!&lt;/p&gt;</comment>
                            <comment id="14586283" author="lehmi" created="Mon, 15 Jun 2015 16:38:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; Thanks for rechecking&lt;/p&gt;

&lt;p&gt;Set  to resolved&lt;/p&gt;</comment>
                            <comment id="14588454" author="jahewson" created="Tue, 16 Jun 2015 17:47:58 +0000"  >&lt;p&gt;I still get this exception when opening &lt;a href=&quot;http://www.eci.org/_media/downloads/altona_test_suite/eci_altona-test-suite-v2_technical2_one-patch-per-page_x4.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this file&lt;/a&gt; (127MB) with PDFDebugger.&lt;/p&gt;</comment>
                            <comment id="14588481" author="lehmi" created="Tue, 16 Jun 2015 18:07:34 +0000"  >&lt;p&gt;Can&apos;t confirm that. Works fine for me using PDFDebugger and PDFReader. What exactly did you do?&lt;/p&gt;</comment>
                            <comment id="14588798" author="tilman" created="Tue, 16 Jun 2015 21:21:27 +0000"  >&lt;p&gt;It opens for me without any problem. Is the file that Andreas worked on exactly the same as on the repository? I&apos;ve sometimes had problems when a &quot;merge&quot; was done.&lt;/p&gt;</comment>
                            <comment id="14589049" author="jahewson" created="Wed, 17 Jun 2015 00:01:21 +0000"  >&lt;p&gt;Never mind - I figured out what I did wrong. I had re-built PDFDebugger was using it with a stale pdfbox jar, so I was still seeing the old issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12739277" name="Tracy_Party.pdf" size="9771" author="lori.golden" created="Fri, 12 Jun 2015 16:37:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 22 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2fzd3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>