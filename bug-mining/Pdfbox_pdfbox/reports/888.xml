<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:58:49 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2553] CalRGB colors different</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2553</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;&lt;a href=&quot;http://acroeng.adobe.com/Test_Files/images/jpeg2000//Anna-IptImgx330.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://acroeng.adobe.com/Test_Files/images/jpeg2000//Anna-IptImgx330.pdf&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;java -cp pdf-box-svn/app/target/pdfbox-app-2.0.0-SNAPSHOT.jar:/path/jai_imageio.jar org.apache.pdfbox.tools.PDFToImage Anna-IptImgx330.pdf&lt;/p&gt;</description>
                <environment></environment>
        <key id="12760710">PDFBOX-2553</key>
            <summary>CalRGB colors different</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                            <label>CalRGB</label>
                    </labels>
                <created>Wed, 10 Dec 2014 11:41:47 +0000</created>
                <updated>Wed, 13 Jan 2021 18:35:07 +0000</updated>
                            <resolved>Sun, 14 Dec 2014 17:57:19 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14243142" author="tilman" created="Thu, 11 Dec 2014 21:06:58 +0000"  >&lt;p&gt;The 4 poorly rendered images (/Im1 - /Im4) all have indexed colorspace based on CalRGB.&lt;/p&gt;</comment>
                            <comment id="14245663" author="tilman" created="Sat, 13 Dec 2014 22:54:34 +0000"  >&lt;p&gt;Found in CalRGB.java:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;[] toRGB(&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;[] value)
    {
        &lt;span class=&quot;code-comment&quot;&gt;// &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; is a hack, we simply skip CIE calibration of the RGB value
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;[] { value[0], value[1], value[2] };
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;m(&lt;/p&gt;
</comment>
                            <comment id="14245719" author="tilman" created="Sat, 13 Dec 2014 23:44:23 +0000"  >&lt;p&gt;new code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;[] toRGB(&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;[] value)
    {
        &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; a = value[0];
        &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; b = value[1];
        &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; c = value[2];
        Matrix matrix = getGammaMatrix();
        PDGamma gamma = getGamma();
        &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; x = (&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;) (matrix.getValue(0, 0) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(a, gamma.getR()) + matrix.getValue(0, 1) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(b, gamma.getG()) + matrix.getValue(0, 2) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(c, gamma.getB()));
        &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; y = (&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;) (matrix.getValue(1, 0) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(a, gamma.getR()) + matrix.getValue(1, 1) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(b, gamma.getG()) + matrix.getValue(1, 2) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(c, gamma.getB()));
        &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt; z = (&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;) (matrix.getValue(2, 0) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(a, gamma.getR()) + matrix.getValue(2, 1) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(b, gamma.getG()) + matrix.getValue(2, 2) * &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.pow(c, gamma.getB()));
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; CIEXYZ.toRGB(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;[] { x, y, z });
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;will do tests and have sleep first before committing.&lt;/p&gt;</comment>
                            <comment id="14245950" author="tilman" created="Sun, 14 Dec 2014 15:39:55 +0000"  >&lt;p&gt;This matter is more complex, sadly. The old code works fine for whitepoint (0.9505 1.0 1.089), also known as D65. The test file has no whitepoint, so it is (1 1 1), and there the code above works. What we can&apos;t handle are whitepoints that are not D65 and not (1 1 1), like in &lt;a href=&quot;http://bugs.ghostscript.com/show_bug.cgi?id=686749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://bugs.ghostscript.com/show_bug.cgi?id=686749&lt;/a&gt; . Adobe doesn&apos;t tell how to handle the whitepoint, they say it is &quot;beyond the scope of this document&quot;. So I&apos;ll keep the &quot;hack&quot;, and use the &quot;new&quot; method for whitepoint (1 1 1) only. The only file with whitepoint (1 1 1) I found is &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2307&quot; title=&quot;NPE in TrueTypeFont.getWidth&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2307&quot;&gt;&lt;del&gt;PDFBOX-2307&lt;/del&gt;&lt;/a&gt;-159827.pdf, there on pages 4, 10 and 16. All my other test files have the D65 whitepoint. (I haven&apos;t looked at the digitalcorpora files).&lt;/p&gt;</comment>
                            <comment id="14246009" author="jira-bot" created="Sun, 14 Dec 2014 17:41:44 +0000"  >&lt;p&gt;Commit 1645477 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1645477&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1645477&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2553&quot; title=&quot;CalRGB colors different&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2553&quot;&gt;&lt;del&gt;PDFBOX-2553&lt;/del&gt;&lt;/a&gt;: use Adobe algorithm for conversion from CalRGB to CIEXYZ colorspace when whitepoint is (1 1 1); move CIEXYZ to RGB conversion to CIE base class&lt;/p&gt;</comment>
                            <comment id="14246011" author="jira-bot" created="Sun, 14 Dec 2014 17:43:59 +0000"  >&lt;p&gt;Commit 1645478 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1645478&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1645478&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2553&quot; title=&quot;CalRGB colors different&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2553&quot;&gt;&lt;del&gt;PDFBOX-2553&lt;/del&gt;&lt;/a&gt;: fix utf8 character&lt;/p&gt;</comment>
                            <comment id="14246020" author="tilman" created="Sun, 14 Dec 2014 17:57:19 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ssteiner1&quot; class=&quot;user-hover&quot; rel=&quot;ssteiner1&quot;&gt;ssteiner1&lt;/a&gt; thanks for providing this file!&lt;/p&gt;

&lt;p&gt;I am setting this to resolved although we&apos;ve not handled different whitepoint cases. However I have not yet found any real world example of such a file.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13351998">PDFBOX-5079</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12687076" name="PDFBOX-2553.pdf-1.png" size="501425" author="tilman" created="Sat, 13 Dec 2014 23:41:43 +0000"/>
                            <attachment id="12686674" name="anna-iptimgx330.pdf-1.png" size="942286" author="tilman" created="Thu, 11 Dec 2014 21:07:52 +0000"/>
                            <attachment id="12687075" name="pdfbox-2553.pdf-1-NEWIMPROVED.png" size="942127" author="tilman" created="Sat, 13 Dec 2014 23:41:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 48 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i239t3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>