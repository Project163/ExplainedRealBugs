<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:56:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2120] Regression: Type 1 font corrupted</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2120</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;You get a warning when opening output in adobe reader&lt;/p&gt;

&lt;p&gt;Blank line after &quot;cleartomark&quot; missing in fontfile&lt;/p&gt;

&lt;p&gt;java -jar ~/pdf-box-svn/app/target/pdfbox-app-2.0.0-SNAPSHOT.jar WriteDecodedDoc t1subset2.pdf&lt;/p&gt;</description>
                <environment></environment>
        <key id="12718829">PDFBOX-2120</key>
            <summary>Regression: Type 1 font corrupted</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Fri, 6 Jun 2014 12:27:36 +0000</created>
                <updated>Sun, 22 Jun 2014 14:34:49 +0000</updated>
                            <resolved>Mon, 9 Jun 2014 14:33:34 +0000</resolved>
                                    <version>1.8.6</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.6</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14020814" author="tilman" created="Sat, 7 Jun 2014 14:02:27 +0000"  >&lt;p&gt;How exactly is it a regression - did it work properly a day ago, or a week ago?&lt;/p&gt;</comment>
                            <comment id="14021736" author="ssteiner1" created="Mon, 9 Jun 2014 08:24:40 +0000"  >&lt;p&gt;caused by:&lt;br/&gt;
Revision 1597428 - Directory Listing&lt;br/&gt;
Modified Sun May 25 14:48:56 2014 UTC (2 weeks ago) by tilman&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2079&quot; title=&quot;Extra new line characters extracted in 1.8.5 for embedded files leading to ZipFile exception in Java 1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2079&quot;&gt;&lt;del&gt;PDFBOX-2079&lt;/del&gt;&lt;/a&gt;: remove final CR LF or LF from output of readUntilEndStream()&lt;/p&gt;</comment>
                            <comment id="14021805" author="tilman" created="Mon, 9 Jun 2014 10:00:21 +0000"  >&lt;p&gt;One good news: it does not happen when using the -nonSeq option.&lt;/p&gt;

&lt;p&gt;The sequential parser doesn&apos;t handle indirect lengths when these come later in the file, so it reads the streams sequentially looking for &quot;endstream&quot; which is NOT correct and at most, heuristic. &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2079&quot; title=&quot;Extra new line characters extracted in 1.8.5 for embedded files leading to ZipFile exception in Java 1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2079&quot;&gt;&lt;del&gt;PDFBOX-2079&lt;/del&gt;&lt;/a&gt; removed a final CR LF or LF from such a stream, because of the assumption that a PDF writing application will append CR LF or LF before writing &quot;endstream&quot;. In your file, when taking the length into account, the stream ends with a CR. And then there&apos;s an LF. I remove both so the font file ends with &quot;cleartomark&quot; without a final CR LF or LF and Adobe doesn&apos;t like this.&lt;/p&gt;

&lt;p&gt;The sequential parser is a dead end and nobody should use it but it is used, because the sequential parser needs an extra parameter &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I am adding an exception for assumed ASCII streams by testing the beginning of the stream like in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1164&quot; title=&quot;Inline image parsing error causes RuntimeException + FIX&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1164&quot;&gt;&lt;del&gt;PDFBOX-1164&lt;/del&gt;&lt;/a&gt;, i.e. that these won&apos;t get the filtering that I introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2079&quot; title=&quot;Extra new line characters extracted in 1.8.5 for embedded files leading to ZipFile exception in Java 1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2079&quot;&gt;&lt;del&gt;PDFBOX-2079&lt;/del&gt;&lt;/a&gt; and thus will keep a final CR LF or LF.&lt;/p&gt;

&lt;p&gt;This works for your file, but I will do some more tests.&lt;/p&gt;

&lt;p&gt;In the future, the sequential parser should be deleted, and so should the filter that I introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2079&quot; title=&quot;Extra new line characters extracted in 1.8.5 for embedded files leading to ZipFile exception in Java 1.6&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2079&quot;&gt;&lt;del&gt;PDFBOX-2079&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="14021862" author="ssteiner1" created="Mon, 9 Jun 2014 10:22:53 +0000"  >&lt;p&gt;What about making nonseq the default?&lt;/p&gt;</comment>
                            <comment id="14025220" author="tilman" created="Mon, 9 Jun 2014 14:32:39 +0000"  >&lt;p&gt;Fixed in rev 1601392 for the trunk and rev 1601393 for the 1.8 branch.&lt;/p&gt;

&lt;p&gt;Re &quot;making nonseq the default&quot; - yes, I support this. But this is the type of decisions that I prefer not to make alone.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12648634" name="t1subset2.pdf" size="38317" author="ssteiner" created="Fri, 6 Jun 2014 12:28:10 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397028</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1wcq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>397146</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>