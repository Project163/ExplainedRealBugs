<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:15:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5908] IllegalArgumentException: capacity &lt; 0: (-75475220 &lt; 0) in RandomAccessReadBuffer constructor</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5908</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;This line in Filter.java&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
randomAccessWriteBuffer = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; RandomAccessReadWriteBuffer(
    &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.min(length &amp;lt;&amp;lt; 2, RandomAccessReadBuffer.DEFAULT_CHUNK_SIZE_4KB));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;may pass a negative integer number for some input values.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13600117">PDFBOX-5908</key>
            <summary>IllegalArgumentException: capacity &lt; 0: (-75475220 &lt; 0) in RandomAccessReadBuffer constructor</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Wed, 27 Nov 2024 04:03:44 +0000</created>
                <updated>Thu, 16 Jan 2025 16:44:24 +0000</updated>
                            <resolved>Wed, 27 Nov 2024 19:16:10 +0000</resolved>
                                    <version>3.0.3 PDFBox</version>
                                    <fixVersion>2.0.33</fixVersion>
                    <fixVersion>3.0.4 PDFBox</fixVersion>
                                    <component>IO</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17901430" author="jira-bot" created="Wed, 27 Nov 2024 09:54:10 +0000"  >&lt;p&gt;Commit 1922152 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922152&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922152&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5908&quot; title=&quot;IllegalArgumentException: capacity &amp;lt; 0: (-75475220 &amp;lt; 0) in RandomAccessReadBuffer constructor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5908&quot;&gt;&lt;del&gt;PDFBOX-5908&lt;/del&gt;&lt;/a&gt;: avoid negative values&lt;/p&gt;</comment>
                            <comment id="17901431" author="jira-bot" created="Wed, 27 Nov 2024 09:54:13 +0000"  >&lt;p&gt;Commit 1922153 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922153&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922153&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5908&quot; title=&quot;IllegalArgumentException: capacity &amp;lt; 0: (-75475220 &amp;lt; 0) in RandomAccessReadBuffer constructor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5908&quot;&gt;&lt;del&gt;PDFBOX-5908&lt;/del&gt;&lt;/a&gt;: avoid negative values&lt;/p&gt;</comment>
                            <comment id="17901434" author="tilman" created="Wed, 27 Nov 2024 09:57:40 +0000"  >&lt;p&gt;There might be a better (simpler) solution, but I&apos;m reluctant to change too much. Maybe keep the length as long, compare with &lt;tt&gt;RandomAccessReadBuffer.DEFAULT_CHUNK_SIZE_4KB / 4&lt;/tt&gt; ?&lt;/p&gt;</comment>
                            <comment id="17901514" author="mkl" created="Wed, 27 Nov 2024 15:15:38 +0000"  >&lt;p&gt;That would be better.&lt;/p&gt;</comment>
                            <comment id="17901520" author="jira-bot" created="Wed, 27 Nov 2024 15:36:00 +0000"  >&lt;p&gt;Commit 1922167 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922167&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922167&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5908&quot; title=&quot;IllegalArgumentException: capacity &amp;lt; 0: (-75475220 &amp;lt; 0) in RandomAccessReadBuffer constructor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5908&quot;&gt;&lt;del&gt;PDFBOX-5908&lt;/del&gt;&lt;/a&gt;: refactor&lt;/p&gt;</comment>
                            <comment id="17901521" author="jira-bot" created="Wed, 27 Nov 2024 15:36:04 +0000"  >&lt;p&gt;Commit 1922168 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922168&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922168&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5908&quot; title=&quot;IllegalArgumentException: capacity &amp;lt; 0: (-75475220 &amp;lt; 0) in RandomAccessReadBuffer constructor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5908&quot;&gt;&lt;del&gt;PDFBOX-5908&lt;/del&gt;&lt;/a&gt;: refactor&lt;/p&gt;</comment>
                            <comment id="17901535" author="mkl" created="Wed, 27 Nov 2024 16:46:15 +0000"  >&lt;p&gt;Just to be on the safe side, I&apos;d still check for &lt;tt&gt;length &amp;lt;= 0&lt;/tt&gt; and use the default chunk size in that case, too.&lt;/p&gt;

&lt;p&gt;And in the &lt;tt&gt;else&lt;/tt&gt; code block you do know that &lt;tt&gt;length &amp;lt;&amp;lt; 2&lt;/tt&gt; is to be used, so you can remove the &lt;tt&gt;min&lt;/tt&gt; with the default chunk size.&lt;/p&gt;

&lt;p&gt;For readability I&apos;d propose writing &lt;tt&gt;length * 4&lt;/tt&gt; instead of &lt;tt&gt;length &amp;lt;&amp;lt; 2&lt;/tt&gt;. Any compiler should do the optimization under the hood...&lt;/p&gt;</comment>
                            <comment id="17901539" author="tilman" created="Wed, 27 Nov 2024 16:59:27 +0000"  >&lt;p&gt;&#128077;&#128077;&#128077;&lt;/p&gt;</comment>
                            <comment id="17901541" author="jira-bot" created="Wed, 27 Nov 2024 17:10:37 +0000"  >&lt;p&gt;Commit 1922177 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922177&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922177&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5908&quot; title=&quot;IllegalArgumentException: capacity &amp;lt; 0: (-75475220 &amp;lt; 0) in RandomAccessReadBuffer constructor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5908&quot;&gt;&lt;del&gt;PDFBOX-5908&lt;/del&gt;&lt;/a&gt;: improve / simplify / clarify code as suggested by Michael Klink&lt;/p&gt;</comment>
                            <comment id="17901542" author="jira-bot" created="Wed, 27 Nov 2024 17:10:40 +0000"  >&lt;p&gt;Commit 1922178 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1922178&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1922178&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5908&quot; title=&quot;IllegalArgumentException: capacity &amp;lt; 0: (-75475220 &amp;lt; 0) in RandomAccessReadBuffer constructor&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5908&quot;&gt;&lt;del&gt;PDFBOX-5908&lt;/del&gt;&lt;/a&gt;: improve / simplify / clarify code as suggested by Michael Klink&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13049422">PDFBOX-3712</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://stackoverflow.com/questions/79225349/pdfbox-3-render-page-to-image-from-large-pdf-file-illegalargumentexception-capa]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            49 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ssbc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>