<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:11:30 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5176] java.io.IOException: Page tree root must be a dictionary</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5176</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Happens only on 3.0, not on 2.0.23&lt;/p&gt;</description>
                <environment></environment>
        <key id="13374889">PDFBOX-5176</key>
            <summary>java.io.IOException: Page tree root must be a dictionary</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Sun, 25 Apr 2021 09:38:51 +0000</created>
                <updated>Fri, 11 Jun 2021 06:08:30 +0000</updated>
                            <resolved>Sat, 15 May 2021 15:59:46 +0000</resolved>
                                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.24</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17331508" author="lehmi" created="Sun, 25 Apr 2021 12:13:30 +0000"  >&lt;p&gt;The issue was introduced with &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5163&quot; title=&quot;Stack overflow when reading a corrupt dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5163&quot;&gt;&lt;del&gt;PDFBOX-5163&lt;/del&gt;&lt;/a&gt;. I&apos;ll have a look if there is a way to optimize my fix&lt;/p&gt;</comment>
                            <comment id="17332632" author="mkl" created="Mon, 26 Apr 2021 17:32:37 +0000"  >&lt;p&gt;Well, a&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/DecodeParms&amp;lt;&amp;lt;/Columns 4444444444444444444444444444444/Predictor 12&amp;gt;&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;and a&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;/DecodeParms&amp;lt;&amp;lt;/Columns -470099359687123710344054682151/Predictor 12&amp;gt;&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;both should result in an error...&lt;/p&gt;</comment>
                            <comment id="17343022" author="lehmi" created="Wed, 12 May 2021 06:08:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mkl&quot; class=&quot;user-hover&quot; rel=&quot;mkl&quot;&gt;mkl&lt;/a&gt; The question is, should we just stop reading such dictionaries risking to skip some valid values as well or should we just skip the corrupt value itself and try to read the remaining part hoping not to make the situation even worse by running into an infinite loop/ stack overflow which happens in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5163&quot; title=&quot;Stack overflow when reading a corrupt dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5163&quot;&gt;&lt;del&gt;PDFBOX-5163&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17343163" author="tboehme" created="Wed, 12 May 2021 10:24:57 +0000"  >&lt;p&gt;I think as we are confronted with Fuzzer generated PDFs or hand crafted bad PDFs we should strive for PDFBOX remaining stable (no memory overflow/infinite loop/stack overflow) independent of the PDF content (at least in the long run). Saying this processing or not processing a dictionary/value should not influence the stability and thus the question of how to process the problematic dictionary should merely be answered by how we best preserve the document content - maybe by parsing as much as possible and only skipping clearly corrupted parts&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17343287" author="mkl" created="Wed, 12 May 2021 14:44:04 +0000"  >&lt;p&gt;IIRC those decode parameters referred to cross reference streams. It&apos;s ok to parse that dictionary, but you cannot easily decode the cross references using these broken information, so you cannot find objects by the references.&lt;/p&gt;</comment>
                            <comment id="17345052" author="lehmi" created="Sat, 15 May 2021 14:39:58 +0000"  >&lt;p&gt;Generally speaking the idea is to be as lenient as possible when parsing a pdf and to read as much as possible. Once the pdf is loaded (2.0) / the initial parsing is done (3.0) some issues might come up with problematic/missing values. This can increase the chances to process at least parts of a problematic pdf, e.g. even if all images are broken text extraction should be possible.&lt;/p&gt;</comment>
                            <comment id="17345053" author="jira-bot" created="Sat, 15 May 2021 14:41:23 +0000"  >&lt;p&gt;Commit 1889915 from lehmi@apache.org in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889915&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889915&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5176&quot; title=&quot;java.io.IOException: Page tree root must be a dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5176&quot;&gt;&lt;del&gt;PDFBOX-5176&lt;/del&gt;&lt;/a&gt;: skip values which are valid numbers but out of range&lt;/p&gt;</comment>
                            <comment id="17345054" author="jira-bot" created="Sat, 15 May 2021 14:42:09 +0000"  >&lt;p&gt;Commit 1889916 from lehmi@apache.org in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1889916&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1889916&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5176&quot; title=&quot;java.io.IOException: Page tree root must be a dictionary&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5176&quot;&gt;&lt;del&gt;PDFBOX-5176&lt;/del&gt;&lt;/a&gt;: skip values which are valid numbers but out of range&lt;/p&gt;</comment>
                            <comment id="17345071" author="lehmi" created="Sat, 15 May 2021 15:59:37 +0000"  >&lt;p&gt;The parser is now more lenient. It simply skips values which are numbers but out of range instead of throwing an exception which stops the parsing.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13371949">PDFBOX-5163</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13024551" name="GHOSTSCRIPT-695040-0.zip-71.pdf" size="87784" author="tilman" created="Sun, 25 Apr 2021 09:38:48 +0000"/>
                            <attachment id="13024552" name="GHOSTSCRIPT-695040-0.zip-87.pdf" size="87784" author="tilman" created="Sun, 25 Apr 2021 09:38:44 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 26 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0qf9c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>