<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:52:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-902] ClassCastException caused by unhandled Markup Annotations.</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-902</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Got a ClassCastException in the getParent() method of PDAnnotationPopup because some Markup Annotations are not handled fully by PDFBox and become PDAnnotationUnknown&lt;br/&gt;
Solution to make them generic PDAnnotationMarkup instead.&lt;/p&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Eclipse Workspace Patch 1.0&lt;br/&gt;
#P pdfbox&lt;br/&gt;
Index: pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/annotation/PDAnnotation.java&lt;br/&gt;
===================================================================&lt;/li&gt;
		&lt;/ol&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/annotation/PDAnnotation.java	(revision 1026306)&lt;br/&gt;
+++ pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/annotation/PDAnnotation.java	(working copy)&lt;br/&gt;
@@ -138,6 +138,15 @@
             {
                annot = new PDAnnotationWidget( annotDic );
             }
&lt;p&gt;+            else if( subtype.equals( PDAnnotationMarkup.SUB_TYPE_FREETEXT ) ||&lt;br/&gt;
+                    subtype.equals( PDAnnotationMarkup.SUB_TYPE_POLYGON ) ||&lt;br/&gt;
+                    subtype.equals( PDAnnotationMarkup.SUB_TYPE_POLYLINE ) ||&lt;br/&gt;
+                    subtype.equals( PDAnnotationMarkup.SUB_TYPE_CARET ) ||&lt;br/&gt;
+                    subtype.equals( PDAnnotationMarkup.SUB_TYPE_INK ) ||&lt;br/&gt;
+                    subtype.equals( PDAnnotationMarkup.SUB_TYPE_SOUND ))&lt;br/&gt;
+            &lt;/p&gt;
{
+                annot = new PDAnnotationMarkup( annotDic );
+            }
&lt;p&gt;             else&lt;br/&gt;
             {&lt;br/&gt;
                 annot = new PDAnnotationUnknown( annotDic );&lt;br/&gt;
Index: pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/annotation/PDAnnotationMarkup.java&lt;br/&gt;
===================================================================&lt;/p&gt;&lt;/li&gt;
			&lt;li&gt;pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/annotation/PDAnnotationMarkup.java	(revision 1026306)&lt;br/&gt;
+++ pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/annotation/PDAnnotationMarkup.java	(working copy)&lt;br/&gt;
@@ -32,8 +32,32 @@&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;@author Paul King&lt;/li&gt;
	&lt;li&gt;@version $Revision: 1.1 $&lt;br/&gt;
  */&lt;br/&gt;
-public abstract class PDAnnotationMarkup extends PDAnnotation&lt;br/&gt;
+public class PDAnnotationMarkup extends PDAnnotation&lt;br/&gt;
 {&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Constant for a FreeText type of annotation.&lt;br/&gt;
+     */&lt;br/&gt;
+    public static final String SUB_TYPE_FREETEXT = &quot;FreeText&quot;;&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Constant for an Polygon type of annotation.&lt;br/&gt;
+     */&lt;br/&gt;
+    public static final String SUB_TYPE_POLYGON = &quot;Polygon&quot;;&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Constant for an PolyLine type of annotation.&lt;br/&gt;
+     */&lt;br/&gt;
+    public static final String SUB_TYPE_POLYLINE = &quot;PolyLine&quot;;&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Constant for an Caret type of annotation.&lt;br/&gt;
+     */&lt;br/&gt;
+    public static final String SUB_TYPE_CARET = &quot;Caret&quot;;&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Constant for an Ink type of annotation.&lt;br/&gt;
+     */&lt;br/&gt;
+    public static final String SUB_TYPE_INK = &quot;Ink&quot;;&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Constant for an Sound type of annotation.&lt;br/&gt;
+     */&lt;br/&gt;
+    public static final String SUB_TYPE_SOUND = &quot;Sound&quot;;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     /*&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The various values of the reply type as defined in the PDF 1.7 reference&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment></environment>
        <key id="12480641">PDFBOX-902</key>
            <summary>ClassCastException caused by unhandled Markup Annotations.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="adamnichols">Adam Nichols</assignee>
                                    <reporter username="kevinjackson">Kevin Jackson</reporter>
                        <labels>
                    </labels>
                <created>Tue, 23 Nov 2010 06:07:09 +0000</created>
                <updated>Mon, 20 Dec 2010 09:38:24 +0000</updated>
                            <resolved>Tue, 23 Nov 2010 17:51:57 +0000</resolved>
                                    <version>1.3.1</version>
                                    <fixVersion>1.4.0</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12934932" author="adamnichols" created="Tue, 23 Nov 2010 17:51:57 +0000"  >&lt;p&gt;Patch committed in revision 1038227&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>163565</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            15 years, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zh33:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>205070</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>