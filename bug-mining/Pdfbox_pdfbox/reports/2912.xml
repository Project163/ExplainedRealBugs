<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:14:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5792] Regression NPE in Splitter</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5792</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;&lt;font color=&quot;#172b4d&quot;&gt;The attached pdf used to work with Splitter in release 3.0.0, 3.01 &lt;/font&gt;&lt;font color=&quot;#172b4d&quot;&gt;however breaks in 3.0.2.&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#ff0000&quot;&gt;Cannot invoke &quot;org.apache.pdfbox.pdmodel.PDPage.getCOSObject()&quot; because the return value of &quot;org.apache.pdfbox.pdmodel.interactive.documentnavigation.destination.PDPageDestination.getPage()&quot; is null&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#0066cc&quot;&gt;java.lang.NullPointerException&lt;/font&gt;&lt;font color=&quot;#ff0000&quot;&gt;: Cannot invoke &quot;org.apache.pdfbox.pdmodel.PDPage.getCOSObject()&quot; because the return value of &quot;org.apache.pdfbox.pdmodel.interactive.documentnavigation.destination.PDPageDestination.getPage()&quot; is null&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#ff0000&quot;&gt; at org.apache.pdfbox.multipdf.Splitter.fixDestinations(&lt;/font&gt;&lt;font color=&quot;#0066cc&quot;&gt;Splitter.java:153&lt;/font&gt;&lt;font color=&quot;#ff0000&quot;&gt;)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#ff0000&quot;&gt; at org.apache.pdfbox.multipdf.Splitter.split(&lt;/font&gt;&lt;font color=&quot;#0066cc&quot;&gt;Splitter.java:136&lt;/font&gt;&lt;font color=&quot;#ff0000&quot;&gt;)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Have attached the pdf and a test class.&#160;&lt;/p&gt;

&lt;p&gt;It fails if we split on page count =1 or count = 10.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13573950">PDFBOX-5792</key>
            <summary>Regression NPE in Splitter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="mohanh">Mohan H</reporter>
                        <labels>
                    </labels>
                <created>Sat, 30 Mar 2024 08:09:38 +0000</created>
                <updated>Wed, 24 Jul 2024 16:02:07 +0000</updated>
                            <resolved>Sat, 30 Mar 2024 16:06:32 +0000</resolved>
                                    <version>2.0.31</version>
                    <version>3.0.2 PDFBox</version>
                                    <fixVersion>2.0.32</fixVersion>
                    <fixVersion>3.0.3 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17832421" author="tilman" created="Sat, 30 Mar 2024 10:06:31 +0000"  >&lt;p&gt;Thanks for reporting this. I think there is a logic mistake in &lt;tt&gt;fixDestinations()&lt;/tt&gt; because it is called for every destination document, so the destination page is sometimes set to null prematurely. I need to rethink this.&lt;/p&gt;

&lt;p&gt;(Some thoughts: maybe late cloning? maybe use a map instead of a set so we know whether the source page is within the destination document?)&lt;/p&gt;

&lt;p&gt;If this blocks you, then the best is not to revert to the old version (because 3.0.1 has other bugs that may be related to splitting!), but to copy the splitter source code, change &lt;tt&gt;fixDestinations()&lt;/tt&gt; so that it checks for null at the line that crashes. The result will be that SOME of the local destination links won&apos;t work (which is closer to the old behaviour, where NO links worked).&lt;/p&gt;</comment>
                            <comment id="17832423" author="jira-bot" created="Sat, 30 Mar 2024 10:25:55 +0000"  >&lt;p&gt;Commit 1916649 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916649&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916649&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: avoid NPE until proper solution&lt;/p&gt;</comment>
                            <comment id="17832424" author="jira-bot" created="Sat, 30 Mar 2024 10:25:59 +0000"  >&lt;p&gt;Commit 1916650 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916650&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916650&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: avoid NPE until proper solution&lt;/p&gt;</comment>
                            <comment id="17832425" author="jira-bot" created="Sat, 30 Mar 2024 10:26:03 +0000"  >&lt;p&gt;Commit 1916651 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916651&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916651&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: avoid NPE until proper solution&lt;/p&gt;</comment>
                            <comment id="17832439" author="jira-bot" created="Sat, 30 Mar 2024 12:25:20 +0000"  >&lt;p&gt;Commit 1916652 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916652&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916652&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: use a map instead of a set to make sure that the source page (that contains the link to a destination page) is in the current split target document&lt;/p&gt;</comment>
                            <comment id="17832440" author="jira-bot" created="Sat, 30 Mar 2024 12:25:24 +0000"  >&lt;p&gt;Commit 1916653 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916653&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916653&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: use a map instead of a set to make sure that the source page (that contains the link to a destination page) is in the current split target document&lt;/p&gt;</comment>
                            <comment id="17832441" author="jira-bot" created="Sat, 30 Mar 2024 12:25:28 +0000"  >&lt;p&gt;Commit 1916654 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916654&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916654&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: use a map instead of a set to make sure that the source page (that contains the link to a destination page) is in the current split target document&lt;/p&gt;</comment>
                            <comment id="17832442" author="tilman" created="Sat, 30 Mar 2024 12:28:21 +0000"  >&lt;p&gt;This fixes the problem. Either use a snapshot build, or copy the code and use your own splitter class until 3.0.3 is released, which will take a few months.&lt;br/&gt;
I&apos;ll add a test later this weekend, I found a non copyrighted file that produces the same problem and tested locally.&lt;/p&gt;</comment>
                            <comment id="17832455" author="JIRAUSER300594" created="Sat, 30 Mar 2024 14:43:32 +0000"  >&lt;p&gt;Thanks &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; appreciate the super prompt identification and fix. &lt;br/&gt;
Hope it would be ok to delete the pdf attachment that I had shared.&lt;/p&gt;</comment>
                            <comment id="17832458" author="tilman" created="Sat, 30 Mar 2024 14:48:19 +0000"  >&lt;p&gt;Yes you can delete it. I just added the file that I used to test. It is by NOAA-NMFS-AFSC which is NATIONAL OCEANIC AND ATMOSPHERIC ADMINISTRATION, National Marine Fisheries Service, Alaska Fisheries Science Center.&lt;/p&gt;</comment>
                            <comment id="17832461" author="jira-bot" created="Sat, 30 Mar 2024 15:17:56 +0000"  >&lt;p&gt;Commit 1916655 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916655&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916655&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="17832462" author="jira-bot" created="Sat, 30 Mar 2024 15:18:06 +0000"  >&lt;p&gt;Commit 1916656 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916656&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916656&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="17832464" author="jira-bot" created="Sat, 30 Mar 2024 15:42:09 +0000"  >&lt;p&gt;Commit 1916657 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916657&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916657&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="17832465" author="jira-bot" created="Sat, 30 Mar 2024 15:43:13 +0000"  >&lt;p&gt;Commit 1916658 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916658&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916658&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: add test&lt;/p&gt;</comment>
                            <comment id="17832520" author="jira-bot" created="Sun, 31 Mar 2024 05:29:13 +0000"  >&lt;p&gt;Commit 1916683 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916683&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916683&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: add tests for structural data of the results&lt;/p&gt;</comment>
                            <comment id="17832521" author="jira-bot" created="Sun, 31 Mar 2024 05:29:18 +0000"  >&lt;p&gt;Commit 1916684 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916684&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916684&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: add tests for structural data of the results&lt;/p&gt;</comment>
                            <comment id="17832522" author="jira-bot" created="Sun, 31 Mar 2024 05:29:21 +0000"  >&lt;p&gt;Commit 1916685 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1916685&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1916685&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5792&quot; title=&quot;Regression NPE in Splitter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5792&quot;&gt;&lt;del&gt;PDFBOX-5792&lt;/del&gt;&lt;/a&gt;: add tests for structural data of the results&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13575976">PDFBOX-5803</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="13578297">PDFBOX-5815</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13567562">PDFBOX-5762</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13067759" name="PDFBOX-5792-240045.pdf" size="44295" author="tilman" created="Sat, 30 Mar 2024 14:45:54 +0000"/>
                            <attachment id="13067754" name="PdfBoxSplitterTest.java" size="1342" author="mohanh" created="Sat, 30 Mar 2024 08:04:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 31 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1obns:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>