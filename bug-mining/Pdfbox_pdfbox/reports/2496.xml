<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:11:16 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5115] U+00AD (&apos;sfthyphen&apos;) is not available in this font Times-Roman encoding: WinAnsiEncoding</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5115</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;U+00AD (&apos;sfthyphen&apos;) is not available in this font Times-Roman encoding: WinAnsiEncoding&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;this symbol&#160;U+00AD are in&#160;WinAnsiEncoding by the code but the slightly different name&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;private static final Object[][] WIN_ANSI_ENCODING_TABLE = &lt;/p&gt;
&lt;div class=&quot;error&quot;&gt;&lt;span class=&quot;error&quot;&gt;Unknown macro: {

// adding some additional mappings as defined in Appendix D of the pdf spec
 ...
 {0255, &amp;quot;hyphen&amp;quot;}&lt;/span&gt; &lt;/div&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;it is right that both code and name must be equal ?&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13362664">PDFBOX-5115</key>
            <summary>U+00AD (&apos;sfthyphen&apos;) is not available in this font Times-Roman encoding: WinAnsiEncoding</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="sandriy">Andriy</reporter>
                        <labels>
                    </labels>
                <created>Fri, 5 Mar 2021 17:47:48 +0000</created>
                <updated>Fri, 19 Mar 2021 15:42:06 +0000</updated>
                            <resolved>Mon, 8 Mar 2021 16:19:35 +0000</resolved>
                                    <version>2.0.22</version>
                                    <fixVersion>2.0.23</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>FontBox</component>
                    <component>Rendering</component>
                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17296254" author="tilman" created="Fri, 5 Mar 2021 18:16:02 +0000"  >&lt;p&gt;The PDF specification has this:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The hyphen character is also encoded as 255 in WinAnsiEncoding. The meaning of this duplicate code shall be &#8220;soft hyphen,&#8221; but it shall be typographically the same as hyphen.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I&apos;m not yet sure what to do. We had a similar problem with nbspace, and it took several releases until we got it right &#128514;&lt;/p&gt;</comment>
                            <comment id="17296294" author="sandriy" created="Fri, 5 Mar 2021 19:20:23 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&#160;there is 1 more symbol that may cause error after conversion&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;U+007F (&apos;controlDEL&apos;) is not available in this font Times-Roman encoding: WinAnsiEncoding&lt;/p&gt;

&lt;p&gt;// From the PDF specification:&lt;br/&gt;
 // In WinAnsiEncoding, all unused codes greater than 40 map to the bullet character.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17296314" author="tilman" created="Fri, 5 Mar 2021 20:10:21 +0000"  >&lt;p&gt;controlDEL isn&apos;t mentioned in the PDF specification, so I guess 7F in a PDF is the bullet.&lt;/p&gt;</comment>
                            <comment id="17296328" author="sandriy" created="Fri, 5 Mar 2021 20:40:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; I tried to test all&#160;AdobeGlyphList against&#160;WinAnsiEncoding and only this 2 symbos throw errors&lt;/p&gt;

&lt;p&gt;Thank you for explanation&lt;/p&gt;

&lt;p&gt;!!!! 127 controlDEL bullet&lt;br/&gt;
!!!! 173 sfthyphen hyphen&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt;(Map.Entry&amp;lt;&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;,&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;&amp;gt; entry : GlyphList.getAdobeGlyphList().unicodeToName.entrySet() ){
                &lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; i =  &lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt;.codePointAt(entry.getKey(),0);
                &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (WinAnsiEncoding.INSTANCE.contains(i) &amp;amp;&amp;amp; !WinAnsiEncoding.INSTANCE.contains(entry.getValue())){
                    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.print(&lt;span class=&quot;code-quote&quot;&gt;&quot;!!!!&quot;&lt;/span&gt;);
                    &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot; %s %s %s&quot;&lt;/span&gt;,  i , entry.getValue() , WinAnsiEncoding.INSTANCE.getName(i)) );
                }
            }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17296512" author="jira-bot" created="Sat, 6 Mar 2021 11:00:29 +0000"  >&lt;p&gt;Commit 1887253 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1887253&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1887253&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5115&quot; title=&quot;U+00AD (&amp;#39;sfthyphen&amp;#39;) is not available in this font Times-Roman encoding: WinAnsiEncoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5115&quot;&gt;&lt;del&gt;PDFBOX-5115&lt;/del&gt;&lt;/a&gt;: support soft hyphen&lt;/p&gt;</comment>
                            <comment id="17296513" author="jira-bot" created="Sat, 6 Mar 2021 11:00:33 +0000"  >&lt;p&gt;Commit 1887254 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1887254&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1887254&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5115&quot; title=&quot;U+00AD (&amp;#39;sfthyphen&amp;#39;) is not available in this font Times-Roman encoding: WinAnsiEncoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5115&quot;&gt;&lt;del&gt;PDFBOX-5115&lt;/del&gt;&lt;/a&gt;: support soft hyphen&lt;/p&gt;</comment>
                            <comment id="17296522" author="tilman" created="Sat, 6 Mar 2021 11:26:25 +0000"  >&lt;p&gt;Now the soft hyphen is supported when creating PDFs. The other thing isn&apos;t supported. My understanding is that 7F is a bullet when 7F is in a PDF, not that 7F in a showText string appears as a bullet in a PDF.&lt;/p&gt;

&lt;p&gt;Text extraction works that the soft hyphen reappears as such. Adobe Reader makes it disappear. Maybe we could do something, but I&apos;d like to see real documents where this is useful.&lt;/p&gt;

&lt;p&gt;There will be a SNAPSHOT in a few hours at&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.23-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.23-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;or build yourself (Jenkins is currently down, so this may take some time)&lt;/p&gt;</comment>
                            <comment id="17296534" author="sandriy" created="Sat, 6 Mar 2021 12:35:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;the reason I ask about&#160;127 controlDEL bullet that i found no way to filter out the text used for PDF genearion or check it not to get exception.&lt;/p&gt;

&lt;p&gt;the way i though about was&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;WinAnsiEncoding.INSTANCE.contains(&amp;lt;codepoint&amp;gt;)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;but it will not work for 7F and i will get runtime exception.&lt;/p&gt;

&lt;p&gt;Can you sugests how to check the text before pdf generation not to get exception ?&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17296536" author="tilman" created="Sat, 6 Mar 2021 12:40:44 +0000"  >&lt;p&gt;The best would be to follow what &lt;tt&gt;EmbeddedMultipleFonts.java&lt;/tt&gt; is doing&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isWinAnsiEncoding(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; unicode)
    {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; name = GlyphList.getAdobeGlyphList().codePointToName(unicode);
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-quote&quot;&gt;&quot;.notdef&quot;&lt;/span&gt;.equals(name))
        {
            &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;;
        }
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; WinAnsiEncoding.INSTANCE.contains(name);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17296797" author="tilman" created="Sun, 7 Mar 2021 08:57:26 +0000"  >&lt;p&gt;We&apos;re not done yet here. I thought that the soft hyphen would be displayed (because it was displayed with the Arial and Liberation Sans), but no, some fonts are different, as our large scale regression testing shows. In the attached file, it can be seen with &quot;Max-Planck-Institute&quot;. So I&apos;ll have to add logic, probably similar to the one done with nbspace.&lt;/p&gt;</comment>
                            <comment id="17296839" author="jira-bot" created="Sun, 7 Mar 2021 11:22:02 +0000"  >&lt;p&gt;Commit 1887292 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1887292&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1887292&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5115&quot; title=&quot;U+00AD (&amp;#39;sfthyphen&amp;#39;) is not available in this font Times-Roman encoding: WinAnsiEncoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5115&quot;&gt;&lt;del&gt;PDFBOX-5115&lt;/del&gt;&lt;/a&gt;: more support of soft hyphen&lt;/p&gt;</comment>
                            <comment id="17296840" author="jira-bot" created="Sun, 7 Mar 2021 11:22:06 +0000"  >&lt;p&gt;Commit 1887293 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1887293&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1887293&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5115&quot; title=&quot;U+00AD (&amp;#39;sfthyphen&amp;#39;) is not available in this font Times-Roman encoding: WinAnsiEncoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5115&quot;&gt;&lt;del&gt;PDFBOX-5115&lt;/del&gt;&lt;/a&gt;: more support of soft hyphen&lt;/p&gt;</comment>
                            <comment id="17297499" author="tilman" created="Mon, 8 Mar 2021 16:19:35 +0000"  >&lt;p&gt;Now we&apos;re done. Thanks for the report.&lt;/p&gt;</comment>
                            <comment id="17298952" author="jira-bot" created="Wed, 10 Mar 2021 16:39:19 +0000"  >&lt;p&gt;Commit 1887441 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1887441&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1887441&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5115&quot; title=&quot;U+00AD (&amp;#39;sfthyphen&amp;#39;) is not available in this font Times-Roman encoding: WinAnsiEncoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5115&quot;&gt;&lt;del&gt;PDFBOX-5115&lt;/del&gt;&lt;/a&gt;: restore accidentally deleted segment&lt;/p&gt;</comment>
                            <comment id="17298953" author="jira-bot" created="Wed, 10 Mar 2021 16:41:16 +0000"  >&lt;p&gt;Commit 1887442 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1887442&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1887442&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5115&quot; title=&quot;U+00AD (&amp;#39;sfthyphen&amp;#39;) is not available in this font Times-Roman encoding: WinAnsiEncoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5115&quot;&gt;&lt;del&gt;PDFBOX-5115&lt;/del&gt;&lt;/a&gt;: optimize by moving code segment up&lt;/p&gt;</comment>
                            <comment id="17298954" author="jira-bot" created="Wed, 10 Mar 2021 16:41:19 +0000"  >&lt;p&gt;Commit 1887443 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1887443&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1887443&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5115&quot; title=&quot;U+00AD (&amp;#39;sfthyphen&amp;#39;) is not available in this font Times-Roman encoding: WinAnsiEncoding&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5115&quot;&gt;&lt;del&gt;PDFBOX-5115&lt;/del&gt;&lt;/a&gt;: optimize by moving code segment up&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13362972">TIKA-3314</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13021762" name="PDFBOX-5115-CSIF66CF7JU7CBKTIEEW7QBGWIONBFPG-p1-soft-hyphen.pdf" size="175575" author="tilman" created="Sun, 7 Mar 2021 08:51:11 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 35 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0ocoo:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>