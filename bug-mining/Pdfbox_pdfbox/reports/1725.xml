<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:05:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3313] Java 9 InaccessibleObjectException</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3313</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;java -jar ~/pdf-box-svn/app/target/pdfbox-app-2.1.0-SNAPSHOT.jar PDFToImage expected.pdf &lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.reflect.InaccessibleObjectException: Unable to make member of class com.sun.imageio.plugins.jpeg.JPEGImageReader accessible:  module java.desktop does not export com.sun.imageio.plugins.jpeg to unnamed module @72d1ad2e&lt;br/&gt;
	at sun.reflect.Reflection.throwInaccessibleObjectException(java.base@9-ea/Reflection.java:420)&lt;br/&gt;
	at java.lang.reflect.AccessibleObject.checkCanSetAccessible(java.base@9-ea/AccessibleObject.java:174)&lt;br/&gt;
	at java.lang.reflect.Field.checkCanSetAccessible(java.base@9-ea/Field.java:170)&lt;br/&gt;
	at java.lang.reflect.Field.setAccessible(java.base@9-ea/Field.java:164)&lt;br/&gt;
	at org.apache.pdfbox.filter.DCTFilter.decode(DCTFilter.java:119)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12958106">PDFBOX-3313</key>
            <summary>Java 9 InaccessibleObjectException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="ssteiner">Simon Steiner</reporter>
                        <labels>
                            <label>JDK9</label>
                    </labels>
                <created>Tue, 12 Apr 2016 13:06:10 +0000</created>
                <updated>Mon, 15 May 2017 20:28:11 +0000</updated>
                            <resolved>Thu, 27 Apr 2017 16:27:52 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.6</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15237139" author="ssteiner1" created="Tue, 12 Apr 2016 13:18:00 +0000"  >&lt;p&gt;I can&apos;t share this pdf&lt;/p&gt;</comment>
                            <comment id="15250243" author="tilman" created="Wed, 20 Apr 2016 16:50:43 +0000"  >&lt;p&gt;Are you in any type of &quot;securized&quot; environment, e.g. a web server, or an applet?&lt;/p&gt;</comment>
                            <comment id="15250320" author="ssteiner1" created="Wed, 20 Apr 2016 17:25:05 +0000"  >&lt;p&gt;No&lt;/p&gt;</comment>
                            <comment id="15250355" author="tilman" created="Wed, 20 Apr 2016 17:44:45 +0000"  >&lt;p&gt;According to &lt;br/&gt;
&lt;a href=&quot;https://jaxenter.de/java-9-release-verschoben-warum-jigsaw-noch-nicht-fertig-ist-31687&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jaxenter.de/java-9-release-verschoben-warum-jigsaw-noch-nicht-fertig-ist-31687&lt;/a&gt;&lt;br/&gt;
setAccessible will be mostly forbidden in JDK9. In that case, we would have to switch to using twelvemonkeys and replace DCTFilter with the code provided by Harald Kuhr some time ago (see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2694&quot; title=&quot;Evaluate twelvemonkeys for JPEG&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2694&quot;&gt;PDFBOX-2694&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="15252204" author="tilman" created="Thu, 21 Apr 2016 17:02:28 +0000"  >&lt;p&gt;I tested JDK9 for a few minutes today. I didn&apos;t do very far, &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;ImageIO.getImageReadersByFormatName(&lt;span class=&quot;code-quote&quot;&gt;&quot;JPEG&quot;&lt;/span&gt;);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;fails if jai_imageio.jar is in the class path. I&apos;ve reported this in JI-9035833, resulted in &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8154860&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8154860&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15252282" author="ssteiner1" created="Thu, 21 Apr 2016 17:31:08 +0000"  >&lt;p&gt;See&lt;br/&gt;
&lt;a href=&quot;https://github.com/jai-imageio/jai-imageio-core/issues/24&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jai-imageio/jai-imageio-core/issues/24&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://github.com/levigo/jbig2-imageio/issues/10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/levigo/jbig2-imageio/issues/10&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15260869" author="tilman" created="Wed, 27 Apr 2016 20:27:26 +0000"  >&lt;p&gt;I was contacted by two oracle guys (who are interested that projects try JDK9 early releases and who noticed &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3155&quot; title=&quot;org.apache.pdfbox.util.PDFTextStripper class initialization throws NumberFormatException with recent Verona-enabled Java 9 JVMs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3155&quot;&gt;&lt;del&gt;PDFBOX-3155&lt;/del&gt;&lt;/a&gt;), and they pointed me to &lt;a href=&quot;http://openjdk.java.net/jeps/261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;JEP 261&lt;/a&gt;:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;The java.lang.reflect.AccessibleObject::setAccessible method cannot be used to gain access to members of packages that are not exported by their defining modules; an InaccessibleObjectException will be thrown. If a framework library, such as a serializer, needs access to such members then the relevant packages must be exported to the framework module either via exports declarations in module descriptors or the -XaddExports command-line option.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="15351469" author="tilman" created="Mon, 27 Jun 2016 17:47:22 +0000"  >&lt;p&gt;That bug has been kindof fixed in build 124. The cause is the new version string.&lt;/p&gt;</comment>
                            <comment id="15986945" author="tilman" created="Thu, 27 Apr 2017 16:22:37 +0000"  >&lt;p&gt;Files from my test set that fail when not using twelvemonkeys and not using &lt;tt&gt;field.setAccessible(true)&lt;/tt&gt;:&lt;/p&gt;

&lt;p&gt;gs-bugzilla691650-1.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1348&quot; title=&quot;ExtractImages jpg and tiff picture from pdf  but color wrong&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1348&quot;&gt;&lt;del&gt;PDFBOX-1348&lt;/del&gt;&lt;/a&gt;.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2700&quot; title=&quot;support JPEG color space code 11 (JCS_YCCK)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2700&quot;&gt;&lt;del&gt;PDFBOX-2700&lt;/del&gt;&lt;/a&gt;-JCS_YCCK.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;-PORSCHE_CMYK.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;-573636.pdf&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3156&quot; title=&quot;PDFPrintable generate a java.lang.NegativeArraySizeException error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3156&quot;&gt;&lt;del&gt;PDFBOX-3156&lt;/del&gt;&lt;/a&gt;.pdf&lt;/p&gt;

&lt;p&gt;InaccessibleObjectException does not exist pre JDK9, so we can&apos;t catch it, unless we catch Exception... and then I thought, why not use brute force for the few cases where getAdobeTransform() fails. And this worked &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I&apos;m also catching NegativeArraySizeException, which is for the file from &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3156&quot; title=&quot;PDFPrintable generate a java.lang.NegativeArraySizeException error&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3156&quot;&gt;&lt;del&gt;PDFBOX-3156&lt;/del&gt;&lt;/a&gt;. Of course, this solution is the second best. The best is to use twelvemonkeys (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2694&quot; title=&quot;Evaluate twelvemonkeys for JPEG&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2694&quot;&gt;PDFBOX-2694&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;After change the only one left is&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;-573636.pdf&lt;/p&gt;

&lt;p&gt;which has an error when reading.&lt;/p&gt;

&lt;p&gt;Update 29.4.2017:&lt;br/&gt;
I did an additional test, calling &lt;tt&gt;getAdobeTransformByBruteForce()&lt;/tt&gt; only and not &lt;tt&gt;getAdobeTransform&lt;/tt&gt;. This worked fine, except for &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;-CAPITAL.pdf and &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2128&quot; title=&quot;CMYK images are not supported correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2128&quot;&gt;&lt;del&gt;PDFBOX-2128&lt;/del&gt;&lt;/a&gt;-PORSCHE_CMYK.pdf. Image I2200001 in the Porsche file has two App14 data blocks, the first one has transform=1 (wrong) and the second one has transform=2 (right).&lt;/p&gt;</comment>
                            <comment id="15986946" author="jira-bot" created="Thu, 27 Apr 2017 16:22:46 +0000"  >&lt;p&gt;Commit 1792919 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1792919&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1792919&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3313&quot; title=&quot;Java 9 InaccessibleObjectException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3313&quot;&gt;&lt;del&gt;PDFBOX-3313&lt;/del&gt;&lt;/a&gt;: use brute force search for APP14 if fetching from metadata fails&lt;/p&gt;</comment>
                            <comment id="15986947" author="jira-bot" created="Thu, 27 Apr 2017 16:22:51 +0000"  >&lt;p&gt;Commit 1792920 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1792920&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1792920&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3313&quot; title=&quot;Java 9 InaccessibleObjectException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3313&quot;&gt;&lt;del&gt;PDFBOX-3313&lt;/del&gt;&lt;/a&gt;: use brute force search for APP14 if fetching from metadata fails&lt;/p&gt;</comment>
                            <comment id="15987195" author="jira-bot" created="Thu, 27 Apr 2017 18:13:29 +0000"  >&lt;p&gt;Commit 1792931 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1792931&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1792931&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3313&quot; title=&quot;Java 9 InaccessibleObjectException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3313&quot;&gt;&lt;del&gt;PDFBOX-3313&lt;/del&gt;&lt;/a&gt;: Sonar fix&lt;/p&gt;</comment>
                            <comment id="15987196" author="jira-bot" created="Thu, 27 Apr 2017 18:13:36 +0000"  >&lt;p&gt;Commit 1792932 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1792932&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1792932&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3313&quot; title=&quot;Java 9 InaccessibleObjectException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3313&quot;&gt;&lt;del&gt;PDFBOX-3313&lt;/del&gt;&lt;/a&gt;: Sonar fix&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310060">
                    <name>Container</name>
                                                                <inwardlinks description="Is contained by">
                                        <issuelink>
            <issuekey id="13021952">PDFBOX-3584</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12920100">CAUSEWAY-1277</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12865140" name="expected.pdf" size="9062" author="ssteiner" created="Wed, 26 Apr 2017 13:14:59 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vzw7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>