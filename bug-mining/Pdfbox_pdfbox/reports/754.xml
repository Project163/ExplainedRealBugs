<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:57:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2380] Glyphlist .properties are not ordered</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2380</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Currently we use .properties files to load the glyph lists, however Java&apos;s Properties is not ordered (the properties are stored in a Hashtable) and so the glyphs are not read in the correct order.&lt;/p&gt;

&lt;p&gt;This results in incorrect encoding when calling GlyphList.unicodeToName(), because the Adobe glyph lists are ordered: the default mapping comes first, and auxiliary mappings follow it, for example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;space=0020
spacehackarabic=0020
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Currently in PDFBox, GlyphList.unicodeToName(0x20) returns &quot;spacehackarabic&quot;, which is wrong, we always want the first entry in the glyph list.&lt;/p&gt;

&lt;p&gt;We need to move away from using .properties and instead just use Adobe&apos;s existing glyph list format, the only difference is that we switch &lt;tt&gt;=&lt;/tt&gt; for &lt;tt&gt;;&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12743691">PDFBOX-2380</key>
            <summary>Glyphlist .properties are not ordered</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="jahewson">John Hewson</reporter>
                        <labels>
                    </labels>
                <created>Wed, 24 Sep 2014 01:50:25 +0000</created>
                <updated>Thu, 17 Mar 2016 19:07:51 +0000</updated>
                            <resolved>Fri, 26 Sep 2014 08:48:52 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14146058" author="lehmi" created="Wed, 24 Sep 2014 08:29:47 +0000"  >&lt;p&gt;Obviously we have to implement our own reader to store the data as needed and we don&apos;t have to change the delimiter to do so. On the contrary, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1665&quot; title=&quot;Replace external glyphlist.txt with our onw implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1665&quot;&gt;&lt;del&gt;PDFBOX-1665&lt;/del&gt;&lt;/a&gt; explicitly creates a new format to get rid of the external dependencies.&lt;/p&gt;</comment>
                            <comment id="14146498" author="jahewson" created="Wed, 24 Sep 2014 16:39:08 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Obviously we have to implement our own reader to store the data as needed and we don&apos;t have to change the delimiter to do so.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;True, but I have other glyphlist files which don&apos;t work with PDFBox because it doesn&apos;t use the standard format, so if we&apos;re implementing a new glyphlist loader it&apos;d be far more convenient for it to read standard glyphlist files.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;On the contrary, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1665&quot; title=&quot;Replace external glyphlist.txt with our onw implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1665&quot;&gt;&lt;del&gt;PDFBOX-1665&lt;/del&gt;&lt;/a&gt; explicitly creates a new format to get rid of the external dependencies.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Fortunately we don&apos;t have to worry about that anymore, the Adobe glyphlist license is now more permissive, so we can use their files verbatim, here&apos;s the important bit:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;# Redistribution and use in source and binary forms, with or
# without modification, are permitted provided that the
# following conditions are met:
#
# Redistributions of source code must retain the above
# copyright notice, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; list of conditions and the following
# disclaimer.
#
# Redistributions in binary form must reproduce the above
# copyright notice, &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; list of conditions and the following
# disclaimer in the documentation and/or other materials
# provided with the distribution.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can find the full text at &lt;a href=&quot;http://superb-dca3.dl.sourceforge.net/project/aglfn.adobe/glyphlist.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://superb-dca3.dl.sourceforge.net/project/aglfn.adobe/glyphlist.txt&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14146612" author="lehmi" created="Wed, 24 Sep 2014 17:56:46 +0000"  >&lt;p&gt;OK, I see. &lt;br/&gt;
The license looks like 3-clause BSD and according to &lt;a href=&quot;http://www.apache.org/legal/resolved.html#category-a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/legal/resolved.html#category-a&lt;/a&gt; and &lt;a href=&quot;http://www.apache.org/legal/resolved.html#no-modification&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/legal/resolved.html#no-modification&lt;/a&gt; this isn&apos;t allowed. But following &lt;a href=&quot;https://issues.apache.org/jira/browse/LEGAL-185&quot; title=&quot;Classify 3-clause BSD (&amp;quot;simplified BSD&amp;quot;) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;LEGAL-185&quot;&gt;&lt;del&gt;LEGAL-185&lt;/del&gt;&lt;/a&gt; it seems to be ok. We should ask legal@ to update those outdated license information.&lt;/p&gt;</comment>
                            <comment id="14146651" author="jahewson" created="Wed, 24 Sep 2014 18:14:25 +0000"  >&lt;p&gt;The license says &quot;with or without modification&quot;, so there are no issues with modification, this is something which has changed vs. the old glyph list license. &lt;/p&gt;

&lt;p&gt;I agree it looks like a 3-clause BSD, which is category A, in the discussion from &lt;a href=&quot;https://issues.apache.org/jira/browse/LEGAL-185&quot; title=&quot;Classify 3-clause BSD (&amp;quot;simplified BSD&amp;quot;) &quot; class=&quot;issue-link&quot; data-issue-key=&quot;LEGAL-185&quot;&gt;&lt;del&gt;LEGAL-185&lt;/del&gt;&lt;/a&gt;, it is the 4-clause BSD which is problematic, as it includes the &quot;advertising clause&quot;, namely:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;All advertising materials mentioning features or use of this software must display the following acknowledgement: This product includes software developed by the &amp;lt;organization&amp;gt;.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Which is not present in the glyph list license. The information on the licensing page may or may not be out of date regarding the 4-clause BSD, but the phrase &quot;BSD (without advertising clause)&quot; covers BSD-3 already, because it has no advertising clause.&lt;/p&gt;

&lt;p&gt;It might still be worth asking legal@ to make this explicit on the page, but as it stands we&apos;re ok with the BSD-3.&lt;/p&gt;</comment>
                            <comment id="14146881" author="lehmi" created="Wed, 24 Sep 2014 21:02:55 +0000"  >&lt;p&gt;I thought that the 3 condition of the 3-clause BSD is the mentioned &quot;advertising clause&quot; as it uses promote. Just a missunderstanding due to my limited english capabilities. Everything is ok.&lt;/p&gt;</comment>
                            <comment id="14147041" author="jahewson" created="Wed, 24 Sep 2014 23:00:00 +0000"  >&lt;p&gt;Ok, I&apos;ll go ahead and implement this then, thanks for your feedback.&lt;/p&gt;</comment>
                            <comment id="14147599" author="lehmi" created="Thu, 25 Sep 2014 10:21:00 +0000"  >&lt;p&gt;I&apos;ve create &lt;a href=&quot;https://issues.apache.org/jira/browse/LEGAL-208&quot; title=&quot;Remove &amp;quot;Adobe Glyph List&amp;quot; entry from &amp;quot;How should licenses that prevent modification be handled?&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;LEGAL-208&quot;&gt;&lt;del&gt;LEGAL-208&lt;/del&gt;&lt;/a&gt; to ask for an update of the license information about the Adobe Glyph list&lt;/p&gt;</comment>
                            <comment id="14148410" author="jira-bot" created="Thu, 25 Sep 2014 22:34:21 +0000"  >&lt;p&gt;Commit 1627677 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1627677&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1627677&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2380&quot; title=&quot;Glyphlist .properties are not ordered&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2380&quot;&gt;&lt;del&gt;PDFBOX-2380&lt;/del&gt;&lt;/a&gt;: Refactor glyph list loading and lookup&lt;/p&gt;</comment>
                            <comment id="14148419" author="jahewson" created="Thu, 25 Sep 2014 22:40:56 +0000"  >&lt;p&gt;I&apos;ve refactored the way that glyph lists are loaded in 2.0, we now parse the standard .txt files rather than .properties files, and I&apos;ve included copies of Adobe&apos;s AGL and Zapf Dingbats glyph lists.&lt;/p&gt;

&lt;p&gt;I&apos;ve also fixed some bugs related to use of Java&apos;s char which meant that the glyph lists couldn&apos;t store mappings outside of the BMP. I&apos;ve also accounted for the fact that the Adobe glyph lists contain some multi-character mappings.&lt;/p&gt;

&lt;p&gt;I&apos;ve replaced the static DEFAULT glyph list with a getAdobeGlyphList() method, as some PDFBox font internals require this to be the AGL and not some other additional glyph list. The loading and use of the additional glyphlist is application specific and so has been moved to PDFStreamEngine, where the getGlyphList() method can be overridden to pass custom glyph lists to fonts. PDFTextStreamEngine does this with the additional glyph list which is currently shipped with PDFBox for use in Unicode mapping.&lt;/p&gt;

&lt;p&gt;I&apos;m going to clean this up some more so that we don&apos;t have to pass the GlyphList in the constructor.&lt;/p&gt;</comment>
                            <comment id="14148639" author="jira-bot" created="Fri, 26 Sep 2014 02:25:22 +0000"  >&lt;p&gt;Commit 1627702 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1627702&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1627702&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2380&quot; title=&quot;Glyphlist .properties are not ordered&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2380&quot;&gt;&lt;del&gt;PDFBOX-2380&lt;/del&gt;&lt;/a&gt;: Simplify custom GlyphList use for toUnicode&lt;/p&gt;</comment>
                            <comment id="14148640" author="jira-bot" created="Fri, 26 Sep 2014 02:29:15 +0000"  >&lt;p&gt;Commit 1627703 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1627703&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1627703&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2380&quot; title=&quot;Glyphlist .properties are not ordered&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2380&quot;&gt;&lt;del&gt;PDFBOX-2380&lt;/del&gt;&lt;/a&gt;: Added Adobe glyph lists&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 8 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i20f87:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>