<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:06:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3794] Problem in TextPosition implementation</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3794</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;In 2.0.3 there wasn&apos;t hashCode implemented in TextPosition, and for me that was fine. Same instance, same hashCode.&lt;/p&gt;

&lt;p&gt;In 2.0.6 the hashCode is now checking the fields values, which is reasonable. But, the hashCode in the same instance can have different results.&lt;/p&gt;

&lt;p&gt;The problem is in the `direction` field, which is -1.0 and initialised only when getDir is called the first time.&lt;/p&gt;

&lt;p&gt;For now as workaround, anytime (or just the first time) I need the textPosition&apos;s hashCode I call getDir before that. &lt;/p&gt;

&lt;p&gt;Quick example:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; getObjectFromTextPos(TextPosition textPos) {
    textPos.getDir();
    &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; someHashMap.get(textPos);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I don&apos;t know the reason of the late assignment to direction, but if that is necessary, I would say that the hashCode should call getDir() instead of using the field.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13072429">PDFBOX-3794</key>
            <summary>Problem in TextPosition implementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="miromannino">Miro Mannino</reporter>
                        <labels>
                            <label>easyfix</label>
                    </labels>
                <created>Tue, 16 May 2017 12:39:41 +0000</created>
                <updated>Fri, 21 Jul 2017 04:40:08 +0000</updated>
                            <resolved>Thu, 18 May 2017 19:15:41 +0000</resolved>
                                    <version>2.0.6</version>
                                    <fixVersion>2.0.7</fixVersion>
                                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16014048" author="tilman" created="Wed, 17 May 2017 13:36:55 +0000"  >&lt;blockquote&gt;
&lt;p&gt;I don&apos;t know the reason of the late assignment to direction&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;generation by an IDE.&lt;/p&gt;

&lt;p&gt;How about removing this line from the hash code calculation?&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;result = 31 * result + &lt;span class=&quot;code-object&quot;&gt;Float&lt;/span&gt;.floatToIntBits(direction);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The direction isn&apos;t a &quot;core&quot; field, it is cached for speed.&lt;/p&gt;</comment>
                            <comment id="16015632" author="miromannino" created="Thu, 18 May 2017 11:48:08 +0000"  >&lt;p&gt;Yes I agree, if it is not a significant field I guess can be also removed. &lt;/p&gt;</comment>
                            <comment id="16016293" author="jira-bot" created="Thu, 18 May 2017 19:12:08 +0000"  >&lt;p&gt;Commit 1795552 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1795552&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1795552&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3794&quot; title=&quot;Problem in TextPosition implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3794&quot;&gt;&lt;del&gt;PDFBOX-3794&lt;/del&gt;&lt;/a&gt;: remove field from hash calculation because it is rather a cached value&lt;/p&gt;</comment>
                            <comment id="16016294" author="jira-bot" created="Thu, 18 May 2017 19:12:13 +0000"  >&lt;p&gt;Commit 1795553 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1795553&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1795553&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3794&quot; title=&quot;Problem in TextPosition implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3794&quot;&gt;&lt;del&gt;PDFBOX-3794&lt;/del&gt;&lt;/a&gt;: remove field from hash calculation because it is rather a cached value&lt;/p&gt;</comment>
                            <comment id="16016301" author="tilman" created="Thu, 18 May 2017 19:15:41 +0000"  >&lt;p&gt;Done. Thanks for reporting this!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13021217">PDFBOX-3576</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13073675">PDFBOX-3799</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 26 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3f1vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>