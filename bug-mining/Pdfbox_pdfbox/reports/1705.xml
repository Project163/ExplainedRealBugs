<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:05:43 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3727] &quot;premature EOF, image will be incomplete&quot;</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3727</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I am trying to extract all the embeded images from Pdf file. But some times the images extracted are throwing warnings below.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[main] WARN  o.a.p.p.g.image.SampledImageReader - premature EOF, image will be incomplete
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The extracted images are half-complete(half- greyed out)&lt;/p&gt;

&lt;p&gt;I would like to know if any solution available for this. Below is my code snippet&lt;/p&gt;

&lt;p&gt;Any Help is greatly appreciated.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void testPDFBoxExtractImages() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; Exception {
	    PDDocument document = PDDocument.load(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(fileName));
	    PDPageTree list = document.getPages();
	    &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (PDPage page : list) {
	        PDResources pdResources = page.getResources();
	        &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(page.getRotation());
	        &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; (COSName c : pdResources.getXObjectNames()) {
	            PDXObject o = pdResources.getXObject(c);
	            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (o &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject) {
	                File file = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;C:/temp/&quot;&lt;/span&gt; + &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.nanoTime() + &lt;span class=&quot;code-quote&quot;&gt;&quot;.png&quot;&lt;/span&gt;);
	                ImageIO.write(((org.apache.pdfbox.pdmodel.graphics.image.PDImageXObject)o).getImage(), &lt;span class=&quot;code-quote&quot;&gt;&quot;png&quot;&lt;/span&gt;, file);
	            }
	        }
	    }
	}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment>Windows 10/X64</environment>
        <key id="13057773">PDFBOX-3727</key>
            <summary>&quot;premature EOF, image will be incomplete&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="raviopen">Ravi</reporter>
                        <labels>
                            <label>CCITTFaxDecode</label>
                            <label>ccitt</label>
                    </labels>
                <created>Tue, 21 Mar 2017 03:21:17 +0000</created>
                <updated>Mon, 15 May 2017 20:28:14 +0000</updated>
                            <resolved>Wed, 22 Mar 2017 16:43:58 +0000</resolved>
                                    <version>2.0.4</version>
                    <version>2.0.5</version>
                                    <fixVersion>2.0.6</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15934092" author="tilman" created="Tue, 21 Mar 2017 04:51:02 +0000"  >&lt;p&gt;Please attach the PDF, to verify that the images are really too short.&lt;/p&gt;</comment>
                            <comment id="15935318" author="raviopen" created="Tue, 21 Mar 2017 20:53:40 +0000"  >&lt;p&gt;Hi,&lt;br/&gt;
I can&apos;t upload the document as its bit confidential, but i can email to individual. Please let me know&lt;br/&gt;
Thx&lt;/p&gt;

&lt;p&gt;      From: Tilman Hausherr (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
 To: ravi_docs@yahoo.com &lt;br/&gt;
 Sent: Tuesday, March 21, 2017 1:00 AM&lt;br/&gt;
 Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Commented&amp;#93;&lt;/span&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727&quot; title=&quot;&amp;quot;premature EOF, image will be incomplete&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3727&quot;&gt;&lt;del&gt;PDFBOX-3727&lt;/del&gt;&lt;/a&gt;) &quot;premature EOF, image will be incomplete&quot;&lt;/p&gt;


&lt;p&gt;&#160; &#160; [ &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=15934092#comment-15934092&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PDFBOX-3727?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=15934092#comment-15934092&lt;/a&gt; ] &lt;/p&gt;

&lt;p&gt;Tilman Hausherr commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727&quot; title=&quot;&amp;quot;premature EOF, image will be incomplete&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3727&quot;&gt;&lt;del&gt;PDFBOX-3727&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
-----------------------------------------&lt;/p&gt;

&lt;p&gt;Please attach the PDF, to verify that the images are really too short.&lt;/p&gt;




&lt;p&gt;&amp;#8211;&lt;br/&gt;
This message was sent by Atlassian JIRA&lt;br/&gt;
(v6.3.15#6346)&lt;/p&gt;


</comment>
                            <comment id="15935323" author="tilman" created="Tue, 21 Mar 2017 20:55:55 +0000"  >&lt;p&gt;send it to   tilman at snafu dot de. Please clarify how confidential it is, e.g. share among committers, delete after 7 days, whatever you&apos;d like.&lt;/p&gt;

&lt;p&gt;Btw, the images that are &quot;half there&quot;, can you see them when viewing the file in Adobe Reader?&lt;/p&gt;</comment>
                            <comment id="15935446" author="tilman" created="Tue, 21 Mar 2017 22:20:47 +0000"  >&lt;p&gt;Thank you for the file. It displays properly with Adobe Reader, but not with PDFBox and two other java products, and ghostscript crashes.&lt;/p&gt;

&lt;p&gt;I&apos;m going to sleep, and this investigation will take some time.&lt;/p&gt;

&lt;p&gt;Memo for me: &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;investigate image Xop7 (smallest)&lt;/li&gt;
	&lt;li&gt;fix possible bug with indexed colorspace in PDFDebugger&lt;/li&gt;
	&lt;li&gt;rows != height in image dict, seemingly rows in DecodeParams incorrect&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15935799" author="tilman" created="Wed, 22 Mar 2017 06:09:25 +0000"  >&lt;p&gt;As seen in the screenshot,&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12859867/12859867_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
the rows value is different than the height value. In your image, the height value is the correct one. Our current code takes the smaller of the two, due to the file in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-771&quot; title=&quot;PDF 2 Tiff conversion is not happening properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-771&quot;&gt;&lt;del&gt;PDFBOX-771&lt;/del&gt;&lt;/a&gt; where the rows value is too large (1084975104).&lt;/p&gt;

&lt;p&gt;The good news is that it is possible to change PDFBox to display your file correctly. I just need to check that all existing test files still work.&lt;/p&gt;</comment>
                            <comment id="15935818" author="jira-bot" created="Wed, 22 Mar 2017 06:31:09 +0000"  >&lt;p&gt;Commit 1788053 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1788053&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1788053&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727&quot; title=&quot;&amp;quot;premature EOF, image will be incomplete&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3727&quot;&gt;&lt;del&gt;PDFBOX-3727&lt;/del&gt;&lt;/a&gt;: correct color count&lt;/p&gt;</comment>
                            <comment id="15936534" author="raviopen" created="Wed, 22 Mar 2017 15:30:40 +0000"  >&lt;p&gt;would this be a big change? if so any time we can expect resolution?&lt;/p&gt;

&lt;p&gt;      From: Tilman Hausherr (JIRA) &amp;lt;jira@apache.org&amp;gt;&lt;br/&gt;
 To: ravi_docs@yahoo.com &lt;br/&gt;
 Sent: Wednesday, March 22, 2017 2:09 AM&lt;br/&gt;
 Subject: &lt;span class=&quot;error&quot;&gt;&amp;#91;jira&amp;#93;&lt;/span&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Commented&amp;#93;&lt;/span&gt; (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727&quot; title=&quot;&amp;quot;premature EOF, image will be incomplete&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3727&quot;&gt;&lt;del&gt;PDFBOX-3727&lt;/del&gt;&lt;/a&gt;) &quot;premature EOF, image will be incomplete&quot;&lt;/p&gt;


&lt;p&gt;&#160; &#160; [ &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=15935799#comment-15935799&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PDFBOX-3727?page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel&amp;amp;focusedCommentId=15935799#comment-15935799&lt;/a&gt; ] &lt;/p&gt;

&lt;p&gt;Tilman Hausherr commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727&quot; title=&quot;&amp;quot;premature EOF, image will be incomplete&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3727&quot;&gt;&lt;del&gt;PDFBOX-3727&lt;/del&gt;&lt;/a&gt;:&lt;br/&gt;
-----------------------------------------&lt;/p&gt;

&lt;p&gt;As seen in the screenshot,&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/12859867/12859867_screenshot-1.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;br/&gt;
the rows value is different than the height value. In your image, the height value is the correct one. Our current code takes the smaller of the two, due to the file in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-771&quot; title=&quot;PDF 2 Tiff conversion is not happening properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-771&quot;&gt;&lt;del&gt;PDFBOX-771&lt;/del&gt;&lt;/a&gt; where the rows value is too large (1084975104).&lt;/p&gt;

&lt;p&gt;The good news is that it is possible to change PDFBox to display your file correctly. I just need to check that all existing test files still work.&lt;/p&gt;




&lt;p&gt;&amp;#8211;&lt;br/&gt;
This message was sent by Atlassian JIRA&lt;br/&gt;
(v6.3.15#6346)&lt;/p&gt;


</comment>
                            <comment id="15936613" author="jira-bot" created="Wed, 22 Mar 2017 16:23:04 +0000"  >&lt;p&gt;Commit 1788134 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1788134&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1788134&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727&quot; title=&quot;&amp;quot;premature EOF, image will be incomplete&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3727&quot;&gt;&lt;del&gt;PDFBOX-3727&lt;/del&gt;&lt;/a&gt;: use height instead of rows, because the later number has been found to be unreliable&lt;/p&gt;</comment>
                            <comment id="15936614" author="jira-bot" created="Wed, 22 Mar 2017 16:23:09 +0000"  >&lt;p&gt;Commit 1788135 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1788135&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1788135&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727&quot; title=&quot;&amp;quot;premature EOF, image will be incomplete&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3727&quot;&gt;&lt;del&gt;PDFBOX-3727&lt;/del&gt;&lt;/a&gt;: use height instead of rows, because the later number has been found to be unreliable&lt;/p&gt;</comment>
                            <comment id="15936617" author="tilman" created="Wed, 22 Mar 2017 16:24:32 +0000"  >&lt;p&gt;Commit 1788052 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1788052&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1788052&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3727&quot; title=&quot;&amp;quot;premature EOF, image will be incomplete&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3727&quot;&gt;&lt;del&gt;PDFBOX-3727&lt;/del&gt;&lt;/a&gt;: correct color count&lt;/p&gt;</comment>
                            <comment id="15936641" author="tilman" created="Wed, 22 Mar 2017 16:41:23 +0000"  >&lt;p&gt;This fixes the problem with your file. The solution is to ignore the rows value in the /DecodeParms array and use the height value from the image dictionary.&lt;/p&gt;

&lt;p&gt;A snapshot is available here:&lt;br/&gt;
&lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.6-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/pdfbox/pdfbox-app/2.0.6-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ve set myself a calendar notice to delete your file on 28.3.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12468720">PDFBOX-771</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12859867" name="screenshot-1.png" size="8114" author="tilman" created="Wed, 22 Mar 2017 06:02:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 34 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ck3r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>