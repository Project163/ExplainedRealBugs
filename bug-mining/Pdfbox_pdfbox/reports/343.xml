<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1283] Unicode characters displayed with wrong Advance</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1283</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;The file AnnahmeReport_MitRussischTest.pdf is not displayed correctly. The advance of the characters is calculated wrong. The document is displayed correctly in Adobe Reader.&lt;/p&gt;

&lt;p&gt;In PDCIDFont.java the method extractWidths() fills widthCache with the character widths based on the array in the &quot;W&quot; Dictionary. The widthCache seems to translate from from Unicode to character width but the &quot;W&quot; Dictionary translates from CID-code to character width. &lt;/p&gt;

&lt;p&gt;In this PDF file the TTF font is embedded and the CID code is identical to the glyph code in the TTF font. A cmap maps from unicode directly to the cid/gid in the ttf font.&lt;/p&gt;

&lt;p&gt;So this cache is filled in the wrong way or when accessing the cache it is not taken into account that this array containes the widths based on the cid/gid.&lt;/p&gt;

&lt;p&gt;The cmap encoding has to be used when filling the cache or when reading the values from the cache&lt;/p&gt;

&lt;p&gt;I checked if Adobe Reader uses the values in /W to determine the widths to rule out the case that&lt;br/&gt;
 the PDF file is faulty and adobe reader just ignores the faulty /W array.&lt;/p&gt;



&lt;p&gt;When changing the entries for the glyphs number 20..23 in the /W array of the bold font &lt;br/&gt;
(first 4 values in the second line of the array which match to characters &apos;1&apos;..&apos;4&apos;)  &lt;br/&gt;
then the numbers are displayed with wrong widths in AdobeReader while nothing changes in PDFBox.&lt;br/&gt;
 (file AnnahmeReport_MitRussischTest_Modified.pdf)&lt;/p&gt;




</description>
                <environment></environment>
        <key id="12550038">PDFBOX-1283</key>
            <summary>Unicode characters displayed with wrong Advance</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="duesi">Daniel Schwinn</reporter>
                        <labels>
                    </labels>
                <created>Fri, 6 Apr 2012 22:02:33 +0000</created>
                <updated>Thu, 17 Mar 2016 19:07:35 +0000</updated>
                            <resolved>Mon, 23 Sep 2013 17:32:23 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Swing GUI</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="13728879" author="lehmi" created="Sun, 4 Aug 2013 12:50:45 +0000"  >&lt;p&gt;Looks better after solving &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-490&quot; title=&quot;Pdf Printing of text from embedded fonts&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-490&quot;&gt;&lt;del&gt;PDFBOX-490&lt;/del&gt;&lt;/a&gt;, but there is still the described issue. Have to investigate&lt;/p&gt;</comment>
                            <comment id="13774753" author="lehmi" created="Mon, 23 Sep 2013 17:32:23 +0000"  >&lt;p&gt;I fixed the issue in revision 1525654. PDFBox now uses a suitable mapping to get the correct width value for a CIDType2 font.&lt;/p&gt;

&lt;p&gt;Thanks for the report&lt;/p&gt;</comment>
                            <comment id="13775542" author="lehmi" created="Mon, 23 Sep 2013 18:38:57 +0000"  >&lt;p&gt;I fixed an mapping issue in revision 1525672 which led to a regression in one our test cases&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12521771" name="AnnahmeReport_MitRussischTest.pdf" size="2084125" author="duesi" created="Fri, 6 Apr 2012 22:04:08 +0000"/>
                            <attachment id="12521773" name="AnnahmeReport_MitRussischTest_Modified.pdf" size="2084125" author="duesi" created="Fri, 6 Apr 2012 22:05:17 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>234939</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            12 years, 8 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i14tof:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>236273</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>