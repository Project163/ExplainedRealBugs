<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:01:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3021] Class Cast Exception: COSString -&gt; COSName</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3021</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Following execption is generated while rendering a PDF (unfortunately confidential):&lt;/p&gt;

&lt;p&gt;java.lang.ClassCastException: org.apache.pdfbox.cos.COSString cannot be cast to org.apache.pdfbox.cos.COSName&lt;br/&gt;
                at org.apache.pdfbox.pdmodel.font.PDFontDescriptor.getFontName(PDFontDescriptor.java:289)&lt;br/&gt;
                at org.apache.pdfbox.pdmodel.font.ExternalFonts.getFallbackFontName(ExternalFonts.java:294)&lt;br/&gt;
                at org.apache.pdfbox.pdmodel.font.ExternalFonts.getTrueTypeFallbackFont(ExternalFonts.java:273)&lt;br/&gt;
                at org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.&amp;lt;init&amp;gt;(PDTrueTypeFont.java:157)&lt;br/&gt;
                at org.apache.pdfbox.pdmodel.font.PDFontFactory.createFont(PDFontFactory.java:75)&lt;br/&gt;
                at org.apache.pdfbox.pdmodel.PDResources.getFont(PDResources.java:96)&lt;br/&gt;
                at org.apache.pdfbox.contentstream.operator.text.SetFontAndSize.process(SetFontAndSize.java:50)&lt;br/&gt;
                at org.apache.pdfbox.contentstream.PDFStreamEngine.processOperator(PDFStreamEngine.java:802)&lt;br/&gt;
                at org.apache.pdfbox.contentstream.PDFStreamEngine.processStreamOperators(PDFStreamEngine.java:464)&lt;br/&gt;
                at org.apache.pdfbox.contentstream.PDFStreamEngine.processStream(PDFStreamEngine.java:438)&lt;br/&gt;
                at org.apache.pdfbox.contentstream.PDFStreamEngine.processPage(PDFStreamEngine.java:149)&lt;br/&gt;
                at org.apache.pdfbox.rendering.PageDrawer.drawPage(PageDrawer.java:179)&lt;br/&gt;
                at org.apache.pdfbox.rendering.PDFRenderer.renderPage(PDFRenderer.java:205)&lt;br/&gt;
                at org.apache.pdfbox.rendering.PDFRenderer.renderImage(PDFRenderer.java:136)&lt;br/&gt;
                at org.apache.pdfbox.rendering.PDFRenderer.renderImageWithDPI(PDFRenderer.java:95)&lt;/p&gt;

&lt;p&gt;Is this maybe related to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1756&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/PDFBOX-1756&lt;/a&gt; but only in a different spot?&lt;/p&gt;

&lt;p&gt;Hint: Revision of 2.0.0 version trunk is 1704293&lt;/p&gt;</description>
                <environment></environment>
        <key id="12904478">PDFBOX-3021</key>
            <summary>Class Cast Exception: COSString -&gt; COSName</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="daniel.scheibe">Daniel Scheibe</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Oct 2015 09:13:25 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:40 +0000</updated>
                            <resolved>Thu, 15 Oct 2015 17:01:18 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Text extraction</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14954756" author="msahyoun" created="Tue, 13 Oct 2015 10:17:36 +0000"  >&lt;p&gt;it looks like the name of the font is given as a string instead of a name in the font descriptior (name is how it should be). What you could do to verify that is look up the fonts and their descriptors using the PDFDebugger and cut an paste the snippet of the PDF here to verify if that is correct.&lt;/p&gt;</comment>
                            <comment id="14955110" author="jira-bot" created="Tue, 13 Oct 2015 15:24:13 +0000"  >&lt;p&gt;Commit 1708440 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1708440&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1708440&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3021&quot; title=&quot;Class Cast Exception: COSString -&amp;gt; COSName&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3021&quot;&gt;&lt;del&gt;PDFBOX-3021&lt;/del&gt;&lt;/a&gt;: avoid ClassCastException&lt;/p&gt;</comment>
                            <comment id="14955115" author="tilman" created="Tue, 13 Oct 2015 15:25:59 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=dscheibe&quot; class=&quot;user-hover&quot; rel=&quot;dscheibe&quot;&gt;dscheibe&lt;/a&gt; This avoids the ClassCastException. Do other bad things happen now?&lt;/p&gt;</comment>
                            <comment id="14959228" author="tilman" created="Thu, 15 Oct 2015 17:01:18 +0000"  >&lt;p&gt;Setting to resolved as we want to get out a release candidate today. You can still comment if you want.&lt;/p&gt;</comment>
                            <comment id="14966411" author="daniel.scheibe" created="Wed, 21 Oct 2015 08:09:38 +0000"  >&lt;p&gt;I now get my image rendered but the fonts look incorrect, i suppose this happens because of the following warnings in the logfile:&lt;/p&gt;

&lt;p&gt;WARN  org.apache.pdfbox.pdmodel.font.PDTrueTypeFont &lt;br/&gt;
Using fallback font &apos;ArialMT&apos; for &apos;Arial Narrow,Bold&apos;&lt;br/&gt;
WARN  org.apache.pdfbox.pdmodel.font.PDTrueTypeFont &lt;br/&gt;
Using fallback font &apos;ArialMT&apos; for &apos;Microsoft Sans Serif&apos;&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; WARN  org.apache.pdfbox.pdmodel.font.PDTrueTypeFont &lt;br/&gt;
Using fallback font &apos;ArialMT&apos; for &apos;Myriad Condensed Web&apos;&lt;br/&gt;
...&lt;/p&gt;

&lt;p&gt;I will dig into your fix and see if i can get more information and maybe a suggestion for this.&lt;/p&gt;</comment>
                            <comment id="14966536" author="daniel.scheibe" created="Wed, 21 Oct 2015 09:36:16 +0000"  >&lt;p&gt;My mistake, the warnings are not related to the change but due to non-embedded fonts which don&apos;t exist on the machine.&lt;/p&gt;

&lt;p&gt;I would then consider it closed.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12675459">PDFBOX-1756</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 4 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mxsv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>