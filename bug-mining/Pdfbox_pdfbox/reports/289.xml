<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1498] Index Out Of Bounds Exception while reading large PDF Document </title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1498</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;I am getting java.lang.IndexOutOfBoundsException while reading large PDF document (800 mb). &lt;br/&gt;
Below is the full stack&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.apache.pdfbox.exceptions.WrappedIOException&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:243)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1071)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1038)&lt;br/&gt;
	at imageData.AddFooter.main(AddFooter.java:26)&lt;br/&gt;
Caused by: java.lang.IndexOutOfBoundsException: Index: 3377, Size: 3377&lt;br/&gt;
	at java.util.ArrayList.RangeCheck(ArrayList.java:547)&lt;br/&gt;
	at java.util.ArrayList.get(ArrayList.java:322)&lt;br/&gt;
	at org.apache.pdfbox.io.RandomAccessBuffer.seek(RandomAccessBuffer.java:84)&lt;br/&gt;
	at org.apache.pdfbox.io.RandomAccessFileOutputStream.write(RandomAccessFileOutputStream.java:106)&lt;br/&gt;
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)&lt;br/&gt;
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)&lt;br/&gt;
	at java.io.FilterOutputStream.close(FilterOutputStream.java:140)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.BaseParser.parseCOSStream(BaseParser.java:606)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parseObject(PDFParser.java:566)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:187)&lt;br/&gt;
	... 3 more&lt;/p&gt;</description>
                <environment></environment>
        <key id="12628660">PDFBOX-1498</key>
            <summary>Index Out Of Bounds Exception while reading large PDF Document </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="5">Cannot Reproduce</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="patelmanoj">Manoj Patel</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 Jan 2013 06:06:09 +0000</created>
                <updated>Thu, 6 Aug 2015 20:38:31 +0000</updated>
                            <resolved>Wed, 11 Jun 2014 13:56:49 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="13559421" author="lehmi" created="Tue, 22 Jan 2013 06:18:04 +0000"  >&lt;p&gt;This issue was resolved in revision 1432658. See &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1490&quot; title=&quot;pdf page =&amp;gt; inline image not converted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1490&quot;&gt;&lt;del&gt;PDFBOX-1490&lt;/del&gt;&lt;/a&gt; for further details.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                            <comment id="13559427" author="patelmanoj" created="Tue, 22 Jan 2013 06:37:17 +0000"  >&lt;p&gt;Thanks for fast reply. I am still getting same error, i have added latest files from svn and still issue is continue.&lt;/p&gt;

&lt;p&gt;Below is my code&lt;/p&gt;

&lt;p&gt;public class ReadLargeFile {&lt;br/&gt;
	public static void main(String[] args) throws Exception&lt;/p&gt;
{
		File file = new File(&quot;C:\\TESTFILE.pdf&quot;);		
		FileInputStream fin = new FileInputStream(file);				
		PDDocument doc = PDDocument.load(fin);
		List allPages = doc.getDocumentCatalog().getAllPages();
		//Need some operation on Pages.
		System.out.println(&quot;Pages Count::&quot; + allPages.size());
		doc.close();		
	}
&lt;p&gt;}&lt;/p&gt;</comment>
                            <comment id="13559429" author="lehmi" created="Tue, 22 Jan 2013 06:46:28 +0000"  >&lt;p&gt;Please attach a sample pdf&lt;/p&gt;</comment>
                            <comment id="13559441" author="patelmanoj" created="Tue, 22 Jan 2013 07:05:04 +0000"  >&lt;p&gt;Its around 800 mb size document. You can try any pdf file with same size.&lt;/p&gt;</comment>
                            <comment id="13559514" author="lehmi" created="Tue, 22 Jan 2013 09:45:13 +0000"  >&lt;p&gt;The described IndexOutOfBounds issue isn&apos;t related to the size of the pdf (see &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1490&quot; title=&quot;pdf page =&amp;gt; inline image not converted&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1490&quot;&gt;&lt;del&gt;PDFBOX-1490&lt;/del&gt;&lt;/a&gt;, the pdf in question has a size of 102Kb)&lt;/p&gt;

&lt;p&gt;Are you sure that &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;you have the latest code?&lt;/li&gt;
	&lt;li&gt;you are really using the new compiled code?&lt;/li&gt;
	&lt;li&gt;the issue/stacktrace is the same?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13559536" author="patelmanoj" created="Tue, 22 Jan 2013 10:36:09 +0000"  >&lt;p&gt;Ya, I am using fontbox-1.8.0-SNAPSHOT.jar, jempbox-1.8.0-SNAPSHOT.jar, pdfbox-1.8.0-SNAPSHOT.jar and still i am getting below error, even i have checkout latest code and build latest jars few minutes before. Below is the stack which i am getting&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.apache.pdfbox.exceptions.WrappedIOException&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:243)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1071)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1038)&lt;br/&gt;
	at imageData.ReadLargeFile.main(ReadLargeFile.java:13)&lt;br/&gt;
Caused by: java.lang.IndexOutOfBoundsException: Index: 3376, Size: 3376&lt;br/&gt;
	at java.util.ArrayList.RangeCheck(ArrayList.java:547)&lt;br/&gt;
	at java.util.ArrayList.get(ArrayList.java:322)&lt;br/&gt;
	at org.apache.pdfbox.io.RandomAccessBuffer.seek(RandomAccessBuffer.java:84)&lt;br/&gt;
	at org.apache.pdfbox.io.RandomAccessFileOutputStream.write(RandomAccessFileOutputStream.java:106)&lt;br/&gt;
	at java.io.BufferedOutputStream.flushBuffer(BufferedOutputStream.java:65)&lt;br/&gt;
	at java.io.BufferedOutputStream.flush(BufferedOutputStream.java:123)&lt;br/&gt;
	at java.io.FilterOutputStream.close(FilterOutputStream.java:140)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.BaseParser.parseCOSStream(BaseParser.java:606)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parseObject(PDFParser.java:566)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:187)&lt;br/&gt;
	... 3 more&lt;/p&gt;</comment>
                            <comment id="13559557" author="lehmi" created="Tue, 22 Jan 2013 11:41:14 +0000"  >&lt;p&gt;Hmmm, there are two possible ways to proceed:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;upload the pdf in question somewhere to a sharehoster, so that we can download it (Send me a private mail with the download link if you can&apos;t make the pdf public)&lt;/li&gt;
	&lt;li&gt;attach the pdfbox.jar you&apos;re using so that we can doublecheck your environment&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13560504" author="patelmanoj" created="Wed, 23 Jan 2013 09:17:57 +0000"  >&lt;p&gt;Sorry but i cannot share document with anyone. I have created new document which is around 700mb. Now when i try  same program, it is giving below Java heap space exception, even i have set -Xmx1024 parameter for that&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; org.apache.pdfbox.exceptions.WrappedIOException&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:243)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1071)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1038)&lt;br/&gt;
	at imageData.ReadLargeFile.main(ReadLargeFile.java:13)&lt;br/&gt;
Caused by: java.lang.OutOfMemoryError: Java heap space&lt;br/&gt;
	at java.io.BufferedOutputStream.&amp;lt;init&amp;gt;(BufferedOutputStream.java:59)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.createFilteredStream(COSStream.java:415)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.BaseParser.parseCOSStream(BaseParser.java:452)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parseObject(PDFParser.java:566)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:187)&lt;br/&gt;
	... 3 more&lt;/p&gt;

&lt;p&gt;Is there any way to read it?&lt;/p&gt;</comment>
                            <comment id="13561817" author="lehmi" created="Thu, 24 Jan 2013 18:17:31 +0000"  >&lt;p&gt;Try the new Non Sequential Parser iby using PDDocument.loadNonSeq(&#8230;)  instead of PDDocument.load(...)&lt;/p&gt;

&lt;p&gt;Please, subscribe to the dev-list for further discussions.&lt;/p&gt;</comment>
                            <comment id="13895704" author="jahewson" created="Sat, 8 Feb 2014 19:32:44 +0000"  >&lt;p&gt;There&apos;s no way you&apos;re going to be open a 700MB PDF file with only 1024MB of heap. I think that is probably the cause of your problem. Try using at least 4x more heap space.&lt;/p&gt;</comment>
                            <comment id="14027780" author="tilman" created="Wed, 11 Jun 2014 13:56:49 +0000"  >&lt;p&gt;I am closing this in the assumption that the outofbounds issue has been solved some time ago and we don&apos;t have a sample file from you. The OOM problems are being discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2101&quot; title=&quot;Surprising memory consumption when extracting images&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2101&quot;&gt;&lt;del&gt;PDFBOX-2101&lt;/del&gt;&lt;/a&gt; and we have done some improvements, so please try with a current snapshot to see whether it is better now. If you do still have a OOM issue please post to &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2101&quot; title=&quot;Surprising memory consumption when extracting images&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2101&quot;&gt;&lt;del&gt;PDFBOX-2101&lt;/del&gt;&lt;/a&gt;; if you do still get the outofbounds issue please reopen this one (or create a new issue).&lt;/p&gt;</comment>
                            <comment id="14660745" author="beta-brad" created="Thu, 6 Aug 2015 20:27:18 +0000"  >&lt;p&gt;I&apos;m hitting this exception loading large pdfs (~6-8 GB each) with pdfbox versions 1.8.8 - 1.8.10. I get the IndexOutOfBoundsException with PDDocument.load() and PDDocument.loadNonSeq().  I can provide a pdf if you tell me where to upload it. Or should I create a new issue?&lt;/p&gt;

&lt;p&gt;Thanks,&lt;br/&gt;
Brad&lt;/p&gt;

&lt;p&gt;Aug 06, 2015 1:31:14 PM hp.pdfbox.test.Main main&lt;br/&gt;
INFO: Test Large PDF Load D:\workspace_trunk_luna\test_pdfbox\pdfs\ELOISA ARTOLA CD17433_Indigo.pdf&lt;br/&gt;
Aug 06, 2015 1:31:14 PM hp.pdfbox.test.Main main&lt;br/&gt;
INFO: Create Steam&lt;br/&gt;
Aug 06, 2015 1:32:44 PM hp.pdfbox.test.Main main&lt;br/&gt;
INFO: Start Load&lt;br/&gt;
org.apache.pdfbox.exceptions.WrappedIOException&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:278)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1219)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:1186)&lt;br/&gt;
	at hp.pdfbox.test.Main.main(Main.java:22)&lt;br/&gt;
Caused by: java.lang.IndexOutOfBoundsException: Index: 1041, Size: 1041&lt;br/&gt;
	at java.util.ArrayList.rangeCheck(Unknown Source)&lt;br/&gt;
	at java.util.ArrayList.get(Unknown Source)&lt;br/&gt;
	at org.apache.pdfbox.io.RandomAccessBuffer.seek(RandomAccessBuffer.java:110)&lt;br/&gt;
	at org.apache.pdfbox.io.RandomAccessFileOutputStream.write(RandomAccessFileOutputStream.java:106)&lt;br/&gt;
	at java.io.BufferedOutputStream.flushBuffer(Unknown Source)&lt;br/&gt;
	at java.io.BufferedOutputStream.flush(Unknown Source)&lt;br/&gt;
	at java.io.FilterOutputStream.close(Unknown Source)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.BaseParser.parseCOSStream(BaseParser.java:616)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parseObject(PDFParser.java:650)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:203)&lt;br/&gt;
	... 3 more&lt;/p&gt;



&lt;p&gt;INFO: Create Steam&lt;br/&gt;
Aug 06, 2015 1:51:47 PM hp.pdfbox.test.Main main&lt;br/&gt;
INFO: Start Load&lt;br/&gt;
Aug 06, 2015 1:53:39 PM org.apache.pdfbox.pdfparser.XrefTrailerResolver setStartxref&lt;br/&gt;
WARNING: Did not found XRef object at specified startxref position 8552119825&lt;br/&gt;
Exception in thread &quot;main&quot; java.lang.IndexOutOfBoundsException: Index: 509, Size: 509&lt;br/&gt;
	at java.util.ArrayList.rangeCheck(Unknown Source)&lt;br/&gt;
	at java.util.ArrayList.get(Unknown Source)&lt;br/&gt;
	at org.apache.pdfbox.io.RandomAccessBuffer.seek(RandomAccessBuffer.java:110)&lt;br/&gt;
	at org.apache.pdfbox.io.RandomAccessFileOutputStream.write(RandomAccessFileOutputStream.java:106)&lt;br/&gt;
	at java.io.BufferedOutputStream.flushBuffer(Unknown Source)&lt;br/&gt;
	at java.io.BufferedOutputStream.flush(Unknown Source)&lt;br/&gt;
	at java.io.FilterOutputStream.close(Unknown Source)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.NonSequentialPDFParser.parseCOSStream(NonSequentialPDFParser.java:1847)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.NonSequentialPDFParser.parseObjectDynamically(NonSequentialPDFParser.java:1448)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.NonSequentialPDFParser.parseObjectDynamically(NonSequentialPDFParser.java:1374)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.NonSequentialPDFParser.parseDictObjects(NonSequentialPDFParser.java:1348)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.NonSequentialPDFParser.initialParse(NonSequentialPDFParser.java:429)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.NonSequentialPDFParser.parse(NonSequentialPDFParser.java:915)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.loadNonSeq(PDDocument.java:1305)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.loadNonSeq(PDDocument.java:1288)&lt;br/&gt;
	at hp.pdfbox.test.Main.main(Main.java:22)&lt;/p&gt;</comment>
                            <comment id="14660759" author="tilman" created="Thu, 6 Aug 2015 20:38:31 +0000"  >&lt;p&gt;Yes please, create a new issue and attach the PDF.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12627167">PDFBOX-1490</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>307184</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 15 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1ah3b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>269235</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>