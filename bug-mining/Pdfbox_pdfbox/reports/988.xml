<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:59:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2677] Negative Outlines COUNT and various issues</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2677</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Hi,&lt;br/&gt;
I started playing with the outline package few days ago mostly writing unit tests but I found the current implementation has a number of issues and started fixing them. I ended up with a quite substantial patch I&apos;m going to attach.&lt;br/&gt;
So far I only addressed the addition of nodes.&lt;br/&gt;
Current implementation suffers of some issues:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;insertSiblingAfter doesn&apos;t set the LAST on its parent in case it&apos;s the last node&lt;/li&gt;
	&lt;li&gt;Outlines COUNT can be negative (and often is) despite the spec table 152 states &quot;The value cannot be negative.&quot;&lt;/li&gt;
	&lt;li&gt;invalid outline hierarchy with wrong COUNT can be created with no warning with code like:
	&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	PDDocumentOutline outline = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocumentOutline();
        PDOutlineItem root = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDOutlineItem();
        root.setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Root&quot;&lt;/span&gt;);
        PDOutlineItem child1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDOutlineItem();
        child1.setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;child1&quot;&lt;/span&gt;);
        PDOutlineItem child11 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDOutlineItem();
        child11.setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;child11&quot;&lt;/span&gt;);
        PDOutlineItem child12 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDOutlineItem();
        child12.setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;child12&quot;&lt;/span&gt;);
        PDOutlineItem child13 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDOutlineItem();
        child13.setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;child13&quot;&lt;/span&gt;);
        child11.insertSiblingAfter(child12);
        child12.insertSiblingAfter(child13);
        child1.appendChild(child12);
        root.appendChild(child1);
        outline.appendChild(root);
	&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;m going to attach a couple of generated pdf showing the mentioned issues.&lt;/p&gt;

&lt;p&gt;The patch addresses:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-156&quot; title=&quot;PDOutlineItem does not implement equals&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-156&quot;&gt;&lt;del&gt;PDFBOX-156&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-996&quot; title=&quot;need to insert a child as the first child of an outline but you can only append to the outline.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-996&quot;&gt;&lt;del&gt;PDFBOX-996&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1209&quot; title=&quot;Add insertSiblingBefore() to PDOutlineItem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1209&quot;&gt;&lt;del&gt;PDFBOX-1209&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Outlines COUNT is always positive  (table 152 &quot;Total number of visible outline items at all levels of the outline&quot;)&lt;/li&gt;
	&lt;li&gt;Outline items COUNT is correctly calculated&lt;/li&gt;
	&lt;li&gt;NEXT, PREV, LAST and FIRST are are consistently set&lt;/li&gt;
	&lt;li&gt;unit tested&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I added a restriction to methods adding nodes (children or siblings) that throws an exception in case the node is already part of a list (i.e it has a prev or a next) so basically with the patch you cannot create a list of nodes and then add one of them as last child of another node but you&apos;ll have to first add the first child and then add siblings to the child. &lt;br/&gt;
Those scenarios are currently silently accepted creating invalid outlines (see the attached outline_wrong_first_has_prev.pdf) and would require quite some work to handle all of them so, I&apos;m not sure it&apos;s the best solution but at least the user is guided with a message instead of creating an outline where the FIRST item has a PREV.&lt;br/&gt;
It breaks the current API and it might be reworked to be less intrusive but since you are on 2.0.0-SNAPSHOT I thought it was ok.&lt;br/&gt;
Please let me know if there&apos;s anything I can help with.&lt;/p&gt;</description>
                <environment>2.0.0-SNAPSHOT r1658566</environment>
        <key id="12774254">PDFBOX-2677</key>
            <summary>Negative Outlines COUNT and various issues</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="torakiki">Andrea Vacondio</reporter>
                        <labels>
                            <label>outline</label>
                    </labels>
                <created>Wed, 11 Feb 2015 16:32:39 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:10 +0000</updated>
                            <resolved>Sat, 14 Feb 2015 13:27:08 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="14316805" author="tilman" created="Wed, 11 Feb 2015 19:16:37 +0000"  >&lt;p&gt;First, thanks for doing all this work. However... could you separate this in entities?&lt;/p&gt;

&lt;p&gt;Some specific problems / questions:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;please don&apos;t reformat unchanged lines, even if they&apos;re crappy. To keep the patch small so that we can concentrate on the actual improvements.&lt;/li&gt;
	&lt;li&gt;getCOSDictionary / getCOSObject is often the same, so better not touch it (you did this in BookmarkValidationProcess.java and I wonder why)&lt;/li&gt;
	&lt;li&gt;you changed PDDictionaryWrapper.java and others, is this really needed?&lt;/li&gt;
	&lt;li&gt;you mention &quot;unit tested&quot; but didn&apos;t attach the test - is it the one from the mailing list?&lt;/li&gt;
	&lt;li&gt;you say it addresses &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-156&quot; title=&quot;PDOutlineItem does not implement equals&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-156&quot;&gt;&lt;del&gt;PDFBOX-156&lt;/del&gt;&lt;/a&gt; but I don&apos;t see an implementation of equals?!&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I could start to pick parts of your patch and commit that one but it would then make your whole patch invalid so I thought it be better to coordinate this with you. Or is it so that your patch is already the smallest you can do? (This is not a trick to avoid work, I really want to commit your changes, I already had a suspicion that something wasn&apos;t perfect after reading &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1209&quot; title=&quot;Add insertSiblingBefore() to PDOutlineItem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1209&quot;&gt;&lt;del&gt;PDFBOX-1209&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;
</comment>
                            <comment id="14317565" author="jahewson" created="Thu, 12 Feb 2015 04:17:10 +0000"  >&lt;blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Outlines COUNT can be negative (and often is) despite the spec table 152 states &quot;The value cannot be negative.&quot;&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;

&lt;p&gt;Are you sure you&apos;re not confusing this with table 153, which defines Count for &lt;em&gt;outline items&lt;/em&gt; and permits negative values to indicate closed items?&lt;/p&gt;</comment>
                            <comment id="14318299" author="torakiki" created="Thu, 12 Feb 2015 14:50:13 +0000"  >&lt;p&gt;I&apos;m quite sure, you can debug the attached documents they have negative &lt;em&gt;Outlines&lt;/em&gt; COUNT. Or just create one&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;	PDDocumentOutline outline = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDDocumentOutline();
        PDOutlineItem root = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDOutlineItem();
        root.setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;Root&quot;&lt;/span&gt;);
        PDOutlineItem child1 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDOutlineItem();
        child1.setTitle(&lt;span class=&quot;code-quote&quot;&gt;&quot;child1&quot;&lt;/span&gt;);
        root.appendChild(child1);
        outline.appendChild(root); 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This will have negative COUNT in the outline dictionary. The thing is that current implementation creates closed PDOutlineNode by default and applies table 153 COUNT logic to both PDOutlineItem and PDDocumentOutline so basically it treats PDDocumentOutline as a closed &lt;em&gt;outline item&lt;/em&gt; which as you said can be negative.&lt;/p&gt;</comment>
                            <comment id="14318309" author="torakiki" created="Thu, 12 Feb 2015 14:55:36 +0000"  >&lt;p&gt;First sorry for the reformat, I configured Eclipse to automatically reformat with the provided formatting whenever I save... I assumed all the code was already formatted and didn&apos;t pay attention so the patch I posted now has a lot of noise in it.&lt;br/&gt;
I have a lot of unit tests but they weren&apos;t included, I forgot to add them.&lt;/p&gt;

&lt;p&gt;I think we can start with &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-156&quot; title=&quot;PDOutlineItem does not implement equals&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-156&quot;&gt;&lt;del&gt;PDFBOX-156&lt;/del&gt;&lt;/a&gt;. Currently PDOutlineNode is a COSObjectable and has a COSDictionary so it basically wraps a COSDictionary adding some logic so PDOutlineNode is actually a PDDictionaryWrapper correct?&lt;br/&gt;
PDDictionaryWrapper already implements equals and hashCode where two PDDictionaryWrapper are equals if they wrap the same dictionary which I think makes sense for the outline nodes... it also makes even more sense if you think that getFirstChild and getLastChild return a new PDOutlineItem instance every time you call them, leading to the weird case described in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-156&quot; title=&quot;PDOutlineItem does not implement equals&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-156&quot;&gt;&lt;del&gt;PDFBOX-156&lt;/del&gt;&lt;/a&gt; (because the rely on Object.equals and a new instance is created every time)&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;PDOutlineItem a = outline.getFirstChild();
PDOutlineItem b = outline.getFirstChild();
assertTrue(a.equals(b)); &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt; fails &lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;About changes to the PDDictionaryWrapper no, they are not necessary but I thought they made sense since they are harmless. PDDictionaryWrapper wraps a COSDictionary and the getCOSObject will always return a COSDictionary which is a covariant return type for COSBase so this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; COSBase getCOSObject()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.dictionary;
    }

    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; COSDictionary getCOSDictionary()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.dictionary;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Can become this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; COSDictionary getCOSObject()
    {
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;.dictionary;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I thought it might be some leftover from the jdk 1.4 era where covariant weren&apos;t there but it seems this class was introduced when PDFBox was already jdk 1.5... anyway, if you get rid of the getCOSDictionary which (if I&apos;m not overlooking anything) is useless, you need to adjust all the places where it was called and replace it with getCOSObject which for the PDDictionaryWrapper now returns COSDictionary. I think this is the modification that got a little intrusive and touched things around. &lt;br/&gt;
It&apos;s not necessary for the issue itself, it just cought my eye and I thought now is the time to make this kind of changes, I think it&apos;s safe but it does break the API so it&apos;s probably now or the next major... or never &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;m attaching a new patch where unit tests are included and PDDictionaryWrapper is not modified, this should make it way more focused on the outline package, there&apos;s no reformatting noise and unit tests should help to clarify the patch behaviour. &lt;br/&gt;
PDDictionaryWrapper can be modified later if you think my argument made sense.&lt;/p&gt;</comment>
                            <comment id="14318958" author="tilman" created="Thu, 12 Feb 2015 20:52:19 +0000"  >&lt;p&gt;Ok I&apos;ve started to review this... I&apos;ve never seen PDDictionaryWrapper but we can still get rid of it later - or maybe use it everywhere else. It was introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-630&quot; title=&quot;Create PDDictionaryWrapper&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-630&quot;&gt;&lt;del&gt;PDFBOX-630&lt;/del&gt;&lt;/a&gt; by committer Johannes Koch and apparently forgotten.&lt;/p&gt;

&lt;p&gt;This seems to be a high quality patch....&lt;/p&gt;

&lt;p&gt;I like that you got rid of the loops.  I wonder why there were there in the first place.&lt;/p&gt;

&lt;p&gt;Minor stuff: &lt;br/&gt;
most of our test cases are written with &quot;... extends Testcase&quot;. Don&apos;t know if this is a &quot;rule&quot; here, I changed one file, and left the others as is. And apparently your approach is the newer one:&lt;br/&gt;
&lt;a href=&quot;https://stackoverflow.com/questions/2635839/junit-confusion-use-extend-testcase-or-test&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/2635839/junit-confusion-use-extend-testcase-or-test&lt;/a&gt;&lt;br/&gt;
(and the two exception annotations are really nice).&lt;/p&gt;</comment>
                            <comment id="14319031" author="jira-bot" created="Thu, 12 Feb 2015 21:40:07 +0000"  >&lt;p&gt;Commit 1659413 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659413&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659413&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt;: add tests for outlines, by Andrea Vacondio&lt;/p&gt;</comment>
                            <comment id="14319035" author="jira-bot" created="Thu, 12 Feb 2015 21:42:39 +0000"  >&lt;p&gt;Commit 1659414 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659414&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659414&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt;: redesign / fix bugs in outlines, by Andrea Vacondio&lt;/p&gt;</comment>
                            <comment id="14319043" author="jira-bot" created="Thu, 12 Feb 2015 21:45:11 +0000"  >&lt;p&gt;Commit 1659415 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659415&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659415&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt;: use outline API change, by Andrea Vacondio&lt;/p&gt;</comment>
                            <comment id="14319052" author="jira-bot" created="Thu, 12 Feb 2015 21:47:43 +0000"  >&lt;p&gt;Commit 1659417 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659417&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659417&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt;: use outline API change, by Andrea Vacondio&lt;/p&gt;</comment>
                            <comment id="14319089" author="lehmi" created="Thu, 12 Feb 2015 22:06:20 +0000"  >&lt;blockquote&gt;&lt;p&gt;most of our test cases are written with &quot;... extends Testcase&quot;. Don&apos;t know if this is a &quot;rule&quot; here,&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Nope, there is no rule. Most of our tests are quite old and that&apos;s why there are based on the junit3 &quot;style&quot;.&lt;/p&gt;</comment>
                            <comment id="14319105" author="jira-bot" created="Thu, 12 Feb 2015 22:13:10 +0000"  >&lt;p&gt;Commit 1659422 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659422&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659422&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt;: restore to junit 4 style as initially received&lt;/p&gt;</comment>
                            <comment id="14319200" author="jira-bot" created="Thu, 12 Feb 2015 23:14:53 +0000"  >&lt;p&gt;Commit 1659430 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659430&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659430&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt;: clarify javadoc&lt;/p&gt;</comment>
                            <comment id="14320483" author="jira-bot" created="Fri, 13 Feb 2015 18:14:23 +0000"  >&lt;p&gt;Commit 1659631 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659631&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659631&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt;: fix javadoc&lt;/p&gt;</comment>
                            <comment id="14320511" author="tilman" created="Fri, 13 Feb 2015 18:25:31 +0000"  >&lt;p&gt;That was flagged by SonarQube and I also noticed it yesterday and your initial commit had also something related to it. I don&apos;t understand why getCOSDictionary() in PDDictionaryWrapper is protected but getCOSObject() isn&apos;t. Most classes that offer getCOSDictionary() have it public. This allows to remove a method that just calls super.&lt;/p&gt;</comment>
                            <comment id="14320513" author="jira-bot" created="Fri, 13 Feb 2015 18:26:26 +0000"  >&lt;p&gt;Commit 1659638 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659638&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659638&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2576&quot; title=&quot;Improve code quality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2576&quot;&gt;&lt;del&gt;PDFBOX-2576&lt;/del&gt;&lt;/a&gt;: make PDDictionaryWrapper.getCOSDictionary() to avoid derived method that just calls super&lt;/p&gt;</comment>
                            <comment id="14320799" author="jahewson" created="Fri, 13 Feb 2015 21:38:33 +0000"  >&lt;p&gt;Ok, so the current implementation actually contains that mistake already. Gotcha.&lt;/p&gt;</comment>
                            <comment id="14321390" author="tilman" created="Sat, 14 Feb 2015 12:29:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=torakiki&quot; class=&quot;user-hover&quot; rel=&quot;torakiki&quot;&gt;torakiki&lt;/a&gt; You said&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;I think we can start with &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-156&quot; title=&quot;PDOutlineItem does not implement equals&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-156&quot;&gt;&lt;del&gt;PDFBOX-156&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;but your patch contained the other two issues (&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-996&quot; title=&quot;need to insert a child as the first child of an outline but you can only append to the outline.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-996&quot;&gt;&lt;del&gt;PDFBOX-996&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1209&quot; title=&quot;Add insertSiblingBefore() to PDOutlineItem&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1209&quot;&gt;&lt;del&gt;PDFBOX-1209&lt;/del&gt;&lt;/a&gt;) too, didn&apos;t it? Is there anything left to do, or can we set this to resolved?&lt;/p&gt;</comment>
                            <comment id="14321412" author="torakiki" created="Sat, 14 Feb 2015 13:24:56 +0000"  >&lt;p&gt;Yes, it solves all the 3 issues and I don&apos;t think there&apos;s anything left. All green, it can be closed &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14321414" author="tilman" created="Sat, 14 Feb 2015 13:27:08 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=torakiki&quot; class=&quot;user-hover&quot; rel=&quot;torakiki&quot;&gt;torakiki&lt;/a&gt; Thanks a lot for all your work!&lt;/p&gt;</comment>
                            <comment id="14321892" author="jira-bot" created="Sun, 15 Feb 2015 09:29:38 +0000"  >&lt;p&gt;Commit 1659903 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=msahyoun&quot; class=&quot;user-hover&quot; rel=&quot;msahyoun&quot;&gt;msahyoun&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1659903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1659903&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2576&quot; title=&quot;Improve code quality&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2576&quot;&gt;&lt;del&gt;PDFBOX-2576&lt;/del&gt;&lt;/a&gt;, &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2677&quot; title=&quot;Negative Outlines COUNT and various issues&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2677&quot;&gt;&lt;del&gt;PDFBOX-2677&lt;/del&gt;&lt;/a&gt; remove Tab in sources; minor fixes to javadoc&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                            <outwardlinks description="duplicates">
                                        <issuelink>
            <issuekey id="12538513">PDFBOX-1209</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12503786">PDFBOX-996</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12391190">PDFBOX-156</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12831369">PDFBOX-2808</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12698120" name="outline_closed_negative_outlines_count_wrong_last.pdf" size="918" author="torakiki" created="Wed, 11 Feb 2015 16:33:39 +0000"/>
                            <attachment id="12698121" name="outline_closed_patched.pdf" size="917" author="torakiki" created="Wed, 11 Feb 2015 16:33:39 +0000"/>
                            <attachment id="12698122" name="outline_patch.diff" size="62963" author="torakiki" created="Wed, 11 Feb 2015 16:33:39 +0000"/>
                            <attachment id="12698440" name="outline_second_patch.diff" size="57492" author="torakiki" created="Thu, 12 Feb 2015 14:55:59 +0000"/>
                            <attachment id="12698123" name="outline_wrong_first_has_prev.pdf" size="989" author="torakiki" created="Wed, 11 Feb 2015 16:33:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>5.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 39 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i25ho7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>