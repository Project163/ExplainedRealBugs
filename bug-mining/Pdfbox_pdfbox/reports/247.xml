<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:53:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1169] Images extracted from PDF are loosing color (are shown in blackcolor)</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1169</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Using PDFBox, tried to read file (eBook-Mini.pdf, which is attached)&lt;br/&gt;
When images are extracted using below mentioned code, the extracted images aren&apos;t as per the ones in PDF, they have lost color.&lt;br/&gt;
Checked extracting images, using other tools and images were extracted correctly.&lt;br/&gt;
Attached images extracted using PDFBox as well.&lt;/p&gt;
</description>
                <environment>Windows</environment>
        <key id="12531304">PDFBOX-1169</key>
            <summary>Images extracted from PDF are loosing color (are shown in blackcolor)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="szaveri">susheel</reporter>
                        <labels>
                            <label>overprintcontrol</label>
                    </labels>
                <created>Mon, 14 Nov 2011 10:12:50 +0000</created>
                <updated>Thu, 2 May 2013 02:29:56 +0000</updated>
                            <resolved>Sun, 7 Oct 2012 13:10:30 +0000</resolved>
                                    <version>1.6.0</version>
                                    <fixVersion>1.8.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13149526" author="szaveri" created="Mon, 14 Nov 2011 10:14:05 +0000"  >&lt;p&gt;eBook-Mini is the sample PDF that we have used for extracting image from the PDF.&lt;/p&gt;</comment>
                            <comment id="13149527" author="szaveri" created="Mon, 14 Nov 2011 10:14:43 +0000"  >&lt;p&gt;Images which were extracted after reading the PDF using PDFBox.&lt;/p&gt;</comment>
                            <comment id="13149529" author="szaveri" created="Mon, 14 Nov 2011 10:17:35 +0000"  >&lt;p&gt;Comment to extract the image:&lt;/p&gt;

&lt;p&gt;private void processImages(PDResources resources, String destinationFolder) throws IOException {&lt;br/&gt;
		Map images = resources.getImages();&lt;/p&gt;

&lt;p&gt;		if (images != null) {&lt;br/&gt;
			Iterator imageIter = images.keySet().iterator();&lt;br/&gt;
			while (imageIter.hasNext()) &lt;/p&gt;
{
				String key = (String) imageIter.next();
				PDXObjectImage image = (PDXObjectImage) images.get(key);
				String name = null;
				name = destinationFolder + &quot;image-&quot; + imageCounter++ + &quot;.&quot; + image.getSuffix();
						
				//image.write2file(name); - Tried image.write2file as well, but retrieved images were similar
				BufferedImage bufferedImage = image.getRGBImage();
				File outputfile = new File(name);
				ImageIO.write(bufferedImage,image.getSuffix(), outputfile);
				System.out.println(&quot;szaveri - using imageio to write files &quot; + name + &quot; suffix =&quot; + image.getSuffix());
				
			}
&lt;p&gt;		}&lt;br/&gt;
	}&lt;/p&gt;


&lt;p&gt;Please note, out of 200 odd images in the PDF, only two got extracted correctly rest all are having images with black background. &lt;/p&gt;

&lt;p&gt;I am sure, I am missing out some configuration or someother parameter, but unable to find it out.&lt;/p&gt;

&lt;p&gt;Just to update, have also added following JAI Jars in my project:&lt;br/&gt;
jai_codec&lt;br/&gt;
jai_core&lt;br/&gt;
mlibwrapper_jai&lt;/p&gt;</comment>
                            <comment id="13160791" author="lehmi" created="Thu, 1 Dec 2011 10:10:00 +0000"  >&lt;p&gt;I found 3 different issues:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;the given pdf contains 2 images which are embedded in a XObjectForm which is embedded in another XObjectForm and can&apos;t be extracted using ExtractImages. I fixed that in revision 1209017&lt;/li&gt;
	&lt;li&gt;PDJpeg.write2OutputStream assumed that every PDJpeg contains jpeg image data because of the used DCTFilter, but PDJpegs may also contain CMYK-encoded image data as in the given pdf. I fixed that in revision 1209015&lt;/li&gt;
	&lt;li&gt;the colors of the image are wrong, but I don&apos;t know why. I&apos;m still investigating&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="13162645" author="szaveri" created="Mon, 5 Dec 2011 07:30:17 +0000"  >&lt;p&gt;Dear Andreas&lt;/p&gt;

&lt;p&gt;Wish that you crack the thrid issue quite quickly.&lt;/p&gt;

&lt;p&gt;We have taken your two fixes and have ran the test on the PDF that we have. Image quality has improved considerably. I am sure, once we have the final issue fix from your end, we should be able to parse the PDF image quite easily.&lt;/p&gt;

&lt;p&gt;If you need any data / inputs from our end, kindly let us know.&lt;/p&gt;

&lt;p&gt;Thanks&lt;br/&gt;
Susheel Zaveri&lt;/p&gt;</comment>
                            <comment id="13278703" author="lehmi" created="Fri, 18 May 2012 10:27:00 +0000"  >&lt;p&gt;I guess the remaing issues is based on a missing feature called overprintcontrol which is part of the extended graphics state. &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1223&quot; title=&quot;Strange color issues with convertToImage method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1223&quot;&gt;&lt;del&gt;PDFBOX-1223&lt;/del&gt;&lt;/a&gt; describes a similar issue.&lt;/p&gt;</comment>
                            <comment id="13471227" author="lehmi" created="Sun, 7 Oct 2012 13:10:30 +0000"  >&lt;p&gt;My former guess was wrong. The JPEG uses a CMYK-colorspace but the image data are encoded using a YCCK colorspace.&lt;br/&gt;
I added a YCCK2RGB decoder in revision 1395294.&lt;/p&gt;

&lt;p&gt;Thanks for the report!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12608894">PDFBOX-1416</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12541438">PDFBOX-1223</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12503589" name="eBook-Mini.pdf" size="1739256" author="szaveri" created="Mon, 14 Nov 2011 10:14:05 +0000"/>
                            <attachment id="12503591" name="image-1.jpg" size="18220" author="szaveri" created="Mon, 14 Nov 2011 10:14:43 +0000"/>
                            <attachment id="12503592" name="image-2.jpg" size="874324" author="szaveri" created="Mon, 14 Nov 2011 10:14:43 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>217040</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i05x4n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>32464</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>