<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:02:44 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3179] PDDocument.load() Error: Expected a long type at offset 2, instead got &apos;DF-1.4&apos;</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3179</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Simple PDDocument.load failed to heal attached PDF (pdfbox 2.0.0 RC2):&lt;/p&gt;

&lt;p&gt;Exception in thread &quot;main&quot; java.io.IOException: Error: Expected a long type at offset 2, instead got &apos;DF-1.4&apos;&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.BaseParser.readLong(BaseParser.java:1340)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.BaseParser.readObjectNumber(BaseParser.java:1268)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.COSParser.parseXrefObjStream(COSParser.java:321)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.COSParser.parseXref(COSParser.java:287)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.initialParse(PDFParser.java:189)&lt;br/&gt;
	at org.apache.pdfbox.pdfparser.PDFParser.parse(PDFParser.java:246)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:855)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:811)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDDocument.load(PDDocument.java:765)&lt;/p&gt;


&lt;p&gt;Reproduced using 2.0.0 RC2 from maven and with code from trunk svn.&lt;/p&gt;

&lt;p&gt;File in question:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://coobers.com/bucket/ikona_free.pdf&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://coobers.com/bucket/ikona_free.pdf&lt;/a&gt;&lt;/p&gt;</description>
                <environment>Mac OS X 10.10.5</environment>
        <key id="12925229">PDFBOX-3179</key>
            <summary>PDDocument.load() Error: Expected a long type at offset 2, instead got &apos;DF-1.4&apos;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="coobers">Jedrzej Majko</reporter>
                        <labels>
                    </labels>
                <created>Sat, 2 Jan 2016 14:26:29 +0000</created>
                <updated>Thu, 17 Mar 2016 19:08:34 +0000</updated>
                            <resolved>Sun, 3 Jan 2016 17:15:56 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>Parsing</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15076557" author="tilman" created="Sat, 2 Jan 2016 16:05:13 +0000"  >&lt;p&gt;That PDF file is broken. Open it with NOTEPAD++ and you&apos;ll see lines like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;0000000016 00000 n
0000000944 00000 n
0000001087 00000 n
0000001423 00000 n
0000001743 00000 n
0000001882 00000 n
0000001995 00000 n
0000002106 00000 n
0000002175 00000 n
0000002255 00000 n
0000003075 00000 n
0000003351 00000 n
0000003520 00000 n
0000003545 00000 n
0000000777 00000 n
0000000616 00000 n
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Now use CTRL-G and chose go to position (not go to line). Then enter one of the values in the left column, e.g. 16. That should position right before &quot;15 0 obj&quot; but it doesn&apos;t. Either the software that created the PDF file is buggy (which I doubt, it is Adobe), or you (or your client) transferred in ASCII mode over ftp or another communication method.&lt;/p&gt;

&lt;p&gt;PDFBox can handle a lot of corrupt files, but obviously not this one.&lt;/p&gt;</comment>
                            <comment id="15076559" author="coobers" created="Sat, 2 Jan 2016 16:08:56 +0000"  >&lt;p&gt;You are correct (it&apos;s corrupt), but it was generated using Adobe InDesign CS 5.5, hence the ticket.&lt;br/&gt;
Moreover (as written in doc) it works fine in 1.8.10 (as it do not use non sequential parsing by default).&lt;/p&gt;</comment>
                            <comment id="15076561" author="tilman" created="Sat, 2 Jan 2016 16:12:59 +0000"  >&lt;p&gt;Did you generate the file yourself with that product? If so, then please open also ticket at Adobe.&lt;/p&gt;</comment>
                            <comment id="15076562" author="coobers" created="Sat, 2 Jan 2016 16:14:26 +0000"  >&lt;p&gt;Yes. Thank you for your reply.&lt;/p&gt;</comment>
                            <comment id="15080474" author="jira-bot" created="Sun, 3 Jan 2016 17:12:21 +0000"  >&lt;p&gt;Commit 1722735 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lehmi&quot; class=&quot;user-hover&quot; rel=&quot;lehmi&quot;&gt;lehmi&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1722735&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1722735&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3179&quot; title=&quot;PDDocument.load() Error: Expected a long type at offset 2, instead got &amp;#39;DF-1.4&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3179&quot;&gt;&lt;del&gt;PDFBOX-3179&lt;/del&gt;&lt;/a&gt;: provide the new offset instead of the difference&lt;/p&gt;</comment>
                            <comment id="15080476" author="lehmi" created="Sun, 3 Jan 2016 17:15:56 +0000"  >&lt;p&gt;There was a bug in COSParser#bfSearchForXref which was limited to pdfs like the attached (malformed startxref values and a combination of xref tables and stream)&lt;br/&gt;
After the fix the repair mechanism works as expected and everything is fine&lt;/p&gt;

&lt;p&gt;Thanks for the report&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 45 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qge7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>