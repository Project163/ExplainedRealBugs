<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:09:48 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-4615] AppearanceGeneratorHelper.setAppearanceValue doesn&apos;t set the bounding box on the appearance stream correctly</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-4615</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Hello, thanks for all your effort with PDFBox. We use it heavily for parsing and flattening PDFs.&lt;/p&gt;

&lt;p&gt;BUG: In the attached PDF &quot;resetboundingbox.pdf&quot;, we programmatically set the value of the text fields, then call pdAcroForm.flattten(), which produces the flattened PDF &quot;flattenedboundingbox.pdf.&quot; I would expect that the text would entirely fill the text box (see textbox with &lt;font color=&quot;#8eb021&quot;&gt;green border&lt;/font&gt; in &quot;flattenedboundingbox.pdf&quot;) but the text does not. Instead, the filled text area obeys another box instead (see text area with &lt;font color=&quot;#d04437&quot;&gt;red border&lt;/font&gt; in &quot;flattenedboundingbox.pdf&quot;).&lt;/p&gt;

&lt;p&gt;POTENTIAL FIX: We&apos;ve traced the problem to AppearanceGeneratorHelper.setAppearanceValue, lines 200-210. As long as we always set the bounding box (line 243) like in&#160;AppearanceGeneratorHelper.prepareNormalAppearanceStream, regardless of the if/else at line 200, then the flattening works correctly:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-comment&quot;&gt;/** * replace AppearanceGeneratorHelper lines 199-210 with: */&lt;/span&gt; 
PDAppearanceStream appearanceStream = appearance != &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; &amp;amp;&amp;amp; appearance.isStream() ? appearance.getAppearanceStream() : &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDAppearanceStream(field.getAcroForm().getDocument());
 
&lt;span class=&quot;code-comment&quot;&gt;// copied from lines 237-243 
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; rotation = resolveRotation(widget);
PDRectangle rect = widget.getRectangle(); 
Matrix matrix = Matrix.getRotateInstance(&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.toRadians(rotation), 0, 0); 
Point2D.&lt;span class=&quot;code-object&quot;&gt;Float&lt;/span&gt; point2D = matrix.transformPoint(rect.getWidth(), rect.getHeight()); 
PDRectangle bbox = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; PDRectangle(&lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs((&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;) point2D.getX()), &lt;span class=&quot;code-object&quot;&gt;Math&lt;/span&gt;.abs((&lt;span class=&quot;code-object&quot;&gt;float&lt;/span&gt;) point2D.getY())); 
appearanceStream.setBBox(bbox); 

appearanceDict.setNormalAppearance(appearanceStream);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Something I&apos;m not sure about: in method&#160;prepareNormalAppearanceStream, there is additional code for setting the matrix (lines 245-251), which we don&apos;t seem to need. Since it doesn&apos;t break anything, we just keep it too.&lt;/p&gt;

&lt;p&gt;Thanks again for your help!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13247939">PDFBOX-4615</key>
            <summary>AppearanceGeneratorHelper.setAppearanceValue doesn&apos;t set the bounding box on the appearance stream correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="rosalind.douglas">Rosalind Douglas</reporter>
                        <labels>
                    </labels>
                <created>Tue, 30 Jul 2019 20:47:05 +0000</created>
                <updated>Tue, 30 Jun 2020 06:13:18 +0000</updated>
                            <resolved>Sat, 3 Aug 2019 04:00:23 +0000</resolved>
                                    <version>2.0.16</version>
                                    <fixVersion>2.0.17</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16897318" author="tilman" created="Wed, 31 Jul 2019 16:44:23 +0000"  >&lt;p&gt;I suspect that this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4471&quot; title=&quot;Different fields look alike if they have the same /AP/N before value change&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4471&quot;&gt;PDFBOX-4471&lt;/a&gt;, because of the weird BBox. Try calling &lt;tt&gt;getWidgets().get(0).setAppearance(null)&lt;/tt&gt; on your field before setting the value, this removes the appearance.&lt;/p&gt;</comment>
                            <comment id="16897380" author="mkl" created="Wed, 31 Jul 2019 17:51:19 +0000"  >&lt;blockquote&gt;&lt;p&gt;I suspect that this is a duplicate of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4471&quot; title=&quot;Different fields look alike if they have the same /AP/N before value change&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4471&quot;&gt;PDFBOX-4471&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Indeed! (Or even more exactly of &lt;a href=&quot;https://stackoverflow.com/a/56951160/1729265&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;this SO q&amp;amp;a&lt;/a&gt;; the underlying issue in both cases is, though, that PDFBox always assumes re-using the existing appearance streams is appropriate while the examples at hand show that in real life this is not always the case.)&lt;/p&gt;

&lt;p&gt;E.g. the text box &lt;tt&gt;GrowthBOY&lt;/tt&gt; has a &lt;b&gt;Rect&lt;/b&gt; of &lt;tt&gt;[ 377.786 188.797 584.631 241.047 ]&lt;/tt&gt;, a 206.845&#215;52.25 area, but the existing appearance has a &lt;b&gt;BBox&lt;/b&gt; of &lt;tt&gt;[ 0.0 0.0 118.68 52.25 ]&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Thus, under the assumption that reusing the appearance stream is appropriate, the bug is not that there are so few characters per line but instead that during flattening the appearance was not stretched horizontally to fill the whole 206.845&#215;52.25 area.&lt;/p&gt;</comment>
                            <comment id="16897463" author="rosalind.douglas" created="Wed, 31 Jul 2019 19:23:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt;, removing the appearance before setting the value definitely works. Thank you.&lt;/p&gt;</comment>
                            <comment id="16898184" author="tilman" created="Thu, 1 Aug 2019 16:24:31 +0000"  >&lt;p&gt;Here are two files (&quot;filled&quot; and then &quot;flattened&quot;) that illustrate the problem a bit better.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
PDDocument doc = PDDocument.load(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;resetboundingbox.pdf&quot;&lt;/span&gt;));
&lt;span class=&quot;code-comment&quot;&gt;//doc.getDocumentCatalog().getAcroForm().getField(&lt;span class=&quot;code-quote&quot;&gt;&quot;GrowthBOY&quot;&lt;/span&gt;).getWidgets().get(0).setAppearance(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;);
&lt;/span&gt;doc.getDocumentCatalog().getAcroForm().getField(&lt;span class=&quot;code-quote&quot;&gt;&quot;GrowthBOY&quot;&lt;/span&gt;).setValue(&lt;span class=&quot;code-quote&quot;&gt;&quot;The quick brown fox jumps over the lazy dog. The quick brown fox jumps over the lazy dog, &quot;&lt;/span&gt;);
doc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;resetboundingbox-filled.pdf&quot;&lt;/span&gt;));
doc.getDocumentCatalog().getAcroForm().flatten();
doc.save(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; File(&lt;span class=&quot;code-quote&quot;&gt;&quot;resetboundingbox-flattened.pdf&quot;&lt;/span&gt;));
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I first thought about closing this issue, but lets assume that we got the &quot;filled&quot; file. This looks terrible but it is a valid PDF. So the flattening code should be corrected to stretch / shrink it when needed.&lt;/p&gt;

&lt;p&gt;What worked with this file was to set &lt;tt&gt;needsScaling&lt;/tt&gt; to true if the widths &lt;b&gt;OR&lt;/b&gt; the heights differ. The result is shown in the file &quot;flattened-bugfix&quot;.&lt;/p&gt;</comment>
                            <comment id="16898192" author="jira-bot" created="Thu, 1 Aug 2019 16:49:05 +0000"  >&lt;p&gt;Commit 1864163 from Tilman Hausherr in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864163&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864163&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: scale if rectangle and BBox have different width or height&lt;/p&gt;</comment>
                            <comment id="16898193" author="jira-bot" created="Thu, 1 Aug 2019 16:49:10 +0000"  >&lt;p&gt;Commit 1864164 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864164&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864164&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: scale if rectangle and BBox have different width or height&lt;/p&gt;</comment>
                            <comment id="16898194" author="jira-bot" created="Thu, 1 Aug 2019 16:49:15 +0000"  >&lt;p&gt;Commit 1864165 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864165&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864165&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: scale if rectangle and BBox have different width or height&lt;/p&gt;</comment>
                            <comment id="16898195" author="jira-bot" created="Thu, 1 Aug 2019 16:49:20 +0000"  >&lt;p&gt;Commit 1864166 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864166&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864166&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: scale if rectangle and BBox have different width or height&lt;/p&gt;</comment>
                            <comment id="16898200" author="tilman" created="Thu, 1 Aug 2019 16:57:10 +0000"  >&lt;p&gt;TODO: create tests for the file here, and for &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4157&quot; title=&quot;Flatten ne positonne pas bien le 1er champs si Image avant&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4157&quot;&gt;&lt;del&gt;PDFBOX-4157&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4172&quot; title=&quot;Flatten fails on first form element only&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4172&quot;&gt;&lt;del&gt;PDFBOX-4172&lt;/del&gt;&lt;/a&gt; to be sure that I didn&apos;t break anything.&lt;/p&gt;</comment>
                            <comment id="16898254" author="tilman" created="Thu, 1 Aug 2019 18:15:27 +0000"  >&lt;p&gt;It turns out that there were many tests, but they are disabled. This is because they bring tiny visual differences so the test results are to be checked manually. All are good except one &#128546; , the file of &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3083&quot; title=&quot;Form fields are missing when rendering&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3083&quot;&gt;&lt;del&gt;PDFBOX-3083&lt;/del&gt;&lt;/a&gt;. That one is 90&#176; rotated. I tried something hard-coded just to test and that looks nice, but it means more changes are needed.&lt;/p&gt;</comment>
                            <comment id="16899087" author="jira-bot" created="Fri, 2 Aug 2019 17:54:20 +0000"  >&lt;p&gt;Commit 1864257 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864257&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864257&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: add tests&lt;/p&gt;</comment>
                            <comment id="16899088" author="jira-bot" created="Fri, 2 Aug 2019 17:54:27 +0000"  >&lt;p&gt;Commit 1864258 from Tilman Hausherr in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864258&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864258&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: add tests&lt;/p&gt;</comment>
                            <comment id="16899112" author="jira-bot" created="Fri, 2 Aug 2019 18:18:28 +0000"  >&lt;p&gt;Commit 1864267 from Tilman Hausherr in branch &apos;pdfbox/branches/issue4569&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864267&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864267&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: different scale if page is rotated by 90 or 270 degrees&lt;/p&gt;</comment>
                            <comment id="16899113" author="jira-bot" created="Fri, 2 Aug 2019 18:18:33 +0000"  >&lt;p&gt;Commit 1864268 from Tilman Hausherr in branch &apos;pdfbox/branches/issue45&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864268&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864268&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: different scale if page is rotated by 90 or 270 degrees&lt;/p&gt;</comment>
                            <comment id="16899114" author="jira-bot" created="Fri, 2 Aug 2019 18:18:39 +0000"  >&lt;p&gt;Commit 1864269 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864269&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864269&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: different scale if page is rotated by 90 or 270 degrees&lt;/p&gt;</comment>
                            <comment id="16899116" author="jira-bot" created="Fri, 2 Aug 2019 18:18:44 +0000"  >&lt;p&gt;Commit 1864270 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1864270&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1864270&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-4615&quot; title=&quot;AppearanceGeneratorHelper.setAppearanceValue doesn&amp;#39;t set the bounding box on the appearance stream correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-4615&quot;&gt;&lt;del&gt;PDFBOX-4615&lt;/del&gt;&lt;/a&gt;: different scale if page is rotated by 90 or 270 degrees&lt;/p&gt;</comment>
                            <comment id="16899141" author="msahyoun" created="Fri, 2 Aug 2019 18:53:09 +0000"  >&lt;p&gt;I&apos;ve attached a number of files generated by Acrobat as a reference. &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;..-acrobat -&amp;gt; file was filled using Adobe Acrobat&lt;/li&gt;
	&lt;li&gt;..  js -&amp;gt; file was flattened using Acrobat JavaScript action&lt;/li&gt;
	&lt;li&gt;.. preflight -&amp;gt; file was flattened using Acrobat Preflight tool&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;As already noted - the appearance shouldn&apos;t have been created this way but created from scratch.&lt;/p&gt;</comment>
                            <comment id="16899350" author="tilman" created="Sat, 3 Aug 2019 04:00:23 +0000"  >&lt;p&gt;OK the good thing is that Adobe also does the stretch when flattening.&lt;/p&gt;

&lt;p&gt;I now ran the tests to compare the diffs renderings now and then (February):&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;before the changes: 6 files differ, among them 1 clearly wrong (the one here), 3 with differences visible in diff rendering but harmless, 1 invisible.&lt;/li&gt;
	&lt;li&gt;after the changes: 3 files differ but changes invisible in diff rendering.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=rosalind.douglas&quot; class=&quot;user-hover&quot; rel=&quot;rosalind.douglas&quot;&gt;rosalind.douglas&lt;/a&gt; all this doesn&apos;t apply to you, you keep the workaround from 2 days ago, due to the problem of having an existing different BBox. Thank you for bringing this up.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13217588">PDFBOX-4471</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13253307">PDFBOX-4638</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13269602">PDFBOX-4693</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12976266" name="flattenedboundingbox.pdf" size="270699" author="rosalind.douglas" created="Tue, 30 Jul 2019 20:46:03 +0000"/>
                            <attachment id="12976564" name="resetboundingbox-filled-acrobat-flatten-js.pdf" size="268867" author="msahyoun" created="Fri, 2 Aug 2019 18:49:33 +0000"/>
                            <attachment id="12976565" name="resetboundingbox-filled-acrobat-preflight.pdf" size="268582" author="msahyoun" created="Fri, 2 Aug 2019 18:49:33 +0000"/>
                            <attachment id="12976563" name="resetboundingbox-filled-acrobat.pdf" size="269670" author="msahyoun" created="Fri, 2 Aug 2019 18:49:33 +0000"/>
                            <attachment id="12976567" name="resetboundingbox-filled-flatten-js.pdf" size="268554" author="msahyoun" created="Fri, 2 Aug 2019 18:49:33 +0000"/>
                            <attachment id="12976566" name="resetboundingbox-filled-flatten.preflight.pdf" size="309462" author="msahyoun" created="Fri, 2 Aug 2019 18:49:33 +0000"/>
                            <attachment id="12976452" name="resetboundingbox-filled.pdf" size="315503" author="tilman" created="Thu, 1 Aug 2019 16:23:07 +0000"/>
                            <attachment id="12976453" name="resetboundingbox-flattened-bugfix.pdf" size="312757" author="tilman" created="Thu, 1 Aug 2019 16:23:04 +0000"/>
                            <attachment id="12976454" name="resetboundingbox-flattened.pdf" size="312780" author="tilman" created="Thu, 1 Aug 2019 16:23:04 +0000"/>
                            <attachment id="12976265" name="resetboundingbox.pdf" size="268907" author="rosalind.douglas" created="Tue, 30 Jul 2019 20:46:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>10.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 15 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0568g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>