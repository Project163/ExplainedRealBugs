<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:54:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-1633] DateConverter needs to work</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-1633</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Most of the tests for org/apache/pdfbox/util/DateConverter.java in src/test/java/org/apache/pdfbox/util/TestDateUtil.java have been commented out.  DateConverter was broken.&lt;/p&gt;

&lt;p&gt;The attached patch fixes the problems.  Extensive comments document the problems. Here&apos;s a copy:&lt;/p&gt;

&lt;p&gt;/* the former version of DateConverter had these bugs:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;-  In toISO8601 the conversion from millis to minutes was with 1000/1000;&lt;/li&gt;
	&lt;li&gt;should have been 1000/60.&lt;/li&gt;
	&lt;li&gt;-  PDFBox-402 was not completely implemented. The calendar fields in the&lt;/li&gt;
	&lt;li&gt;POTENTIAL_FORMATS are shared among threads. Hence we must create new&lt;/li&gt;
	&lt;li&gt;SimpleThreadFormats for each test.  (Or synchronize somehow).&lt;/li&gt;
	&lt;li&gt;-  Some formats with hh did not have an a field. I changed them to HH.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;these questionable features:&lt;/li&gt;
	&lt;li&gt;-  A timezone with neither plus sign nor minus is assumed to be minus.&lt;/li&gt;
	&lt;li&gt;This seems wrong, but I have not changed it.&lt;/li&gt;
	&lt;li&gt;-  toCalendar() returned a value in the default Locale.&lt;/li&gt;
	&lt;li&gt;PDF files do not have locales (I think) and even if they do&lt;/li&gt;
	&lt;li&gt;there is no reason to assume the Java default.&lt;/li&gt;
	&lt;li&gt;I have switched to Locale.ENGLISH which was already assumed&lt;/li&gt;
	&lt;li&gt;in the date formats and toString.&lt;/li&gt;
	&lt;li&gt;&lt;/li&gt;
	&lt;li&gt;and these infelicities:&lt;/li&gt;
	&lt;li&gt;-  Constants 60 and 1000 appeared.&lt;/li&gt;
	&lt;li&gt;-  zeroAppend was not used where applicable.&lt;/li&gt;
	&lt;li&gt;In one case it was inapplicable only because TimeZone.getOffset&lt;/li&gt;
	&lt;li&gt;was suspected of returning a long. It does not.&lt;/li&gt;
	&lt;li&gt;-  Manually computed constants were used to in date.substring&lt;/li&gt;
	&lt;li&gt;thus reducing flexibility and maintainability.&lt;/li&gt;
	&lt;li&gt;-  The TimeZone name reported by toCalendar was always &quot;Unknown&quot;&lt;/li&gt;
	&lt;li&gt;It is easy enough to compute a name.&lt;/li&gt;
	&lt;li&gt;-  Time zones were not accepted with most of the alternate parsing formats.&lt;/li&gt;
	&lt;li&gt;The new code allows a timezone after any format.&lt;br/&gt;
 */&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>all os and java platforms</environment>
        <key id="12651901">PDFBOX-1633</key>
            <summary>DateConverter needs to work</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lehmi">Andreas Lehmk&#252;hler</assignee>
                                    <reporter username="zweibieren">Fred Hansen</reporter>
                        <labels>
                    </labels>
                <created>Sun, 9 Jun 2013 05:46:08 +0000</created>
                <updated>Sat, 30 Nov 2013 17:02:09 +0000</updated>
                            <resolved>Mon, 11 Nov 2013 18:52:06 +0000</resolved>
                                    <version>1.8.2</version>
                                    <fixVersion>1.8.3</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Utilities</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="13678950" author="zweibieren" created="Sun, 9 Jun 2013 05:47:31 +0000"  >&lt;p&gt;To to make DateConvert pass most of its tests&lt;/p&gt;</comment>
                            <comment id="13679283" author="zweibieren" created="Mon, 10 Jun 2013 03:52:39 +0000"  >&lt;p&gt;My patch did not fix the problems. So I have withdrawn it for now. The problems, alas, remain.&lt;/p&gt;

&lt;p&gt;I will try to repair the patch when I return from vacation next month.&lt;/p&gt;</comment>
                            <comment id="13704799" author="zweibieren" created="Wed, 10 Jul 2013 17:38:08 +0000"  >&lt;p&gt;The attachments are revisions to&lt;br/&gt;
    pdfbox/src/main/java/org/apache/pdfbox/util/DateConverter.java&lt;br/&gt;
    pdfbox/src/test/java/org/apache/pdfbox/util/TestDateUtil.java&lt;br/&gt;
The revised DateConverter retains UNCHANGED the old API, adds an&lt;br/&gt;
additional method-&lt;del&gt;toCalendar(String, String[])&lt;/del&gt;-with better error&lt;br/&gt;
handling, adds date parsing primitives, and is thread-safe.&lt;br/&gt;
There are now over a hundred test cases. Only a very few of which&lt;br/&gt;
are commented out, and those only because they cannot be implemented&lt;br/&gt;
consistently with the others.&lt;/p&gt;

&lt;p&gt;The revision closes the following bugs&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1633&quot; title=&quot;DateConverter needs to work&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1633&quot;&gt;&lt;del&gt;PDFBOX-1633&lt;/del&gt;&lt;/a&gt; (this bug)    DateConverter needs to work&lt;br/&gt;
    All the issues mentioned are resolved.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-465&quot; title=&quot;invalid date formats &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-465&quot;&gt;&lt;del&gt;PDFBOX-465&lt;/del&gt;&lt;/a&gt;    invalid date formats&lt;br/&gt;
   The proposed date formats are now included and recognized correctly.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1054&quot; title=&quot;DateConverter: allow for external adding of potential date parsing formats&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1054&quot;&gt;&lt;del&gt;PDFBOX-1054&lt;/del&gt;&lt;/a&gt;    DateConverter: allow for external adding of date formats&lt;br/&gt;
    The added toCalendar method lets the client supply a supplementary&lt;br/&gt;
    list of formats. To preserve thread-safety, the internal list is not modified.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1219&quot; title=&quot;org.apache.jempbox.impl.DateConverter unable to parse correct date value&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1219&quot;&gt;&lt;del&gt;PDFBOX-1219&lt;/del&gt;&lt;/a&gt;   org.apache.jempbox.impl.DateConverter unable to parse date&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-145&quot; title=&quot;PDDocumentInformation.getCreationDate() throws IOException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-145&quot;&gt;&lt;del&gt;PDFBOX-145&lt;/del&gt;&lt;/a&gt;    PDDocumentInformation.getCreationDate() throws IOException&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-823&quot; title=&quot;NullPointerException in DateConverter.toISO8601(DateConverter.java:221)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-823&quot;&gt;&lt;del&gt;PDFBOX-823&lt;/del&gt;&lt;/a&gt;    NullPointerException in DateConverter.toISO8601&lt;/p&gt;

&lt;p&gt;These three complaints raise two philosophic questions:&lt;br/&gt;
    1) If an argument is null should the result be null?&lt;br/&gt;
In some cases the original DateConverter treats a null argument by returning null.&lt;br/&gt;
This has the immediate effect of preventing DateConverter from throwing&lt;br/&gt;
NullPointerException. But it solves no problem, it just passes the error along&lt;br/&gt;
to the caller. Nor is DateConverter consistent: toString and toISO8601&lt;br/&gt;
differ in their treatment of a null argument.&lt;/p&gt;

&lt;p&gt;I took the position that returning null for null was not useful and thus deprecated&lt;br/&gt;
the two existing versions of toCalendar. The new toCalendarl method&lt;br/&gt;
    toCalendar(String, String[])&lt;br/&gt;
does not test for null, but throws a NullPointerException instead.&lt;/p&gt;

&lt;p&gt;   2b) How should failure be reported?&lt;br/&gt;
The existing versions of toCalendar signal failure by throwing an IOException.&lt;br/&gt;
To my mind this is overkill; bad dates are an input defect, not a programming&lt;br/&gt;
problem. Often the right approach to failure is to return null. For toCalendar,&lt;br/&gt;
the standard offers a good alternative: return Jan 1 in the year 0. Unfortunately,&lt;br/&gt;
GregorianCalendar does not allow the year zero. So the new toCalendar method signals failure by returning Jan 1 of 999. (999 is the value of the named&lt;br/&gt;
constant INVALID_YEAR. If one gets a PDF created in year 999, one inhabits&lt;br/&gt;
a unique universe!) The older toCalendar methods call the new one, test for&lt;br/&gt;
INVALID_YEAR, and throw an IOException when it appears.&lt;/p&gt;

&lt;p&gt;Notes:&lt;/p&gt;

&lt;p&gt;The principal date parser recognizes a superset of PDF format dates &lt;br/&gt;
called big-endian. They are of the format&lt;br/&gt;
    year [ -/]* month [ -/]* dayofmonth [ T]* hour &lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt; min &lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt; sec &lt;span class=&quot;error&quot;&gt;&amp;#91;.secFraction&amp;#93;&lt;/span&gt;&lt;br/&gt;
Time zones are parsed for at the end of every date format.&lt;/p&gt;

&lt;p&gt; Non-compatible changes:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;The default sign for time zone values was minus and is now plus.&lt;/li&gt;
	&lt;li&gt;The default time zone was UTC and is now the local default.&lt;/li&gt;
	&lt;li&gt;All locale-dependent processing is now done in Locale.ENGLISH.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;One cannot match both m/d/y and d/m/y. &lt;br/&gt;
I arbitrarily and without enthusiasm chose&lt;br/&gt;
            &quot;dd MMM yy HH:mm:ss&quot;,  // for 26 May 2000 11:25:00&lt;br/&gt;
            &quot;dd MMM yy HH:mm&quot;,  // for 26 May 2000 11:25&lt;br/&gt;
            &quot;yyyy MMM d&quot;,   // ambiguity resolved only by omitting time&lt;br/&gt;
            &quot;M/d/yy HH:mm:ss&quot;,&lt;br/&gt;
            &quot;M/d/yy HH:mm&quot;,&lt;br/&gt;
            &quot;M/d/yy&quot;,&lt;/p&gt;

&lt;p&gt;There are copies of older versions of DateConverter in both jempbox&lt;br/&gt;
and fontbox. This is unclean. My proposal is to move DateConverter&lt;br/&gt;
to org.apache.commons/lang3. This will add only a third of a mega-byte&lt;br/&gt;
to the 11 megabyte pdfbox.jar.&lt;/p&gt;
</comment>
                            <comment id="13750547" author="tilman" created="Mon, 26 Aug 2013 21:00:46 +0000"  >&lt;p&gt;Doesn&apos;t build:&lt;/p&gt;

&lt;p&gt;testDateConverter(org.apache.pdfbox.util.TestDateUtil)  Time elapsed: 0.029 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
junit.framework.AssertionFailedError: expected:&amp;lt;2007&amp;gt; but was:&amp;lt;-999&amp;gt;&lt;/p&gt;

&lt;p&gt;cal = DateConverter.toCalendar(orig);&lt;/p&gt;

&lt;p&gt;fails because of an exception. I changed the code to show the exception, this way one knows which test failed:&lt;/p&gt;

&lt;p&gt;java.io.IOException: Error converting date:Tue Aug 21 10:35:22 2007&lt;br/&gt;
	at org.apache.pdfbox.util.DateConverter.toCalendar(DateConverter.java:708)&lt;br/&gt;
	at org.apache.pdfbox.util.TestDateUtil.checkParse(TestDateUtil.java:120)&lt;br/&gt;
	at org.apache.pdfbox.util.TestDateUtil.testDateConverter(TestDateUtil.java:143)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:168)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:134)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4TestSet.execute(JUnit4TestSet.java:53)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.executeTestSet(JUnit4Provider.java:123)&lt;br/&gt;
	at org.apache.maven.surefire.junit4.JUnit4Provider.invoke(JUnit4Provider.java:104)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:57)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:606)&lt;br/&gt;
	at org.apache.maven.surefire.util.ReflectionUtils.invokeMethodWithArray(ReflectionUtils.java:164)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ProviderFactory$ProviderProxy.invoke(ProviderFactory.java:110)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireStarter.invokeProvider(SurefireStarter.java:172)&lt;br/&gt;
	at org.apache.maven.surefire.booter.SurefireStarter.runSuitesInProcessWhenForked(SurefireStarter.java:104)&lt;br/&gt;
	at org.apache.maven.surefire.booter.ForkedBooter.main(ForkedBooter.java:70)&lt;/p&gt;</comment>
                            <comment id="13750600" author="zweibieren" created="Mon, 26 Aug 2013 21:49:51 +0000"  >&lt;p&gt;I have just downloaded the latest 2.0 source and run &quot;mvn package&quot;. Compiled and tested fine.&lt;br/&gt;
Then I replaced DateConverter and TestDateUtil. Again, it built and tested just fine.&lt;/p&gt;

&lt;p&gt;The date string &quot;Tue Aug 21 10:35:22 2007&quot; should match the last of the alphaStartFormats:&lt;br/&gt;
      &quot;EEEE MMM dd HH:mm:ss yy&quot;, // GNU Ghostscript 7.0.7 variant&lt;br/&gt;
I don&apos;t know why it doesn&apos;t match in your tests.&lt;/p&gt;

&lt;p&gt;I am running JDK1.7.0_25&lt;/p&gt;

&lt;p&gt;Incidentally, one reason there is no DateConverter failure on the existing 2.0 code is&lt;br/&gt;
that most of the tests in TestDateUtil are commented out. Specifically:&lt;br/&gt;
            // assertDate(&quot;2007-08-21T10:35:22+00:00&quot;, &quot;Tue Aug 21 10:35:22 2007&quot;);&lt;/p&gt;</comment>
                            <comment id="13750652" author="tilman" created="Mon, 26 Aug 2013 22:25:52 +0000"  >&lt;p&gt;I suspect its a european problem.&lt;/p&gt;

&lt;p&gt;System.out.println(new SimpleDateFormat(&quot;EEEE MMM dd HH:mm:ss yy&quot;).format(System.currentTimeMillis()));&lt;br/&gt;
System.out.println(sdf.format(System.currentTimeMillis()));&lt;br/&gt;
System.out.println(&quot;parse: &quot; + new SimpleDateFormat(&quot;EEEE MMM dd HH:mm:ss yy&quot;).parse(&quot;Tue Aug 21 10:35:22 2007&quot;));&lt;br/&gt;
System.out.println (&quot;parse: &quot; + sdf.parse(&quot;Tue Aug 21 10:35:22 2007&quot;));&lt;/p&gt;


&lt;p&gt;The output of the first and the second lines is &quot;Dienstag Aug 27 00:16:35 13&quot; - both are in german. The third line fails with a ParseException. The fourth line too, although sdf is initialized with that Locale.ENGLISH calendar.&lt;/p&gt;</comment>
                            <comment id="13750673" author="tilman" created="Mon, 26 Aug 2013 22:43:17 +0000"  >&lt;p&gt;I got the code above to work - by using the locale as second constructor for SimpleDateFormat().&lt;/p&gt;

&lt;p&gt;The test that failed works by changing parseSimpleDate(), the line&lt;/p&gt;

&lt;p&gt;from&lt;br/&gt;
SimpleDateFormat sdf = new SimpleDateFormat(fmt);&lt;br/&gt;
to&lt;br/&gt;
SimpleDateFormat sdf = new SimpleDateFormat(fmt, Locale.ENGLISH);&lt;/p&gt;

&lt;p&gt;now there&apos;s a new failure:&lt;/p&gt;

&lt;p&gt;testDateConverter(org.apache.pdfbox.util.TestDateUtil)  Time elapsed: 0.064 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
junit.framework.ComparisonFailure: null expected:&amp;lt;2009-04-01T06:01:01&lt;span class=&quot;error&quot;&gt;&amp;#91;+01&amp;#93;&lt;/span&gt;:00&amp;gt; but was:&amp;lt;2009-04-01T06:01:01&lt;span class=&quot;error&quot;&gt;&amp;#91;-05&amp;#93;&lt;/span&gt;:00&amp;gt;&lt;/p&gt;

&lt;p&gt;looks like a timezone problem. But I&apos;m going to sleep now.&lt;/p&gt;</comment>
                            <comment id="13750770" author="zweibieren" created="Tue, 27 Aug 2013 00:00:24 +0000"  >&lt;p&gt;Oops that test case is simply wrong.  It should be&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;checkParse(2009, 4, 1, 6, 1, 1, -5, 0,  &quot;20090401 6:1:1 -0500&quot;);&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="13750978" author="tilman" created="Tue, 27 Aug 2013 05:34:50 +0000"  >&lt;p&gt;thanks; next test that fails:&lt;/p&gt;

&lt;p&gt;testDateConverter(org.apache.pdfbox.util.TestDateUtil)  Time elapsed: 0.599 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
junit.framework.ComparisonFailure: null expected:&amp;lt;2013-07-06T17:22:01&lt;span class=&quot;error&quot;&gt;&amp;#91;-05&amp;#93;&lt;/span&gt;:00&amp;gt; but was:&amp;lt;2013-07-06T17:22:01&lt;span class=&quot;error&quot;&gt;&amp;#91;+01&amp;#93;&lt;/span&gt;:00&amp;gt;&lt;/p&gt;</comment>
                            <comment id="13750990" author="tilman" created="Tue, 27 Aug 2013 05:59:58 +0000"  >&lt;p&gt;more tests that fail:&lt;/p&gt;

&lt;p&gt;testDateConverter(org.apache.pdfbox.util.TestDateUtil): null expected:&amp;lt;2013-07-06T17:22:01&lt;span class=&quot;error&quot;&gt;&amp;#91;-05&amp;#93;&lt;/span&gt;:00&amp;gt; but was:&amp;lt;2013-07-06T17:22:01&lt;span class=&quot;error&quot;&gt;&amp;#91;+01&amp;#93;&lt;/span&gt;:00&amp;gt;&lt;/p&gt;

&lt;p&gt;testDateConverter(org.apache.pdfbox.util.TestDateUtil): null expected:&amp;lt;2013-07-06T17:22:01&lt;span class=&quot;error&quot;&gt;&amp;#91;-05&amp;#93;&lt;/span&gt;:00&amp;gt; but was:&amp;lt;2013-07-06T17:22:01&lt;span class=&quot;error&quot;&gt;&amp;#91;+01&amp;#93;&lt;/span&gt;:00&amp;gt;&lt;/p&gt;

&lt;p&gt;testDateConverter(org.apache.pdfbox.util.TestDateUtil): null expected:&amp;lt;2013-07-06T00:00:00&lt;span class=&quot;error&quot;&gt;&amp;#91;-05&amp;#93;&lt;/span&gt;:00&amp;gt; but was:&amp;lt;2013-07-06T00:00:00&lt;span class=&quot;error&quot;&gt;&amp;#91;+01&amp;#93;&lt;/span&gt;:00&amp;gt;&lt;/p&gt;

&lt;p&gt;I suspect that all tests after &quot;test cases for all entries on old formats list&quot; fail.&lt;/p&gt;

&lt;p&gt;Having looked at the tests above, the first of the failed tests should probably be changed to&lt;/p&gt;

&lt;p&gt;checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;Saturday, 6 Jul 2013 5:22:1 PM&quot;);&lt;/p&gt;

&lt;p&gt;which works, and most the others similarly with &quot;tzH,tzM&quot;.&lt;/p&gt;

&lt;p&gt;Suggestion:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;correct all on your side&lt;/li&gt;
	&lt;li&gt;run the tests again&lt;/li&gt;
	&lt;li&gt;format the code ( &lt;a href=&quot;http://pdfbox.apache.org/codingconventions.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://pdfbox.apache.org/codingconventions.html&lt;/a&gt; )&lt;/li&gt;
	&lt;li&gt;delete the old attachments here&lt;/li&gt;
	&lt;li&gt;reupload the two files&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I then run the tests again here and tell you if they work.&lt;/p&gt;

&lt;p&gt;Here&apos;s what works for me:&lt;/p&gt;

&lt;p&gt;            // test cases for all entries on old formats list&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;Saturday, 6 Jul 2013 5:22:1 PM&quot;);   //  &quot;EEEE, dd MMM yyyy hh:mm:ss a&quot;  &lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;Sat, July 6, 2013 5:22:1 pm&quot;);   //  &quot;EEEE, MMM dd, yyyy hh:mm:ss a&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;7/6/2013 17:22:1&quot;);   //  &quot;MM/dd/yyyy hh:mm:ss&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, tzH,tzM, &quot;7/6/2013&quot;);   //  &quot;MM/dd/yyyy&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, -5, 0, &quot;2013-7-6T17:22:1-0500&quot;);   //  &quot;yyyy-MM-dd&apos;T&apos;HH:mm:ss&apos;Z&apos;&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, -5, 0, &quot;2013-7-6T17:22:1EDT&quot;);   //  &quot;yyyy-MM-dd&apos;T&apos;HH:mm:ssz&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, tzH,tzM, &quot;Sat, Jul 6, 2013&quot;);   //  &quot;EEEE, MMM dd, yyyy&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;Saturday Jul 6, 2013 17:22:1&quot;);   //  &quot;EEEE MMM dd, yyyy HH:mm:ss&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, -5, 0, &quot;Saturday Jul 6 17:22:1 GMT-05:00 2013&quot;);   //  &quot;EEEE MMM dd HH:mm:ss z yyyy&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 16, 23, 0, tzH,tzM, &quot;Saturday, Jul 6, 2013 at 4:23pm&quot;);   //  &quot;EEEE, MMM dd, yyyy &apos;at&apos; hh:mma&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, tzH,tzM, &quot;Saturday, July 6, 2013&quot;);   //  &quot;EEEEEEEEEE, MMMMMMMMMMMM dd, yyyy&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;6 Jul 2013 17:22:1&quot;);   //  &quot;dd MMM yyyy hh:mm:ss&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;7/6/2013 17:22:1&quot;);   //  &quot;M/dd/yyyy hh:mm:ss&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;7/6/2013 17:22:01&quot;);   //  &quot;MM/d/yyyy hh:mm:ss&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, tzH,tzM, &quot;7/6/2013&quot;);   //  &quot;M/dd/yyyy&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, tzH,tzM, &quot;07/06/2013&quot;);   //  &quot;MM/d/yyyy&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;7/6/2013 17:22:1&quot;);   //  &quot;M/d/yyyy hh:mm:ss&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, tzH,tzM, &quot;7/6/2013&quot;);   //  &quot;M/d/yyyy&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 17, 22, 1, tzH,tzM, &quot;7/6/13 17:22:1&quot;);   //  &quot;M/d/yy hh:mm:ss&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, tzH,tzM, &quot;7/6/13&quot;);   //  &quot;M/d/yy&quot;&lt;/p&gt;

&lt;p&gt;            checkParse(2013, 7, 6, 17, 7, 1, -5, 0, &quot;20130706 17:7:1 Z-0500&quot;);   //  &quot;yyyyMMdd hh:mm:ss Z&quot;  &lt;br/&gt;
            checkParse(2013, 7, 6, 17, 7, 1, tzH,tzM, &quot;20130706 17:07:01&quot;);   //  &quot;yyyyMMdd hh:mm:ss&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, 0, 0, &quot;20130706+00&apos;00&apos;&quot;);   //  &quot;yyyyMMdd&apos;+00&apos;&apos;00&apos;&apos;&apos;&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, 1, 0, &quot;20130706+01&apos;00&apos;&quot;);   //  &quot;yyyyMMdd&apos;+01&apos;&apos;00&apos;&apos;&apos;&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, 2, 0, &quot;20130706+02&apos;00&apos;&quot;);   //  &quot;yyyyMMdd&apos;+02&apos;&apos;00&apos;&apos;&apos;&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, 3, 0, &quot;20130706+03&apos;00&apos;&quot;);   //  &quot;yyyyMMdd&apos;+03&apos;&apos;00&apos;&apos;&apos;&quot;&lt;br/&gt;
             //   . . .&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, -10, 0, &quot;20130706-10&apos;00&apos;&quot;);   //  &quot;yyyyMMdd&apos;-10&apos;&apos;00&apos;&apos;&apos;&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, -11, 0, &quot;20130706-11&apos;00&apos;&quot;);   //  &quot;yyyyMMdd&apos;-11&apos;&apos;00&apos;&apos;&apos;&quot;&lt;br/&gt;
            checkParse(2013, 7, 6, 0, 0, 0, tzH,tzM, &quot;20130706&quot;);   //  &quot;yyyyMMdd&quot;&lt;br/&gt;
            checkParse(1973,12,25, 0, 8, 0, tzH,tzM, &quot;1973 12 25:08&quot;);   //  ambiguous big-endian date&lt;/p&gt;</comment>
                            <comment id="13751271" author="tilman" created="Tue, 27 Aug 2013 13:56:15 +0000"  >&lt;p&gt;There&apos;s a preflight test (I tried to build the whole &quot;pdfbox reactor&quot; project) that fails (NPE) because of another bug in&lt;/p&gt;

&lt;p&gt;Calendar toCalendar(COSString text)&lt;/p&gt;

&lt;p&gt;The javadoc reads &quot;The Calendar that this string represents. Or null if text was null.&quot;&lt;/p&gt;

&lt;p&gt;So please add &lt;/p&gt;

&lt;p&gt;        if (text == null)&lt;br/&gt;
            return null;    &lt;/p&gt;

&lt;p&gt;at the beginning of the function.&lt;/p&gt;

&lt;p&gt;testAllInfoSynchronized() also fails. The reason is that the date passed in dico.setCreationDate() and dico.setModificationDate() is stored as a string in COSDictionary.setDate() by using DateConverter.toString(), but your version isn&apos;t using the DST_OFFSET. The old version did, but using that one instead results in the tests failing again. I suspect you&apos;ll have to handle the DST and adjust all the tests.&lt;/p&gt;

&lt;p&gt;here&apos;s an output I inserted into apache\pdfbox\preflight\metadata\SynchronizedMetaDataValidation.java#analyzeCreationDateProperty():&lt;/p&gt;

&lt;p&gt;DateConverter.toISO8601(xmpCreationDate): 2013-08-27T15:50:27+02:00&lt;br/&gt;
DateConverter.toISO8601(creationDate):    2013-08-27T15:50:27+01:00&lt;/p&gt;</comment>
                            <comment id="13752027" author="zweibieren" created="Wed, 28 Aug 2013 01:56:56 +0000"  >&lt;p&gt;I&apos;ve made the revisions.  All but the DST_OFFSET bit.&lt;/p&gt;

&lt;p&gt;DST is a problem because there is no notion of DST in PDF dates.&lt;br/&gt;
As a comment in the code points out, &lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;ul&gt;
	&lt;li&gt;If the date is&lt;/li&gt;
	&lt;li&gt;in the summer when daylight savings is in effect, an offset of -0400&lt;/li&gt;
	&lt;li&gt;might correspond to any one of the 38 regions (of 53) with standard time&lt;/li&gt;
	&lt;li&gt;offset -0400 and no daylight saving. Or it might correspond to&lt;/li&gt;
	&lt;li&gt;any one of the 31 regions (out of 43) that observe daylight savings&lt;/li&gt;
	&lt;li&gt;and have standard time offset of -0500&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;My current plan is that toString(Calendar) and toISO8601(Calendar)&lt;br/&gt;
will include DST_OFFSET in computing the tz offset. But the parsing&lt;br/&gt;
methods will make no such adjustment.  Now it is a matter of &lt;br/&gt;
adjusting the arguments to TestDateUtil.checkParse().&lt;/p&gt;

&lt;p&gt;I have also revised the code so that if the string being parsed&lt;br/&gt;
has no offset, then the offset will be zero. &lt;br/&gt;
(Obvious, but not the way it was.)&lt;/p&gt;

&lt;p&gt;Ma&#241;ana.&lt;/p&gt;</comment>
                            <comment id="13752819" author="zweibieren" created="Wed, 28 Aug 2013 20:33:58 +0000"  >&lt;p&gt;New versions are attached.  Destinations: pdfbox/src/(main,test)/java/org/apache/pdfbox/util&lt;/p&gt;</comment>
                            <comment id="13753335" author="tilman" created="Thu, 29 Aug 2013 05:48:28 +0000"  >&lt;p&gt;It failed again because of the missing null check in &quot;Calendar toCalendar(COSString text)&quot;. You might also add these tests:&lt;/p&gt;

&lt;p&gt;        assertNull(DateConverter.toCalendar((COSString) null));&lt;br/&gt;
        assertNull(DateConverter.toCalendar((String) null));&lt;/p&gt;

&lt;p&gt;But after adding the null check again, all the reactor tests (including the preflight tests) pass!&lt;/p&gt;</comment>
                            <comment id="13753777" author="zweibieren" created="Thu, 29 Aug 2013 16:17:15 +0000"  >&lt;p&gt;Revised to test for null in toCalendar(COSString...)&lt;/p&gt;

&lt;p&gt;Also revised comments to be clearer and reflect what is going on. A major change is that the default TimeZone for parseDate is GMT+0 instead of the local Time Zone. See the initial comment in the code.&lt;/p&gt;</comment>
                            <comment id="13753836" author="tilman" created="Thu, 29 Aug 2013 17:27:18 +0000"  >&lt;p&gt;All builds fine, thanks. (Although I wrote a lot in this JIRA, I make no decisions here. Be patient &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;</comment>
                            <comment id="13812440" author="lehmi" created="Sun, 3 Nov 2013 18:10:02 +0000"  >&lt;p&gt;Works fine with java 7 but it throws an exception when running with java 6, which is the minimum requirement for PDFBox.&lt;/p&gt;

&lt;p&gt;The issue occurs in the first line of DateConverter#formatTZoffset, SimpleDateFormat(&quot;XXX&quot;) throws the exception below:&lt;/p&gt;

&lt;p&gt;java.lang.IllegalArgumentException: Illegal pattern character &apos;X&apos;&lt;br/&gt;
	at java.text.SimpleDateFormat.compile(SimpleDateFormat.java:768)&lt;br/&gt;
	at java.text.SimpleDateFormat.initialize(SimpleDateFormat.java:575)&lt;br/&gt;
	at java.text.SimpleDateFormat.&amp;lt;init&amp;gt;(SimpleDateFormat.java:500)&lt;br/&gt;
	at java.text.SimpleDateFormat.&amp;lt;init&amp;gt;(SimpleDateFormat.java:475)&lt;br/&gt;
	at org.apache.pdfbox.util.DateConverter.formatTZoffset(DateConverter.java:291)&lt;br/&gt;
	at org.apache.pdfbox.util.DateConverter.toISO8601(DateConverter.java:202)&lt;br/&gt;
	at org.apache.pdfbox.util.TestDateUtil.checkParse(TestDateUtil.java:152)&lt;br/&gt;
	at org.apache.pdfbox.util.TestDateUtil.testDateConverter(TestDateUtil.java:165)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:168)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:134)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)&lt;/p&gt;

&lt;p&gt;BTW: I had to implement our own Character#isAlphabetic, as it isn&apos;t available in java 6&lt;/p&gt;
</comment>
                            <comment id="13812513" author="tilman" created="Sun, 3 Nov 2013 23:10:29 +0000"  >&lt;p&gt;How about changing formatTZoffset like this?&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; formatTZoffset(&lt;span class=&quot;code-object&quot;&gt;long&lt;/span&gt; millis, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; sep)
    {
        SimpleDateFormat sdf = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SimpleDateFormat(&lt;span class=&quot;code-quote&quot;&gt;&quot;Z&quot;&lt;/span&gt;); &lt;span class=&quot;code-comment&quot;&gt;// #hhmm
&lt;/span&gt;        sdf.setTimeZone(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; SimpleTimeZone(restrainTZoffset(millis), &lt;span class=&quot;code-quote&quot;&gt;&quot;unknown&quot;&lt;/span&gt;));
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; str = sdf.format(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Date());
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; (str.substring(0, 3) + &lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt; + str.substring(3)).replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;Z&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;+00:00&quot;&lt;/span&gt;).replace(&lt;span class=&quot;code-quote&quot;&gt;&quot;:&quot;&lt;/span&gt;, sep);
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="13812921" author="zweibieren" created="Mon, 4 Nov 2013 15:46:39 +0000"  >&lt;p&gt;I&apos;ve revised DateConverter to conform to java 6:&lt;br/&gt;
     changed isAlphabetic to isDigit (and reversed the ?: values)&lt;br/&gt;
     use SimpleDateFormat(&quot;Z&quot;) as Tilman suggested.&lt;/p&gt;

&lt;p&gt;Also fixed some Javadoc in both DateConverter and TestDateUtil&lt;/p&gt;</comment>
                            <comment id="13812968" author="tilman" created="Mon, 4 Nov 2013 16:17:37 +0000"  >&lt;p&gt;Thanks... small typo in javadoc: remove the &quot;(&quot; after &quot;@link&quot; and replace it with a space in the two deprecated toCalendar methods.&lt;/p&gt;</comment>
                            <comment id="13813123" author="lehmi" created="Mon, 4 Nov 2013 19:08:20 +0000"  >&lt;p&gt;Thanks for coming back that fast, but some of the unit tests still fail.&lt;/p&gt;

&lt;p&gt;checkParse(year+20, 7, 6, 0, 0, 0, 0, &quot;7/6/&quot; + ((year+20)%100));   &lt;/p&gt;

&lt;p&gt;produces the following output:&lt;/p&gt;

&lt;p&gt;junit.framework.ComparisonFailure: null expected:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;20&amp;#93;&lt;/span&gt;33-07-06T00:00:00+00...&amp;gt; but was:&amp;lt;&lt;span class=&quot;error&quot;&gt;&amp;#91;19&amp;#93;&lt;/span&gt;33-07-06T00:00:00+00...&amp;gt;&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:81)&lt;br/&gt;
	at junit.framework.Assert.assertEquals(Assert.java:87)&lt;br/&gt;
	at org.apache.pdfbox.util.TestDateUtil.checkParse(TestDateUtil.java:151)&lt;br/&gt;
	at org.apache.pdfbox.util.TestDateUtil.testDateConverter(TestDateUtil.java:265)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:39)&lt;br/&gt;
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:25)&lt;br/&gt;
	at java.lang.reflect.Method.invoke(Method.java:597)&lt;br/&gt;
	at junit.framework.TestCase.runTest(TestCase.java:168)&lt;br/&gt;
	at junit.framework.TestCase.runBare(TestCase.java:134)&lt;br/&gt;
	at junit.framework.TestResult$1.protect(TestResult.java:110)&lt;br/&gt;
	at junit.framework.TestResult.runProtected(TestResult.java:128)&lt;br/&gt;
	at junit.framework.TestResult.run(TestResult.java:113)&lt;br/&gt;
	at junit.framework.TestCase.run(TestCase.java:124)&lt;br/&gt;
	at junit.framework.TestSuite.runTest(TestSuite.java:232)&lt;br/&gt;
	at junit.framework.TestSuite.run(TestSuite.java:227)&lt;br/&gt;
	at org.junit.internal.runners.JUnit38ClassRunner.run(JUnit38ClassRunner.java:83)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit4.runner.JUnit4TestReference.run(JUnit4TestReference.java:50)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.TestExecution.run(TestExecution.java:38)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:467)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.runTests(RemoteTestRunner.java:683)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.run(RemoteTestRunner.java:390)&lt;br/&gt;
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:197)&lt;/p&gt;
</comment>
                            <comment id="13813283" author="zweibieren" created="Mon, 4 Nov 2013 21:17:08 +0000"  >&lt;p&gt;Updated javadocs.&lt;/p&gt;

&lt;p&gt;Added a method to get the list of formats tried. (For completeness. I suspect it will never be used.)&lt;/p&gt;

&lt;p&gt;Fixed the  problem with the year+20 test.  It turns out that SimpleDateFormat computes the 80-20 year window at the exact millisecond when the instance is created. Which explains why it fails. What I do not understand is why it succeeded for me.&lt;/p&gt;</comment>
                            <comment id="13819210" author="lehmi" created="Mon, 11 Nov 2013 18:52:06 +0000"  >&lt;p&gt;I applied the changes in revision 1540801 as proposed by Fred.&lt;/p&gt;

&lt;p&gt;Thanks for the contribution!&lt;/p&gt;

&lt;p&gt;P.S.: please provide a patch in a diff format instead of the whole class next time&lt;/p&gt;</comment>
                            <comment id="13824896" author="lehmi" created="Sun, 17 Nov 2013 16:48:25 +0000"  >&lt;p&gt;Merged into 1.8-branch in revision 1542748.&lt;/p&gt;

&lt;p&gt;NOTE: I had to modify 2 of the testcases as they didn&apos;t work on java5.&lt;/p&gt;</comment>
                            <comment id="13835804" author="lehmi" created="Sat, 30 Nov 2013 17:02:09 +0000"  >&lt;p&gt;Closed after releasing 1.8.3&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12662391">PDFBOX-1683</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12540922">PDFBOX-1219</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="12310051">
                    <name>Supercedes</name>
                                            <outwardlinks description="supercedes">
                                        <issuelink>
            <issuekey id="12425248">PDFBOX-465</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12511636">PDFBOX-1054</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12612030" name="DateConverter.java" size="34455" author="zweibieren" created="Mon, 4 Nov 2013 21:17:08 +0000"/>
                            <attachment id="12612029" name="TestDateUtil.java" size="19785" author="zweibieren" created="Mon, 4 Nov 2013 21:17:08 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332225</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            11 years, 51 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i1lb9r:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>332554</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>