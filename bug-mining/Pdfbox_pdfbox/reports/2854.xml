<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:14:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-5727] Font operation takes a long time with 3.0.1</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-5727</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Kjetil &#216;degaard on the users mailing list reported that the start of PDFBox takes a long time during font collection and that two .ttc fonts that fail are tried every time. He produced a stack trace of an exception that is caught: &lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;java.io.EOFException
at
org.apache.fontbox.ttf.TTFDataStream.readUnsignedShort(TTFDataStream.java:154)
at
org.apache.fontbox.ttf.TTFDataStream.readUnsignedShortArray(TTFDataStream.java:188)
at
org.apache.fontbox.ttf.GlyphSubstitutionTable.readMultipleSubstitutionSubtable(GlyphSubstitutionTable.java:412)
at
org.apache.fontbox.ttf.GlyphSubstitutionTable.readLookupSubtable(GlyphSubstitutionTable.java:263)
at
org.apache.fontbox.ttf.GlyphSubstitutionTable.readLookupTable(GlyphSubstitutionTable.java:313)
at
org.apache.fontbox.ttf.GlyphSubstitutionTable.readLookupList(GlyphSubstitutionTable.java:247)
at
org.apache.fontbox.ttf.GlyphSubstitutionTable.read(GlyphSubstitutionTable.java:102)
at org.apache.fontbox.ttf.TrueTypeFont.readTable(TrueTypeFont.java:365)
at org.apache.fontbox.ttf.TTFParser.parseTables(TTFParser.java:165)
at org.apache.fontbox.ttf.TTFParser.parse(TTFParser.java:144)
at
org.apache.fontbox.ttf.TrueTypeCollection.getFontAtIndex(TrueTypeCollection.java:127)
at
org.apache.fontbox.ttf.TrueTypeCollection.processAllFonts(TrueTypeCollection.java:109)
at
org.apache.pdfbox.pdmodel.font.FileSystemFontProvider.addTrueTypeCollection(FileSystemFontProvider.java:665)
at
org.apache.pdfbox.pdmodel.font.FileSystemFontProvider.scanFonts(FileSystemFontProvider.java:396)
at
org.apache.pdfbox.pdmodel.font.FileSystemFontProvider.&amp;lt;init&amp;gt;(FileSystemFontProvider.java:367)
at
org.apache.pdfbox.pdmodel.font.FontMapperImpl$DefaultFontProvider.&amp;lt;clinit&amp;gt;(FontMapperImpl.java:139)
at
org.apache.pdfbox.pdmodel.font.FontMapperImpl.getProvider(FontMapperImpl.java:158)
at
org.apache.pdfbox.pdmodel.font.FontMapperImpl.findFont(FontMapperImpl.java:416)
at
org.apache.pdfbox.pdmodel.font.FontMapperImpl.findFontBoxFont(FontMapperImpl.java:379)
at
org.apache.pdfbox.pdmodel.font.FontMapperImpl.getFontBoxFont(FontMapperImpl.java:353)
at org.apache.pdfbox.pdmodel.font.PDType1Font.&amp;lt;init&amp;gt;(PDType1Font.java:127)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I have a theory why it happens, which is that addTrueTypeCollection() does not add the font as &quot;&lt;b&gt;skipexception&lt;/b&gt;&quot; to the cache file because it&apos;s not done in the exception handler. &lt;/p&gt;

&lt;p&gt;Gili Tzabari suggested to use CRC32 instead of SHA512.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13560609">PDFBOX-5727</key>
            <summary>Font operation takes a long time with 3.0.1</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                            <label>regression</label>
                    </labels>
                <created>Tue, 5 Dec 2023 08:12:58 +0000</created>
                <updated>Thu, 14 Mar 2024 20:57:41 +0000</updated>
                            <resolved>Tue, 5 Dec 2023 08:22:30 +0000</resolved>
                                    <version>2.0.30</version>
                    <version>3.0.1 PDFBox</version>
                                    <fixVersion>2.0.31</fixVersion>
                    <fixVersion>3.0.2 PDFBox</fixVersion>
                    <fixVersion>4.0.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17793183" author="jira-bot" created="Tue, 5 Dec 2023 08:20:10 +0000"  >&lt;p&gt;Commit 1914350 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1914350&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1914350&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5727&quot; title=&quot;Font operation takes a long time with 3.0.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5727&quot;&gt;&lt;del&gt;PDFBOX-5727&lt;/del&gt;&lt;/a&gt;: use faster checksum as suggested by Gili Tzabari; add failed ttc font to cache&lt;/p&gt;</comment>
                            <comment id="17793184" author="jira-bot" created="Tue, 5 Dec 2023 08:20:15 +0000"  >&lt;p&gt;Commit 1914351 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1914351&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1914351&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5727&quot; title=&quot;Font operation takes a long time with 3.0.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5727&quot;&gt;&lt;del&gt;PDFBOX-5727&lt;/del&gt;&lt;/a&gt;: use faster checksum as suggested by Gili Tzabari; add failed ttc font to cache&lt;/p&gt;</comment>
                            <comment id="17793185" author="jira-bot" created="Tue, 5 Dec 2023 08:20:19 +0000"  >&lt;p&gt;Commit 1914352 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1914352&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1914352&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5727&quot; title=&quot;Font operation takes a long time with 3.0.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5727&quot;&gt;&lt;del&gt;PDFBOX-5727&lt;/del&gt;&lt;/a&gt;: use faster checksum as suggested by Gili Tzabari; add failed ttc font to cache&lt;/p&gt;</comment>
                            <comment id="17793275" author="jira-bot" created="Tue, 5 Dec 2023 13:24:23 +0000"  >&lt;p&gt;Commit 1914359 from Tilman Hausherr in branch &apos;pdfbox/branches/3.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1914359&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1914359&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5727&quot; title=&quot;Font operation takes a long time with 3.0.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5727&quot;&gt;&lt;del&gt;PDFBOX-5727&lt;/del&gt;&lt;/a&gt;: fix CRC32 checksum (didn&apos;t work at all)&lt;/p&gt;</comment>
                            <comment id="17793276" author="jira-bot" created="Tue, 5 Dec 2023 13:24:27 +0000"  >&lt;p&gt;Commit 1914360 from Tilman Hausherr in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1914360&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1914360&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5727&quot; title=&quot;Font operation takes a long time with 3.0.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5727&quot;&gt;&lt;del&gt;PDFBOX-5727&lt;/del&gt;&lt;/a&gt;: fix CRC32 checksum (didn&apos;t work at all)&lt;/p&gt;</comment>
                            <comment id="17793277" author="jira-bot" created="Tue, 5 Dec 2023 13:24:30 +0000"  >&lt;p&gt;Commit 1914361 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1914361&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1914361&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5727&quot; title=&quot;Font operation takes a long time with 3.0.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5727&quot;&gt;&lt;del&gt;PDFBOX-5727&lt;/del&gt;&lt;/a&gt;: fix CRC32 checksum (didn&apos;t work at all)&lt;/p&gt;</comment>
                            <comment id="17793286" author="jira-bot" created="Tue, 5 Dec 2023 13:42:35 +0000"  >&lt;p&gt;Commit 1914362 from Tilman Hausherr in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1914362&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1914362&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-5727&quot; title=&quot;Font operation takes a long time with 3.0.1&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-5727&quot;&gt;&lt;del&gt;PDFBOX-5727&lt;/del&gt;&lt;/a&gt;: remove weird import&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13550836">PDFBOX-5684</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1m1ug:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>