<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:10:55 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3683] Unexpected behavior when setting value for radio button with /Opts entry </title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3683</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;Setting the value for a radio button the behavior is unexpected as when setting the value the entries in &lt;tt&gt;/Opts&lt;/tt&gt; need to be used is there is such entry otherwise the names for the &lt;tt&gt;On&lt;/tt&gt; values in the normal appearances entries need to be used. When getting the value always the set names entry is returned.&lt;/p&gt;

&lt;p&gt;Also see the discussion at &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3656&quot; title=&quot;Problem when setting COSName.Off on radio button&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3656&quot;&gt;&lt;del&gt;PDFBOX-3656&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The &lt;tt&gt;/Opts&lt;/tt&gt; entries shall only be considered when exporting or importing the AcroForm fields data.  &lt;/p&gt;</description>
                <environment></environment>
        <key id="13042388">PDFBOX-3683</key>
            <summary>Unexpected behavior when setting value for radio button with /Opts entry </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="msahyoun">Maruan Sahyoun</assignee>
                                    <reporter username="msahyoun">Maruan Sahyoun</reporter>
                        <labels>
                    </labels>
                <created>Sun, 12 Feb 2017 11:08:29 +0000</created>
                <updated>Sun, 20 Dec 2020 18:47:54 +0000</updated>
                            <resolved>Sun, 15 Nov 2020 07:24:24 +0000</resolved>
                                    <version>2.0.4</version>
                    <version>2.0.5</version>
                    <version>3.0.0 PDFBox</version>
                                    <fixVersion>2.0.22</fixVersion>
                    <fixVersion>3.0.0 PDFBox</fixVersion>
                                    <component>AcroForm</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15863956" author="scoldwell" created="Mon, 13 Feb 2017 16:45:14 +0000"  >&lt;p&gt;I think the behavior for getValueAsString should be changed to return the /Opt value if it exists instead of the index in the /Opt array.  Using the index seems to be an internal PDF concept.  If I&apos;m an author of a PDF and I create the options for a radio group, I would not expect to get back a number when one is selected.&lt;/p&gt;</comment>
                            <comment id="15863973" author="msahyoun" created="Mon, 13 Feb 2017 16:56:26 +0000"  >&lt;p&gt;In the case of your form it looks like an index but it&apos;s not. The &lt;tt&gt;On&lt;/tt&gt; state of each option in a radio button group is represented by a name, which happens to be &lt;tt&gt;0&lt;/tt&gt;, &lt;tt&gt;1&lt;/tt&gt; ... in the sample form you have. In the form Tilman created the name is &lt;tt&gt;a&lt;/tt&gt;, &lt;tt&gt;b&lt;/tt&gt;, &lt;tt&gt;c&lt;/tt&gt; so &lt;tt&gt;getValueAsString&lt;/tt&gt; will return &lt;tt&gt;b&lt;/tt&gt; for example. I&apos;ll do some more testing with Acrobat and try to replicate it&apos;s behavior. But it might also hide details from the programmer using PDFBox as e.g. when for your sample for you&apos;d like to choose &lt;tt&gt;Checking&lt;/tt&gt; what&apos;s stored in the fields value &lt;tt&gt;/V&lt;/tt&gt; is &lt;tt&gt;0&lt;/tt&gt;. Currently for all fields apart form signature fields &lt;tt&gt;getValueAsString&lt;/tt&gt; returns the &lt;tt&gt;/V&lt;/tt&gt; entry.&lt;/p&gt;

&lt;p&gt;So the question is if we&apos;s like to go a level up here (which makes it easier to use) or keep with the current low level design we have in PDFBox where one would need to know about how to handle the &lt;tt&gt;/Opts&lt;/tt&gt; information which would be &lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;get the value&lt;/li&gt;
	&lt;li&gt;get the index of the option representing that value&lt;/li&gt;
	&lt;li&gt;get the corresponding entry from &lt;tt&gt;/Opts&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15864143" author="scoldwell" created="Mon, 13 Feb 2017 18:19:18 +0000"  >&lt;p&gt;Just food for thought... I checked itext to see what they return for radio buttons and they return the /Opts value if it exists.&lt;/p&gt;</comment>
                            <comment id="15864201" author="msahyoun" created="Mon, 13 Feb 2017 18:51:21 +0000"  >&lt;p&gt;It&apos;s not so easy as one could have the same export value, which is defined by the &lt;tt&gt;/Opts&lt;/tt&gt; entry, for different options in the radio button group. How do you set it if you can&apos;t use the lower level value? Look at your sample form the value 0,2,4 have an export value of Checking where 1,3,5 have an export value of Savings. How would you set the 2nd Checking option? Of course we could always use the low level COS model for that. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; WDYT? I&apos;d prefer to follow Acrobat and Scott&apos;s suggestion and set/get by the &lt;tt&gt;/Opts&lt;/tt&gt; value if it exists. The raw value would then need to be retrieved using the COS model. Other possibility is to have another level on top of the PD model - e.g. InteractiveFormManager I suggested elsewhere - which would be a little more application oriented and replicate Acrobat&apos;s behavior.  &lt;/p&gt;</comment>
                            <comment id="15864278" author="tilman" created="Mon, 13 Feb 2017 19:33:29 +0000"  >&lt;p&gt;I&apos;m wondering if the form is somehow broken. Page 1 is government copy, 2 is bank copy, 3 is payee copy. So it would make sense that if one clicks on &quot;Checking&quot; on the first page, that the same checkmark appears on the other pages as well.&lt;/p&gt;

&lt;p&gt;I&apos;m really undecided, as I don&apos;t use this every day. But doing what a user prefers, or what other software does sounds good to me.&lt;/p&gt;</comment>
                            <comment id="15864433" author="msahyoun" created="Mon, 13 Feb 2017 21:15:02 +0000"  >&lt;p&gt;OK - I&apos;ll go ahead and change it but for 2.1 only so people being dependent on the current behavior have time to adjust. I&apos;ll ad a &apos;migration&apos; section to the website too. We can add other stuff as we move forward to that.&lt;/p&gt;</comment>
                            <comment id="17228288" author="msahyoun" created="Sun, 8 Nov 2020 21:32:01 +0000"  >&lt;p&gt;Using Acrobat and click on one of the &quot;Checking&quot; options the /V entry caries the index&lt;br/&gt;
Using Acrobat js:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;using &lt;tt&gt;value = &quot;Checking&quot;&lt;/tt&gt; the first &quot;Checking&quot; option is set&lt;/li&gt;
	&lt;li&gt;using &lt;tt&gt;value = 4&lt;/tt&gt; the third &quot;Checking&quot; option is set&lt;/li&gt;
	&lt;li&gt;getting the value &quot;Checking&quot; is returned regardless of which checking option has been selected&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17231743" author="jira-bot" created="Fri, 13 Nov 2020 18:37:49 +0000"  >&lt;p&gt;Commit 1883397 from Maruan Sahyoun in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1883397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1883397&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3683&quot; title=&quot;Unexpected behavior when setting value for radio button with /Opts entry &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3683&quot;&gt;&lt;del&gt;PDFBOX-3683&lt;/del&gt;&lt;/a&gt;: handle setting/getting of value if /Opt exists and In Unison flag is false&lt;/p&gt;</comment>
                            <comment id="17232219" author="jira-bot" created="Sun, 15 Nov 2020 10:03:22 +0000"  >&lt;p&gt;Commit 1883436 from Maruan Sahyoun in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1883436&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1883436&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3683&quot; title=&quot;Unexpected behavior when setting value for radio button with /Opts entry &quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3683&quot;&gt;&lt;del&gt;PDFBOX-3683&lt;/del&gt;&lt;/a&gt;: handle setting/getting of value if /Opt exists and In Unison flag is false&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13063497">PDFBOX-3753</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 51 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i39yq7:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>