<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:04:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-3488] NullPointerException in PDTrueTypeFont.java if glyf table is missing</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-3488</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Caused by: java.lang.NullPointerException: &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
    org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.getPath(PDTrueTypeFont.java:444)
    org.apache.pdfbox.pdmodel.font.PDTrueTypeFont.getNormalizedPath(PDTrueTypeFont.java:502)
    org.apache.pdfbox.rendering.GlyphCache.getPathForCharacterCode(GlyphCache.java:71)
    org.apache.pdfbox.rendering.PageDrawer.showFontGlyph(PageDrawer.java:350)
    org.apache.pdfbox.contentstream.PDFStreamEngine.showGlyph(PDFStreamEngine.java:756)
    org.apache.pdfbox.debugger.pagepane.DebugPageDrawer.showGlyph(DebugPageDrawer.java:59)
    org.apache.pdfbox.contentstream.PDFStreamEngine.showText(PDFStreamEngine.java:713)
    org.apache.pdfbox.contentstream.PDFStreamEngine.showTextString(PDFStreamEngine.java:572)
    org.apache.pdfbox.contentstream.&lt;span class=&quot;code-keyword&quot;&gt;operator&lt;/span&gt;.text.ShowText.process(ShowText.java:55)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The cause is the change in &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3395&quot; title=&quot;Throwing exception when PDF has unused empty fonts embedded.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3395&quot;&gt;&lt;del&gt;PDFBOX-3395&lt;/del&gt;&lt;/a&gt;; previously PDFBox would consider the font to be bad and replace it. Now we don&apos;t do that because the glyf table is not always needed.&lt;/p&gt;

&lt;p&gt;I&apos;m throwing a checked exception for now but a better solution should be found. Adobe Reader displays glyphs.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13003905">PDFBOX-3488</key>
            <summary>NullPointerException in PDTrueTypeFont.java if glyf table is missing</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="jahewson">John Hewson</assignee>
                                    <reporter username="tilman">Tilman Hausherr</reporter>
                        <labels>
                    </labels>
                <created>Fri, 9 Sep 2016 16:38:59 +0000</created>
                <updated>Sat, 17 Sep 2016 09:45:22 +0000</updated>
                            <resolved>Tue, 13 Sep 2016 06:32:11 +0000</resolved>
                                    <version>2.0.2</version>
                                    <fixVersion>2.0.3</fixVersion>
                                    <component>FontBox</component>
                    <component>Rendering</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15477535" author="jira-bot" created="Fri, 9 Sep 2016 16:43:23 +0000"  >&lt;p&gt;Commit 1760068 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1760068&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1760068&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3488&quot; title=&quot;NullPointerException in PDTrueTypeFont.java if glyf table is missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3488&quot;&gt;&lt;del&gt;PDFBOX-3488&lt;/del&gt;&lt;/a&gt;: avoid NullPointerException if glyf table is missing&lt;/p&gt;</comment>
                            <comment id="15477536" author="jira-bot" created="Fri, 9 Sep 2016 16:43:28 +0000"  >&lt;p&gt;Commit 1760069 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1760069&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1760069&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3488&quot; title=&quot;NullPointerException in PDTrueTypeFont.java if glyf table is missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3488&quot;&gt;&lt;del&gt;PDFBOX-3488&lt;/del&gt;&lt;/a&gt;: avoid NullPointerException if glyf table is missing&lt;/p&gt;</comment>
                            <comment id="15477561" author="kalaspuffar" created="Fri, 9 Sep 2016 16:50:33 +0000"  >&lt;p&gt;Hope this doesn&apos;t revert the solved issue &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3395&quot; title=&quot;Throwing exception when PDF has unused empty fonts embedded.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3395&quot;&gt;&lt;del&gt;PDFBOX-3395&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Might have been a logical continuation from that fix. Maybe all fonts need a null pointer check when the table is missing, but an empty isn&apos;t a missing table.&lt;/p&gt;

&lt;p&gt;Looking forward to 2.0.3, going to solve a lot of our problems. Keep up the great work.&lt;/p&gt;</comment>
                            <comment id="15477594" author="tilman" created="Fri, 9 Sep 2016 17:00:25 +0000"  >&lt;p&gt;The change I just made did not revert &quot;your&quot; issue, which dealt with an empty glyf table.&lt;/p&gt;

&lt;p&gt;However compared to 2.0.2 the 2.0.3 version would show nothing in rendering this file, while the 2.0.2 showed a substitute font.&lt;/p&gt;

&lt;p&gt;I&apos;m not yet sure what to, but I just don&apos;t want to have the risk of a NullPointerException.&lt;/p&gt;</comment>
                            <comment id="15477707" author="tilman" created="Fri, 9 Sep 2016 17:43:56 +0000"  >&lt;p&gt;I&apos;m wondering what this CFF table in the font is. Does this mean there&apos;s a font within the font?&lt;/p&gt;</comment>
                            <comment id="15486406" author="jahewson" created="Tue, 13 Sep 2016 06:21:58 +0000"  >&lt;p&gt;The CFF table means it&apos;s an OTF font, not a TTF. That&apos;s why there&apos;s no glyf table. TTFParser should have picked up on this.&lt;/p&gt;</comment>
                            <comment id="15486416" author="jira-bot" created="Tue, 13 Sep 2016 06:28:37 +0000"  >&lt;p&gt;Commit 1760481 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1760481&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1760481&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3488&quot; title=&quot;NullPointerException in PDTrueTypeFont.java if glyf table is missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3488&quot;&gt;&lt;del&gt;PDFBOX-3488&lt;/del&gt;&lt;/a&gt;: Don&apos;t allow CFF fonts in TTFParser&lt;/p&gt;</comment>
                            <comment id="15486419" author="jira-bot" created="Tue, 13 Sep 2016 06:29:08 +0000"  >&lt;p&gt;Commit 1760482 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/branches/2.0&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1760482&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1760482&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-3488&quot; title=&quot;NullPointerException in PDTrueTypeFont.java if glyf table is missing&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-3488&quot;&gt;&lt;del&gt;PDFBOX-3488&lt;/del&gt;&lt;/a&gt;: Don&apos;t allow CFF fonts in TTFParser&lt;/p&gt;</comment>
                            <comment id="15486423" author="jahewson" created="Tue, 13 Sep 2016 06:31:01 +0000"  >&lt;p&gt;TTFParser parser is supposed to reject OTF fonts (that&apos;s what OTFParser is for). So that&apos;s what I&apos;ve made it do.&lt;/p&gt;</comment>
                            <comment id="15486460" author="tilman" created="Tue, 13 Sep 2016 06:45:23 +0000"  >&lt;p&gt;I forgot to attach the file&lt;/p&gt;</comment>
                            <comment id="15486491" author="tilman" created="Tue, 13 Sep 2016 07:01:16 +0000"  >&lt;p&gt;all good!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12982310">PDFBOX-3395</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12828184" name="PDFJS-215-missing-glyf.pdf" size="82195" author="tilman" created="Tue, 13 Sep 2016 06:45:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/mozilla/pdf.js/issues/215]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 9 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i33g9b:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>