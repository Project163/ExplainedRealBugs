<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:59:23 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2667] StandardSecurityHandler should throw InvalidPasswordException</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2667</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;As result of  &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1973&quot; title=&quot;Exception Refactoring (Don&amp;#39;t wrap Exceptions with COSVisitorException)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1973&quot;&gt;&lt;del&gt;PDFBOX-1973&lt;/del&gt;&lt;/a&gt; changes, according to comments Revision 1576587, the StandardSecurityHandler.prepareForDecryption now has something like this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(isOwnerPassword){
    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; something
&lt;/span&gt;}&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(isUserPassword){
    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; something &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
&lt;/span&gt;}&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;{
   &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IOException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot decrypt PDF, the password is incorrect&quot;&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;In my use case the user tries to load a pdf, if the document is encrypted and he didn&apos;t supply a password or the supplied one is incorrect, a popup asking for the password is shown. The document is then loaded with the given password.&lt;br/&gt;
In &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1973&quot; title=&quot;Exception Refactoring (Don&amp;#39;t wrap Exceptions with COSVisitorException)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1973&quot;&gt;&lt;del&gt;PDFBOX-1973&lt;/del&gt;&lt;/a&gt; is discussed the possibility of throwing a different exception vs returning a boolean but currently none of the solutions is implemented and I can&apos;t distinguish between an &quot;incorrect password&quot; IOException vs a &quot;something else is wrong&quot; IOException.&lt;br/&gt;
There is already a InvalidPasswordException in the excryption package but as far as I can tell it&apos;s only used in the examples project (btw that example must be somehow broken since the exception is never thrown)&lt;br/&gt;
Unless you are going to implement the boolean solution, I&apos;d suggest to modify the algorithm with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(isOwnerPassword){
    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; something
&lt;/span&gt;}&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(isUserPassword){
    &lt;span class=&quot;code-comment&quot;&gt;//&lt;span class=&quot;code-keyword&quot;&gt;do&lt;/span&gt; something &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
&lt;/span&gt;}&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;{
   &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; InvalidPasswordException(&lt;span class=&quot;code-quote&quot;&gt;&quot;Cannot decrypt PDF, the password is incorrect&quot;&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So users can react to an invalid password.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12772441">PDFBOX-2667</key>
            <summary>StandardSecurityHandler should throw InvalidPasswordException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="torakiki">Andrea Vacondio</reporter>
                        <labels>
                    </labels>
                <created>Wed, 4 Feb 2015 18:03:30 +0000</created>
                <updated>Thu, 17 Mar 2016 19:06:48 +0000</updated>
                            <resolved>Wed, 4 Feb 2015 21:43:33 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>PDModel</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="14306021" author="jahewson" created="Wed, 4 Feb 2015 21:42:26 +0000"  >&lt;p&gt;Yes, lets do that, as I commented on &lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-1973&quot; title=&quot;Exception Refactoring (Don&amp;#39;t wrap Exceptions with COSVisitorException)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-1973&quot;&gt;&lt;del&gt;PDFBOX-1973&lt;/del&gt;&lt;/a&gt;:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;if we later decide that we need a specific exception to report invalid passwords (I think a boolean return value would be more appropriate) then we can easily add a subclass of IOException without altering the downstream API.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="14306023" author="jira-bot" created="Wed, 4 Feb 2015 21:43:16 +0000"  >&lt;p&gt;Commit 1657411 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jahewson&quot; class=&quot;user-hover&quot; rel=&quot;jahewson&quot;&gt;jahewson&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1657411&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1657411&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2667&quot; title=&quot;StandardSecurityHandler should throw InvalidPasswordException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2667&quot;&gt;&lt;del&gt;PDFBOX-2667&lt;/del&gt;&lt;/a&gt;: Throw InvalidPasswordException when password is incorrect&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 41 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i256zz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>