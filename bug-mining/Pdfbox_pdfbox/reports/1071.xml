<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:00:09 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[PDFBOX-2778] PDF to Image conversion fails with &quot;Invalid code word encountered&quot;</title>
                <link>https://issues.apache.org/jira/browse/PDFBOX-2778</link>
                <project id="12310760" key="PDFBOX">PDFBox</project>
                    <description>&lt;p&gt;One real-life PDF throws &lt;/p&gt;

&lt;p&gt;pdfbox-1.8.9&amp;gt; ./pdf-to-image.sh pdf/invalid-code-word-01.pdf &lt;br/&gt;
java -jar pdfbox-app-1.8.9.jar PDFToImage pdf/invalid-code-word-01.pdf&lt;br/&gt;
Apr 28, 2015 8:57:43 PM org.apache.pdfbox.util.operator.pagedrawer.Invoke process&lt;br/&gt;
SEVERE: java.io.IOException: Invalid code word encountered&lt;br/&gt;
java.io.IOException: Invalid code word encountered&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:360)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream$NonLeafLookupTreeNode.getNextCodeWord(CCITTFaxG31DDecodeInputStream.java:358)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream.decodeLine(CCITTFaxG31DDecodeInputStream.java:143)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.CCITTFaxG31DDecodeInputStream.read(CCITTFaxG31DDecodeInputStream.java:104)&lt;br/&gt;
	at java.io.InputStream.read(InputStream.java:170)&lt;br/&gt;
	at java.io.FilterInputStream.read(FilterInputStream.java:133)&lt;br/&gt;
	at org.apache.pdfbox.io.ccitt.FillOrderChangeInputStream.read(FillOrderChangeInputStream.java:45)&lt;br/&gt;
	at java.io.FilterInputStream.read(FilterInputStream.java:107)&lt;br/&gt;
	at org.apache.pdfbox.io.IOUtils.copy(IOUtils.java:68)&lt;br/&gt;
	at org.apache.pdfbox.io.IOUtils.toByteArray(IOUtils.java:52)&lt;br/&gt;
	at org.apache.pdfbox.filter.CCITTFaxDecodeFilter.decode(CCITTFaxDecodeFilter.java:110)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.doDecode(COSStream.java:379)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.doDecode(COSStream.java:291)&lt;br/&gt;
	at org.apache.pdfbox.cos.COSStream.getUnfilteredStream(COSStream.java:225)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.graphics.xobject.PDCcitt.getRGBImage(PDCcitt.java:201)&lt;br/&gt;
	at org.apache.pdfbox.util.operator.pagedrawer.Invoke.process(Invoke.java:87)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processOperator(PDFStreamEngine.java:557)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:268)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processSubStream(PDFStreamEngine.java:235)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFStreamEngine.processStream(PDFStreamEngine.java:215)&lt;br/&gt;
	at org.apache.pdfbox.pdfviewer.PageDrawer.drawPage(PageDrawer.java:139)&lt;br/&gt;
	at org.apache.pdfbox.pdmodel.PDPage.convertToImage(PDPage.java:801)&lt;br/&gt;
	at org.apache.pdfbox.util.PDFImageWriter.writeImage(PDFImageWriter.java:130)&lt;br/&gt;
	at org.apache.pdfbox.PDFToImage.main(PDFToImage.java:226)&lt;br/&gt;
	at org.apache.pdfbox.PDFBox.main(PDFBox.java:96)&lt;/p&gt;</description>
                <environment></environment>
        <key id="12825635">PDFBOX-2778</key>
            <summary>PDF to Image conversion fails with &quot;Invalid code word encountered&quot;</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tilman">Tilman Hausherr</assignee>
                                    <reporter username="sgoeschl">Siegfried Goeschl</reporter>
                        <labels>
                            <label>CCITTFaxDecode</label>
                            <label>ccitt</label>
                    </labels>
                <created>Tue, 28 Apr 2015 19:05:59 +0000</created>
                <updated>Thu, 23 Jul 2015 06:35:46 +0000</updated>
                            <resolved>Thu, 30 Apr 2015 16:55:13 +0000</resolved>
                                    <version>1.8.9</version>
                    <version>2.0.0</version>
                                    <fixVersion>1.8.10</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>Rendering</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14517685" author="sgoeschl" created="Tue, 28 Apr 2015 19:07:03 +0000"  >&lt;p&gt;Please note that I have the permission the upload the PDF from my customer&lt;/p&gt;</comment>
                            <comment id="14521780" author="jira-bot" created="Thu, 30 Apr 2015 16:34:38 +0000"  >&lt;p&gt;Commit 1677021 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/trunk&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1677021&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1677021&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2778&quot; title=&quot;PDF to Image conversion fails with &amp;quot;Invalid code word encountered&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2778&quot;&gt;&lt;del&gt;PDFBOX-2778&lt;/del&gt;&lt;/a&gt;: pass rows to decoder&lt;/p&gt;</comment>
                            <comment id="14521818" author="jira-bot" created="Thu, 30 Apr 2015 16:54:09 +0000"  >&lt;p&gt;Commit 1677026 from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tilman&quot; class=&quot;user-hover&quot; rel=&quot;tilman&quot;&gt;tilman&lt;/a&gt; in branch &apos;pdfbox/branches/1.8&apos;&lt;br/&gt;
[ &lt;a href=&quot;https://svn.apache.org/r1677026&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://svn.apache.org/r1677026&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/PDFBOX-2778&quot; title=&quot;PDF to Image conversion fails with &amp;quot;Invalid code word encountered&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;PDFBOX-2778&quot;&gt;&lt;del&gt;PDFBOX-2778&lt;/del&gt;&lt;/a&gt;: pass rows to decoder&lt;/p&gt;</comment>
                            <comment id="14521822" author="tilman" created="Thu, 30 Apr 2015 16:55:13 +0000"  >&lt;p&gt;A look at the file (created by &quot;TWZTYWdlbVBkZg&quot;) showed that the two images had the same compressed length, and were padded with 0xFF at the end. Further investigation showed that the number of rows wasn&apos;t passed to our decoder, although it can handle it.&lt;/p&gt;</comment>
                            <comment id="14521941" author="sgoeschl" created="Thu, 30 Apr 2015 17:50:19 +0000"  >&lt;p&gt;It seems that an interesting mix of knowledge is required to work on PDFBox - image stuff and the PDF stuff is definitely not for the weak and timid :-O&lt;/p&gt;</comment>
                            <comment id="14525948" author="sgoeschl" created="Sun, 3 May 2015 18:43:35 +0000"  >&lt;p&gt;Is there any particular reason not to include a test for the fix? Assuming that there is no reason I would be happy to provide a 2.0 patch to cover the bug fix &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="14525961" author="tilman" created="Sun, 3 May 2015 18:55:01 +0000"  >&lt;p&gt;A test case would either have to be constructed from scratch (i.e. a file with an image compressed as explained and padded), or be the file that you submitted. The later isn&apos;t possible, as the copyright belongs to your client.&lt;/p&gt;

&lt;p&gt;However I have added the file to my own test suite.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12728884" name="invalid-code-word-01.pdf" size="71430" author="sgoeschl" created="Tue, 28 Apr 2015 19:07:03 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 28 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2e11z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>