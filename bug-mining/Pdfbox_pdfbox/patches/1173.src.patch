diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/AxialShadingContext.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/AxialShadingContext.java
index 67f10b73b7..e88745d5b8 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/AxialShadingContext.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/AxialShadingContext.java
@@ -121,7 +121,7 @@ public class AxialShadingContext extends ShadingContext implements PaintContext
 
         // worst case for the number of steps is opposite diagonal corners, so use that
         double dist = Math.sqrt(Math.pow(deviceBounds.getMaxX() - deviceBounds.getMinX(), 2) +
-                                Math.pow(deviceBounds.getMaxY() - deviceBounds.getMinX(), 2));
+                                Math.pow(deviceBounds.getMaxY() - deviceBounds.getMinY(), 2));
         factor = (int) Math.ceil(dist);
         
         // build the color table for the given number of steps
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/RadialShadingContext.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/RadialShadingContext.java
index 17216e822b..a3c17474d8 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/RadialShadingContext.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/RadialShadingContext.java
@@ -127,7 +127,7 @@ public class RadialShadingContext extends ShadingContext implements PaintContext
 
         // worst case for the number of steps is opposite diagonal corners, so use that
         double dist = Math.sqrt(Math.pow(deviceBounds.getMaxX() - deviceBounds.getMinX(), 2) +
-                                Math.pow(deviceBounds.getMaxY() - deviceBounds.getMinX(), 2));
+                                Math.pow(deviceBounds.getMaxY() - deviceBounds.getMinY(), 2));
         factor = (int) Math.ceil(dist);
 
         // build the color table for the given number of steps
