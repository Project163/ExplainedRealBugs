diff --git a/pdfbox/src/test/java/org/apache/pdfbox/multipdf/OverlayTest.java b/pdfbox/src/test/java/org/apache/pdfbox/multipdf/OverlayTest.java
index 1edd5bd8e7..bc8677d29d 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/multipdf/OverlayTest.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/multipdf/OverlayTest.java
@@ -25,6 +25,9 @@ import java.awt.image.DataBufferInt;
 import java.io.File;
 import java.io.IOException;
 import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+
 import org.apache.pdfbox.Loader;
 import org.apache.pdfbox.pdmodel.PDDocument;
 import org.apache.pdfbox.pdmodel.PDPage;
@@ -33,6 +36,8 @@ import org.apache.pdfbox.pdmodel.font.PDFont;
 import org.apache.pdfbox.pdmodel.font.PDType1Font;
 import org.apache.pdfbox.pdmodel.font.Standard14Fonts.FontName;
 import org.apache.pdfbox.rendering.PDFRenderer;
+
+import org.junit.jupiter.api.Assertions;
 import org.junit.jupiter.api.BeforeEach;
 import org.junit.jupiter.api.Test;
 
@@ -56,7 +61,7 @@ class OverlayTest
     }
 
     @Test
-    void testRotatedOverlays() throws Exception
+    void testRotatedOverlays() throws IOException
     {
         testRotatedOverlay(0);
         testRotatedOverlay(90);
@@ -64,6 +69,54 @@ class OverlayTest
         testRotatedOverlay(270);
     }
 
+    @Test
+    void testRotatedOverlaysMap() throws IOException
+    {
+        // multiply base image
+        try (PDDocument baseDocument = Loader.loadPDF(new File(IN_DIR, "OverlayTestBaseRot0.pdf"));
+             PDDocument doc = new PDDocument())
+        {
+            for (int p = 0; p < 4; ++p)
+            {
+                doc.importPage(baseDocument.getPage(0));
+                
+                //TODO remove this after PDFBOX-5489 is fixed?
+                doc.getDocument().setHighestXRefObjectNumber(baseDocument.getDocument().getHighestXRefObjectNumber());
+            }
+            doc.save(new File(OUT_DIR, "OverlayTestBaseRot0_4Pages.pdf"));
+        }
+
+        // do the overlaying
+        try (PDDocument baseDocument = Loader.loadPDF(new File(OUT_DIR, "OverlayTestBaseRot0_4Pages.pdf"));
+             Overlay overlay = new Overlay())
+        {
+            Map<Integer, String> specificPageOverlayMap = new HashMap<>();
+            specificPageOverlayMap.put(1, new File(IN_DIR, "rot0.pdf").getAbsolutePath());
+            specificPageOverlayMap.put(2, new File(IN_DIR, "rot90.pdf").getAbsolutePath());
+            specificPageOverlayMap.put(3, new File(IN_DIR, "rot180.pdf").getAbsolutePath());
+            specificPageOverlayMap.put(4, new File(IN_DIR, "rot270.pdf").getAbsolutePath());
+            Assertions.assertThrows(IllegalArgumentException.class, () -> overlay.overlay(new HashMap<>()));
+            overlay.setInputPDF(baseDocument);
+            try (PDDocument overlayedResultPDF = overlay.overlay(specificPageOverlayMap))
+            {
+                List<PDDocument> documentList = new Splitter().split(overlayedResultPDF);
+                documentList.get(0).save(new File(OUT_DIR, "Overlayed-with-rot0.pdf"));
+                documentList.get(1).save(new File(OUT_DIR, "Overlayed-with-rot90.pdf"));
+                documentList.get(2).save(new File(OUT_DIR, "Overlayed-with-rot180.pdf"));
+                documentList.get(3).save(new File(OUT_DIR, "Overlayed-with-rot270.pdf"));
+
+                checkIdenticalRendering(new File(IN_DIR, "Overlayed-with-rot0.pdf"),
+                                        new File(OUT_DIR, "Overlayed-with-rot0.pdf"));
+                checkIdenticalRendering(new File(IN_DIR, "Overlayed-with-rot90.pdf"),
+                                        new File(OUT_DIR, "Overlayed-with-rot90.pdf"));
+                checkIdenticalRendering(new File(IN_DIR, "Overlayed-with-rot180.pdf"),
+                                        new File(OUT_DIR, "Overlayed-with-rot180.pdf"));
+                checkIdenticalRendering(new File(IN_DIR, "Overlayed-with-rot270.pdf"),
+                                        new File(OUT_DIR, "Overlayed-with-rot270.pdf"));
+            }
+        }
+    }
+
     private void testRotatedOverlay(int rotation) throws IOException
     {
         // do the overlaying
@@ -85,6 +138,11 @@ class OverlayTest
         File modelFile = new File(IN_DIR, "Overlayed-with-rot" + rotation + ".pdf");
         File resultFile = new File(OUT_DIR, "Overlayed-with-rot" + rotation + ".pdf");
 
+        checkIdenticalRendering(modelFile, resultFile);
+    }
+
+    private void checkIdenticalRendering(File modelFile, File resultFile) throws IOException
+    {
         BufferedImage modelImage;
         try (PDDocument modelDocument = Loader.loadPDF(modelFile))
         {
@@ -106,6 +164,8 @@ class OverlayTest
         DataBufferInt resultDataBuffer = (DataBufferInt) resultImage.getRaster().getDataBuffer();
 
         assertArrayEquals(modelDataBuffer.getData(), resultDataBuffer.getData());
+
+        resultFile.delete();
     }
     
     // code used to create the base file
