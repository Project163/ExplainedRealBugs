diff --git a/pdfbox/src/main/java/org/apache/pdfbox/util/PDFStreamEngine.java b/pdfbox/src/main/java/org/apache/pdfbox/util/PDFStreamEngine.java
index 79ef37abe4..4764bf4db5 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/util/PDFStreamEngine.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/util/PDFStreamEngine.java
@@ -285,7 +285,17 @@ public class PDFStreamEngine
         //subclasses can override to provide specific functionality.
     }
 
-    
+    /**
+     * A method provided as an event interface to allow a subclass to perform
+     * some specific functionality on the string encoded by a glyph.
+     *
+     * @param str The string to be processed.
+     */
+    protected String inspectFontEncoding( String str )
+    {
+        return str;
+    }
+
     /**
      * Process encoded text from the PDF Stream. 
      * You should override this method if you want to perform an action when 
@@ -380,6 +390,7 @@ public class PDFStreamEngine
                 codeLength++;
                 c = font.encode( string, i, codeLength );
             }
+            c = inspectFontEncoding(c);
 
             //todo, handle horizontal displacement
             // get the width and height of this character in text units 
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/util/PDFTextStripper.java b/pdfbox/src/main/java/org/apache/pdfbox/util/PDFTextStripper.java
index 120e8d2d11..7eaa6290be 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/util/PDFTextStripper.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/util/PDFTextStripper.java
@@ -1284,4 +1284,35 @@ public class PDFTextStripper extends PDFStreamEngine
     {
         this.averageCharTolerance = averageCharToleranceValue;
     }
+
+    /**
+     * Reverse characters of a compound Arabic glyph.
+     * When shouldSortByPosition() is true, inspect the sequence encoded
+     * by one glyph. If the glyph encodes two or more Arabic characters,
+     * reverse these characters from a logical order to a visual order.
+     * This ensures that the bidirectional algorithm that runs later will
+     * convert them back to a logical order.
+     * 
+     * @param str a string obtained from font.encoding()
+     */
+    public String inspectFontEncoding(String str)
+    {
+        if (!sortByPosition || str == null || str.length() < 2)
+            return str;
+
+        for (int i = 0; i < str.length(); ++i)
+        {
+            if (Character.getDirectionality(str.charAt(i))
+                    != Character.DIRECTIONALITY_RIGHT_TO_LEFT_ARABIC)
+                return str;
+        }
+
+        StringBuilder reversed = new StringBuilder(str.length());
+        for (int i = str.length() - 1; i >= 0; --i)
+        {
+            reversed.append(str.charAt(i));
+        }
+        return reversed.toString();
+    }
+
 }
