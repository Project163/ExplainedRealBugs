diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/AppearanceGeneratorHelper.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/AppearanceGeneratorHelper.java
index c65e0fa3e0..a8f7b7d210 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/AppearanceGeneratorHelper.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/AppearanceGeneratorHelper.java
@@ -129,6 +129,10 @@ class AppearanceGeneratorHelper
                     appearanceStream = new PDAppearanceStream(field.getAcroForm().getDocument());
                     
                     PDRectangle rect = widget.getRectangle();
+                    if (rect == null)
+                    {
+                        throw new IOException("widget of field " + field.getFullyQualifiedName() + " has no rectangle");
+                    }
                     
                     // Calculate the entries for the bounding box and the transformation matrix
                     // settings for the appearance stream
