diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/ImageFactory.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/ImageFactory.java
index 612d9cdc6a..2ad6d5bdb2 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/ImageFactory.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/ImageFactory.java
@@ -47,7 +47,15 @@ class ImageFactory
     // sets Image XObject properties from an AWT buffered image
     protected static void setPropertiesFromAWT(BufferedImage awtImage, PDImageXObject pdImage)
     {
-        pdImage.setColorSpace(toPDColorSpace(awtImage.getColorModel().getColorSpace()));
+        if (awtImage.getColorModel().getNumComponents() == 1)
+        {
+            // 256 color (gray) JPEG
+            pdImage.setColorSpace(PDDeviceGray.INSTANCE);
+        }
+        else
+        {
+            pdImage.setColorSpace(toPDColorSpace(awtImage.getColorModel().getColorSpace()));
+        }
         pdImage.setBitsPerComponent(awtImage.getColorModel().getComponentSize(0));
         pdImage.setHeight(awtImage.getHeight());
         pdImage.setWidth(awtImage.getWidth());
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/graphics/image/JPEGFactoryTest.java b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/graphics/image/JPEGFactoryTest.java
index d5f06db3bd..2dc7e5f10b 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/graphics/image/JPEGFactoryTest.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/graphics/image/JPEGFactoryTest.java
@@ -46,12 +46,27 @@ public class JPEGFactoryTest extends TestCase
 
     /**
      * Tests RGB JPEGFactory#createFromImage(PDDocument document, BufferedImage
-     * image)
+     * image) with color JPEG file
      */
     public void testCreateFromImageRGB() throws IOException
     {
         PDDocument document = new PDDocument();
         BufferedImage image = ImageIO.read(JPEGFactoryTest.class.getResourceAsStream("jpeg.jpg"));
+        assertEquals(3, image.getColorModel().getNumComponents());
+        PDImageXObject ximage = JPEGFactory.createFromImage(document, image);
+        validate(ximage, 8, 344, 287, "jpg");
+        document.close();
+    }
+
+    /**
+     * Tests RGB JPEGFactory#createFromImage(PDDocument document, BufferedImage
+     * image) with gray JPEG file
+     */
+    public void testCreateFromImage256() throws IOException
+    {
+        PDDocument document = new PDDocument();
+        BufferedImage image = ImageIO.read(JPEGFactoryTest.class.getResourceAsStream("jpeg256.jpg"));
+        assertEquals(1, image.getColorModel().getNumComponents());
         PDImageXObject ximage = JPEGFactory.createFromImage(document, image);
         validate(ximage, 8, 344, 287, "jpg");
         document.close();
diff --git a/pdfbox/src/test/resources/org/apache/pdfbox/pdmodel/graphics/image/jpeg256.jpg b/pdfbox/src/test/resources/org/apache/pdfbox/pdmodel/graphics/image/jpeg256.jpg
new file mode 100644
index 0000000000..809217d30b
Binary files /dev/null and b/pdfbox/src/test/resources/org/apache/pdfbox/pdmodel/graphics/image/jpeg256.jpg differ
