diff --git a/pdfbox/src/main/java/org/apache/pdfbox/text/LegacyPDFStreamEngine.java b/pdfbox/src/main/java/org/apache/pdfbox/text/LegacyPDFStreamEngine.java
index c237f567ef..5cd2686ef8 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/text/LegacyPDFStreamEngine.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/text/LegacyPDFStreamEngine.java
@@ -176,7 +176,8 @@ class LegacyPDFStreamEngine extends PDFStreamEngine
         if (fontDescriptor != null)
         {
             float capHeight = fontDescriptor.getCapHeight();
-            if (Float.compare(capHeight, 0) != 0 && (capHeight < glyphHeight || Float.compare(glyphHeight, 0) == 0))
+            if (Float.compare(capHeight, 0) != 0 &&
+                (capHeight < glyphHeight || Float.compare(glyphHeight, 0) == 0))
             {
                 glyphHeight = capHeight;
             }
@@ -184,7 +185,8 @@ class LegacyPDFStreamEngine extends PDFStreamEngine
             // sometimes even CapHeight has very high value, but Ascent and Descent are ok
             float ascent = fontDescriptor.getAscent();
             float descent = fontDescriptor.getDescent();
-            if (ascent > 0 && descent < 0 && ((ascent - descent) / 2 < glyphHeight || glyphHeight == 0))
+            if (ascent > 0 && descent < 0 &&
+                ((ascent - descent) / 2 < glyphHeight || Float.compare(glyphHeight, 0) == 0))
             {
                 glyphHeight = (ascent - descent) / 2;
             }
