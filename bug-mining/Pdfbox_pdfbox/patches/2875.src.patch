diff --git a/pdfbox/src/main/java/org/apache/pdfbox/rendering/PageDrawer.java b/pdfbox/src/main/java/org/apache/pdfbox/rendering/PageDrawer.java
index c3aff3602f..0d9580f0b0 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/rendering/PageDrawer.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/rendering/PageDrawer.java
@@ -174,6 +174,7 @@ public class PageDrawer extends PDFGraphicsStreamEngine
     private final RenderingHints renderingHints;
     private final float imageDownscalingOptimizationThreshold;
     private LookupTable invTable = null;
+    private final Map<COSBase,Boolean> blendModeMap = new HashMap<>();
 
     /**
     * Default annotations filter, returns all annotations
@@ -1964,14 +1965,21 @@ public class PageDrawer extends PDFGraphicsStreamEngine
     {
         if (groupsDone.contains(group.getCOSObject()))
         {
-            // The group was already processed. Avoid endless recursion.
+            // The group is being processed. Avoid endless recursion.
             return false;
         }
         groupsDone.add(group.getCOSObject());
 
+        Boolean val = blendModeMap.get(group.getCOSObject());
+        if (val != null)
+        {
+            return val;
+        }
+
         PDResources resources = group.getResources();
         if (resources == null)
         {
+            blendModeMap.put(group.getCOSObject(), false);
             return false;
         }
         for (COSName name : resources.getExtGStateNames())
@@ -1984,6 +1992,7 @@ public class PageDrawer extends PDFGraphicsStreamEngine
             BlendMode blendMode = extGState.getBlendMode();
             if (blendMode != BlendMode.NORMAL)
             {
+                blendModeMap.put(group.getCOSObject(), true);
                 return true;
             }
         }
@@ -2003,10 +2012,12 @@ public class PageDrawer extends PDFGraphicsStreamEngine
             if (xObject instanceof PDTransparencyGroup &&
                 hasBlendMode((PDTransparencyGroup)xObject, groupsDone))
             {
+                blendModeMap.put(group.getCOSObject(), true);
                 return true;
             }
         }
 
+        blendModeMap.put(group.getCOSObject(), false);
         return false;
     }
 
