diff --git a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSObjectKey.java b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSObjectKey.java
index 78edcb1b94..31ae64fa69 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSObjectKey.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSObjectKey.java
@@ -30,6 +30,8 @@ public final class COSObjectKey implements Comparable<COSObjectKey>
     // The lowest 16 bits hold the generation 0-65535
     // The rest is used for the number (even though 34 bit are sufficient for 10 digits)
     private final long numberAndGeneration;
+    // index within a compressed object stream if applicable otherwise -1
+    private final int streamIndex;
     
     /**
      * Constructor.
@@ -48,6 +50,28 @@ public final class COSObjectKey implements Comparable<COSObjectKey>
             throw new IllegalArgumentException("Generation number must not be a negative value");
         }
         numberAndGeneration = num << NUMBER_OFFSET | (gen & GENERATION_MASK);
+        streamIndex = -1;
+    }
+
+    /**
+     * Constructor.
+     *
+     * @param num The object number.
+     * @param gen The object generation number.
+     * @param index The index within a compressed object stream
+     */
+    public COSObjectKey(long num, int gen, int index)
+    {
+        if (num < 0)
+        {
+            throw new IllegalArgumentException("Object number must not be a negative value");
+        }
+        if (gen < 0)
+        {
+            throw new IllegalArgumentException("Generation number must not be a negative value");
+        }
+        numberAndGeneration = num << NUMBER_OFFSET | (gen & GENERATION_MASK);
+        this.streamIndex = index;
     }
 
     /**
@@ -81,6 +105,16 @@ public final class COSObjectKey implements Comparable<COSObjectKey>
         return numberAndGeneration >>> NUMBER_OFFSET;
     }
 
+    /**
+     * The index within a compressed object stream.
+     * 
+     * @return the index within a compressed object stream if applicable otherwise -1
+     */
+    public int getStreamIndex()
+    {
+        return streamIndex;
+    }
+
     /**
      * {@inheritDoc}
      */
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFXrefStreamParser.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFXrefStreamParser.java
index e1b8db0de6..e4db1f5310 100755
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFXrefStreamParser.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFXrefStreamParser.java
@@ -136,19 +136,19 @@ public class PDFXrefStreamParser extends BaseParser
             }
             // second field holds the offset (type 1) or the object stream number (type 2)
             long offset = parseValue(currLine, w[0], w[1]);
-            // third field holds the generation number for type 1 entries
-            int genNum = type == 1 ? (int) parseValue(currLine, w[0] + w[1], w[2]) : 0;
-            COSObjectKey objKey = new COSObjectKey(objID, genNum);
+            // third filed may hold the generation number (type1) or the index within a object stream (type2)
+            int thirdValue = (int) parseValue(currLine, w[0] + w[1], w[2]);
             if (type == 1)
             {
-                resolver.setXRef(objKey, offset);
+                // third field holds the generation number for type 1 entries
+                resolver.setXRef(new COSObjectKey(objID, thirdValue), offset);
             }
             else
             {
                 // For XRef aware parsers we have to know which objects contain object streams. We will store this
                 // information in normal xref mapping table but add object stream number with minus sign in order to
                 // distinguish from file offsets
-                resolver.setXRef(objKey, -offset);
+                resolver.setXRef(new COSObjectKey(objID, 0, thirdValue), -offset);
             }
         }
         close();
