diff --git a/pdfbox/pom.xml b/pdfbox/pom.xml
index f89cd450b8..a7d85c8261 100644
--- a/pdfbox/pom.xml
+++ b/pdfbox/pom.xml
@@ -760,6 +760,19 @@
                             <sha512>6904a5f8fe12599a4ca49914158024ebd3533cb2e1ef02127d9d99291c20e68c449cd40ba00f2a8d1295b083fcffd44b30ed1ce5a16bfcd0bb37a25f8581c67d</sha512>
                         </configuration>
                     </execution>
+                    <execution>
+                        <id>PDFBOX-5742</id>
+                        <phase>generate-test-resources</phase>
+                        <goals>
+                            <goal>wget</goal>
+                        </goals>
+                        <configuration>
+                            <url>https://issues.apache.org/jira/secure/attachment/13065529/source.pdf</url>
+                            <outputDirectory>${project.build.directory}/pdfs</outputDirectory>
+                            <outputFileName>PDFBOX-5742.pdf</outputFileName>
+                            <sha512>1c645cc1a6da616cf1af23b623562161493c79c2f8382622515138628cfee71fb318fdebd0b7167d9bdac92119928d57f39de213089f7f1832296ea068189380</sha512>
+                        </configuration>
+                    </execution>
                 </executions>
             </plugin>
         </plugins>
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/cos/COSObjectKeyTest.java b/pdfbox/src/test/java/org/apache/pdfbox/cos/COSObjectKeyTest.java
index 8ba5b555e7..143a575e81 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/cos/COSObjectKeyTest.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/cos/COSObjectKeyTest.java
@@ -16,6 +16,17 @@
  */
 package org.apache.pdfbox.cos;
 
+import java.awt.image.BufferedImage;
+import java.io.ByteArrayOutputStream;
+import java.io.File;
+import java.io.IOException;
+import java.util.List;
+import org.apache.pdfbox.Loader;
+import org.apache.pdfbox.multipdf.Splitter;
+import org.apache.pdfbox.pdmodel.PDDocument;
+import org.apache.pdfbox.pdmodel.graphics.image.ValidateXImage;
+import org.apache.pdfbox.rendering.PDFRenderer;
+import org.junit.jupiter.api.Assertions;
 import static org.junit.jupiter.api.Assertions.assertEquals;
 import static org.junit.jupiter.api.Assertions.assertNotEquals;
 import static org.junit.jupiter.api.Assertions.fail;
@@ -136,4 +147,44 @@ class COSObjectKeyTest
         assertNotEquals(new COSObjectKey(100, 0).hashCode(),
                 new COSObjectKey(99, 1).hashCode());
     }
+
+    /**
+     * PDFBOX-5742: split and then check that renderings are identical. This is a test of the
+     * changes with handling indirect objects in COSArray, COSDictionary and COSParser.
+     */
+    @Test
+    void testPDFBox5742() throws IOException
+    {
+        ByteArrayOutputStream baos1 = new ByteArrayOutputStream();
+        ByteArrayOutputStream baos2 = new ByteArrayOutputStream();
+        BufferedImage bim1orig;
+        BufferedImage bim2orig;
+        try (PDDocument doc = Loader.loadPDF(new File("target/pdfs","PDFBOX-5742.pdf")))
+        {
+            PDFRenderer renderer = new PDFRenderer(doc);
+            bim1orig = renderer.renderImage(0);
+            bim2orig = renderer.renderImage(1);
+            Splitter splitter = new Splitter();
+            List<PDDocument> splits = splitter.split(doc);
+            Assertions.assertEquals(2, splits.size());
+            try (PDDocument doc1 = splits.get(0);
+                 PDDocument doc2 = splits.get(1))
+            {
+                doc1.save(baos1);
+                doc2.save(baos2);
+            }
+        }
+        try (PDDocument doc1 = Loader.loadPDF(baos1.toByteArray());
+             PDDocument doc2 = Loader.loadPDF(baos2.toByteArray()))
+        {
+            Assertions.assertEquals(1, doc1.getNumberOfPages());
+            Assertions.assertEquals(1, doc2.getNumberOfPages());
+            PDFRenderer renderer1 = new PDFRenderer(doc1);
+            PDFRenderer renderer2 = new PDFRenderer(doc2);
+            BufferedImage bim1new = renderer1.renderImage(0);
+            BufferedImage bim2new = renderer2.renderImage(0);
+            ValidateXImage.checkIdent(bim1orig, bim1new);
+            ValidateXImage.checkIdent(bim2orig, bim2new);
+        }
+    }
 }
