diff --git a/pdfbox/src/main/java/org/apache/pdfbox/io/RandomAccessBuffer.java b/pdfbox/src/main/java/org/apache/pdfbox/io/RandomAccessBuffer.java
index f52fcdc45f..263fd0ffff 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/io/RandomAccessBuffer.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/io/RandomAccessBuffer.java
@@ -172,6 +172,7 @@ public class RandomAccessBuffer implements RandomAccess
      */
     public void write(int b) throws IOException
     {
+        // end of buffer reached?
         if (currentBufferPointer >= BUFFER_SIZE) 
         {
             if (pointer + BUFFER_SIZE >= Integer.MAX_VALUE) 
@@ -186,6 +187,15 @@ public class RandomAccessBuffer implements RandomAccess
         {
             this.size = pointer;
         }
+        // end of buffer reached now?
+        if (currentBufferPointer >= BUFFER_SIZE) 
+        {
+            if (pointer + BUFFER_SIZE >= Integer.MAX_VALUE) 
+            {
+                throw new IOException("RandomAccessBuffer overflow");
+            }
+            expandBuffer();
+        }
     }
 
     /**
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/io/TestRandomAccessBuffer.java b/pdfbox/src/test/java/org/apache/pdfbox/io/TestRandomAccessBuffer.java
index 6ba7c1b7c5..ca8787334d 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/io/TestRandomAccessBuffer.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/io/TestRandomAccessBuffer.java
@@ -210,4 +210,16 @@ public class TestRandomAccessBuffer extends TestCase
         }
         assertEquals(25, result);
     }
+    
+    public void testPDFBOX1490() throws Exception
+    {
+        // create a buffer filled with 16383 * "0" 
+        byte[] byteArray = new byte[ BUFFER_SIZE-1];
+        RandomAccessBuffer buffer = new RandomAccessBuffer();
+        buffer.write(byteArray,0, byteArray.length);
+        // fill the first buffer until the end
+        buffer.write(0);
+        // seek the current == last position in the first buffer chunk
+        buffer.seek(buffer.getPosition());
+    }
 }
