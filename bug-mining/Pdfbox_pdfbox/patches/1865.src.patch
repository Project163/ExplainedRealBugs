diff --git a/pdfbox/src/main/java/org/apache/pdfbox/filter/RunLengthDecodeFilter.java b/pdfbox/src/main/java/org/apache/pdfbox/filter/RunLengthDecodeFilter.java
index 24b008459b..c9dab1762e 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/filter/RunLengthDecodeFilter.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/filter/RunLengthDecodeFilter.java
@@ -45,8 +45,8 @@ final class RunLengthDecodeFilter extends Filter
             if (dupAmount <= 127)
             {
                 int amountToCopy = dupAmount + 1;
-                int compressedRead = 0;
-                while(amountToCopy > 0)
+                int compressedRead;
+                while (amountToCopy > 0)
                 {
                     compressedRead = encoded.read(buffer, 0, amountToCopy);
                     // EOF reached?
@@ -61,6 +61,11 @@ final class RunLengthDecodeFilter extends Filter
             else
             {
                 int dupByte = encoded.read();
+                // EOF reached?
+                if (dupByte == -1)
+                {
+                    break;
+                }
                 for (int i = 0; i < 257 - dupAmount; i++)
                 {
                     decoded.write(dupByte);
