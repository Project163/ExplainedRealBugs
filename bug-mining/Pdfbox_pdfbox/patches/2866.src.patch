diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.java
index 023b5df701..9af3d59b37 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/PDImageXObject.java
@@ -78,6 +78,8 @@ public final class PDImageXObject extends PDXObject implements PDImage
 
     // initialize to MAX_VALUE as we prefer lower subsampling when keeping/replacing cache.
     private int cachedImageSubsampling = Integer.MAX_VALUE;
+    // indicates whether this image has an JPX-based filter applied
+    private boolean hasJPXFilter = false;
 
     /**
      * current resource dictionary (has color spaces)
@@ -141,12 +143,7 @@ public final class PDImageXObject extends PDXObject implements PDImage
         List<COSName> filters = stream.getFilters();
         if (!filters.isEmpty() && COSName.JPX_DECODE.equals(filters.get(filters.size() - 1)))
         {
-            try (COSInputStream is = stream.createInputStream())
-            {
-                DecodeResult decodeResult = is.getDecodeResult();
-                stream.getCOSObject().addAll(decodeResult.getParameters());
-                this.colorSpace = decodeResult.getJPXColorSpace();
-            }
+            hasJPXFilter = true;
         }
     }
 
@@ -837,9 +834,19 @@ public final class PDImageXObject extends PDXObject implements PDImage
             else if (isStencil())
             {
                 // stencil mask color space must be gray, it is often missing
-                return PDDeviceGray.INSTANCE;
+                colorSpace = PDDeviceGray.INSTANCE;
+            }
+            else if (hasJPXFilter)
+            {
+                PDStream stream = getStream();
+                try (COSInputStream is = stream.createInputStream())
+                {
+                    DecodeResult decodeResult = is.getDecodeResult();
+                    stream.getCOSObject().addAll(decodeResult.getParameters());
+                    colorSpace = decodeResult.getJPXColorSpace();
+                }
             }
-            else
+            if (colorSpace == null)
             {
                 // an image without a color space is always broken
                 throw new IOException("could not determine color space");
