diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/PDInlineImage.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/PDInlineImage.java
index 28c8282956..9da280a9f1 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/PDInlineImage.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/image/PDInlineImage.java
@@ -28,12 +28,9 @@ import org.apache.pdfbox.cos.COSArray;
 import org.apache.pdfbox.cos.COSBase;
 import org.apache.pdfbox.cos.COSDictionary;
 import org.apache.pdfbox.cos.COSName;
-import org.apache.pdfbox.cos.COSStream;
 import org.apache.pdfbox.filter.DecodeResult;
 import org.apache.pdfbox.filter.Filter;
 import org.apache.pdfbox.filter.FilterFactory;
-import org.apache.pdfbox.io.RandomAccess;
-import org.apache.pdfbox.io.RandomAccessBuffer;
 import org.apache.pdfbox.pdmodel.common.COSArrayList;
 import org.apache.pdfbox.pdmodel.common.PDMemoryStream;
 import org.apache.pdfbox.pdmodel.common.PDStream;
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/util/operator/pagedrawer/BeginInlineImage.java b/pdfbox/src/main/java/org/apache/pdfbox/util/operator/pagedrawer/BeginInlineImage.java
index aa6d30af5c..ec10855c8e 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/util/operator/pagedrawer/BeginInlineImage.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/util/operator/pagedrawer/BeginInlineImage.java
@@ -22,6 +22,8 @@ import java.util.List;
 
 import org.apache.pdfbox.cos.COSBase;
 import org.apache.pdfbox.pdfviewer.PageDrawer;
+import org.apache.pdfbox.pdmodel.graphics.color.PDColor;
+import org.apache.pdfbox.pdmodel.graphics.color.PDColorSpace;
 import org.apache.pdfbox.pdmodel.graphics.image.PDInlineImage;
 import org.apache.pdfbox.util.Matrix;
 import org.apache.pdfbox.util.PDFOperator;
@@ -43,8 +45,17 @@ public final class BeginInlineImage extends OperatorProcessor
         PDInlineImage image = new PDInlineImage(operator.getImageParameters(),
                                                 operator.getImageData(),
                                                 context.getResources().getColorSpaces());
-
-        BufferedImage awtImage = image.getImage();
+        BufferedImage awtImage;
+        if (image.isStencil())
+        {
+            PDColorSpace colorSpace = drawer.getGraphicsState().getNonStrokingColorSpace();
+            PDColor color = drawer.getGraphicsState().getNonStrokingColor();
+            awtImage = image.getStencilImage(colorSpace.toPaint(color)); // <--- TODO: pass page height?
+        }
+        else
+        {
+            awtImage = image.getImage();
+        }
         Matrix ctm = drawer.getGraphicsState().getCurrentTransformationMatrix();
         drawer.drawImage(awtImage, ctm.createAffineTransform());
     }
