diff --git a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSOutputStream.java b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSOutputStream.java
index 830a6ed624..649ff18fa4 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSOutputStream.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSOutputStream.java
@@ -110,7 +110,7 @@ public final class COSOutputStream extends FilterOutputStream
     @Override
     public void flush() throws IOException
     {
-        if (buffer != null)
+        if (buffer == null)
         {
             super.flush();
         }
