diff --git a/pdfbox/src/main/java/org/apache/pdfbox/filter/Filter.java b/pdfbox/src/main/java/org/apache/pdfbox/filter/Filter.java
index 65984b2bab..61d9e9db02 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/filter/Filter.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/filter/Filter.java
@@ -199,6 +199,7 @@ public abstract class Filter
      * @param results list of optional decoding results for each filter
      * @return the decoded stream data
      * @throws IOException if the stream cannot be decoded
+     * @throws IllegalArgumentException if filterList is empty
      */
     public static RandomAccessRead decode(InputStream encoded, List<Filter> filterList,
             COSDictionary parameters, DecodeOptions options, List<DecodeResult> results)
@@ -206,6 +207,10 @@ public abstract class Filter
     {
         int length = parameters.getInt(COSName.LENGTH,
                 RandomAccessReadBuffer.DEFAULT_CHUNK_SIZE_4KB);
+        if (filterList.isEmpty())
+        {
+            throw new IllegalArgumentException("Empty filterList");
+        }
         if (filterList.size() > 1)
         {
             Set<Filter> filterSet = new HashSet<>(filterList);
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/filter/TestFilters.java b/pdfbox/src/test/java/org/apache/pdfbox/filter/TestFilters.java
index 82168b5b3c..4cb01f743b 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/filter/TestFilters.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/filter/TestFilters.java
@@ -16,19 +16,21 @@
  */
 package org.apache.pdfbox.filter;
 
-import static org.junit.jupiter.api.Assertions.assertArrayEquals;
-
 import java.io.ByteArrayInputStream;
 import java.io.ByteArrayOutputStream;
 import java.io.File;
 import java.io.IOException;
 import java.io.InputStream;
+import java.util.ArrayList;
 
 import java.util.Random;
 
 import org.apache.pdfbox.Loader;
 import org.apache.pdfbox.cos.COSDictionary;
 import org.apache.pdfbox.cos.COSName;
+
+import static org.junit.jupiter.api.Assertions.assertArrayEquals;
+import static org.junit.jupiter.api.Assertions.assertThrows;
 import org.junit.jupiter.api.Test;
 
 /**
@@ -177,6 +179,15 @@ class TestFilters
         checkEncodeDecode(rleFilter, input8);
     }
 
+    @Test
+    void testEmptyFilterList() throws Exception
+    {
+        assertThrows(IllegalArgumentException.class, () ->
+        {
+            Filter.decode(null, new ArrayList(), new COSDictionary(), null, null);
+        });
+    }
+
     private void checkEncodeDecode(Filter filter, byte[] original) throws IOException
     {
         ByteArrayOutputStream encoded = new ByteArrayOutputStream();
