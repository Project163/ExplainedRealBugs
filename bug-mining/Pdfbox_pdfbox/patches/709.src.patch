diff --git a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java
index 9833a8da49..d2367f292b 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java
@@ -28,9 +28,6 @@ import java.util.Map;
 
 import org.apache.commons.logging.Log;
 import org.apache.commons.logging.LogFactory;
-import org.apache.pdfbox.io.RandomAccess;
-import org.apache.pdfbox.io.RandomAccessBuffer;
-import org.apache.pdfbox.io.RandomAccessFile;
 import org.apache.pdfbox.pdfparser.NonSequentialPDFParser;
 import org.apache.pdfbox.pdfparser.PDFObjectStreamParser;
 import org.apache.pdfbox.pdmodel.interactive.digitalsignature.SignatureInterface;
@@ -40,7 +37,7 @@ import org.apache.pdfbox.persistence.util.COSObjectKey;
  * This is the in-memory representation of the PDF document.  You need to call
  * close() on this object when you are done using it!!
  *
- * @author <a href="ben@benlitchfield.com">Ben Litchfield</a>
+ * @author Ben Litchfield
  * 
  */
 public class COSDocument extends COSBase implements Closeable
@@ -76,13 +73,6 @@ public class COSDocument extends COSBase implements Closeable
      */
     private SignatureInterface signatureInterface;
 
-    /**
-     * This file will store the streams in order to conserve memory.
-     */
-    private final RandomAccess scratchFile;
-
-    private final File tmpFile;
-
     private String headerString = "%PDF-" + version;
 
     private boolean warnMissingClose = true;
@@ -111,10 +101,8 @@ public class COSDocument extends COSBase implements Closeable
      * @param forceParsingValue flag to skip malformed or otherwise unparseable
      *                     document content where possible
      */
-    public COSDocument(RandomAccess scratchFileValue, boolean forceParsingValue) 
+    public COSDocument(boolean forceParsingValue) 
     {
-        scratchFile = scratchFileValue;
-        tmpFile = null;
         forceParsing = forceParsingValue;
     }
 
@@ -131,8 +119,6 @@ public class COSDocument extends COSBase implements Closeable
      */
     public COSDocument(File scratchDir, boolean forceParsingValue) throws IOException 
     {
-        tmpFile = File.createTempFile("pdfbox-", ".tmp", scratchDir);
-        scratchFile = new RandomAccessFile(tmpFile, "rw");
         forceParsing = forceParsingValue;
     }
 
@@ -141,7 +127,7 @@ public class COSDocument extends COSBase implements Closeable
      */
     public COSDocument()
     {
-        this(new RandomAccessBuffer(), false);
+        this(false);
     }
 
     /**
@@ -157,40 +143,6 @@ public class COSDocument extends COSBase implements Closeable
         this(scratchDir, false);
     }
 
-    /**
-     * Constructor that will use the following random access file for storage
-     * of the PDF streams.  The client of this method is responsible for deleting
-     * the storage if necessary that this file will write to.  The close method
-     * will close the file though.
-     *
-     * @param file The random access file to use for storage.
-     */
-    public COSDocument(RandomAccess file) 
-    {
-        this(file, false);
-    }
-
-    /**
-     * This will get the scratch file for this document.
-     *
-     * @return The scratch file.
-     * 
-     * 
-     */
-    public RandomAccess getScratchFile()
-    {
-        // TODO the direct access to the scratch file should be removed.
-        if (!closed)
-        {
-            return scratchFile;
-        }
-        else
-        {
-            LOG.error("Can't access the scratch file as it is already closed!");
-            return null;
-        }
-    }
-
     /**
      * Create a new COSStream using the underlying scratch file.
      * 
@@ -198,7 +150,7 @@ public class COSDocument extends COSBase implements Closeable
      */
     public COSStream createCOSStream()
     {
-        return new COSStream( getScratchFile() );
+        return new COSStream( );
     }
 
     /**
@@ -210,7 +162,7 @@ public class COSDocument extends COSBase implements Closeable
      */
     public COSStream createCOSStream(COSDictionary dictionary)
     {
-        return new COSStream( dictionary, getScratchFile() );
+        return new COSStream( dictionary );
     }
 
     /**
@@ -577,11 +529,6 @@ public class COSDocument extends COSBase implements Closeable
     {
         if (!closed) 
         {
-            scratchFile.close();
-            if (tmpFile != null) 
-            {
-                tmpFile.delete();
-            }
             if (trailer != null)
             {
             	trailer.clear();
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSStream.java b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSStream.java
index 5a45801ee6..bac7f45a24 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSStream.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSStream.java
@@ -33,7 +33,6 @@ import org.apache.pdfbox.filter.FilterFactory;
 import org.apache.pdfbox.io.IOUtils;
 import org.apache.pdfbox.io.RandomAccess;
 import org.apache.pdfbox.io.RandomAccessBuffer;
-import org.apache.pdfbox.io.RandomAccessFile;
 import org.apache.pdfbox.io.RandomAccessFileInputStream;
 import org.apache.pdfbox.io.RandomAccessFileOutputStream;
 import org.apache.pdfbox.pdfparser.PDFStreamParser;
@@ -52,7 +51,7 @@ public class COSStream extends COSDictionary implements Closeable
 
     private static final int BUFFER_SIZE=16384;
 
-    private RandomAccess file;
+    private RandomAccess buffer;
     /**
      * The stream with all of the filters applied.
      */
@@ -64,37 +63,48 @@ public class COSStream extends COSDictionary implements Closeable
     private RandomAccessFileOutputStream unFilteredStream;
     private DecodeResult decodeResult;
 
-    private RandomAccess clone (RandomAccess file) {
-        if (file == null) {
-            return null;
-        } else if (file instanceof RandomAccessFile) {
-            return file;
-        } else {
-            return ((RandomAccessBuffer)file).clone();
-        }
+    /**
+     * Constructor.  Creates a new stream with an empty dictionary.
+     *
+     */
+    public COSStream( )
+    {
+        super();
+        buffer = new RandomAccessBuffer();
+    }
+
+    /**
+     * Constructor.
+     *
+     * @param dictionary The dictionary that is associated with this stream.
+     * 
+     */
+    public COSStream( COSDictionary dictionary )
+    {
+        super( dictionary );
+        buffer = new RandomAccessBuffer();
     }
 
     /**
      * Constructor.  Creates a new stream with an empty dictionary.
      *
-     * @param storage The intermediate storage for the stream.
      */
-    public COSStream( RandomAccess storage )
+    protected COSStream( RandomAccessBuffer randomBuffer )
     {
         super();
-        file = clone(storage);
+        buffer = randomBuffer;
     }
 
     /**
      * Constructor.
      *
      * @param dictionary The dictionary that is associated with this stream.
-     * @param storage The intermediate storage for the stream.
+     * 
      */
-    public COSStream( COSDictionary dictionary, RandomAccess storage )
+    protected COSStream( COSDictionary dictionary, RandomAccessBuffer randomBuffer  )
     {
         super( dictionary );
-        file = clone(storage);
+        buffer = randomBuffer;
     }
 
     /**
@@ -108,21 +118,11 @@ public class COSStream extends COSDictionary implements Closeable
     {
         this.clear();
         this.addAll( stream );
-        file = stream.file;
+        buffer = stream.buffer;
         filteredStream = stream.filteredStream;
         unFilteredStream = stream.unFilteredStream;
     }
 
-    /**
-     * This will get the scratch file associated with this stream.
-     *
-     * @return The scratch file where this stream is being stored.
-     */
-    public RandomAccess getScratchFile()
-    {
-        return file;
-    }
-
     /**
      * This will get all the tokens in the stream.
      *
@@ -154,7 +154,7 @@ public class COSStream extends COSDictionary implements Closeable
         long length = filteredStream.getLengthWritten();
 
         RandomAccessFileInputStream input =
-            new RandomAccessFileInputStream( file, position, length );
+            new RandomAccessFileInputStream( buffer, position, length );
         return new BufferedInputStream( input, BUFFER_SIZE );
     }
 
@@ -196,7 +196,7 @@ public class COSStream extends COSDictionary implements Closeable
             long position = unFilteredStream.getPosition();
             long length = unFilteredStream.getLengthWritten();
             RandomAccessFileInputStream input =
-                new RandomAccessFileInputStream( file, position, length );
+                new RandomAccessFileInputStream( buffer, position, length );
             retval = new BufferedInputStream( input, BUFFER_SIZE );
         }
         else
@@ -317,7 +317,7 @@ public class COSStream extends COSDictionary implements Closeable
             //some filters don't work when attempting to decode
             //with a zero length stream.  See zlib_error_01.pdf
             IOUtils.closeQuietly(unFilteredStream);
-            unFilteredStream = new RandomAccessFileOutputStream( file );
+            unFilteredStream = new RandomAccessFileOutputStream( buffer );
             done = true;
         }
         else
@@ -331,9 +331,9 @@ public class COSStream extends COSDictionary implements Closeable
                 try
                 {
                     input = new BufferedInputStream(
-                        new RandomAccessFileInputStream( file, position, length ), BUFFER_SIZE );
+                        new RandomAccessFileInputStream( buffer, position, length ), BUFFER_SIZE );
                     IOUtils.closeQuietly(unFilteredStream);
-                    unFilteredStream = new RandomAccessFileOutputStream( file );
+                    unFilteredStream = new RandomAccessFileOutputStream( buffer );
                     decodeResult = filter.decode( input, unFilteredStream, this, filterIndex );
                     done = true;
                 }
@@ -359,9 +359,9 @@ public class COSStream extends COSDictionary implements Closeable
                     try
                     {
                         input = new BufferedInputStream(
-                            new RandomAccessFileInputStream( file, position, length ), BUFFER_SIZE );
+                            new RandomAccessFileInputStream( buffer, position, length ), BUFFER_SIZE );
                         IOUtils.closeQuietly(unFilteredStream);
-                        unFilteredStream = new RandomAccessFileOutputStream( file );
+                        unFilteredStream = new RandomAccessFileOutputStream( buffer );
                         decodeResult = filter.decode( input, unFilteredStream, this, filterIndex);
                         done = true;
                     }
@@ -426,10 +426,10 @@ public class COSStream extends COSDictionary implements Closeable
         Filter filter = FilterFactory.INSTANCE.getFilter( filterName );
 
         InputStream input = new BufferedInputStream(
-            new RandomAccessFileInputStream( file, filteredStream.getPosition(),
+            new RandomAccessFileInputStream( buffer, filteredStream.getPosition(),
                                                    filteredStream.getLength() ), BUFFER_SIZE );
         IOUtils.closeQuietly(filteredStream);
-        filteredStream = new RandomAccessFileOutputStream( file );
+        filteredStream = new RandomAccessFileOutputStream( buffer );
         filter.encode( input, filteredStream, this, filterIndex );
         IOUtils.closeQuietly(input);
     }
@@ -462,7 +462,7 @@ public class COSStream extends COSDictionary implements Closeable
         IOUtils.closeQuietly(unFilteredStream);
         unFilteredStream = null;
         IOUtils.closeQuietly(filteredStream);
-        filteredStream = new RandomAccessFileOutputStream( file );
+        filteredStream = new RandomAccessFileOutputStream( buffer );
         return new BufferedOutputStream( filteredStream, BUFFER_SIZE );
     }
 
@@ -516,7 +516,7 @@ public class COSStream extends COSDictionary implements Closeable
         IOUtils.closeQuietly(filteredStream);
         filteredStream = null;
         IOUtils.closeQuietly(unFilteredStream);
-        unFilteredStream = new RandomAccessFileOutputStream( file );
+        unFilteredStream = new RandomAccessFileOutputStream( buffer );
         return new BufferedOutputStream( unFilteredStream, BUFFER_SIZE );
     }
     
@@ -525,10 +525,10 @@ public class COSStream extends COSDictionary implements Closeable
     {
         try
         {
-            if (file != null)
+            if (buffer != null)
             {
-                file.close();
-                file = null;
+                buffer.close();
+                buffer = null;
             }
         }
         catch (IOException exception)
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/BaseParser.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/BaseParser.java
index 80c9f214a6..7fa9725a96 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/BaseParser.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/BaseParser.java
@@ -39,7 +39,6 @@ import org.apache.pdfbox.cos.COSStream;
 import org.apache.pdfbox.cos.COSString;
 import org.apache.pdfbox.io.IOUtils;
 import org.apache.pdfbox.io.PushBackInputStream;
-import org.apache.pdfbox.io.RandomAccess;
 import org.apache.pdfbox.persistence.util.COSObjectKey;
 
 /**
@@ -403,16 +402,15 @@ public abstract class BaseParser
     /**
      * This will read a COSStream from the input stream.
      *
-     * @param file The file to write the stream to when reading.
      * @param dic The dictionary that goes with this stream.
      *
      * @return The parsed pdf stream.
      *
      * @throws IOException If there is an error reading the stream.
      */
-    protected COSStream parseCOSStream( COSDictionary dic, RandomAccess file ) throws IOException
+    protected COSStream parseCOSStream( COSDictionary dic ) throws IOException
     {
-        COSStream stream = new COSStream( dic, file );
+        COSStream stream = new COSStream( dic );
         OutputStream out = null;
         try
         {
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/NonSequentialPDFParser.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/NonSequentialPDFParser.java
index 1350f1545c..a0e307b932 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/NonSequentialPDFParser.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/NonSequentialPDFParser.java
@@ -52,8 +52,6 @@ import org.apache.pdfbox.cos.COSStream;
 import org.apache.pdfbox.cos.COSString;
 import org.apache.pdfbox.io.IOUtils;
 import org.apache.pdfbox.io.PushBackInputStream;
-import org.apache.pdfbox.io.RandomAccess;
-import org.apache.pdfbox.io.RandomAccessBuffer;
 import org.apache.pdfbox.io.RandomAccessBufferedFileInputStream;
 import org.apache.pdfbox.pdfparser.XrefTrailerResolver.XRefType;
 import org.apache.pdfbox.pdmodel.PDPage;
@@ -158,24 +156,25 @@ public class NonSequentialPDFParser extends PDFParser
     }
 
     /**
-     * Constructs parser for given file using given buffer for temporary storage.
+     * Constructs parser for given file using given buffer for temporary
+     * storage.
      * 
      * @param file the pdf to be parsed
-     * @param raBuf the buffer to be used for parsing
      * 
      * @throws IOException If something went wrong.
      */
     /**
-     * Constructs parser for given file using given buffer for temporary storage.
+     * Constructs parser for given file using given buffer for temporary
+     * storage.
      * 
      * @param file the pdf to be parsed
      * @param raBuf the buffer to be used for parsing
      * 
      * @throws IOException If something went wrong.
      */
-    public NonSequentialPDFParser(File file, RandomAccess raBuf) throws IOException
+    public NonSequentialPDFParser(File file) throws IOException
     {
-        this(file, raBuf, "");
+        this(file,  "");
     }
 
     /**
@@ -195,16 +194,16 @@ public class NonSequentialPDFParser extends PDFParser
      * 
      * @throws IOException If something went wrong.
      */
-    public NonSequentialPDFParser(File file, RandomAccess raBuf, String decryptionPassword)
+    public NonSequentialPDFParser(File file, String decryptionPassword)
             throws IOException
     {
-        super(EMPTY_INPUT_STREAM, null, false);
+        super(EMPTY_INPUT_STREAM, false);
         pdfFile = file;
         raStream = new RandomAccessBufferedFileInputStream(pdfFile);
-        init(file, raBuf, decryptionPassword);
+        init(file, decryptionPassword);
     }
 
-    private void init(File file, RandomAccess raBuf, String decryptionPassword) throws IOException
+    private void init(File file, String decryptionPassword) throws IOException
     {
         String eofLookupRangeStr = System.getProperty(SYSPROP_EOFLOOKUPRANGE);
         if (eofLookupRangeStr != null)
@@ -220,8 +219,7 @@ public class NonSequentialPDFParser extends PDFParser
             }
         }
 
-        setDocument((raBuf == null) ? new COSDocument(new RandomAccessBuffer(), false) : new COSDocument(
-                raBuf, false));
+        setDocument(new COSDocument(false));
 
         pdfSource = new PushBackInputStream(raStream, 4096);
 
@@ -236,24 +234,23 @@ public class NonSequentialPDFParser extends PDFParser
      */
     public NonSequentialPDFParser(InputStream input) throws IOException
     {
-        this(input, null, "");
+        this(input, "");
     }
 
     /**
      * Constructor.
      * 
      * @param input input stream representing the pdf.
-     * @param raBuf the buffer to be used for parsing
      * @param decryptionPassword password to be used for decryption.
      * @throws IOException If something went wrong.
      */
-    public NonSequentialPDFParser(InputStream input, RandomAccess raBuf, String decryptionPassword)
+    public NonSequentialPDFParser(InputStream input, String decryptionPassword)
             throws IOException
     {
-        super(EMPTY_INPUT_STREAM, null, false);
+        super(EMPTY_INPUT_STREAM, false);
         pdfFile = createTmpFile(input);
         raStream = new RandomAccessBufferedFileInputStream(pdfFile);
-        init(pdfFile, raBuf, decryptionPassword);
+        init(pdfFile, decryptionPassword);
     }
 
     /**
@@ -511,7 +508,7 @@ public class NonSequentialPDFParser extends PDFParser
         readPattern(OBJ_MARKER);
 
         COSDictionary dict = parseCOSDictionary();
-        COSStream xrefStream = parseCOSStream(dict, getDocument().getScratchFile());
+        COSStream xrefStream = parseCOSStream(dict);
         parseXrefStream(xrefStream, (int) objByteOffset, isStandalone);
 
         return dict.getLong(COSName.PREV);
@@ -1246,8 +1243,7 @@ public class NonSequentialPDFParser extends PDFParser
                     pdfSource.unread(' ');
                     if (pb instanceof COSDictionary)
                     {
-                        COSStream stream = parseCOSStream((COSDictionary) pb, getDocument()
-                                .getScratchFile());
+                        COSStream stream = parseCOSStream((COSDictionary) pb);
 
                         if (securityHandler != null)
                         {
@@ -1473,7 +1469,6 @@ public class NonSequentialPDFParser extends PDFParser
      * 'endstream' to be found after stream data is read.
      * 
      * @param dic dictionary that goes with this stream.
-     * @param file file to write the stream to when reading.
      * 
      * @return parsed pdf stream.
      * 
@@ -1481,9 +1476,9 @@ public class NonSequentialPDFParser extends PDFParser
      * does not end with 'endstream' after data read, stream too short etc.
      */
     @Override
-    protected COSStream parseCOSStream(COSDictionary dic, RandomAccess file) throws IOException
+    protected COSStream parseCOSStream(COSDictionary dic) throws IOException
     {
-        final COSStream stream = new COSStream(dic, file);
+        final COSStream stream = new COSStream(dic);
         OutputStream out = null;
         try
         {
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFParser.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFParser.java
index 0aee95f436..bdbadc53bc 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFParser.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFParser.java
@@ -34,7 +34,6 @@ import org.apache.pdfbox.cos.COSInteger;
 import org.apache.pdfbox.cos.COSName;
 import org.apache.pdfbox.cos.COSObject;
 import org.apache.pdfbox.cos.COSStream;
-import org.apache.pdfbox.io.RandomAccess;
 import org.apache.pdfbox.pdfparser.XrefTrailerResolver.XRefType;
 import org.apache.pdfbox.pdmodel.PDDocument;
 import org.apache.pdfbox.pdmodel.fdf.FDFDocument;
@@ -43,8 +42,7 @@ import org.apache.pdfbox.persistence.util.COSObjectKey;
 /**
  * This class will handle the parsing of the PDF document.
  *
- * @author <a href="mailto:ben@benlitchfield.com">Ben Litchfield</a>
- * @version $Revision: 1.53 $
+ * @author Ben Litchfield
  */
 public class PDFParser extends BaseParser
 {
@@ -78,8 +76,6 @@ public class PDFParser extends BaseParser
      */
     private File tempDirectory = null;
 
-    private RandomAccess raf = null;
-
     /**
      * Constructor.
      *
@@ -89,35 +85,21 @@ public class PDFParser extends BaseParser
      */
     public PDFParser( InputStream input ) throws IOException 
     {
-        this(input, null, FORCE_PARSING);
-    }
-
-    /**
-     * Constructor to allow control over RandomAccessFile.
-     * @param input The input stream that contains the PDF document.
-     * @param rafi The RandomAccessFile to be used in internal COSDocument
-     *
-     * @throws IOException If there is an error initializing the stream.
-     */
-    public PDFParser(InputStream input, RandomAccess rafi) throws IOException 
-    {
-        this(input, rafi, FORCE_PARSING);
+        this(input, FORCE_PARSING);
     }
 
     /**
      * Constructor to allow control over RandomAccessFile.
      * Also enables parser to skip corrupt objects to try and force parsing
      * @param input The input stream that contains the PDF document.
-     * @param rafi The RandomAccessFile to be used in internal COSDocument
      * @param force When true, the parser will skip corrupt pdf objects and
      * will continue parsing at the next object in the file
      *
      * @throws IOException If there is an error initializing the stream.
      */
-    public PDFParser(InputStream input, RandomAccess rafi, boolean force) throws IOException 
+    public PDFParser(InputStream input, boolean force) throws IOException 
     {
         super(input, force);
-        this.raf = rafi;
     }
 
     /**
@@ -157,20 +139,13 @@ public class PDFParser extends BaseParser
     {
         try
         {
-            if ( raf == null )
+            if( tempDirectory != null )
             {
-                if( tempDirectory != null )
-                {
-                    document = new COSDocument( tempDirectory );
-                }
-                else
-                {
-                    document = new COSDocument();
-                }
+                document = new COSDocument( tempDirectory );
             }
             else
             {
-                document = new COSDocument( raf );
+                document = new COSDocument();
             }
             setDocument( document );
 
@@ -599,7 +574,7 @@ public class PDFParser extends BaseParser
                 pdfSource.unread( ' ' );
                 if( pb instanceof COSDictionary )
                 {
-                    pb = parseCOSStream( (COSDictionary)pb, getDocument().getScratchFile() );
+                    pb = parseCOSStream( (COSDictionary)pb );
 
                     // test for XRef type
                     final COSStream strmObj = (COSStream) pb;
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFStreamParser.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFStreamParser.java
index c38aeeab18..213f6ce41a 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFStreamParser.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFStreamParser.java
@@ -33,7 +33,6 @@ import org.apache.pdfbox.cos.COSNull;
 import org.apache.pdfbox.cos.COSNumber;
 import org.apache.pdfbox.cos.COSObject;
 import org.apache.pdfbox.cos.COSStream;
-import org.apache.pdfbox.io.RandomAccess;
 import org.apache.pdfbox.pdmodel.common.PDStream;
 import org.apache.pdfbox.util.operator.Operator;
 
@@ -46,7 +45,7 @@ import org.apache.pdfbox.util.operator.Operator;
 public class PDFStreamParser extends BaseParser
 {
     private List<Object> streamObjects = new ArrayList<Object>( 100 );
-    private final RandomAccess file;
+//    private final RandomAccess file;
     private final int    maxBinCharTestLength = 10;
     private final byte[] binCharTestArr = new byte[maxBinCharTestLength];
 
@@ -60,26 +59,24 @@ public class PDFStreamParser extends BaseParser
      *                     input where possible
      * @throws IOException If there is an error reading from the stream.
      */
-    public PDFStreamParser(
-            InputStream stream, RandomAccess raf, boolean forceParsing)
+    public PDFStreamParser(InputStream stream,  boolean forceParsing)
             throws IOException 
     {
         super(stream, forceParsing);
-        file = raf;
+//        file = raf;
     }
 
     /**
      * Constructor that takes a stream to parse.
      *
      * @param stream The stream to read data from.
-     * @param raf The random access file.
      *
      * @throws IOException If there is an error reading from the stream.
      */
-    public PDFStreamParser(InputStream stream, RandomAccess raf)
+    public PDFStreamParser(InputStream stream)
             throws IOException 
     {
-        this(stream, raf, FORCE_PARSING);
+        this(stream, FORCE_PARSING);
     }
 
     /**
@@ -91,7 +88,7 @@ public class PDFStreamParser extends BaseParser
      */
     public PDFStreamParser( PDStream stream ) throws IOException
     {
-       this( stream.createInputStream(), stream.getStream().getScratchFile() );
+       this( stream.createInputStream() );
     }
 
     /**
@@ -106,7 +103,7 @@ public class PDFStreamParser extends BaseParser
     public PDFStreamParser(COSStream stream, boolean forceParsing)
             throws IOException 
     {
-       this(stream.getUnfilteredStream(), stream.getScratchFile(), forceParsing);
+       this(stream.getUnfilteredStream(), forceParsing);
     }
 
     /**
@@ -118,7 +115,7 @@ public class PDFStreamParser extends BaseParser
      */
     public PDFStreamParser( COSStream stream ) throws IOException
     {
-       this( stream.getUnfilteredStream(), stream.getScratchFile() );
+       this( stream.getUnfilteredStream() );
     }
 
     /**
@@ -253,7 +250,7 @@ public class PDFStreamParser extends BaseParser
                     skipSpaces();
                     if((char)pdfSource.peek() == 's')
                     {
-                        retval = parseCOSStream( pod, file );
+                        retval = parseCOSStream( pod );
                     }
                     else
                     {
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFXRefStream.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFXRefStream.java
index e4ce38348f..ae36af03eb 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFXRefStream.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/PDFXRefStream.java
@@ -33,12 +33,10 @@ import org.apache.pdfbox.cos.COSInteger;
 import org.apache.pdfbox.cos.COSName;
 import org.apache.pdfbox.cos.COSObject;
 import org.apache.pdfbox.cos.COSStream;
-import org.apache.pdfbox.io.RandomAccessBuffer;
 import org.apache.pdfbox.pdfwriter.COSWriterXRefEntry;
 
 /**
  * @author Alexander Funk
- * @version $Revision: $
  */
 public class PDFXRefStream implements PDFXRef
 {
@@ -62,7 +60,7 @@ public class PDFXRefStream implements PDFXRef
      */
     public PDFXRefStream()
     {
-        this.stream = new COSStream(new COSDictionary(), new RandomAccessBuffer());
+        this.stream = new COSStream(new COSDictionary());
         streamData = new TreeMap<Integer, Object>();
         objectNumbers = new TreeSet<Integer>();
     }
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/VisualSignatureParser.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/VisualSignatureParser.java
index dca61d9ede..35e0b37794 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/VisualSignatureParser.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/VisualSignatureParser.java
@@ -231,7 +231,7 @@ public class VisualSignatureParser extends BaseParser
                 pdfSource.unread(' ');
                 if(pb instanceof COSDictionary) 
                 {
-                    pb = parseCOSStream((COSDictionary) pb, getDocument().getScratchFile());
+                    pb = parseCOSStream((COSDictionary) pb);
 
                 } 
                 else 
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java
index 2cc0895a55..e0268426e6 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java
@@ -38,7 +38,6 @@ import org.apache.pdfbox.cos.COSInteger;
 import org.apache.pdfbox.cos.COSName;
 import org.apache.pdfbox.cos.COSObject;
 import org.apache.pdfbox.cos.COSStream;
-import org.apache.pdfbox.io.RandomAccess;
 import org.apache.pdfbox.pdfparser.BaseParser;
 import org.apache.pdfbox.pdfparser.NonSequentialPDFParser;
 import org.apache.pdfbox.pdfparser.PDFParser;
@@ -933,21 +932,6 @@ public class PDDocument implements Closeable
         return load(url.openStream(), force);
     }
 
-    /**
-     * This will load a document from a url.
-     * 
-     * @param url The url to load the PDF from.
-     * @param scratchFile A location to store temp PDFBox data for this document.
-     * 
-     * @return The document that was loaded.
-     * 
-     * @throws IOException If there is an error reading from the stream.
-     */
-    public static PDDocument load(URL url, RandomAccess scratchFile) throws IOException
-    {
-        return load(url.openStream(), scratchFile);
-    }
-
     /**
      * This will load a document from a file.
      * 
@@ -978,21 +962,6 @@ public class PDDocument implements Closeable
         return load(new File(filename), force);
     }
 
-    /**
-     * This will load a document from a file.
-     * 
-     * @param filename The name of the file to load.
-     * @param scratchFile A location to store temp PDFBox data for this document.
-     * 
-     * @return The document that was loaded.
-     * 
-     * @throws IOException If there is an error reading from the stream.
-     */
-    public static PDDocument load(String filename, RandomAccess scratchFile) throws IOException
-    {
-        return load(new File(filename), scratchFile, false);
-    }
-
     /**
      * This will load a document from a file.
      * 
@@ -1020,67 +989,7 @@ public class PDDocument implements Closeable
      */
     public static PDDocument load(File file, boolean force) throws IOException
     {
-        return load(file, null, force);
-    }
-
-    /**
-     * This will load a document from an input stream.
-     * 
-     * @param input The stream that contains the document.
-     * 
-     * @return The document that was loaded.
-     * 
-     * @throws IOException If there is an error reading from the stream.
-     */
-    public static PDDocument load(InputStream input) throws IOException
-    {
-        return load(input, null);
-    }
-
-    /**
-     * This will load a document from an input stream. Allows for skipping corrupt pdf objects
-     * 
-     * @param input The stream that contains the document.
-     * @param force When true, the parser will skip corrupt pdf objects and will continue parsing at the next object in
-     *            the file
-     * 
-     * @return The document that was loaded.
-     * 
-     * @throws IOException If there is an error reading from the stream.
-     */
-    public static PDDocument load(InputStream input, boolean force) throws IOException
-    {
-        return load(input, null, force);
-    }
-
-    /**
-     * This will load a document from an input stream.
-     *
-     * @param file The name of the file to load.
-     * @param scratchFile A location to store temp PDFBox data for this document.
-     * @return The document that was loaded.
-     *
-     * @throws IOException If there is an error reading from the stream.
-     */
-    public static PDDocument load(File file, RandomAccess scratchFile) throws IOException
-    {
-        return load(file, scratchFile, false);
-    }
-
-    /**
-     * This will load a document from an input stream.
-     *
-     * @param file The name of the file to load.
-     * @param scratchFile A location to store temp PDFBox data for this document.
-     * @param force When true, the parser will skip corrupt pdf objects and will continue parsing at the next object in
-     *            the file
-     * @return The document that was loaded.
-     *
-     * @throws IOException If there is an error reading from the stream.
-     */
-    public static PDDocument load(File file, RandomAccess scratchFile, boolean force) throws IOException
-    {
-        PDFParser parser = new PDFParser(new FileInputStream(file), scratchFile, force);
+        PDFParser parser = new PDFParser(new FileInputStream(file), force);
         parser.parse();
         PDDocument doc = parser.getPDDocument();
         doc.incrementalFile = file;
@@ -1091,15 +1000,14 @@ public class PDDocument implements Closeable
      * This will load a document from an input stream.
      * 
      * @param input The stream that contains the document.
-     * @param scratchFile A location to store temp PDFBox data for this document.
      * 
      * @return The document that was loaded.
      * 
      * @throws IOException If there is an error reading from the stream.
      */
-    public static PDDocument load(InputStream input, RandomAccess scratchFile) throws IOException
+    public static PDDocument load(InputStream input) throws IOException
     {
-        PDFParser parser = new PDFParser(input, scratchFile);
+        PDFParser parser = new PDFParser(input);
         parser.parse();
         return parser.getPDDocument();
     }
@@ -1108,7 +1016,6 @@ public class PDDocument implements Closeable
      * This will load a document from an input stream. Allows for skipping corrupt pdf objects
      * 
      * @param input The stream that contains the document.
-     * @param scratchFile A location to store temp PDFBox data for this document.
      * @param force When true, the parser will skip corrupt pdf objects and will continue parsing at the next object in
      *            the file
      * 
@@ -1116,9 +1023,9 @@ public class PDDocument implements Closeable
      * 
      * @throws IOException If there is an error reading from the stream.
      */
-    public static PDDocument load(InputStream input, RandomAccess scratchFile, boolean force) throws IOException
+    public static PDDocument load(InputStream input, boolean force) throws IOException
     {
-        PDFParser parser = new PDFParser(input, scratchFile, force);
+        PDFParser parser = new PDFParser(input, force);
         parser.parse();
         return parser.getPDDocument();
     }
@@ -1127,31 +1034,29 @@ public class PDDocument implements Closeable
      * Parses PDF with non sequential parser.
      * 
      * @param file file to be loaded
-     * @param scratchFile location to store temp PDFBox data for this document
      * 
      * @return loaded document
      * 
      * @throws IOException in case of a file reading or parsing error
      */
-    public static PDDocument loadNonSeq(File file, RandomAccess scratchFile) throws IOException
+    public static PDDocument loadNonSeq(File file) throws IOException
     {
-        return loadNonSeq(file, scratchFile, "");
+        return loadNonSeq(file, "");
     }
 
     /**
      * Parses PDF with non sequential parser.
      * 
      * @param file file to be loaded
-     * @param scratchFile location to store temp PDFBox data for this document
      * @param password password to be used for decryption
      * 
      * @return loaded document
      * 
      * @throws IOException in case of a file reading or parsing error
      */
-    public static PDDocument loadNonSeq(File file, RandomAccess scratchFile, String password) throws IOException
+    public static PDDocument loadNonSeq(File file, String password) throws IOException
     {
-        NonSequentialPDFParser parser = new NonSequentialPDFParser(file, scratchFile, password);
+        NonSequentialPDFParser parser = new NonSequentialPDFParser(file, password);
         parser.parse();
         return parser.getPDDocument();
     }
@@ -1160,32 +1065,30 @@ public class PDDocument implements Closeable
      * Parses PDF with non sequential parser.
      * 
      * @param input stream that contains the document.
-     * @param scratchFile location to store temp PDFBox data for this document
      * 
      * @return loaded document
      * 
      * @throws IOException in case of a file reading or parsing error
      */
-    public static PDDocument loadNonSeq(InputStream input, RandomAccess scratchFile) throws IOException
+    public static PDDocument loadNonSeq(InputStream input) throws IOException
     {
-        return loadNonSeq(input, scratchFile, "");
+        return loadNonSeq(input, "");
     }
 
     /**
      * Parses PDF with non sequential parser.
      * 
      * @param input stream that contains the document.
-     * @param scratchFile location to store temp PDFBox data for this document
      * @param password password to be used for decryption
      * 
      * @return loaded document
      * 
      * @throws IOException in case of a file reading or parsing error
      */
-    public static PDDocument loadNonSeq(InputStream input, RandomAccess scratchFile, String password)
+    public static PDDocument loadNonSeq(InputStream input, String password)
             throws IOException
     {
-        NonSequentialPDFParser parser = new NonSequentialPDFParser(input, scratchFile, password);
+        NonSequentialPDFParser parser = new NonSequentialPDFParser(input, password);
         parser.parse();
         return parser.getPDDocument();
     }
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/COSStreamArray.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/COSStreamArray.java
index 5f28d0502a..bc978323e7 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/COSStreamArray.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/COSStreamArray.java
@@ -33,8 +33,6 @@ import org.apache.pdfbox.cos.COSName;
 import org.apache.pdfbox.cos.COSStream;
 import org.apache.pdfbox.cos.ICOSVisitor;
 
-import org.apache.pdfbox.io.RandomAccess;
-
 import org.apache.pdfbox.pdfparser.PDFStreamParser;
 
 /**
@@ -60,7 +58,7 @@ public class COSStreamArray extends COSStream
      */
     public COSStreamArray( COSArray array )
     {
-        super( new COSDictionary(), null );
+        super( new COSDictionary() );
         streams = array;
         if( array.size() > 0 )
         {
@@ -89,17 +87,6 @@ public class COSStreamArray extends COSStream
         return streams.size();
     }
 
-    /**
-     * This will get the scratch file associated with this stream.
-     *
-     * @return The scratch file where this stream is being stored.
-     * 
-     */
-    public RandomAccess getScratchFile()
-    {
-        return firstStream.getScratchFile();
-    }
-
     /**
      * This will get an object from this streams dictionary.
      *
@@ -140,9 +127,9 @@ public class COSStreamArray extends COSStream
      *
      * @throws IOException If there is an error parsing the stream.
      */
-    public List getStreamTokens() throws IOException
+    public List<Object> getStreamTokens() throws IOException
     {
-        List retval = null;
+        List<Object> retval = null;
         if( streams.size() > 0 )
         {
             PDFStreamParser parser = new PDFStreamParser( this );
@@ -151,7 +138,7 @@ public class COSStreamArray extends COSStream
         }
         else
         {
-            retval = new ArrayList();
+            retval = new ArrayList<Object>();
         }
         return retval;
     }
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/PDObjectStream.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/PDObjectStream.java
index 7fe6d04155..5bc0a90e91 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/PDObjectStream.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/PDObjectStream.java
@@ -27,8 +27,7 @@ import org.apache.pdfbox.pdmodel.PDDocument;
  * A PDStream represents a stream in a PDF document.  Streams are tied to a single
  * PDF document.
  *
- * @author <a href="mailto:ben@benlitchfield.com">Ben Litchfield</a>
- * @version $Revision: 1.3 $
+ * @author Ben Litchfield
  */
 public class PDObjectStream extends PDStream
 {
@@ -53,7 +52,7 @@ public class PDObjectStream extends PDStream
     {
         COSStream cosStream = document.getDocument().createCOSStream();
         PDObjectStream strm = new PDObjectStream( cosStream );
-        strm.getStream().setName( COSName.TYPE, "ObjStm" );
+        strm.getStream().setItem( COSName.TYPE, COSName.OBJ_STM );
         return strm;
     }
 
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/PDStream.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/PDStream.java
index 7caebe360e..53b359cc16 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/PDStream.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/PDStream.java
@@ -45,8 +45,7 @@ import org.apache.pdfbox.pdmodel.common.filespecification.PDFileSpecification;
  * A PDStream represents a stream in a PDF document. Streams are tied to a
  * single PDF document.
  * 
- * @author <a href="mailto:ben@benlitchfield.com">Ben Litchfield</a>
- * @version $Revision: 1.17 $
+ * @author Ben Litchfield
  */
 public class PDStream implements COSObjectable
 {
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/PDAppearanceString.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/PDAppearanceString.java
index 41c5d1644a..cdba7bfe1b 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/PDAppearanceString.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/PDAppearanceString.java
@@ -160,7 +160,7 @@ public final class PDAppearanceString
         if( string != null )
         {
             ByteArrayInputStream stream = new ByteArrayInputStream( string.getBytes() );
-            parser = new PDFStreamParser( stream, acroForm.getDocument().getDocument().getScratchFile() );
+            parser = new PDFStreamParser( stream );
             parser.parse();
             tokens = parser.getTokens();
         }
@@ -351,7 +351,7 @@ public final class PDAppearanceString
         if( defaultAppearance != null )
         {
             String daString = defaultAppearance.getString();
-            PDFStreamParser daParser = new PDFStreamParser(new ByteArrayInputStream( daString.getBytes("ISO-8859-1") ), null );
+            PDFStreamParser daParser = new PDFStreamParser(new ByteArrayInputStream( daString.getBytes("ISO-8859-1") ) );
             daParser.parse();
             List<Object> daTokens = daParser.getTokens();
             fontSize = calculateFontSize( pdFont, boundingBox, tokens, daTokens );
@@ -424,7 +424,7 @@ public final class PDAppearanceString
             {
                 String data = da.getString();
                 PDFStreamParser streamParser = new PDFStreamParser(
-                        new ByteArrayInputStream( data.getBytes("ISO-8859-1") ), null );
+                        new ByteArrayInputStream( data.getBytes("ISO-8859-1") ) );
                 streamParser.parse();
                 tokens = streamParser.getTokens();
             }
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/util/Overlay.java b/pdfbox/src/main/java/org/apache/pdfbox/util/Overlay.java
index 50f2b846d0..db093e1a8f 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/util/Overlay.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/util/Overlay.java
@@ -32,7 +32,6 @@ import org.apache.pdfbox.cos.COSDictionary;
 import org.apache.pdfbox.cos.COSName;
 import org.apache.pdfbox.cos.COSObject;
 import org.apache.pdfbox.cos.COSStream;
-import org.apache.pdfbox.io.RandomAccessBuffer;
 import org.apache.pdfbox.pdmodel.PDDocument;
 import org.apache.pdfbox.pdmodel.PDDocumentCatalog;
 import org.apache.pdfbox.pdmodel.PDPage;
@@ -217,7 +216,7 @@ public class Overlay
     {
         List<COSStream> contentStreams = createContentStreamList(contents);
         // concatenate streams
-        COSStream concatStream = new COSStream(new RandomAccessBuffer());
+        COSStream concatStream = new COSStream();
         OutputStream out = concatStream.createUnfilteredStream();
         for (COSStream contentStream : contentStreams)
         {
@@ -383,7 +382,7 @@ public class Overlay
 
     private COSStream createStream(String content) throws IOException
     {
-        COSStream stream = new COSStream(new RandomAccessBuffer());
+        COSStream stream = new COSStream();
         OutputStream out = stream.createUnfilteredStream();
         out.write(content.getBytes("ISO-8859-1"));
         out.close();
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/pdfparser/TestNonSequentialPDFParser.java b/pdfbox/src/test/java/org/apache/pdfbox/pdfparser/TestNonSequentialPDFParser.java
index 926c56e0d7..28c0d22774 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/pdfparser/TestNonSequentialPDFParser.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/pdfparser/TestNonSequentialPDFParser.java
@@ -29,7 +29,6 @@ import java.io.FileInputStream;
 import java.io.FilenameFilter;
 import java.io.IOException;
 
-import org.apache.pdfbox.io.RandomAccessBuffer;
 import org.junit.Before;
 import org.junit.Test;
 
@@ -76,7 +75,7 @@ public class TestNonSequentialPDFParser {
 
 	@Test
 	public void testNonSequentialPDFParserFileRandomAccess() throws IOException {
-		NonSequentialPDFParser nsp = new NonSequentialPDFParser(new File(PATH_OF_PDF), new RandomAccessBuffer());
+		NonSequentialPDFParser nsp = new NonSequentialPDFParser(new File(PATH_OF_PDF));
 		executeParserTest(nsp);
 	}
 
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestFDF.java b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestFDF.java
index c7a8779883..92c34b7a4f 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestFDF.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestFDF.java
@@ -278,7 +278,7 @@ public class TestFDF extends TestCase
         if( string != null )
         {
             ByteArrayInputStream stream = new ByteArrayInputStream( string.getBytes() );
-            parser = new PDFStreamParser( stream, doc.getDocument().getScratchFile() );
+            parser = new PDFStreamParser( stream );
             parser.parse();
             tokens = parser.getTokens();
         }
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java
index 03250cd226..210eb709ff 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java
@@ -25,7 +25,6 @@ import java.io.InputStream;
 import java.util.Arrays;
 
 import org.apache.pdfbox.io.IOUtils;
-import org.apache.pdfbox.io.RandomAccessBuffer;
 
 import junit.framework.TestCase;
 
@@ -65,7 +64,7 @@ public class TestPDDocument extends TestCase
         assertEquals("%%EOF\n", new String(Arrays.copyOfRange(pdf, pdf.length - 6, pdf.length), "UTF-8"));
 
         // Load
-        PDDocument loadDoc = PDDocument.load(new ByteArrayInputStream(pdf), new RandomAccessBuffer());
+        PDDocument loadDoc = PDDocument.load(new ByteArrayInputStream(pdf));
         assertEquals(1, loadDoc.getNumberOfPages());
         loadDoc.close();
     }
@@ -94,7 +93,7 @@ public class TestPDDocument extends TestCase
         assertEquals("%%EOF\n", new String(Arrays.copyOfRange(pdf, pdf.length - 6, pdf.length), "UTF-8"));
 
         // Load
-        PDDocument loadDoc = PDDocument.load(targetFile, new RandomAccessBuffer());
+        PDDocument loadDoc = PDDocument.load(targetFile);
         assertEquals(1, loadDoc.getNumberOfPages());
         loadDoc.close();
     }
@@ -120,7 +119,7 @@ public class TestPDDocument extends TestCase
         assertEquals("%%EOF\n", new String(Arrays.copyOfRange(pdf, pdf.length - 6, pdf.length), "UTF-8"));
 
         // Load
-        PDDocument loadDoc = PDDocument.loadNonSeq(new ByteArrayInputStream(pdf), new RandomAccessBuffer());
+        PDDocument loadDoc = PDDocument.loadNonSeq(new ByteArrayInputStream(pdf));
         assertEquals(1, loadDoc.getNumberOfPages());
         loadDoc.close();
     }
@@ -149,7 +148,7 @@ public class TestPDDocument extends TestCase
         assertEquals("%%EOF\n", new String(Arrays.copyOfRange(pdf, pdf.length - 6, pdf.length), "UTF-8"));
 
         // Load
-        PDDocument loadDoc = PDDocument.loadNonSeq(targetFile, new RandomAccessBuffer());
+        PDDocument loadDoc = PDDocument.loadNonSeq(targetFile);
         assertEquals(1, loadDoc.getNumberOfPages());
         loadDoc.close();
     }
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/common/function/TestPDFunctionType4.java b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/common/function/TestPDFunctionType4.java
index c454fb40bc..c86572cfb2 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/common/function/TestPDFunctionType4.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/common/function/TestPDFunctionType4.java
@@ -22,7 +22,6 @@ import java.io.OutputStream;
 import org.apache.pdfbox.cos.COSArray;
 import org.apache.pdfbox.cos.COSDictionary;
 import org.apache.pdfbox.cos.COSStream;
-import org.apache.pdfbox.io.RandomAccessBuffer;
 
 import junit.framework.TestCase;
 
@@ -46,7 +45,7 @@ public class TestPDFunctionType4 extends TestCase
         rangeArray.setFloatArray(range);
         dict.setItem("Range", rangeArray);
 
-        COSStream functionStream = new COSStream(dict, new RandomAccessBuffer());
+        COSStream functionStream = new COSStream(dict);
         OutputStream out = functionStream.createUnfilteredStream();
         byte[] data = function.getBytes("US-ASCII");
         out.write(data, 0, data.length);
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/util/TestPDFToImage.java b/pdfbox/src/test/java/org/apache/pdfbox/util/TestPDFToImage.java
index cdc8b3f1de..e673a553b3 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/util/TestPDFToImage.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/util/TestPDFToImage.java
@@ -215,7 +215,7 @@ public class TestPDFToImage extends TestCase
             {
                 // Check for version difference between load() and loadNonSeq()
                 new FileOutputStream(new File(outDir + file.getName() + ".parseseqerror")).close();
-                PDDocument doc2 = PDDocument.load(file, null);
+                PDDocument doc2 = PDDocument.load(file);
                 if (doc2.getDocument().getVersion() != document.getDocument().getVersion())
                 {
                     new FileOutputStream(new File(outDir + file.getName() + ".versiondiff")).close();
