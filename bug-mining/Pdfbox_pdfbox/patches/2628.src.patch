diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/function/PDFunction.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/function/PDFunction.java
index 2580b717b8..a820598412 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/function/PDFunction.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/common/function/PDFunction.java
@@ -161,7 +161,14 @@ public abstract class PDFunction implements COSObjectable
         if (numberOfOutputValues == -1)
         {
             COSArray rangeValues = getRangeValues();
-            numberOfOutputValues = rangeValues.size() / 2;
+            if (rangeValues == null)
+            {
+                numberOfOutputValues = 0;
+            }
+            else
+            {
+                numberOfOutputValues = rangeValues.size() / 2;
+            }
         }
         return numberOfOutputValues;
     }
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/color/PDSeparation.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/color/PDSeparation.java
index ecf3079303..8c6c4a00de 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/color/PDSeparation.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/color/PDSeparation.java
@@ -85,7 +85,9 @@ public class PDSeparation extends PDSpecialColorSpace
         array = separation;
         alternateColorSpace = PDColorSpace.create(array.getObject(ALTERNATE_CS));
         tintTransform = PDFunction.create(array.getObject(TINT_TRANSFORM));
-        if (tintTransform.getNumberOfOutputParameters() < alternateColorSpace.getNumberOfComponents())
+        int numberOfOutputParameters = tintTransform.getNumberOfOutputParameters();
+        if (numberOfOutputParameters > 0 &&
+                numberOfOutputParameters < alternateColorSpace.getNumberOfComponents())
         {
             throw new IOException("The tint transform function has less output parameters (" +
                     tintTransform.getNumberOfOutputParameters() + ") than the alternate colorspace " +
