diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/font/encoding/DictionaryEncoding.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/font/encoding/DictionaryEncoding.java
index 1f3d54c84d..2c1ecf8ecc 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/font/encoding/DictionaryEncoding.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/font/encoding/DictionaryEncoding.java
@@ -128,11 +128,16 @@ public class DictionaryEncoding extends Encoding
     private void applyDifferences()
     {
         // now replace with the differences
-        COSArray differences = (COSArray)encoding.getDictionaryObject( COSName.DIFFERENCES );
+        COSBase base = encoding.getDictionaryObject(COSName.DIFFERENCES);
+        if (!(base instanceof COSArray))
+        {
+            return;
+        }
+        COSArray diffArray = (COSArray) base;
         int currentIndex = -1;
-        for( int i=0; differences != null && i<differences.size(); i++ )
+        for (int i = 0; i < diffArray.size(); i++)
         {
-            COSBase next = differences.getObject( i );
+            COSBase next = diffArray.getObject(i);
             if( next instanceof COSNumber)
             {
                 currentIndex = ((COSNumber)next).intValue();
