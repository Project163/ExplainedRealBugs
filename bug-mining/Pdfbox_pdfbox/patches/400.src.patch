diff --git a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java
index 9a4f09bed8..f63643e0ef 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/cos/COSDocument.java
@@ -95,6 +95,8 @@ public class COSDocument extends COSBase implements Closeable
     
     private boolean closed = false;
 
+    private boolean isXRefStream;
+    
     /**
      * Flag to skip malformed or otherwise unparseable input where possible.
      */
@@ -757,16 +759,22 @@ public class COSDocument extends COSBase implements Closeable
     }
 
     /**
-     * Determines it the trailer is a XRef stream or not.
+     * Determines if the trailer is a XRef stream or not.
      * 
      * @return true if the trailer is a XRef stream
      */
     public boolean isXRefStream()
     {
-        if (trailer != null)
-        {
-            return COSName.XREF.equals(trailer.getItem(COSName.TYPE));
-        }
-        return false;
+        return isXRefStream;
+    }
+    
+    /**
+     * Sets isXRefStream to the given value.
+     * 
+     * @param isXRefStreamValue the new value for isXRefStream
+     */
+    public void setIsXRefStream(boolean isXRefStreamValue)
+    {
+        isXRefStream = isXRefStreamValue;
     }
 }
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/NonSequentialPDFParser.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/NonSequentialPDFParser.java
index 006bab5f70..84a8031497 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/NonSequentialPDFParser.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfparser/NonSequentialPDFParser.java
@@ -353,6 +353,7 @@ public class NonSequentialPDFParser extends PDFParser
             // -- parse xref
             if (pdfSource.peek() == X)
             {
+                document.setIsXRefStream(false);
                 // xref table and trailer
                 // use existing parser to parse xref table
                 parseXrefTable(prev);
@@ -376,6 +377,7 @@ public class NonSequentialPDFParser extends PDFParser
             }
             else
             {
+                document.setIsXRefStream(true);
                 // parse xref stream
                 prev = parseXrefObjStream(prev);
                 if (isLenient && prev > -1)
