diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/GouraudShadingContext.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/GouraudShadingContext.java
index 73aab3caa7..46185ef3e9 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/GouraudShadingContext.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/GouraudShadingContext.java
@@ -245,81 +245,84 @@ public abstract class GouraudShadingContext implements PaintContext
     {
         WritableRaster raster = getColorModel().createCompatibleWritableRaster(w, h);
         int[] data = new int[w * h * 4];
-        for (int row = 0; row < h; row++)
+        if (!triangleList.isEmpty() || background != null)
         {
-            for (int col = 0; col < w; col++)
+            for (int row = 0; row < h; row++)
             {
-                Point2D p = new Point(x + col, y + row);
-                GouraudTriangle triangle = null;
-                for (GouraudTriangle tryTriangle : triangleList)
+                for (int col = 0; col < w; col++)
                 {
-                    if (tryTriangle.contains(p))
+                    Point2D p = new Point(x + col, y + row);
+                    GouraudTriangle triangle = null;
+                    for (GouraudTriangle tryTriangle : triangleList)
                     {
-                        triangle = tryTriangle;
-                        break;
-                    }
-                }
-                float[] values;
-                if (triangle != null)
-                {
-                    double[] weights = triangle.getWeights(p);
-                    values = new float[numberOfColorComponents];
-                    for (int i = 0; i < numberOfColorComponents; ++i)
-                    {
-                        values[i] = (float) (triangle.colorA[i] * weights[0]
-                                + triangle.colorB[i] * weights[1]
-                                + triangle.colorC[i] * weights[2]);
+                        if (tryTriangle.contains(p))
+                        {
+                            triangle = tryTriangle;
+                            break;
+                        }
                     }
-                }
-                else
-                {
-                    if (background != null)
+                    float[] values;
+                    if (triangle != null)
                     {
-                        values = background;
+                        double[] weights = triangle.getWeights(p);
+                        values = new float[numberOfColorComponents];
+                        for (int i = 0; i < numberOfColorComponents; ++i)
+                        {
+                            values[i] = (float) (triangle.colorA[i] * weights[0]
+                                    + triangle.colorB[i] * weights[1]
+                                    + triangle.colorC[i] * weights[2]);
+                        }
                     }
                     else
                     {
-                        continue;
-                    }
-                }
-                
-                if (hasFunction)
-                {
-                    try
-                    {
-                        values = gouraudShadingType.evalFunction(values);
-                    }
-                    catch (IOException exception)
-                    {
-                        LOG.error("error while processing a function", exception);
+                        if (background != null)
+                        {
+                            values = background;
+                        }
+                        else
+                        {
+                            continue;
+                        }
                     }
-                }                   
 
-                // convert color values from shading colorspace to RGB
-                if (shadingColorSpace != null)
-                {
-                    if (shadingTinttransform != null)
+                    if (hasFunction)
                     {
                         try
                         {
-                            values = shadingTinttransform.eval(values);
+                            values = gouraudShadingType.evalFunction(values);
                         }
                         catch (IOException exception)
                         {
                             LOG.error("error while processing a function", exception);
                         }
                     }
-                    values = shadingColorSpace.toRGB(values);
-                }
 
-                int index = (row * w + col) * 4;
-                data[index] = (int) (values[0] * 255);
-                data[index + 1] = (int) (values[1] * 255);
-                data[index + 2] = (int) (values[2] * 255);
-                data[index + 3] = 255;
+                    // convert color values from shading colorspace to RGB
+                    if (shadingColorSpace != null)
+                    {
+                        if (shadingTinttransform != null)
+                        {
+                            try
+                            {
+                                values = shadingTinttransform.eval(values);
+                            }
+                            catch (IOException exception)
+                            {
+                                LOG.error("error while processing a function", exception);
+                            }
+                        }
+                        values = shadingColorSpace.toRGB(values);
+                    }
+
+                    int index = (row * w + col) * 4;
+                    data[index] = (int) (values[0] * 255);
+                    data[index + 1] = (int) (values[1] * 255);
+                    data[index + 2] = (int) (values[2] * 255);
+                    data[index + 3] = 255;
+                }
             }
-            raster.setPixels(0, 0, w, h, data);
         }
+        raster.setPixels(0, 0, w, h, data);
         return raster;
     }
 }
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/GouraudTriangle.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/GouraudTriangle.java
index a817139ae7..8840ec4322 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/GouraudTriangle.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/GouraudTriangle.java
@@ -137,6 +137,16 @@ public class GouraudTriangle
                 * (c.getY() - a.getY())) / 2;
     }
 
+    /**
+     * Tell whether a triangle is empty.
+     * 
+     * @return true if the area is empty, false if not.
+     */
+    boolean isEmpty()
+    {
+        return area == 0;
+    }
+
     /**
      * calculate color weights with barycentric interpolation.
      *
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/Type4ShadingContext.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/Type4ShadingContext.java
index a86cf01c4c..efefe797a3 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/Type4ShadingContext.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/Type4ShadingContext.java
@@ -239,7 +239,15 @@ class Type4ShadingContext extends GouraudShadingContext
                     break;
             }
             ++vi;
-            triangleList.add(new GouraudTriangle(a, aColor, b, bColor, c, cColor));
+            GouraudTriangle g = new GouraudTriangle(a, aColor, b, bColor, c, cColor);
+            if (!g.isEmpty())
+            {
+                triangleList.add(g);
+            }
+            else
+            {
+                LOG.debug("triangle is empty!");
+            }
         }
     }
 
diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/Type5ShadingContext.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/Type5ShadingContext.java
index 4df3ed65e3..bdaf4b26fb 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/Type5ShadingContext.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/shading/Type5ShadingContext.java
@@ -133,10 +133,28 @@ public class Type5ShadingContext extends GouraudShadingContext
                         Vertex vijplus1 = prevVertexRow.get(vj + 1); // v i,j+1
                         Vertex viplus1j = vertexList.get(vj); // v i+1,j
                         Vertex viplus1jplus1 = vertexList.get(vj + 1); // v i+1,j+1
-                        triangleList.add(new GouraudTriangle(vij.point, vij.color, vijplus1.point, vijplus1.color, 
-                                viplus1j.point, viplus1j.color));
-                        triangleList.add(new GouraudTriangle(vijplus1.point, vijplus1.color, viplus1j.point, 
-                                viplus1j.color, viplus1jplus1.point, viplus1jplus1.color));
+                        GouraudTriangle g = new GouraudTriangle(vij.point, vij.color,
+                                vijplus1.point, vijplus1.color,
+                                viplus1j.point, viplus1j.color);
+                        if (!g.isEmpty())
+                        {
+                            triangleList.add(g);
+                        }
+                        else
+                        {
+                            LOG.debug("triangle is empty!");
+                        }
+                        g = new GouraudTriangle(vijplus1.point, vijplus1.color,
+                                viplus1j.point, viplus1j.color,
+                                viplus1jplus1.point, viplus1jplus1.color);
+                        if (!g.isEmpty())
+                        {
+                            triangleList.add(g);
+                        }
+                        else
+                        {
+                            LOG.debug("triangle is empty!");
+                        }
                     }
                 }
                 prevVertexRow = vertexList;
