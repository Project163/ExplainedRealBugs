diff --git a/pdfbox/src/test/java/org/apache/pdfbox/multipdf/PDFMergerUtilityTest.java b/pdfbox/src/test/java/org/apache/pdfbox/multipdf/PDFMergerUtilityTest.java
index be1a4a42f3..53d6f268a1 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/multipdf/PDFMergerUtilityTest.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/multipdf/PDFMergerUtilityTest.java
@@ -22,6 +22,7 @@ import java.io.IOException;
 import java.io.OutputStream;
 import java.nio.file.Files;
 import java.util.HashSet;
+import java.util.Map;
 import java.util.Set;
 
 import junit.framework.TestCase;
@@ -37,6 +38,7 @@ import org.apache.pdfbox.pdmodel.PDDocument;
 import org.apache.pdfbox.pdmodel.PDDocumentCatalog;
 import org.apache.pdfbox.pdmodel.PDPage;
 import org.apache.pdfbox.pdmodel.PDPageTree;
+import org.apache.pdfbox.pdmodel.common.PDNameTreeNode;
 import org.apache.pdfbox.pdmodel.common.PDNumberTreeNode;
 import org.apache.pdfbox.pdmodel.documentinterchange.logicalstructure.PDStructureElement;
 import org.apache.pdfbox.pdmodel.documentinterchange.logicalstructure.PDStructureTreeRoot;
@@ -333,6 +335,29 @@ public class PDFMergerUtilityTest extends TestCase
         PDStructureTreeRoot structureTreeRoot = doc.getDocumentCatalog().getStructureTreeRoot();
         checkElement(pageTree, structureTreeRoot.getParentTree().getCOSObject());
         checkElement(pageTree, structureTreeRoot.getK());
+        checkForIDTreeOrphans(pageTree, structureTreeRoot);
+    }
+
+    private void checkForIDTreeOrphans(PDPageTree pageTree, PDStructureTreeRoot structureTreeRoot)
+            throws IOException
+    {
+        PDNameTreeNode<PDStructureElement> idTree = structureTreeRoot.getIDTree();
+        if (idTree == null)
+        {
+            return;
+        }
+        Map<String, PDStructureElement> map = PDFMergerUtility.getIDTreeAsMap(idTree);
+        for (PDStructureElement element : map.values())
+        {
+            if (element.getPage() != null)
+            {
+                checkForPage(pageTree, element);
+            }
+            if (!element.getKids().isEmpty())
+            {
+                checkElement(pageTree, element.getCOSObject().getDictionaryObject(COSName.K));
+            }
+        }
     }
 
     private void createSimpleFile(File file) throws IOException
