diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/color/PDICCBased.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/color/PDICCBased.java
index 6c0226628a..bae05abbb2 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/color/PDICCBased.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/graphics/color/PDICCBased.java
@@ -293,7 +293,31 @@ public final class PDICCBased extends PDCIEBasedColorSpace
      */
     public int getColorSpaceType()
     {
-        return iccProfile.getColorSpaceType();
+        if (iccProfile != null)
+        {
+            return iccProfile.getColorSpaceType();
+        }
+        else
+        {
+            // if the ICC Profile could not be read
+            if (alternateColorSpace.getNumberOfComponents() == 1)
+            {
+                return ICC_ColorSpace.TYPE_GRAY;
+            }
+            else if (alternateColorSpace.getNumberOfComponents() == 3)
+            {
+                return ICC_ColorSpace.TYPE_RGB;
+            }
+            else if (alternateColorSpace.getNumberOfComponents() == 4)
+            {
+                return ICC_ColorSpace.TYPE_CMYK;
+            }
+            else
+            {
+                // should not happen as all ICC color spaces in PDF must have 1,3, or 4 components
+                return -1;
+            }
+        }
     }
 
     /**
