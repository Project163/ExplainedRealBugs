diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/PDButton.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/PDButton.java
index 738f81d7ae..20c3417859 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/PDButton.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/interactive/form/PDButton.java
@@ -25,8 +25,9 @@ import org.apache.pdfbox.pdmodel.common.COSArrayList;
 
 import java.io.IOException;
 import java.util.ArrayList;
+import java.util.Arrays;
 import java.util.Collections;
-import java.util.HashSet;
+import java.util.LinkedHashSet;
 import java.util.List;
 import java.util.Set;
 
@@ -299,7 +300,7 @@ public abstract class PDButton extends PDTerminalField
     public Set<String> getOnValues()
     {
         // we need a set as the field can appear multiple times
-        Set<String> onValues = new HashSet<String>();
+        Set<String> onValues = new LinkedHashSet<String>();
         
         if (getExportValues().size() > 0)
         {
@@ -383,20 +384,14 @@ public abstract class PDButton extends PDTerminalField
         {     
             // the value is the index of the matching option
             int optionsIndex = options.indexOf(value);
-            getCOSObject().setName(COSName.V, String.valueOf(optionsIndex));    
             
-            // update the appearance state (AS)
-            for (int i = 0; i < widgets.size(); i++)
+            // get the values the options are pointing to as
+            // this might not be numerical
+            // see PDFBOX-3682
+            if (optionsIndex != -1)
             {
-                PDAnnotationWidget widget = widgets.get(i);
-                if (value.compareTo(options.get(i)) == 0)
-                {
-                    widget.getCOSObject().setName(COSName.AS, String.valueOf(i));
-                }
-                else 
-                {
-                    widget.getCOSObject().setItem(COSName.AS, COSName.Off);
-                }
+                String[] onValues = getOnValues().toArray(new String[getOnValues().size()]);
+                updateByValue(onValues[optionsIndex]);
             }
         }
     }
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/interactive/form/PDButtonTest.java b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/interactive/form/PDButtonTest.java
index 58425174e0..cc241617e7 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/interactive/form/PDButtonTest.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/interactive/form/PDButtonTest.java
@@ -146,6 +146,60 @@ public class PDButtonTest
             }
         }
     }
+    
+    @Test
+    /**
+     * PDFBOX-3682
+     * 
+     * Test a radio button with options.
+     * Special handling for a radio button with /Opt and the On state not being named
+     * after the index.
+     * 
+     * @throws IOException
+     */
+    public void testOptionsAndNamesNotNumbers()
+    {
+        URL url;
+        PDDocument pdfDocument = null;
+        
+        try
+        {
+            url = new URL("https://issues.apache.org/jira/secure/attachment/12852207/test.pdf");
+            InputStream is = url.openStream();
+            
+            pdfDocument = PDDocument.load(is);
+            
+            pdfDocument.getDocumentCatalog().getAcroForm().getField("RadioButton").setValue("c");
+            PDRadioButton radioButton = (PDRadioButton) pdfDocument.getDocumentCatalog().getAcroForm().getField("RadioButton");
+            radioButton.setValue("c");
+
+            // test that the old behavior is now invalid
+            assertFalse("This shall no longer be 2", "2".equals(radioButton.getValueAsString()));
+            assertFalse("This shall no longer be 2", "2".equals(radioButton.getWidgets().get(2).getCOSObject().getNameAsString(COSName.AS)));
+            
+            // test for the correct behavior
+            assertTrue("This shall be c", "c".equals(radioButton.getValueAsString()));
+            assertTrue("This shall be c", "c".equals(radioButton.getWidgets().get(2).getCOSObject().getNameAsString(COSName.AS)));
+        }
+        catch (IOException e)
+        {
+            fail("Unexpected IOException " + e.getMessage());
+        }
+        finally
+        {
+            if (pdfDocument != null)
+            {
+                try
+                {
+                    pdfDocument.close();
+                }
+                catch (IOException e)
+                {
+                    e.printStackTrace();
+                }
+            }
+        }
+    }
         
     @Test
     public void retrieveAcrobatCheckBoxProperties() throws IOException
