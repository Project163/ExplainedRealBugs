diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdfwriter/COSWriter.java b/pdfbox/src/main/java/org/apache/pdfbox/pdfwriter/COSWriter.java
index 049d67eba5..ebb938b76a 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdfwriter/COSWriter.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdfwriter/COSWriter.java
@@ -649,6 +649,8 @@ public class COSWriter implements ICOSVisitor
     {
         if (isCompress())
         {
+            pdDocument.setVersion(
+                    Math.max(pdDocument.getVersion(), COSWriterCompressionPool.MINIMUM_SUPPORTED_VERSION));
             doc.setVersion(
                     Math.max(doc.getVersion(), COSWriterCompressionPool.MINIMUM_SUPPORTED_VERSION));
         }
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java
index 04c429a6fc..bf7fd1ef52 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocument.java
@@ -155,6 +155,21 @@ class TestPDDocument
             // catalog version version has to be 1.5
             assertEquals("1.5", document.getDocumentCatalog().getVersion());
         }
+
+        // PDFBOX-5265: check that all versions are 1.6 when compression is used (default)
+        ByteArrayOutputStream baos = new ByteArrayOutputStream();
+        try (PDDocument document = new PDDocument())
+        {
+            document.addPage(new PDPage());
+            document.save(baos);
+        }
+        try (PDDocument document = Loader.loadPDF(baos.toByteArray()))
+        {
+            assertEquals("1.6", document.getDocumentCatalog().getVersion());
+            assertEquals(1.6f, document.getDocument().getVersion());
+            assertEquals(1.6f, document.getVersion());
+        }
+        assertEquals("%PDF-1.6", new String(baos.toByteArray(), 0, 8));
     }
 
     /**
