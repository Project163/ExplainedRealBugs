diff --git a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java
index 87881d8724..cbd7cffca0 100644
--- a/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java
+++ b/pdfbox/src/main/java/org/apache/pdfbox/pdmodel/PDDocument.java
@@ -154,12 +154,13 @@ public class PDDocument implements Pageable
     
     private void processListOfPageReferences(List<Object> pageNodes)
     {
-        for(int i=0; i < pageNodes.size(); ++i) 
+        int numberOfNodes = pageNodes.size();
+        for(int i=0; i < numberOfNodes; ++i) 
         {
             Object pageOrArray = pageNodes.get(i);
             if(pageOrArray instanceof PDPage)
             {
-                List pageArray = ((((PDPage)pageOrArray).getParent()).getKids());
+                COSArray pageArray = ((COSArrayList)(((PDPage)pageOrArray).getParent()).getKids()).toList();
                 parseCatalogObject((COSObject)pageArray.get(i));
             }
             else if(pageOrArray instanceof PDPageNode)
diff --git a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocumentCatalog.java b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocumentCatalog.java
index 8185d75523..b4e69c788b 100644
--- a/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocumentCatalog.java
+++ b/pdfbox/src/test/java/org/apache/pdfbox/pdmodel/TestPDDocumentCatalog.java
@@ -86,4 +86,22 @@ public class TestPDDocumentCatalog extends TestCase {
                 doc.close();
         }
     }
+
+    /**
+     * Test case for
+     * <a href="https://issues.apache.org/jira/browse/PDFBOX-1088"
+     *   >PDFBOX-1088</a> - Class PDDocument Method getPageMap returns a ClassCastException
+     */
+    public void testPageMap() throws Exception {
+        PDDocument doc = null;
+        try {
+            doc = PDDocument.load(TestPDDocumentCatalog.class.getResource("test.unc.pdf"));
+            assertEquals(4, doc.getPageMap().size());
+            int pageNum = doc.getPageMap().get("14,0");
+            assertEquals(1, pageNum);
+        } finally {
+            if(doc != null)
+                doc.close();
+        }
+    }
 }
