{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/10552","repository_url":"https://api.github.com/repos/hashicorp/vagrant","labels_url":"https://api.github.com/repos/hashicorp/vagrant/issues/10552/labels{/name}","comments_url":"https://api.github.com/repos/hashicorp/vagrant/issues/10552/comments","events_url":"https://api.github.com/repos/hashicorp/vagrant/issues/10552/events","html_url":"https://github.com/hashicorp/vagrant/issues/10552","id":395291202,"node_id":"MDU6SXNzdWUzOTUyOTEyMDI=","number":10552,"title":"MacOS incorrectly path expands guest folder occasionally with File provisioner","user":{"login":"mnuthan1","id":5017019,"node_id":"MDQ6VXNlcjUwMTcwMTk=","avatar_url":"https://avatars.githubusercontent.com/u/5017019?v=4","gravatar_id":"","url":"https://api.github.com/users/mnuthan1","html_url":"https://github.com/mnuthan1","followers_url":"https://api.github.com/users/mnuthan1/followers","following_url":"https://api.github.com/users/mnuthan1/following{/other_user}","gists_url":"https://api.github.com/users/mnuthan1/gists{/gist_id}","starred_url":"https://api.github.com/users/mnuthan1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mnuthan1/subscriptions","organizations_url":"https://api.github.com/users/mnuthan1/orgs","repos_url":"https://api.github.com/users/mnuthan1/repos","events_url":"https://api.github.com/users/mnuthan1/events{/privacy}","received_events_url":"https://api.github.com/users/mnuthan1/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":25816,"node_id":"MDU6TGFiZWwyNTgxNg==","url":"https://api.github.com/repos/hashicorp/vagrant/labels/bug","name":"bug","color":"e11d21","default":true,"description":null},{"id":218284703,"node_id":"MDU6TGFiZWwyMTgyODQ3MDM=","url":"https://api.github.com/repos/hashicorp/vagrant/labels/provisioner/file","name":"provisioner/file","color":"bfdadc","default":false,"description":null},{"id":218287504,"node_id":"MDU6TGFiZWwyMTgyODc1MDQ=","url":"https://api.github.com/repos/hashicorp/vagrant/labels/guest/darwin","name":"guest/darwin","color":"5319e7","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/hashicorp/vagrant/milestones/40","html_url":"https://github.com/hashicorp/vagrant/milestone/40","labels_url":"https://api.github.com/repos/hashicorp/vagrant/milestones/40/labels","id":3822546,"node_id":"MDk6TWlsZXN0b25lMzgyMjU0Ng==","number":40,"title":"2.2.3","description":"","creator":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":34,"state":"closed","created_at":"2018-11-14T19:23:29Z","updated_at":"2019-01-10T17:37:46Z","due_on":null,"closed_at":"2019-01-10T17:37:46Z"},"comments":13,"created_at":"2019-01-02T15:52:28Z","updated_at":"2020-03-28T02:03:16Z","closed_at":"2019-01-08T00:51:06Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Vagrant version\r\nRun `vagrant -v` to show the version. If you are not running the latest version\r\nof Vagrant, please upgrade before submitting an issue.\r\n2.1.5\r\n### Host operating system\r\nThis is the operating system that you run locally.\r\nMac High Sierra\r\n### Guest operating system\r\nThis is the operating system you run in the virtual machine.\r\nMac High Sierra\r\n### Vagrantfile\r\n```ruby\r\nVagrant.configure(VAGRANTFILE_API_VERSION) do |config|\r\n\t# Specifying the box we wish to use\r\n    config.vm.synced_folder \".\", \"/vagrant\", disabled: true\r\n\tconfig.vm.box = BOX_NAME\r\n\tconfig.vm.box_url = BOX_URL\r\n\t# Adding Bridged Network Adapter\r\n    #config.vm.network \"public_network\", bridge: \"en0: Ethernet 1\"\r\n    config.ssh.username = \"iosadmin\"\r\n    config.vm.provision \"shell\", path: \"scripts/config-wrapper.sh\", privileged:false, name:\"update-hostname\", args: [\"#{ENV['PASSWORD']}\",hostname]\r\n    config.vm.provision \"shell\", path: \"scripts/bootstrap.sh\", privileged:false, name:\"folder-create\", args: \"#{ENV['PASSWORD']}\"\r\n    \r\n    ### rsync in mac HighSierra file system not working (NFS file system issue)\r\n    ### source all required scripts\r\n    #config.vm.synced_folder \"./scripts\", \"/vagrant\", id: \"scripts\",create: true, type: \"rsync\"\r\n    config.vm.provision \"file\", source: \"~/.p4trust\", destination: \"/vagrant/.p4trust\"\r\n    config.vm.provision \"file\", source: \"~/pq3ss.jks\", destination: \"/vagrant/pq3ss.jks\"\r\n    config.vm.provision \"file\", source: \"./scripts/cleanup.sh\", destination: \"/vagrant/cleanup.sh\"\r\n    config.vm.provision \"file\", source: \"./scripts/support/set_kcpassword.py\", destination: \"/vagrant/support/set_kcpassword.py\"\r\n        config.trigger.before :destroy do |trigger|\r\n      trigger.info = \"removing P4 client destroying the VM...\"\r\n      trigger.run_remote = {inline: \"echo #{ENV['PASSWORD']} | sudo -S sh -c  /vagrant/cleanup.sh\"}\r\n      trigger.on_error = :continue\r\n    end\r\n\r\n    config.vm.define \"node1\" do |node1|\r\n        node1.vm.provider \"virtualbox\" do |vb|\r\n            vb.name = \"#{hostname}_q3_vm1\"\r\n            vb.memory = 16384\r\n            vb.cpus = 2\r\n        end\r\n        # Forwarding SSH and VNC ports on VM. N.B., SSH (22) is already\r\n        # forwarded to 2222. Keeping configuration line in for documentation.\r\n        node1.vm.network \"forwarded_port\", guest: 22, host: 2222, auto_correct: true\r\n        node1.vm.network \"forwarded_port\", guest: 6109, host: 6109, auto_correct: true\r\n    end\r\n```\r\n\r\nPlease note, if you are using Homestead or a different Vagrantfile format, we\r\nmay be unable to assist with your issue. Try to reproduce the issue using a\r\nvanilla Vagrantfile first.\r\n\r\n### Debug output\r\nProvide a link to a GitHub Gist containing the complete debug output:\r\nhttps://www.vagrantup.com/docs/other/debugging.html. The debug output should\r\nbe very long. Do NOT paste the debug output in the issue, just paste the\r\nlink to the Gist.\r\n\r\n### Expected behavior\r\nall four files should be copied \r\n\r\n### Actual behavior\r\nWhat actually happened?\r\nsometimes at least one file is not copied to the guest box. the behaviour is random its very hightly un rpdictable to find which file is not copied \r\n\r\nhttps://gist.github.com/mnuthan1/1433b5a72ba3279639b86d83bcaa758c\r\n\r\n### Steps to reproduce\r\n1. Vagrant up\r\n2.\r\n3.\r\n\r\n### References\r\nAre there any other GitHub issues (open or closed) that should be linked here?\r\nFor example:\r\n\r\n","closed_by":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/10552/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hashicorp/vagrant/issues/10552/timeline","performed_via_github_app":null,"state_reason":"completed"}