[{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/830678454","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-830678454","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":830678454,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMDY3ODQ1NA==","user":{"login":"AntonioMeireles","id":743527,"node_id":"MDQ6VXNlcjc0MzUyNw==","avatar_url":"https://avatars.githubusercontent.com/u/743527?v=4","gravatar_id":"","url":"https://api.github.com/users/AntonioMeireles","html_url":"https://github.com/AntonioMeireles","followers_url":"https://api.github.com/users/AntonioMeireles/followers","following_url":"https://api.github.com/users/AntonioMeireles/following{/other_user}","gists_url":"https://api.github.com/users/AntonioMeireles/gists{/gist_id}","starred_url":"https://api.github.com/users/AntonioMeireles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AntonioMeireles/subscriptions","organizations_url":"https://api.github.com/users/AntonioMeireles/orgs","repos_url":"https://api.github.com/users/AntonioMeireles/repos","events_url":"https://api.github.com/users/AntonioMeireles/events{/privacy}","received_events_url":"https://api.github.com/users/AntonioMeireles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-01T18:57:16Z","updated_at":"2021-05-01T18:57:31Z","body":"@chrisroberts, @crochat \r\ncan confirm/second this issue.\r\n\r\nironically this breaks the case when the stock [default vagrant key set](https://github.com/hashicorp/vagrant/tree/main/keys) is used... \r\n\r\nsimple test, with my very own [ClearLinux](https://app.vagrantup.com/AntonioMeireles/boxes/ClearLinux) boxes ...\r\n\r\n```ruby\r\nVagrant.configure(\"2\") do |config|\r\n  config.vm.box = \"AntonioMeireles/ClearLinux\"\r\nend\r\n```\r\nas OP said, right now, reverting to previous release is the (simplest) way to go :| until a point release with this fixed is out. \r\n\r\nThanks in advance and a great weekend. \r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/830678454/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AntonioMeireles","id":743527,"node_id":"MDQ6VXNlcjc0MzUyNw==","avatar_url":"https://avatars.githubusercontent.com/u/743527?v=4","gravatar_id":"","url":"https://api.github.com/users/AntonioMeireles","html_url":"https://github.com/AntonioMeireles","followers_url":"https://api.github.com/users/AntonioMeireles/followers","following_url":"https://api.github.com/users/AntonioMeireles/following{/other_user}","gists_url":"https://api.github.com/users/AntonioMeireles/gists{/gist_id}","starred_url":"https://api.github.com/users/AntonioMeireles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AntonioMeireles/subscriptions","organizations_url":"https://api.github.com/users/AntonioMeireles/orgs","repos_url":"https://api.github.com/users/AntonioMeireles/repos","events_url":"https://api.github.com/users/AntonioMeireles/events{/privacy}","received_events_url":"https://api.github.com/users/AntonioMeireles/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4673920446,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDY3MzkyMDQ0Ng==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4673920446","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-01T18:57:16Z","performed_via_github_app":null},{"id":4673920447,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2NzM5MjA0NDc=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4673920447","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-01T18:57:16Z","performed_via_github_app":null},{"id":4673920449,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDY3MzkyMDQ0OQ==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4673920449","actor":{"login":"crochat","id":8733828,"node_id":"MDQ6VXNlcjg3MzM4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8733828?v=4","gravatar_id":"","url":"https://api.github.com/users/crochat","html_url":"https://github.com/crochat","followers_url":"https://api.github.com/users/crochat/followers","following_url":"https://api.github.com/users/crochat/following{/other_user}","gists_url":"https://api.github.com/users/crochat/gists{/gist_id}","starred_url":"https://api.github.com/users/crochat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crochat/subscriptions","organizations_url":"https://api.github.com/users/crochat/orgs","repos_url":"https://api.github.com/users/crochat/repos","events_url":"https://api.github.com/users/crochat/events{/privacy}","received_events_url":"https://api.github.com/users/crochat/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-05-01T18:57:16Z","performed_via_github_app":null},{"id":4673920450,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ2NzM5MjA0NTA=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4673920450","actor":{"login":"crochat","id":8733828,"node_id":"MDQ6VXNlcjg3MzM4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8733828?v=4","gravatar_id":"","url":"https://api.github.com/users/crochat","html_url":"https://github.com/crochat","followers_url":"https://api.github.com/users/crochat/followers","following_url":"https://api.github.com/users/crochat/following{/other_user}","gists_url":"https://api.github.com/users/crochat/gists{/gist_id}","starred_url":"https://api.github.com/users/crochat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crochat/subscriptions","organizations_url":"https://api.github.com/users/crochat/orgs","repos_url":"https://api.github.com/users/crochat/repos","events_url":"https://api.github.com/users/crochat/events{/privacy}","received_events_url":"https://api.github.com/users/crochat/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-05-01T18:57:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/833273842","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-833273842","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":833273842,"node_id":"MDEyOklzc3VlQ29tbWVudDgzMzI3Mzg0Mg==","user":{"login":"sakers","id":13364846,"node_id":"MDQ6VXNlcjEzMzY0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/13364846?v=4","gravatar_id":"","url":"https://api.github.com/users/sakers","html_url":"https://github.com/sakers","followers_url":"https://api.github.com/users/sakers/followers","following_url":"https://api.github.com/users/sakers/following{/other_user}","gists_url":"https://api.github.com/users/sakers/gists{/gist_id}","starred_url":"https://api.github.com/users/sakers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sakers/subscriptions","organizations_url":"https://api.github.com/users/sakers/orgs","repos_url":"https://api.github.com/users/sakers/repos","events_url":"https://api.github.com/users/sakers/events{/privacy}","received_events_url":"https://api.github.com/users/sakers/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-06T06:50:05Z","updated_at":"2021-05-06T06:50:05Z","body":"Having trouble with this too. Reverted back to 2.2.14 and it works fine. \r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/833273842/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sakers","id":13364846,"node_id":"MDQ6VXNlcjEzMzY0ODQ2","avatar_url":"https://avatars.githubusercontent.com/u/13364846?v=4","gravatar_id":"","url":"https://api.github.com/users/sakers","html_url":"https://github.com/sakers","followers_url":"https://api.github.com/users/sakers/followers","following_url":"https://api.github.com/users/sakers/following{/other_user}","gists_url":"https://api.github.com/users/sakers/gists{/gist_id}","starred_url":"https://api.github.com/users/sakers/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sakers/subscriptions","organizations_url":"https://api.github.com/users/sakers/orgs","repos_url":"https://api.github.com/users/sakers/repos","events_url":"https://api.github.com/users/sakers/events{/privacy}","received_events_url":"https://api.github.com/users/sakers/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/835386483","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-835386483","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":835386483,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNTM4NjQ4Mw==","user":{"login":"gsserge","id":241037,"node_id":"MDQ6VXNlcjI0MTAzNw==","avatar_url":"https://avatars.githubusercontent.com/u/241037?v=4","gravatar_id":"","url":"https://api.github.com/users/gsserge","html_url":"https://github.com/gsserge","followers_url":"https://api.github.com/users/gsserge/followers","following_url":"https://api.github.com/users/gsserge/following{/other_user}","gists_url":"https://api.github.com/users/gsserge/gists{/gist_id}","starred_url":"https://api.github.com/users/gsserge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsserge/subscriptions","organizations_url":"https://api.github.com/users/gsserge/orgs","repos_url":"https://api.github.com/users/gsserge/repos","events_url":"https://api.github.com/users/gsserge/events{/privacy}","received_events_url":"https://api.github.com/users/gsserge/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-08T14:35:48Z","updated_at":"2021-05-08T14:37:27Z","body":"I've run into this issue today as well with Ubuntu 21.04. Here's a simple workaround:\r\n1. On your host generate a new ed25519 key\r\n```\r\n$ ssh-keygen -a 100 -t ed25519 -f ubuntu_vagrant -C vagrant\r\n```\r\nThis will result in `ubuntu_vagrant` and `ubuntu_vagrant.pub` files.\r\n2. `vagrant up` a new Ubuntu VM.\r\n3. `vagrant ssh` into that VM. This will work because normal ssh client is used, not Ruby's net-ssh.\r\n4. In the VM, put the previously generated `ubuntu_vagrant.pub` into `~/.ssh/authorized_keys`. The original rsa key can be removed from `~/.ssh/authorized_keys`.\r\n5. On the host machine overwrite this VM's original `private_key` with `ubuntu_vagrant`\r\n```\r\n$ cp ubuntu_vagrant ${PATH_TO_VM_ROOT}/.vagrant/machines/default/virtualbox/private_key\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/835386483/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gsserge","id":241037,"node_id":"MDQ6VXNlcjI0MTAzNw==","avatar_url":"https://avatars.githubusercontent.com/u/241037?v=4","gravatar_id":"","url":"https://api.github.com/users/gsserge","html_url":"https://github.com/gsserge","followers_url":"https://api.github.com/users/gsserge/followers","following_url":"https://api.github.com/users/gsserge/following{/other_user}","gists_url":"https://api.github.com/users/gsserge/gists{/gist_id}","starred_url":"https://api.github.com/users/gsserge/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gsserge/subscriptions","organizations_url":"https://api.github.com/users/gsserge/orgs","repos_url":"https://api.github.com/users/gsserge/repos","events_url":"https://api.github.com/users/gsserge/events{/privacy}","received_events_url":"https://api.github.com/users/gsserge/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/835388987","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-835388987","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":835388987,"node_id":"MDEyOklzc3VlQ29tbWVudDgzNTM4ODk4Nw==","user":{"login":"crochat","id":8733828,"node_id":"MDQ6VXNlcjg3MzM4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8733828?v=4","gravatar_id":"","url":"https://api.github.com/users/crochat","html_url":"https://github.com/crochat","followers_url":"https://api.github.com/users/crochat/followers","following_url":"https://api.github.com/users/crochat/following{/other_user}","gists_url":"https://api.github.com/users/crochat/gists{/gist_id}","starred_url":"https://api.github.com/users/crochat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crochat/subscriptions","organizations_url":"https://api.github.com/users/crochat/orgs","repos_url":"https://api.github.com/users/crochat/repos","events_url":"https://api.github.com/users/crochat/events{/privacy}","received_events_url":"https://api.github.com/users/crochat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-08T14:43:51Z","updated_at":"2021-05-08T14:43:51Z","body":"I've also tried it, but as OpenStack (at least in my case) is refusing this\ntype of key, my only choice was RSA.\nAn RSA key could be generated using SHA2, which should be ok for ssh, but\nnot ok in Vagrant, because of the assumption that it will be SHA1.\nSo... no possible workaround here, only a downgrade to 2.2.15 until it's\nfixed in 2.2.17.\n\nLe sam. 8 mai 2021 à 16:36, Sergey Glushchenko ***@***.***> a\nécrit :\n\n> I've run into this issue today as well with Ubuntu 21.04. Here's a simple\n> workaround that worked for me:\n>\n>    1. On your host generate a ed25519 key\n>\n> $ ssh-keygen -a 100 -t ed25519 -f ubuntu_vagrant -C vagrant\n>\n> This will result in ubuntu_vagrant and ubuntu_vagrant.pub files.\n> 2. vagrant up a new Ubuntu VM.\n> 3. vagrant ssh into that VM. This will work because normal ssh client is\n> used, not Ruby's net-ssh.\n> 4. In the VM, put the previously generated ubuntu_vagrant.pub into\n> ~/.ssh/authorized_keys. The original rsa key can be removed from\n> ~/.ssh/authorized_keys.\n> 5. On the host machine overwrite this VM's original private_key with\n> ubuntu_vagrant\n>\n> cp ubuntu_vagrant ${PATH_TO_VM_ROOT}/.vagrant/machines/default/virtualbox/private_key\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/hashicorp/vagrant/issues/12344#issuecomment-835386483>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ACCUJBFX5UR2ARHBFQ5OLHLTMVD5HANCNFSM436QS2CQ>\n> .\n>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/835388987/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"crochat","id":8733828,"node_id":"MDQ6VXNlcjg3MzM4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8733828?v=4","gravatar_id":"","url":"https://api.github.com/users/crochat","html_url":"https://github.com/crochat","followers_url":"https://api.github.com/users/crochat/followers","following_url":"https://api.github.com/users/crochat/following{/other_user}","gists_url":"https://api.github.com/users/crochat/gists{/gist_id}","starred_url":"https://api.github.com/users/crochat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crochat/subscriptions","organizations_url":"https://api.github.com/users/crochat/orgs","repos_url":"https://api.github.com/users/crochat/repos","events_url":"https://api.github.com/users/crochat/events{/privacy}","received_events_url":"https://api.github.com/users/crochat/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/839138868","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-839138868","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":839138868,"node_id":"MDEyOklzc3VlQ29tbWVudDgzOTEzODg2OA==","user":{"login":"timvisher","id":34676,"node_id":"MDQ6VXNlcjM0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/34676?v=4","gravatar_id":"","url":"https://api.github.com/users/timvisher","html_url":"https://github.com/timvisher","followers_url":"https://api.github.com/users/timvisher/followers","following_url":"https://api.github.com/users/timvisher/following{/other_user}","gists_url":"https://api.github.com/users/timvisher/gists{/gist_id}","starred_url":"https://api.github.com/users/timvisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timvisher/subscriptions","organizations_url":"https://api.github.com/users/timvisher/orgs","repos_url":"https://api.github.com/users/timvisher/repos","events_url":"https://api.github.com/users/timvisher/events{/privacy}","received_events_url":"https://api.github.com/users/timvisher/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-11T20:31:02Z","updated_at":"2021-05-11T20:31:02Z","body":"Wanted to point out that AWS EC2 keypairs _must_ be RSA ([specifically](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/ec2-key-pairs.html) `2048-bit SSH-2 RSA keys`) so this change breaks the ability to use `vagrant-aws` to spin up EC2 boxes, IIUC.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/839138868/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"timvisher","id":34676,"node_id":"MDQ6VXNlcjM0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/34676?v=4","gravatar_id":"","url":"https://api.github.com/users/timvisher","html_url":"https://github.com/timvisher","followers_url":"https://api.github.com/users/timvisher/followers","following_url":"https://api.github.com/users/timvisher/following{/other_user}","gists_url":"https://api.github.com/users/timvisher/gists{/gist_id}","starred_url":"https://api.github.com/users/timvisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timvisher/subscriptions","organizations_url":"https://api.github.com/users/timvisher/orgs","repos_url":"https://api.github.com/users/timvisher/repos","events_url":"https://api.github.com/users/timvisher/events{/privacy}","received_events_url":"https://api.github.com/users/timvisher/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/841750815","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-841750815","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":841750815,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MTc1MDgxNQ==","user":{"login":"simplytech","id":499585,"node_id":"MDQ6VXNlcjQ5OTU4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/499585?v=4","gravatar_id":"","url":"https://api.github.com/users/simplytech","html_url":"https://github.com/simplytech","followers_url":"https://api.github.com/users/simplytech/followers","following_url":"https://api.github.com/users/simplytech/following{/other_user}","gists_url":"https://api.github.com/users/simplytech/gists{/gist_id}","starred_url":"https://api.github.com/users/simplytech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simplytech/subscriptions","organizations_url":"https://api.github.com/users/simplytech/orgs","repos_url":"https://api.github.com/users/simplytech/repos","events_url":"https://api.github.com/users/simplytech/events{/privacy}","received_events_url":"https://api.github.com/users/simplytech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-16T01:30:38Z","updated_at":"2021-05-16T01:30:38Z","body":"I just upgraded from Vagrant 2.2.14 to 2.2.16 and having the same issue.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/841750815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"simplytech","id":499585,"node_id":"MDQ6VXNlcjQ5OTU4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/499585?v=4","gravatar_id":"","url":"https://api.github.com/users/simplytech","html_url":"https://github.com/simplytech","followers_url":"https://api.github.com/users/simplytech/followers","following_url":"https://api.github.com/users/simplytech/following{/other_user}","gists_url":"https://api.github.com/users/simplytech/gists{/gist_id}","starred_url":"https://api.github.com/users/simplytech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simplytech/subscriptions","organizations_url":"https://api.github.com/users/simplytech/orgs","repos_url":"https://api.github.com/users/simplytech/repos","events_url":"https://api.github.com/users/simplytech/events{/privacy}","received_events_url":"https://api.github.com/users/simplytech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/841752063","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-841752063","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":841752063,"node_id":"MDEyOklzc3VlQ29tbWVudDg0MTc1MjA2Mw==","user":{"login":"simplytech","id":499585,"node_id":"MDQ6VXNlcjQ5OTU4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/499585?v=4","gravatar_id":"","url":"https://api.github.com/users/simplytech","html_url":"https://github.com/simplytech","followers_url":"https://api.github.com/users/simplytech/followers","following_url":"https://api.github.com/users/simplytech/following{/other_user}","gists_url":"https://api.github.com/users/simplytech/gists{/gist_id}","starred_url":"https://api.github.com/users/simplytech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simplytech/subscriptions","organizations_url":"https://api.github.com/users/simplytech/orgs","repos_url":"https://api.github.com/users/simplytech/repos","events_url":"https://api.github.com/users/simplytech/events{/privacy}","received_events_url":"https://api.github.com/users/simplytech/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-16T01:45:42Z","updated_at":"2021-05-16T01:45:42Z","body":"Downgrading back to Vagrant 2.2.14 solved it for me too.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/841752063/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"simplytech","id":499585,"node_id":"MDQ6VXNlcjQ5OTU4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/499585?v=4","gravatar_id":"","url":"https://api.github.com/users/simplytech","html_url":"https://github.com/simplytech","followers_url":"https://api.github.com/users/simplytech/followers","following_url":"https://api.github.com/users/simplytech/following{/other_user}","gists_url":"https://api.github.com/users/simplytech/gists{/gist_id}","starred_url":"https://api.github.com/users/simplytech/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simplytech/subscriptions","organizations_url":"https://api.github.com/users/simplytech/orgs","repos_url":"https://api.github.com/users/simplytech/repos","events_url":"https://api.github.com/users/simplytech/events{/privacy}","received_events_url":"https://api.github.com/users/simplytech/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/845065364","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-845065364","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":845065364,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTA2NTM2NA==","user":{"login":"robrecord","id":38916,"node_id":"MDQ6VXNlcjM4OTE2","avatar_url":"https://avatars.githubusercontent.com/u/38916?v=4","gravatar_id":"","url":"https://api.github.com/users/robrecord","html_url":"https://github.com/robrecord","followers_url":"https://api.github.com/users/robrecord/followers","following_url":"https://api.github.com/users/robrecord/following{/other_user}","gists_url":"https://api.github.com/users/robrecord/gists{/gist_id}","starred_url":"https://api.github.com/users/robrecord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robrecord/subscriptions","organizations_url":"https://api.github.com/users/robrecord/orgs","repos_url":"https://api.github.com/users/robrecord/repos","events_url":"https://api.github.com/users/robrecord/events{/privacy}","received_events_url":"https://api.github.com/users/robrecord/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T12:32:48Z","updated_at":"2021-05-20T13:29:37Z","body":"Here is a script to create the workaround, with credit to gsserge\r\n\r\nEDIT: This will work only on systems that can use keys other than RSA.\r\n\r\n```bash\r\n#!/usr/bin/env bash\r\n\r\necho \"Fixing SSH key for vagrant 2.2.16 ...\"\r\n\r\n# exit when any command fails\r\nset -e\r\n# keep track of the last executed command\r\ntrap 'last_command=$current_command; current_command=$BASH_COMMAND' DEBUG\r\n# echo an error message before exiting\r\ntrap 'echo \"\\\"${last_command}\\\" command filed with exit code $?.\"' EXIT\r\n\r\nconfig=\"$(vagrant ssh-config)\"\r\nhost=\"$(echo \"$config\" | grep \"^  HostName\" | cut -d' ' -f4)\"\r\nfile=\"$(echo \"$config\" | grep \"^  IdentityFile\" | cut -d' ' -f4)\"\r\n\r\n[ -z \"$host\" ] || [ -z \"$file\" ] && echo \"Failed to get vagrant config\" && exit 1\r\n\r\necho \"Generating key...\"\r\ncat /dev/zero | ssh-keygen -a 100 -t ed25519 -f ubuntu_vagrant -C vagrant -q -N '' || echo \"Using existing key\"\r\n\r\necho \"Copying public key...\"\r\nssh-copy-id -o \"IdentityFile $file\" -f -i ubuntu_vagrant.pub -p 22 vagrant@$host 1>/dev/null\r\n\r\necho \"Copying private key...\"\r\nmv \"$file\" \"$file.bak\"\r\ncp ubuntu_vagrant \"$file\"\r\n\r\necho \"Testing connection...\"\r\nssh -o 'BatchMode=yes' -o 'ConnectionAttempts=1' -i \"$file\" -q -p 22 vagrant@$host exit\r\necho \"Connection successful\"\r\n\r\necho \"Removing temporary keys...\"\r\nrm ubuntu_vagrant*\r\n\r\ntrap 'echo \"Success.\"' EXIT\r\n\r\nset +e\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/845065364/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robrecord","id":38916,"node_id":"MDQ6VXNlcjM4OTE2","avatar_url":"https://avatars.githubusercontent.com/u/38916?v=4","gravatar_id":"","url":"https://api.github.com/users/robrecord","html_url":"https://github.com/robrecord","followers_url":"https://api.github.com/users/robrecord/followers","following_url":"https://api.github.com/users/robrecord/following{/other_user}","gists_url":"https://api.github.com/users/robrecord/gists{/gist_id}","starred_url":"https://api.github.com/users/robrecord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robrecord/subscriptions","organizations_url":"https://api.github.com/users/robrecord/orgs","repos_url":"https://api.github.com/users/robrecord/repos","events_url":"https://api.github.com/users/robrecord/events{/privacy}","received_events_url":"https://api.github.com/users/robrecord/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/845074013","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-845074013","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":845074013,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTA3NDAxMw==","user":{"login":"crochat","id":8733828,"node_id":"MDQ6VXNlcjg3MzM4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8733828?v=4","gravatar_id":"","url":"https://api.github.com/users/crochat","html_url":"https://github.com/crochat","followers_url":"https://api.github.com/users/crochat/followers","following_url":"https://api.github.com/users/crochat/following{/other_user}","gists_url":"https://api.github.com/users/crochat/gists{/gist_id}","starred_url":"https://api.github.com/users/crochat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crochat/subscriptions","organizations_url":"https://api.github.com/users/crochat/orgs","repos_url":"https://api.github.com/users/crochat/repos","events_url":"https://api.github.com/users/crochat/events{/privacy}","received_events_url":"https://api.github.com/users/crochat/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T12:40:29Z","updated_at":"2021-05-20T12:40:29Z","body":"This fix doesn't apply to all situations. For my part, in my OpenStack\ninfrastructure, I can only use RSA keys. Again, changing the type of key is\nnot a fix, it's exactly following the rules forced by the new code, which\nsimply forbid RSA keys for good.\n\nLe jeu. 20 mai 2021 à 14:33, Rob Record ***@***.***> a écrit :\n\n> Here is a script to create the workaround, with credit to gsserge\n>\n> #!/usr/bin/env bash\n> echo \"Fixing SSH key for vagrant 2.2.16 ...\"\n> # exit when any command failsset -e# keep track of the last executed commandtrap 'last_command=$current_command; current_command=$BASH_COMMAND' DEBUG# echo an error message before exitingtrap 'echo \"\\\"${last_command}\\\" command filed with exit code $?.\"' EXIT\n>\n> config=\"$(vagrant ssh-config)\"\n> host=\"$(echo \"$config\" | grep \"^  HostName\" | cut -d' ' -f4)\"\n> file=\"$(echo \"$config\" | grep \"^  IdentityFile\" | cut -d' ' -f4)\"\n>\n> [ -z \"$host\" ] || [ -z \"$file\" ] && echo \"Failed to get vagrant config\" && exit 1\n> echo \"Generating key...\"\n> cat /dev/zero | ssh-keygen -a 100 -t ed25519 -f ubuntu_vagrant -C vagrant -q -N '' || echo \"Using existing key\"\n> echo \"Copying public key...\"\n> ssh-copy-id -o \"IdentityFile $file\" -f -i ubuntu_vagrant.pub -p 22 vagrant@$host 1>/dev/null\n> echo \"Copying private key...\"\n> mv \"$file\" \"$file.bak\"\n> cp ubuntu_vagrant \"$file\"\n> echo \"Testing connection...\"\n> ssh -o 'BatchMode=yes' -o 'ConnectionAttempts=1' -i \"$file\" -q -p 22 vagrant@$host exitecho \"Connection successful\"\n> echo \"Removing temporary keys...\"\n> rm ubuntu_vagrant*\n> trap 'echo \"Success.\"' EXIT\n> set +e\n>\n> —\n> You are receiving this because you were mentioned.\n> Reply to this email directly, view it on GitHub\n> <https://github.com/hashicorp/vagrant/issues/12344#issuecomment-845065364>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/ACCUJBDYIL2N6JUUSIBOUKTTOT6QNANCNFSM436QS2CQ>\n> .\n>\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/845074013/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"crochat","id":8733828,"node_id":"MDQ6VXNlcjg3MzM4Mjg=","avatar_url":"https://avatars.githubusercontent.com/u/8733828?v=4","gravatar_id":"","url":"https://api.github.com/users/crochat","html_url":"https://github.com/crochat","followers_url":"https://api.github.com/users/crochat/followers","following_url":"https://api.github.com/users/crochat/following{/other_user}","gists_url":"https://api.github.com/users/crochat/gists{/gist_id}","starred_url":"https://api.github.com/users/crochat/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/crochat/subscriptions","organizations_url":"https://api.github.com/users/crochat/orgs","repos_url":"https://api.github.com/users/crochat/repos","events_url":"https://api.github.com/users/crochat/events{/privacy}","received_events_url":"https://api.github.com/users/crochat/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/845123715","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-845123715","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":845123715,"node_id":"MDEyOklzc3VlQ29tbWVudDg0NTEyMzcxNQ==","user":{"login":"robrecord","id":38916,"node_id":"MDQ6VXNlcjM4OTE2","avatar_url":"https://avatars.githubusercontent.com/u/38916?v=4","gravatar_id":"","url":"https://api.github.com/users/robrecord","html_url":"https://github.com/robrecord","followers_url":"https://api.github.com/users/robrecord/followers","following_url":"https://api.github.com/users/robrecord/following{/other_user}","gists_url":"https://api.github.com/users/robrecord/gists{/gist_id}","starred_url":"https://api.github.com/users/robrecord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robrecord/subscriptions","organizations_url":"https://api.github.com/users/robrecord/orgs","repos_url":"https://api.github.com/users/robrecord/repos","events_url":"https://api.github.com/users/robrecord/events{/privacy}","received_events_url":"https://api.github.com/users/robrecord/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-20T13:30:33Z","updated_at":"2021-05-20T13:30:33Z","body":"> This fix doesn't apply to all situations.\r\n\r\nThanks; I have edited my comment to state it will only work where other keys are possible to use.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/845123715/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"robrecord","id":38916,"node_id":"MDQ6VXNlcjM4OTE2","avatar_url":"https://avatars.githubusercontent.com/u/38916?v=4","gravatar_id":"","url":"https://api.github.com/users/robrecord","html_url":"https://github.com/robrecord","followers_url":"https://api.github.com/users/robrecord/followers","following_url":"https://api.github.com/users/robrecord/following{/other_user}","gists_url":"https://api.github.com/users/robrecord/gists{/gist_id}","starred_url":"https://api.github.com/users/robrecord/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/robrecord/subscriptions","organizations_url":"https://api.github.com/users/robrecord/orgs","repos_url":"https://api.github.com/users/robrecord/repos","events_url":"https://api.github.com/users/robrecord/events{/privacy}","received_events_url":"https://api.github.com/users/robrecord/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"grappler","id":1785641,"node_id":"MDQ6VXNlcjE3ODU2NDE=","avatar_url":"https://avatars.githubusercontent.com/u/1785641?v=4","gravatar_id":"","url":"https://api.github.com/users/grappler","html_url":"https://github.com/grappler","followers_url":"https://api.github.com/users/grappler/followers","following_url":"https://api.github.com/users/grappler/following{/other_user}","gists_url":"https://api.github.com/users/grappler/gists{/gist_id}","starred_url":"https://api.github.com/users/grappler/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/grappler/subscriptions","organizations_url":"https://api.github.com/users/grappler/orgs","repos_url":"https://api.github.com/users/grappler/repos","events_url":"https://api.github.com/users/grappler/events{/privacy}","received_events_url":"https://api.github.com/users/grappler/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-05-21T14:40:50Z","updated_at":"2021-05-21T14:40:50Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/12380","repository_url":"https://api.github.com/repos/hashicorp/vagrant","labels_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12380/labels{/name}","comments_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12380/comments","events_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12380/events","html_url":"https://github.com/hashicorp/vagrant/issues/12380","id":896511406,"node_id":"MDU6SXNzdWU4OTY1MTE0MDY=","number":12380,"title":"Connection reset. Retrying.","user":{"login":"glenshappy","id":17639873,"node_id":"MDQ6VXNlcjE3NjM5ODcz","avatar_url":"https://avatars.githubusercontent.com/u/17639873?v=4","gravatar_id":"","url":"https://api.github.com/users/glenshappy","html_url":"https://github.com/glenshappy","followers_url":"https://api.github.com/users/glenshappy/followers","following_url":"https://api.github.com/users/glenshappy/following{/other_user}","gists_url":"https://api.github.com/users/glenshappy/gists{/gist_id}","starred_url":"https://api.github.com/users/glenshappy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/glenshappy/subscriptions","organizations_url":"https://api.github.com/users/glenshappy/orgs","repos_url":"https://api.github.com/users/glenshappy/repos","events_url":"https://api.github.com/users/glenshappy/events{/privacy}","received_events_url":"https://api.github.com/users/glenshappy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-05-20T09:03:18Z","updated_at":"2021-07-02T02:07:35Z","closed_at":"2021-06-01T14:59:24Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":481872,"node_id":"MDEwOlJlcG9zaXRvcnk0ODE4NzI=","name":"vagrant","full_name":"hashicorp/vagrant","private":false,"owner":{"login":"hashicorp","id":761456,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MTQ1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/761456?v=4","gravatar_id":"","url":"https://api.github.com/users/hashicorp","html_url":"https://github.com/hashicorp","followers_url":"https://api.github.com/users/hashicorp/followers","following_url":"https://api.github.com/users/hashicorp/following{/other_user}","gists_url":"https://api.github.com/users/hashicorp/gists{/gist_id}","starred_url":"https://api.github.com/users/hashicorp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hashicorp/subscriptions","organizations_url":"https://api.github.com/users/hashicorp/orgs","repos_url":"https://api.github.com/users/hashicorp/repos","events_url":"https://api.github.com/users/hashicorp/events{/privacy}","received_events_url":"https://api.github.com/users/hashicorp/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hashicorp/vagrant","description":"Vagrant is a tool for building and distributing development environments.","fork":false,"url":"https://api.github.com/repos/hashicorp/vagrant","forks_url":"https://api.github.com/repos/hashicorp/vagrant/forks","keys_url":"https://api.github.com/repos/hashicorp/vagrant/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hashicorp/vagrant/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hashicorp/vagrant/teams","hooks_url":"https://api.github.com/repos/hashicorp/vagrant/hooks","issue_events_url":"https://api.github.com/repos/hashicorp/vagrant/issues/events{/number}","events_url":"https://api.github.com/repos/hashicorp/vagrant/events","assignees_url":"https://api.github.com/repos/hashicorp/vagrant/assignees{/user}","branches_url":"https://api.github.com/repos/hashicorp/vagrant/branches{/branch}","tags_url":"https://api.github.com/repos/hashicorp/vagrant/tags","blobs_url":"https://api.github.com/repos/hashicorp/vagrant/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hashicorp/vagrant/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hashicorp/vagrant/git/refs{/sha}","trees_url":"https://api.github.com/repos/hashicorp/vagrant/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hashicorp/vagrant/statuses/{sha}","languages_url":"https://api.github.com/repos/hashicorp/vagrant/languages","stargazers_url":"https://api.github.com/repos/hashicorp/vagrant/stargazers","contributors_url":"https://api.github.com/repos/hashicorp/vagrant/contributors","subscribers_url":"https://api.github.com/repos/hashicorp/vagrant/subscribers","subscription_url":"https://api.github.com/repos/hashicorp/vagrant/subscription","commits_url":"https://api.github.com/repos/hashicorp/vagrant/commits{/sha}","git_commits_url":"https://api.github.com/repos/hashicorp/vagrant/git/commits{/sha}","comments_url":"https://api.github.com/repos/hashicorp/vagrant/comments{/number}","issue_comment_url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments{/number}","contents_url":"https://api.github.com/repos/hashicorp/vagrant/contents/{+path}","compare_url":"https://api.github.com/repos/hashicorp/vagrant/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hashicorp/vagrant/merges","archive_url":"https://api.github.com/repos/hashicorp/vagrant/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hashicorp/vagrant/downloads","issues_url":"https://api.github.com/repos/hashicorp/vagrant/issues{/number}","pulls_url":"https://api.github.com/repos/hashicorp/vagrant/pulls{/number}","milestones_url":"https://api.github.com/repos/hashicorp/vagrant/milestones{/number}","notifications_url":"https://api.github.com/repos/hashicorp/vagrant/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hashicorp/vagrant/labels{/name}","releases_url":"https://api.github.com/repos/hashicorp/vagrant/releases{/id}","deployments_url":"https://api.github.com/repos/hashicorp/vagrant/deployments","created_at":"2010-01-21T08:34:27Z","updated_at":"2025-11-10T14:18:33Z","pushed_at":"2025-11-03T07:39:21Z","git_url":"git://github.com/hashicorp/vagrant.git","ssh_url":"git@github.com:hashicorp/vagrant.git","clone_url":"https://github.com/hashicorp/vagrant.git","svn_url":"https://github.com/hashicorp/vagrant","homepage":"https://www.vagrantup.com","size":82119,"stargazers_count":27088,"watchers_count":27088,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4451,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":726,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["automation","ruby","vagrant","virtualization"],"visibility":"public","forks":4451,"open_issues":726,"watchers":27088,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hi, there , when i execute \"vagrant up\" or \"vagrant reload\", i get the error below:\r\nBringing machine 'aaaa' up with 'virtualbox' provider...\r\nBringing machine 'bbb' up with 'virtualbox' provider...\r\n==> default: Clearing any previously set forwarded ports...\r\n==> default: Clearing any previously set network interfaces...\r\n==> default: Preparing network interfaces based on configuration...\r\n    default: Adapter 1: nat\r\n    default: Adapter 2: hostonly\r\n    default: Adapter 3: hostonly\r\n    default: Adapter 4: hostonly\r\n    default: Adapter 5: hostonly\r\n==> default: Forwarding ports...\r\n    default: 3000 (guest) => 3000 (host) (adapter 1)\r\n    default: 3001 (guest) => 3001 (host) (adapter 1)\r\n    default: 8000 (guest) => 8000 (host) (adapter 1)\r\n    default: 35729 (guest) => 35729 (host) (adapter 1)\r\n    default: 22 (guest) => 2222 (host) (adapter 1)\r\n==> default: Booting VM...\r\n==> default: Waiting for machine to boot. This may take a few minutes...\r\n    default: SSH address: 127.0.0.1:2222\r\n    default: SSH username: ki\r\n    default: SSH auth method: private key\r\n    default: Warning: Connection reset. Retrying...\r\n    default: Warning: Remote connection disconnect. Retrying...\r\n    default: Warning: Connection reset. Retrying...\r\n    default: Warning: Remote connection disconnect. Retrying...\r\n    default: Warning: Connection reset. Retrying...\r\n    default: Warning: Remote connection disconnect. Retrying...\r\n    default: Warning: Connection reset. Retrying...\r\n    default: Warning: Remote connection disconnect. Retrying...\r\nBut when i look the virtualbox, it stay like below. when i input something ,such as \"cls\", it will go on,wha't the case? thanks\r\n","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/12380/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12380/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/854139376","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-854139376","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":854139376,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NDEzOTM3Ng==","user":{"login":"paulcalabro","id":585059,"node_id":"MDQ6VXNlcjU4NTA1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/585059?v=4","gravatar_id":"","url":"https://api.github.com/users/paulcalabro","html_url":"https://github.com/paulcalabro","followers_url":"https://api.github.com/users/paulcalabro/followers","following_url":"https://api.github.com/users/paulcalabro/following{/other_user}","gists_url":"https://api.github.com/users/paulcalabro/gists{/gist_id}","starred_url":"https://api.github.com/users/paulcalabro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paulcalabro/subscriptions","organizations_url":"https://api.github.com/users/paulcalabro/orgs","repos_url":"https://api.github.com/users/paulcalabro/repos","events_url":"https://api.github.com/users/paulcalabro/events{/privacy}","received_events_url":"https://api.github.com/users/paulcalabro/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-03T19:59:12Z","updated_at":"2021-06-03T19:59:33Z","body":"I just wanted to add that I was also experiencing this issue when using `vagrant-aws`.\r\nVagrant would hang while trying to establish an SSH connection when executing `vagrant up` even though I could ssh to the host successfully.\r\n\r\nI was able to uninstall and reinstall using version 2.2.15 with homebrew like this:\r\n\r\n```\r\nwget https://github.com/Homebrew/homebrew-cask/blob/d81815ea27a778a312fa0e2bbef0d78f9767f45b/Casks/vagrant.rb\r\nbrew install --cask vagrant.rb\r\n```\r\n\r\nNow everything works as expected.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/854139376/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"paulcalabro","id":585059,"node_id":"MDQ6VXNlcjU4NTA1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/585059?v=4","gravatar_id":"","url":"https://api.github.com/users/paulcalabro","html_url":"https://github.com/paulcalabro","followers_url":"https://api.github.com/users/paulcalabro/followers","following_url":"https://api.github.com/users/paulcalabro/following{/other_user}","gists_url":"https://api.github.com/users/paulcalabro/gists{/gist_id}","starred_url":"https://api.github.com/users/paulcalabro/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/paulcalabro/subscriptions","organizations_url":"https://api.github.com/users/paulcalabro/orgs","repos_url":"https://api.github.com/users/paulcalabro/repos","events_url":"https://api.github.com/users/paulcalabro/events{/privacy}","received_events_url":"https://api.github.com/users/paulcalabro/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4844068875,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4NDQwNjg4NzU=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4844068875","actor":{"login":"timvisher","id":34676,"node_id":"MDQ6VXNlcjM0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/34676?v=4","gravatar_id":"","url":"https://api.github.com/users/timvisher","html_url":"https://github.com/timvisher","followers_url":"https://api.github.com/users/timvisher/followers","following_url":"https://api.github.com/users/timvisher/following{/other_user}","gists_url":"https://api.github.com/users/timvisher/gists{/gist_id}","starred_url":"https://api.github.com/users/timvisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timvisher/subscriptions","organizations_url":"https://api.github.com/users/timvisher/orgs","repos_url":"https://api.github.com/users/timvisher/repos","events_url":"https://api.github.com/users/timvisher/events{/privacy}","received_events_url":"https://api.github.com/users/timvisher/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e2d8fe708376913e54867c111c45182126c7e9d8","commit_url":"https://api.github.com/repos/timvisher/homebrew-cask-versions/commits/e2d8fe708376913e54867c111c45182126c7e9d8","created_at":"2021-06-04T15:59:36Z","performed_via_github_app":null},{"id":4844299307,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4NDQyOTkzMDc=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4844299307","actor":{"login":"timvisher","id":34676,"node_id":"MDQ6VXNlcjM0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/34676?v=4","gravatar_id":"","url":"https://api.github.com/users/timvisher","html_url":"https://github.com/timvisher","followers_url":"https://api.github.com/users/timvisher/followers","following_url":"https://api.github.com/users/timvisher/following{/other_user}","gists_url":"https://api.github.com/users/timvisher/gists{/gist_id}","starred_url":"https://api.github.com/users/timvisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timvisher/subscriptions","organizations_url":"https://api.github.com/users/timvisher/orgs","repos_url":"https://api.github.com/users/timvisher/repos","events_url":"https://api.github.com/users/timvisher/events{/privacy}","received_events_url":"https://api.github.com/users/timvisher/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"857ac4fdd4184148a4d0d696428aad61493d8810","commit_url":"https://api.github.com/repos/timvisher/vagrant-aws/commits/857ac4fdd4184148a4d0d696428aad61493d8810","created_at":"2021-06-04T16:51:16Z","performed_via_github_app":null},{"actor":{"login":"timvisher","id":34676,"node_id":"MDQ6VXNlcjM0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/34676?v=4","gravatar_id":"","url":"https://api.github.com/users/timvisher","html_url":"https://github.com/timvisher","followers_url":"https://api.github.com/users/timvisher/followers","following_url":"https://api.github.com/users/timvisher/following{/other_user}","gists_url":"https://api.github.com/users/timvisher/gists{/gist_id}","starred_url":"https://api.github.com/users/timvisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timvisher/subscriptions","organizations_url":"https://api.github.com/users/timvisher/orgs","repos_url":"https://api.github.com/users/timvisher/repos","events_url":"https://api.github.com/users/timvisher/events{/privacy}","received_events_url":"https://api.github.com/users/timvisher/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-04T16:51:42Z","updated_at":"2021-06-04T16:51:42Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues/578","repository_url":"https://api.github.com/repos/mitchellh/vagrant-aws","labels_url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues/578/labels{/name}","comments_url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues/578/comments","events_url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues/578/events","html_url":"https://github.com/mitchellh/vagrant-aws/pull/578","id":911684639,"node_id":"MDExOlB1bGxSZXF1ZXN0NjYxOTI0NTY2","number":578,"title":"Require vagrant 1.2 to 2.2.15","user":{"login":"timvisher","id":34676,"node_id":"MDQ6VXNlcjM0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/34676?v=4","gravatar_id":"","url":"https://api.github.com/users/timvisher","html_url":"https://github.com/timvisher","followers_url":"https://api.github.com/users/timvisher/followers","following_url":"https://api.github.com/users/timvisher/following{/other_user}","gists_url":"https://api.github.com/users/timvisher/gists{/gist_id}","starred_url":"https://api.github.com/users/timvisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timvisher/subscriptions","organizations_url":"https://api.github.com/users/timvisher/orgs","repos_url":"https://api.github.com/users/timvisher/repos","events_url":"https://api.github.com/users/timvisher/events{/privacy}","received_events_url":"https://api.github.com/users/timvisher/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2021-06-04T16:51:42Z","updated_at":"2021-06-05T18:00:09Z","closed_at":null,"author_association":"NONE","active_lock_reason":null,"draft":false,"repository":{"id":8044474,"node_id":"MDEwOlJlcG9zaXRvcnk4MDQ0NDc0","name":"vagrant-aws","full_name":"mitchellh/vagrant-aws","private":false,"owner":{"login":"mitchellh","id":1299,"node_id":"MDQ6VXNlcjEyOTk=","avatar_url":"https://avatars.githubusercontent.com/u/1299?v=4","gravatar_id":"","url":"https://api.github.com/users/mitchellh","html_url":"https://github.com/mitchellh","followers_url":"https://api.github.com/users/mitchellh/followers","following_url":"https://api.github.com/users/mitchellh/following{/other_user}","gists_url":"https://api.github.com/users/mitchellh/gists{/gist_id}","starred_url":"https://api.github.com/users/mitchellh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mitchellh/subscriptions","organizations_url":"https://api.github.com/users/mitchellh/orgs","repos_url":"https://api.github.com/users/mitchellh/repos","events_url":"https://api.github.com/users/mitchellh/events{/privacy}","received_events_url":"https://api.github.com/users/mitchellh/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/mitchellh/vagrant-aws","description":"Use Vagrant to manage your EC2 and VPC instances.","fork":false,"url":"https://api.github.com/repos/mitchellh/vagrant-aws","forks_url":"https://api.github.com/repos/mitchellh/vagrant-aws/forks","keys_url":"https://api.github.com/repos/mitchellh/vagrant-aws/keys{/key_id}","collaborators_url":"https://api.github.com/repos/mitchellh/vagrant-aws/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/mitchellh/vagrant-aws/teams","hooks_url":"https://api.github.com/repos/mitchellh/vagrant-aws/hooks","issue_events_url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues/events{/number}","events_url":"https://api.github.com/repos/mitchellh/vagrant-aws/events","assignees_url":"https://api.github.com/repos/mitchellh/vagrant-aws/assignees{/user}","branches_url":"https://api.github.com/repos/mitchellh/vagrant-aws/branches{/branch}","tags_url":"https://api.github.com/repos/mitchellh/vagrant-aws/tags","blobs_url":"https://api.github.com/repos/mitchellh/vagrant-aws/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/mitchellh/vagrant-aws/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/mitchellh/vagrant-aws/git/refs{/sha}","trees_url":"https://api.github.com/repos/mitchellh/vagrant-aws/git/trees{/sha}","statuses_url":"https://api.github.com/repos/mitchellh/vagrant-aws/statuses/{sha}","languages_url":"https://api.github.com/repos/mitchellh/vagrant-aws/languages","stargazers_url":"https://api.github.com/repos/mitchellh/vagrant-aws/stargazers","contributors_url":"https://api.github.com/repos/mitchellh/vagrant-aws/contributors","subscribers_url":"https://api.github.com/repos/mitchellh/vagrant-aws/subscribers","subscription_url":"https://api.github.com/repos/mitchellh/vagrant-aws/subscription","commits_url":"https://api.github.com/repos/mitchellh/vagrant-aws/commits{/sha}","git_commits_url":"https://api.github.com/repos/mitchellh/vagrant-aws/git/commits{/sha}","comments_url":"https://api.github.com/repos/mitchellh/vagrant-aws/comments{/number}","issue_comment_url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues/comments{/number}","contents_url":"https://api.github.com/repos/mitchellh/vagrant-aws/contents/{+path}","compare_url":"https://api.github.com/repos/mitchellh/vagrant-aws/compare/{base}...{head}","merges_url":"https://api.github.com/repos/mitchellh/vagrant-aws/merges","archive_url":"https://api.github.com/repos/mitchellh/vagrant-aws/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/mitchellh/vagrant-aws/downloads","issues_url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues{/number}","pulls_url":"https://api.github.com/repos/mitchellh/vagrant-aws/pulls{/number}","milestones_url":"https://api.github.com/repos/mitchellh/vagrant-aws/milestones{/number}","notifications_url":"https://api.github.com/repos/mitchellh/vagrant-aws/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/mitchellh/vagrant-aws/labels{/name}","releases_url":"https://api.github.com/repos/mitchellh/vagrant-aws/releases{/id}","deployments_url":"https://api.github.com/repos/mitchellh/vagrant-aws/deployments","created_at":"2013-02-06T04:22:19Z","updated_at":"2025-10-31T14:00:11Z","pushed_at":"2021-06-04T16:51:42Z","git_url":"git://github.com/mitchellh/vagrant-aws.git","ssh_url":"git@github.com:mitchellh/vagrant-aws.git","clone_url":"https://github.com/mitchellh/vagrant-aws.git","svn_url":"https://github.com/mitchellh/vagrant-aws","homepage":null,"size":420,"stargazers_count":2599,"watchers_count":2599,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":572,"mirror_url":null,"archived":true,"disabled":false,"open_issues_count":267,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":572,"open_issues":267,"watchers":2599,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/mitchellh/vagrant-aws/pulls/578","html_url":"https://github.com/mitchellh/vagrant-aws/pull/578","diff_url":"https://github.com/mitchellh/vagrant-aws/pull/578.diff","patch_url":"https://github.com/mitchellh/vagrant-aws/pull/578.patch","merged_at":null},"body":"This is provided because 2.2.16 has a bug where it cannot be used with RSA\nSHA1 ssh keys which makes it impossible to use with vagrant-aws as well as\nany other platform that only supports RSA SHA1 keys. There's been no\nactivity from the vagrant maintainers to fix this for some time.\n\nhttps://github.com/hashicorp/vagrant/issues/12344","reactions":{"url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues/578/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/mitchellh/vagrant-aws/issues/578/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/855148379","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-855148379","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":855148379,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTE0ODM3OQ==","user":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-05T00:07:30Z","updated_at":"2021-06-05T00:07:30Z","body":"Hi everyone, sorry for the delay in this issue getting some attention. I'd like to take just a second to clarify some assertions that have been made in this issue since the naming of things ends up conflating two different things. The changes referenced in the net-ssh patch are not making any kinds of assumptions about the type of rsa key that is in use. Instead, the changes are focused on the signature schemes. With OpenSSH 8.6, the `ssh-rsa` signature scheme was fully deprecated and disabled. The result is that connections would no longer succeed where `ssh-rsa` signature scheme was being used with the RSA public key algorithm.\r\n\r\nIn OpenSSH 7.2 two new signature schemes were added, `rsa-sha2-512` and `rsa-sha2-256`. These are what have now _replaced_ `ssh-rsa` as of OpenSSH 8.6. The `vagrant ssh` command will happily work because it uses the `ssh` executable and it was updated for these changes quite awhile ago. Things like the `provision` command use the internal communicator, and this is what the patches are intended to fix. \r\n\r\nUsing @AntonioMeireles box (https://github.com/hashicorp/vagrant/issues/12344#issuecomment-830678454) I'm not having any issue connecting (using the current box, and one from a bit over a month ago). If anyone is encountering this issue using a publicly available box, please let me know as it would be very helpful to determine what's causing the issue.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/855148379/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4845933986,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDg0NTkzMzk4Ng==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4845933986","actor":{"login":"AntonioMeireles","id":743527,"node_id":"MDQ6VXNlcjc0MzUyNw==","avatar_url":"https://avatars.githubusercontent.com/u/743527?v=4","gravatar_id":"","url":"https://api.github.com/users/AntonioMeireles","html_url":"https://github.com/AntonioMeireles","followers_url":"https://api.github.com/users/AntonioMeireles/followers","following_url":"https://api.github.com/users/AntonioMeireles/following{/other_user}","gists_url":"https://api.github.com/users/AntonioMeireles/gists{/gist_id}","starred_url":"https://api.github.com/users/AntonioMeireles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AntonioMeireles/subscriptions","organizations_url":"https://api.github.com/users/AntonioMeireles/orgs","repos_url":"https://api.github.com/users/AntonioMeireles/repos","events_url":"https://api.github.com/users/AntonioMeireles/events{/privacy}","received_events_url":"https://api.github.com/users/AntonioMeireles/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-06-05T00:07:30Z","performed_via_github_app":null},{"id":4845933990,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ4NDU5MzM5OTA=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4845933990","actor":{"login":"AntonioMeireles","id":743527,"node_id":"MDQ6VXNlcjc0MzUyNw==","avatar_url":"https://avatars.githubusercontent.com/u/743527?v=4","gravatar_id":"","url":"https://api.github.com/users/AntonioMeireles","html_url":"https://github.com/AntonioMeireles","followers_url":"https://api.github.com/users/AntonioMeireles/followers","following_url":"https://api.github.com/users/AntonioMeireles/following{/other_user}","gists_url":"https://api.github.com/users/AntonioMeireles/gists{/gist_id}","starred_url":"https://api.github.com/users/AntonioMeireles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AntonioMeireles/subscriptions","organizations_url":"https://api.github.com/users/AntonioMeireles/orgs","repos_url":"https://api.github.com/users/AntonioMeireles/repos","events_url":"https://api.github.com/users/AntonioMeireles/events{/privacy}","received_events_url":"https://api.github.com/users/AntonioMeireles/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-06-05T00:07:30Z","performed_via_github_app":null},{"id":4845934315,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ0ODQ1OTM0MzE1","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4845934315","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2021-06-05T00:07:37Z","assignee":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":4845934795,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4NDU5MzQ3OTU=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4845934795","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-05T00:07:45Z","label":{"name":"bug","color":"e11d21"},"performed_via_github_app":null},{"id":4845934797,"node_id":"MDEyOkxhYmVsZWRFdmVudDQ4NDU5MzQ3OTc=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4845934797","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-06-05T00:07:45Z","label":{"name":"communicator/ssh","color":"006b75"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/855230746","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-855230746","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":855230746,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTIzMDc0Ng==","user":{"login":"AntonioMeireles","id":743527,"node_id":"MDQ6VXNlcjc0MzUyNw==","avatar_url":"https://avatars.githubusercontent.com/u/743527?v=4","gravatar_id":"","url":"https://api.github.com/users/AntonioMeireles","html_url":"https://github.com/AntonioMeireles","followers_url":"https://api.github.com/users/AntonioMeireles/followers","following_url":"https://api.github.com/users/AntonioMeireles/following{/other_user}","gists_url":"https://api.github.com/users/AntonioMeireles/gists{/gist_id}","starred_url":"https://api.github.com/users/AntonioMeireles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AntonioMeireles/subscriptions","organizations_url":"https://api.github.com/users/AntonioMeireles/orgs","repos_url":"https://api.github.com/users/AntonioMeireles/repos","events_url":"https://api.github.com/users/AntonioMeireles/events{/privacy}","received_events_url":"https://api.github.com/users/AntonioMeireles/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-05T12:07:45Z","updated_at":"2021-06-05T12:07:45Z","body":"@chrisroberts\r\n\r\nFWIW this is happening on macOS (BigSur - 11.4 (20F71)). \r\n\r\nWith plain 'empty' Vagrantfile:\r\n```ruby\r\nVagrant.configure(\"2\") do |config|\r\n  config.vm.box = \"AntonioMeireles/ClearLinux\"\r\nend\r\n``` \r\ni get on `vagrant up --debug --provider=virtualbox` (vmware one is similar)\r\n\r\n```\r\n(...)\r\nGuestAdditionsFacility_Graphics Mode=0,1622894219464\r\nDEBUG subprocess: Waiting for process to exit. Remaining to timeout: 32000\r\nDEBUG subprocess: Exit status: 0\r\nDEBUG virtualbox_6_1:   - [1, \"ssh\", 2222, 22, \"127.0.0.1\"]\r\nDEBUG ssh: Checking key permissions: /Users/am/.vagrant.d/insecure_private_key\r\n INFO ssh: Attempting SSH connection...\r\n INFO ssh: Attempting to connect to SSH...\r\n INFO ssh:   - Host: 127.0.0.1\r\n INFO ssh:   - Port: 2222\r\n INFO ssh:   - Username: clear\r\n INFO ssh:   - Password? false\r\n INFO ssh:   - Key Path: [\"/Users/am/.vagrant.d/insecure_private_key\"]\r\nDEBUG ssh:   - connect_opts: {:auth_methods=>[\"none\", \"hostbased\", \"publickey\"], :config=>false, :forward_agent=>false, :send_env=>false, :keys_only=>true, :verify_host_key=>:never, :password=>nil, :port=>2222, :timeout=>15, :user_known_hosts_file=>[], :verbose=>:debug, :logger=>#<Logger:0x00007f885993f7b8 @level=0, @progname=nil, @default_formatter=#<Logger::Formatter:0x00007f885993f740 @datetime_format=nil>, @formatter=nil, @logdev=#<Logger::LogDevice:0x00007f885993f6a0 @shift_period_suffix=nil, @shift_size=nil, @shift_age=nil, @filename=nil, @dev=#<StringIO:0x00007f885993f858>, @mon_mutex=#<Thread::Mutex:0x00007f885993f5d8>, @mon_mutex_owner_object_id=70111797574480, @mon_owner=nil, @mon_count=0>>, :keys=>[\"/Users/am/.vagrant.d/insecure_private_key\"], :remote_user=>\"clear\"}\r\nDEBUG ssh: == Net-SSH connection debug-level log START ==\r\nDEBUG ssh: D, [2021-06-05T12:57:07.570460 #99269] DEBUG -- net.ssh.transport.session[3fc42cc9e304]: establishing connection to 127.0.0.1:2222\r\nD, [2021-06-05T12:57:07.570813 #99269] DEBUG -- net.ssh.transport.session[3fc42cc9e304]: connection established\r\nI, [2021-06-05T12:57:07.570860 #99269]  INFO -- net.ssh.transport.server_version[3fc42cca2ff8]: negotiating protocol version\r\nD, [2021-06-05T12:57:07.570875 #99269] DEBUG -- net.ssh.transport.server_version[3fc42cca2ff8]: local is `SSH-2.0-Ruby/Net::SSH_6.1.0 x86_64-darwin19'\r\nD, [2021-06-05T12:57:07.590389 #99269] DEBUG -- net.ssh.transport.server_version[3fc42cca2ff8]: remote is `SSH-2.0-OpenSSH_8.4'\r\nW, [2021-06-05T12:57:07.590514 #99269]  WARN -- net.ssh.transport.algorithms[3fc42cca7788]: unsupported algorithm: `[\"rsa-sha2-256\", \"rsa-sha2-512\"]'\r\nI, [2021-06-05T12:57:07.590675 #99269]  INFO -- net.ssh.transport.algorithms[3fc42cca7788]: sending KEXINIT\r\nD, [2021-06-05T12:57:07.590817 #99269] DEBUG -- socket[3fc42cca3ca0]: queueing packet nr 0 type 20 len 796\r\nD, [2021-06-05T12:57:07.590871 #99269] DEBUG -- socket[3fc42cca3ca0]: sent 800 bytes\r\nD, [2021-06-05T12:57:07.591366 #99269] DEBUG -- socket[3fc42cca3ca0]: read 1056 bytes\r\nD, [2021-06-05T12:57:07.591428 #99269] DEBUG -- socket[3fc42cca3ca0]: received packet nr 0 type 20 len 1052\r\nI, [2021-06-05T12:57:07.591454 #99269]  INFO -- net.ssh.transport.algorithms[3fc42cca7788]: got KEXINIT from server\r\nI, [2021-06-05T12:57:07.591531 #99269]  INFO -- net.ssh.transport.algorithms[3fc42cca7788]: negotiating algorithms\r\nD, [2021-06-05T12:57:07.591663 #99269] DEBUG -- net.ssh.transport.algorithms[3fc42cca7788]: negotiated:\r\n* kex: ecdh-sha2-nistp521\r\n* host_key: ssh-ed25519\r\n* encryption_server: aes256-ctr\r\n* encryption_client: aes256-ctr\r\n* hmac_client: hmac-sha2-512-etm@openssh.com\r\n* hmac_server: hmac-sha2-512-etm@openssh.com\r\n* compression_client: none\r\n* compression_server: none\r\n* language_client:\r\n* language_server:\r\nD, [2021-06-05T12:57:07.591694 #99269] DEBUG -- net.ssh.transport.algorithms[3fc42cca7788]: exchanging keys\r\nD, [2021-06-05T12:57:07.595227 #99269] DEBUG -- socket[3fc42cca3ca0]: queueing packet nr 1 type 30 len 148\r\nD, [2021-06-05T12:57:07.595291 #99269] DEBUG -- socket[3fc42cca3ca0]: sent 152 bytes\r\nD, [2021-06-05T12:57:07.605411 #99269] DEBUG -- socket[3fc42cca3ca0]: read 312 bytes\r\nD, [2021-06-05T12:57:07.605504 #99269] DEBUG -- socket[3fc42cca3ca0]: received packet nr 1 type 31 len 292\r\nD, [2021-06-05T12:57:07.609183 #99269] DEBUG -- socket[3fc42cca3ca0]: queueing packet nr 2 type 21 len 20\r\nD, [2021-06-05T12:57:07.609242 #99269] DEBUG -- socket[3fc42cca3ca0]: sent 24 bytes\r\nD, [2021-06-05T12:57:07.609288 #99269] DEBUG -- socket[3fc42cca3ca0]: received packet nr 2 type 21 len 12\r\nD, [2021-06-05T12:57:07.626136 #99269] DEBUG -- net.ssh.authentication.session[3fc42cccf350]: beginning authentication of `clear'\r\nD, [2021-06-05T12:57:07.626205 #99269] DEBUG -- socket[3fc42cca3ca0]: using encrypt-then-mac\r\nD, [2021-06-05T12:57:07.626266 #99269] DEBUG -- socket[3fc42cca3ca0]: queueing packet nr 3 type 5 len 32\r\nD, [2021-06-05T12:57:07.626324 #99269] DEBUG -- socket[3fc42cca3ca0]: sent 100 bytes\r\nD, [2021-06-05T12:57:07.626826 #99269] DEBUG -- socket[3fc42cca3ca0]: read 100 bytes\r\nD, [2021-06-05T12:57:07.626907 #99269] DEBUG -- socket[3fc42cca3ca0]: received packet nr 3 type 6 len 32\r\nD, [2021-06-05T12:57:07.626969 #99269] DEBUG -- net.ssh.authentication.session[3fc42cccf350]: trying none\r\nD, [2021-06-05T12:57:07.627037 #99269] DEBUG -- socket[3fc42cca3ca0]: using encrypt-then-mac\r\nD, [2021-06-05T12:57:07.627083 #99269] DEBUG -- socket[3fc42cca3ca0]: queueing packet nr 4 type 50 len 48\r\nD, [2021-06-05T12:57:07.627125 #99269] DEBUG -- socket[3fc42cca3ca0]: sent 116 bytes\r\nD, [2021-06-05T12:57:07.636259 #99269] DEBUG -- socket[3fc42cca3ca0]: read 116 bytes\r\nD, [2021-06-05T12:57:07.636378 #99269] DEBUG -- socket[3fc42cca3ca0]: received packet nr 4 type 51 len 48\r\nD, [2021-06-05T12:57:07.636431 #99269] DEBUG -- net.ssh.authentication.session[3fc42cccf350]: allowed methods: publickey,keyboard-interactive\r\nD, [2021-06-05T12:57:07.636478 #99269] DEBUG -- net.ssh.authentication.methods.none[3fc436c0d9bc]: none failed\r\nD, [2021-06-05T12:57:07.636509 #99269] DEBUG -- net.ssh.authentication.session[3fc42cccf350]: trying publickey\r\nD, [2021-06-05T12:57:07.636949 #99269] DEBUG -- net.ssh.authentication.agent[3fc436c3c578]: connecting to ssh-agent\r\nD, [2021-06-05T12:57:07.637059 #99269] DEBUG -- net.ssh.authentication.agent[3fc436c3c578]: sending agent request 1 len 47\r\nD, [2021-06-05T12:57:07.637146 #99269] DEBUG -- net.ssh.authentication.agent[3fc436c3c578]: received agent packet 5 len 1\r\nD, [2021-06-05T12:57:07.637171 #99269] DEBUG -- net.ssh.authentication.agent[3fc436c3c578]: sending agent request 11 len 0\r\nD, [2021-06-05T12:57:07.637239 #99269] DEBUG -- net.ssh.authentication.agent[3fc436c3c578]: received agent packet 12 len 637\r\nD, [2021-06-05T12:57:07.637484 #99269] DEBUG -- net.ssh.authentication.methods.publickey[3fc42d0cf8ec]: trying publickey (dd:3b:b8:2e:85:04:06:e9:ab:ff:a8:0a:c0:04:6e:d6)\r\nD, [2021-06-05T12:57:07.637531 #99269] DEBUG -- net.ssh.authentication.methods.publickey[3fc42d0cf8ec]: public key has been marked for deprecated ssh-rsa SHA1 behavior\r\nD, [2021-06-05T12:57:07.637613 #99269] DEBUG -- socket[3fc42cca3ca0]: using encrypt-then-mac\r\nD, [2021-06-05T12:57:07.637659 #99269] DEBUG -- socket[3fc42cca3ca0]: queueing packet nr 5 type 50 len 352\r\nD, [2021-06-05T12:57:07.637703 #99269] DEBUG -- socket[3fc42cca3ca0]: sent 420 bytes\r\nD, [2021-06-05T12:57:07.638473 #99269] DEBUG -- socket[3fc42cca3ca0]: read 372 bytes\r\nD, [2021-06-05T12:57:07.638555 #99269] DEBUG -- socket[3fc42cca3ca0]: received packet nr 5 type 60 len 304\r\nD, [2021-06-05T12:57:07.638602 #99269] DEBUG -- net.ssh.authentication.methods.publickey[3fc42d0cf8ec]: public key has been marked for deprecated ssh-rsa SHA1 behavior\r\nD, [2021-06-05T12:57:07.638682 #99269] DEBUG -- net.ssh.authentication.agent[3fc436c3c578]: sending agent request 13 len 696\r\nD, [2021-06-05T12:57:07.641707 #99269] DEBUG -- net.ssh.authentication.agent[3fc436c3c578]: received agent packet 14 len 276\r\nD, [2021-06-05T12:57:07.641746 #99269] DEBUG -- net.ssh.authentication.methods.publickey[3fc42d0cf8ec]: public key has been marked for deprecated ssh-rsa SHA1 behavior\r\nD, [2021-06-05T12:57:07.641813 #99269] DEBUG -- socket[3fc42cca3ca0]: using encrypt-then-mac\r\nD, [2021-06-05T12:57:07.641863 #99269] DEBUG -- socket[3fc42cca3ca0]: queueing packet nr 6 type 50 len 624\r\nD, [2021-06-05T12:57:07.641905 #99269] DEBUG -- socket[3fc42cca3ca0]: sent 692 bytes\r\nD, [2021-06-05T12:57:07.655395 #99269] DEBUG -- socket[3fc42cca3ca0]: read 116 bytes\r\nD, [2021-06-05T12:57:07.655514 #99269] DEBUG -- socket[3fc42cca3ca0]: received packet nr 6 type 51 len 48\r\nD, [2021-06-05T12:57:07.655562 #99269] DEBUG -- net.ssh.authentication.session[3fc42cccf350]: allowed methods: publickey,keyboard-interactive\r\nD, [2021-06-05T12:57:07.655592 #99269] DEBUG -- net.ssh.authentication.methods.publickey[3fc42d0cf8ec]: publickey failed (dd:3b:b8:2e:85:04:06:e9:ab:ff:a8:0a:c0:04:6e:d6)\r\nE, [2021-06-05T12:57:07.655621 #99269] ERROR -- net.ssh.authentication.session[3fc42cccf350]: all authorization methods failed (tried none, publickey)\r\n\r\nDEBUG ssh: == Net-SSH connection debug-level log END ==\r\n INFO ssh: SSH not ready: #<Vagrant::Errors::SSHAuthenticationFailed: SSH authentication failed! This is typically caused by the public/private\r\nkeypair for the SSH user not being properly set on the guest VM. Please\r\nverify that the guest VM is setup with the proper public key, and that\r\nthe private key path for Vagrant is setup properly as well.>\r\n(...)\r\n```  \r\n\r\ni can, as everybody else, after the `up` fails, ssh to the box via `vagrant ssh` (which consumes system `ssh` client). \r\n\r\nIt's just  that the initial provisioning (done at box creation or box power up) which must be done via the **internal** vagrant' s ssh communicator won't  be done anymore any as the internal ssh communicator just stopped behaving :-/ [which breaks obviously all sorts of automations/ CI that one had :-( ]  \r\n\r\nHope this helps!\r\n\r\nAll the Best!\r\n\r\nAntónio","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/855230746/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AntonioMeireles","id":743527,"node_id":"MDQ6VXNlcjc0MzUyNw==","avatar_url":"https://avatars.githubusercontent.com/u/743527?v=4","gravatar_id":"","url":"https://api.github.com/users/AntonioMeireles","html_url":"https://github.com/AntonioMeireles","followers_url":"https://api.github.com/users/AntonioMeireles/followers","following_url":"https://api.github.com/users/AntonioMeireles/following{/other_user}","gists_url":"https://api.github.com/users/AntonioMeireles/gists{/gist_id}","starred_url":"https://api.github.com/users/AntonioMeireles/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AntonioMeireles/subscriptions","organizations_url":"https://api.github.com/users/AntonioMeireles/orgs","repos_url":"https://api.github.com/users/AntonioMeireles/repos","events_url":"https://api.github.com/users/AntonioMeireles/events{/privacy}","received_events_url":"https://api.github.com/users/AntonioMeireles/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4846603734,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDg0NjYwMzczNA==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4846603734","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-06-05T12:07:45Z","performed_via_github_app":null},{"id":4846603735,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDQ4NDY2MDM3MzU=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4846603735","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2021-06-05T12:07:45Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/855274394","html_url":"https://github.com/hashicorp/vagrant/issues/12344#issuecomment-855274394","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/12344","id":855274394,"node_id":"MDEyOklzc3VlQ29tbWVudDg1NTI3NDM5NA==","user":{"login":"timvisher","id":34676,"node_id":"MDQ6VXNlcjM0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/34676?v=4","gravatar_id":"","url":"https://api.github.com/users/timvisher","html_url":"https://github.com/timvisher","followers_url":"https://api.github.com/users/timvisher/followers","following_url":"https://api.github.com/users/timvisher/following{/other_user}","gists_url":"https://api.github.com/users/timvisher/gists{/gist_id}","starred_url":"https://api.github.com/users/timvisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timvisher/subscriptions","organizations_url":"https://api.github.com/users/timvisher/orgs","repos_url":"https://api.github.com/users/timvisher/repos","events_url":"https://api.github.com/users/timvisher/events{/privacy}","received_events_url":"https://api.github.com/users/timvisher/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-05T17:58:52Z","updated_at":"2021-06-05T17:58:52Z","body":"@chrisroberts \r\n\r\n> I'd like to take just a second to clarify some assertions that have been made in this issue since the naming of things ends up conflating two different things.\r\n\r\nThanks very much for the clarification! I hadn't actually heard of signature schemes before. xD\r\n\r\n> If anyone is encountering this issue using a publicly available box, please let me know as it would be very helpful to determine what's causing the issue.\r\n\r\nI put together a [reproduction repo](https://github.com/timvisher/Vagrant-2.2.16-RSA-SHA1-Keypair-Issue) that I hope you'll find helpful. You'll need an AWS account to use it but I also provided logs from my own run.\r\n\r\nSome interesting findings:\r\n\r\n1. `aws ec2 create-key-pair` generated keys _work_ with Vagrant 2.2.16. They're 2048 bit RSA keys, which is smaller than what I advocate my team uses which is 4096. I wasn't able to find how to check what signature scheme a key uses at this point. If you know how to do that it would be helpful to me.\r\n\r\n2. Neither `ssh-keygen -t rsa` or `ssh-keygen -t rsa-sha2-512` generated keys that were usable by Vagrant 2.2.16. Again, these keys work from `ssh` and from `vagrant ssh`, just not from the internal communicator. All this is visible in the logs in the [gist](https://gist.github.com/timvisher/710f7e18b7a0da79e631cb6866893859) linked from the repo. I must be misunderstanding the ssh-keygen man page but I'm not able to find any more information at the moment about how to generate these keys. My team needs to generate the keys outside of EC2 for a variety reasons, though, so using the `aws ec2` keypair isn't tenable without generating a lot of additional work.\r\n\r\nLet me know if there's anything else I can do to help.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/855274394/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"timvisher","id":34676,"node_id":"MDQ6VXNlcjM0Njc2","avatar_url":"https://avatars.githubusercontent.com/u/34676?v=4","gravatar_id":"","url":"https://api.github.com/users/timvisher","html_url":"https://github.com/timvisher","followers_url":"https://api.github.com/users/timvisher/followers","following_url":"https://api.github.com/users/timvisher/following{/other_user}","gists_url":"https://api.github.com/users/timvisher/gists{/gist_id}","starred_url":"https://api.github.com/users/timvisher/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timvisher/subscriptions","organizations_url":"https://api.github.com/users/timvisher/orgs","repos_url":"https://api.github.com/users/timvisher/repos","events_url":"https://api.github.com/users/timvisher/events{/privacy}","received_events_url":"https://api.github.com/users/timvisher/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4847001688,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NDg0NzAwMTY4OA==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/4847001688","actor":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-06-05T17:58:52Z","performed_via_github_app":null}]