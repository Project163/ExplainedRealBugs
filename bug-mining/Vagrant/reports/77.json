{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/7914","repository_url":"https://api.github.com/repos/hashicorp/vagrant","labels_url":"https://api.github.com/repos/hashicorp/vagrant/issues/7914/labels{/name}","comments_url":"https://api.github.com/repos/hashicorp/vagrant/issues/7914/comments","events_url":"https://api.github.com/repos/hashicorp/vagrant/issues/7914/events","html_url":"https://github.com/hashicorp/vagrant/issues/7914","id":184275264,"node_id":"MDU6SXNzdWUxODQyNzUyNjQ=","number":7914,"title":"dockerfile build failing when dockerfile parameter of the docker provider is set","user":{"login":"jdwagnerjr","id":22962918,"node_id":"MDQ6VXNlcjIyOTYyOTE4","avatar_url":"https://avatars.githubusercontent.com/u/22962918?v=4","gravatar_id":"","url":"https://api.github.com/users/jdwagnerjr","html_url":"https://github.com/jdwagnerjr","followers_url":"https://api.github.com/users/jdwagnerjr/followers","following_url":"https://api.github.com/users/jdwagnerjr/following{/other_user}","gists_url":"https://api.github.com/users/jdwagnerjr/gists{/gist_id}","starred_url":"https://api.github.com/users/jdwagnerjr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jdwagnerjr/subscriptions","organizations_url":"https://api.github.com/users/jdwagnerjr/orgs","repos_url":"https://api.github.com/users/jdwagnerjr/repos","events_url":"https://api.github.com/users/jdwagnerjr/events{/privacy}","received_events_url":"https://api.github.com/users/jdwagnerjr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":25816,"node_id":"MDU6TGFiZWwyNTgxNg==","url":"https://api.github.com/repos/hashicorp/vagrant/labels/bug","name":"bug","color":"e11d21","default":true,"description":null},{"id":139181043,"node_id":"MDU6TGFiZWwxMzkxODEwNDM=","url":"https://api.github.com/repos/hashicorp/vagrant/labels/provider/docker","name":"provider/docker","color":"bfe5bf","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2016-10-20T16:16:41Z","updated_at":"2020-04-02T01:59:16Z","closed_at":"2017-05-15T16:17:27Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Please note that the Vagrant issue tracker is reserved for bug reports and\nenhancements. For general usage questions, please use the Vagrant mailing list:\nhttps://groups.google.com/forum/#!forum/vagrant-up. Thank you!\n### Vagrant version\n\nboth 1.8.1 and 1.8.6\n### Host operating system\n\nLinux Mint 18\n### Guest operating system\n\nCentos 6.8 but irrelevant in this case\n### Vagrantfile\n# -_\\- mode: ruby -_-\n# vi: set ft=ruby :\n\nVagrant.configure(2) do |config|\n    config.vm.define \"A\" do |a|\n        ENV['VAGRANT_DEFAULT_PROVIDER'] = 'docker'\n        a.vm.provider \"docker\" do |d|\n            d.build_dir = \".\"\n            d.dockerfile = \"Dockerfile\"\n        end\n    end\nend\n### Debug output\n\nhttps://gist.github.com/jdwagnerjr/123a847c76cdd9827934d6aa7ebc9b1c\n\nkey output\n\nA Docker command executed by Vagrant didn't complete successfully!\nThe command run along with the output from the command is shown\nbelow.\n\nCommand: [\"docker\", \"build\", \"--file=\\\"/home/jdwagner/eraser_board/vagrant_issue/Dockerfile\\\"\", \"/home/jdwagner/eraser_board/vagrant_issue\", {:notify=>[:stdout, :stderr]}]\n\nStderr: unable to prepare context: unable to evaluate symlinks in Dockerfile path: lstat /home/jdwagner/eraser_board/vagrant_issue/\": no such file or directory\n### Expected behavior\n\nexpected a centos docker to be launched\n### Actual behavior\n\ndocker build command fails due to being unable to parse the dockerfile path\n\nwhile unconfirmed may be caused by a parsing issue which is letting a single quote through at the end of the line. this is based on the Stderr output from the docker build command having a single trailing quote\n### Steps to reproduce\n1. create a docker file\n2. create a vagrant file using a docker provider\n3. set the build dir to the dir where the dockerfile is located\n4. set the dockerfile to the name of the dockerfile\n5. run vagrant up\n","closed_by":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/7914/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hashicorp/vagrant/issues/7914/timeline","performed_via_github_app":null,"state_reason":"completed"}