[{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/389651619","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-389651619","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":389651619,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTY1MTYxOQ==","user":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-16T20:17:39Z","updated_at":"2018-05-16T20:17:39Z","body":"Hi @john2x - If you run Vagrant in debug mode, you'll see that the trigger is not actually running. When triggers run, Vagrant will print an `info` to the console saying that it will execute a trigger. The print you are seeing is when Vagrant parses your Vagrantfile to store its config. So basically what's happening here is essentially Vagrant parses your config file by evaluating each ruby block in your Vagrantfile. When it reaches your trigger block, it sees the `print` statement and actually executes that. If you just want the trigger to print when it executes, that is what the `info` or `warn` options are for. Thanks!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/389651619/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1630511003,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTYzMDUxMTAwMw==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1630511003","actor":{"login":"john2x","id":332885,"node_id":"MDQ6VXNlcjMzMjg4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/332885?v=4","gravatar_id":"","url":"https://api.github.com/users/john2x","html_url":"https://github.com/john2x","followers_url":"https://api.github.com/users/john2x/followers","following_url":"https://api.github.com/users/john2x/following{/other_user}","gists_url":"https://api.github.com/users/john2x/gists{/gist_id}","starred_url":"https://api.github.com/users/john2x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/john2x/subscriptions","organizations_url":"https://api.github.com/users/john2x/orgs","repos_url":"https://api.github.com/users/john2x/repos","events_url":"https://api.github.com/users/john2x/events{/privacy}","received_events_url":"https://api.github.com/users/john2x/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-16T20:17:39Z","performed_via_github_app":null},{"id":1630511004,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2MzA1MTEwMDQ=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1630511004","actor":{"login":"john2x","id":332885,"node_id":"MDQ6VXNlcjMzMjg4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/332885?v=4","gravatar_id":"","url":"https://api.github.com/users/john2x","html_url":"https://github.com/john2x","followers_url":"https://api.github.com/users/john2x/followers","following_url":"https://api.github.com/users/john2x/following{/other_user}","gists_url":"https://api.github.com/users/john2x/gists{/gist_id}","starred_url":"https://api.github.com/users/john2x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/john2x/subscriptions","organizations_url":"https://api.github.com/users/john2x/orgs","repos_url":"https://api.github.com/users/john2x/repos","events_url":"https://api.github.com/users/john2x/events{/privacy}","received_events_url":"https://api.github.com/users/john2x/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-16T20:17:39Z","performed_via_github_app":null},{"id":1630511009,"node_id":"MDExOkNsb3NlZEV2ZW50MTYzMDUxMTAwOQ==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1630511009","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2018-05-16T20:17:39Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/389730152","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-389730152","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":389730152,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTczMDE1Mg==","user":{"login":"john2x","id":332885,"node_id":"MDQ6VXNlcjMzMjg4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/332885?v=4","gravatar_id":"","url":"https://api.github.com/users/john2x","html_url":"https://github.com/john2x","followers_url":"https://api.github.com/users/john2x/followers","following_url":"https://api.github.com/users/john2x/following{/other_user}","gists_url":"https://api.github.com/users/john2x/gists{/gist_id}","starred_url":"https://api.github.com/users/john2x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/john2x/subscriptions","organizations_url":"https://api.github.com/users/john2x/orgs","repos_url":"https://api.github.com/users/john2x/repos","events_url":"https://api.github.com/users/john2x/events{/privacy}","received_events_url":"https://api.github.com/users/john2x/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-17T03:05:33Z","updated_at":"2018-05-17T03:05:33Z","body":"The `print` statements are just to show a minimal example. In the real Vagrantfile I'm using, I use the hooks to write and delete files to allow decrypting the VM. \r\n```ruby\r\n  config.trigger.before :up do |trigger|\r\n      password_id = config.vm.hostname\r\n      if not File.exists?(PASSWORD_PATH)\r\n        print \"The VM is encrypted, please enter the password\\n#{password_id}: \"\r\n        password = STDIN.noecho(&:gets).strip\r\n        File.write(PASSWORD_PATH, password)\r\n      end\r\n      if File.exists?(PASSWORD_PATH)\r\n        puts \"Password file saved\"\r\n      else\r\n        puts \"Password file not saved\"\r\n      end\r\n  end\r\n\r\n  config.trigger.after :up do |trigger|\r\n    File.delete(PASSWORD_PATH) if File.exists?(PASSWORD_PATH)\r\n  end\r\n\r\n  config.trigger.after :destroy do |trigger|\r\n    File.delete(PASSWORD_PATH) if File.exists?(PASSWORD_PATH)\r\n  end\r\n\r\n  config.vm.provider :virtualbox do |vb|\r\n    vb.name = NAME\r\n    vb.gui = false\r\n    password_id = config.vm.hostname\r\n    vb.customize \"post-boot\", [\r\n      \"controlvm\", password_id, \"addencpassword\", password_id, Dir.pwd + \"/\" + PASSWORD_PATH, \"--removeonsuspend\", \"yes\"\r\n    ]\r\n  end\r\n\r\n```\r\nWhat I wanted to happen is when I run `vagrant up`, I get asked for the decryption password and it's saved to a file which Virtualbox needs to decrypt (I know, not good to store the password in a file, but couldn't find an alternative). Then after `up` is done, it deletes the password file. \r\n\r\nThese triggers worked fine with the `vagrant-triggers` plugin, but after upgrading to 2.1 I had to uninstall the plugin.\r\n\r\nWith 2.1's triggers, all the triggers are executed, including the `File.delete` lines, so the `post-boot` command doesn't have the chance to use the password file.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/389730152/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"john2x","id":332885,"node_id":"MDQ6VXNlcjMzMjg4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/332885?v=4","gravatar_id":"","url":"https://api.github.com/users/john2x","html_url":"https://github.com/john2x","followers_url":"https://api.github.com/users/john2x/followers","following_url":"https://api.github.com/users/john2x/following{/other_user}","gists_url":"https://api.github.com/users/john2x/gists{/gist_id}","starred_url":"https://api.github.com/users/john2x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/john2x/subscriptions","organizations_url":"https://api.github.com/users/john2x/orgs","repos_url":"https://api.github.com/users/john2x/repos","events_url":"https://api.github.com/users/john2x/events{/privacy}","received_events_url":"https://api.github.com/users/john2x/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/389991669","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-389991669","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":389991669,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTk5MTY2OQ==","user":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-17T20:03:04Z","updated_at":"2018-05-17T20:03:04Z","body":"Hello @john2x ! Yes....with the community plugin, you could run ruby code inside a trigger, where as the 2.1 triggers are essentially shell provisioners, not ruby code. I'm going to reopen this as an enhancement request to support ruby code for an upcoming release. Thanks!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/389991669/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1632840016,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTYzMjg0MDAxNg==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1632840016","actor":{"login":"john2x","id":332885,"node_id":"MDQ6VXNlcjMzMjg4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/332885?v=4","gravatar_id":"","url":"https://api.github.com/users/john2x","html_url":"https://github.com/john2x","followers_url":"https://api.github.com/users/john2x/followers","following_url":"https://api.github.com/users/john2x/following{/other_user}","gists_url":"https://api.github.com/users/john2x/gists{/gist_id}","starred_url":"https://api.github.com/users/john2x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/john2x/subscriptions","organizations_url":"https://api.github.com/users/john2x/orgs","repos_url":"https://api.github.com/users/john2x/repos","events_url":"https://api.github.com/users/john2x/events{/privacy}","received_events_url":"https://api.github.com/users/john2x/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-05-17T20:03:04Z","performed_via_github_app":null},{"id":1632840018,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2MzI4NDAwMTg=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1632840018","actor":{"login":"john2x","id":332885,"node_id":"MDQ6VXNlcjMzMjg4NQ==","avatar_url":"https://avatars.githubusercontent.com/u/332885?v=4","gravatar_id":"","url":"https://api.github.com/users/john2x","html_url":"https://github.com/john2x","followers_url":"https://api.github.com/users/john2x/followers","following_url":"https://api.github.com/users/john2x/following{/other_user}","gists_url":"https://api.github.com/users/john2x/gists{/gist_id}","starred_url":"https://api.github.com/users/john2x/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/john2x/subscriptions","organizations_url":"https://api.github.com/users/john2x/orgs","repos_url":"https://api.github.com/users/john2x/repos","events_url":"https://api.github.com/users/john2x/events{/privacy}","received_events_url":"https://api.github.com/users/john2x/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-05-17T20:03:04Z","performed_via_github_app":null},{"id":1632840023,"node_id":"MDEzOlJlb3BlbmVkRXZlbnQxNjMyODQwMDIz","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1632840023","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2018-05-17T20:03:04Z","state_reason":null,"performed_via_github_app":null},{"id":1632840257,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2MzI4NDAyNTc=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1632840257","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-05-17T20:03:11Z","label":{"name":"enhancement","color":"207de5"},"performed_via_github_app":null},{"id":1632840260,"node_id":"MDEyOkxhYmVsZWRFdmVudDE2MzI4NDAyNjA=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1632840260","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2018-05-17T20:03:11Z","label":{"name":"triggers","color":"2bdbc0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/389992034","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-389992034","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":389992034,"node_id":"MDEyOklzc3VlQ29tbWVudDM4OTk5MjAzNA==","user":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-17T20:04:10Z","updated_at":"2018-05-17T20:04:10Z","body":"Also I'm going to rename the issue to reflect the enhancement request. Thanks!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/389992034/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1632843239,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MTYzMjg0MzIzOQ==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1632843239","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2018-05-17T20:04:40Z","rename":{"from":"Triggers whitelist not respected?","to":"Support ruby code for trigger execution"},"performed_via_github_app":null},{"actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-05-25T16:07:18Z","updated_at":"2018-05-25T16:07:18Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/9868","repository_url":"https://api.github.com/repos/hashicorp/vagrant","labels_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9868/labels{/name}","comments_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9868/comments","events_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9868/events","html_url":"https://github.com/hashicorp/vagrant/issues/9868","id":326331417,"node_id":"MDU6SXNzdWUzMjYzMzE0MTc=","number":9868,"title":"\"vagrant ssh\" causes \":up\" trigger to run","user":{"login":"craigglennie","id":149281,"node_id":"MDQ6VXNlcjE0OTI4MQ==","avatar_url":"https://avatars.githubusercontent.com/u/149281?v=4","gravatar_id":"","url":"https://api.github.com/users/craigglennie","html_url":"https://github.com/craigglennie","followers_url":"https://api.github.com/users/craigglennie/followers","following_url":"https://api.github.com/users/craigglennie/following{/other_user}","gists_url":"https://api.github.com/users/craigglennie/gists{/gist_id}","starred_url":"https://api.github.com/users/craigglennie/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/craigglennie/subscriptions","organizations_url":"https://api.github.com/users/craigglennie/orgs","repos_url":"https://api.github.com/users/craigglennie/repos","events_url":"https://api.github.com/users/craigglennie/events{/privacy}","received_events_url":"https://api.github.com/users/craigglennie/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-05-24T23:27:22Z","updated_at":"2020-03-30T01:56:37Z","closed_at":"2018-05-25T16:07:18Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":481872,"node_id":"MDEwOlJlcG9zaXRvcnk0ODE4NzI=","name":"vagrant","full_name":"hashicorp/vagrant","private":false,"owner":{"login":"hashicorp","id":761456,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MTQ1Ng==","avatar_url":"https://avatars.githubusercontent.com/u/761456?v=4","gravatar_id":"","url":"https://api.github.com/users/hashicorp","html_url":"https://github.com/hashicorp","followers_url":"https://api.github.com/users/hashicorp/followers","following_url":"https://api.github.com/users/hashicorp/following{/other_user}","gists_url":"https://api.github.com/users/hashicorp/gists{/gist_id}","starred_url":"https://api.github.com/users/hashicorp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/hashicorp/subscriptions","organizations_url":"https://api.github.com/users/hashicorp/orgs","repos_url":"https://api.github.com/users/hashicorp/repos","events_url":"https://api.github.com/users/hashicorp/events{/privacy}","received_events_url":"https://api.github.com/users/hashicorp/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/hashicorp/vagrant","description":"Vagrant is a tool for building and distributing development environments.","fork":false,"url":"https://api.github.com/repos/hashicorp/vagrant","forks_url":"https://api.github.com/repos/hashicorp/vagrant/forks","keys_url":"https://api.github.com/repos/hashicorp/vagrant/keys{/key_id}","collaborators_url":"https://api.github.com/repos/hashicorp/vagrant/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/hashicorp/vagrant/teams","hooks_url":"https://api.github.com/repos/hashicorp/vagrant/hooks","issue_events_url":"https://api.github.com/repos/hashicorp/vagrant/issues/events{/number}","events_url":"https://api.github.com/repos/hashicorp/vagrant/events","assignees_url":"https://api.github.com/repos/hashicorp/vagrant/assignees{/user}","branches_url":"https://api.github.com/repos/hashicorp/vagrant/branches{/branch}","tags_url":"https://api.github.com/repos/hashicorp/vagrant/tags","blobs_url":"https://api.github.com/repos/hashicorp/vagrant/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/hashicorp/vagrant/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/hashicorp/vagrant/git/refs{/sha}","trees_url":"https://api.github.com/repos/hashicorp/vagrant/git/trees{/sha}","statuses_url":"https://api.github.com/repos/hashicorp/vagrant/statuses/{sha}","languages_url":"https://api.github.com/repos/hashicorp/vagrant/languages","stargazers_url":"https://api.github.com/repos/hashicorp/vagrant/stargazers","contributors_url":"https://api.github.com/repos/hashicorp/vagrant/contributors","subscribers_url":"https://api.github.com/repos/hashicorp/vagrant/subscribers","subscription_url":"https://api.github.com/repos/hashicorp/vagrant/subscription","commits_url":"https://api.github.com/repos/hashicorp/vagrant/commits{/sha}","git_commits_url":"https://api.github.com/repos/hashicorp/vagrant/git/commits{/sha}","comments_url":"https://api.github.com/repos/hashicorp/vagrant/comments{/number}","issue_comment_url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments{/number}","contents_url":"https://api.github.com/repos/hashicorp/vagrant/contents/{+path}","compare_url":"https://api.github.com/repos/hashicorp/vagrant/compare/{base}...{head}","merges_url":"https://api.github.com/repos/hashicorp/vagrant/merges","archive_url":"https://api.github.com/repos/hashicorp/vagrant/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/hashicorp/vagrant/downloads","issues_url":"https://api.github.com/repos/hashicorp/vagrant/issues{/number}","pulls_url":"https://api.github.com/repos/hashicorp/vagrant/pulls{/number}","milestones_url":"https://api.github.com/repos/hashicorp/vagrant/milestones{/number}","notifications_url":"https://api.github.com/repos/hashicorp/vagrant/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/hashicorp/vagrant/labels{/name}","releases_url":"https://api.github.com/repos/hashicorp/vagrant/releases{/id}","deployments_url":"https://api.github.com/repos/hashicorp/vagrant/deployments","created_at":"2010-01-21T08:34:27Z","updated_at":"2025-11-10T14:18:33Z","pushed_at":"2025-11-03T07:39:21Z","git_url":"git://github.com/hashicorp/vagrant.git","ssh_url":"git@github.com:hashicorp/vagrant.git","clone_url":"https://github.com/hashicorp/vagrant.git","svn_url":"https://github.com/hashicorp/vagrant","homepage":"https://www.vagrantup.com","size":82119,"stargazers_count":27088,"watchers_count":27088,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4451,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":726,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["automation","ruby","vagrant","virtualization"],"visibility":"public","forks":4451,"open_issues":726,"watchers":27088,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Vagrant version\r\nVagrant 2.1.1\r\n\r\n### Host operating system\r\nmacOS 10.13.4\r\n\r\n### Guest operating system\r\nUbuntu 16.04\r\n\r\n### Vagrantfile\r\n```ruby\r\n# -*- mode: ruby -*-\r\n# vi: set ft=ruby :\r\n\r\nVagrant.configure(\"2\") do |config|\r\n  config.trigger.before :up do\r\n    system(\"date >> trigger_times.txt\")\r\n  end\r\n  config.vm.box = \"bento/ubuntu-16.04\"\r\nend\r\n```\r\n\r\n### Expected behavior\r\nTrigger should only run when `vagrant up` is executed. That's how the old trigger plugin worked.\r\n\r\n### Actual behavior\r\nRunning `vagrant ssh` also runs the trigger\r\n\r\n### Steps to reproduce\r\n1. Run `vagrant up`, see that timestamp has been appended to `trigger_times.txt`\r\n2. In a shell, `tail -f trigger_times.txt`\r\n3. Run `vagrant ssh`, see that another timestamp has been added to `trigger_times`.txt\r\n","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/9868/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9868/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/394835636","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-394835636","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":394835636,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDgzNTYzNg==","user":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T19:42:59Z","updated_at":"2018-06-05T19:42:59Z","body":"I'm also really missing executing code from a trigger (like the good https://github.com/emyl/vagrant-triggers plugin). Is there any hope on having this in vagrant core?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/394835636/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/394849727","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-394849727","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":394849727,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDg0OTcyNw==","user":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T20:31:05Z","updated_at":"2018-06-05T20:31:05Z","body":"For now @rgl you can execute a ruby script (or any other executable) with core triggers options `run` or `run_remote` to execute code. This issue is on the roadmap for looking to support inline ruby like the community plugin. Thanks!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/394849727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1664661224,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY2NDY2MTIyNA==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1664661224","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-05T20:31:05Z","performed_via_github_app":null},{"id":1664661226,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NjQ2NjEyMjY=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1664661226","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-05T20:31:05Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/394862287","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-394862287","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":394862287,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NDg2MjI4Nw==","user":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-05T21:13:15Z","updated_at":"2018-06-05T21:13:15Z","body":"I'm missing something, as I cannot seem to find a way to get the vm id from within the run script (I need the id in order to modify the guest vm). Do you known how?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/394862287/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/395114009","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-395114009","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":395114009,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTExNDAwOQ==","user":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-06T15:37:48Z","updated_at":"2018-06-06T15:37:48Z","body":"@rgl - are you trying to get the vm ID like from `vagrant global-status`?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/395114009/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1666468355,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY2NjQ2ODM1NQ==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1666468355","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-06T15:37:48Z","performed_via_github_app":null},{"id":1666468356,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NjY0NjgzNTY=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1666468356","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-06T15:37:48Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/395147980","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-395147980","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":395147980,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTE0Nzk4MA==","user":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-06T17:22:34Z","updated_at":"2018-06-06T17:22:34Z","body":"As in https://github.com/rgl/visual-studio-community-vagrant/blob/master/Vagrantfile#L29-L48","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/395147980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/395507014","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-395507014","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":395507014,"node_id":"MDEyOklzc3VlQ29tbWVudDM5NTUwNzAxNA==","user":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-07T17:46:37Z","updated_at":"2018-06-07T17:46:37Z","body":"@rgl - You should be able to embed ruby values into inline scripts like this:\r\n\r\n```ruby\r\nconfig.trigger.before :up do |trigger|\r\n  trigger.run = {inline: \"echo 'hello this is the id: #{@machine.id}'\"}\r\nend\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/395507014/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1669183754,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY2OTE4Mzc1NA==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1669183754","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-07T17:46:37Z","performed_via_github_app":null},{"id":1669183755,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2NjkxODM3NTU=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1669183755","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-07T17:46:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/398742495","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-398742495","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":398742495,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODc0MjQ5NQ==","user":{"login":"Alan01252","id":112859,"node_id":"MDQ6VXNlcjExMjg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/112859?v=4","gravatar_id":"","url":"https://api.github.com/users/Alan01252","html_url":"https://github.com/Alan01252","followers_url":"https://api.github.com/users/Alan01252/followers","following_url":"https://api.github.com/users/Alan01252/following{/other_user}","gists_url":"https://api.github.com/users/Alan01252/gists{/gist_id}","starred_url":"https://api.github.com/users/Alan01252/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alan01252/subscriptions","organizations_url":"https://api.github.com/users/Alan01252/orgs","repos_url":"https://api.github.com/users/Alan01252/repos","events_url":"https://api.github.com/users/Alan01252/events{/privacy}","received_events_url":"https://api.github.com/users/Alan01252/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T13:09:25Z","updated_at":"2018-06-20T13:09:25Z","body":"@briancain whenever I run this I get no such method machine.id? Am I doing something horribly wrong?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/398742495/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Alan01252","id":112859,"node_id":"MDQ6VXNlcjExMjg1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/112859?v=4","gravatar_id":"","url":"https://api.github.com/users/Alan01252","html_url":"https://github.com/Alan01252","followers_url":"https://api.github.com/users/Alan01252/followers","following_url":"https://api.github.com/users/Alan01252/following{/other_user}","gists_url":"https://api.github.com/users/Alan01252/gists{/gist_id}","starred_url":"https://api.github.com/users/Alan01252/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Alan01252/subscriptions","organizations_url":"https://api.github.com/users/Alan01252/orgs","repos_url":"https://api.github.com/users/Alan01252/repos","events_url":"https://api.github.com/users/Alan01252/events{/privacy}","received_events_url":"https://api.github.com/users/Alan01252/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1691085048,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTY5MTA4NTA0OA==","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1691085048","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-06-20T13:09:25Z","performed_via_github_app":null},{"id":1691085050,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE2OTEwODUwNTA=","url":"https://api.github.com/repos/hashicorp/vagrant/issues/events/1691085050","actor":{"login":"briancain","id":810277,"node_id":"MDQ6VXNlcjgxMDI3Nw==","avatar_url":"https://avatars.githubusercontent.com/u/810277?v=4","gravatar_id":"","url":"https://api.github.com/users/briancain","html_url":"https://github.com/briancain","followers_url":"https://api.github.com/users/briancain/followers","following_url":"https://api.github.com/users/briancain/following{/other_user}","gists_url":"https://api.github.com/users/briancain/gists{/gist_id}","starred_url":"https://api.github.com/users/briancain/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/briancain/subscriptions","organizations_url":"https://api.github.com/users/briancain/orgs","repos_url":"https://api.github.com/users/briancain/repos","events_url":"https://api.github.com/users/briancain/events{/privacy}","received_events_url":"https://api.github.com/users/briancain/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-06-20T13:09:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/398793345","html_url":"https://github.com/hashicorp/vagrant/issues/9840#issuecomment-398793345","issue_url":"https://api.github.com/repos/hashicorp/vagrant/issues/9840","id":398793345,"node_id":"MDEyOklzc3VlQ29tbWVudDM5ODc5MzM0NQ==","user":{"login":"ArloL","id":195367,"node_id":"MDQ6VXNlcjE5NTM2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/195367?v=4","gravatar_id":"","url":"https://api.github.com/users/ArloL","html_url":"https://github.com/ArloL","followers_url":"https://api.github.com/users/ArloL/followers","following_url":"https://api.github.com/users/ArloL/following{/other_user}","gists_url":"https://api.github.com/users/ArloL/gists{/gist_id}","starred_url":"https://api.github.com/users/ArloL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArloL/subscriptions","organizations_url":"https://api.github.com/users/ArloL/orgs","repos_url":"https://api.github.com/users/ArloL/repos","events_url":"https://api.github.com/users/ArloL/events{/privacy}","received_events_url":"https://api.github.com/users/ArloL/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-06-20T15:29:32Z","updated_at":"2018-06-20T15:36:57Z","body":"Including\r\n\r\n````\r\nconfig.trigger.after :provision do |trigger|\r\n  trigger.run = {inline: \"echo 'hello this is the id: #{@machine.id}'\"}\r\nend\r\n````\r\n\r\nresults in\r\n\r\n````\r\n$ vagrant provision server1\r\nThere was an error loading a Vagrantfile. The file being loaded\r\nand the error message are shown below. This is usually caused by\r\nan invalid or undefined variable.\r\n\r\nPath: C\r\nLine number: 22\r\nMessage: undefined method `id'\r\n````\r\n\r\nIs there any workaround?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/comments/398793345/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ArloL","id":195367,"node_id":"MDQ6VXNlcjE5NTM2Nw==","avatar_url":"https://avatars.githubusercontent.com/u/195367?v=4","gravatar_id":"","url":"https://api.github.com/users/ArloL","html_url":"https://github.com/ArloL","followers_url":"https://api.github.com/users/ArloL/followers","following_url":"https://api.github.com/users/ArloL/following{/other_user}","gists_url":"https://api.github.com/users/ArloL/gists{/gist_id}","starred_url":"https://api.github.com/users/ArloL/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ArloL/subscriptions","organizations_url":"https://api.github.com/users/ArloL/orgs","repos_url":"https://api.github.com/users/ArloL/repos","events_url":"https://api.github.com/users/ArloL/events{/privacy}","received_events_url":"https://api.github.com/users/ArloL/received_events","type":"User","user_view_type":"public","site_admin":false}}]