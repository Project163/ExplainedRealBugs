{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/8423","repository_url":"https://api.github.com/repos/hashicorp/vagrant","labels_url":"https://api.github.com/repos/hashicorp/vagrant/issues/8423/labels{/name}","comments_url":"https://api.github.com/repos/hashicorp/vagrant/issues/8423/comments","events_url":"https://api.github.com/repos/hashicorp/vagrant/issues/8423/events","html_url":"https://github.com/hashicorp/vagrant/issues/8423","id":217725871,"node_id":"MDU6SXNzdWUyMTc3MjU4NzE=","number":8423,"title":"Vagrant + Docker + host_machine_port_checker.rb port_check ","user":{"login":"lookfwd","id":789359,"node_id":"MDQ6VXNlcjc4OTM1OQ==","avatar_url":"https://avatars.githubusercontent.com/u/789359?v=4","gravatar_id":"","url":"https://api.github.com/users/lookfwd","html_url":"https://github.com/lookfwd","followers_url":"https://api.github.com/users/lookfwd/followers","following_url":"https://api.github.com/users/lookfwd/following{/other_user}","gists_url":"https://api.github.com/users/lookfwd/gists{/gist_id}","starred_url":"https://api.github.com/users/lookfwd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lookfwd/subscriptions","organizations_url":"https://api.github.com/users/lookfwd/orgs","repos_url":"https://api.github.com/users/lookfwd/repos","events_url":"https://api.github.com/users/lookfwd/events{/privacy}","received_events_url":"https://api.github.com/users/lookfwd/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":25816,"node_id":"MDU6TGFiZWwyNTgxNg==","url":"https://api.github.com/repos/hashicorp/vagrant/labels/bug","name":"bug","color":"e11d21","default":true,"description":null},{"id":139179672,"node_id":"MDU6TGFiZWwxMzkxNzk2NzI=","url":"https://api.github.com/repos/hashicorp/vagrant/labels/core","name":"core","color":"eb6420","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/hashicorp/vagrant/milestones/26","html_url":"https://github.com/hashicorp/vagrant/milestone/26","labels_url":"https://api.github.com/repos/hashicorp/vagrant/milestones/26/labels","id":2177622,"node_id":"MDk6TWlsZXN0b25lMjE3NzYyMg==","number":26,"title":"1.9.4","description":"","creator":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":29,"state":"closed","created_at":"2016-12-06T00:32:03Z","updated_at":"2017-04-24T21:35:34Z","due_on":null,"closed_at":"2017-04-24T21:35:34Z"},"comments":6,"created_at":"2017-03-28T23:51:08Z","updated_at":"2020-04-02T02:04:11Z","closed_at":"2017-04-20T23:05:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hello, On a customer's PC i.e. I can't fully reproduce. I think this might have to do with Merge pull request #7035 ( @chrisroberts )\r\n\r\nvagrant version: Vagrant 1.9.3\r\nI am using ubuntu 16.04.\r\nI am using ubuntu 14.04.\r\n\r\n```\r\n==> web: Warning: When using a remote Docker host, forwarded ports will NOT be\r\n==> web: immediately available on your machine. They will still be forwarded on\r\n==> web: the remote machine, however, so if you have a way to access the remote\r\n==> web: machine, then you should be able to access those ports there. This is\r\n==> web: not an error, it is only an informational message.\r\n/opt/vagrant/embedded/gems/gems/vagrant-1.9.3/plugins/providers/docker/action/host_machine_port_checker.rb:24:in `port_check': wrong number of arguments (2 for 1) (ArgumentError)\r\n\tfrom /opt/vagrant/embedded/gems/gems/vagrant-1.9.3/lib/vagrant/action/builtin/handle_forwarded_port_collisions.rb:121:in `[]'\r\n\tfrom /opt/vagrant/embedded/gems/gems/vagrant-1.9.3/lib/vagrant/action/builtin/handle_forwarded_port_collisions.rb:121:in `block in handle'\r\n\tfrom /opt/vagrant/embedded/gems/gems/vagrant-1.9.3/lib/vagrant/action/builtin/handle_forwarded_port_collisions.rb:257:in `block in with_forwarded_ports'\r\n\tfrom /opt/vagrant/embedded/gems/gems/vagrant-1.9.3/lib/vagrant/action/builtin/handle_forwarded_port_collisions.rb:253:in `each'\r\n```\r\n\r\nI \"fixed\" it by patching [`host_machine_port_checker.rb`](https://github.com/mitchellh/vagrant/blob/master/plugins/providers/docker/action/host_machine_port_checker.rb) and adding an extra argument I discard in `port_check`:\r\n\r\n```\r\ndef port_check(discard_this, port)\r\n  host_machine = @machine.provider.host_vm\r\n  host_machine.guest.capability(:port_open_check, port)\r\nend\r\n```","closed_by":{"login":"chrisroberts","id":266674,"node_id":"MDQ6VXNlcjI2NjY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/266674?v=4","gravatar_id":"","url":"https://api.github.com/users/chrisroberts","html_url":"https://github.com/chrisroberts","followers_url":"https://api.github.com/users/chrisroberts/followers","following_url":"https://api.github.com/users/chrisroberts/following{/other_user}","gists_url":"https://api.github.com/users/chrisroberts/gists{/gist_id}","starred_url":"https://api.github.com/users/chrisroberts/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/chrisroberts/subscriptions","organizations_url":"https://api.github.com/users/chrisroberts/orgs","repos_url":"https://api.github.com/users/chrisroberts/repos","events_url":"https://api.github.com/users/chrisroberts/events{/privacy}","received_events_url":"https://api.github.com/users/chrisroberts/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/8423/reactions","total_count":10,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hashicorp/vagrant/issues/8423/timeline","performed_via_github_app":null,"state_reason":"completed"}