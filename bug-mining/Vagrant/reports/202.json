{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/7245","repository_url":"https://api.github.com/repos/hashicorp/vagrant","labels_url":"https://api.github.com/repos/hashicorp/vagrant/issues/7245/labels{/name}","comments_url":"https://api.github.com/repos/hashicorp/vagrant/issues/7245/comments","events_url":"https://api.github.com/repos/hashicorp/vagrant/issues/7245/events","html_url":"https://github.com/hashicorp/vagrant/issues/7245","id":149769199,"node_id":"MDU6SXNzdWUxNDk3NjkxOTk=","number":7245,"title":"vagrant destroy docker error because it cannot delete image","user":{"login":"iondulgheru","id":2692848,"node_id":"MDQ6VXNlcjI2OTI4NDg=","avatar_url":"https://avatars.githubusercontent.com/u/2692848?v=4","gravatar_id":"","url":"https://api.github.com/users/iondulgheru","html_url":"https://github.com/iondulgheru","followers_url":"https://api.github.com/users/iondulgheru/followers","following_url":"https://api.github.com/users/iondulgheru/following{/other_user}","gists_url":"https://api.github.com/users/iondulgheru/gists{/gist_id}","starred_url":"https://api.github.com/users/iondulgheru/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/iondulgheru/subscriptions","organizations_url":"https://api.github.com/users/iondulgheru/orgs","repos_url":"https://api.github.com/users/iondulgheru/repos","events_url":"https://api.github.com/users/iondulgheru/events{/privacy}","received_events_url":"https://api.github.com/users/iondulgheru/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":25816,"node_id":"MDU6TGFiZWwyNTgxNg==","url":"https://api.github.com/repos/hashicorp/vagrant/labels/bug","name":"bug","color":"e11d21","default":true,"description":null},{"id":139181043,"node_id":"MDU6TGFiZWwxMzkxODEwNDM=","url":"https://api.github.com/repos/hashicorp/vagrant/labels/provider/docker","name":"provider/docker","color":"bfe5bf","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/hashicorp/vagrant/milestones/35","html_url":"https://github.com/hashicorp/vagrant/milestone/35","labels_url":"https://api.github.com/repos/hashicorp/vagrant/milestones/35/labels","id":3326171,"node_id":"MDk6TWlsZXN0b25lMzMyNjE3MQ==","number":35,"title":"2.2","description":"","creator":{"login":"gildegoma","id":434654,"node_id":"MDQ6VXNlcjQzNDY1NA==","avatar_url":"https://avatars.githubusercontent.com/u/434654?v=4","gravatar_id":"","url":"https://api.github.com/users/gildegoma","html_url":"https://github.com/gildegoma","followers_url":"https://api.github.com/users/gildegoma/followers","following_url":"https://api.github.com/users/gildegoma/following{/other_user}","gists_url":"https://api.github.com/users/gildegoma/gists{/gist_id}","starred_url":"https://api.github.com/users/gildegoma/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gildegoma/subscriptions","organizations_url":"https://api.github.com/users/gildegoma/orgs","repos_url":"https://api.github.com/users/gildegoma/repos","events_url":"https://api.github.com/users/gildegoma/events{/privacy}","received_events_url":"https://api.github.com/users/gildegoma/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":61,"closed_issues":58,"state":"closed","created_at":"2018-05-07T16:19:16Z","updated_at":"2023-12-12T11:43:26Z","due_on":null,"closed_at":"2022-08-22T14:35:13Z"},"comments":5,"created_at":"2016-04-20T13:34:57Z","updated_at":"2020-04-24T01:50:20Z","closed_at":"2020-03-24T14:22:37Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Vagrant version\n\n[root@centos-play ~]# vagrant -v\nVagrant 1.8.1\n### Host operating system\n\n[root@centos-play ~]# cat /etc/redhat-release\nCentOS Linux release 7.2.1511 (Core)\n### Debug output\n\n[root@centos-play icinga_monitoring]# vagrant destroy piper\n    piper: Are you sure you want to destroy the 'piper' VM? [y/N] y\n==> piper: Stopping container...\n==> piper: Deleting the container...\n==> piper: Removing built image...\nA Docker command executed by Vagrant didn't complete successfully!\nThe command run along with the output from the command is shown\nbelow.\n\nCommand: [\"docker\", \"rmi\", \"55a589d98865\", {:notify=>[:stdout, :stderr]}]\n\nStderr: Failed to remove image (55a589d98865): Error response from daemon: conflict: unable to delete 55a589d98865 (cannot be forced) - image is being used by running container 9e12171e549d\n\nStdout:\n### Expected behavior\n\nDelete the machine without error.\nIf the image is used by another container return success if the current container was deleted, and throw an warning about not being able to also delete the image . The image will be deleted anyway when you delete the last container that uses this image.\n### Actual behavior\n\nAn error is thrown about not being able to delete the image. This is misleading for less experienced users\n","closed_by":{"login":"soapy1","id":976973,"node_id":"MDQ6VXNlcjk3Njk3Mw==","avatar_url":"https://avatars.githubusercontent.com/u/976973?v=4","gravatar_id":"","url":"https://api.github.com/users/soapy1","html_url":"https://github.com/soapy1","followers_url":"https://api.github.com/users/soapy1/followers","following_url":"https://api.github.com/users/soapy1/following{/other_user}","gists_url":"https://api.github.com/users/soapy1/gists{/gist_id}","starred_url":"https://api.github.com/users/soapy1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/soapy1/subscriptions","organizations_url":"https://api.github.com/users/soapy1/orgs","repos_url":"https://api.github.com/users/soapy1/repos","events_url":"https://api.github.com/users/soapy1/events{/privacy}","received_events_url":"https://api.github.com/users/soapy1/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/hashicorp/vagrant/issues/7245/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/hashicorp/vagrant/issues/7245/timeline","performed_via_github_app":null,"state_reason":"completed"}