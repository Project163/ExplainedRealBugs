<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:00:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-1990] Broken .jpg inline image from .pdf files</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1990</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;I am using tika-server-1.13.jar . I run it like this &quot;java -jar tika-server-1.13.jar --host=localhost --port=9998&quot; . To be able to extract inline images from pdf files I changed &quot;org/apache/tika/parser/pdf/PDFParser.properties&quot; inside a jar. Set &quot;extractInlineImages&quot; to &quot;true&quot;. Everything works perfectly except one thing: images from .pdf files that have .jpg extension are extracted broken. Images with .jpeg, .png extension are extracted fine. .jpg from .doc, .docx and .rtf are extracted fine. Problem seems to appear only with .pdf with .jpg images.&lt;/p&gt;

&lt;p&gt;There is an example of pdf document in attachment . To extract images I do &quot;curl -T cv.pdf -H &quot;Accept: application/zip&quot; &lt;a href=&quot;http://localhost:9998/unpack&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9998/unpack&lt;/a&gt; &amp;gt; cv.zip&quot; . Inside cv.zip there is broken image0.jpg .&lt;/p&gt;

&lt;p&gt;At the same time if I use pdfbox-app-2.0.1.jar and run &quot;java -jar pdfbox-app-2.0.1.jar ExtractImages cv.pdf&quot; I get correct image cv-1.jpg&lt;/p&gt;

&lt;p&gt;Why does it work like this?&lt;/p&gt;</description>
                <environment></environment>
        <key id="12973670">TIKA-1990</key>
            <summary>Broken .jpg inline image from .pdf files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison">Tim Allison</assignee>
                                    <reporter username="alexkuk">Kukushkin Alexander</reporter>
                        <labels>
                    </labels>
                <created>Sat, 28 May 2016 11:57:00 +0000</created>
                <updated>Mon, 12 Apr 2021 12:59:56 +0000</updated>
                            <resolved>Tue, 31 May 2016 14:08:23 +0000</resolved>
                                                    <fixVersion>1.14</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15305682" author="tallison@mitre.org" created="Sat, 28 May 2016 23:11:08 +0000"  >&lt;p&gt;Will take a look on Tuesday. Thank you for opening this issue and attaching an example file.&lt;/p&gt;</comment>
                            <comment id="15307771" author="tallison@mitre.org" created="Tue, 31 May 2016 14:08:23 +0000"  >&lt;p&gt;Needed to add JPEG filters when reading stream.  Thank you, again, for opening this issue.&lt;/p&gt;</comment>
                            <comment id="15307782" author="hudson" created="Tue, 31 May 2016 14:16:23 +0000"  >&lt;p&gt;FAILURE: Integrated in tika-2.x-windows #9 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x-windows/9/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x-windows/9/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1990&quot; title=&quot;Broken .jpg inline image from .pdf files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1990&quot;&gt;&lt;del&gt;TIKA-1990&lt;/del&gt;&lt;/a&gt; &amp;#8211; need to add JPEG filters to embedded stream when handling (tallison: rev e05dd5bf4145c0e8bbfd585d05a8a4c26d83e2ce)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tika-app/src/test/java/org/apache/tika/parser/AutoDetectParserTest.java&lt;/li&gt;
	&lt;li&gt;tika-parser-modules/tika-parser-pdf-module/src/main/java/org/apache/tika/parser/pdf/PDF2XHTML.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15307829" author="hudson" created="Tue, 31 May 2016 14:44:05 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-2.x #105 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x/105/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x/105/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1990&quot; title=&quot;Broken .jpg inline image from .pdf files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1990&quot;&gt;&lt;del&gt;TIKA-1990&lt;/del&gt;&lt;/a&gt; &amp;#8211; need to add JPEG filters to embedded stream when handling (tallison: rev e05dd5bf4145c0e8bbfd585d05a8a4c26d83e2ce)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tika-app/src/test/java/org/apache/tika/parser/AutoDetectParserTest.java&lt;/li&gt;
	&lt;li&gt;tika-parser-modules/tika-parser-pdf-module/src/main/java/org/apache/tika/parser/pdf/PDF2XHTML.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15307858" author="hudson" created="Tue, 31 May 2016 15:00:53 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #1003 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/1003/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/1003/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1990&quot; title=&quot;Broken .jpg inline image from .pdf files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1990&quot;&gt;&lt;del&gt;TIKA-1990&lt;/del&gt;&lt;/a&gt; &amp;#8211; make sure to include JPEG filters when exporting jpegs (tallison: rev 6ad18f44cdfef5e80b343d9c06787b850fcfc9fd)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tika-parsers/src/main/java/org/apache/tika/parser/pdf/PDF2XHTML.java&lt;/li&gt;
	&lt;li&gt;tika-parsers/src/test/java/org/apache/tika/parser/pdf/PDFParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12806813" name="cv-1.jpg" size="15281" author="alexkuk" created="Sat, 28 May 2016 11:58:02 +0000"/>
                            <attachment id="12806814" name="cv.pdf" size="160949" author="alexkuk" created="Sat, 28 May 2016 11:58:02 +0000"/>
                            <attachment id="12806815" name="image0.jpg" size="394632" author="alexkuk" created="Sat, 28 May 2016 11:58:02 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2yn73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>