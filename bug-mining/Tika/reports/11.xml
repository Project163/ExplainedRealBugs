<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:54:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-56] Mime type detection fails with upper case file extensions such as &quot;PDF&quot;.</title>
                <link>https://issues.apache.org/jira/browse/TIKA-56</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Mime type detection only seems to work when the file extension is lower case.  Both PDF and DOC extensions failed.&lt;/p&gt;

&lt;p&gt;To test this, add the following method to TestParsers:&lt;/p&gt;

&lt;p&gt;    public void testGetParsers() throws TikaException, MalformedURLException &lt;/p&gt;
{
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.pdf&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.PDF&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.doc&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.DOC&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.txt&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.TXT&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.html&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.HTML&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.HtMl&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.htm&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.HTM&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.ppt&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.PPT&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.xls&quot;), tc));
        assertNotNull(ParseUtils.getParser(new URL(&quot;file:x.XLS&quot;), tc));
        // more?
    }</description>
                <environment></environment>
        <key id="12380179">TIKA-56</key>
            <summary>Mime type detection fails with upper case file extensions such as &quot;PDF&quot;.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="chrismattmann">Chris A. Mattmann</assignee>
                                    <reporter username="kbennett">Keith Bennett</reporter>
                        <labels>
                    </labels>
                <created>Thu, 11 Oct 2007 17:53:54 +0000</created>
                <updated>Sun, 14 Oct 2007 21:04:25 +0000</updated>
                            <resolved>Sun, 14 Oct 2007 21:04:15 +0000</resolved>
                                    <version>0.1-incubating</version>
                                    <fixVersion>0.1-incubating</fixVersion>
                                    <component>general</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="12534157" author="chrismattmann" created="Thu, 11 Oct 2007 20:58:46 +0000"  >&lt;p&gt;Hi Keith:&lt;/p&gt;

&lt;p&gt;I&apos;m not necessary sure that this is a bug, no? If you&apos;re doing mime detection, with magic turned off, and it has to use the file extension, is it ever the case (no pun intended &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ), where the &quot;case&quot; of the file extension matters? If so, then I would suggest we not change the mime system to be case insensitive.&lt;/p&gt;

&lt;p&gt;Know of any cases where this is true?&lt;/p&gt;</comment>
                            <comment id="12534160" author="kbennett" created="Thu, 11 Oct 2007 21:12:54 +0000"  >&lt;p&gt;Chris -&lt;/p&gt;

&lt;p&gt;I don&apos;t know of any such cases, but then we&apos;ve reached the limits of my knowledge of MIME types. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;However, if we have a utility that determines the MIME type from an extension, my sense is that is reasonable to make the extension comparisons case insensitive.  Especially in the Windows world, there are huge numbers of files out there with upper case extensions.  To me, it makes sense for the default to be to consider &quot;PDF&quot; equal to &quot;pdf&quot;; otherwise, we will get lots of &quot;bugs&quot; reported. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;If there are any obscure cases where case matters, I think it may be reasonable to require the user to use other means of determining the MIME type (have the user determine it himself, or use &quot;magic&quot;?).  &lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Keith&lt;/li&gt;
&lt;/ul&gt;

</comment>
                            <comment id="12534194" author="chrismattmann" created="Fri, 12 Oct 2007 00:35:05 +0000"  >&lt;p&gt;Keith: agreed. If no one else has any objections, I&apos;ll get a patch together that adapts the mime type repository to handle file extensions in a case-insensitive fashion.&lt;/p&gt;</comment>
                            <comment id="12534672" author="jukkaz" created="Sun, 14 Oct 2007 20:15:49 +0000"  >&lt;p&gt;Dropping priority to minor (a client can already work around the issue by explicitly lower-casing the name).&lt;/p&gt;

&lt;p&gt;+1 to fixing this as discussed.&lt;/p&gt;

&lt;p&gt;I guess the simplest fix is to use name.toLowerCase() in MimeTypes.getMimeType(String name).&lt;/p&gt;</comment>
                            <comment id="12534673" author="chrismattmann" created="Sun, 14 Oct 2007 20:38:56 +0000"  >&lt;p&gt;+1 to using name.toLowerCase() Jukka. I&apos;ll commit a fix for this shortly.&lt;/p&gt;</comment>
                            <comment id="12534677" author="chrismattmann" created="Sun, 14 Oct 2007 21:04:15 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fix implemented as suggested by Jukka (use of .toLowerCase in getMimeType(String filename)&lt;/li&gt;
	&lt;li&gt;added unit test to test different cases of &quot;.pdf&quot; for regression purposes&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12534678" author="chrismattmann" created="Sun, 14 Oct 2007 21:04:25 +0000"  >&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;fixed in r584602.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4806</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 6 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i03blz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>17314</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>