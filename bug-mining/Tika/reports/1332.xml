<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:04:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-4022] Tika not parsing AVI files</title>
                <link>https://issues.apache.org/jira/browse/TIKA-4022</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;I have tried a variety of .AVI files and none have been correctly parsed. This is all I get:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Content-Length: 190976&lt;br/&gt;
Content-Type: video/x-msvideo&lt;br/&gt;
X-TIKA:Parsed-By: org.apache.tika.parser.EmptyParser&lt;br/&gt;
X-TIKA:Parsed-By-Full-Set: org.apache.tika.parser.EmptyParser&lt;br/&gt;
X-TIKA:digest:MD5: 057a6067822dabd02d5613bb45296b22&lt;br/&gt;
X-TIKA:digest:SHA256: 8156b8870311a2e1afb1b07417724df0816d6dbf2fa48072896e8db32796b77e&lt;br/&gt;
resourceName: ACADABOUT.AVI&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I have ffmpeg installed:&lt;/p&gt;

&lt;p&gt;ffmpeg -version &lt;br/&gt;
ffmpeg version 4.4.3-0ubuntu1~20.04.sav2 Copyright (c) 2000-2022 the FFmpeg developers &lt;br/&gt;
built with gcc 9 (Ubuntu 9.4.0-1ubuntu1~20.04.1) &lt;br/&gt;
configuration: --prefix=/usr --extra-version=&apos;0ubuntu1~20.04.sav2&apos; --toolchain=hardened --libdir=/usr/lib/x86_64-linux-gnu --incdir=/usr/include/x86_64-linux-gnu --arch=amd64 &lt;br/&gt;
--enable-gpl --disable-stripping --enable-amf --enable-gnutls --enable-ladspa --enable-libaom --enable-libass --enable-libbluray --enable-libbs2b --enable-libcaca --enable-lib&lt;br/&gt;
cdio --enable-libcodec2 --enable-libflite --enable-libfontconfig --enable-libfreetype --enable-libfribidi --enable-libgme --enable-libgsm --enable-libjack --enable-libmp3lame &lt;br/&gt;
--enable-libmysofa --enable-libopenjpeg --enable-libopenmpt --enable-libopus --enable-libpulse --enable-librabbitmq --enable-librubberband --enable-libshine --enable-libsnappy&lt;br/&gt;
--enable-libsoxr --enable-libspeex --enable-libsrt --enable-libssh --enable-libtheora --enable-libtwolame --enable-libvidstab --enable-libvorbis --enable-libvpx --enable-libw&lt;br/&gt;
ebp --enable-libx265 --enable-libxml2 --enable-libxvid --enable-libzmq --enable-libzvbi --enable-lv2 --enable-omx --enable-openal --enable-opencl --enable-opengl --enable-sdl2&lt;br/&gt;
--enable-pocketsphinx --enable-librsvg --enable-libdav1d --enable-librist --enable-libvmaf --enable-libzimg --enable-crystalhd --enable-libmfx --enable-libsvtav1 --enable-lib&lt;br/&gt;
dc1394 --enable-libdrm --enable-libiec61883 --enable-chromaprint --enable-frei0r --enable-libx264 --enable-librav1e --enable-shared &lt;br/&gt;
libavutil &#160;&#160;&#160;&#160;&#160;56. 70.100 / 56. 70.100 &lt;br/&gt;
libavcodec &#160;&#160;&#160;&#160;58.134.100 / 58.134.100 &lt;br/&gt;
libavformat &#160;&#160;&#160;58. 76.100 / 58. 76.100 &lt;br/&gt;
libavdevice &#160;&#160;&#160;58. 13.100 / 58. 13.100 &lt;br/&gt;
libavfilter &#160;&#160;&#160;&#160;7.110.100 / &#160;7.110.100 &lt;br/&gt;
libswscale &#160;&#160;&#160;&#160;&#160;5. &#160;9.100 / &#160;5. &#160;9.100 &lt;br/&gt;
libswresample &#160;&#160;3. &#160;9.100 / &#160;3. &#160;9.100 &lt;br/&gt;
libpostproc &#160;&#160;&#160;55. &#160;9.100 / 55. &#160;9.100&lt;/p&gt;



&lt;p&gt;ffmpeg -i &#160;ACADABOUT.AVI &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;snip&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Input #0, avi, from &apos;ACADABOUT.AVI&apos;: &lt;br/&gt;
&#160;Duration: 00:00:02.03, start: 0.000000, bitrate: 751 kb/s &lt;br/&gt;
&#160;Stream #0:0: Video: indeo3 (IV32 / 0x32335649), yuv410p, 576x104, 749 kb/s, 30 fps, 30 tbr, 30 tbn, 30 tbc &lt;br/&gt;
&#160;&#160;&#160;Metadata: &lt;br/&gt;
&#160;&#160;&#160;&#160;&#160;title &#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;: Video Track&lt;/p&gt;



&lt;p&gt;Any suggestions for further troubleshooting?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13533437">TIKA-4022</key>
            <summary>Tika not parsing AVI files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="greg@rhobard.com">Gregory Lepore</reporter>
                        <labels>
                    </labels>
                <created>Thu, 20 Apr 2023 16:40:06 +0000</created>
                <updated>Wed, 10 May 2023 15:48:36 +0000</updated>
                            <resolved>Wed, 3 May 2023 17:27:24 +0000</resolved>
                                    <version>2.7.0</version>
                                    <fixVersion>2.8.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17714963" author="greg@rhobard.com" created="Fri, 21 Apr 2023 11:54:05 +0000"  >&lt;p&gt;See attachment for difference between Tika 2.7 and 1.28 on parsing the same AVI file.&lt;/p&gt;</comment>
                            <comment id="17717350" author="tallison@mitre.org" created="Thu, 27 Apr 2023 19:08:28 +0000"  >&lt;p&gt;Woah.&#160; This looks bad.&#160; Thank you for identifying this problem!&#160; I&apos;ll take a look early this coming week.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17718262" author="tallison@mitre.org" created="Mon, 1 May 2023 15:40:20 +0000"  >&lt;p&gt;K. The issue is that in Tika 2.x, it looks like we&apos;re loading the ExternalCompositeParser in tika-parsers-standard-package, but then in tika-app, we exclude that jar. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;We have a different method of exclusion in tika-server-standard, which does enable the CompositeExternalParser. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;So, one emergency workaround is to set your tika-config.xml like so:&lt;/p&gt;

&lt;p&gt;&amp;lt;properties&amp;gt;&lt;br/&gt;
&#160; &amp;lt;parsers&amp;gt;&lt;br/&gt;
&#160; &#160; &amp;lt;parser class=&quot;org.apache.tika.parser.DefaultParser&quot;/&amp;gt;&lt;br/&gt;
&#160; &#160; &amp;lt;parser class=&quot;org.apache.tika.parser.external.CompositeExternalParser&quot;/&amp;gt;&lt;br/&gt;
&#160; &amp;lt;/parsers&amp;gt;&lt;br/&gt;
&amp;lt;/properties&amp;gt;&lt;/p&gt;

&lt;p&gt;In Tika 1.x, this parser was made available as a service in the tika-parsers module.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;One solution would be for us to add the CompositeExternalParser as a service in tika-core, which I don&apos;t like.&#160; Or, we could add it to tika-app (again, tika-server has it).&lt;/p&gt;</comment>
                            <comment id="17718263" author="tallison@mitre.org" created="Mon, 1 May 2023 15:42:11 +0000"  >&lt;p&gt;And actually, looking more closely at the output you&apos;re getting in 1x, that info is being extracted by ExifTool, not ffmpeg.&#160; Still, the same mechanism and bug remains in tika-app in 2.x.&lt;/p&gt;</comment>
                            <comment id="17718292" author="greg@rhobard.com" created="Mon, 1 May 2023 17:16:35 +0000"  >&lt;p&gt;Thanks for investigating. A couple questions/comments:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;If I&apos;m using the standalone jar tika-app-2.7.0.jar (or the gui), where does the tika-config.xml file go, if it&apos;s supported?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;For a longer term solution, I would be in favor of whatever approach yielded the most consistent and complete results.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I was under the impression that ffmpeg parsed videos in Tika. Are they actually parsed by exiftool?&#160;&lt;/p&gt;</comment>
                            <comment id="17718934" author="githubbot" created="Wed, 3 May 2023 13:29:58 +0000"  >&lt;p&gt;tballison opened a new pull request, #1107:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/1107&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/1107&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;!--&lt;br/&gt;
     Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
     or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
     distributed with this work for additional information&lt;br/&gt;
     regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
     to you under the Apache License, Version 2.0 (the&lt;br/&gt;
     &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
     with the License.  You may obtain a copy of the License at&lt;/p&gt;

&lt;p&gt;       &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     Unless required by applicable law or agreed to in writing,&lt;br/&gt;
     software distributed under the License is distributed on an&lt;br/&gt;
     &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
     KIND, either express or implied.  See the License for the&lt;br/&gt;
     specific language governing permissions and limitations&lt;br/&gt;
     under the License.&lt;br/&gt;
   --&amp;gt;&lt;/p&gt;

&lt;p&gt;   Thanks for your contribution to &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Tika&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://tika.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tika.apache.org/&lt;/a&gt;)! Your help is appreciated!&lt;/p&gt;

&lt;p&gt;   Before opening the pull request, please verify that&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;there is an open issue on the &lt;span class=&quot;error&quot;&gt;&amp;#91;Tika issue tracker&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/projects/TIKA&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/TIKA&lt;/a&gt;) which describes the problem or the improvement. We cannot accept pull requests without an issue because the change wouldn&apos;t be listed in the release notes.&lt;/li&gt;
	&lt;li&gt;the issue ID (`TIKA-XXXX`)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;is referenced in the title of the pull request&lt;/li&gt;
	&lt;li&gt;and placed in front of your commit messages surrounded by square brackets (`&lt;span class=&quot;error&quot;&gt;&amp;#91;TIKA-XXXX&amp;#93;&lt;/span&gt; Issue or pull request title`)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;commits are squashed into a single one (or few commits for larger changes)&lt;/li&gt;
	&lt;li&gt;Tika is successfully built and unit tests pass by running `mvn clean test`&lt;/li&gt;
	&lt;li&gt;there should be no conflicts when merging the pull request branch into the &lt;b&gt;recent&lt;/b&gt; `main` branch. If there are conflicts, please try to rebase the pull request branch on top of a freshly pulled `main` branch&lt;/li&gt;
	&lt;li&gt;if you add new module that downstream users will depend upon add it to relevant group in `tika-bom/pom.xml`.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   We will be able to faster integrate your pull request if these conditions are met. If you have any questions how to fix your problem or about using Tika in general, please sign up for the &lt;span class=&quot;error&quot;&gt;&amp;#91;Tika mailing list&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://tika.apache.org/mail-lists.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tika.apache.org/mail-lists.html&lt;/a&gt;). Thanks!&lt;/p&gt;


</comment>
                            <comment id="17718982" author="githubbot" created="Wed, 3 May 2023 15:59:16 +0000"  >&lt;p&gt;tballison merged PR #1107:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/1107&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/1107&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17721425" author="hudson" created="Wed, 10 May 2023 15:48:36 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build Tika &#187; tika-main-jdk8 #1079 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/1079/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/1079/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4022&quot; title=&quot;Tika not parsing AVI files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4022&quot;&gt;&lt;del&gt;TIKA-4022&lt;/del&gt;&lt;/a&gt; (#1107) (github: &lt;a href=&quot;https://github.com/apache/tika/commit/17dc9ad12bcb4598e1a0f33d39048847642a057c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/17dc9ad12bcb4598e1a0f33d39048847642a057c&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) tika-app/src/main/resources/META-INF/services/org.apache.tika.parser.Parser&lt;/li&gt;
	&lt;li&gt;(edit) tika-app/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/pom.xml&lt;/li&gt;
	&lt;li&gt;(add) tika-server/tika-server-standard/src/main/resources/META-INF/services/org.apache.tika.parser.Parser&lt;/li&gt;
	&lt;li&gt;(edit) CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="13057477" name="tika-comparison-avi.jpeg" size="541422" author="greg@rhobard.com" created="Fri, 21 Apr 2023 11:52:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1hfbs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>