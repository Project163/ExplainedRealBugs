<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:59:53 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-1757] tika-batch tests fail on systems with whitespace or special chars in folder name</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1757</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;This is one problem that forbiddenapis des not catch, because the method affected has valid use cases: &lt;tt&gt;URL#getFile()&lt;/tt&gt; or &lt;tt&gt;URL#getPath()&lt;/tt&gt; both return the URL path, which should never be treated as a file system path (for file: URLs). This is breaks asap, if the path contains special characters which may not be part of URL. getFile() and getPath() return the encoded path.&lt;/p&gt;

&lt;p&gt;The correct way to transform a file URL to a file is: &lt;tt&gt;new File(url.toURI())&lt;/tt&gt;. See also the list of &quot;bad stuff&quot; as listed by the Maven community for Mojos/Plugins.&lt;/p&gt;

&lt;p&gt;In fact the affected test should not use a file at all. Instead it should use &lt;tt&gt;Class#getResourceAsStream()&lt;/tt&gt;.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12901703">TIKA-1757</key>
            <summary>tika-batch tests fail on systems with whitespace or special chars in folder name</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison">Tim Allison</assignee>
                                    <reporter username="uschindler">Uwe Schindler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Sep 2015 21:14:02 +0000</created>
                <updated>Thu, 1 Oct 2015 00:47:18 +0000</updated>
                            <resolved>Thu, 1 Oct 2015 00:25:51 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="14938893" author="tallison@mitre.org" created="Wed, 30 Sep 2015 21:16:43 +0000"  >&lt;p&gt;Sorry about that.  Will fix shortly.  Thank you!&lt;/p&gt;</comment>
                            <comment id="14938901" author="thetaphi" created="Wed, 30 Sep 2015 21:21:24 +0000"  >&lt;p&gt;Patch for broken test.&lt;/p&gt;</comment>
                            <comment id="14938906" author="thetaphi" created="Wed, 30 Sep 2015 21:23:51 +0000"  >&lt;p&gt;Please wait with committing there are more tests failing with similar problems: Now tika-app, in this case some unneeded quoting.&lt;/p&gt;</comment>
                            <comment id="14938908" author="kunda" created="Wed, 30 Sep 2015 21:25:01 +0000"  >&lt;p&gt;If one needs a java.nio.file.Path, &lt;tt&gt;Paths.get(url.toURI())&lt;/tt&gt; can be used instead.&lt;/p&gt;</comment>
                            <comment id="14938913" author="tallison@mitre.org" created="Wed, 30 Sep 2015 21:28:46 +0000"  >&lt;p&gt;Y, won&apos;t be able to fix for a few hours, but I can replicate the problems and will fix them.&lt;/p&gt;</comment>
                            <comment id="14938914" author="kunda" created="Wed, 30 Sep 2015 21:30:59 +0000"  >&lt;p&gt;Also, regarding the badness of &lt;tt&gt;URL#getFile()&lt;/tt&gt; - on Windows machines it returns a String starting with a slash - e.g. &lt;tt&gt;/C:\File.txt&lt;/tt&gt;.&lt;br/&gt;
This, for some reason, when passed to a &lt;tt&gt;File&lt;/tt&gt; constructor, is handled in a lenient manner, and the preceding slash disappears - unlike &lt;tt&gt;Paths.get(String)&lt;/tt&gt; fails with a &lt;tt&gt;InvalidPathException&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="14938915" author="thetaphi" created="Wed, 30 Sep 2015 21:31:13 +0000"  >&lt;p&gt;The other issue is different, I opened &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1758&quot; title=&quot;BatchCommandLineBuilder fails on systems with whitespace in path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1758&quot;&gt;&lt;del&gt;TIKA-1758&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="14938917" author="thetaphi" created="Wed, 30 Sep 2015 21:33:36 +0000"  >&lt;blockquote&gt;&lt;p&gt;If one needs a java.nio.file.Path, Paths.get(url.toURI()) can be used instead.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;Of course. But in the affected test using a file just to open an InputStream was wrong anyways. So I fixed it by completely removing any File/Path usage.&lt;/p&gt;</comment>
                            <comment id="14939101" author="tallison@mitre.org" created="Thu, 1 Oct 2015 00:25:51 +0000"  >&lt;p&gt;Mea culpa.  Tests pass for me on Windows with space in path and Linux.&lt;/p&gt;

&lt;p&gt;Let me know if there are any other surprises.  Again, my apologies.&lt;/p&gt;

&lt;p&gt;r1706178&lt;/p&gt;</comment>
                            <comment id="14939120" author="hudson" created="Thu, 1 Oct 2015 00:47:18 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #861 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/861/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/861/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1757&quot; title=&quot;tika-batch tests fail on systems with whitespace or special chars in folder name&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1757&quot;&gt;&lt;del&gt;TIKA-1757&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1758&quot; title=&quot;BatchCommandLineBuilder fails on systems with whitespace in path&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1758&quot;&gt;&lt;del&gt;TIKA-1758&lt;/del&gt;&lt;/a&gt;. Mea culpa.  Thank you Uwe Schindler and Yaniv Kinda (tallison: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1706178&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1706178&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk/tika-app/src/test/java/org/apache/tika/cli/TikaCLIBatchCommandLineTest.java&lt;/li&gt;
	&lt;li&gt;trunk/tika-app/src/test/java/org/apache/tika/cli/TikaCLIBatchIntegrationTest.java&lt;/li&gt;
	&lt;li&gt;trunk/tika-batch/src/test/java/org/apache/tika/batch/CommandLineParserBuilderTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12764486" name="TIKA-1757.patch" size="1029" author="uschindler" created="Wed, 30 Sep 2015 21:21:24 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 7 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2mh3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>