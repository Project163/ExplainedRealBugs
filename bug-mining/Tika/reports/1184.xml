<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:03:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-3218] Wrong comment for method sortLoadedClasses in ServiceLoaderUtils</title>
                <link>https://issues.apache.org/jira/browse/TIKA-3218</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Here is method sortLoadedClasses &apos;s comment:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 /**     
   * Sorts a list of loaded classes, so that non-Tika ones come     
   *  before Tika ones, and otherwise in reverse alphabetical order     
   */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;But you will find the method do the opposite thing if you check the code . See&#160;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;Also , If you run this test , you can see the Tika&apos;s class come before non-Tika&apos; class in the sorted list.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
@Test
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void test() {
    List&amp;lt;&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&amp;gt; list = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ArrayList&amp;lt;&amp;gt;();
    list.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;());
    list.add(&lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; TikaException(&lt;span class=&quot;code-quote&quot;&gt;&quot;abcd&quot;&lt;/span&gt;));
    ServiceLoaderUtils.sortLoadedClasses(list);

    assertEquals(list.get(0).getClass().getName(), &lt;span class=&quot;code-quote&quot;&gt;&quot;org.apache.tika.exception.TikaException&quot;&lt;/span&gt;);
    assertEquals(list.get(1).getClass().getName(), &lt;span class=&quot;code-quote&quot;&gt;&quot;java.lang.&lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;&quot;&lt;/span&gt;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I think the code is right and we need to modify the comment.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;https://github.com/apache/tika/blob/6d2312a98cb4d9698c73158c2e28d296756ef959/tika-core/src/main/java/org/apache/tika/utils/ServiceLoaderUtils.java#L30&lt;/p&gt;</description>
                <environment></environment>
        <key id="13338178">TIKA-3218</key>
            <summary>Wrong comment for method sortLoadedClasses in ServiceLoaderUtils</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="peterlee">Peter Lee</reporter>
                        <labels>
                    </labels>
                <created>Sat, 31 Oct 2020 04:04:39 +0000</created>
                <updated>Sat, 5 Dec 2020 02:09:33 +0000</updated>
                            <resolved>Sat, 5 Dec 2020 02:09:33 +0000</resolved>
                                    <version>2.0.0</version>
                                    <fixVersion>2.0.0</fixVersion>
                                    <component>core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17226820" author="gagravarr" created="Thu, 5 Nov 2020 16:47:42 +0000"  >&lt;p&gt;I think the idea of this was so that eg Parsers would have user-provided ones before our own ones, so that user-provided ones would come first and would be able to override built-in Tika ones&lt;/p&gt;</comment>
                            <comment id="17227108" author="peterlee" created="Fri, 6 Nov 2020 01:44:13 +0000"  >&lt;p&gt;&lt;em&gt;so that user-provided ones would come first and would be able to override built-in Tika ones&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;It seems the built-in Tika ones come first - you can check this via my test.&lt;/p&gt;</comment>
                            <comment id="17244169" author="tallison@mitre.org" created="Fri, 4 Dec 2020 17:58:02 +0000"  >&lt;p&gt;Y, this is definitely broken.  Your test is correct.  I&apos;m fixing this now.  Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nick&quot; class=&quot;user-hover&quot; rel=&quot;nick&quot;&gt;nick&lt;/a&gt; and thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=peterlee&quot; class=&quot;user-hover&quot; rel=&quot;peterlee&quot;&gt;peterlee&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17244267" author="hudson" created="Fri, 4 Dec 2020 19:39:41 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika &#187; tika-main-jdk8 #66 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/66/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/66/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3218&quot; title=&quot;Wrong comment for method sortLoadedClasses in ServiceLoaderUtils&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3218&quot;&gt;&lt;del&gt;TIKA-3218&lt;/del&gt;&lt;/a&gt; &amp;#8211; fix service loading sort order, add unit and integration tests. (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/8b82b4c942c82f9cc2eb393e669227606b5f15fc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/8b82b4c942c82f9cc2eb393e669227606b5f15fc&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-apple-module/src/main/java/org/apache/tika/detect/apple/IWorkDetector.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml&lt;/li&gt;
	&lt;li&gt;(add) tika-core/src/test/java/org/apache/custom/detect/MyCustomDetector.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-apple-module/src/main/java/org/apache/tika/detect/apple/BPListDetector.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/detect/DefaultDetector.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-apple-module/src/main/resources/META-INF/services/org.apache.tika.detect.zip.ZipContainerDetector&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-apple-module/src/main/java/org/apache/tika/parser/apple/PListParser.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/utils/CompareUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) README.md&lt;/li&gt;
	&lt;li&gt;(delete) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-apple-module/src/main/java/org/apache/tika/detect/apple/iwork/IWorkDetector.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-apple-module/src/main/resources/META-INF/services/org.apache.tika.detect.Detector&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-classic/tika-parsers-classic-package/src/test/java/org/apache/tika/detect/TestDetectorLoading.java&lt;/li&gt;
	&lt;li&gt;(add) tika-core/src/test/java/org/apache/tika/utils/ServiceLoaderUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/test/java/org/apache/tika/detect/FileCommandDetectorTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-classic/tika-parsers-classic-package/src/test/java/org/apache/tika/utils/ServiceLoaderUtilsTest.java&lt;/li&gt;
	&lt;li&gt;(delete) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-apple-module/src/main/java/org/apache/tika/parser/apple/BPListDetector.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-classic/tika-parsers-classic-package/src/test/java/org/apache/tika/detect/TestContainerAwareDetector.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-pkg-module/src/main/java/org/apache/tika/parser/pkg/PackageParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17244368" author="githubbot" created="Sat, 5 Dec 2020 01:04:47 +0000"  >&lt;p&gt;PeterAlfredLee closed pull request #373:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/373&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/373&lt;/a&gt;&lt;/p&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="17244377" author="peterlee" created="Sat, 5 Dec 2020 02:07:28 +0000"  >&lt;p&gt;Thank you for fix this&#160;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 years, 49 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0k66g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>