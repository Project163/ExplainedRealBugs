<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:00:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-1970] Date not extracted from email saved as plain txt</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1970</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;HI have two email testfiles:&lt;/p&gt;

&lt;p&gt;(1) A file that has been created by using &quot;save as&quot; in Mac Mail (this creates a .txt file)&lt;br/&gt;
(2) A file that has been created by dragging an email from Mac Mail to the Desktop (this creates an .eml file)&lt;/p&gt;

&lt;p&gt;If I feed the files with&lt;/p&gt;

&lt;p&gt;curl -T filename &lt;a href=&quot;http://localhost:9998/detect/stream&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9998/detect/stream&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I get the response &quot;message/rfc822&quot; for both files.&lt;/p&gt;

&lt;p&gt;If I run&lt;/p&gt;

&lt;p&gt;curl -T filename &lt;a href=&quot;http://localhost:9998/meta&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://localhost:9998/meta&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I get the metadata, but in the case of (1) I do not get the DATE extracted, while in case (2) I do.&lt;/p&gt;</description>
                <environment>&lt;p&gt;Debian Linux Jessie&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_91-b14)&lt;br/&gt;
Mac OS X Mail&lt;/p&gt;</environment>
        <key id="12969943">TIKA-1970</key>
            <summary>Date not extracted from email saved as plain txt</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="philipp.steinkrueger@uni-koeln.de">Philipp Steinkrueger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 16 May 2016 08:46:10 +0000</created>
                <updated>Mon, 12 Apr 2021 13:00:52 +0000</updated>
                            <resolved>Tue, 17 May 2016 19:53:17 +0000</resolved>
                                    <version>1.14</version>
                                    <fixVersion>1.14</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>metadata</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15284699" author="tallison@mitre.org" created="Mon, 16 May 2016 15:07:11 +0000"  >&lt;p&gt;This looks to be an area for improvement in the underlying James library.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;            ParsedField parsedField = LenientFieldParser.getParser().parse(
                    field, DecodeMonitor.SILENT);
...
DateTimeField dateField = (DateTimeField) parsedField;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;tt&gt;dateField.getDate()&lt;/tt&gt; is returning &lt;tt&gt;null&lt;/tt&gt;, which suggests that it can&apos;t read a date of format: &lt;tt&gt;16 May 2016 at 09:30:32  GMT+1&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;We&apos;re using the latest version of James, but that dates back to 2012.&lt;/p&gt;

&lt;p&gt;Some options:&lt;br/&gt;
1) fix this in james (unlikely given lack of activity??)&lt;br/&gt;
2) add our own date parser&lt;br/&gt;
3) borrow a date parser from someone else (??)&lt;br/&gt;
4) find another rfc822 parser that is more actively maintained (??)&lt;/p&gt;

&lt;p&gt;See also &lt;a href=&quot;https://xkcd.com/1179/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;xkcd&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15284799" author="gagravarr" created="Mon, 16 May 2016 16:35:42 +0000"  >&lt;p&gt;The James project is still there and still going, though at a slower pace than before. I&apos;d suggest we report the bug to them and see what they say.&lt;/p&gt;</comment>
                            <comment id="15287418" author="tallison@mitre.org" created="Tue, 17 May 2016 19:53:17 +0000"  >&lt;p&gt;Added handling for Mac Mail plain text date format.  Thank you for opening this!&lt;/p&gt;</comment>
                            <comment id="15287560" author="hudson" created="Tue, 17 May 2016 21:09:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #993 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/993/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/993/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1970&quot; title=&quot;Date not extracted from email saved as plain txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1970&quot;&gt;&lt;del&gt;TIKA-1970&lt;/del&gt;&lt;/a&gt; - Mac Mail date of interesting format not parsed by james (tallison: rev 09cc658a30ae194323f1e444be73d396544efc6b)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tika-parsers/src/test/java/org/apache/tika/parser/mail/RFC822ParserTest.java&lt;/li&gt;
	&lt;li&gt;tika-parsers/src/main/java/org/apache/tika/parser/mail/MailContentHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15287578" author="hudson" created="Tue, 17 May 2016 21:14:54 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-2.x #95 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x/95/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x/95/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1970&quot; title=&quot;Date not extracted from email saved as plain txt&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1970&quot;&gt;&lt;del&gt;TIKA-1970&lt;/del&gt;&lt;/a&gt;: add special handling for Mac Mail&apos;s date format (tallison: rev 912798a3f7142983bc44a62c82e19687aa9009a0)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tika-parser-modules/tika-parser-web-module/src/test/java/org/apache/tika/parser/mail/RFC822ParserTest.java&lt;/li&gt;
	&lt;li&gt;tika-parser-modules/tika-parser-web-module/src/main/java/org/apache/tika/parser/mail/MailContentHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15287595" author="gagravarr" created="Tue, 17 May 2016 21:21:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison%40mitre.org&quot; class=&quot;user-hover&quot; rel=&quot;tallison@mitre.org&quot;&gt;tallison@mitre.org&lt;/a&gt; Any chance you could report this upstream too? May be a while for a &quot;proper&quot; fix, but that&apos;d at least let us remove your fix later!&lt;/p&gt;</comment>
                            <comment id="15288812" author="tallison@mitre.org" created="Wed, 18 May 2016 11:19:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/MIME4J-249&quot; title=&quot;Date parser could be more robust&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MIME4J-249&quot;&gt;MIME4J-249&lt;/a&gt;.  Thank you!&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12970719">MIME4J-249</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12804130" name="Testemail-date.eml" size="552" author="philipp.steinkrueger@uni-koeln.de" created="Mon, 16 May 2016 08:46:58 +0000"/>
                            <attachment id="12804129" name="Testemail-nodate.txt" size="195" author="philipp.steinkrueger@uni-koeln.de" created="Mon, 16 May 2016 08:46:58 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2y07z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>