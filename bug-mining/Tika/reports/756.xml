<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:00:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-1821] Problem in Tika().detect for xml file signed in CADES</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1821</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;We have a xml file with base64 attachment signed with CADES signature. &lt;br/&gt;
In this case TIKA recognize the resulted file mime type as &quot;text/plain&quot; and not &quot;application/pkcs7-signature&quot; as we expected.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12924842">TIKA-1821</key>
            <summary>Problem in Tika().detect for xml file signed in CADES</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="tacchan">Alessandro De Angelis</reporter>
                        <labels>
                    </labels>
                <created>Wed, 30 Dec 2015 09:51:46 +0000</created>
                <updated>Mon, 6 Jun 2016 15:07:56 +0000</updated>
                            <resolved>Wed, 3 Feb 2016 14:14:37 +0000</resolved>
                                    <version>1.8</version>
                                    <fixVersion>1.13</fixVersion>
                                    <component>detector</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                                                            <comments>
                            <comment id="15074880" author="tacchan" created="Wed, 30 Dec 2015 09:53:51 +0000"  >&lt;p&gt;Attached to this issue you can find an example&lt;/p&gt;</comment>
                            <comment id="15087613" author="gagravarr" created="Thu, 7 Jan 2016 15:56:48 +0000"  >&lt;p&gt;Hopefully fixed in r1723581 - the length is part of the initial magic (effectively), but we weren&apos;t handling all the combinations, and our unit test only did the shortest possible one&lt;/p&gt;

&lt;p&gt;I&apos;m reluctant to add your test file to SVN, as it&apos;s a little large. Any chance you could create a slightly smaller test file for us to use?&lt;/p&gt;</comment>
                            <comment id="15087680" author="hudson" created="Thu, 7 Jan 2016 16:47:51 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #899 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/899/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/899/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1821&quot; title=&quot;Problem in Tika().detect for xml file signed in CADES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1821&quot;&gt;&lt;del&gt;TIKA-1821&lt;/del&gt;&lt;/a&gt; Support for 1 and 3 byte length PKCS7 DER encoded magic (needs neater way, to follow) (nick: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1723579&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1723579&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15089061" author="tacchan" created="Fri, 8 Jan 2016 11:00:04 +0000"  >&lt;p&gt;I&apos;ve created a smaller file &lt;span class=&quot;error&quot;&gt;&amp;#91;test-tika-error-v2.xml.p7m&amp;#93;&lt;/span&gt; but the detect, in this case, works as expected and return &apos;application/pkcs7-signature&apos;. So I&apos;ve produced other test files until i&apos;ve replicated the error with the &apos;test-tika-error-v4.xml.p7m&apos;. In attachment you&apos;ll find all the test files I&apos;ve created.&lt;/p&gt;</comment>
                            <comment id="15130439" author="gagravarr" created="Wed, 3 Feb 2016 14:14:37 +0000"  >&lt;p&gt;Thanks for these, I&apos;ve used the to add unit tests which verify that we now correctly detect all the files with and without the filename&lt;/p&gt;</comment>
                            <comment id="15130509" author="hudson" created="Wed, 3 Feb 2016 14:48:40 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #904 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/904/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/904/&lt;/a&gt;)&lt;br/&gt;
PKCS7 signature detection tests, using test files from &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1821&quot; title=&quot;Problem in Tika().detect for xml file signed in CADES&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1821&quot;&gt;&lt;del&gt;TIKA-1821&lt;/del&gt;&lt;/a&gt; (nick: rev 046e43f81c37f0ab92d9420fab8b645969d5a13c)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tika-parsers/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15316617" author="michelecarmine.andreano" created="Mon, 6 Jun 2016 15:07:56 +0000"  >&lt;p&gt;I have a problem similar to that of Alessandro.&lt;/p&gt;

&lt;p&gt;When I submit a tika a xml file signed in P7M format, I expect tika return as mimetype application / pkcs7-mime instead gives me application / pkcs7-signature.&lt;/p&gt;

&lt;p&gt;How is it possible?&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12781190" name="test-tika-error-v2.xml.p7m" size="9682" author="tacchan" created="Fri, 8 Jan 2016 11:00:51 +0000"/>
                            <attachment id="12781189" name="test-tika-error-v3.xml.p7m" size="24818" author="tacchan" created="Fri, 8 Jan 2016 11:00:51 +0000"/>
                            <attachment id="12781188" name="test-tika-error-v4.xml.p7m" size="126412" author="tacchan" created="Fri, 8 Jan 2016 11:00:51 +0000"/>
                            <attachment id="12779940" name="test-tika-error.xml.p7m" size="339078" author="tacchan" created="Wed, 30 Dec 2015 09:53:51 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12976341">TIKA-1997</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 23 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2qeen:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>