<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:01:12 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2399] Version conflict with non-ASL jai-imageio-jpeg2000 and edu.ucar jj2000</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2399</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;For users who want to extract jp2000 from PDFs for inline-image OCR, they have to add non- ASL 2.0 compatible:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;com.github.jai-imageio&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;jai-imageio-jpeg2000&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;1.3.0&amp;lt;/version&amp;gt;
  &amp;lt;/dependency&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;However, this creates a conflict with GRIB&apos;s jj2000:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;   &amp;lt;dependency&amp;gt;
      &amp;lt;groupId&amp;gt;edu.ucar&amp;lt;/groupId&amp;gt;
      &amp;lt;artifactId&amp;gt;jj2000&amp;lt;/artifactId&amp;gt;
      &amp;lt;version&amp;gt;5.2&amp;lt;/version&amp;gt;
    &amp;lt;/dependency&amp;gt; 
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mcaruanagalizia&quot; class=&quot;user-hover&quot; rel=&quot;mcaruanagalizia&quot;&gt;mcaruanagalizia&lt;/a&gt; (I&apos;m guessing?) identified this conflict &lt;a href=&quot;https://github.com/ICIJ/extract/blob/master/pom.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;here&lt;/a&gt; and fixes it by upgrading jj2000 to 5.3.  However, that doesn&apos;t exist in maven central, but only in &lt;a href=&quot;http://example.com&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Boundless&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What do we do?&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;We could exclude the jj2000 dependency from GRIB, and that functionality won&apos;t work for GRIB folks&lt;/li&gt;
	&lt;li&gt;We could add a warning if we see &lt;tt&gt;jai-imageio-jpeg2000&lt;/tt&gt; is on the classpath to instruct users to exclude jj2000.&lt;/li&gt;
	&lt;li&gt;Other options?&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment></environment>
        <key id="13080897">TIKA-2399</key>
            <summary>Version conflict with non-ASL jai-imageio-jpeg2000 and edu.ucar jj2000</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison">Tim Allison</assignee>
                                    <reporter username="tallison">Tim Allison</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jun 2017 17:51:38 +0000</created>
                <updated>Tue, 29 Oct 2019 15:52:05 +0000</updated>
                            <resolved>Fri, 7 Jul 2017 15:39:24 +0000</resolved>
                                    <version>1.15</version>
                                    <fixVersion>1.16</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16054466" author="tallison@mitre.org" created="Mon, 19 Jun 2017 17:53:11 +0000"  >&lt;p&gt;stack trace:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Caused by: java.lang.RuntimeException: jj2000.j2k.fileformat.reader.FileFormatReader.&amp;lt;init&amp;gt;(Ljj2000/j2k/io/RandomAccessIO;Lcom/github/jaiimageio/jpeg2000/impl/J2KMetadata;)V
	at com.github.jaiimageio.jpeg2000.impl.J2KReadState.initializeRead(J2KReadState.java:682)
	at com.github.jaiimageio.jpeg2000.impl.J2KReadState.&amp;lt;init&amp;gt;(J2KReadState.java:195)
	at com.github.jaiimageio.jpeg2000.impl.J2KImageReader.read(J2KImageReader.java:436)
	at javax.imageio.ImageReader.read(ImageReader.java:939)
	at org.apache.pdfbox.filter.JPXFilter.readJPX(JPXFilter.java:94)

&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16055541" author="mcaruanagalizia" created="Tue, 20 Jun 2017 10:39:14 +0000"  >&lt;p&gt;I had emailed Unidata in February about publishing to Central and got this reply:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Publishing to Maven Central is on our TODO list, not only for JJ2000, but for all of our Java products. However, the process is tedious, especially since some of our products are built using Gradle. So, we&apos;ve been reluctant to tackle this task. We intend to do it some time this year, but I can&apos;t be any more specific than that.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16055588" author="gagravarr" created="Tue, 20 Jun 2017 11:05:19 +0000"  >&lt;p&gt;The latest gradle has an experimental plugin for generating a maven central compatible pom for publishing: &lt;a href=&quot;https://docs.gradle.org/3.3/userguide/publishing_maven.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.gradle.org/3.3/userguide/publishing_maven.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Maybe ask them if they&apos;d be willing to try that? If not, a third party publish isn&apos;t too much work, so if they&apos;re happy for us to try, we can have a go at generating a suitable pom for them and pushing it up on their behalf&lt;/p&gt;</comment>
                            <comment id="16056159" author="mcaruanagalizia" created="Tue, 20 Jun 2017 17:43:09 +0000"  >&lt;p&gt;Their response:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;Thanks for looking into this. Generating a POM that&apos;s compatible with Maven Central isn&apos;t the problem; it&apos;s managing the PGP key that we&apos;d need to sign our artifacts. Our organization doesn&apos;t have a good way to store those secrets in a secure way and then access them from a CI server. For more info, see: &lt;a href=&quot;https://github.com/Unidata/thredds/issues/819&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Unidata/thredds/issues/819&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;It&apos;s certainly not an insurmountable obstacle, but I&apos;d have to get our sysadmin (and possibly other interested developers) involved. As it&apos;s a problem that I can&apos;t fix by myself, it&apos;s naturally tumbled down my priority list. I definitely do want to solve it though.&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16072295" author="tallison@mitre.org" created="Mon, 3 Jul 2017 11:38:34 +0000"  >&lt;p&gt;For the next release (1.16?) should we exclude this from edu.ucar?  I suspect we have more users who will add jai-imageio-jpeg2000 to the class path for the sake of OCR&apos;ing PDFs than folks relying on grib to parse jpeg2000 files...&lt;/p&gt;
</comment>
                            <comment id="16073660" author="mcaruanagalizia" created="Tue, 4 Jul 2017 13:24:03 +0000"  >&lt;p&gt;Wouldn&apos;t it be better to warn? (Option 2 in your description.)&lt;/p&gt;</comment>
                            <comment id="16074601" author="tallison@mitre.org" created="Wed, 5 Jul 2017 11:12:04 +0000"  >&lt;p&gt;Y, probably.  I worry that many of our users won&apos;t want to build from source or integrate Tika into their builds; they&apos;d rather drop a jar and go.  For those users, it would be better to tell them which jars to add...if you want GRIB, get jj2000, if you want OCR from PDFs get jai...&lt;/p&gt;</comment>
                            <comment id="16074656" author="tallison@mitre.org" created="Wed, 5 Jul 2017 12:02:49 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nick&quot; class=&quot;user-hover&quot; rel=&quot;nick&quot;&gt;nick&lt;/a&gt;, any opinion on this one for 1.16?&lt;/p&gt;</comment>
                            <comment id="16074825" author="gagravarr" created="Wed, 5 Jul 2017 14:12:40 +0000"  >&lt;p&gt;We can properly fix this in 2.x when we sort out how to have multiple parsers for a single format. Until we sort that on 2.x....&lt;/p&gt;

&lt;p&gt;My suggestion would be for one of us to get the OK from Unidata to push the new build to central on their behalf, and GPG sign it with our Apache key. That&apos;ll fix it for the latest release, and subsequent ones we can either help again or they might&apos;ve fixed their key storage to do it themselves&lt;/p&gt;

&lt;p&gt;For 1.16 I think whatever warning makes most sense, unless someone can be very quick at getting the OK + Maven Central third party upload done!&lt;/p&gt;</comment>
                            <comment id="16074843" author="tallison@mitre.org" created="Wed, 5 Jul 2017 14:19:26 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mcaruanagalizia&quot; class=&quot;user-hover&quot; rel=&quot;mcaruanagalizia&quot;&gt;mcaruanagalizia&lt;/a&gt;, would you be able to ask Unidata if they&apos;d mind if I published jj2000 5.3 to maven central with my key?&lt;/p&gt;

&lt;p&gt;My guess is that it would have to have the group id org.tallison like jmatio...   Or, if we do get their approval, would I be able to push under edu.ucar?&lt;/p&gt;</comment>
                            <comment id="16074851" author="tallison@mitre.org" created="Wed, 5 Jul 2017 14:26:25 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/Unidata/jj2000/issues/6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/Unidata/jj2000/issues/6&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16074881" author="mcaruanagalizia" created="Wed, 5 Jul 2017 14:53:25 +0000"  >&lt;p&gt;Tim, see &lt;a href=&quot;https://github.com/jai-imageio/jai-imageio-jpeg2000/issues/8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jai-imageio/jai-imageio-jpeg2000/issues/8&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Once jj2000 is in central then it will also be used by jai-imageio-jpeg2000 to get images from PDFs for OCR under the hood.&lt;/p&gt;</comment>
                            <comment id="16074918" author="mcaruanagalizia" created="Wed, 5 Jul 2017 15:14:49 +0000"  >&lt;p&gt;I&apos;ve emailed Unidata to ask about publishing with your key.&lt;/p&gt;</comment>
                            <comment id="16074923" author="tallison@mitre.org" created="Wed, 5 Jul 2017 15:17:34 +0000"  >&lt;p&gt;Great.  Thank you!&lt;/p&gt;</comment>
                            <comment id="16076092" author="mcaruanagalizia" created="Thu, 6 Jul 2017 07:30:49 +0000"  >&lt;p&gt;Their response:&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I wouldn&apos;t mind if you forked the repo and published your own artifact, but please use a different group ID. &lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;However, I am not a lawyer, and I don&apos;t know what, if any, legal ramifications there are for doing so. We (Unidata) do not own JJ2000. Furthermore, its license is uncertain. The Google Code page (1) claims &quot;GNU Lesser GPL&quot;, but see also this issue (2).&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(1) &lt;a href=&quot;https://code.google.com/archive/p/jj2000/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://code.google.com/archive/p/jj2000/&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;blockquote&gt;&lt;p&gt;(2) &lt;a href=&quot;https://code.google.com/archive/p/jj2000/issues/3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://code.google.com/archive/p/jj2000/issues/3&lt;/a&gt;&lt;/p&gt;&lt;/blockquote&gt;</comment>
                            <comment id="16076418" author="tallison@mitre.org" created="Thu, 6 Jul 2017 12:19:09 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mcaruanagalizia&quot; class=&quot;user-hover&quot; rel=&quot;mcaruanagalizia&quot;&gt;mcaruanagalizia&lt;/a&gt;!&lt;/p&gt;

&lt;p&gt;That gives me great pause.  &lt;/p&gt;

&lt;p&gt;As I look at the various license headers in the source files, there is no way I could interpret compatibility with ASL 2.0 on that project in good conscience.  I&apos;m not a lawyer, though.&lt;/p&gt;

&lt;p&gt;Do we go with option 1) above on licensing issues and exclude jj2000?&lt;/p&gt;</comment>
                            <comment id="16077929" author="tallison@mitre.org" created="Fri, 7 Jul 2017 10:29:32 +0000"  >&lt;p&gt;Unless I hear differently, I&apos;ll exclude jj2000 and roll 1.16-rc1 in the next few hours.&lt;/p&gt;</comment>
                            <comment id="16078012" author="mcaruanagalizia" created="Fri, 7 Jul 2017 12:34:19 +0000"  >&lt;p&gt;OK. I can&apos;t think of any other option for now. For the future, does Apache have a legal team that lobbies for companies to change the licenses they use?&lt;/p&gt;</comment>
                            <comment id="16078247" author="tallison@mitre.org" created="Fri, 7 Jul 2017 15:32:46 +0000"  >&lt;p&gt;There is a legal team, but I don&apos;t think they do much lobbying.  I&apos;ve been surprised how open people are to changing their licenses when kindly asked.  The problem with jpeg2000, as has been highlighted in our discussion with ucar, is that trying to reach all the contributors is tricky to say the least.&lt;/p&gt;

&lt;p&gt;On a side note, did you see that Levigo is considering contributing jbig2 to the ASF or &lt;a href=&quot;https://www.mail-archive.com/dev@pdfbox.apache.org/msg48027.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PDFBox&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16078255" author="tallison@mitre.org" created="Fri, 7 Jul 2017 15:39:24 +0000"  >&lt;p&gt;We&apos;ve excluded jj2000 out of concern for license incompatibility with ASL 2.0.  If there&apos;s a convincing argument that the library is consistent with ASL 2.0, we can un-exclude it.  For now, users will have to add it themselves.&lt;/p&gt;</comment>
                            <comment id="16078259" author="tallison@mitre.org" created="Fri, 7 Jul 2017 15:41:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mcaruanagalizia&quot; class=&quot;user-hover&quot; rel=&quot;mcaruanagalizia&quot;&gt;mcaruanagalizia&lt;/a&gt;, thank you very much for your contributions on this issue (and others) and for working with us and with Unidata.  The outcome is not ideal, but I very much appreciate your help!&lt;/p&gt;</comment>
                            <comment id="16078352" author="hudson" created="Fri, 7 Jul 2017 16:31:27 +0000"  >&lt;p&gt;ABORTED: Integrated in Jenkins build Tika-trunk #1320 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1320/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1320/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2399&quot; title=&quot;Version conflict with non-ASL jai-imageio-jpeg2000 and edu.ucar jj2000&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2399&quot;&gt;&lt;del&gt;TIKA-2399&lt;/del&gt;&lt;/a&gt; exclude jj2000 because of potential license problems with ASL (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/f776c2479f8e7ab1134669fad1e25fd38bd82466&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/f776c2479f8e7ab1134669fad1e25fd38bd82466&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/pom.xml&lt;/li&gt;
	&lt;li&gt;(edit) CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ggfz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>