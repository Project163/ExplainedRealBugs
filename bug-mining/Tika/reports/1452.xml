<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:05:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-4365] Support Android Bundle aab detection</title>
                <link>https://issues.apache.org/jira/browse/TIKA-4365</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;AAB file goes through DefaultZipContainerDetector and gets detected as&lt;/p&gt;

&lt;p&gt;&lt;em&gt;application/java-archive&lt;/em&gt; since it has MANIFEST.MF via JarDetector.&#160;&lt;/p&gt;

&lt;p&gt;They have their own content type as mentioned in tika-mimetypes.xml&#160; - application/x-authorware-bin&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/tika/blob/6a12d7cf1a2ee37dce899933a05520604330c947/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml#L3485&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/blob/6a12d7cf1a2ee37dce899933a05520604330c947/tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml#L3485&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The AAB file structure has a AndroidManifest.xml similar to apk archive but in &lt;a href=&quot;http://base/manifest/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;base/manifest/&lt;/a&gt; directory.&lt;/p&gt;

&lt;p&gt;Android Dev documentation reference : &lt;a href=&quot;https://developer.android.com/guide/app-bundle/app-bundle-format&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://developer.android.com/guide/app-bundle/app-bundle-format&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13603709">TIKA-4365</key>
            <summary>Support Android Bundle aab detection</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="subbudvk">Subbu</reporter>
                        <labels>
                    </labels>
                <created>Fri, 3 Jan 2025 14:03:59 +0000</created>
                <updated>Fri, 24 Jan 2025 14:28:23 +0000</updated>
                                                                            <component>tika-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="17909599" author="JIRAUSER307746" created="Fri, 3 Jan 2025 14:06:20 +0000"  >&lt;p&gt;I am creating a PR for this detection&lt;/p&gt;</comment>
                            <comment id="17909600" author="githubbot" created="Fri, 3 Jan 2025 14:14:29 +0000"  >&lt;p&gt;subbudvk opened a new pull request, #2085:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/2085&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/2085&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;!--&lt;br/&gt;
     Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
     or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
     distributed with this work for additional information&lt;br/&gt;
     regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
     to you under the Apache License, Version 2.0 (the&lt;br/&gt;
     &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
     with the License.  You may obtain a copy of the License at&lt;/p&gt;

&lt;p&gt;       &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     Unless required by applicable law or agreed to in writing,&lt;br/&gt;
     software distributed under the License is distributed on an&lt;br/&gt;
     &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
     KIND, either express or implied.  See the License for the&lt;br/&gt;
     specific language governing permissions and limitations&lt;br/&gt;
     under the License.&lt;br/&gt;
   --&amp;gt;&lt;/p&gt;

&lt;p&gt;   Thanks for your contribution to &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Tika&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://tika.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tika.apache.org/&lt;/a&gt;)! Your help is appreciated!&lt;/p&gt;

&lt;p&gt;   Before opening the pull request, please verify that&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;there is an open issue on the &lt;span class=&quot;error&quot;&gt;&amp;#91;Tika issue tracker&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/projects/TIKA&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/TIKA&lt;/a&gt;) which describes the problem or the improvement. We cannot accept pull requests without an issue because the change wouldn&apos;t be listed in the release notes.&lt;/li&gt;
	&lt;li&gt;the issue ID (`TIKA-XXXX`)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;is referenced in the title of the pull request&lt;/li&gt;
	&lt;li&gt;and placed in front of your commit messages surrounded by square brackets (`&lt;span class=&quot;error&quot;&gt;&amp;#91;TIKA-XXXX&amp;#93;&lt;/span&gt; Issue or pull request title`)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;commits are squashed into a single one (or few commits for larger changes)&lt;/li&gt;
	&lt;li&gt;Tika is successfully built and unit tests pass by running `mvn clean test`&lt;/li&gt;
	&lt;li&gt;there should be no conflicts when merging the pull request branch into the &lt;b&gt;recent&lt;/b&gt; `main` branch. If there are conflicts, please try to rebase the pull request branch on top of a freshly pulled `main` branch&lt;/li&gt;
	&lt;li&gt;if you add new module that downstream users will depend upon add it to relevant group in `tika-bom/pom.xml`.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   We will be able to faster integrate your pull request if these conditions are met. If you have any questions how to fix your problem or about using Tika in general, please sign up for the &lt;span class=&quot;error&quot;&gt;&amp;#91;Tika mailing list&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://tika.apache.org/mail-lists.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tika.apache.org/mail-lists.html&lt;/a&gt;). Thanks!&lt;/p&gt;


</comment>
                            <comment id="17910210" author="JIRAUSER307746" created="Mon, 6 Jan 2025 13:08:55 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison&quot; class=&quot;user-hover&quot; rel=&quot;tallison&quot;&gt;tallison&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17916380" author="JIRAUSER307746" created="Thu, 23 Jan 2025 12:17:33 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison&quot; class=&quot;user-hover&quot; rel=&quot;tallison&quot;&gt;tallison&lt;/a&gt;&#160; can you pl check this when possible?&lt;/p&gt;</comment>
                            <comment id="17916698" author="githubbot" created="Fri, 24 Jan 2025 12:05:21 +0000"  >&lt;p&gt;tballison commented on PR #2085:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/2085#issuecomment-2612368867&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/2085#issuecomment-2612368867&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   I&apos;m sorry for my delay on this. Is there a reason to put the android logic in the jar detector instead of a separate detector? The good thing about the current PR is that it guarantees the order of detectors.&lt;/p&gt;

</comment>
                            <comment id="17916700" author="githubbot" created="Fri, 24 Jan 2025 12:11:38 +0000"  >&lt;p&gt;subbudvk commented on PR #2085:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/2085#issuecomment-2612380253&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/2085#issuecomment-2612380253&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @tballison  you are right. The Jar detector decides content based on the presence of MANIFEST.MF. The android package bundle will also have MANIFEST.MF, so to guarantee the order and JarDetector doesn&apos;t return jar based on MANIFEST.MF  and since other android types are already handled in JarDetector, I changed here. &lt;/p&gt;

&lt;p&gt;   Let me know if you have comments. &lt;/p&gt;

</comment>
                            <comment id="17916704" author="githubbot" created="Fri, 24 Jan 2025 12:20:17 +0000"  >&lt;p&gt;tballison commented on PR #2085:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/2085#issuecomment-2612396962&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/2085#issuecomment-2612396962&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   I&apos;ll merge this as soon as the checks pass. On a follow-on PR, if you have a chance, would you be able to create/find an ASL 2.0-compatible test file for a unit test?&lt;/p&gt;

</comment>
                            <comment id="17916705" author="githubbot" created="Fri, 24 Jan 2025 12:22:30 +0000"  >&lt;p&gt;tballison merged PR #2085:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/2085&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/2085&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17916710" author="tallison@mitre.org" created="Fri, 24 Jan 2025 12:33:48 +0000"  >&lt;p&gt;In the most recent commit, I fixed checkstyle and modified the logic. Intellij correctly pointed out that the added conditions under &lt;tt&gt;seenManifest != null&lt;/tt&gt; would never trigger because the check for the name alone happened before that part.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=subbudvk&quot; class=&quot;user-hover&quot; rel=&quot;subbudvk&quot;&gt;subbudvk&lt;/a&gt;, take a look and make sure my changes make sense. Thank you, and sorry for my delay.&lt;/p&gt;</comment>
                            <comment id="17916715" author="JIRAUSER307746" created="Fri, 24 Jan 2025 12:46:01 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison&quot; class=&quot;user-hover&quot; rel=&quot;tallison&quot;&gt;tallison&lt;/a&gt;&#160; : I am sorry yes, the null check check in L#80 and L#93 needs to be removed. Did you already done that, or can i create a PR to correct that?&lt;/p&gt;</comment>
                            <comment id="17916721" author="tallison@mitre.org" created="Fri, 24 Jan 2025 13:22:10 +0000"  >&lt;p&gt;Sorry. I just pushed my fixes now. Y. I got that.&lt;/p&gt;</comment>
                            <comment id="17916733" author="hudson" created="Fri, 24 Jan 2025 14:28:23 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika &#187; tika-main-jdk17 #611 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk17/611/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk17/611/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4365&quot; title=&quot;Support Android Bundle aab detection&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4365&quot;&gt;TIKA-4365&lt;/a&gt; &amp;#8211; checkstyle and manifest logic (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/01a67dd261b514d2bd4d88d74385a5986f0bb383&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/01a67dd261b514d2bd4d88d74385a5986f0bb383&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-zip-commons/src/main/java/org/apache/tika/detect/zip/JarDetector.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            41 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tebc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>