<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:02:02 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2688] MBOX not recognized when unknown X-headers are present</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2688</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;This is a spin off from &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2578&quot; title=&quot;Mails not recognized when unknown X-headers are present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2578&quot;&gt;&lt;del&gt;TIKA-2578&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I have mbox files that are not being recognized as such because they have X- headers at the top.&lt;/p&gt;

&lt;p&gt;Current config:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;  &amp;lt;mime-type type=&quot;application/mbox&quot;&amp;gt;
    &amp;lt;!-- MBOX files start with &quot;From [sender] [date]&quot; --&amp;gt;
    &amp;lt;!-- To avoid false matches, check for other headers after that --&amp;gt;
    &amp;lt;magic priority=&quot;70&quot;&amp;gt;
      &amp;lt;match value=&quot;From &quot; type=&quot;string&quot; offset=&quot;0&quot;&amp;gt;
         &amp;lt;match value=&quot;\nFrom: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nDate: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nSubject: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nDelivered-To: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nReceived: by &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nReceived: via &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nReceived: from &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nMime-Version: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
      &amp;lt;/match&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;mbox file:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;From &quot;naveen.andrews@enron.com&quot; Wed Jan 30 18:07:01 2002
X-EDO-Dataset: EnronData.org Abridged Email Dataset (AED)
X-EDO-AED-Version: 1.0
X-EDO-AED-License: Creative Commons Attribution 3.0 United States;
 http://creativecommons.org/licenses/by/3.0/us/;
 To provide attribution, please cite to &quot;EnronData.org.&quot;
X-EDO-AED-ID: 516172
X-EDO-AED-File: zipper-a/inbox/38.eml
Message-ID: &amp;lt;8269158.1075842014924.JavaMail.evans@thyme&amp;gt;
Date: Wed, 30 Jan 2002 15:07:01 -0800 (PST)
From: naveen.andrews@enron.com
To: andy.zipper@enron.com
Subject: RE: Var simulation
...
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;MBOX rule looks for additional headers only in the first 256 bytes, which is not enough when X- headers are present.&lt;/p&gt;

&lt;p&gt;Side-note: prior to 1.17 such mbox was detected as text/plain. As of 1.17 it is detected as message/rfc822 (due to &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2594&quot; title=&quot;Mail detected as application/xhtml+xml&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2594&quot;&gt;&lt;del&gt;TIKA-2594&lt;/del&gt;&lt;/a&gt; that added a rule for Message-ID being present in the first 1000 bytes). Neither is correct!&lt;/p&gt;</description>
                <environment></environment>
        <key id="13172781">TIKA-2688</key>
            <summary>MBOX not recognized when unknown X-headers are present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison">Tim Allison</assignee>
                                    <reporter username="yurykats">Yury Kats</reporter>
                        <labels>
                    </labels>
                <created>Tue, 17 Jul 2018 22:08:37 +0000</created>
                <updated>Wed, 25 Jul 2018 23:18:49 +0000</updated>
                            <resolved>Wed, 25 Jul 2018 19:11:52 +0000</resolved>
                                    <version>1.18</version>
                                    <fixVersion>1.19</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>detector</component>
                    <component>mime</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16548496" author="yurykats" created="Wed, 18 Jul 2018 22:26:42 +0000"  >&lt;p&gt;To be consistent with &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2578&quot; title=&quot;Mails not recognized when unknown X-headers are present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2578&quot;&gt;&lt;del&gt;TIKA-2578&lt;/del&gt;&lt;/a&gt;, I would suggest to change the mbox magic to&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;    &amp;lt;magic priority=&quot;70&quot;&amp;gt;
      &amp;lt;match value=&quot;From &quot; type=&quot;string&quot; offset=&quot;0&quot;&amp;gt;
         &amp;lt;match value=&quot;\nFrom: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nDate: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nSubject: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nDelivered-To: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nReceived: by &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nReceived: via &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nReceived: from &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         &amp;lt;match value=&quot;\nMime-Version: &quot; type=&quot;string&quot; offset=&quot;32:256&quot;/&amp;gt;
         
         &amp;lt;match value=&quot;X-&quot; type=&quot;stringignorecase&quot; offset=&quot;32:256&quot;&amp;gt;
             &amp;lt;match value=&quot;\nFrom: &quot; type=&quot;string&quot; offset=&quot;32:8192&quot;/&amp;gt;
             &amp;lt;match value=&quot;\nDate: &quot; type=&quot;string&quot; offset=&quot;32:8192&quot;/&amp;gt;
             &amp;lt;match value=&quot;\nSubject: &quot; type=&quot;string&quot; offset=&quot;32:8192&quot;/&amp;gt;
             &amp;lt;match value=&quot;\nDelivered-To: &quot; type=&quot;string&quot; offset=&quot;32:8192&quot;/&amp;gt;
             &amp;lt;match value=&quot;\nReceived: by &quot; type=&quot;string&quot; offset=&quot;32:8192&quot;/&amp;gt;
             &amp;lt;match value=&quot;\nReceived: via &quot; type=&quot;string&quot; offset=&quot;32:8192&quot;/&amp;gt;
             &amp;lt;match value=&quot;\nReceived: from &quot; type=&quot;string&quot; offset=&quot;32:8192&quot;/&amp;gt;
             &amp;lt;match value=&quot;\nMime-Version: &quot; type=&quot;string&quot; offset=&quot;32:8192&quot;/&amp;gt;
         &amp;lt;/match&amp;gt;
      &amp;lt;/match&amp;gt;
    &amp;lt;/magic&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16556146" author="tallison@mitre.org" created="Wed, 25 Jul 2018 19:11:52 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=yurykats&quot; class=&quot;user-hover&quot; rel=&quot;yurykats&quot;&gt;yurykats&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="16556188" author="hudson" created="Wed, 25 Jul 2018 19:46:30 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build tika-2.x-windows #287 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x-windows/287/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x-windows/287/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2688&quot; title=&quot;MBOX not recognized when unknown X-headers are present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2688&quot;&gt;&lt;del&gt;TIKA-2688&lt;/del&gt;&lt;/a&gt; via Yury Kats (tallison: rev aac3af4ccb9da07b1ade1a57ed5e015dbedb17c4)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/test-documents/testMBOX_lengthy_x-headers.mbox&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16556273" author="hudson" created="Wed, 25 Jul 2018 21:11:36 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build tika-branch-1x #61 (See &lt;a href=&quot;https://builds.apache.org/job/tika-branch-1x/61/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-branch-1x/61/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2688&quot; title=&quot;MBOX not recognized when unknown X-headers are present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2688&quot;&gt;&lt;del&gt;TIKA-2688&lt;/del&gt;&lt;/a&gt; via Yury Kats (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/fc23648d8f6b92c44a98d0e04b1cf75a652b9e4f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/fc23648d8f6b92c44a98d0e04b1cf75a652b9e4f&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/test-documents/testMBOX_lengthy_x-headers.mbox&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16556396" author="hudson" created="Wed, 25 Jul 2018 23:18:49 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1526 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1526/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1526/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2688&quot; title=&quot;MBOX not recognized when unknown X-headers are present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2688&quot;&gt;&lt;del&gt;TIKA-2688&lt;/del&gt;&lt;/a&gt; via Yury Kats (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/aac3af4ccb9da07b1ade1a57ed5e015dbedb17c4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/aac3af4ccb9da07b1ade1a57ed5e015dbedb17c4&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/resources/org/apache/tika/mime/tika-mimetypes.xml&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/test-documents/testMBOX_lengthy_x-headers.mbox&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13139607">TIKA-2578</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 16 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3vzyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>