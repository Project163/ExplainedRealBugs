<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:03:14 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-3243] PSDParser MAX_DATA_LENGTH_BYTES check causes TikaException</title>
                <link>https://issues.apache.org/jira/browse/TIKA-3243</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;We are using Tika library AutoDetectParser to extract metadata from a variety of files. We have been seeing some TikaException(stack trace below) in the past month since we upgraded to tika 1.24.1.&lt;br/&gt;
 &#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
Caused by: org.apache.tika.exception.TikaException: data length must be &amp;lt; 1000000: 17777730
 at org.apache.tika.parser.image.PSDParser$ResourceBlock.&amp;lt;init&amp;gt;(PSDParser.java:233)
 at org.apache.tika.parser.image.PSDParser$ResourceBlock.&amp;lt;init&amp;gt;(PSDParser.java:167)
 at org.apache.tika.parser.image.PSDParser.parse(PSDParser.java:135)
 at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)
 at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)
 at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:143)
 at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:159)
 &#160;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;However, I think the PSD file we are parsing is a valid file. I can view it and can open it with photoshop.&#160;After some digging, I believe the changes was introduce as part of this jira &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3050&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TIKA-3050&lt;/a&gt; and this commit &lt;a href=&quot;https://github.com/apache/tika/commit/ab8a9ed830ec710a32e4ffdf4989aea3aaea92ef(line:&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/ab8a9ed830ec710a32e4ffdf4989aea3aaea92ef(line:&lt;/a&gt; 232).&lt;br/&gt;
 &#160;&lt;br/&gt;
 The biggest size we have seen in from the files our users uploaded is&#160;161,548,458 so far, which is way above&#160;1000,000 in PSDParser&lt;/p&gt;

&lt;p&gt;Please let me know if you need any extra informations.&#160;&lt;br/&gt;
 &#160;&lt;br/&gt;
 Thanks&lt;br/&gt;
 Shunfei.&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13343875">TIKA-3243</key>
            <summary>PSDParser MAX_DATA_LENGTH_BYTES check causes TikaException</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison">Tim Allison</assignee>
                                    <reporter username="rechel8888">Shunfei Chen</reporter>
                        <labels>
                    </labels>
                <created>Wed, 2 Dec 2020 22:14:25 +0000</created>
                <updated>Tue, 3 Oct 2023 19:57:52 +0000</updated>
                            <resolved>Tue, 3 Oct 2023 19:57:52 +0000</resolved>
                                                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17245962" author="tallison@mitre.org" created="Tue, 8 Dec 2020 15:56:34 +0000"  >&lt;p&gt;This is fixed in &lt;tt&gt;main&lt;/tt&gt; now.  I&apos;ll cherry-pick it to &lt;tt&gt;branch_1x&lt;/tt&gt; shortly.&lt;/p&gt;</comment>
                            <comment id="17246025" author="hudson" created="Tue, 8 Dec 2020 17:45:29 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika &#187; tika-main-jdk8 #73 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/73/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk8/73/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3243&quot; title=&quot;PSDParser MAX_DATA_LENGTH_BYTES check causes TikaException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3243&quot;&gt;&lt;del&gt;TIKA-3243&lt;/del&gt;&lt;/a&gt; &amp;#8211; bump max record length and enable manual configuration of max record length (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/e8fa990e201f9ffdef2da3b0e2237a0b93ed9353&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/e8fa990e201f9ffdef2da3b0e2237a0b93ed9353&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-image-module/src/test/resources/org/apache/tika/parser/image/tika-config-&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-3243&quot; title=&quot;PSDParser MAX_DATA_LENGTH_BYTES check causes TikaException&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-3243&quot;&gt;&lt;del&gt;TIKA-3243&lt;/del&gt;&lt;/a&gt;.xml&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-image-module/src/main/java/org/apache/tika/parser/image/PSDParser.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-classic/tika-parsers-classic-modules/tika-parser-image-module/src/test/java/org/apache/tika/parser/image/PSDParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17771632" author="tallison@mitre.org" created="Tue, 3 Oct 2023 19:57:52 +0000"  >&lt;p&gt;Not sure of fix version.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 5 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0l5a8:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>