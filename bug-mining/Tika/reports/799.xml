<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:00:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-1928] Filename detection misses when a # is in a filename</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1928</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;If there is a pound character in a filename it will be detected as application/octet-stream instead of the proper type that is detected without the filename containing the pound.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;Metadata metadata = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Metadata();
Tika tika = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tika();
metadata.add(Metadata.RESOURCE_NAME_KEY, &lt;span class=&quot;code-quote&quot;&gt;&quot;test#.pdf&quot;&lt;/span&gt;);
&lt;span class=&quot;code-comment&quot;&gt;// tika uses NameDetector &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; first parameter == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(tika.detect(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, metadata));
&lt;span class=&quot;code-comment&quot;&gt;// prints application/octet-stream instead of application/pdf&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Tested for application/pdf and application/xml.&lt;/p&gt;</description>
                <environment>&lt;p&gt;java 8&lt;/p&gt;</environment>
        <key id="12955731">TIKA-1928</key>
            <summary>Filename detection misses when a # is in a filename</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="yenox">Jean Coudon</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Apr 2016 11:33:55 +0000</created>
                <updated>Mon, 16 May 2016 01:14:38 +0000</updated>
                            <resolved>Mon, 16 May 2016 00:12:06 +0000</resolved>
                                    <version>1.12</version>
                                    <fixVersion>1.14</fixVersion>
                                    <component>detector</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15224073" author="gagravarr" created="Mon, 4 Apr 2016 12:58:07 +0000"  >&lt;p&gt;I&apos;ve just tried this, and I can&apos;t reproduce it using the Tika CLI App and a freshly renamed test PDF:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;$ java -jar tika-app-1.13-SNAPSHOT.jar  --detect Testing##.pdf 
application/pdf
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What operating system are you seeing this on? Can you reproduce this using the Tika CLI App? Can you turn your problem into a junit test case?&lt;/p&gt;</comment>
                            <comment id="15234676" author="yenox" created="Mon, 11 Apr 2016 08:17:24 +0000"  >&lt;p&gt;I am using Linux Mint 17.1. I couldn&apos;t manage to reproduce it with the CLI App, but the CLI App might not use the same detection method as it requires a file when my test is actually run with a null stream.&lt;/p&gt;

&lt;p&gt;Yes my code is extracted from a JUnit test I built to try this out, here is the full version:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Test
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void testPoundInFileName() &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        org.apache.tika.metadata.Metadata metadata = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; org.apache.tika.metadata.Metadata();
        Tika tika = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tika();
        metadata.add(org.apache.tika.metadata.Metadata.RESOURCE_NAME_KEY, &lt;span class=&quot;code-quote&quot;&gt;&quot;test#.pdf&quot;&lt;/span&gt;);
        &lt;span class=&quot;code-comment&quot;&gt;// tika uses NameDetector &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; first parameter == &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;
&lt;/span&gt;        assertEquals(&lt;span class=&quot;code-quote&quot;&gt;&quot;application/pdf&quot;&lt;/span&gt;, tika.detect(&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;, metadata));
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="15284029" author="gagravarr" created="Mon, 16 May 2016 00:12:06 +0000"  >&lt;p&gt;Fixed in &lt;tt&gt;b2821d9&lt;/tt&gt; - the URL fragment stripping logic was being over-eager&lt;/p&gt;</comment>
                            <comment id="15284042" author="hudson" created="Mon, 16 May 2016 01:08:45 +0000"  >&lt;p&gt;FAILURE: Integrated in tika-2.x #94 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x/94/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x/94/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1928&quot; title=&quot;Filename detection misses when a # is in a filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1928&quot;&gt;&lt;del&gt;TIKA-1928&lt;/del&gt;&lt;/a&gt; More tests for files with # in them (nick: rev 398e73dee3e6ece5a0af376abe954b75bce0cfda)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tika-core/src/test/java/org/apache/tika/mime/MimeDetectionTest.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1928&quot; title=&quot;Filename detection misses when a # is in a filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1928&quot;&gt;&lt;del&gt;TIKA-1928&lt;/del&gt;&lt;/a&gt; Fix detection for filenames containing a #, avoid (nick: rev 2a69db7bbad17f235e66274186f5f3814f32a56e)&lt;/li&gt;
	&lt;li&gt;tika-core/src/test/java/org/apache/tika/detect/NameDetectorTest.java&lt;/li&gt;
	&lt;li&gt;tika-core/src/main/java/org/apache/tika/detect/NameDetector.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15284047" author="hudson" created="Mon, 16 May 2016 01:14:38 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #992 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/992/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/992/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1928&quot; title=&quot;Filename detection misses when a # is in a filename&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1928&quot;&gt;&lt;del&gt;TIKA-1928&lt;/del&gt;&lt;/a&gt; Fix detection for filenames containing a #, avoid (nick: rev b2821d921ac4cfd3be468e8bea9123f5cb627cbf)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;tika-core/src/main/java/org/apache/tika/detect/NameDetector.java&lt;/li&gt;
	&lt;li&gt;tika-core/src/test/java/org/apache/tika/detect/NameDetectorTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2vl9j:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>