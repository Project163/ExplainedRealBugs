<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:01:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2385] Tesseract OCR rotation.py not run</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2385</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;It appears that even if Python is installed, the rotation.py that calculates rotation angle of the image does not run because of indentation/spacing errors in the Python script.&lt;/p&gt;

&lt;p&gt;Also recommend making this a configurable parameter since it does add time and can produce unexpected results if the supplied image contains more than just plain text.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13076955">TIKA-2385</key>
            <summary>Tesseract OCR rotation.py not run</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="davemeikle">Dave Meikle</assignee>
                                    <reporter username="pmweiss5">Peter Weiss</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Jun 2017 18:58:43 +0000</created>
                <updated>Mon, 19 Jul 2021 12:02:33 +0000</updated>
                            <resolved>Mon, 19 Jul 2021 12:02:33 +0000</resolved>
                                    <version>1.15</version>
                                    <fixVersion>1.17</fixVersion>
                    <fixVersion>2.0.0</fixVersion>
                                    <component>ocr</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16035267" author="pmweiss5" created="Fri, 2 Jun 2017 19:16:35 +0000"  >&lt;p&gt;Submitted pull request #183.&lt;/p&gt;</comment>
                            <comment id="16265955" author="githubbot" created="Sun, 26 Nov 2017 10:19:26 +0000"  >&lt;p&gt;dameikle commented on issue #183: fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt; contributed by pmweiss5&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/183#issuecomment-346997679&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/183#issuecomment-346997679&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Thank for the patch. Unfortunately the test doesn&apos;t work for me &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16265956" author="githubbot" created="Sun, 26 Nov 2017 10:19:26 +0000"  >&lt;p&gt;dameikle closed pull request #183: fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt; contributed by pmweiss5&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/183&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRConfig.java b/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRConfig.java&lt;br/&gt;
index 624c97e39..c8c8bc93e 100644&lt;br/&gt;
&amp;#8212; a/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRConfig.java&lt;br/&gt;
+++ b/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRConfig.java&lt;br/&gt;
@@ -94,6 +94,9 @@&lt;br/&gt;
     // whether or not to preserve interword spacing&lt;br/&gt;
     private boolean preserveInterwordSpacing = false;&lt;/p&gt;

&lt;p&gt;+    // whether or not to apply rotation calculated by the rotation.py script&lt;br/&gt;
+    private boolean applyRotation = false;&lt;br/&gt;
+&lt;/p&gt;

&lt;p&gt;     /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Default contructor.&lt;br/&gt;
@@ -169,6 +172,8 @@ private void init(InputStream is) 
{
                 getProp(props, &quot;filter&quot;, getFilter()));
         setResize(
                 getProp(props, &quot;resize&quot;, getResize()));
+        setApplyRotation(
+        		getProp(props, &quot;applyRotation&quot;, getApplyRotation()));
 
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;@@ -472,6 +477,23 @@ public void setImageMagickPath(String ImageMagickPath) &lt;/p&gt;
{
         this.ImageMagickPath = ImageMagickPath;
     }

&lt;p&gt;+    /**&lt;br/&gt;
+     * @return Whether or not a rotation value should be calculated and passed to ImageMagick before performing OCR.&lt;br/&gt;
+     * (Requires that Python is installed).&lt;br/&gt;
+     */&lt;br/&gt;
+    public boolean getApplyRotation() &lt;/p&gt;
{
+    	return this.applyRotation;
+    }
&lt;p&gt;+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Sets whether or not a rotation value should be calculated and passed to ImageMagick.&lt;br/&gt;
+     * &lt;br/&gt;
+     * @param true to calculate and apply rotation, false to skip.  Default is false, true required Python installed.&lt;br/&gt;
+     */&lt;br/&gt;
+    public void setApplyRotation(boolean applyRotation) &lt;/p&gt;
{
+    	this.applyRotation = applyRotation;
+    }
&lt;p&gt;+&lt;br/&gt;
     /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Get property from the properties file passed in.&lt;br/&gt;
      *&lt;br/&gt;
diff --git a/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java b/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;br/&gt;
index 121e096e1..c28f6e1aa 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;br/&gt;
+++ b/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;br/&gt;
@@ -170,7 +170,7 @@ private boolean hasImageMagick(TesseractOCRConfig config) {&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private static boolean hasPython() {&lt;br/&gt;
+    static boolean hasPython() {&lt;br/&gt;
     	// check if python is installed and if the rotation program path has been specified correctly&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     	boolean hasPython = false;&lt;br/&gt;
@@ -321,7 +321,7 @@ private void processImage(File streamingObject, TesseractOCRConfig config) throw&lt;/p&gt;

&lt;p&gt;         // determine the angle of rotation required to make the text horizontal&lt;br/&gt;
         CommandLine cmdLine = CommandLine.parse(cmd);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if(hasPython()) {&lt;br/&gt;
+        if(config.getApplyRotation() &amp;amp;&amp;amp; hasPython()) {&lt;br/&gt;
             try {&lt;br/&gt;
                 executor.execute(cmdLine);&lt;br/&gt;
                 angle = outputStream.toString(&quot;UTF-8&quot;).trim();&lt;br/&gt;
diff --git a/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/TesseractOCRConfig.properties b/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/TesseractOCRConfig.properties&lt;br/&gt;
index 26b6031bc..73c9083ce 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/TesseractOCRConfig.properties&lt;br/&gt;
+++ b/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/TesseractOCRConfig.properties&lt;br/&gt;
@@ -32,4 +32,5 @@ density=300&lt;br/&gt;
 depth=4&lt;br/&gt;
 colorspace=gray&lt;br/&gt;
 filter=triangle&lt;br/&gt;
-resize=900&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+resize=900&lt;br/&gt;
+applyRotation=false&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
diff --git a/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/rotation.py b/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/rotation.py&lt;br/&gt;
index fb391f1fe..c619325e3 100644&lt;/li&gt;
			&lt;li&gt;a/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/rotation.py&lt;br/&gt;
+++ b/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/rotation.py&lt;br/&gt;
@@ -46,12 +46,12 @@ def main(argv):&lt;br/&gt;
 	     filename = arg&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; 	try:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;from parabolic import parabolic&lt;br/&gt;
+	  from parabolic import parabolic&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; 	  def argmax&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return parabolic(x, numpy.argmax&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;except ImportError:&lt;/li&gt;
	&lt;li&gt;from numpy import argmax&lt;br/&gt;
+	   	return parabolic(x, numpy.argmax&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;br/&gt;
+	except ImportError:&lt;br/&gt;
+	  from numpy import argmax&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;Load file, converting to grayscale&lt;br/&gt;
 	I = asarray(Image.open(filename).convert(&apos;L&apos;))&lt;br/&gt;
@@ -69,4 +69,4 @@ def argmax&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:&lt;br/&gt;
 	print(&apos;{:.2f}&apos;.format(-(90-rotation)))&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt; if _&lt;em&gt;name&lt;/em&gt;_ == &quot;_&lt;em&gt;main&lt;/em&gt;_&quot;:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;main(sys.argv&lt;span class=&quot;error&quot;&gt;&amp;#91;1:&amp;#93;&lt;/span&gt;)&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+	main(sys.argv&lt;span class=&quot;error&quot;&gt;&amp;#91;1:&amp;#93;&lt;/span&gt;)&lt;br/&gt;
diff --git a/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRConfigTest.java b/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRConfigTest.java&lt;br/&gt;
index adec5dbc8..8e22f21aa 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRConfigTest.java&lt;br/&gt;
+++ b/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRConfigTest.java&lt;br/&gt;
@@ -47,6 +47,7 @@ public void testNoConfig() throws Exception 
{
         assertEquals(&quot;Invalid default colorpsace value&quot;, &quot;gray&quot; , config.getColorspace());
         assertEquals(&quot;Invalid default filter value&quot;, &quot;triangle&quot; , config.getFilter());
         assertEquals(&quot;Invalid default resize value&quot;, 900 , config.getResize());
+        assertEquals(&quot;Invalid default applyRotation value&quot;, false, config.getApplyRotation());
     }&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     @Test&lt;br/&gt;
@@ -68,6 +69,7 @@ public void testPartialConfig() throws Exception &lt;/p&gt;
{
         assertEquals(&quot;Invalid overridden depth value&quot;, 8 , config.getDepth());
         assertEquals(&quot;Invalid overridden filter value&quot;, &quot;box&quot; , config.getFilter());	
         assertEquals(&quot;Invalid overridden resize value&quot;, 300 , config.getResize());
+        assertEquals(&quot;Invalid default applyRotation value&quot;, false, config.getApplyRotation());
     }

&lt;p&gt;     @Test&lt;br/&gt;
@@ -91,6 +93,7 @@ public void testFullConfig() throws Exception &lt;/p&gt;
{
         assertEquals(&quot;Invalid overridden depth value&quot;, 8 , config.getDepth());
         assertEquals(&quot;Invalid overridden filter value&quot;, &quot;box&quot; , config.getFilter());
         assertEquals(&quot;Invalid overridden resize value&quot;, 300 , config.getResize());
+        assertEquals(&quot;Invalid overridden applyRotation value&quot;, true, config.getApplyRotation());
     }

&lt;p&gt;     @Test&lt;br/&gt;
diff --git a/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRParserTest.java b/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRParserTest.java&lt;br/&gt;
index 4c0ab76d7..4b210e10b 100644&lt;br/&gt;
&amp;#8212; a/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRParserTest.java&lt;br/&gt;
+++ b/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRParserTest.java&lt;br/&gt;
@@ -278,4 +278,20 @@ public void testInterwordSpacing() throws Exception {&lt;br/&gt;
         Matcher m = Pattern.compile(&quot;The&lt;br class=&quot;atl-forced-newline&quot; /&gt;s&lt;/p&gt;
{5,20}
&lt;p&gt;quick&quot;).matcher(xml);&lt;br/&gt;
         assertTrue(m.find());&lt;br/&gt;
     }&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void testRotatedOCR() throws Exception {&lt;br/&gt;
+    	if (TesseractOCRParser.hasPython()) &lt;/p&gt;
{
+    	
+    		TesseractOCRConfig config = new TesseractOCRConfig();
+    		config.setApplyRotation(true);
+    		config.setEnableImageProcessing(1);
+    		ParseContext parseContext = new ParseContext();
+    		parseContext.set(TesseractOCRConfig.class, config);
+    		assumeTrue(canRun(config));
+    		
+    		String ocr = getText(getResourceAsStream(&quot;/test-documents/testRotated.png&quot;), new AutoDetectParser(), parseContext);
+    		assertContains(&quot;Its had resolving otherwise she contented therefore&quot;, ocr);
+    	}
&lt;p&gt;+    }&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/tika-parsers/src/test/resources/test-documents/testRotated.png b/tika-parsers/src/test/resources/test-documents/testRotated.png&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..f535b5017&lt;br/&gt;
Binary files /dev/null and b/tika-parsers/src/test/resources/test-documents/testRotated.png differ&lt;br/&gt;
diff --git a/tika-parsers/src/test/resources/test-properties/TesseractOCRConfig-full.properties b/tika-parsers/src/test/resources/test-properties/TesseractOCRConfig-full.properties&lt;br/&gt;
index 3a96ef192..ddc54b99a 100644&lt;br/&gt;
&amp;#8212; a/tika-parsers/src/test/resources/test-properties/TesseractOCRConfig-full.properties&lt;br/&gt;
+++ b/tika-parsers/src/test/resources/test-properties/TesseractOCRConfig-full.properties&lt;br/&gt;
@@ -25,4 +25,5 @@ ImageMagickPath=/usr/local/bin&lt;br/&gt;
 density=200&lt;br/&gt;
 depth=8&lt;br/&gt;
 filter=box&lt;br/&gt;
-resize=300&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+resize=300&lt;br/&gt;
+applyRotation=true&lt;br/&gt;
\ No newline at end of file&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16265960" author="githubbot" created="Sun, 26 Nov 2017 10:51:12 +0000"  >&lt;p&gt;pmweiss opened a new pull request #183: fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt; contributed by pmweiss5&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/183&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16265962" author="githubbot" created="Sun, 26 Nov 2017 10:54:27 +0000"  >&lt;p&gt;dameikle commented on issue #183: fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt; contributed by pmweiss5&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/183#issuecomment-346999641&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/183#issuecomment-346999641&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Sorry, I didn&apos;t mean to close this, not enough morning coffee &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Thanks for the PR. Was looking to include this into the code base but the test image requires the default ImageMagick security limits (on Ubuntu at least) to be lifted. @pmweiss - do you have a smaller test image that would meet the limits? If not, I can create one.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16273690" author="githubbot" created="Fri, 1 Dec 2017 00:01:35 +0000"  >&lt;p&gt;dameikle closed pull request #183: fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt; contributed by pmweiss5&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/183&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/183&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;This is a PR merged from a forked repository.&lt;br/&gt;
As GitHub hides the original diff on merge, it is displayed below for&lt;br/&gt;
the sake of provenance:&lt;/p&gt;

&lt;p&gt;As this is a foreign pull request (from a fork), the diff is supplied&lt;br/&gt;
below (as it won&apos;t show otherwise due to GitHub magic):&lt;/p&gt;

&lt;p&gt;diff --git a/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRConfig.java b/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRConfig.java&lt;br/&gt;
index 624c97e39..c8c8bc93e 100644&lt;br/&gt;
&amp;#8212; a/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRConfig.java&lt;br/&gt;
+++ b/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRConfig.java&lt;br/&gt;
@@ -94,6 +94,9 @@&lt;br/&gt;
     // whether or not to preserve interword spacing&lt;br/&gt;
     private boolean preserveInterwordSpacing = false;&lt;/p&gt;

&lt;p&gt;+    // whether or not to apply rotation calculated by the rotation.py script&lt;br/&gt;
+    private boolean applyRotation = false;&lt;br/&gt;
+&lt;/p&gt;

&lt;p&gt;     /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Default contructor.&lt;br/&gt;
@@ -169,6 +172,8 @@ private void init(InputStream is) 
{
                 getProp(props, &quot;filter&quot;, getFilter()));
         setResize(
                 getProp(props, &quot;resize&quot;, getResize()));
+        setApplyRotation(
+        		getProp(props, &quot;applyRotation&quot;, getApplyRotation()));
 
     }&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;@@ -472,6 +477,23 @@ public void setImageMagickPath(String ImageMagickPath) &lt;/p&gt;
{
         this.ImageMagickPath = ImageMagickPath;
     }

&lt;p&gt;+    /**&lt;br/&gt;
+     * @return Whether or not a rotation value should be calculated and passed to ImageMagick before performing OCR.&lt;br/&gt;
+     * (Requires that Python is installed).&lt;br/&gt;
+     */&lt;br/&gt;
+    public boolean getApplyRotation() &lt;/p&gt;
{
+    	return this.applyRotation;
+    }
&lt;p&gt;+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Sets whether or not a rotation value should be calculated and passed to ImageMagick.&lt;br/&gt;
+     * &lt;br/&gt;
+     * @param true to calculate and apply rotation, false to skip.  Default is false, true required Python installed.&lt;br/&gt;
+     */&lt;br/&gt;
+    public void setApplyRotation(boolean applyRotation) &lt;/p&gt;
{
+    	this.applyRotation = applyRotation;
+    }
&lt;p&gt;+&lt;br/&gt;
     /**&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Get property from the properties file passed in.&lt;br/&gt;
      *&lt;br/&gt;
diff --git a/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java b/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;br/&gt;
index 121e096e1..c28f6e1aa 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;br/&gt;
+++ b/tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;br/&gt;
@@ -170,7 +170,7 @@ private boolean hasImageMagick(TesseractOCRConfig config) {&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     }&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private static boolean hasPython() {&lt;br/&gt;
+    static boolean hasPython() {&lt;br/&gt;
     	// check if python is installed and if the rotation program path has been specified correctly&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     	boolean hasPython = false;&lt;br/&gt;
@@ -321,7 +321,7 @@ private void processImage(File streamingObject, TesseractOCRConfig config) throw&lt;/p&gt;

&lt;p&gt;         // determine the angle of rotation required to make the text horizontal&lt;br/&gt;
         CommandLine cmdLine = CommandLine.parse(cmd);&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;if(hasPython()) {&lt;br/&gt;
+        if(config.getApplyRotation() &amp;amp;&amp;amp; hasPython()) {&lt;br/&gt;
             try {&lt;br/&gt;
                 executor.execute(cmdLine);&lt;br/&gt;
                 angle = outputStream.toString(&quot;UTF-8&quot;).trim();&lt;br/&gt;
diff --git a/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/TesseractOCRConfig.properties b/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/TesseractOCRConfig.properties&lt;br/&gt;
index 26b6031bc..73c9083ce 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/TesseractOCRConfig.properties&lt;br/&gt;
+++ b/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/TesseractOCRConfig.properties&lt;br/&gt;
@@ -32,4 +32,5 @@ density=300&lt;br/&gt;
 depth=4&lt;br/&gt;
 colorspace=gray&lt;br/&gt;
 filter=triangle&lt;br/&gt;
-resize=900&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+resize=900&lt;br/&gt;
+applyRotation=false&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
diff --git a/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/rotation.py b/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/rotation.py&lt;br/&gt;
index fb391f1fe..c619325e3 100644&lt;/li&gt;
			&lt;li&gt;a/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/rotation.py&lt;br/&gt;
+++ b/tika-parsers/src/main/resources/org/apache/tika/parser/ocr/rotation.py&lt;br/&gt;
@@ -46,12 +46,12 @@ def main(argv):&lt;br/&gt;
 	     filename = arg&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; 	try:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;from parabolic import parabolic&lt;br/&gt;
+	  from parabolic import parabolic&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; 	  def argmax&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;return parabolic(x, numpy.argmax&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;/li&gt;
	&lt;li&gt;except ImportError:&lt;/li&gt;
	&lt;li&gt;from numpy import argmax&lt;br/&gt;
+	   	return parabolic(x, numpy.argmax&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;span class=&quot;error&quot;&gt;&amp;#91;0&amp;#93;&lt;/span&gt;&lt;br/&gt;
+	except ImportError:&lt;br/&gt;
+	  from numpy import argmax&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;Load file, converting to grayscale&lt;br/&gt;
 	I = asarray(Image.open(filename).convert(&apos;L&apos;))&lt;br/&gt;
@@ -69,4 +69,4 @@ def argmax&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/error.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;:&lt;br/&gt;
 	print(&apos;{:.2f}&apos;.format(-(90-rotation)))&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt; if _&lt;em&gt;name&lt;/em&gt;_ == &quot;_&lt;em&gt;main&lt;/em&gt;_&quot;:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;main(sys.argv&lt;span class=&quot;error&quot;&gt;&amp;#91;1:&amp;#93;&lt;/span&gt;)&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+	main(sys.argv&lt;span class=&quot;error&quot;&gt;&amp;#91;1:&amp;#93;&lt;/span&gt;)&lt;br/&gt;
diff --git a/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRConfigTest.java b/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRConfigTest.java&lt;br/&gt;
index adec5dbc8..8e22f21aa 100644
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;a/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRConfigTest.java&lt;br/&gt;
+++ b/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRConfigTest.java&lt;br/&gt;
@@ -47,6 +47,7 @@ public void testNoConfig() throws Exception 
{
         assertEquals(&quot;Invalid default colorpsace value&quot;, &quot;gray&quot; , config.getColorspace());
         assertEquals(&quot;Invalid default filter value&quot;, &quot;triangle&quot; , config.getFilter());
         assertEquals(&quot;Invalid default resize value&quot;, 900 , config.getResize());
+        assertEquals(&quot;Invalid default applyRotation value&quot;, false, config.getApplyRotation());
     }&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;     @Test&lt;br/&gt;
@@ -68,6 +69,7 @@ public void testPartialConfig() throws Exception &lt;/p&gt;
{
         assertEquals(&quot;Invalid overridden depth value&quot;, 8 , config.getDepth());
         assertEquals(&quot;Invalid overridden filter value&quot;, &quot;box&quot; , config.getFilter());	
         assertEquals(&quot;Invalid overridden resize value&quot;, 300 , config.getResize());
+        assertEquals(&quot;Invalid default applyRotation value&quot;, false, config.getApplyRotation());
     }

&lt;p&gt;     @Test&lt;br/&gt;
@@ -91,6 +93,7 @@ public void testFullConfig() throws Exception &lt;/p&gt;
{
         assertEquals(&quot;Invalid overridden depth value&quot;, 8 , config.getDepth());
         assertEquals(&quot;Invalid overridden filter value&quot;, &quot;box&quot; , config.getFilter());
         assertEquals(&quot;Invalid overridden resize value&quot;, 300 , config.getResize());
+        assertEquals(&quot;Invalid overridden applyRotation value&quot;, true, config.getApplyRotation());
     }

&lt;p&gt;     @Test&lt;br/&gt;
diff --git a/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRParserTest.java b/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRParserTest.java&lt;br/&gt;
index 4c0ab76d7..4b210e10b 100644&lt;br/&gt;
&amp;#8212; a/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRParserTest.java&lt;br/&gt;
+++ b/tika-parsers/src/test/java/org/apache/tika/parser/ocr/TesseractOCRParserTest.java&lt;br/&gt;
@@ -278,4 +278,20 @@ public void testInterwordSpacing() throws Exception {&lt;br/&gt;
         Matcher m = Pattern.compile(&quot;The&lt;br class=&quot;atl-forced-newline&quot; /&gt;s&lt;/p&gt;
{5,20}
&lt;p&gt;quick&quot;).matcher(xml);&lt;br/&gt;
         assertTrue(m.find());&lt;br/&gt;
     }&lt;br/&gt;
+&lt;br/&gt;
+    @Test&lt;br/&gt;
+    public void testRotatedOCR() throws Exception {&lt;br/&gt;
+    	if (TesseractOCRParser.hasPython()) &lt;/p&gt;
{
+    	
+    		TesseractOCRConfig config = new TesseractOCRConfig();
+    		config.setApplyRotation(true);
+    		config.setEnableImageProcessing(1);
+    		ParseContext parseContext = new ParseContext();
+    		parseContext.set(TesseractOCRConfig.class, config);
+    		assumeTrue(canRun(config));
+    		
+    		String ocr = getText(getResourceAsStream(&quot;/test-documents/testRotated.png&quot;), new AutoDetectParser(), parseContext);
+    		assertContains(&quot;Its had resolving otherwise she contented therefore&quot;, ocr);
+    	}
&lt;p&gt;+    }&lt;br/&gt;
 }&lt;br/&gt;
diff --git a/tika-parsers/src/test/resources/test-documents/testRotated.png b/tika-parsers/src/test/resources/test-documents/testRotated.png&lt;br/&gt;
new file mode 100644&lt;br/&gt;
index 000000000..f535b5017&lt;br/&gt;
Binary files /dev/null and b/tika-parsers/src/test/resources/test-documents/testRotated.png differ&lt;br/&gt;
diff --git a/tika-parsers/src/test/resources/test-properties/TesseractOCRConfig-full.properties b/tika-parsers/src/test/resources/test-properties/TesseractOCRConfig-full.properties&lt;br/&gt;
index 3a96ef192..ddc54b99a 100644&lt;br/&gt;
&amp;#8212; a/tika-parsers/src/test/resources/test-properties/TesseractOCRConfig-full.properties&lt;br/&gt;
+++ b/tika-parsers/src/test/resources/test-properties/TesseractOCRConfig-full.properties&lt;br/&gt;
@@ -25,4 +25,5 @@ ImageMagickPath=/usr/local/bin&lt;br/&gt;
 density=200&lt;br/&gt;
 depth=8&lt;br/&gt;
 filter=box&lt;br/&gt;
-resize=300&lt;br/&gt;
\ No newline at end of file&lt;br/&gt;
+resize=300&lt;br/&gt;
+applyRotation=true&lt;br/&gt;
\ No newline at end of file&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16273692" author="githubbot" created="Fri, 1 Dec 2017 00:03:54 +0000"  >&lt;p&gt;dameikle commented on issue #183: fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt; contributed by pmweiss5&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/183#issuecomment-348360971&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/183#issuecomment-348360971&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   I&apos;ve added a smaller image and adapted the Python check to check for the dependencies as well to ensure the test can run on machines that have Python but not all of the dependencies. Thanks again @pmweiss &lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16273884" author="hudson" created="Fri, 1 Dec 2017 03:38:48 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1403 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1403/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1403/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt;: Added check for Python dependencies (david: &lt;a href=&quot;https://github.com/apache/tika/commit/7a9411f9d06a667114f9ea67ad48f1099be1ec3b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/7a9411f9d06a667114f9ea67ad48f1099be1ec3b&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16273892" author="hudson" created="Fri, 1 Dec 2017 03:48:36 +0000"  >&lt;p&gt;FAILURE: Integrated in Jenkins build Tika-trunk #1404 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1404/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1404/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt;: Updated check for Python dependencies to use temporary script (david: &lt;a href=&quot;https://github.com/apache/tika/commit/aff782d5e88a3616055451de9526c0a40774bf87&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/aff782d5e88a3616055451de9526c0a40774bf87&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt;: Fixed typo in dependency checker script (david: &lt;a href=&quot;https://github.com/apache/tika/commit/f3acc8f23c2f0b5fb59e3587b605486b74d0c4f8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/f3acc8f23c2f0b5fb59e3587b605486b74d0c4f8&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16273977" author="hudson" created="Fri, 1 Dec 2017 05:57:11 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1405 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1405/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1405/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2385&quot; title=&quot;Tesseract OCR rotation.py not run&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2385&quot;&gt;&lt;del&gt;TIKA-2385&lt;/del&gt;&lt;/a&gt;: Removed deprecated call (david: &lt;a href=&quot;https://github.com/apache/tika/commit/50295be0e1cd434228ac588a0299718c512436e8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/50295be0e1cd434228ac588a0299718c512436e8&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/ocr/TesseractOCRParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 50 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3ftrr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>