<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:02:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2310] Try to order chapters in epub correctly</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2310</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=johanvanderknijff&quot; class=&quot;user-hover&quot; rel=&quot;johanvanderknijff&quot;&gt;johanvanderknijff&lt;/a&gt; recently pointed out on twitter that our Epub parser doesn&apos;t handle chapters in the right order.  We should try to fix our parser so that the output is in the correct order.&lt;/p&gt;

&lt;p&gt;Epub is new to me, but it looks like we can scrape the order out of content.opf&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;This would require dumping the stream to a ZipFile for direct access to zip entries, but we require that of ooxml...&lt;/p&gt;</description>
                <environment></environment>
        <key id="13058923">TIKA-2310</key>
            <summary>Try to order chapters in epub correctly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison">Tim Allison</assignee>
                                    <reporter username="tallison">Tim Allison</reporter>
                        <labels>
                    </labels>
                <created>Fri, 24 Mar 2017 15:28:20 +0000</created>
                <updated>Fri, 17 Jan 2020 22:22:14 +0000</updated>
                            <resolved>Thu, 21 Mar 2019 20:45:03 +0000</resolved>
                                                    <fixVersion>1.21</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16798411" author="tallison@mitre.org" created="Thu, 21 Mar 2019 20:45:03 +0000"  >&lt;p&gt;At last.... 3 days short of 2 years!&#160; Woohoo!!!&lt;/p&gt;</comment>
                            <comment id="16798470" author="hudson" created="Thu, 21 Mar 2019 21:48:43 +0000"  >&lt;p&gt;UNSTABLE: Integrated in Jenkins build tika-2.x-windows #393 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x-windows/393/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x-windows/393/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2841&quot; title=&quot;Improve robustness of parsers of zip-based files on truncated files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2841&quot;&gt;&lt;del&gt;TIKA-2841&lt;/del&gt;&lt;/a&gt; - focusing on epub, but also fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2310&quot; title=&quot;Try to order chapters in epub correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2310&quot;&gt;&lt;del&gt;TIKA-2310&lt;/del&gt;&lt;/a&gt;, and handling (tallison: rev 4131c6e30f2e0eb1feb85e0f7576531d4e830468)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/test/java/org/apache/tika/TikaTest.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/main/java/org/apache/tika/parser/utils/ZipSalvager.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/epub/EpubParserTest.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/org/apache/tika/parser/epub/tika-config.xml&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/resources/test-documents/testEPUB.epub&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/utils/XMLReaderUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/microsoft/ooxml/OOXMLExtractorFactory.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/microsoft/ooxml/TruncatedOOXMLTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/dbf/DBFParserTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/epub/EpubParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16798480" author="hudson" created="Thu, 21 Mar 2019 22:05:04 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1637 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1637/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1637/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2841&quot; title=&quot;Improve robustness of parsers of zip-based files on truncated files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2841&quot;&gt;&lt;del&gt;TIKA-2841&lt;/del&gt;&lt;/a&gt; - focusing on epub, but also fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2310&quot; title=&quot;Try to order chapters in epub correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2310&quot;&gt;&lt;del&gt;TIKA-2310&lt;/del&gt;&lt;/a&gt;, and handling (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/4131c6e30f2e0eb1feb85e0f7576531d4e830468&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/4131c6e30f2e0eb1feb85e0f7576531d4e830468&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/test/java/org/apache/tika/TikaTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/dbf/DBFParserTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/utils/XMLReaderUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/epub/EpubParserTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/epub/EpubParser.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/microsoft/ooxml/TruncatedOOXMLTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/microsoft/ooxml/OOXMLExtractorFactory.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/org/apache/tika/parser/epub/tika-config.xml&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/resources/test-documents/testEPUB.epub&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/main/java/org/apache/tika/parser/utils/ZipSalvager.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16798484" author="hudson" created="Thu, 21 Mar 2019 22:06:48 +0000"  >&lt;p&gt;UNSTABLE: Integrated in Jenkins build tika-branch-1x #174 (See &lt;a href=&quot;https://builds.apache.org/job/tika-branch-1x/174/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-branch-1x/174/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2841&quot; title=&quot;Improve robustness of parsers of zip-based files on truncated files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2841&quot;&gt;&lt;del&gt;TIKA-2841&lt;/del&gt;&lt;/a&gt; - focusing on epub, but also fixing &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2310&quot; title=&quot;Try to order chapters in epub correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2310&quot;&gt;&lt;del&gt;TIKA-2310&lt;/del&gt;&lt;/a&gt;, and handling (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/b437e212afd5d04022e0f5224c7f3cfc17ed4e74&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/b437e212afd5d04022e0f5224c7f3cfc17ed4e74&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/microsoft/ooxml/TruncatedOOXMLTest.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/org/apache/tika/parser/epub/tika-config.xml&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/epub/EpubParser.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/dbf/DBFParserTest.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/main/java/org/apache/tika/parser/utils/ZipSalvager.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/resources/test-documents/testEPUB.epub&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/utils/XMLReaderUtils.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/microsoft/ooxml/OOXMLExtractorFactory.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/test/java/org/apache/tika/TikaTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/epub/EpubParserTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17012593" author="alzhukov" created="Fri, 10 Jan 2020 09:07:38 +0000"  >&lt;p&gt;Opf file does correctly processed, but EpubParser implementation presumes that spine contents are to be placed into htm and html files only (see EpubParser.java:282) and ignores those with different type. But looks like EPUB specification (&lt;a href=&quot;#dfn-epub-content-document]&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;link&lt;/a&gt;) does allow file extension that are differ from htm/html and there may exist epub files (see attached) that can&apos;t be correctly parsed&#160;&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12990496/12990496_Dzhordzh_Oruell_1984_en_.epub&quot; title=&quot;Dzhordzh_Oruell_1984_en_.epub attached to TIKA-2310&quot;&gt;Dzhordzh_Oruell_1984_en_.epub&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17018296" author="tallison@mitre.org" created="Fri, 17 Jan 2020 20:40:30 +0000"  >&lt;p&gt;Thank you &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alzhukov&quot; class=&quot;user-hover&quot; rel=&quot;alzhukov&quot;&gt;alzhukov&lt;/a&gt;.&#160; I &lt;em&gt;think&lt;/em&gt; I just fixed this.&#160; Should be fixed in the 1.24 release or a nightly build.&lt;/p&gt;</comment>
                            <comment id="17018355" author="hudson" created="Fri, 17 Jan 2020 22:14:45 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1765 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1765/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1765/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2310&quot; title=&quot;Try to order chapters in epub correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2310&quot;&gt;&lt;del&gt;TIKA-2310&lt;/del&gt;&lt;/a&gt; &amp;#8211; epub parser should parse contents ending in .xml (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/f5fa65fcc54f08e6ba57cb4b396753fbaa918c4a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/f5fa65fcc54f08e6ba57cb4b396753fbaa918c4a&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/epub/EpubParser.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/epub/EpubParserTest.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/test-documents/testEPUB_xml_ext.epub&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17018361" author="hudson" created="Fri, 17 Jan 2020 22:22:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build tika-branch-1x #299 (See &lt;a href=&quot;https://builds.apache.org/job/tika-branch-1x/299/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-branch-1x/299/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2310&quot; title=&quot;Try to order chapters in epub correctly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2310&quot;&gt;&lt;del&gt;TIKA-2310&lt;/del&gt;&lt;/a&gt; &amp;#8211; epub parser should parse contents ending in .xml (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/480e7046928bb6ead98a2f469731340c2e310cd7&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/480e7046928bb6ead98a2f469731340c2e310cd7&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/parser/epub/EpubParserTest.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/test-documents/testEPUB_xml_ext.epub&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/epub/EpubParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12990496" name="Dzhordzh_Oruell_1984_en_.epub" size="286480" author="alzhukov" created="Fri, 10 Jan 2020 09:01:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 43 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3cr73:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>