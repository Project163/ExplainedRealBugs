<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:00:54 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2251] TIKA-198 due to java.util.zip.ZipException: invalid literal/lengths set</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2251</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;I got an exception to extract text from file. See stacktrace associated and file attached to reproduce:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;org.apache.tika.exception.TikaException: TIKA-198: Illegal IOException from org.apache.tika.parser.microsoft.ooxml.OOXMLParser@7f54cc49
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:286)
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)
	... 16 more
Caused by: java.util.zip.ZipException: invalid literal/lengths set
	at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:164)
	at java.util.zip.InflaterInputStream.read(InflaterInputStream.java:122)
	at org.apache.poi.openxml4j.util.ZipSecureFile$ThresholdInputStream.read(ZipSecureFile.java:207)
	at org.apache.xerces.impl.XMLEntityManager$RewindableInputStream.read(Unknown Source)
	at org.apache.xerces.impl.XMLEntityManager.setupCurrentEntity(Unknown Source)
	at org.apache.xerces.impl.XMLVersionDetector.determineDocVersion(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XML11Configuration.parse(Unknown Source)
	at org.apache.xerces.parsers.XMLParser.parse(Unknown Source)
	at org.apache.xerces.parsers.DOMParser.parse(Unknown Source)
	at org.apache.xerces.jaxp.DocumentBuilderImpl.parse(Unknown Source)
	at javax.xml.parsers.DocumentBuilder.parse(DocumentBuilder.java:121)
	at org.apache.poi.util.DocumentHelper.readDocument(DocumentHelper.java:137)
	at org.apache.poi.POIXMLTypeLoader.parse(POIXMLTypeLoader.java:115)
	at org.openxmlformats.schemas.wordprocessingml.x2006.main.HdrDocument$Factory.parse(Unknown Source)
	at org.apache.poi.xwpf.usermodel.XWPFHeader.onDocumentRead(XWPFHeader.java:108)
	at org.apache.poi.xwpf.usermodel.XWPFDocument.onDocumentRead(XWPFDocument.java:212)
	at org.apache.poi.POIXMLDocument.load(POIXMLDocument.java:190)
	at org.apache.poi.xwpf.usermodel.XWPFDocument.&amp;lt;init&amp;gt;(XWPFDocument.java:124)
	at org.apache.poi.xwpf.extractor.XWPFWordExtractor.&amp;lt;init&amp;gt;(XWPFWordExtractor.java:58)
	at org.apache.poi.extractor.ExtractorFactory.createExtractor(ExtractorFactory.java:232)
	at org.apache.tika.parser.microsoft.ooxml.OOXMLExtractorFactory.parse(OOXMLExtractorFactory.java:86)
	at org.apache.tika.parser.microsoft.ooxml.OOXMLParser.parse(OOXMLParser.java:87)
	at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280)
	... 23 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13038114">TIKA-2251</key>
            <summary>TIKA-198 due to java.util.zip.ZipException: invalid literal/lengths set</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="Giorgy">Jorge Spinsanti</reporter>
                        <labels>
                    </labels>
                <created>Thu, 26 Jan 2017 13:26:22 +0000</created>
                <updated>Thu, 26 Jan 2017 15:52:14 +0000</updated>
                                                                            <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15839689" author="tallison@mitre.org" created="Thu, 26 Jan 2017 13:47:31 +0000"  >&lt;p&gt;Thank you for opening this issue.&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;header1.xml&lt;/tt&gt; appears to be genuinely corrupt.  Winzip isn&apos;t able to decompress it.  MSWord complains that something is wrong with the file and offers to fix it.&lt;/p&gt;

&lt;p&gt;The new experimental SAX docx parser throws the same Exception. &lt;/p&gt;

&lt;p&gt;Would your preference be to catch+log this exception and continue with extraction with null headers?&lt;/p&gt;
</comment>
                            <comment id="15839709" author="giorgy" created="Thu, 26 Jan 2017 14:01:43 +0000"  >&lt;blockquote&gt;
&lt;p&gt;Would your preference be to catch+log this exception and continue with extraction with null headers?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;How I can extract the content with null headers?&lt;/p&gt;

&lt;p&gt;Anyway, I have many other files that thrown the same error. These files are generated for different users so we don&apos;t have the control about the files.&lt;/p&gt;

&lt;p&gt;OpenOffice opens the file without problem and if I save again the file maintaining Word compatibility, fix the problem with the file.&lt;/p&gt;

&lt;p&gt;This explanation helps about the problem?&lt;/p&gt;</comment>
                            <comment id="15839727" author="tallison@mitre.org" created="Thu, 26 Jan 2017 14:18:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;OpenOffice opens the file without problem&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ha...LibreOffice can&apos;t open the file.  When you open the file with OpenOffice, do you see any headers in the file?  I suspect OpenOffice is swallowing the exception while trying to read &lt;tt&gt;header1.xml&lt;/tt&gt;.  &lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;How I can extract the content with null headers?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;My proposal is for our code to catch+log the exception while reading the &lt;tt&gt;header1.xml&lt;/tt&gt; and extract the rest of the content from the document.  How does that sound?  I can only make this fix with our new SAX docx parser because the classic DOM parser isn&apos;t designed to handle corrupt docs.&lt;/p&gt;</comment>
                            <comment id="15839895" author="hudson" created="Thu, 26 Jan 2017 15:48:24 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1189 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1189/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1189/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2251&quot; title=&quot;TIKA-198 due to java.util.zip.ZipException: invalid literal/lengths set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2251&quot;&gt;TIKA-2251&lt;/a&gt; &amp;#8211;  make catch blocks as small as possible and improve (tallison: rev 280ab87e859ef3ca511994b9b7c2a21c8e0d7511)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/microsoft/ooxml/SXSLFPowerPointExtractorDecorator.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/microsoft/ooxml/SXWPFWordExtractorDecorator.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/microsoft/ooxml/xwpf/XWPFStylesShim.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15839900" author="hudson" created="Thu, 26 Jan 2017 15:52:14 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build tika-2.x #208 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x/208/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x/208/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2251&quot; title=&quot;TIKA-198 due to java.util.zip.ZipException: invalid literal/lengths set&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2251&quot;&gt;TIKA-2251&lt;/a&gt; improve exception handling in SAX pptx/docx parsers (tallison: rev 3df8ce8b23f40f7beb9519ab0c0ea642b4737130)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parser-modules/tika-parser-office-module/src/main/java/org/apache/tika/parser/microsoft/ooxml/SXSLFPowerPointExtractorDecorator.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parser-modules/tika-parser-office-module/src/main/java/org/apache/tika/parser/microsoft/ooxml/SXWPFWordExtractorDecorator.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parser-modules/tika-parser-office-module/src/main/java/org/apache/tika/parser/microsoft/ooxml/xwpf/XWPFStylesShim.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="12849493" name="ZipException.docx" size="45184" author="Giorgy" created="Thu, 26 Jan 2017 13:27:07 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 42 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i398rj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>