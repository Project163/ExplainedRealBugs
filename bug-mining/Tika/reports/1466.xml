<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:05:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-4441] InputStream is consumed by Tika.detect for certain files</title>
                <link>https://issues.apache.org/jira/browse/TIKA-4441</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Hello,&lt;br/&gt;
We&apos;ve been using Tika version 3.1.0 to successfully detect MimeTypes from files before uploading them to our S3.&lt;br/&gt;
However, after v3.2.0 upgrade, we&apos;ve noticed that the original inputStream is being consumed entirely for certain file extensions.&lt;br/&gt;
The affected extensions seem to be all for Microsoft files, pointing us to the&#160;POIFSContainerDetector, which was actually changed for this release.&#160;&lt;br/&gt;
This is the list of extensions we&apos;ve tested with errors: doc, docx, odt, ppt, pptx, xls, xlsx&lt;br/&gt;
And these&#160;ones work as before: bmp, csv, gif, jpeg, jpg, pdf, png, rtf, svg, txt&lt;br/&gt;
&#160;&lt;br/&gt;
Here&apos;s some code to reproduce&#160;the issue:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
 &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;TikaBugReport {

    &lt;span class=&quot;code-comment&quot;&gt;// affected extensions: doc, docx, odt, ppt, pptx, xls, xlsx 
&lt;/span&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void main(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;[] args) &lt;span class=&quot;code-keyword&quot;&gt;throws&lt;/span&gt; IOException {
        &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileName = &lt;span class=&quot;code-quote&quot;&gt;&quot;Test.docx&quot;&lt;/span&gt;;
        InputStream inputStream = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ClassPathResource(fileName).getInputStream();
        checkFileMime(inputStream, fileName);
    }

    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; void checkFileMime(InputStream inputStream, &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; fileName) {
        &lt;span class=&quot;code-keyword&quot;&gt;try&lt;/span&gt; {
            Tika tika = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tika();
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;InputStream available bytes before processing: &quot;&lt;/span&gt; + inputStream.available());
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;InputStream supports mark: &quot;&lt;/span&gt; + inputStream.markSupported());

            Metadata metadata = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Metadata();

            TikaInputStream tikaInputStream = TikaInputStream.get(inputStream);
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Original InputStream available bytes after TikaInputStream.get(): &quot;&lt;/span&gt; + inputStream.available());

            &lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt; mimeType = tika.detect(tikaInputStream, metadata);

            &lt;span class=&quot;code-comment&quot;&gt;// Debug: Check state after detection
&lt;/span&gt;            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Original InputStream available bytes after tika.detect(): &quot;&lt;/span&gt; + inputStream.available());
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;TikaInputStream available bytes after tika.detect(): &quot;&lt;/span&gt; + tikaInputStream.available());
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (inputStream.available() == 0) {
                &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalStateException(&lt;span class=&quot;code-quote&quot;&gt;&quot;InputStream is empty after TikaInputStream creation&quot;&lt;/span&gt;);
            }

        } &lt;span class=&quot;code-keyword&quot;&gt;catch&lt;/span&gt; (Exception e) {
            &lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.printf(&lt;span class=&quot;code-quote&quot;&gt;&quot;Mime check exception &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; file &lt;span class=&quot;code-quote&quot;&gt;&apos;%s&apos;&lt;/span&gt;: [%s]%n&quot;&lt;/span&gt;, fileName, e.getMessage());
        }
    }
}&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;


&lt;p&gt;After testing version 3.2.1, the issue is fixed for most file extensions, but .doc, .ppt and .xls extensions are still failing. Find sample files attached&lt;br/&gt;
&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13621566">TIKA-4441</key>
            <summary>InputStream is consumed by Tika.detect for certain files</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="alvaritez">Alvaro</reporter>
                        <labels>
                    </labels>
                <created>Mon, 23 Jun 2025 13:20:37 +0000</created>
                <updated>Fri, 27 Jun 2025 06:45:25 +0000</updated>
                            <resolved>Wed, 25 Jun 2025 18:31:27 +0000</resolved>
                                    <version>3.2.0</version>
                    <version>3.2.1</version>
                                    <fixVersion>3.2.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17985655" author="tilman" created="Mon, 23 Jun 2025 15:42:53 +0000"  >&lt;p&gt;I can reproduce it but I&apos;d argue that detect only makes the promise &quot;is marked and reset to the original position&quot; for the passed parameter, but not for whatever that parameter was based on. But yeah, it&apos;s weird.&lt;/p&gt;</comment>
                            <comment id="17985773" author="JIRAUSER310087" created="Tue, 24 Jun 2025 05:36:20 +0000"  >&lt;p&gt;It was working like that in version 3.1.0. If there are any alternatives, I&apos;m happy to try them&lt;/p&gt;</comment>
                            <comment id="17986112" author="tallison@mitre.org" created="Wed, 25 Jun 2025 11:21:54 +0000"  >&lt;p&gt;I&apos;ll take a look today. If this is worth a 3.2.1-rc2, I&apos;ll cancel the vote, fix this and then respin.&lt;/p&gt;</comment>
                            <comment id="17986117" author="tilman" created="Wed, 25 Jun 2025 11:43:12 +0000"  >&lt;p&gt;I deleted my earlier post because it just confirmed the initial argument. Anyway, here&apos;s a simpler test:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
InputStream is = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; URI(&lt;span class=&quot;code-quote&quot;&gt;&quot;https:&lt;span class=&quot;code-comment&quot;&gt;//issues.apache.org/jira/secure/attachment/13077181/Test.doc&quot;&lt;/span&gt;).toURL().openStream();
&lt;/span&gt;&lt;span class=&quot;code-object&quot;&gt;byte&lt;/span&gt;[] ba = is.readAllBytes();
is.close();
InputStream is2 = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; ByteArrayInputStream(ba);
TikaInputStream tikaInputStream = TikaInputStream.get(is2);
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;InputStream available bytes before processing: &quot;&lt;/span&gt; + is2.available());
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;InputStream supports mark: &quot;&lt;/span&gt; + is2.markSupported());
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Tika version: &quot;&lt;/span&gt; + &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Tika());
POIFSContainerDetector poifsContainerDetector = &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; POIFSContainerDetector();
MediaType detected2 = poifsContainerDetector.detect(tikaInputStream, &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; Metadata());
&lt;span class=&quot;code-object&quot;&gt;System&lt;/span&gt;.out.println(&lt;span class=&quot;code-quote&quot;&gt;&quot;Original InputStream available bytes after detect(): &quot;&lt;/span&gt; + is2.available() + &lt;span class=&quot;code-quote&quot;&gt;&quot;, detected: &quot;&lt;/span&gt; + detected2);
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;output:&lt;/p&gt;

&lt;p&gt;InputStream available bytes before processing: 98304&lt;br/&gt;
InputStream supports mark: true&lt;br/&gt;
Tika version: Apache Tika 3.2.1&lt;br/&gt;
Original InputStream available bytes after detect(): 0, detected: application/msword&lt;/p&gt;
</comment>
                            <comment id="17986194" author="tallison@mitre.org" created="Wed, 25 Jun 2025 17:11:03 +0000"  >&lt;p&gt;This is tricky. It was a breaking change, and I&apos;m sorry for that.&lt;/p&gt;

&lt;p&gt;The challenge is that we want to have a use case where we spool the entire stream to disk for accurate POIFS container detection. TikaInputStream allows that with &lt;tt&gt;getPath(-1)&lt;/tt&gt;. The problem is that if there&apos;s an underlying stream, we can&apos;t spool the full stream to disk and then reset the underlying stream. We have to set some limit. Before the last code change, the limit was 128MB.&lt;/p&gt;

&lt;p&gt;When I revert that now, everything works as expected.&lt;/p&gt;

&lt;p&gt;I propose that we revert this in 3.x, and document this change in 4.x/main.&lt;/p&gt;

&lt;p&gt;Users can configure the marklimit in both 3.x and 4.x...along these lines. I confirmed that this fixes the problem.&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&amp;gt;
&amp;lt;properties&amp;gt;
  &amp;lt;detectors&amp;gt;
    &amp;lt;detector class=&quot;org.gagravarr.tika.OggDetector&quot;/&amp;gt;
    &amp;lt;detector class=&quot;org.apache.tika.detect.apple.BPListDetector&quot;/&amp;gt;
    &amp;lt;detector class=&quot;org.apache.tika.detect.gzip.GZipSpecializationDetector&quot;/&amp;gt;
    &amp;lt;detector class=&quot;org.apache.tika.detect.microsoft.POIFSContainerDetector&quot;&amp;gt;
      &amp;lt;params&amp;gt;
        &amp;lt;param name=&quot;markLimit&quot; type=&quot;int&quot;&amp;gt;1200000&amp;lt;/param&amp;gt;
      &amp;lt;/params&amp;gt;
    &amp;lt;/detector&amp;gt;
    &amp;lt;detector class=&quot;org.apache.tika.detect.ole.MiscOLEDetector&quot;/&amp;gt;
    &amp;lt;detector class=&quot;org.apache.tika.detect.zip.DefaultZipContainerDetector&quot;&amp;gt;
      &amp;lt;params&amp;gt;
        &amp;lt;param name=&quot;markLimit&quot; type=&quot;int&quot;&amp;gt;16777216&amp;lt;/param&amp;gt;
      &amp;lt;/params&amp;gt;
    &amp;lt;/detector&amp;gt;
    &amp;lt;detector class=&quot;org.apache.tika.mime.MimeTypes&quot;/&amp;gt;
  &amp;lt;/detectors&amp;gt;
&amp;lt;/properties&amp;gt;  &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17986195" author="tallison@mitre.org" created="Wed, 25 Jun 2025 17:12:07 +0000"  >&lt;p&gt;If you set the marklimit to, say, 120, you&apos;ll get a warning and non-precise detection:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;WARN &#160;[main] 13:11:34,616 org.apache.tika.detect.microsoft.POIFSContainerDetector File length exceeds marklimit. Skipping detection on this file. If you need precise detection, consider increasing the marklimit or setting it to -1
Original InputStream available bytes after detect(): 98304, detected: application/x-tika-msoffice &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17986196" author="tallison@mitre.org" created="Wed, 25 Jun 2025 17:12:38 +0000"  >&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@Test
public void testDetector() throws Exception {
    String config = &quot;&quot;&quot;
            &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; standalone=&quot;no&quot;?&amp;gt;
            &amp;lt;properties&amp;gt;
             &amp;lt;detectors&amp;gt;
             &amp;lt;detector class=&quot;org.gagravarr.tika.OggDetector&quot;/&amp;gt;
            &amp;lt;detector class=&quot;org.apache.tika.detect.apple.BPListDetector&quot;/&amp;gt;
            &amp;lt;detector class=&quot;org.apache.tika.detect.gzip.GZipSpecializationDetector&quot;/&amp;gt;
            &amp;lt;detector class=&quot;org.apache.tika.detect.microsoft.POIFSContainerDetector&quot;&amp;gt;
                  &amp;lt;params&amp;gt;
                    &amp;lt;param name=&quot;markLimit&quot; type=&quot;int&quot;&amp;gt;120&amp;lt;/param&amp;gt;
            &amp;lt;/params&amp;gt;
                &amp;lt;/detector&amp;gt;
            &amp;lt;detector class=&quot;org.apache.tika.detect.ole.MiscOLEDetector&quot;/&amp;gt;
             &amp;lt;detector class=&quot;org.apache.tika.detect.zip.DefaultZipContainerDetector&quot;&amp;gt;
             &amp;lt;params&amp;gt;
             &amp;lt;param name=&quot;markLimit&quot; type=&quot;int&quot;&amp;gt;16777216&amp;lt;/param&amp;gt;
             &amp;lt;/params&amp;gt;
            &amp;lt;/detector&amp;gt;
            &amp;lt;detector class=&quot;org.apache.tika.mime.MimeTypes&quot;/&amp;gt;
            &amp;lt;/detectors&amp;gt;
            &amp;lt;/properties&amp;gt;
            &quot;&quot;&quot;;
    TikaConfig tikaConfig = new TikaConfig(new ByteArrayInputStream(config.getBytes(StandardCharsets.UTF_8)));
    Tika tika = new Tika(tikaConfig);
    try (InputStream is = new URI(&quot;https://issues.apache.org/jira/secure/attachment/13077181/Test.doc&quot;).toURL().openStream()) {
        byte[] ba = is.readAllBytes();
        is.close();
        InputStream is2 = new ByteArrayInputStream(ba);
        TikaInputStream tikaInputStream = TikaInputStream.get(is2);
        System.out.println(&quot;InputStream available bytes before processing: &quot; + is2.available());
        System.out.println(&quot;InputStream supports mark: &quot; + is2.markSupported());
        System.out.println(&quot;Tika version: &quot; + new Tika());
        String detected2 = tika.detect(tikaInputStream, new Metadata());
        System.out.println(&quot;Original InputStream available bytes after detect(): &quot; + is2.available() + &quot;, detected: &quot; + detected2);
        ByteArrayOutputStream baos = new ByteArrayOutputStream();
        int c = is2.read();
        while (c &amp;gt; -1) {
            baos.write(c);
            c = is2.read();
        }
        System.out.println(&quot;ACTUALLY READ &quot; + baos.size());
    } &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17986216" author="githubbot" created="Wed, 25 Jun 2025 18:03:13 +0000"  >&lt;p&gt;tballison opened a new pull request, #2261:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/2261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/2261&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;lt;!--&lt;br/&gt;
     Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
     or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
     distributed with this work for additional information&lt;br/&gt;
     regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
     to you under the Apache License, Version 2.0 (the&lt;br/&gt;
     &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
     with the License.  You may obtain a copy of the License at&lt;/p&gt;

&lt;p&gt;       &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     Unless required by applicable law or agreed to in writing,&lt;br/&gt;
     software distributed under the License is distributed on an&lt;br/&gt;
     &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
     KIND, either express or implied.  See the License for the&lt;br/&gt;
     specific language governing permissions and limitations&lt;br/&gt;
     under the License.&lt;br/&gt;
   --&amp;gt;&lt;/p&gt;

&lt;p&gt;   Thanks for your contribution to &lt;span class=&quot;error&quot;&gt;&amp;#91;Apache Tika&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://tika.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://tika.apache.org/&lt;/a&gt;)! Your help is appreciated!&lt;/p&gt;

&lt;p&gt;   Before opening the pull request, please verify that&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;there is an open issue on the &lt;span class=&quot;error&quot;&gt;&amp;#91;Tika issue tracker&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/projects/TIKA&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/projects/TIKA&lt;/a&gt;) which describes the problem or the improvement. We cannot accept pull requests without an issue because the change wouldn&apos;t be listed in the release notes.&lt;/li&gt;
	&lt;li&gt;the issue ID (`TIKA-XXXX`)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;is referenced in the title of the pull request&lt;/li&gt;
	&lt;li&gt;and placed in front of your commit messages surrounded by square brackets (`&lt;span class=&quot;error&quot;&gt;&amp;#91;TIKA-XXXX&amp;#93;&lt;/span&gt; Issue or pull request title`)&lt;/li&gt;
&lt;/ul&gt;
&lt;ul&gt;
	&lt;li&gt;commits are squashed into a single one (or few commits for larger changes)&lt;/li&gt;
	&lt;li&gt;Tika is successfully built and unit tests pass by running `mvn clean test`&lt;/li&gt;
	&lt;li&gt;there should be no conflicts when merging the pull request branch into the &lt;b&gt;recent&lt;/b&gt; `main` branch. If there are conflicts, please try to rebase the pull request branch on top of a freshly pulled `main` branch&lt;/li&gt;
	&lt;li&gt;if you add new module that downstream users will depend upon add it to relevant group in `tika-bom/pom.xml`.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   We will be able to faster integrate your pull request if these conditions are met. If you have any questions how to fix your problem or about using Tika in general, please sign up for the &lt;span class=&quot;error&quot;&gt;&amp;#91;Tika mailing list&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://tika.apache.org/mail-lists.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://tika.apache.org/mail-lists.html&lt;/a&gt;). Thanks!&lt;/p&gt;


</comment>
                            <comment id="17986224" author="githubbot" created="Wed, 25 Jun 2025 18:26:34 +0000"  >&lt;p&gt;tballison merged PR #2261:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/2261&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/2261&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17986248" author="hudson" created="Wed, 25 Jun 2025 20:51:10 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika &#187; tika-main-jdk17 #787 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk17/787/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk17/787/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4441&quot; title=&quot;InputStream is consumed by Tika.detect for certain files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4441&quot;&gt;&lt;del&gt;TIKA-4441&lt;/del&gt;&lt;/a&gt; &amp;#8211; revert markLimit and add unit tests (#2261) (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/fbac9f217088a06360fedc2017fe656d2c7a4c49&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/fbac9f217088a06360fedc2017fe656d2c7a4c49&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/java/org/apache/tika/detect/TestContainerAwareDetector.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-microsoft-module/src/main/java/org/apache/tika/detect/microsoft/POIFSContainerDetector.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/resources/configs/tika-4441-neg1.xml&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/resources/configs/tika-4441-12000000.xml&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-standard/tika-parsers-standard-package/src/test/resources/configs/tika-4441-120.xml&lt;/li&gt;
	&lt;li&gt;(edit) CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17986296" author="JIRAUSER310087" created="Thu, 26 Jun 2025 07:20:24 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison&quot; class=&quot;user-hover&quot; rel=&quot;tallison&quot;&gt;tallison&lt;/a&gt;!&lt;br/&gt;
Please let me know if/how I can test this if it&apos;s possible before the new version is released, just to confirm. No hurries on my side&lt;/p&gt;</comment>
                            <comment id="17986372" author="tallison@mitre.org" created="Thu, 26 Jun 2025 13:56:38 +0000"  >&lt;p&gt;You can grab the jars or more simply add the Apache Software Foundation snapshot repo to your pom...tika-app is available here: &lt;a href=&quot;https://repository.apache.org/content/groups/snapshots/org/apache/tika/tika-app/3.2.2-SNAPSHOT/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/groups/snapshots/org/apache/tika/tika-app/3.2.2-SNAPSHOT/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Or you can can grab the jar from ci/cd, e.g.: &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk17/787/org.apache.tika$tika-app/artifact/org.apache.tika/tika-app/4.0.0-SNAPSHOT/tika-app-4.0.0-SNAPSHOT.jar&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk17/787/org.apache.tika$tika-app/artifact/org.apache.tika/tika-app/4.0.0-SNAPSHOT/tika-app-4.0.0-SNAPSHOT.jar&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17986494" author="JIRAUSER310087" created="Fri, 27 Jun 2025 06:45:25 +0000"  >&lt;p&gt;Works perfectly for me, thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13077181" name="Test.doc" size="98304" author="alvaritez" created="Mon, 23 Jun 2025 13:20:29 +0000"/>
                            <attachment id="13077180" name="Test.ppt" size="526848" author="alvaritez" created="Mon, 23 Jun 2025 13:20:29 +0000"/>
                            <attachment id="13077179" name="Test.xls" size="16384" author="alvaritez" created="Mon, 23 Jun 2025 13:20:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            19 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1wfz4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>