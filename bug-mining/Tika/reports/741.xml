<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:59:56 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-1782] XHTMLContentHandler doesn&apos;t pass attributes of html element</title>
                <link>https://issues.apache.org/jira/browse/TIKA-1782</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;XHTMLContentHandler.startElement() uses lazyHead() for the html element because it&apos;s defined in the AUTO Set. As a consequence, attributes of the html element are not passed to downstream content handlers.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12907928">TIKA-1782</key>
            <summary>XHTMLContentHandler doesn&apos;t pass attributes of html element</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="markus17">Markus Jelsma</reporter>
                        <labels>
                    </labels>
                <created>Mon, 26 Oct 2015 14:45:27 +0000</created>
                <updated>Thu, 3 Mar 2016 09:47:29 +0000</updated>
                            <resolved>Tue, 27 Oct 2015 12:47:41 +0000</resolved>
                                    <version>1.11</version>
                                    <fixVersion>1.12</fixVersion>
                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="14974324" author="markus17" created="Mon, 26 Oct 2015 14:51:23 +0000"  >&lt;p&gt;Patch for trunk, ImageParserTest fails,&lt;/p&gt;

&lt;p&gt;testJPEG(org.apache.tika.parser.image.ImageParserTest)  Time elapsed: 0.011 sec  &amp;lt;&amp;lt;&amp;lt; ERROR!&lt;br/&gt;
java.lang.UnsatisfiedLinkError: com.sun.imageio.plugins.jpeg.JPEGImageReader.initReaderIDs(Ljava/lang/Class;Ljava/lang/Class;Ljava/lang/Class;)V&lt;br/&gt;
        at com.sun.imageio.plugins.jpeg.JPEGImageReader.initReaderIDs(Native Method)&lt;br/&gt;
        at com.sun.imageio.plugins.jpeg.JPEGImageReader.&amp;lt;clinit&amp;gt;(JPEGImageReader.java:96)&lt;br/&gt;
        at com.sun.imageio.plugins.jpeg.JPEGImageReaderSpi.createReaderInstance(JPEGImageReaderSpi.java:85)&lt;br/&gt;
        at javax.imageio.spi.ImageReaderSpi.createReaderInstance(ImageReaderSpi.java:320)&lt;br/&gt;
        at javax.imageio.ImageIO$ImageReaderIterator.next(ImageIO.java:529)&lt;br/&gt;
        at javax.imageio.ImageIO$ImageReaderIterator.next(ImageIO.java:513)&lt;br/&gt;
        at org.apache.tika.parser.image.ImageParser.parse(ImageParser.java:164)&lt;br/&gt;
        at org.apache.tika.parser.image.ImageParserTest.testJPEG(ImageParserTest.java:93)&lt;/p&gt;</comment>
                            <comment id="14974419" author="tallison@mitre.org" created="Mon, 26 Oct 2015 15:48:27 +0000"  >&lt;p&gt;What OS and Java version?  I&apos;m not seeing problems with RHEL 6.5 and Java 1.7.0_75.&lt;/p&gt;</comment>
                            <comment id="14974439" author="markus17" created="Mon, 26 Oct 2015 15:54:58 +0000"  >&lt;p&gt;Hello - this is on 1.8.0_40 and on Ubuntu 14.10&lt;/p&gt;

&lt;p&gt;openjdk version &quot;1.8.0_40-internal&quot;&lt;br/&gt;
OpenJDK Runtime Environment (build 1.8.0_40-internal-b09)&lt;br/&gt;
OpenJDK 64-Bit Server VM (build 25.40-b13, mixed mode)&lt;/p&gt;</comment>
                            <comment id="14974462" author="tallison@mitre.org" created="Mon, 26 Oct 2015 16:06:17 +0000"  >&lt;p&gt;Not seeing it on RHEL with 1.8.0_66 either.&lt;/p&gt;

&lt;p&gt;IIRC, Jenkins is Ubuntu, I wonder why we aren&apos;t seeing it there either....hmmm...&lt;/p&gt;</comment>
                            <comment id="14976314" author="tallison@mitre.org" created="Tue, 27 Oct 2015 12:47:41 +0000"  >&lt;p&gt;r1710799.&lt;/p&gt;

&lt;p&gt;We should probably open a separate issue to handle the failed build in Ubuntu and java 1.8.&lt;/p&gt;</comment>
                            <comment id="14976401" author="markus17" created="Tue, 27 Oct 2015 13:45:47 +0000"  >&lt;p&gt;Hello Tim, is testJPEG&apos;s failure unrelated to this change? &lt;/p&gt;</comment>
                            <comment id="14976405" author="tallison@mitre.org" created="Tue, 27 Oct 2015 13:48:24 +0000"  >&lt;p&gt;Y, I think so.  The stacktrace seems to suggest a more profound issue, and my build with this patch works on RHEL and java 1.7.&lt;/p&gt;

&lt;p&gt;Was your build with trunk working before this patch?&lt;/p&gt;</comment>
                            <comment id="14976407" author="hudson" created="Tue, 27 Oct 2015 13:48:38 +0000"  >&lt;p&gt;SUCCESS: Integrated in tika-trunk-jdk1.7 #878 (See &lt;a href=&quot;https://builds.apache.org/job/tika-trunk-jdk1.7/878/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-trunk-jdk1.7/878/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-1782&quot; title=&quot;XHTMLContentHandler doesn&amp;#39;t pass attributes of html element&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-1782&quot;&gt;&lt;del&gt;TIKA-1782&lt;/del&gt;&lt;/a&gt; allow XHTMLContentHandler to pass attributes of html element via Markus Jelsma (tallison: &lt;a href=&quot;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1710799&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://svn.apache.org/viewvc/tika/trunk/?view=rev&amp;amp;rev=1710799&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;trunk/CHANGES.txt&lt;/li&gt;
	&lt;li&gt;trunk/tika-core/src/main/java/org/apache/tika/sax/XHTMLContentHandler.java&lt;/li&gt;
	&lt;li&gt;trunk/tika-core/src/test/java/org/apache/tika/sax/XHTMLContentHandlerTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14976474" author="markus17" created="Tue, 27 Oct 2015 14:29:01 +0000"  >&lt;p&gt;Ah, testJPEG() fails independently and has nothing to do with this patch. For some reason though, in my code, this fix doesn&apos;t appear to work. It is identical to &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-995&quot; title=&quot;XHTMLContentHandler doesn&amp;#39;t pass attributes of body element&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-995&quot;&gt;TIKA-995&lt;/a&gt;, which did work for me. I probably made an error, i am not sure.&lt;/p&gt;</comment>
                            <comment id="14978068" author="tallison@mitre.org" created="Wed, 28 Oct 2015 09:39:46 +0000"  >&lt;p&gt;Hmmm...should I reopen this issue and revert?  Do you have a shareable test file?&lt;/p&gt;</comment>
                            <comment id="15002195" author="markus17" created="Thu, 12 Nov 2015 14:57:01 +0000"  >&lt;p&gt;Hi - i have no test  hanging around but my consumier code doesn&apos;t see the attribute on the HTML tag passed. Perhaps it is a good idea to revert until we&apos;re sure this fix works. The unit test for this issue only passes with this fix so i don&apos;t understand it.&lt;/p&gt;</comment>
                            <comment id="15002218" author="markus17" created="Thu, 12 Nov 2015 15:14:03 +0000"  >&lt;p&gt;Hello Tim, i think there is a test, see &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-980&quot; title=&quot;MicrodataContentHandler for Apache Tika&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-980&quot;&gt;TIKA-980&lt;/a&gt;. The unit test comes with a test HTML page that has a itemscope attribute on the body tag. The test should continue to work if the itemscope is moved to the html tag, but it doesn&apos;t.&lt;/p&gt;</comment>
                            <comment id="15177104" author="sully" created="Thu, 3 Mar 2016 03:47:07 +0000"  >&lt;p&gt;Is this related &lt;a href=&quot;http://stackoverflow.com/questions/30543395/how-to-get-href-attribute-from-base-tag-using-tika-sax-contenthandler?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://stackoverflow.com/questions/30543395/how-to-get-href-attribute-from-base-tag-using-tika-sax-contenthandler?&lt;/a&gt; Even using Tika 1.12 the base tag attributes do not seem to be passed.&lt;/p&gt;</comment>
                            <comment id="15177572" author="markus17" created="Thu, 3 Mar 2016 09:47:29 +0000"  >&lt;p&gt;Yes i, unfortunately, agree. The unit test i supplied, similar to the attribute on body test, works very well. But for some reason i cannot read attributes on the html tag in the real world. Either the fix must be reverted, or we are doing something wrong.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12608611">TIKA-995</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="12604846">TIKA-980</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12768733" name="TIKA-1782.patch" size="2092" author="markus17" created="Mon, 26 Oct 2015 14:51:23 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310250" key="com.atlassian.jira.plugin.system.customfieldtypes:multicheckboxes">
                        <customfieldname>Flags</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10430"><![CDATA[Patch]]></customfieldvalue>
    
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 37 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2niwv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>