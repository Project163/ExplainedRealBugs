<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:01:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2099] Tar files without magic bytes are sporadically detected as text</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2099</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;When a tar is created with 7 Zip 9.20 the magic bytes &quot;ustar&quot; are not added. Everything seems to work file if the tar contains Microsoft Office files. But when only text files are contained Tika sporadically recognices it as text/plain. It also seems to depend on the size of the first file in the tar. This has to be several KB big.&lt;br/&gt;
The problem was found in version 1.11 and also exists in the latest 1.14-SNAPSHOT.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13008132">TIKA-2099</key>
            <summary>Tar files without magic bytes are sporadically detected as text</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="tallison">Tim Allison</assignee>
                                    <reporter username="rschimpf">Robin Schimpf</reporter>
                        <labels>
                    </labels>
                <created>Wed, 28 Sep 2016 05:31:38 +0000</created>
                <updated>Tue, 29 Oct 2019 15:52:04 +0000</updated>
                            <resolved>Wed, 26 Apr 2017 14:37:39 +0000</resolved>
                                    <version>1.11</version>
                                    <fixVersion>1.15</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="15528526" author="githubbot" created="Wed, 28 Sep 2016 05:56:07 +0000"  >&lt;p&gt;GitHub user theobisproject opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tika/pull/135&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/135&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2099&quot; title=&quot;Tar files without magic bytes are sporadically detected as text&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2099&quot;&gt;&lt;del&gt;TIKA-2099&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    A test file is provided. Unit test is missing because I don&apos;t know where it should be located&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/theobisproject/tika&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/theobisproject/tika&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2099&quot; title=&quot;Tar files without magic bytes are sporadically detected as text&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2099&quot;&gt;&lt;del&gt;TIKA-2099&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tika/pull/135.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/135.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #135&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit c911c3abc6875b4121d773b9ef8bf2d3093a2c35&lt;br/&gt;
Author: Robin Schimpf &amp;lt;theobisproject@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-09-28T05:53:35Z&lt;/p&gt;

&lt;p&gt;    Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2099&quot; title=&quot;Tar files without magic bytes are sporadically detected as text&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2099&quot;&gt;&lt;del&gt;TIKA-2099&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
    A test file is provided. Unit test is missing because I don&apos;t know where it should be located&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15534266" author="gagravarr" created="Thu, 29 Sep 2016 22:27:21 +0000"  >&lt;p&gt;This patch removes some special handling put in place for &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-117&quot; title=&quot;Certain tar files not recognised by ArchiveStreamFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-117&quot;&gt;&lt;del&gt;COMPRESS-117&lt;/del&gt;&lt;/a&gt;. Would someone be able to check the age of that compress workaround commit, compared to the underlying commons compress fix, to have an idea of if it&apos;s safe to remove that or not?&lt;/p&gt;

&lt;p&gt;In terms of a unit test, &lt;tt&gt;tika-parsers/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/tt&gt; is probably the best place to pop one&lt;/p&gt;</comment>
                            <comment id="15535154" author="rschimpf" created="Fri, 30 Sep 2016 06:05:54 +0000"  >&lt;p&gt;It seems like the ZipContainerDetector gets never called in &lt;tt&gt;tika-parsers/src/test/java/org/apache/tika/mime/TestMimeTypes.java&lt;/tt&gt;. I will place the test in &lt;tt&gt;tika-parsers/src/test/java/org/apache/tika/detect/TestContainerAwareDetector.java&lt;/tt&gt;.&lt;br/&gt;
I felt save to remove the special handling because of the changes made in &lt;a href=&quot;https://issues.apache.org/jira/browse/COMPRESS-331&quot; title=&quot;Some non TAR files are recognized by ArchiveStreamFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;COMPRESS-331&quot;&gt;&lt;del&gt;COMPRESS-331&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="15741257" author="rschimpf" created="Mon, 12 Dec 2016 07:54:45 +0000"  >&lt;p&gt;Any updates regarding this error?&lt;/p&gt;</comment>
                            <comment id="15984222" author="githubbot" created="Wed, 26 Apr 2017 06:03:14 +0000"  >&lt;p&gt;theobisproject commented on issue #135: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2099&quot; title=&quot;Tar files without magic bytes are sporadically detected as text&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2099&quot;&gt;&lt;del&gt;TIKA-2099&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/135#issuecomment-297246757&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/135#issuecomment-297246757&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   I provided an additional file as testcase (two tared pdf) and rebased against the current master.&lt;br/&gt;
   It would be nice if this issue can be resolved soon.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="15984479" author="gagravarr" created="Wed, 26 Apr 2017 09:47:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison%40mitre.org&quot; class=&quot;user-hover&quot; rel=&quot;tallison@mitre.org&quot;&gt;tallison@mitre.org&lt;/a&gt; has been doing some work on Commons Compress integration with Tika in the last week, so he&apos;s probably the best to review the proposed removal of the special handling you&apos;ve proposed&lt;/p&gt;</comment>
                            <comment id="15984633" author="tallison@mitre.org" created="Wed, 26 Apr 2017 11:48:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nick&quot; class=&quot;user-hover&quot; rel=&quot;nick&quot;&gt;nick&lt;/a&gt;, thank you for the ping.  All, apologies for the delay.  &lt;/p&gt;

&lt;p&gt;I think we should do for archivers what I just did for compressors...copy the compress&apos; new detect() method into Tika so that it makes it into Tika 1.15, and then remove once we can upgrade to commons-compress 1.14.&lt;/p&gt;</comment>
                            <comment id="15986892" author="hudson" created="Thu, 27 Apr 2017 16:02:43 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1247 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1247/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1247/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2099&quot; title=&quot;Tar files without magic bytes are sporadically detected as text&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2099&quot;&gt;&lt;del&gt;TIKA-2099&lt;/del&gt;&lt;/a&gt; &amp;#8211; temporarily copy/paste commons-compress&apos; (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/a194bc4ba2b771807e93e664245f24e3573a15df&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/a194bc4ba2b771807e93e664245f24e3573a15df&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) tika-parsers/src/main/java/org/apache/tika/parser/pkg/TikaArchiveStreamFactory.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/pkg/ZipContainerDetector.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/java/org/apache/tika/parser/pkg/PackageParserTest.java&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/resources/test-documents/testTAR_no_magic.tar&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/src/test/java/org/apache/tika/parser/pkg/CompressorParserTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/test/java/org/apache/tika/detect/TestContainerAwareDetector.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/src/main/java/org/apache/tika/parser/pkg/PackageParser.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15989999" author="githubbot" created="Sat, 29 Apr 2017 18:31:52 +0000"  >&lt;p&gt;theobisproject closed pull request #135: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2099&quot; title=&quot;Tar files without magic bytes are sporadically detected as text&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2099&quot;&gt;&lt;del&gt;TIKA-2099&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/135&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/135&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="15990000" author="githubbot" created="Sat, 29 Apr 2017 18:31:52 +0000"  >&lt;p&gt;theobisproject commented on issue #135: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2099&quot; title=&quot;Tar files without magic bytes are sporadically detected as text&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2099&quot;&gt;&lt;del&gt;TIKA-2099&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/135#issuecomment-298186334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/135#issuecomment-298186334&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Closing in favour of a194bc4ba2b771807e93e664245f24e3573a15df&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13067082">TIKA-2341</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 29 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i346av:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>