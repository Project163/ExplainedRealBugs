<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:02:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-2955] PDF parsing to XHTML results in tika attempting to write invalid HTML characters.</title>
                <link>https://issues.apache.org/jira/browse/TIKA-2955</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Hi, I am trying to parse: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12982048/12982048_314.pdf&quot; title=&quot;314.pdf attached to TIKA-2955&quot;&gt;314.pdf&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;what is happening when I try to convert it to XHTML is my XML parser fails because:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
14:35:12.876 [main] ERROR com.funnelback.common.filter.TikaFilterProvider - Unable to filter stream with document type &lt;span class=&quot;code-quote&quot;&gt;&apos;.pdf&apos;&lt;/span&gt;
org.xml.sax.SAXException: net.sf.saxon.trans.XPathException: Illegal HTML character: decimal 147
 at net.sf.saxon.event.ReceivingContentHandler.endElement(ReceivingContentHandler.java:538) ~[Saxon-HE-9.9.0-2.jar:?]
 at org.apache.tika.sax.ContentHandlerDecorator.endElement(ContentHandlerDecorator.java:136) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.sax.SecureContentHandler.endElement(SecureContentHandler.java:256) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.sax.ContentHandlerDecorator.endElement(ContentHandlerDecorator.java:136) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.sax.ContentHandlerDecorator.endElement(ContentHandlerDecorator.java:136) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.sax.ContentHandlerDecorator.endElement(ContentHandlerDecorator.java:136) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.sax.SafeContentHandler.endElement(SafeContentHandler.java:274) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.sax.XHTMLContentHandler.endDocument(XHTMLContentHandler.java:229) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.parser.pdf.AbstractPDF2XHTML.endDocument(AbstractPDF2XHTML.java:556) ~[tika-parsers-1.19.1.jar:1.19.1]
 at org.apache.pdfbox.text.PDFTextStripper.writeText(PDFTextStripper.java:267) ~[pdfbox-2.0.12.jar:2.0.12]
 at org.apache.tika.parser.pdf.PDF2XHTML.process(PDF2XHTML.java:117) ~[tika-parsers-1.19.1.jar:1.19.1]
 at org.apache.tika.parser.pdf.PDFParser.parse(PDFParser.java:172) ~[tika-parsers-1.19.1.jar:1.19.1]
 at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.parser.CompositeParser.parse(CompositeParser.java:280) ~[tika-core-1.19.1.jar:1.19.1]
 at org.apache.tika.parser.AutoDetectParser.parse(AutoDetectParser.java:143) ~[tika-core-1.19.1.jar:1.19.1]
 at 
[removed section of trace]
Caused by: net.sf.saxon.trans.XPathException: Illegal HTML character: decimal 147
 at net.sf.saxon.serialize.HTMLEmitter.writeEscape(HTMLEmitter.java:379) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.serialize.XMLEmitter.characters(XMLEmitter.java:662) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.serialize.HTMLEmitter.characters(HTMLEmitter.java:441) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.serialize.HTMLIndenter.characters(HTMLIndenter.java:216) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.event.ProxyReceiver.characters(ProxyReceiver.java:193) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.event.ProxyReceiver.characters(ProxyReceiver.java:193) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.event.ProxyReceiver.characters(ProxyReceiver.java:193) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.event.SequenceNormalizer.characters(SequenceNormalizer.java:183) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.event.ReceivingContentHandler.flush(ReceivingContentHandler.java:646) ~[Saxon-HE-9.9.0-2.jar:?]
 at net.sf.saxon.event.ReceivingContentHandler.endElement(ReceivingContentHandler.java:526) ~[Saxon-HE-9.9.0-2.jar:?]
 ... 43 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;It looks like tika is asking the XML library to handle chracter 147 ie 0x93 which is not allowed in HTML.&lt;/p&gt;

&lt;p&gt;This saxon XML library is not happy with that, I think the default java one doesn&apos;t complain when given the invalid character though, however tika is probably wrong to write out that character when writing XHTML.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13260237">TIKA-2955</key>
            <summary>PDF parsing to XHTML results in tika attempting to write invalid HTML characters.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="lukebutters7">Luke Butters</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 Oct 2019 06:12:03 +0000</created>
                <updated>Mon, 28 Oct 2019 21:58:18 +0000</updated>
                            <resolved>Thu, 10 Oct 2019 03:20:08 +0000</resolved>
                                                    <fixVersion>1.23</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>6</watches>
                                                                                                                <comments>
                            <comment id="16944074" author="lukebutters7" created="Thu, 3 Oct 2019 22:24:54 +0000"  >&lt;p&gt;My guess is that this could be fixed by adding something like:&lt;br/&gt;
org.apache.tika.sax.XHTMLContentHandler&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
    @Override
    &lt;span class=&quot;code-keyword&quot;&gt;protected&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;boolean&lt;/span&gt; isInvalid(&lt;span class=&quot;code-object&quot;&gt;int&lt;/span&gt; ch) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt;(&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.isInvalid(ch)) &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;;
        &lt;span class=&quot;code-comment&quot;&gt;// These control chars are  invalid in XHTML.
&lt;/span&gt;        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; 0x7F &amp;lt;= ch &amp;amp;&amp;amp; ch &amp;lt;=0x9F;
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;so we exclude characters HTML does not like as well.&lt;/p&gt;

&lt;p&gt;I placed that in and it seemed to work.&lt;/p&gt;

&lt;p&gt;Should I make a pull request for that change?&lt;/p&gt;</comment>
                            <comment id="16944970" author="tilman" created="Sat, 5 Oct 2019 03:50:54 +0000"  >&lt;p&gt;Per your stack trace you are using tika 1.19. Does it happen with the current release, which is 1.22? I wonder because I tried with the trunk, i.e. I ran tika-app GUI and chose &quot;structured text&quot; and this worked. (Update: now that I&apos;m fully waken up, I see that you mentioned you&apos;re using a different XML library)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16944982" author="lukebutters7" created="Sat, 5 Oct 2019 04:36:31 +0000"  >&lt;p&gt;I tried it in &quot;2.0.0-SNAPSHOT&quot; which seemed to fail I did not try 1.22.&lt;/p&gt;

&lt;p&gt;I think the XML library I am using is more pedantic about the characters and seems to reject invalid HTML characters.&lt;/p&gt;

&lt;p&gt;Do you want me to make a pull request with changes similar to the above in &lt;tt&gt;XHTMLContentHandler&lt;/tt&gt;?&lt;/p&gt;</comment>
                            <comment id="16944983" author="tilman" created="Sat, 5 Oct 2019 04:41:50 +0000"  >&lt;p&gt;I can&apos;t answer that question because I&apos;m new here as a committer, not yet familiar with that part. What I&apos;d like to see is a simple way to provoke the error (btw is it possible with tika-app at all?), and maybe a test, that breaks now and no longer breaks after the fix.&lt;/p&gt;</comment>
                            <comment id="16944992" author="lukebutters7" created="Sat, 5 Oct 2019 05:53:40 +0000"  >&lt;p&gt;It will only be possible to see the failure if that XML lib is on the path. I will make a test case, and a code change I think the important thing is we agree those characters are invalid in XHTML, I think they are but it would be good for someone else to confirm.&lt;/p&gt;</comment>
                            <comment id="16945096" author="tallison@mitre.org" created="Sat, 5 Oct 2019 16:19:16 +0000"  >&lt;p&gt;Should we handle those chars in the SafeContentHandler?  Or, is the point that those chars are ok in xml but not in xhtml? Thank you!&lt;/p&gt;</comment>
                            <comment id="16946270" author="lukebutters7" created="Mon, 7 Oct 2019 21:40:13 +0000"  >&lt;p&gt;So &lt;a href=&quot;https://en.wikipedia.org/wiki/Valid_characters_in_XML&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;wikipedia Valid_characters_in_XML&lt;/a&gt; has this to says for XML 1.0 this range is valid:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;    U+0020&#8211;U+D7FF, U+E000&#8211;U+FFFD: this excludes some (not all) non-characters in the BMP (all surrogates, U+FFFE and U+FFFF are forbidden);&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt; it goes on to say:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The preceding code points ranges contain the following controls which are only valid in certain contexts in XML 1.0 documents, and whose usage is restricted and highly discouraged:&lt;br/&gt;
    U+007F&#8211;U+0084, U+0086&#8211;U+009F: this includes a C0 control character and all but one C1 control.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think most of that range is allowed in XML, although discouraged.&lt;/p&gt;

&lt;p&gt;Going over to &lt;a href=&quot;https://www.w3.org/TR/2011/WD-html5-20110525/syntax.html#character-references&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.w3.org/TR/2011/WD-html5-20110525/syntax.html#character-references&lt;/a&gt; it says:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;The numeric character reference forms described above are allowed to reference any Unicode code point other than U+0000, U+000D, permanently undefined Unicode characters (noncharacters), and control characters other than space characters.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I think it is trying to say it exclude control characters from those encodings.&lt;/p&gt;

&lt;p&gt;Looking at: &lt;a href=&quot;ftp://ftp.unicode.org/Public/UNIDATA/UnicodeData.txt&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;ftp://ftp.unicode.org/Public/UNIDATA/UnicodeData.txt&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
007F;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;DELETE;;;;
0080;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;;;;;
0081;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;;;;;
0082;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;BREAK PERMITTED HERE;;;;
0083;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;NO BREAK HERE;;;;
0084;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;;;;;
0085;&amp;lt;control&amp;gt;;Cc;0;B;;;;;N;NEXT LINE (NEL);;;;
0086;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;START OF SELECTED AREA;;;;
0087;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;END OF SELECTED AREA;;;;
0088;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;CHARACTER TABULATION SET;;;;
0089;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;CHARACTER TABULATION WITH JUSTIFICATION;;;;
008A;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;LINE TABULATION SET;;;;
008B;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;PARTIAL LINE FORWARD;;;;
008C;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;PARTIAL LINE BACKWARD;;;;
008D;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;REVERSE LINE FEED;;;;
008E;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;SINGLE SHIFT TWO;;;;
008F;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;SINGLE SHIFT THREE;;;;
0090;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;DEVICE CONTROL STRING;;;;
0091;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;PRIVATE USE ONE;;;;
0092;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;PRIVATE USE TWO;;;;
0093;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;SET TRANSMIT STATE;;;;
0094;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;CANCEL CHARACTER;;;;
0095;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;MESSAGE WAITING;;;;
0096;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;START OF GUARDED AREA;;;;
0097;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;END OF GUARDED AREA;;;;
0098;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;START OF STRING;;;;
0099;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;;;;;
009A;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;SINGLE CHARACTER INTRODUCER;;;;
009B;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;CONTROL SEQUENCE INTRODUCER;;;;
009C;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;STRING TERMINATOR;;;;
009D;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;OPERATING SYSTEM COMMAND;;;;
009E;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;PRIVACY MESSAGE;;;;
009F;&amp;lt;control&amp;gt;;Cc;0;BN;;;;;N;APPLICATION PROGRAM COMMAND;;;;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I then remembered &lt;a href=&quot;https://validator.w3.org/nu/#textarea&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://validator.w3.org/nu/#textarea&lt;/a&gt; exists and tried out &lt;tt&gt;&amp;#x7F;&lt;/tt&gt; the validator did not like that and said:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-object&quot;&gt;Character&lt;/span&gt; reference expands to a control character (U+007f).
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;So I think it is invalid only HTML but ok in XML.&lt;/p&gt;

&lt;p&gt;Should i be making a pull request on version 2 or on the latest version 1.x branch?&lt;br/&gt;
Here are the changes though  &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12982431/12982431_fix_with_tests.txt&quot; title=&quot;fix_with_tests.txt attached to TIKA-2955&quot;&gt;fix_with_tests.txt&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt; &lt;/p&gt;</comment>
                            <comment id="16946362" author="tallison@mitre.org" created="Tue, 8 Oct 2019 01:09:01 +0000"  >&lt;p&gt;If you make the PR against master, I&#8217;ll cherry-pick it to branxh_1x. I&#8217;m happy to take the patch as is. Thank you for digging into the details!&lt;/p&gt;</comment>
                            <comment id="16946386" author="githubbot" created="Tue, 8 Oct 2019 01:43:28 +0000"  >&lt;p&gt;LukeButters commented on pull request #285: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/285&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/285&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16946387" author="lukebutters7" created="Tue, 8 Oct 2019 01:44:00 +0000"  >&lt;p&gt;Hi I made this PR:&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/tika/pull/285&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/285&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Is that how you want it?&lt;/p&gt;</comment>
                            <comment id="16948024" author="githubbot" created="Wed, 9 Oct 2019 21:53:05 +0000"  >&lt;p&gt;LukeButters commented on issue #285: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/285#issuecomment-540217923&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/285#issuecomment-540217923&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   @tballison the PR for the invalid HTML chars&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16948147" author="githubbot" created="Thu, 10 Oct 2019 02:56:31 +0000"  >&lt;p&gt;tballison commented on pull request #285: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/285&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/285&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16948158" author="tallison@mitre.org" created="Thu, 10 Oct 2019 03:20:08 +0000"  >&lt;p&gt;Thank you, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=lukebutters7&quot; class=&quot;user-hover&quot; rel=&quot;lukebutters7&quot;&gt;lukebutters7&lt;/a&gt;!&lt;/p&gt;</comment>
                            <comment id="16948172" author="hudson" created="Thu, 10 Oct 2019 03:38:06 +0000"  >&lt;p&gt;UNSTABLE: Integrated in Jenkins build tika-2.x-windows #461 (See &lt;a href=&quot;https://builds.apache.org/job/tika-2.x-windows/461/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-2.x-windows/461/&lt;/a&gt;)&lt;br/&gt;
Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F (#285) (tallison: rev 0f5c16e57f85cc98ced6b52e52b1e84d53b66ae6)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/sax/XHTMLContentHandler.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/test/java/org/apache/tika/sax/XHTMLContentHandlerTest.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16948189" author="hudson" created="Thu, 10 Oct 2019 04:12:12 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika-trunk #1706 (See &lt;a href=&quot;https://builds.apache.org/job/Tika-trunk/1706/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/Tika-trunk/1706/&lt;/a&gt;)&lt;br/&gt;
Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F (#285) (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/0f5c16e57f85cc98ced6b52e52b1e84d53b66ae6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/0f5c16e57f85cc98ced6b52e52b1e84d53b66ae6&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/test/java/org/apache/tika/sax/XHTMLContentHandlerTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/sax/XHTMLContentHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16948191" author="githubbot" created="Thu, 10 Oct 2019 04:22:22 +0000"  >&lt;p&gt;LukeButters commented on issue #285: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/285#issuecomment-540346949&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/285#issuecomment-540346949&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   thanks Tim. Do I now need to do something to cherrypick it into a some 1.X version?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16948192" author="hudson" created="Thu, 10 Oct 2019 04:27:17 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build tika-branch-1x #242 (See &lt;a href=&quot;https://builds.apache.org/job/tika-branch-1x/242/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://builds.apache.org/job/tika-branch-1x/242/&lt;/a&gt;)&lt;br/&gt;
Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F (#285) (tallison: &lt;a href=&quot;https://github.com/apache/tika/commit/0b00ba4115a017c7fb949e89f40f837733606f76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/0b00ba4115a017c7fb949e89f40f837733606f76&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(edit) tika-core/src/test/java/org/apache/tika/sax/XHTMLContentHandlerTest.java&lt;/li&gt;
	&lt;li&gt;(edit) tika-core/src/main/java/org/apache/tika/sax/XHTMLContentHandler.java&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16948193" author="githubbot" created="Thu, 10 Oct 2019 04:27:26 +0000"  >&lt;p&gt;tballison commented on issue #285: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/285#issuecomment-540348989&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/285#issuecomment-540348989&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   I took care of it in branch_1x. You&#8217;ve done plenty. Thank you!&lt;/p&gt;

&lt;p&gt;   On Wed, Oct 9, 2019 at 9:22 PM Luke Butters &amp;lt;notifications@github.com&amp;gt;&lt;br/&gt;
   wrote:&lt;/p&gt;

&lt;p&gt;   &amp;gt; thanks Tim. Do I now need to do something to cherrypick it into a some 1.X&lt;br/&gt;
   &amp;gt; version?&lt;br/&gt;
   &amp;gt;&lt;br/&gt;
   &amp;gt; &#8212;&lt;br/&gt;
   &amp;gt; You are receiving this because you modified the open/close state.&lt;br/&gt;
   &amp;gt; Reply to this email directly, view it on GitHub&lt;br/&gt;
   &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/apache/tika/pull/285?email_source=notifications&amp;amp;email_token=ABTNNPU7LJYUPSSHP2BOARLQN2UX3A5CNFSM4I6LZDTKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEA2QURI#issuecomment-540346949&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/285?email_source=notifications&amp;amp;email_token=ABTNNPU7LJYUPSSHP2BOARLQN2UX3A5CNFSM4I6LZDTKYY3PNVWWK3TUL52HS4DFVREXG43VMVBW63LNMVXHJKTDN5WW2ZLOORPWSZGOEA2QURI#issuecomment-540346949&lt;/a&gt;&amp;gt;,&lt;br/&gt;
   &amp;gt; or unsubscribe&lt;br/&gt;
   &amp;gt; &amp;lt;&lt;a href=&quot;https://github.com/notifications/unsubscribe-auth/ABTNNPWR4AAUZGRA35VAFJDQN2UX3ANCNFSM4I6LZDTA&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/notifications/unsubscribe-auth/ABTNNPWR4AAUZGRA35VAFJDQN2UX3ANCNFSM4I6LZDTA&lt;/a&gt;&amp;gt;&lt;br/&gt;
   &amp;gt; .&lt;br/&gt;
   &amp;gt;&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16949041" author="githubbot" created="Fri, 11 Oct 2019 01:19:26 +0000"  >&lt;p&gt;LukeButters commented on issue #285: Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-2955&quot; title=&quot;PDF parsing to XHTML results in tika attempting to write invalid HTML characters.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-2955&quot;&gt;&lt;del&gt;TIKA-2955&lt;/del&gt;&lt;/a&gt; filter out invalid HTML characters 0x7F to 0x9F&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tika/pull/285#issuecomment-540860215&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/285#issuecomment-540860215&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   ah neat, does a date exist for when that will be released?&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16960769" author="lukebutters7" created="Mon, 28 Oct 2019 05:52:40 +0000"  >&lt;p&gt;Does a date exist for when 1.23 might be released?&lt;/p&gt;</comment>
                            <comment id="16961477" author="tallison@mitre.org" created="Mon, 28 Oct 2019 21:37:08 +0000"  >&lt;p&gt;I don&apos;t think we have a date set.  There&apos;s one thing that I&apos;d like to get in, and I may have time tomorrow.  Fellow devs, any blockers or desires before the 1.23 release?&lt;/p&gt;</comment>
                            <comment id="16961497" author="kkrugler" created="Mon, 28 Oct 2019 21:58:18 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tallison&quot; class=&quot;user-hover&quot; rel=&quot;tallison&quot;&gt;tallison&lt;/a&gt; - no blockers for me before 1.23, but I&apos;d suggest posting to the mailing list, in case they miss your comment here.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12982048" name="314.pdf" size="128626" author="lukebutters7" created="Thu, 3 Oct 2019 05:22:39 +0000"/>
                            <attachment id="12982431" name="fix_with_tests.txt" size="2731" author="lukebutters7" created="Mon, 7 Oct 2019 21:53:28 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 2 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0792w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>