<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:57:01 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-663] JSP files data extraction failed</title>
                <link>https://issues.apache.org/jira/browse/TIKA-663</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;We have worked with tika extraction. In 0.8 jsp file contents extracted well.. But in 0.9 the same files are not extracted well. Pls give the solution&lt;/p&gt;</description>
                <environment>&lt;p&gt;Windows, JAva 6&lt;/p&gt;</environment>
        <key id="12507630">TIKA-663</key>
            <summary>JSP files data extraction failed</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="samraj">samraj</reporter>
                        <labels>
                    </labels>
                <created>Wed, 18 May 2011 16:04:01 +0000</created>
                <updated>Sun, 1 Mar 2015 22:19:46 +0000</updated>
                            <resolved>Sun, 1 Mar 2015 22:19:46 +0000</resolved>
                                    <version>0.9</version>
                                                    <component>parser</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13035525" author="kkrugler" created="Wed, 18 May 2011 17:58:58 +0000"  >&lt;p&gt;Please include an example JSP, and what was extracted in 0.8, and what you now get with 0.9, and a list of the problems.&lt;/p&gt;

&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="13039049" author="samraj" created="Wed, 25 May 2011 09:29:34 +0000"  >&lt;p&gt;Here i attached some of the jsp files.&lt;/p&gt;

&lt;p&gt;Only title get extracted and other lines are escaped from the parser.&lt;/p&gt;</comment>
                            <comment id="13149992" author="davemeikle" created="Mon, 14 Nov 2011 22:10:01 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;Not sure how you are using Tika but I would have thought you would have been hit by this from Tika 0.5 (the change to TagSoup for HTML parsing), as the tagsoup parser does not pickup the &amp;lt;% and %&amp;gt; tags within the JSP thus the content is not appearing in the output.&lt;/p&gt;

&lt;p&gt;Tika 0.8 used TagSoup so would have though you would see the same behaviour in that version also?&lt;/p&gt;

&lt;p&gt;Suspect we will want to add a new mime-type entry for jsp files to pass them to the plain text parser as the existing glob mapping will be getting beat by the magic mapping for HTML in these files.  Something like this should do the trick&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;:&lt;/p&gt;

&lt;p&gt;&amp;lt;mime-info&amp;gt;&lt;br/&gt;
...&lt;br/&gt;
  &amp;lt;mime-type type=&quot;application/x-httpd-jsp&quot;&amp;gt;&lt;br/&gt;
    &amp;lt;sub-class-of type=&quot;text/plain&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;magic priority=&quot;50&quot;&amp;gt;&lt;br/&gt;
      &amp;lt;match value=&quot;&amp;lt;%@&quot; type=&quot;string&quot; offset=&quot;0&quot;/&amp;gt;&lt;br/&gt;
    &amp;lt;/magic&amp;gt;&lt;br/&gt;
    &amp;lt;glob pattern=&quot;*.jsp&quot;/&amp;gt;&lt;br/&gt;
  &amp;lt;/mime-type&amp;gt;&lt;br/&gt;
  ...&lt;br/&gt;
&amp;lt;/mime-info&amp;gt;&lt;/p&gt;

&lt;p&gt;That will remove some of the other metadata extraction from the &lt;tt&gt;HtmlParser&lt;/tt&gt; for anyone else who has been using Tika to parse JSP files before 0.5 (title, etc) but will give then context and be correct for the original intent based on the glob in the existing mime-types.xml&lt;/p&gt;

&lt;p&gt;Not sure if anyone has any objections to this?  If not, I will make the change - as I would expect Tika to treat a JSP file as text to get the script contents as well.&lt;/p&gt;

&lt;p&gt;Cheers,&lt;br/&gt;
Dave&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; You can place the above XML in custom-mimetypes.xml within the package org.apache.tika.mime on your classpath to try this out.&lt;/p&gt;
</comment>
                            <comment id="13150306" author="gagravarr" created="Tue, 15 Nov 2011 08:39:19 +0000"  >&lt;p&gt;The mimetype entry looks good to me, so I&apos;ve added it (with an additional match for &amp;lt;%-- which many of my files use) in r1202089.&lt;/p&gt;

&lt;p&gt;I&apos;ll have to defer to someone else on the parsing side though...&lt;/p&gt;</comment>
                            <comment id="13150324" author="davemeikle" created="Tue, 15 Nov 2011 09:21:43 +0000"  >&lt;p&gt;Thanks Nick.  Was going to add it last night but forgot my SVN password (reset now).&lt;/p&gt;

&lt;p&gt;Yes, would be interested in others views as this begs the same question re other similar file types which could have a mix of HTML and scripting tags that would also be missed if picked up by the HtmlParser.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12480389" name="File_1.jsp" size="495" author="samraj" created="Wed, 25 May 2011 09:29:33 +0000"/>
                            <attachment id="12480390" name="File_2.jsp" size="463" author="samraj" created="Wed, 25 May 2011 09:29:33 +0000"/>
                            <attachment id="12480391" name="File_3.jsp" size="458" author="samraj" created="Wed, 25 May 2011 09:29:33 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>3879</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 1 week, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i037vj:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>16709</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>