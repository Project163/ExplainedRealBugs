<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:04:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TIKA-4111] iWork keynote file with wrong extension not detected properly</title>
                <link>https://issues.apache.org/jira/browse/TIKA-4111</link>
                <project id="12310631" key="TIKA">Tika</project>
                    <description>&lt;p&gt;Attached keynote file, without the *.key extension, should be detected as &quot;application/vnd.apple.keynote.13&quot; but is being detected as &quot;application/vnd.apple.unknown.13&quot;.&#160;&lt;/p&gt;

&lt;p&gt;The IWork13PackageParser.detect(ZipFile) method iterates over zip entries and calls detectIfPossible(ZipEntry) multiple times. Inside the last method, the check for &quot;Index/MasterSlide-&lt;b&gt;&quot;&lt;/b&gt; or &quot;Index/Slide-&quot; files should work, they are found inside the attached file. But since those entries can appear in arbitrary order, the &quot;Index/Document.iwa&quot; entry is found before and then &quot;application/vnd.apple.unknown.13&quot; is returned. The fix is simply returning null when &quot;Index/Document.iwa&quot; entry is found.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13546736">TIKA-4111</key>
            <summary>iWork keynote file with wrong extension not detected properly</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="lfcnassif">Lu&#237;s Filipe Nassif</assignee>
                                    <reporter username="lfcnassif">Lu&#237;s Filipe Nassif</reporter>
                        <labels>
                    </labels>
                <created>Wed, 9 Aug 2023 23:41:56 +0000</created>
                <updated>Mon, 28 Aug 2023 19:25:57 +0000</updated>
                            <resolved>Thu, 10 Aug 2023 22:51:59 +0000</resolved>
                                    <version>2.8.0</version>
                                    <fixVersion>2.9.0</fixVersion>
                                    <component>detector</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17752986" author="lfcnassif" created="Thu, 10 Aug 2023 22:51:59 +0000"  >&lt;p&gt;Fixed by &lt;a href=&quot;https://github.com/apache/tika/pull/1281&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/pull/1281&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17752991" author="hudson" created="Thu, 10 Aug 2023 23:40:22 +0000"  >&lt;p&gt;SUCCESS: Integrated in Jenkins build Tika &#187; tika-main-jdk11 #1193 (See &lt;a href=&quot;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk11/1193/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Tika/job/tika-main-jdk11/1193/&lt;/a&gt;)&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4111&quot; title=&quot;iWork keynote file with wrong extension not detected properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4111&quot;&gt;&lt;del&gt;TIKA-4111&lt;/del&gt;&lt;/a&gt; - test file to reproduce issue (lfcnassif: &lt;a href=&quot;https://github.com/apache/tika/commit/adfae59af4c386372d8ab8248960899b293425c2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/adfae59af4c386372d8ab8248960899b293425c2&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-apple-module/src/test/resources/test-documents/testKeynote2013.detect&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4111&quot; title=&quot;iWork keynote file with wrong extension not detected properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4111&quot;&gt;&lt;del&gt;TIKA-4111&lt;/del&gt;&lt;/a&gt; - test to reproduce issue and additional test (lfcnassif: &lt;a href=&quot;https://github.com/apache/tika/commit/43aceea436f3942fd841e94929394d124d6b0059&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/43aceea436f3942fd841e94929394d124d6b0059&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;(add) tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-apple-module/src/test/java/org/apache/tika/detect/apple/IWorkDetectorTest.java&lt;br/&gt;
Tika-4111 - return null if main entry is found &amp;amp; adjust depending calls (lfcnassif: &lt;a href=&quot;https://github.com/apache/tika/commit/bfc71d53f4f1c8f95fd89a4ec089d7b7ec192981&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/bfc71d53f4f1c8f95fd89a4ec089d7b7ec192981&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-apple-module/src/main/java/org/apache/tika/parser/iwork/iwana/IWork13PackageParser.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4111&quot; title=&quot;iWork keynote file with wrong extension not detected properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4111&quot;&gt;&lt;del&gt;TIKA-4111&lt;/del&gt;&lt;/a&gt; - makes streaming detection to continue working (lfcnassif: &lt;a href=&quot;https://github.com/apache/tika/commit/2dc452ef30ad032c23a09cf231fad8bb42705392&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/2dc452ef30ad032c23a09cf231fad8bb42705392&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;(edit) tika-parsers/tika-parsers-standard/tika-parsers-standard-modules/tika-parser-apple-module/src/main/java/org/apache/tika/detect/apple/IWorkDetector.java&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/TIKA-4111&quot; title=&quot;iWork keynote file with wrong extension not detected properly&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TIKA-4111&quot;&gt;&lt;del&gt;TIKA-4111&lt;/del&gt;&lt;/a&gt; - update release notes (lfcnassif: &lt;a href=&quot;https://github.com/apache/tika/commit/644ef09fce546ff204d554ab5c1b01ecb45d99c8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tika/commit/644ef09fce546ff204d554ab5c1b01ecb45d99c8&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;(edit) CHANGES.txt&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                            <attachment id="13062014" name="keynote" size="338001" author="lfcnassif" created="Wed, 9 Aug 2023 23:40:42 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 13 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1jozc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>