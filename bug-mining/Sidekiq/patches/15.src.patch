diff --git a/Changes.md b/Changes.md
index 3509321b..999d8100 100644
--- a/Changes.md
+++ b/Changes.md
@@ -1,8 +1,8 @@
-HEAD
+1.1.1
 -----------
 
-- Fix hang with sidekiq:start [#131]
-
+- Fix race condition on shutdown [#134]
+- Fix hang with cap sidekiq:start [#131]
 
 1.1.0
 -----------
@@ -30,7 +30,6 @@ Sidekiq.configure_server do |config|
 end
 ```
 
-
 1.0.0
 -----------
 
diff --git a/Gemfile b/Gemfile
index e9655a1c..b987f215 100644
--- a/Gemfile
+++ b/Gemfile
@@ -4,6 +4,8 @@ gemspec
 gem 'slim'
 gem 'sprockets'
 gem 'sass'
+gem 'rails'
+gem 'sqlite3'
 
 group :test do
   gem 'simplecov', :require => false
diff --git a/lib/sidekiq/manager.rb b/lib/sidekiq/manager.rb
index 919dd01f..08d5bed5 100644
--- a/lib/sidekiq/manager.rb
+++ b/lib/sidekiq/manager.rb
@@ -97,10 +97,20 @@ module Sidekiq
 
     def assign(msg, queue)
       watchdog("Manager#assign died") do
-        processor = @ready.pop
-        @in_progress[processor.object_id] = [msg, queue]
-        @busy << processor
-        processor.process!(MultiJson.decode(msg), queue)
+        if stopped?
+          # Race condition between Manager#stop if Fetcher
+          # is blocked on redis and gets a message after
+          # all the ready Processors have been stopped.
+          # Push the message back to redis.
+          Sidekiq.redis do |conn|
+            conn.lpush("queue:#{queue}", msg)
+          end
+        else
+          processor = @ready.pop
+          @in_progress[processor.object_id] = [msg, queue]
+          @busy << processor
+          processor.process!(MultiJson.decode(msg), queue)
+        end
       end
     end
 
diff --git a/lib/sidekiq/version.rb b/lib/sidekiq/version.rb
index fb6ea914..b7decbe1 100644
--- a/lib/sidekiq/version.rb
+++ b/lib/sidekiq/version.rb
@@ -1,3 +1,3 @@
 module Sidekiq
-  VERSION = "1.1.0"
+  VERSION = "1.1.1"
 end
