diff --git a/lib/sidekiq/api.rb b/lib/sidekiq/api.rb
index eb2d6cc1..0557e6e1 100644
--- a/lib/sidekiq/api.rb
+++ b/lib/sidekiq/api.rb
@@ -450,15 +450,26 @@ module Sidekiq
       Sidekiq.redis do |conn|
         procs.sort.each do |key|
           info, busy, at_s = conn.hmget(key, 'info', 'busy', 'beat')
+          # the hash named key has an expiry of 60 seconds.
+          # if it's not found, that means the process has not reported
+          # in to Redis and probably died.
           (to_prune << key; next) if info.nil?
           hash = Sidekiq.load_json(info)
           yield hash.merge('busy' => busy.to_i, 'beat' => at_s.to_f)
         end
       end
 
-      Sidekiq.redis {|conn| conn.srem('processes', *to_prune) } unless to_prune.empty?
+      Sidekiq.redis {|conn| conn.srem('processes', to_prune) } unless to_prune.empty?
       nil
     end
+
+    # This method is not guaranteed accurate since it does not prune the set
+    # based on current heartbeat.  #each does that and ensures the set only
+    # contains Sidekiq processes which have sent a heartbeat within the last
+    # 60 seconds.
+    def size
+      Sidekiq.redis { |conn| conn.scard('processes') }
+    end
   end
 
   ##
diff --git a/test/test_api.rb b/test/test_api.rb
index 5cfb6582..d5f696f0 100644
--- a/test/test_api.rb
+++ b/test/test_api.rb
@@ -414,6 +414,28 @@ class TestApi < Sidekiq::Test
       assert(retries.map { |r| r.score > (Time.now.to_f + 9) }.any?)
     end
 
+    it 'prunes processes which have died' do
+      data = { 'pid' => rand(10_000), 'hostname' => "app#{rand(1_000)}", 'started_at' => Time.now.to_f }
+      key = "#{data['hostname']}:#{data['pid']}"
+      Sidekiq.redis do |conn|
+        conn.sadd('processes', key)
+        conn.hmset(key, 'info', Sidekiq.dump_json(data), 'busy', 0, 'beat', Time.now.to_f)
+      end
+
+      ps = Sidekiq::ProcessSet.new
+      assert_equal 1, ps.size
+      assert_equal 1, ps.to_a.size
+
+      Sidekiq.redis do |conn|
+        conn.sadd('processes', "bar:987")
+        conn.sadd('processes', "bar:986")
+      end
+
+      ps = Sidekiq::ProcessSet.new
+      assert_equal 3, ps.size
+      assert_equal 1, ps.to_a.size
+    end
+
     def add_retry(jid = 'bob', at = Time.now.to_f)
       payload = Sidekiq.dump_json('class' => 'ApiWorker', 'args' => [1, 'mike'], 'queue' => 'default', 'jid' => jid, 'retry_count' => 2, 'failed_at' => Time.now.to_f)
       Sidekiq.redis do |conn|
