diff --git a/lib/sidekiq.rb b/lib/sidekiq.rb
index ffcbb477..d8b9f914 100644
--- a/lib/sidekiq.rb
+++ b/lib/sidekiq.rb
@@ -7,6 +7,7 @@ require 'sidekiq/logging'
 require 'sidekiq/client'
 require 'sidekiq/worker'
 require 'sidekiq/redis_connection'
+require 'sidekiq/delay'
 
 require 'json'
 
@@ -231,7 +232,4 @@ module Sidekiq
 
 end
 
-require 'sidekiq/extensions/class_methods'
-require 'sidekiq/extensions/action_mailer'
-require 'sidekiq/extensions/active_record'
 require 'sidekiq/rails' if defined?(::Rails::Engine)
diff --git a/lib/sidekiq/delay.rb b/lib/sidekiq/delay.rb
new file mode 100644
index 00000000..a3e4eeef
--- /dev/null
+++ b/lib/sidekiq/delay.rb
@@ -0,0 +1,21 @@
+module Sidekiq
+  module Extensions
+
+    def self.enable_delay!
+      if defined?(::ActiveSupport)
+        ActiveSupport.on_load(:active_record) do
+          require 'sidekiq/extensions/active_record'
+          include Sidekiq::Extensions::ActiveRecord
+        end
+        ActiveSupport.on_load(:action_mailer) do
+          require 'sidekiq/extensions/action_mailer'
+          extend Sidekiq::Extensions::ActionMailer
+        end
+      end
+
+      require 'sidekiq/extensions/class_methods'
+      Module.__send__(:include, Sidekiq::Extensions::Klass)
+    end
+
+  end
+end
diff --git a/lib/sidekiq/extensions/generic_proxy.rb b/lib/sidekiq/extensions/generic_proxy.rb
index 42cc9d26..3c3964de 100644
--- a/lib/sidekiq/extensions/generic_proxy.rb
+++ b/lib/sidekiq/extensions/generic_proxy.rb
@@ -3,6 +3,8 @@ require 'yaml'
 
 module Sidekiq
   module Extensions
+    SIZE_LIMIT = 8_192
+
     class Proxy < BasicObject
       def initialize(performable, target, options={})
         @performable = performable
@@ -17,7 +19,11 @@ module Sidekiq
         # to JSON and then deserialized on the other side back into a
         # Ruby object.
         obj = [@target, name, args]
-        @performable.client_push({ 'class' => @performable, 'args' => [::YAML.dump(obj)] }.merge(@opts))
+        marshalled = ::YAML.dump(obj)
+        if marshalled.size > SIZE_LIMIT
+          ::Sidekiq.logger.warn { "#{@target}.#{name} job argument is #{marshalled.bytesize} bytes, you should refactor it to reduce the size" }
+        end
+        @performable.client_push({ 'class' => @performable, 'args' => [marshalled] }.merge(@opts))
       end
     end
 
diff --git a/lib/sidekiq/rails.rb b/lib/sidekiq/rails.rb
index f63aa19c..47cac843 100644
--- a/lib/sidekiq/rails.rb
+++ b/lib/sidekiq/rails.rb
@@ -1,36 +1,5 @@
 # frozen_string_literal: true
 module Sidekiq
-  def self.hook_rails!
-    return if defined?(@delay_removed)
-
-    ActiveSupport.on_load(:active_record) do
-      include Sidekiq::Extensions::ActiveRecord
-    end
-
-    ActiveSupport.on_load(:action_mailer) do
-      extend Sidekiq::Extensions::ActionMailer
-    end
-
-    Module.__send__(:include, Sidekiq::Extensions::Klass)
-  end
-
-  # Removes the generic aliases which MAY clash with names of already
-  #  created methods by other applications. The methods `sidekiq_delay`,
-  #  `sidekiq_delay_for` and `sidekiq_delay_until` can be used instead.
-  def self.remove_delay!
-    @delay_removed = true
-
-    [Extensions::ActiveRecord,
-     Extensions::ActionMailer,
-     Extensions::Klass].each do |mod|
-      mod.module_eval do
-        remove_method :delay if respond_to?(:delay)
-        remove_method :delay_for if respond_to?(:delay_for)
-        remove_method :delay_until if respond_to?(:delay_until)
-      end
-    end
-  end
-
   class Rails < ::Rails::Engine
     # We need to setup this up before any application configuration which might
     # change Sidekiq middleware.
@@ -48,10 +17,6 @@ module Sidekiq
       end
     end
 
-    initializer 'sidekiq' do
-      Sidekiq.hook_rails!
-    end
-
     config.after_initialize do
       # This hook happens after all initializers are run, just before returning
       # from config/environment.rb back to sidekiq/cli.rb.
diff --git a/myapp/config/initializers/sidekiq.rb b/myapp/config/initializers/sidekiq.rb
index e93c777e..0e93752f 100644
--- a/myapp/config/initializers/sidekiq.rb
+++ b/myapp/config/initializers/sidekiq.rb
@@ -34,3 +34,5 @@ class TimedWorker
     puts "Latency: #{now - start} sec"
   end
 end
+
+Sidekiq::Extensions.enable_delay!
diff --git a/test/test_actors.rb b/test/test_actors.rb
index 7f76484f..403b120a 100644
--- a/test/test_actors.rb
+++ b/test/test_actors.rb
@@ -124,7 +124,7 @@ class TestActors < Sidekiq::Test
 
         a = $count
         p.start
-        sleep(0.02)
+        sleep(0.05)
         p.terminate
         p.kill(true)
 
diff --git a/test/test_api.rb b/test/test_api.rb
index d2fab8ef..38566009 100644
--- a/test/test_api.rb
+++ b/test/test_api.rb
@@ -214,6 +214,7 @@ class TestApi < Sidekiq::Test
       end
 
       it 'unwraps delayed jobs' do
+        Sidekiq::Extensions.enable_delay!
         Sidekiq::Queue.delay.foo(1,2,3)
         q = Sidekiq::Queue.new
         x = q.first
diff --git a/test/test_extensions.rb b/test/test_extensions.rb
index 20146f61..8d2750e2 100644
--- a/test/test_extensions.rb
+++ b/test/test_extensions.rb
@@ -1,13 +1,9 @@
 # frozen_string_literal: true
 require_relative 'helper'
-require 'sidekiq'
+require 'sidekiq/api'
 require 'active_record'
 require 'action_mailer'
-require 'sidekiq/extensions/action_mailer'
-require 'sidekiq/extensions/active_record'
-require 'sidekiq/rails'
-
-Sidekiq.hook_rails!
+Sidekiq::Extensions.enable_delay!
 
 class TestExtensions < Sidekiq::Test
   describe 'sidekiq extensions' do
@@ -100,6 +96,13 @@ class TestExtensions < Sidekiq::Test
       end
     end
 
+    it 'logs large payloads' do
+      output = capture_logging(Logger::WARN) do
+        SomeClass.delay.doit('a' * 8192)
+      end
+      assert_match(/#{SomeClass}.doit job argument is/, output)
+    end
+
     it 'allows delay of any module class method' do
       q = Sidekiq::Queue.new
       assert_equal 0, q.size
@@ -107,23 +110,6 @@ class TestExtensions < Sidekiq::Test
       assert_equal 1, q.size
     end
 
-    it 'allows removing of the #delay methods' do
-      q = Sidekiq::Queue.new
-      Sidekiq.remove_delay!
-      assert_equal 0, q.size
-      assert_raises NoMethodError do
-        SomeModule.delay.doit(Date.today)
-      end
-
-      Sidekiq.instance_eval { remove_instance_variable :@delay_removed }
-      # Reload modified modules
-      silence_warnings do
-        load 'sidekiq/extensions/action_mailer.rb'
-        load 'sidekiq/extensions/active_record.rb'
-        load 'sidekiq/extensions/generic_proxy.rb'
-        load 'sidekiq/extensions/class_methods.rb'
-      end
-    end
   end
 
 end
diff --git a/test/test_testing.rb b/test/test_testing.rb
index 8c311306..84eb380c 100644
--- a/test/test_testing.rb
+++ b/test/test_testing.rb
@@ -1,14 +1,6 @@
 # frozen_string_literal: true
 require_relative 'helper'
 
-require 'active_record'
-require 'action_mailer'
-require 'sidekiq/rails'
-require 'sidekiq/extensions/action_mailer'
-require 'sidekiq/extensions/active_record'
-
-Sidekiq.hook_rails!
-
 class TestTesting < Sidekiq::Test
   describe 'sidekiq testing' do
     describe 'require/load sidekiq/testing.rb' do
diff --git a/test/test_testing_fake.rb b/test/test_testing_fake.rb
index d56bbffb..a26138a6 100644
--- a/test/test_testing_fake.rb
+++ b/test/test_testing_fake.rb
@@ -1,15 +1,7 @@
 # frozen_string_literal: true
 require_relative 'helper'
 
-require 'active_record'
-require 'action_mailer'
-require 'sidekiq/rails'
-require 'sidekiq/extensions/action_mailer'
-require 'sidekiq/extensions/active_record'
-
-Sidekiq.hook_rails!
-
-class TestTesting < Sidekiq::Test
+class TestFake < Sidekiq::Test
   describe 'sidekiq testing' do
     class PerformError < RuntimeError; end
 
@@ -34,18 +26,6 @@ class TestTesting < Sidekiq::Test
       end
     end
 
-    class FooMailer < ActionMailer::Base
-      def bar(str)
-        str
-      end
-    end
-
-    class FooModel < ActiveRecord::Base
-      def bar(str)
-        str
-      end
-    end
-
     before do
       require 'sidekiq/testing'
       Sidekiq::Testing.fake!
@@ -71,21 +51,34 @@ class TestTesting < Sidekiq::Test
       assert_in_delta 10.seconds.from_now.to_f, DirectWorker.jobs.last['at'], 0.01
     end
 
-    it 'stubs the delay call on mailers' do
-      assert_equal 0, Sidekiq::Extensions::DelayedMailer.jobs.size
-      FooMailer.delay.bar('hello!')
-      assert_equal 1, Sidekiq::Extensions::DelayedMailer.jobs.size
-    end
+    describe 'delayed' do
+      require 'action_mailer'
+      class FooMailer < ActionMailer::Base
+        def bar(str)
+          str
+        end
+      end
 
-    class Something
-      def self.foo(x)
+      before do
+        Sidekiq::Extensions.enable_delay!
+      end
+
+      it 'stubs the delay call on mailers' do
+        assert_equal 0, Sidekiq::Extensions::DelayedMailer.jobs.size
+        FooMailer.delay.bar('hello!')
+        assert_equal 1, Sidekiq::Extensions::DelayedMailer.jobs.size
       end
-    end
 
-    it 'stubs the delay call on models' do
-      assert_equal 0, Sidekiq::Extensions::DelayedClass.jobs.size
-      Something.delay.foo(Date.today)
-      assert_equal 1, Sidekiq::Extensions::DelayedClass.jobs.size
+      class Something
+        def self.foo(x)
+        end
+      end
+
+      it 'stubs the delay call on classes' do
+        assert_equal 0, Sidekiq::Extensions::DelayedClass.jobs.size
+        Something.delay.foo(Date.today)
+        assert_equal 1, Sidekiq::Extensions::DelayedClass.jobs.size
+      end
     end
 
     it 'stubs the enqueue call' do
diff --git a/test/test_testing_inline.rb b/test/test_testing_inline.rb
index 6a7eeed9..706dd37e 100644
--- a/test/test_testing_inline.rb
+++ b/test/test_testing_inline.rb
@@ -1,14 +1,6 @@
 # frozen_string_literal: true
 require_relative 'helper'
 
-require 'active_record'
-require 'action_mailer'
-require 'sidekiq/rails'
-require 'sidekiq/extensions/action_mailer'
-require 'sidekiq/extensions/active_record'
-
-Sidekiq.hook_rails!
-
 class TestInline < Sidekiq::Test
   describe 'sidekiq inline testing' do
     class InlineError < RuntimeError; end
@@ -29,18 +21,6 @@ class TestInline < Sidekiq::Test
       end
     end
 
-    class InlineFooMailer < ActionMailer::Base
-      def bar(str)
-        raise InlineError
-      end
-    end
-
-    class InlineFooModel < ActiveRecord::Base
-      def self.bar(str)
-        raise InlineError
-      end
-    end
-
     before do
       require 'sidekiq/testing/inline'
       Sidekiq::Testing.inline!
@@ -58,15 +38,34 @@ class TestInline < Sidekiq::Test
       end
     end
 
-    it 'stubs the delay call on mailers' do
-      assert_raises InlineError do
-        InlineFooMailer.delay.bar('three')
+    describe 'delay' do
+      require 'action_mailer'
+      class InlineFooMailer < ActionMailer::Base
+        def bar(str)
+          raise InlineError
+        end
       end
-    end
 
-    it 'stubs the delay call on models' do
-      assert_raises InlineError do
-        InlineFooModel.delay.bar('three')
+      class InlineFooModel
+        def self.bar(str)
+          raise InlineError
+        end
+      end
+
+      before do
+        Sidekiq::Extensions.enable_delay!
+      end
+
+      it 'stubs the delay call on mailers' do
+        assert_raises InlineError do
+          InlineFooMailer.delay.bar('three')
+        end
+      end
+
+      it 'stubs the delay call on models' do
+        assert_raises InlineError do
+          InlineFooModel.delay.bar('three')
+        end
       end
     end
 
