diff --git a/lib/sidekiq/web.rb b/lib/sidekiq/web.rb
index a722bfdc..66fe3588 100644
--- a/lib/sidekiq/web.rb
+++ b/lib/sidekiq/web.rb
@@ -109,6 +109,7 @@ module Sidekiq
           cascade: true,
           header_rules: rules
         m.each { |middleware, block| use(*middleware, &block) }
+        use CsrfProtection unless $TESTING # rubocop:disable Style/GlobalVars
         run Sidekiq::Web::Application.new(self.class)
       end
     end
diff --git a/lib/sidekiq/web/config.rb b/lib/sidekiq/web/config.rb
index f46f6140..56deffee 100644
--- a/lib/sidekiq/web/config.rb
+++ b/lib/sidekiq/web/config.rb
@@ -57,7 +57,7 @@ module Sidekiq
         @locales = LOCALES
         @views = VIEWS
         @tabs = DEFAULT_TABS.dup
-        @middlewares = [Sidekiq::Web::CsrfProtection]
+        @middlewares = []
         @custom_job_info_rows = []
       end
 
