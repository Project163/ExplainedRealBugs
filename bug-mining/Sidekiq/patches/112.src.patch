diff --git a/lib/sidekiq/api.rb b/lib/sidekiq/api.rb
index 0ba73e14..32e8b8fe 100644
--- a/lib/sidekiq/api.rb
+++ b/lib/sidekiq/api.rb
@@ -338,12 +338,13 @@ module Sidekiq
               false
             end
           end
-          message = hash[true].first
-          yield message
+
+          msg = hash.fetch(true, []).first
+          yield msg if msg
 
           # push the rest back onto the sorted set
           conn.multi do
-            hash[false].each do |message|
+            hash.fetch(false, []).each do |message|
               conn.zadd(parent.name, score.to_f.to_s, message)
             end
           end
