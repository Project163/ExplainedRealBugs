[{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/9416612","html_url":"https://github.com/sidekiq/sidekiq/issues/443#issuecomment-9416612","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/443","id":9416612,"node_id":"MDEyOklzc3VlQ29tbWVudDk0MTY2MTI=","user":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-14T06:15:35Z","updated_at":"2012-10-14T06:15:35Z","body":"There's also RedisGreen. There's only going to be more providers, so maybe something more generic would be appropriate:\n\n``` ruby\nmodule Sidekiq\n  class RedisConnection\n    def self.create(options={})\n      provider = ENV['REDIS_PROVIDER'] || 'REDIS_URL'\n      url = options[:url] || ENV[provider] || 'redis://localhost:6379/0'\n      ...\n    end\nend\n```\n\nso you could set the heroku env var `REDIS_PROVIDER` to `REDISTOGO_URL` or `REDISGREEN_URL` or whatever & we can support them all.\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/9416612/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/9419639","html_url":"https://github.com/sidekiq/sidekiq/issues/443#issuecomment-9419639","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/443","id":9419639,"node_id":"MDEyOklzc3VlQ29tbWVudDk0MTk2Mzk=","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-14T13:49:52Z","updated_at":"2012-10-14T13:49:52Z","body":"Send me a PR. Sounds easy. \n\nOn 13 Oct 2012, at 22:29, iamjoshua notifications@github.com wrote:\n\n> There is another redis add-on for heroku called \"openRedis\" which has a different and more competitive pricing structure than redis-to-go. It looks like it would only take a couple extra lines of code for sidekiq to autoconfigure with it like it does currently with redis-to-go.\n> \n> Any plans for this?\n> \n> —\n> Reply to this email directly or view it on GitHub.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/9419639/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/9423710","html_url":"https://github.com/sidekiq/sidekiq/issues/443#issuecomment-9423710","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/443","id":9423710,"node_id":"MDEyOklzc3VlQ29tbWVudDk0MjM3MTA=","user":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-14T18:02:15Z","updated_at":"2012-10-14T18:02:15Z","body":"@mperham which version? Are you thinking of explicitly support all providers or taking a general approach?\n\nIf we go general, we may want to issue a warning so people using it on Heroku now don't get a nasty surprise :smile: \n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/9423710/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":26875394,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjY4NzUzOTQ=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/26875394","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2012-10-14T18:02:16Z","performed_via_github_app":null},{"id":26875395,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2ODc1Mzk1","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/26875395","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-10-14T18:02:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/9423727","html_url":"https://github.com/sidekiq/sidekiq/issues/443#issuecomment-9423727","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/443","id":9423727,"node_id":"MDEyOklzc3VlQ29tbWVudDk0MjM3Mjc=","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-14T18:03:30Z","updated_at":"2012-10-14T18:03:30Z","body":"I think a general approach sounds like a great idea.\nOn Oct 14, 2012 11:02 AM, \"Jesse Cooke\" notifications@github.com wrote:\n\n> @mperham https://github.com/mperham which version? Are you thinking of\n> explicitly support all providers or taking a general approach?\n> \n> If we go general, we may want to issue a warning so people using it on\n> Heroku now don't get a nasty surprise [image: :smile:]\n> \n> —\n> Reply to this email directly or view it on GitHubhttps://github.com/mperham/sidekiq/issues/443#issuecomment-9423710.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/9423727/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":26875428,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MjY4NzU0Mjg=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/26875428","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2012-10-14T18:03:30Z","performed_via_github_app":null},{"id":26875429,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDI2ODc1NDI5","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/26875429","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2012-10-14T18:03:30Z","performed_via_github_app":null},{"id":26882422,"node_id":"MDExOkNsb3NlZEV2ZW50MjY4ODI0MjI=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/26882422","actor":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"36bb71883a66010a43b74db750fc05f6a37884a9","commit_url":"https://api.github.com/repos/sidekiq/sidekiq/commits/36bb71883a66010a43b74db750fc05f6a37884a9","created_at":"2012-10-14T21:59:01Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-10-14T21:59:57Z","updated_at":"2012-10-14T21:59:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/444","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/444/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/444/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/444/events","html_url":"https://github.com/sidekiq/sidekiq/pull/444","id":7579140,"node_id":"MDExOlB1bGxSZXF1ZXN0MjY0MzMxNQ==","number":444,"title":"Allow generic Redis providers via env var","user":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":11,"created_at":"2012-10-14T21:59:57Z","updated_at":"2014-08-04T08:00:05Z","closed_at":"2012-10-16T03:37:53Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3195124,"node_id":"MDEwOlJlcG9zaXRvcnkzMTk1MTI0","name":"sidekiq","full_name":"sidekiq/sidekiq","private":false,"owner":{"login":"sidekiq","id":124714131,"node_id":"O_kgDOB278kw","avatar_url":"https://avatars.githubusercontent.com/u/124714131?v=4","gravatar_id":"","url":"https://api.github.com/users/sidekiq","html_url":"https://github.com/sidekiq","followers_url":"https://api.github.com/users/sidekiq/followers","following_url":"https://api.github.com/users/sidekiq/following{/other_user}","gists_url":"https://api.github.com/users/sidekiq/gists{/gist_id}","starred_url":"https://api.github.com/users/sidekiq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidekiq/subscriptions","organizations_url":"https://api.github.com/users/sidekiq/orgs","repos_url":"https://api.github.com/users/sidekiq/repos","events_url":"https://api.github.com/users/sidekiq/events{/privacy}","received_events_url":"https://api.github.com/users/sidekiq/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sidekiq/sidekiq","description":"Simple, efficient background processing for Ruby","fork":false,"url":"https://api.github.com/repos/sidekiq/sidekiq","forks_url":"https://api.github.com/repos/sidekiq/sidekiq/forks","keys_url":"https://api.github.com/repos/sidekiq/sidekiq/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sidekiq/sidekiq/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sidekiq/sidekiq/teams","hooks_url":"https://api.github.com/repos/sidekiq/sidekiq/hooks","issue_events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events{/number}","events_url":"https://api.github.com/repos/sidekiq/sidekiq/events","assignees_url":"https://api.github.com/repos/sidekiq/sidekiq/assignees{/user}","branches_url":"https://api.github.com/repos/sidekiq/sidekiq/branches{/branch}","tags_url":"https://api.github.com/repos/sidekiq/sidekiq/tags","blobs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sidekiq/sidekiq/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/refs{/sha}","trees_url":"https://api.github.com/repos/sidekiq/sidekiq/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sidekiq/sidekiq/statuses/{sha}","languages_url":"https://api.github.com/repos/sidekiq/sidekiq/languages","stargazers_url":"https://api.github.com/repos/sidekiq/sidekiq/stargazers","contributors_url":"https://api.github.com/repos/sidekiq/sidekiq/contributors","subscribers_url":"https://api.github.com/repos/sidekiq/sidekiq/subscribers","subscription_url":"https://api.github.com/repos/sidekiq/sidekiq/subscription","commits_url":"https://api.github.com/repos/sidekiq/sidekiq/commits{/sha}","git_commits_url":"https://api.github.com/repos/sidekiq/sidekiq/git/commits{/sha}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/comments{/number}","issue_comment_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments{/number}","contents_url":"https://api.github.com/repos/sidekiq/sidekiq/contents/{+path}","compare_url":"https://api.github.com/repos/sidekiq/sidekiq/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sidekiq/sidekiq/merges","archive_url":"https://api.github.com/repos/sidekiq/sidekiq/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sidekiq/sidekiq/downloads","issues_url":"https://api.github.com/repos/sidekiq/sidekiq/issues{/number}","pulls_url":"https://api.github.com/repos/sidekiq/sidekiq/pulls{/number}","milestones_url":"https://api.github.com/repos/sidekiq/sidekiq/milestones{/number}","notifications_url":"https://api.github.com/repos/sidekiq/sidekiq/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/labels{/name}","releases_url":"https://api.github.com/repos/sidekiq/sidekiq/releases{/id}","deployments_url":"https://api.github.com/repos/sidekiq/sidekiq/deployments","created_at":"2012-01-16T23:17:27Z","updated_at":"2025-11-09T20:20:41Z","pushed_at":"2025-11-07T17:29:44Z","git_url":"git://github.com/sidekiq/sidekiq.git","ssh_url":"git@github.com:sidekiq/sidekiq.git","clone_url":"https://github.com/sidekiq/sidekiq.git","svn_url":"https://github.com/sidekiq/sidekiq","homepage":"https://sidekiq.org","size":14680,"stargazers_count":13447,"watchers_count":13447,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2471,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["background-jobs","jobs","ruby","sidekiq"],"visibility":"public","forks":2471,"open_issues":40,"watchers":13447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sidekiq/sidekiq/pulls/444","html_url":"https://github.com/sidekiq/sidekiq/pull/444","diff_url":"https://github.com/sidekiq/sidekiq/pull/444.diff","patch_url":"https://github.com/sidekiq/sidekiq/pull/444.patch","merged_at":"2012-10-16T03:37:53Z"},"body":"Instead of hardcoding every provider's environment variable, Sidekiq now\nsupports both `REDIS_PROVIDER` and `REDIS_URL` env vars.\n\nLet's say you run on Heroku and you use openredis. You can now set\n`REDIS_PROVIDER=OPENREDIS_URL` and Sidekiq will use the openredis uri.\n\nIf you switch to another provider, all you need to do is reset\n`REDIS_PROVIDER`. An example of switching to RedisGreen:\n`REDIS_PROVIDER=REDISGREEN_URL`. Easy peasy!\n\nSidekiq also supports using your own url with REDIS_URL. While you can\nstill pass in the URL to `Sidekiq::RedisConnection.create`, it's also now\npossible to set it with just an env var.\n\nCloses #443\n","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/444/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/444/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"invalidusrname","id":2727,"node_id":"MDQ6VXNlcjI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/2727?v=4","gravatar_id":"","url":"https://api.github.com/users/invalidusrname","html_url":"https://github.com/invalidusrname","followers_url":"https://api.github.com/users/invalidusrname/followers","following_url":"https://api.github.com/users/invalidusrname/following{/other_user}","gists_url":"https://api.github.com/users/invalidusrname/gists{/gist_id}","starred_url":"https://api.github.com/users/invalidusrname/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/invalidusrname/subscriptions","organizations_url":"https://api.github.com/users/invalidusrname/orgs","repos_url":"https://api.github.com/users/invalidusrname/repos","events_url":"https://api.github.com/users/invalidusrname/events{/privacy}","received_events_url":"https://api.github.com/users/invalidusrname/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2012-12-19T20:58:45Z","updated_at":"2012-12-19T20:58:45Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/598","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/598/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/598/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/598/events","html_url":"https://github.com/sidekiq/sidekiq/pull/598","id":9414609,"node_id":"MDExOlB1bGxSZXF1ZXN0MzQzNDY1Mg==","number":598,"title":"Prevent capistrano from running sidekiq start twice","user":{"login":"invalidusrname","id":2727,"node_id":"MDQ6VXNlcjI3Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/2727?v=4","gravatar_id":"","url":"https://api.github.com/users/invalidusrname","html_url":"https://github.com/invalidusrname","followers_url":"https://api.github.com/users/invalidusrname/followers","following_url":"https://api.github.com/users/invalidusrname/following{/other_user}","gists_url":"https://api.github.com/users/invalidusrname/gists{/gist_id}","starred_url":"https://api.github.com/users/invalidusrname/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/invalidusrname/subscriptions","organizations_url":"https://api.github.com/users/invalidusrname/orgs","repos_url":"https://api.github.com/users/invalidusrname/repos","events_url":"https://api.github.com/users/invalidusrname/events{/privacy}","received_events_url":"https://api.github.com/users/invalidusrname/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2012-12-19T20:58:45Z","updated_at":"2014-06-27T15:16:32Z","closed_at":"2012-12-19T21:23:15Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3195124,"node_id":"MDEwOlJlcG9zaXRvcnkzMTk1MTI0","name":"sidekiq","full_name":"sidekiq/sidekiq","private":false,"owner":{"login":"sidekiq","id":124714131,"node_id":"O_kgDOB278kw","avatar_url":"https://avatars.githubusercontent.com/u/124714131?v=4","gravatar_id":"","url":"https://api.github.com/users/sidekiq","html_url":"https://github.com/sidekiq","followers_url":"https://api.github.com/users/sidekiq/followers","following_url":"https://api.github.com/users/sidekiq/following{/other_user}","gists_url":"https://api.github.com/users/sidekiq/gists{/gist_id}","starred_url":"https://api.github.com/users/sidekiq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidekiq/subscriptions","organizations_url":"https://api.github.com/users/sidekiq/orgs","repos_url":"https://api.github.com/users/sidekiq/repos","events_url":"https://api.github.com/users/sidekiq/events{/privacy}","received_events_url":"https://api.github.com/users/sidekiq/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sidekiq/sidekiq","description":"Simple, efficient background processing for Ruby","fork":false,"url":"https://api.github.com/repos/sidekiq/sidekiq","forks_url":"https://api.github.com/repos/sidekiq/sidekiq/forks","keys_url":"https://api.github.com/repos/sidekiq/sidekiq/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sidekiq/sidekiq/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sidekiq/sidekiq/teams","hooks_url":"https://api.github.com/repos/sidekiq/sidekiq/hooks","issue_events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events{/number}","events_url":"https://api.github.com/repos/sidekiq/sidekiq/events","assignees_url":"https://api.github.com/repos/sidekiq/sidekiq/assignees{/user}","branches_url":"https://api.github.com/repos/sidekiq/sidekiq/branches{/branch}","tags_url":"https://api.github.com/repos/sidekiq/sidekiq/tags","blobs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sidekiq/sidekiq/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/refs{/sha}","trees_url":"https://api.github.com/repos/sidekiq/sidekiq/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sidekiq/sidekiq/statuses/{sha}","languages_url":"https://api.github.com/repos/sidekiq/sidekiq/languages","stargazers_url":"https://api.github.com/repos/sidekiq/sidekiq/stargazers","contributors_url":"https://api.github.com/repos/sidekiq/sidekiq/contributors","subscribers_url":"https://api.github.com/repos/sidekiq/sidekiq/subscribers","subscription_url":"https://api.github.com/repos/sidekiq/sidekiq/subscription","commits_url":"https://api.github.com/repos/sidekiq/sidekiq/commits{/sha}","git_commits_url":"https://api.github.com/repos/sidekiq/sidekiq/git/commits{/sha}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/comments{/number}","issue_comment_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments{/number}","contents_url":"https://api.github.com/repos/sidekiq/sidekiq/contents/{+path}","compare_url":"https://api.github.com/repos/sidekiq/sidekiq/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sidekiq/sidekiq/merges","archive_url":"https://api.github.com/repos/sidekiq/sidekiq/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sidekiq/sidekiq/downloads","issues_url":"https://api.github.com/repos/sidekiq/sidekiq/issues{/number}","pulls_url":"https://api.github.com/repos/sidekiq/sidekiq/pulls{/number}","milestones_url":"https://api.github.com/repos/sidekiq/sidekiq/milestones{/number}","notifications_url":"https://api.github.com/repos/sidekiq/sidekiq/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/labels{/name}","releases_url":"https://api.github.com/repos/sidekiq/sidekiq/releases{/id}","deployments_url":"https://api.github.com/repos/sidekiq/sidekiq/deployments","created_at":"2012-01-16T23:17:27Z","updated_at":"2025-11-09T20:20:41Z","pushed_at":"2025-11-07T17:29:44Z","git_url":"git://github.com/sidekiq/sidekiq.git","ssh_url":"git@github.com:sidekiq/sidekiq.git","clone_url":"https://github.com/sidekiq/sidekiq.git","svn_url":"https://github.com/sidekiq/sidekiq","homepage":"https://sidekiq.org","size":14680,"stargazers_count":13447,"watchers_count":13447,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2471,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["background-jobs","jobs","ruby","sidekiq"],"visibility":"public","forks":2471,"open_issues":40,"watchers":13447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sidekiq/sidekiq/pulls/598","html_url":"https://github.com/sidekiq/sidekiq/pull/598","diff_url":"https://github.com/sidekiq/sidekiq/pull/598.diff","patch_url":"https://github.com/sidekiq/sidekiq/pull/598.patch","merged_at":"2012-12-19T21:23:15Z"},"body":"It appears that sidekiq is starting up 2 processes during deployment.\n1. during the callback for deploy:start (executes sidekiq.start)\n2. during the callback for deploy:restart (executes sidekiq:restart)\n\nI believe the first sidekiq:start is still starting up when the sidekiq:restart gets called. By the time restart  command happens, there's no sidekiq.pid file available yet, so it starts up a new sidekiq process. \n\n```\n** transaction: commit\n  * executing `deploy:restart'\n  * executing `deploy:stop'\n    triggering after callbacks for `deploy:stop'\n  * executing `sidekiq:stop'\n  * executing \"if [ -d /var/apps/XXX/current ] && [ -f /var/apps/XXX/current/tmp/pids/sidekiq.pid ]; then cd /var/apps/XXX/current && bundle exec sidekiqctl stop /var/apps/XXX/current/tmp/pids/sidekiq.pid 60 ; fi\"\n    servers: [\"worker1\"]\n    [worker1] executing command\n ** [out :: worker1] Sidekiq shut down gracefully.\n    command finished in 10660ms\n  * executing `deploy:start'\n    triggering after callbacks for `deploy:start'\n  * executing `sidekiq:start'\n  * executing \"cd /var/apps/XXX/current ; nohup bundle exec sidekiq -e qa -C /var/apps/XXX/current/config/sidekiq.yml -P /var/apps/XXX/current/tmp/pids/sidekiq.pid >> /var/apps/XXX/current/log/sidekiq.log 2>&1 &\"\n    servers: [\"worker1\"]\n    [worker1] executing command\n    command finished in 767ms\n    triggering after callbacks for `deploy:restart'\n  * executing `sidekiq:restart'\n  * executing `sidekiq:stop'\n  * executing \"if [ -d /var/apps/XXX/current ] && [ -f /var/apps/XXX/current/tmp/pids/sidekiq.pid ]; then cd /var/apps/XXX/current && bundle exec sidekiqctl stop /var/apps/XXX/current/tmp/pids/sidekiq.pid 60 ; fi\"\n    servers: [\"worker1\"]\n    [worker1] executing command\n    command finished in 1512ms\n  * executing `sidekiq:start'\n  * executing \"cd /var/apps/XXX/current ; nohup bundle exec sidekiq -e qa -C /var/apps/XXX/current/config/sidekiq.yml -P /var/apps/XXX/current/tmp/pids/sidekiq.pid >> /var/apps/XXX/current/log/sidekiq.log 2>&1 &\"\n    servers: [\"worker1\"]\n    [worker1] executing command\n    command finished in 1514ms\n  * executing `deploy:cleanup'\n```\n\nThis is pretty much what I've been seeing when doing multiple deployments, leaving an orphaned worker running (see #433)\n\nRemoving the  deploy:restart callback in the capistrano config seems to have fixed this problem.\n\nIf it helps, I'm also running capistrano 2.13.5\n","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/598/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]