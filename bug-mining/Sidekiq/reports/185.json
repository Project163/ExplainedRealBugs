{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3340","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3340/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3340/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3340/events","html_url":"https://github.com/sidekiq/sidekiq/issues/3340","id":204774695,"node_id":"MDU6SXNzdWUyMDQ3NzQ2OTU=","number":3340,"title":"TypeError: nil can't be coerced into Float in api.rb","user":{"login":"bdmac","id":47326,"node_id":"MDQ6VXNlcjQ3MzI2","avatar_url":"https://avatars.githubusercontent.com/u/47326?v=4","gravatar_id":"","url":"https://api.github.com/users/bdmac","html_url":"https://github.com/bdmac","followers_url":"https://api.github.com/users/bdmac/followers","following_url":"https://api.github.com/users/bdmac/following{/other_user}","gists_url":"https://api.github.com/users/bdmac/gists{/gist_id}","starred_url":"https://api.github.com/users/bdmac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdmac/subscriptions","organizations_url":"https://api.github.com/users/bdmac/orgs","repos_url":"https://api.github.com/users/bdmac/repos","events_url":"https://api.github.com/users/bdmac/events{/privacy}","received_events_url":"https://api.github.com/users/bdmac/received_events","type":"User","user_view_type":"public","site_admin":true},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2017-02-02T03:38:48Z","updated_at":"2017-02-03T00:38:23Z","closed_at":"2017-02-02T20:25:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Ruby version: 2.3.3p222\r\nSidekiq / Pro / Enterprise version(s): 4.2.9 / 3.4.2 / N/A\r\n\r\nError logged in Honeybadger: `TypeError: nil can't be coerced into Float`\r\n\r\nStack trace:\r\n```\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/api.rb:78 :in `-`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/api.rb:78 :in `fetch_stats!`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/api.rb:8 :in `initialize`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/helpers.rb:111 :in `new`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/helpers.rb:111 :in `stats`\r\n(eval):5 :in `_erb__summary`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/action.rb:89 :in `_erb`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/action.rb:55 :in `erb`\r\n(eval):22 :in `_render`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/action.rb:60 :in `erb`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/action.rb:67 :in `render`\r\n[GEM_ROOT]/gems/sidekiq-pro-3.4.2/lib/sidekiq/pro/web.rb:72 :in `block in registered`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/application.rb:266 :in `instance_exec`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/application.rb:266 :in `block in call`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/application.rb:262 :in `catch`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web/application.rb:262 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/auth/basic.rb:25 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/xss_header.rb:18 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/path_traversal.rb:16 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/json_csrf.rb:18 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/frame_options.rb:31 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-protection-1.5.3/lib/rack/protection/base.rb:49 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/session/abstract/id.rb:225 :in `context`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/session/abstract/id.rb:220 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/urlmap.rb:66 :in `block in call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/urlmap.rb:50 :in `each`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/urlmap.rb:50 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/builder.rb:153 :in `call`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web.rb:103 :in `call`\r\n[GEM_ROOT]/gems/sidekiq-4.2.9/lib/sidekiq/web.rb:108 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/routing/mapper.rb:51 :in `serve`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/journey/router.rb:43 :in `block in serve`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/journey/router.rb:30 :in `each`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/journey/router.rb:30 :in `serve`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/routing/route_set.rb:817 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/rack/agent_hooks.rb:30 :in `traced_call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/rack/browser_monitoring.rb:32 :in `traced_call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/etag.rb:24 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/conditionalget.rb:25 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/head.rb:13 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/warden-1.2.3/lib/warden/manager.rb:35 :in `block in call`\r\n[GEM_ROOT]/gems/warden-1.2.3/lib/warden/manager.rb:34 :in `catch`\r\n[GEM_ROOT]/gems/warden-1.2.3/lib/warden/manager.rb:34 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/params_parser.rb:27 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/cookies.rb:560 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/activerecord-4.2.7.1/lib/active_record/query_cache.rb:36 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/activerecord-4.2.7.1/lib/active_record/connection_adapters/abstract/connection_pool.rb:653 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/callbacks.rb:29 :in `block in call`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/callbacks.rb:88 :in `__run_callbacks__`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/callbacks.rb:778 :in `_run_call_callbacks`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/callbacks.rb:81 :in `run_callbacks`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/callbacks.rb:27 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/remote_ip.rb:78 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/debug_exceptions.rb:17 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/show_exceptions.rb:30 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/railties-4.2.7.1/lib/rails/rack/logger.rb:38 :in `call_app`\r\n[GEM_ROOT]/gems/railties-4.2.7.1/lib/rails/rack/logger.rb:20 :in `block in call`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/tagged_logging.rb:68 :in `block in tagged`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/tagged_logging.rb:26 :in `tagged`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/tagged_logging.rb:68 :in `tagged`\r\n[GEM_ROOT]/gems/railties-4.2.7.1/lib/rails/rack/logger.rb:20 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/request_store-1.2.0/lib/request_store/middleware.rb:8 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/request_id.rb:21 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/methodoverride.rb:22 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-1.6.5/lib/rack/runtime.rb:18 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/cache/strategy/local_cache_middleware.rb:28 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/static.rb:120 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/actionpack-4.2.7.1/lib/action_dispatch/middleware/ssl.rb:24 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/rack-cors-0.4.0/lib/rack/cors.rb:80 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/railties-4.2.7.1/lib/rails/engine.rb:518 :in `call`\r\n[GEM_ROOT]/gems/railties-4.2.7.1/lib/rails/application.rb:165 :in `call`\r\n[GEM_ROOT]/gems/newrelic_rpm-3.17.1.326/lib/new_relic/agent/instrumentation/middleware_tracing.rb:96 :in `call`\r\n[GEM_ROOT]/gems/passenger-enterprise-server-5.1.2/src/ruby_supportlib/phusion_passenger/rack/thread_handler_extension.rb:81 :in `block in process_request`\r\n[GEM_ROOT]/gems/passenger-enterprise-server-5.1.2/src/ruby_supportlib/phusion_passenger/rack/active_support_tagged_logger_support.rb:15 :in `block in maybe_tag_logger`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/tagged_logging.rb:68 :in `block in tagged`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/tagged_logging.rb:26 :in `tagged`\r\n[GEM_ROOT]/gems/activesupport-4.2.7.1/lib/active_support/tagged_logging.rb:68 :in `tagged`\r\n[GEM_ROOT]/gems/passenger-enterprise-server-5.1.2/src/ruby_supportlib/phusion_passenger/rack/active_support_tagged_logger_support.rb:15 :in `maybe_tag_logger`\r\n[GEM_ROOT]/gems/passenger-enterprise-server-5.1.2/src/ruby_supportlib/phusion_passenger/rack/thread_handler_extension.rb:81 :in `process_request`\r\n[GEM_ROOT]/gems/passenger-enterprise-server-5.1.2/src/ruby_supportlib/phusion_passenger/request_handler/thread_handler.rb:137 :in `accept_and_process_next_request`\r\n[GEM_ROOT]/gems/passenger-enterprise-server-5.1.2/src/ruby_supportlib/phusion_passenger/request_handler/thread_handler.rb:98 :in `main_loop`\r\n[GEM_ROOT]/gems/passenger-enterprise-server-5.1.2/src/ruby_supportlib/phusion_passenger/request_handler.rb:440 :in `block (3 levels) in start_threads`\r\n[GEM_ROOT]/gems/passenger-enterprise-server-5.1.2/src/ruby_supportlib/phusion_passenger/utils.rb:97 :in `block in create_thread_and_abort_on_exception\r\n```","closed_by":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3340/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3340/timeline","performed_via_github_app":null,"state_reason":"completed"}