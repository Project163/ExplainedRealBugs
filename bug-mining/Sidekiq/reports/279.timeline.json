[{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1025217749","html_url":"https://github.com/sidekiq/sidekiq/issues/5158#issuecomment-1025217749","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5158","id":1025217749,"node_id":"IC_kwDOADDA9M49G5TV","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-30T19:52:23Z","updated_at":"2022-01-30T19:52:23Z","body":"Iâ€™m fine with refactoring but we need to be very careful about changing any documented public APIs.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1025217749/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"adamniedzielski","id":2426386,"node_id":"MDQ6VXNlcjI0MjYzODY=","avatar_url":"https://avatars.githubusercontent.com/u/2426386?v=4","gravatar_id":"","url":"https://api.github.com/users/adamniedzielski","html_url":"https://github.com/adamniedzielski","followers_url":"https://api.github.com/users/adamniedzielski/followers","following_url":"https://api.github.com/users/adamniedzielski/following{/other_user}","gists_url":"https://api.github.com/users/adamniedzielski/gists{/gist_id}","starred_url":"https://api.github.com/users/adamniedzielski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamniedzielski/subscriptions","organizations_url":"https://api.github.com/users/adamniedzielski/orgs","repos_url":"https://api.github.com/users/adamniedzielski/repos","events_url":"https://api.github.com/users/adamniedzielski/events{/privacy}","received_events_url":"https://api.github.com/users/adamniedzielski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-31T22:01:09Z","updated_at":"2022-01-31T22:01:09Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5162","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5162/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5162/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5162/events","html_url":"https://github.com/sidekiq/sidekiq/pull/5162","id":1119979171,"node_id":"PR_kwDOADDA9M4x3bmB","number":5162,"title":"Add failing test for scheduling in bulk and enqueued_at","user":{"login":"adamniedzielski","id":2426386,"node_id":"MDQ6VXNlcjI0MjYzODY=","avatar_url":"https://avatars.githubusercontent.com/u/2426386?v=4","gravatar_id":"","url":"https://api.github.com/users/adamniedzielski","html_url":"https://github.com/adamniedzielski","followers_url":"https://api.github.com/users/adamniedzielski/followers","following_url":"https://api.github.com/users/adamniedzielski/following{/other_user}","gists_url":"https://api.github.com/users/adamniedzielski/gists{/gist_id}","starred_url":"https://api.github.com/users/adamniedzielski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamniedzielski/subscriptions","organizations_url":"https://api.github.com/users/adamniedzielski/orgs","repos_url":"https://api.github.com/users/adamniedzielski/repos","events_url":"https://api.github.com/users/adamniedzielski/events{/privacy}","received_events_url":"https://api.github.com/users/adamniedzielski/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2022-01-31T22:01:09Z","updated_at":"2022-02-02T22:18:36Z","closed_at":"2022-02-01T23:04:34Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3195124,"node_id":"MDEwOlJlcG9zaXRvcnkzMTk1MTI0","name":"sidekiq","full_name":"sidekiq/sidekiq","private":false,"owner":{"login":"sidekiq","id":124714131,"node_id":"O_kgDOB278kw","avatar_url":"https://avatars.githubusercontent.com/u/124714131?v=4","gravatar_id":"","url":"https://api.github.com/users/sidekiq","html_url":"https://github.com/sidekiq","followers_url":"https://api.github.com/users/sidekiq/followers","following_url":"https://api.github.com/users/sidekiq/following{/other_user}","gists_url":"https://api.github.com/users/sidekiq/gists{/gist_id}","starred_url":"https://api.github.com/users/sidekiq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidekiq/subscriptions","organizations_url":"https://api.github.com/users/sidekiq/orgs","repos_url":"https://api.github.com/users/sidekiq/repos","events_url":"https://api.github.com/users/sidekiq/events{/privacy}","received_events_url":"https://api.github.com/users/sidekiq/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sidekiq/sidekiq","description":"Simple, efficient background processing for Ruby","fork":false,"url":"https://api.github.com/repos/sidekiq/sidekiq","forks_url":"https://api.github.com/repos/sidekiq/sidekiq/forks","keys_url":"https://api.github.com/repos/sidekiq/sidekiq/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sidekiq/sidekiq/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sidekiq/sidekiq/teams","hooks_url":"https://api.github.com/repos/sidekiq/sidekiq/hooks","issue_events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events{/number}","events_url":"https://api.github.com/repos/sidekiq/sidekiq/events","assignees_url":"https://api.github.com/repos/sidekiq/sidekiq/assignees{/user}","branches_url":"https://api.github.com/repos/sidekiq/sidekiq/branches{/branch}","tags_url":"https://api.github.com/repos/sidekiq/sidekiq/tags","blobs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sidekiq/sidekiq/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/refs{/sha}","trees_url":"https://api.github.com/repos/sidekiq/sidekiq/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sidekiq/sidekiq/statuses/{sha}","languages_url":"https://api.github.com/repos/sidekiq/sidekiq/languages","stargazers_url":"https://api.github.com/repos/sidekiq/sidekiq/stargazers","contributors_url":"https://api.github.com/repos/sidekiq/sidekiq/contributors","subscribers_url":"https://api.github.com/repos/sidekiq/sidekiq/subscribers","subscription_url":"https://api.github.com/repos/sidekiq/sidekiq/subscription","commits_url":"https://api.github.com/repos/sidekiq/sidekiq/commits{/sha}","git_commits_url":"https://api.github.com/repos/sidekiq/sidekiq/git/commits{/sha}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/comments{/number}","issue_comment_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments{/number}","contents_url":"https://api.github.com/repos/sidekiq/sidekiq/contents/{+path}","compare_url":"https://api.github.com/repos/sidekiq/sidekiq/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sidekiq/sidekiq/merges","archive_url":"https://api.github.com/repos/sidekiq/sidekiq/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sidekiq/sidekiq/downloads","issues_url":"https://api.github.com/repos/sidekiq/sidekiq/issues{/number}","pulls_url":"https://api.github.com/repos/sidekiq/sidekiq/pulls{/number}","milestones_url":"https://api.github.com/repos/sidekiq/sidekiq/milestones{/number}","notifications_url":"https://api.github.com/repos/sidekiq/sidekiq/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/labels{/name}","releases_url":"https://api.github.com/repos/sidekiq/sidekiq/releases{/id}","deployments_url":"https://api.github.com/repos/sidekiq/sidekiq/deployments","created_at":"2012-01-16T23:17:27Z","updated_at":"2025-11-09T20:20:41Z","pushed_at":"2025-11-07T17:29:44Z","git_url":"git://github.com/sidekiq/sidekiq.git","ssh_url":"git@github.com:sidekiq/sidekiq.git","clone_url":"https://github.com/sidekiq/sidekiq.git","svn_url":"https://github.com/sidekiq/sidekiq","homepage":"https://sidekiq.org","size":14680,"stargazers_count":13447,"watchers_count":13447,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2471,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["background-jobs","jobs","ruby","sidekiq"],"visibility":"public","forks":2471,"open_issues":40,"watchers":13447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sidekiq/sidekiq/pulls/5162","html_url":"https://github.com/sidekiq/sidekiq/pull/5162","diff_url":"https://github.com/sidekiq/sidekiq/pull/5162.diff","patch_url":"https://github.com/sidekiq/sidekiq/pull/5162.patch","merged_at":"2022-02-01T23:04:34Z"},"body":"While working on https://github.com/mperham/sidekiq/issues/5158 I noticed an inconsistency with how `enqueued_at` is being handled with `push_bulk`.\r\n\r\nI'm submitting this PR with a new failing test to demonstrate this inconsistency. The reason for it is [here](https://github.com/mperham/sidekiq/blob/cd553fa14cefe789684f3cf35b0f61e4e22b6305/lib/sidekiq/client.rb#L106). `push_bulk` always adds `enqueued_at`. `push` only adds it [conditionally](https://github.com/mperham/sidekiq/blob/cd553fa14cefe789684f3cf35b0f61e4e22b6305/lib/sidekiq/client.rb#L209).\r\n\r\nI'm not 100% sure what's expected here, but it prevents me from unifying `push` and `push_bulk` ðŸ˜… ","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5162/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5162/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"actor":{"login":"adamniedzielski","id":2426386,"node_id":"MDQ6VXNlcjI0MjYzODY=","avatar_url":"https://avatars.githubusercontent.com/u/2426386?v=4","gravatar_id":"","url":"https://api.github.com/users/adamniedzielski","html_url":"https://github.com/adamniedzielski","followers_url":"https://api.github.com/users/adamniedzielski/followers","following_url":"https://api.github.com/users/adamniedzielski/following{/other_user}","gists_url":"https://api.github.com/users/adamniedzielski/gists{/gist_id}","starred_url":"https://api.github.com/users/adamniedzielski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamniedzielski/subscriptions","organizations_url":"https://api.github.com/users/adamniedzielski/orgs","repos_url":"https://api.github.com/users/adamniedzielski/repos","events_url":"https://api.github.com/users/adamniedzielski/events{/privacy}","received_events_url":"https://api.github.com/users/adamniedzielski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-05T06:45:20Z","updated_at":"2022-02-05T06:45:20Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5182","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5182/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5182/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5182/events","html_url":"https://github.com/sidekiq/sidekiq/pull/5182","id":1124852895,"node_id":"PR_kwDOADDA9M4yHboo","number":5182,"title":"Remove parallel code paths caused by \"push\" and \"push_bulk\"","user":{"login":"adamniedzielski","id":2426386,"node_id":"MDQ6VXNlcjI0MjYzODY=","avatar_url":"https://avatars.githubusercontent.com/u/2426386?v=4","gravatar_id":"","url":"https://api.github.com/users/adamniedzielski","html_url":"https://github.com/adamniedzielski","followers_url":"https://api.github.com/users/adamniedzielski/followers","following_url":"https://api.github.com/users/adamniedzielski/following{/other_user}","gists_url":"https://api.github.com/users/adamniedzielski/gists{/gist_id}","starred_url":"https://api.github.com/users/adamniedzielski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamniedzielski/subscriptions","organizations_url":"https://api.github.com/users/adamniedzielski/orgs","repos_url":"https://api.github.com/users/adamniedzielski/repos","events_url":"https://api.github.com/users/adamniedzielski/events{/privacy}","received_events_url":"https://api.github.com/users/adamniedzielski/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-02-05T06:45:20Z","updated_at":"2022-02-16T01:14:46Z","closed_at":"2022-02-16T01:14:46Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3195124,"node_id":"MDEwOlJlcG9zaXRvcnkzMTk1MTI0","name":"sidekiq","full_name":"sidekiq/sidekiq","private":false,"owner":{"login":"sidekiq","id":124714131,"node_id":"O_kgDOB278kw","avatar_url":"https://avatars.githubusercontent.com/u/124714131?v=4","gravatar_id":"","url":"https://api.github.com/users/sidekiq","html_url":"https://github.com/sidekiq","followers_url":"https://api.github.com/users/sidekiq/followers","following_url":"https://api.github.com/users/sidekiq/following{/other_user}","gists_url":"https://api.github.com/users/sidekiq/gists{/gist_id}","starred_url":"https://api.github.com/users/sidekiq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidekiq/subscriptions","organizations_url":"https://api.github.com/users/sidekiq/orgs","repos_url":"https://api.github.com/users/sidekiq/repos","events_url":"https://api.github.com/users/sidekiq/events{/privacy}","received_events_url":"https://api.github.com/users/sidekiq/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sidekiq/sidekiq","description":"Simple, efficient background processing for Ruby","fork":false,"url":"https://api.github.com/repos/sidekiq/sidekiq","forks_url":"https://api.github.com/repos/sidekiq/sidekiq/forks","keys_url":"https://api.github.com/repos/sidekiq/sidekiq/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sidekiq/sidekiq/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sidekiq/sidekiq/teams","hooks_url":"https://api.github.com/repos/sidekiq/sidekiq/hooks","issue_events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events{/number}","events_url":"https://api.github.com/repos/sidekiq/sidekiq/events","assignees_url":"https://api.github.com/repos/sidekiq/sidekiq/assignees{/user}","branches_url":"https://api.github.com/repos/sidekiq/sidekiq/branches{/branch}","tags_url":"https://api.github.com/repos/sidekiq/sidekiq/tags","blobs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sidekiq/sidekiq/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/refs{/sha}","trees_url":"https://api.github.com/repos/sidekiq/sidekiq/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sidekiq/sidekiq/statuses/{sha}","languages_url":"https://api.github.com/repos/sidekiq/sidekiq/languages","stargazers_url":"https://api.github.com/repos/sidekiq/sidekiq/stargazers","contributors_url":"https://api.github.com/repos/sidekiq/sidekiq/contributors","subscribers_url":"https://api.github.com/repos/sidekiq/sidekiq/subscribers","subscription_url":"https://api.github.com/repos/sidekiq/sidekiq/subscription","commits_url":"https://api.github.com/repos/sidekiq/sidekiq/commits{/sha}","git_commits_url":"https://api.github.com/repos/sidekiq/sidekiq/git/commits{/sha}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/comments{/number}","issue_comment_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments{/number}","contents_url":"https://api.github.com/repos/sidekiq/sidekiq/contents/{+path}","compare_url":"https://api.github.com/repos/sidekiq/sidekiq/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sidekiq/sidekiq/merges","archive_url":"https://api.github.com/repos/sidekiq/sidekiq/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sidekiq/sidekiq/downloads","issues_url":"https://api.github.com/repos/sidekiq/sidekiq/issues{/number}","pulls_url":"https://api.github.com/repos/sidekiq/sidekiq/pulls{/number}","milestones_url":"https://api.github.com/repos/sidekiq/sidekiq/milestones{/number}","notifications_url":"https://api.github.com/repos/sidekiq/sidekiq/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/labels{/name}","releases_url":"https://api.github.com/repos/sidekiq/sidekiq/releases{/id}","deployments_url":"https://api.github.com/repos/sidekiq/sidekiq/deployments","created_at":"2012-01-16T23:17:27Z","updated_at":"2025-11-09T20:20:41Z","pushed_at":"2025-11-07T17:29:44Z","git_url":"git://github.com/sidekiq/sidekiq.git","ssh_url":"git@github.com:sidekiq/sidekiq.git","clone_url":"https://github.com/sidekiq/sidekiq.git","svn_url":"https://github.com/sidekiq/sidekiq","homepage":"https://sidekiq.org","size":14680,"stargazers_count":13447,"watchers_count":13447,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2471,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["background-jobs","jobs","ruby","sidekiq"],"visibility":"public","forks":2471,"open_issues":40,"watchers":13447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sidekiq/sidekiq/pulls/5182","html_url":"https://github.com/sidekiq/sidekiq/pull/5182","diff_url":"https://github.com/sidekiq/sidekiq/pull/5182.diff","patch_url":"https://github.com/sidekiq/sidekiq/pull/5182.patch","merged_at":"2022-02-16T01:14:45Z"},"body":"Fixes #5158","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5182/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6079319389,"node_id":"CE_lADOADDA9M5CrcW8zwAAAAFqWw1d","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/6079319389","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-02-16T01:14:46Z","state_reason":null,"performed_via_github_app":null},{"id":6079319897,"node_id":"REFE_lADOADDA9M5CrcW8zwAAAAFqWw9Z","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/6079319897","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"7cd97b4253b3e7a4f928b0af8719c6acaecedb44","commit_url":"https://api.github.com/repos/sidekiq/sidekiq/commits/7cd97b4253b3e7a4f928b0af8719c6acaecedb44","created_at":"2022-02-16T01:14:50Z","performed_via_github_app":null},{"actor":{"login":"adamniedzielski","id":2426386,"node_id":"MDQ6VXNlcjI0MjYzODY=","avatar_url":"https://avatars.githubusercontent.com/u/2426386?v=4","gravatar_id":"","url":"https://api.github.com/users/adamniedzielski","html_url":"https://github.com/adamniedzielski","followers_url":"https://api.github.com/users/adamniedzielski/followers","following_url":"https://api.github.com/users/adamniedzielski/following{/other_user}","gists_url":"https://api.github.com/users/adamniedzielski/gists{/gist_id}","starred_url":"https://api.github.com/users/adamniedzielski/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/adamniedzielski/subscriptions","organizations_url":"https://api.github.com/users/adamniedzielski/orgs","repos_url":"https://api.github.com/users/adamniedzielski/repos","events_url":"https://api.github.com/users/adamniedzielski/events{/privacy}","received_events_url":"https://api.github.com/users/adamniedzielski/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-19T22:45:17Z","updated_at":"2022-03-19T22:45:17Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5249","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5249/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5249/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5249/events","html_url":"https://github.com/sidekiq/sidekiq/pull/5249","id":1174151097,"node_id":"PR_kwDOADDA9M40ryDo","number":5249,"title":"Prototype transaction-aware Sidekiq::Client extension, #5239","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-03-19T02:40:38Z","updated_at":"2022-05-06T20:56:38Z","closed_at":"2022-05-06T20:56:38Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":3195124,"node_id":"MDEwOlJlcG9zaXRvcnkzMTk1MTI0","name":"sidekiq","full_name":"sidekiq/sidekiq","private":false,"owner":{"login":"sidekiq","id":124714131,"node_id":"O_kgDOB278kw","avatar_url":"https://avatars.githubusercontent.com/u/124714131?v=4","gravatar_id":"","url":"https://api.github.com/users/sidekiq","html_url":"https://github.com/sidekiq","followers_url":"https://api.github.com/users/sidekiq/followers","following_url":"https://api.github.com/users/sidekiq/following{/other_user}","gists_url":"https://api.github.com/users/sidekiq/gists{/gist_id}","starred_url":"https://api.github.com/users/sidekiq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidekiq/subscriptions","organizations_url":"https://api.github.com/users/sidekiq/orgs","repos_url":"https://api.github.com/users/sidekiq/repos","events_url":"https://api.github.com/users/sidekiq/events{/privacy}","received_events_url":"https://api.github.com/users/sidekiq/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sidekiq/sidekiq","description":"Simple, efficient background processing for Ruby","fork":false,"url":"https://api.github.com/repos/sidekiq/sidekiq","forks_url":"https://api.github.com/repos/sidekiq/sidekiq/forks","keys_url":"https://api.github.com/repos/sidekiq/sidekiq/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sidekiq/sidekiq/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sidekiq/sidekiq/teams","hooks_url":"https://api.github.com/repos/sidekiq/sidekiq/hooks","issue_events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events{/number}","events_url":"https://api.github.com/repos/sidekiq/sidekiq/events","assignees_url":"https://api.github.com/repos/sidekiq/sidekiq/assignees{/user}","branches_url":"https://api.github.com/repos/sidekiq/sidekiq/branches{/branch}","tags_url":"https://api.github.com/repos/sidekiq/sidekiq/tags","blobs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sidekiq/sidekiq/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/refs{/sha}","trees_url":"https://api.github.com/repos/sidekiq/sidekiq/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sidekiq/sidekiq/statuses/{sha}","languages_url":"https://api.github.com/repos/sidekiq/sidekiq/languages","stargazers_url":"https://api.github.com/repos/sidekiq/sidekiq/stargazers","contributors_url":"https://api.github.com/repos/sidekiq/sidekiq/contributors","subscribers_url":"https://api.github.com/repos/sidekiq/sidekiq/subscribers","subscription_url":"https://api.github.com/repos/sidekiq/sidekiq/subscription","commits_url":"https://api.github.com/repos/sidekiq/sidekiq/commits{/sha}","git_commits_url":"https://api.github.com/repos/sidekiq/sidekiq/git/commits{/sha}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/comments{/number}","issue_comment_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments{/number}","contents_url":"https://api.github.com/repos/sidekiq/sidekiq/contents/{+path}","compare_url":"https://api.github.com/repos/sidekiq/sidekiq/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sidekiq/sidekiq/merges","archive_url":"https://api.github.com/repos/sidekiq/sidekiq/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sidekiq/sidekiq/downloads","issues_url":"https://api.github.com/repos/sidekiq/sidekiq/issues{/number}","pulls_url":"https://api.github.com/repos/sidekiq/sidekiq/pulls{/number}","milestones_url":"https://api.github.com/repos/sidekiq/sidekiq/milestones{/number}","notifications_url":"https://api.github.com/repos/sidekiq/sidekiq/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/labels{/name}","releases_url":"https://api.github.com/repos/sidekiq/sidekiq/releases{/id}","deployments_url":"https://api.github.com/repos/sidekiq/sidekiq/deployments","created_at":"2012-01-16T23:17:27Z","updated_at":"2025-11-09T20:20:41Z","pushed_at":"2025-11-07T17:29:44Z","git_url":"git://github.com/sidekiq/sidekiq.git","ssh_url":"git@github.com:sidekiq/sidekiq.git","clone_url":"https://github.com/sidekiq/sidekiq.git","svn_url":"https://github.com/sidekiq/sidekiq","homepage":"https://sidekiq.org","size":14680,"stargazers_count":13447,"watchers_count":13447,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2471,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["background-jobs","jobs","ruby","sidekiq"],"visibility":"public","forks":2471,"open_issues":40,"watchers":13447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/sidekiq/sidekiq/pulls/5249","html_url":"https://github.com/sidekiq/sidekiq/pull/5249","diff_url":"https://github.com/sidekiq/sidekiq/pull/5249.diff","patch_url":"https://github.com/sidekiq/sidekiq/pull/5249.patch","merged_at":null},"body":"This is another stab at #5239 in the same vein as @adamniedzielski's #5248 and extends it further to support rollback-specific jobs, an activator API and testcases. NB: \"XA\" is industry jargon for \"transaction\".\r\n\r\n```ruby\r\n# enable the feature in your initializer\r\nSidekiq.transactional_push! # this makes \"xa\" default to \"commit\"\r\n\r\n# usage\r\nMyJob.set(\"xa\" => nil).perform_async # enqueue immediately\r\nMyJob.set(\"xa\" => \"commit\").perform_async # delay enqueue after commit\r\nMyJob.set(\"xa\" => \"rollback\").perform_async # enqueue ONLY after rollback\r\n```\r\n\r\nI have not done much thinking about how this experimental feature might interact with other features. XA push delay could very well break features based around client-side push: things like the atomic push guarantee for `Sidekiq::Batch#jobs`, Pro's reliable push or Ent's unique jobs.","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5249/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"}]