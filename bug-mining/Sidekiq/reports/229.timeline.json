[{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/479634809","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-479634809","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":479634809,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTYzNDgwOQ==","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-03T19:53:20Z","updated_at":"2019-04-03T19:53:20Z","body":"Can you supply the error and backtrace you are seeing?\n\n> On Apr 3, 2019, at 09:19, Yuri Smirnov <notifications@github.com> wrote:\n> \n> Ruby 2.6.2 with Sidekiq Pro 4.0.5.\n> \n> I inspected the code and it turns out that in case of exception in Sidekiq::JobRetry#attempt_retry we are still acknowledging the job here which leads to the job being removed from Redis. If we didn't ack the job it would eventually get restored by the SuperFetch as I understand.\n> \n> Maybe it would be better not to ack the job in case of all unhandled exceptions in Processor#process?\n> \n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly, view it on GitHub, or mute the thread.\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/479634809/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/479807233","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-479807233","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":479807233,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3OTgwNzIzMw==","user":{"login":"tycooon","id":70652,"node_id":"MDQ6VXNlcjcwNjUy","avatar_url":"https://avatars.githubusercontent.com/u/70652?v=4","gravatar_id":"","url":"https://api.github.com/users/tycooon","html_url":"https://github.com/tycooon","followers_url":"https://api.github.com/users/tycooon/followers","following_url":"https://api.github.com/users/tycooon/following{/other_user}","gists_url":"https://api.github.com/users/tycooon/gists{/gist_id}","starred_url":"https://api.github.com/users/tycooon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tycooon/subscriptions","organizations_url":"https://api.github.com/users/tycooon/orgs","repos_url":"https://api.github.com/users/tycooon/repos","events_url":"https://api.github.com/users/tycooon/events{/privacy}","received_events_url":"https://api.github.com/users/tycooon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-04T08:44:12Z","updated_at":"2019-04-04T08:46:37Z","body":"There actually were 2 errors: \r\n1. Redis::CannotConnectError in JobRetry#local (Error connecting to Redis on 10.208.64.70:6379 (Errno::ECONNREFUSED))\r\n```\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:353:in `rescue in establish_connection'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:336:in `establish_connection'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:104:in `block in connect'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:299:in `with_reconnect'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:103:in `connect'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:372:in `ensure_connected'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:224:in `block in process'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:330:in `logging'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:223:in `process'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:193:in `call_pipelined'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:163:in `block in call_pipeline'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:299:in `with_reconnect'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:161:in `call_pipeline'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis.rb:2454:in `block in multi'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis.rb:50:in `block in synchronize'\r\n<rbenv>/versions/2.6.2/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis.rb:50:in `synchronize'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis.rb:2446:in `multi'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/client.rb:184:in `block in raw_push'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:65:in `block (2 levels) in with'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:64:in `handle_interrupt'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:64:in `block in with'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:61:in `handle_interrupt'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:61:in `with'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/client.rb:183:in `raw_push'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-pro-4.0.5/lib/sidekiq/batch/client.rb:41:in `raw_push'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/client.rb:74:in `push'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/client.rb:132:in `push'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/queue_adapters/sidekiq_adapter.rb:30:in `enqueue_at'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/enqueuing.rb:51:in `block in enqueue'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:109:in `block in run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:17:in `block (3 levels) in <module:Logging>'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:46:in `block in tag_logger'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/tagged_logging.rb:71:in `block in tagged'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/tagged_logging.rb:28:in `tagged'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/tagged_logging.rb:71:in `tagged'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:46:in `tag_logger'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:16:in `block (2 levels) in <module:Logging>'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `instance_exec'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:136:in `run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/enqueuing.rb:49:in `enqueue'\r\n<app>/releases/20190329160821/server/config/initializers/sidekiq.rb:46:in `block in enqueue'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sequel-5.18.0/lib/sequel/database/transactions.rb:36:in `block in after_commit'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sequel-5.18.0/lib/sequel/connection_pool/sharded_threaded.rb:130:in `hold'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sequel-5.18.0/lib/sequel/database/connecting.rb:270:in `synchronize'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sequel-5.18.0/lib/sequel/database/transactions.rb:31:in `after_commit'\r\n<app>/releases/20190329160821/server/config/initializers/sidekiq.rb:46:in `enqueue'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/configured_job.rb:15:in `perform_later'\r\n<app>/releases/20190329160821/server/lib/sidekiq_recurrent_job.rb:25:in `schedule!'\r\n<app>/releases/20190329160821/server/lib/sidekiq_recurrent_job.rb:32:in `perform'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/execution.rb:39:in `block in perform_now'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:109:in `block in run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sentry-raven-2.9.0/lib/raven/integrations/rails/active_job.rb:18:in `capture_and_reraise_with_sentry'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sentry-raven-2.9.0/lib/raven/integrations/rails/active_job.rb:12:in `block (2 levels) in included'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `instance_exec'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/i18n-1.6.0/lib/i18n.rb:297:in `with_locale'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/translation.rb:9:in `block (2 levels) in <module:Translation>'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `instance_exec'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:26:in `block (4 levels) in <module:Logging>'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/notifications.rb:168:in `block in instrument'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/notifications/instrumenter.rb:23:in `instrument'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/notifications.rb:168:in `instrument'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:25:in `block (3 levels) in <module:Logging>'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:46:in `block in tag_logger'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/tagged_logging.rb:71:in `block in tagged'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/tagged_logging.rb:28:in `tagged'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/tagged_logging.rb:71:in `tagged'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:46:in `tag_logger'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/logging.rb:22:in `block (2 levels) in <module:Logging>'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `instance_exec'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:136:in `run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/execution.rb:38:in `perform_now'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/execution.rb:24:in `block in execute'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:109:in `block in run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/railtie.rb:28:in `block (4 levels) in <class:Railtie>'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:87:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/reloader.rb:73:in `block in wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:83:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/reloader.rb:72:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/railtie.rb:27:in `block (3 levels) in <class:Railtie>'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `instance_exec'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:118:in `block in run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/callbacks.rb:136:in `run_callbacks'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/execution.rb:22:in `execute'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activejob-5.2.3/lib/active_job/queue_adapters/sidekiq_adapter.rb:42:in `perform'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:185:in `execute_job'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:167:in `block (2 levels) in process'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/middleware/chain.rb:128:in `block in invoke'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-pro-4.0.5/lib/sidekiq/batch/middleware.rb:56:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sentry-raven-2.9.0/lib/raven/integrations/sidekiq.rb:9:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\r\n<app>/shared/bundle/ruby/2.6.0/gems/lamian-1.2.0/lib/lamian/sidekiq_raven_middleware.rb:9:in `block in call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/lamian-1.2.0/lib/lamian.rb:49:in `block in run'\r\n<app>/shared/bundle/ruby/2.6.0/gems/lamian-1.2.0/lib/lamian/logger.rb:27:in `run'\r\n<app>/shared/bundle/ruby/2.6.0/gems/lamian-1.2.0/lib/lamian.rb:49:in `run'\r\n<app>/shared/bundle/ruby/2.6.0/gems/lamian-1.2.0/lib/lamian/sidekiq_raven_middleware.rb:7:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/middleware/chain.rb:130:in `block in invoke'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/middleware/chain.rb:133:in `invoke'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:166:in `block in process'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:137:in `block (6 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_retry.rb:108:in `local'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:136:in `block (5 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/rails.rb:43:in `block in call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:87:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/reloader.rb:73:in `block in wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:87:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/reloader.rb:72:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/rails.rb:42:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:132:in `block (4 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:243:in `stats'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:127:in `block (3 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_logger.rb:8:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:126:in `block (2 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_retry.rb:73:in `global'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:125:in `block in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/logging.rb:48:in `with_context'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/logging.rb:42:in `with_job_hash_context'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:124:in `dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:165:in `process'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:83:in `process_one'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:71:in `run'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n```\r\n\r\n2. Redis::CommandError in JobRetry#global (LOADING Redis is loading the dataset in memory)\r\n```\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:124:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:107:in `block in connect'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:299:in `with_reconnect'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:103:in `connect'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:372:in `ensure_connected'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:224:in `block in process'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:330:in `logging'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:223:in `process'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis/client.rb:123:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis.rb:1576:in `block in zadd'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis.rb:50:in `block in synchronize'\r\n<rbenv>/versions/2.6.2/lib/ruby/2.6.0/monitor.rb:230:in `mon_synchronize'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis.rb:50:in `synchronize'\r\n<app>/shared/bundle/ruby/2.6.0/gems/redis-4.1.0/lib/redis.rb:1570:in `zadd'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_retry.rb:176:in `block in attempt_retry'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq.rb:97:in `block in redis'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:65:in `block (2 levels) in with'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:64:in `handle_interrupt'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:64:in `block in with'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:61:in `handle_interrupt'\r\n<app>/shared/bundle/ruby/2.6.0/gems/connection_pool-2.2.2/lib/connection_pool.rb:61:in `with'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq.rb:94:in `redis'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_retry.rb:175:in `attempt_retry'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_retry.rb:123:in `rescue in local'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_retry.rb:107:in `local'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:136:in `block (5 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/rails.rb:43:in `block in call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:87:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/reloader.rb:73:in `block in wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/execution_wrapper.rb:87:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/activesupport-5.2.3/lib/active_support/reloader.rb:72:in `wrap'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/rails.rb:42:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:132:in `block (4 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:243:in `stats'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:127:in `block (3 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_logger.rb:8:in `call'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:126:in `block (2 levels) in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/job_retry.rb:73:in `global'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:125:in `block in dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/logging.rb:48:in `with_context'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/logging.rb:42:in `with_job_hash_context'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:124:in `dispatch'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:165:in `process'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:83:in `process_one'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/processor.rb:71:in `run'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n<app>/shared/bundle/ruby/2.6.0/gems/sidekiq-5.2.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n```\r\n\r\nThen it tried to ack the job (perform LREM) and it succeeded since Redis was already started up. I know that probably in this particular case the reliable_push feature could have helped, but we are not using it in our app because in other cases it's much better to get an error than to lose a job because of Redis config being wrong for some reason.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/479807233/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tycooon","id":70652,"node_id":"MDQ6VXNlcjcwNjUy","avatar_url":"https://avatars.githubusercontent.com/u/70652?v=4","gravatar_id":"","url":"https://api.github.com/users/tycooon","html_url":"https://github.com/tycooon","followers_url":"https://api.github.com/users/tycooon/followers","following_url":"https://api.github.com/users/tycooon/following{/other_user}","gists_url":"https://api.github.com/users/tycooon/gists{/gist_id}","starred_url":"https://api.github.com/users/tycooon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tycooon/subscriptions","organizations_url":"https://api.github.com/users/tycooon/orgs","repos_url":"https://api.github.com/users/tycooon/repos","events_url":"https://api.github.com/users/tycooon/events{/privacy}","received_events_url":"https://api.github.com/users/tycooon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480110963","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-480110963","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":480110963,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDExMDk2Mw==","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T00:39:09Z","updated_at":"2019-04-05T00:39:21Z","body":"The fetch/ack process is distinct from the retry process so if Redis or the network blips at the right moment, the behavior can be unpredictable.  The right solution would be to make those two actions one atomic action; that would require a major architectural overhaul.\r\n\r\nOne possibly easy patch would be to retry the retry process N times if it fails with a RedisError; that would narrow the window further and might handle your situation where Redis disappears for a few seconds.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480110963/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480196047","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-480196047","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":480196047,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDE5NjA0Nw==","user":{"login":"tycooon","id":70652,"node_id":"MDQ6VXNlcjcwNjUy","avatar_url":"https://avatars.githubusercontent.com/u/70652?v=4","gravatar_id":"","url":"https://api.github.com/users/tycooon","html_url":"https://github.com/tycooon","followers_url":"https://api.github.com/users/tycooon/followers","following_url":"https://api.github.com/users/tycooon/following{/other_user}","gists_url":"https://api.github.com/users/tycooon/gists{/gist_id}","starred_url":"https://api.github.com/users/tycooon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tycooon/subscriptions","organizations_url":"https://api.github.com/users/tycooon/orgs","repos_url":"https://api.github.com/users/tycooon/repos","events_url":"https://api.github.com/users/tycooon/events{/privacy}","received_events_url":"https://api.github.com/users/tycooon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T08:40:20Z","updated_at":"2019-04-05T08:40:20Z","body":"OK, and maybe you can clarify why we **should** ack the job in case of unhandled exceptions in `process`?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480196047/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tycooon","id":70652,"node_id":"MDQ6VXNlcjcwNjUy","avatar_url":"https://avatars.githubusercontent.com/u/70652?v=4","gravatar_id":"","url":"https://api.github.com/users/tycooon","html_url":"https://github.com/tycooon","followers_url":"https://api.github.com/users/tycooon/followers","following_url":"https://api.github.com/users/tycooon/following{/other_user}","gists_url":"https://api.github.com/users/tycooon/gists{/gist_id}","starred_url":"https://api.github.com/users/tycooon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tycooon/subscriptions","organizations_url":"https://api.github.com/users/tycooon/orgs","repos_url":"https://api.github.com/users/tycooon/repos","events_url":"https://api.github.com/users/tycooon/events{/privacy}","received_events_url":"https://api.github.com/users/tycooon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480355892","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-480355892","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":480355892,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDM1NTg5Mg==","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T17:23:47Z","updated_at":"2019-04-05T17:23:47Z","body":"How do we distinguish between handled and unhandled?\r\n\r\nOnce we get to `dispatch` and inside the retry block, it's assumed that any errors are handled by the retry layer.  It will push a copy of the job into the retry set; we need to acknowledge the existing job so we don't create a duplicate.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480355892/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480409993","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-480409993","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":480409993,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQwOTk5Mw==","user":{"login":"tycooon","id":70652,"node_id":"MDQ6VXNlcjcwNjUy","avatar_url":"https://avatars.githubusercontent.com/u/70652?v=4","gravatar_id":"","url":"https://api.github.com/users/tycooon","html_url":"https://github.com/tycooon","followers_url":"https://api.github.com/users/tycooon/followers","following_url":"https://api.github.com/users/tycooon/following{/other_user}","gists_url":"https://api.github.com/users/tycooon/gists{/gist_id}","starred_url":"https://api.github.com/users/tycooon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tycooon/subscriptions","organizations_url":"https://api.github.com/users/tycooon/orgs","repos_url":"https://api.github.com/users/tycooon/repos","events_url":"https://api.github.com/users/tycooon/events{/privacy}","received_events_url":"https://api.github.com/users/tycooon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T20:21:46Z","updated_at":"2019-04-05T20:21:46Z","body":"But as far as I can see, exceptions that were handled by the retry block are not reraised into `dispatch`? Or am I wrong?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480409993/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tycooon","id":70652,"node_id":"MDQ6VXNlcjcwNjUy","avatar_url":"https://avatars.githubusercontent.com/u/70652?v=4","gravatar_id":"","url":"https://api.github.com/users/tycooon","html_url":"https://github.com/tycooon","followers_url":"https://api.github.com/users/tycooon/followers","following_url":"https://api.github.com/users/tycooon/following{/other_user}","gists_url":"https://api.github.com/users/tycooon/gists{/gist_id}","starred_url":"https://api.github.com/users/tycooon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tycooon/subscriptions","organizations_url":"https://api.github.com/users/tycooon/orgs","repos_url":"https://api.github.com/users/tycooon/repos","events_url":"https://api.github.com/users/tycooon/events{/privacy}","received_events_url":"https://api.github.com/users/tycooon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480422114","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-480422114","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":480422114,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQyMjExNA==","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T21:06:04Z","updated_at":"2019-04-05T21:06:04Z","body":"Yes, they are reraised [here](https://github.com/mperham/sidekiq/blob/master/lib/sidekiq/job_retry.rb#L95). Once we pass [this point](https://github.com/mperham/sidekiq/blob/master/lib/sidekiq/processor.rb#L164) it is assumed the retry block inside `dispatch` handles exceptions.  Loss of Redis means we won't create a retry but it also means we shouldn't successfully ack either.  Failing the retry operation but succeeded in the ack is what leads to this bad behavior. That kind of \"blip\" in Redis should be exceedingly rare.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480422114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480428898","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-480428898","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":480428898,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQyODg5OA==","user":{"login":"tycooon","id":70652,"node_id":"MDQ6VXNlcjcwNjUy","avatar_url":"https://avatars.githubusercontent.com/u/70652?v=4","gravatar_id":"","url":"https://api.github.com/users/tycooon","html_url":"https://github.com/tycooon","followers_url":"https://api.github.com/users/tycooon/followers","following_url":"https://api.github.com/users/tycooon/following{/other_user}","gists_url":"https://api.github.com/users/tycooon/gists{/gist_id}","starred_url":"https://api.github.com/users/tycooon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tycooon/subscriptions","organizations_url":"https://api.github.com/users/tycooon/orgs","repos_url":"https://api.github.com/users/tycooon/repos","events_url":"https://api.github.com/users/tycooon/events{/privacy}","received_events_url":"https://api.github.com/users/tycooon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T21:32:20Z","updated_at":"2019-04-05T21:32:20Z","body":"Oh, now I see, thanks. Maybe we can wrap all handled exceptions in similar way as we do in `local `block using `Skip` wrapper?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480428898/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tycooon","id":70652,"node_id":"MDQ6VXNlcjcwNjUy","avatar_url":"https://avatars.githubusercontent.com/u/70652?v=4","gravatar_id":"","url":"https://api.github.com/users/tycooon","html_url":"https://github.com/tycooon","followers_url":"https://api.github.com/users/tycooon/followers","following_url":"https://api.github.com/users/tycooon/following{/other_user}","gists_url":"https://api.github.com/users/tycooon/gists{/gist_id}","starred_url":"https://api.github.com/users/tycooon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tycooon/subscriptions","organizations_url":"https://api.github.com/users/tycooon/orgs","repos_url":"https://api.github.com/users/tycooon/repos","events_url":"https://api.github.com/users/tycooon/events{/privacy}","received_events_url":"https://api.github.com/users/tycooon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2257109714,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNTcxMDk3MTQ=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/2257109714","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"72a64618c40544f7489a9bb4ffe3472b86e0e935","commit_url":"https://api.github.com/repos/sidekiq/sidekiq/commits/72a64618c40544f7489a9bb4ffe3472b86e0e935","created_at":"2019-04-05T23:02:32Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480447994","html_url":"https://github.com/sidekiq/sidekiq/issues/4138#issuecomment-480447994","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/4138","id":480447994,"node_id":"MDEyOklzc3VlQ29tbWVudDQ4MDQ0Nzk5NA==","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T23:04:14Z","updated_at":"2019-04-05T23:04:14Z","body":"Moving to #4141 ","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/480447994/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2257111738,"node_id":"MDExOkNsb3NlZEV2ZW50MjI1NzExMTczOA==","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/2257111738","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-04-05T23:04:14Z","state_reason":null,"performed_via_github_app":null},{"id":2271161816,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNzExNjE4MTY=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/2271161816","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c650e9b1504c2232eecc47c5734bd990e16820f5","commit_url":"https://api.github.com/repos/sidekiq/sidekiq/commits/c650e9b1504c2232eecc47c5734bd990e16820f5","created_at":"2019-04-12T01:34:03Z","performed_via_github_app":null}]