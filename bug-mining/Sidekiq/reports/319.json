{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6203","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6203/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6203/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6203/events","html_url":"https://github.com/sidekiq/sidekiq/issues/6203","id":2150002237,"node_id":"I_kwDOADDA9M6AJm49","number":6203,"title":"Web dashboard: Metrics filtering interacts badly with live polling.","user":{"login":"MrJoy","id":113625,"node_id":"MDQ6VXNlcjExMzYyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/113625?v=4","gravatar_id":"","url":"https://api.github.com/users/MrJoy","html_url":"https://github.com/MrJoy","followers_url":"https://api.github.com/users/MrJoy/followers","following_url":"https://api.github.com/users/MrJoy/following{/other_user}","gists_url":"https://api.github.com/users/MrJoy/gists{/gist_id}","starred_url":"https://api.github.com/users/MrJoy/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MrJoy/subscriptions","organizations_url":"https://api.github.com/users/MrJoy/orgs","repos_url":"https://api.github.com/users/MrJoy/repos","events_url":"https://api.github.com/users/MrJoy/events{/privacy}","received_events_url":"https://api.github.com/users/MrJoy/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2024-02-22T21:51:55Z","updated_at":"2024-03-02T00:38:46Z","closed_at":"2024-02-25T00:19:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Ruby version: 3.2.2\r\nRails version: 7.1.3.2\r\nSidekiq / Pro / Enterprise version(s): 7.2.2 / 7.2.0 / N/A\r\n\r\nWhen filtering the Metrics page for specific classes, the result is a page that has Live Polling functionality enabled (the normal Metrics view does not).  Because the parameters for filtering are passed via POST, and the live poll refresh looks only at the URL for what to fetch, the end result is that as soon as the polling interval occurs, the URL fetched is a GET that results in a redirect to the normal metrics page.  This winds up rendering incorrectly (no chart, checkboxes not rendering/working properly).\r\n\r\nPresumably, either the filtering request API should be GET-based so the live polling refresh can make the correct request or the filtered metrics view shouldn't have live polling.","closed_by":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6203/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6203/timeline","performed_via_github_app":null,"state_reason":"completed"}