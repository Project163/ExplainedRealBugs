[{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405660613","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405660613","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405660613,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2MDYxMw==","user":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:23:03Z","updated_at":"2018-07-17T17:23:03Z","body":"I'd be curious to see the hard data. I don't think it would hurt to lower it, and my guess is that anyone that needs more than 15 will knowingly tune it to a much higher number in an environment where they have more processing power (ie not most Heroku dynos.)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405660613/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jc00ke","id":18191,"node_id":"MDQ6VXNlcjE4MTkx","avatar_url":"https://avatars.githubusercontent.com/u/18191?v=4","gravatar_id":"","url":"https://api.github.com/users/jc00ke","html_url":"https://github.com/jc00ke","followers_url":"https://api.github.com/users/jc00ke/followers","following_url":"https://api.github.com/users/jc00ke/following{/other_user}","gists_url":"https://api.github.com/users/jc00ke/gists{/gist_id}","starred_url":"https://api.github.com/users/jc00ke/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jc00ke/subscriptions","organizations_url":"https://api.github.com/users/jc00ke/orgs","repos_url":"https://api.github.com/users/jc00ke/repos","events_url":"https://api.github.com/users/jc00ke/events{/privacy}","received_events_url":"https://api.github.com/users/jc00ke/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405661644","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405661644","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405661644,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2MTY0NA==","user":{"login":"Fredar","id":6557731,"node_id":"MDQ6VXNlcjY1NTc3MzE=","avatar_url":"https://avatars.githubusercontent.com/u/6557731?v=4","gravatar_id":"","url":"https://api.github.com/users/Fredar","html_url":"https://github.com/Fredar","followers_url":"https://api.github.com/users/Fredar/followers","following_url":"https://api.github.com/users/Fredar/following{/other_user}","gists_url":"https://api.github.com/users/Fredar/gists{/gist_id}","starred_url":"https://api.github.com/users/Fredar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fredar/subscriptions","organizations_url":"https://api.github.com/users/Fredar/orgs","repos_url":"https://api.github.com/users/Fredar/repos","events_url":"https://api.github.com/users/Fredar/events{/privacy}","received_events_url":"https://api.github.com/users/Fredar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:26:44Z","updated_at":"2018-07-17T17:26:44Z","body":"Usually using between 5 and 10 myself.\r\nFor hardcore CPU usage we had to run 20x1 once (20 processes with 1 worker)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405661644/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Fredar","id":6557731,"node_id":"MDQ6VXNlcjY1NTc3MzE=","avatar_url":"https://avatars.githubusercontent.com/u/6557731?v=4","gravatar_id":"","url":"https://api.github.com/users/Fredar","html_url":"https://github.com/Fredar","followers_url":"https://api.github.com/users/Fredar/followers","following_url":"https://api.github.com/users/Fredar/following{/other_user}","gists_url":"https://api.github.com/users/Fredar/gists{/gist_id}","starred_url":"https://api.github.com/users/Fredar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Fredar/subscriptions","organizations_url":"https://api.github.com/users/Fredar/orgs","repos_url":"https://api.github.com/users/Fredar/repos","events_url":"https://api.github.com/users/Fredar/events{/privacy}","received_events_url":"https://api.github.com/users/Fredar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405662363","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405662363","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405662363,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2MjM2Mw==","user":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:29:01Z","updated_at":"2018-07-17T17:29:01Z","body":"My experience with Rails (maybe similar to your workload, maybe not) is that you need about 6 threads per hyperthreaded CPU core to approximately fully saturate the CPU. Background threads might trend fewer if CPU heavy, or potentially even more threads if very I/O-heavy. But 5 or so is probably about right for many/most Ruby tasks.\r\n\r\nSo 25 would be enough to fully saturate a medium AWS instance. 15 would still run decently, but probably leave a bit of CPU idle - around 5%-10% with the workloads I run.\r\n\r\nObviously depends on the task. If you're just calculating giant Mandelbrot sets or late digits of Pi, 5-6 threads would saturate it just fine :-)\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405662363/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405666197","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405666197","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405666197,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY2NjE5Nw==","user":{"login":"amcaplan","id":6288426,"node_id":"MDQ6VXNlcjYyODg0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6288426?v=4","gravatar_id":"","url":"https://api.github.com/users/amcaplan","html_url":"https://github.com/amcaplan","followers_url":"https://api.github.com/users/amcaplan/followers","following_url":"https://api.github.com/users/amcaplan/following{/other_user}","gists_url":"https://api.github.com/users/amcaplan/gists{/gist_id}","starred_url":"https://api.github.com/users/amcaplan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amcaplan/subscriptions","organizations_url":"https://api.github.com/users/amcaplan/orgs","repos_url":"https://api.github.com/users/amcaplan/repos","events_url":"https://api.github.com/users/amcaplan/events{/privacy}","received_events_url":"https://api.github.com/users/amcaplan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:41:19Z","updated_at":"2018-07-17T17:41:19Z","body":"Don't think I've ever seen a need for >10. 4-6 workers per process, with 1 process per core, is far more common in my experience.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405666197/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amcaplan","id":6288426,"node_id":"MDQ6VXNlcjYyODg0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6288426?v=4","gravatar_id":"","url":"https://api.github.com/users/amcaplan","html_url":"https://github.com/amcaplan","followers_url":"https://api.github.com/users/amcaplan/followers","following_url":"https://api.github.com/users/amcaplan/following{/other_user}","gists_url":"https://api.github.com/users/amcaplan/gists{/gist_id}","starred_url":"https://api.github.com/users/amcaplan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amcaplan/subscriptions","organizations_url":"https://api.github.com/users/amcaplan/orgs","repos_url":"https://api.github.com/users/amcaplan/repos","events_url":"https://api.github.com/users/amcaplan/events{/privacy}","received_events_url":"https://api.github.com/users/amcaplan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405670606","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405670606","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405670606,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY3MDYwNg==","user":{"login":"schneems","id":59744,"node_id":"MDQ6VXNlcjU5NzQ0","avatar_url":"https://avatars.githubusercontent.com/u/59744?v=4","gravatar_id":"","url":"https://api.github.com/users/schneems","html_url":"https://github.com/schneems","followers_url":"https://api.github.com/users/schneems/followers","following_url":"https://api.github.com/users/schneems/following{/other_user}","gists_url":"https://api.github.com/users/schneems/gists{/gist_id}","starred_url":"https://api.github.com/users/schneems/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schneems/subscriptions","organizations_url":"https://api.github.com/users/schneems/orgs","repos_url":"https://api.github.com/users/schneems/repos","events_url":"https://api.github.com/users/schneems/events{/privacy}","received_events_url":"https://api.github.com/users/schneems/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T17:55:29Z","updated_at":"2018-07-17T17:55:29Z","body":"Heroku has plenty of processing power thank you very much. The “performance” and “private” large dyno has 14GB of ram and 8 dedicated VCPUs (8 hyperthreads backed by 4 real cores on top of a hypervisor). Though I do realize you said “most”.\r\n\r\nFWIW I think 25 is pretty high. Puma default is 16. Even then most people tune it down on the web. It would be helpful to get some kid of a standardized metric around when it is helpful to add extra sidekiq workers on a box.\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405670606/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"schneems","id":59744,"node_id":"MDQ6VXNlcjU5NzQ0","avatar_url":"https://avatars.githubusercontent.com/u/59744?v=4","gravatar_id":"","url":"https://api.github.com/users/schneems","html_url":"https://github.com/schneems","followers_url":"https://api.github.com/users/schneems/followers","following_url":"https://api.github.com/users/schneems/following{/other_user}","gists_url":"https://api.github.com/users/schneems/gists{/gist_id}","starred_url":"https://api.github.com/users/schneems/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schneems/subscriptions","organizations_url":"https://api.github.com/users/schneems/orgs","repos_url":"https://api.github.com/users/schneems/repos","events_url":"https://api.github.com/users/schneems/events{/privacy}","received_events_url":"https://api.github.com/users/schneems/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405673236","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405673236","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405673236,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY3MzIzNg==","user":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T18:03:19Z","updated_at":"2018-07-17T18:03:19Z","body":"I can't tell here if you mean per process, or total. For total across multiple processes, 25 is probably great. Per process, yeah, 5 is reasonable, 10 is high and 25 is *very* high. Given the GIL, it's very hard to get CRuby to productively use more than 10-ish threads for real tasks -- and in cases where you can, it's because something like EventMachine or Node.js would have been a better choice than Ruby threads.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405673236/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405680542","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405680542","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405680542,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY4MDU0Mg==","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T18:23:55Z","updated_at":"2018-07-17T18:24:07Z","body":"I could be talked down to 10.  I think 5 is too low; most business apps are I/O heavy, allowing pretty decent concurrency even with GIL.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405680542/reactions","total_count":7,"+1":7,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405681715","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405681715","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405681715,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTY4MTcxNQ==","user":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T18:27:47Z","updated_at":"2018-07-17T18:27:47Z","body":"10-15 is also a reasonable insurance policy against pathological cases that really wish they were evented, but got written with threads anyway.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405681715/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405744102","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405744102","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405744102,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTc0NDEwMg==","user":{"login":"jagthedrummer","id":58702,"node_id":"MDQ6VXNlcjU4NzAy","avatar_url":"https://avatars.githubusercontent.com/u/58702?v=4","gravatar_id":"","url":"https://api.github.com/users/jagthedrummer","html_url":"https://github.com/jagthedrummer","followers_url":"https://api.github.com/users/jagthedrummer/followers","following_url":"https://api.github.com/users/jagthedrummer/following{/other_user}","gists_url":"https://api.github.com/users/jagthedrummer/gists{/gist_id}","starred_url":"https://api.github.com/users/jagthedrummer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jagthedrummer/subscriptions","organizations_url":"https://api.github.com/users/jagthedrummer/orgs","repos_url":"https://api.github.com/users/jagthedrummer/repos","events_url":"https://api.github.com/users/jagthedrummer/events{/privacy}","received_events_url":"https://api.github.com/users/jagthedrummer/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-17T22:06:56Z","updated_at":"2018-07-17T22:06:56Z","body":"10 sounds about right to me, and even 15 would be better than 25.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405744102/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jagthedrummer","id":58702,"node_id":"MDQ6VXNlcjU4NzAy","avatar_url":"https://avatars.githubusercontent.com/u/58702?v=4","gravatar_id":"","url":"https://api.github.com/users/jagthedrummer","html_url":"https://github.com/jagthedrummer","followers_url":"https://api.github.com/users/jagthedrummer/followers","following_url":"https://api.github.com/users/jagthedrummer/following{/other_user}","gists_url":"https://api.github.com/users/jagthedrummer/gists{/gist_id}","starred_url":"https://api.github.com/users/jagthedrummer/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jagthedrummer/subscriptions","organizations_url":"https://api.github.com/users/jagthedrummer/orgs","repos_url":"https://api.github.com/users/jagthedrummer/repos","events_url":"https://api.github.com/users/jagthedrummer/events{/privacy}","received_events_url":"https://api.github.com/users/jagthedrummer/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405918441","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405918441","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405918441,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkxODQ0MQ==","user":{"login":"zachmccormick","id":339105,"node_id":"MDQ6VXNlcjMzOTEwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/339105?v=4","gravatar_id":"","url":"https://api.github.com/users/zachmccormick","html_url":"https://github.com/zachmccormick","followers_url":"https://api.github.com/users/zachmccormick/followers","following_url":"https://api.github.com/users/zachmccormick/following{/other_user}","gists_url":"https://api.github.com/users/zachmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/zachmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachmccormick/subscriptions","organizations_url":"https://api.github.com/users/zachmccormick/orgs","repos_url":"https://api.github.com/users/zachmccormick/repos","events_url":"https://api.github.com/users/zachmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/zachmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T12:48:12Z","updated_at":"2018-07-18T12:48:12Z","body":"Is there a nice way to use `Etc.nprocessors` to determine a happy number for most people? I think Celery uses that sort of logic to determine default concurrency FWIW. I do agree with those above that in optimized cases you're going to want to look at the nature of your workload and tweak accordingly.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405918441/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zachmccormick","id":339105,"node_id":"MDQ6VXNlcjMzOTEwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/339105?v=4","gravatar_id":"","url":"https://api.github.com/users/zachmccormick","html_url":"https://github.com/zachmccormick","followers_url":"https://api.github.com/users/zachmccormick/followers","following_url":"https://api.github.com/users/zachmccormick/following{/other_user}","gists_url":"https://api.github.com/users/zachmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/zachmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachmccormick/subscriptions","organizations_url":"https://api.github.com/users/zachmccormick/orgs","repos_url":"https://api.github.com/users/zachmccormick/repos","events_url":"https://api.github.com/users/zachmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/zachmccormick/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405924363","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405924363","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405924363,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTkyNDM2Mw==","user":{"login":"amcaplan","id":6288426,"node_id":"MDQ6VXNlcjYyODg0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6288426?v=4","gravatar_id":"","url":"https://api.github.com/users/amcaplan","html_url":"https://github.com/amcaplan","followers_url":"https://api.github.com/users/amcaplan/followers","following_url":"https://api.github.com/users/amcaplan/following{/other_user}","gists_url":"https://api.github.com/users/amcaplan/gists{/gist_id}","starred_url":"https://api.github.com/users/amcaplan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amcaplan/subscriptions","organizations_url":"https://api.github.com/users/amcaplan/orgs","repos_url":"https://api.github.com/users/amcaplan/repos","events_url":"https://api.github.com/users/amcaplan/events{/privacy}","received_events_url":"https://api.github.com/users/amcaplan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T13:09:25Z","updated_at":"2018-07-18T13:09:25Z","body":"@zachmccormick number of processors is irrelevant for MRI (i.e. what the vast majority of the community uses AFAICT); each Sidekiq process can be handled by only 1 processor due to the GIL, since Sidekiq achieves concurrency via threads.  You need to run multiple Sidekiq processes to achieve true parallel processing.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405924363/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amcaplan","id":6288426,"node_id":"MDQ6VXNlcjYyODg0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6288426?v=4","gravatar_id":"","url":"https://api.github.com/users/amcaplan","html_url":"https://github.com/amcaplan","followers_url":"https://api.github.com/users/amcaplan/followers","following_url":"https://api.github.com/users/amcaplan/following{/other_user}","gists_url":"https://api.github.com/users/amcaplan/gists{/gist_id}","starred_url":"https://api.github.com/users/amcaplan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amcaplan/subscriptions","organizations_url":"https://api.github.com/users/amcaplan/orgs","repos_url":"https://api.github.com/users/amcaplan/repos","events_url":"https://api.github.com/users/amcaplan/events{/privacy}","received_events_url":"https://api.github.com/users/amcaplan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1740085564,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc0MDA4NTU2NA==","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740085564","actor":{"login":"zachmccormick","id":339105,"node_id":"MDQ6VXNlcjMzOTEwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/339105?v=4","gravatar_id":"","url":"https://api.github.com/users/zachmccormick","html_url":"https://github.com/zachmccormick","followers_url":"https://api.github.com/users/zachmccormick/followers","following_url":"https://api.github.com/users/zachmccormick/following{/other_user}","gists_url":"https://api.github.com/users/zachmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/zachmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachmccormick/subscriptions","organizations_url":"https://api.github.com/users/zachmccormick/orgs","repos_url":"https://api.github.com/users/zachmccormick/repos","events_url":"https://api.github.com/users/zachmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/zachmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-18T13:09:25Z","performed_via_github_app":null},{"id":1740085566,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3NDAwODU1NjY=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740085566","actor":{"login":"zachmccormick","id":339105,"node_id":"MDQ6VXNlcjMzOTEwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/339105?v=4","gravatar_id":"","url":"https://api.github.com/users/zachmccormick","html_url":"https://github.com/zachmccormick","followers_url":"https://api.github.com/users/zachmccormick/followers","following_url":"https://api.github.com/users/zachmccormick/following{/other_user}","gists_url":"https://api.github.com/users/zachmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/zachmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachmccormick/subscriptions","organizations_url":"https://api.github.com/users/zachmccormick/orgs","repos_url":"https://api.github.com/users/zachmccormick/repos","events_url":"https://api.github.com/users/zachmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/zachmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-18T13:09:25Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405946977","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405946977","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405946977,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk0Njk3Nw==","user":{"login":"zachmccormick","id":339105,"node_id":"MDQ6VXNlcjMzOTEwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/339105?v=4","gravatar_id":"","url":"https://api.github.com/users/zachmccormick","html_url":"https://github.com/zachmccormick","followers_url":"https://api.github.com/users/zachmccormick/followers","following_url":"https://api.github.com/users/zachmccormick/following{/other_user}","gists_url":"https://api.github.com/users/zachmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/zachmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachmccormick/subscriptions","organizations_url":"https://api.github.com/users/zachmccormick/orgs","repos_url":"https://api.github.com/users/zachmccormick/repos","events_url":"https://api.github.com/users/zachmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/zachmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T14:17:47Z","updated_at":"2018-07-18T14:17:47Z","body":"Ah I see - didn't realize that! Thanks!","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405946977/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"zachmccormick","id":339105,"node_id":"MDQ6VXNlcjMzOTEwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/339105?v=4","gravatar_id":"","url":"https://api.github.com/users/zachmccormick","html_url":"https://github.com/zachmccormick","followers_url":"https://api.github.com/users/zachmccormick/followers","following_url":"https://api.github.com/users/zachmccormick/following{/other_user}","gists_url":"https://api.github.com/users/zachmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/zachmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachmccormick/subscriptions","organizations_url":"https://api.github.com/users/zachmccormick/orgs","repos_url":"https://api.github.com/users/zachmccormick/repos","events_url":"https://api.github.com/users/zachmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/zachmccormick/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405952181","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405952181","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405952181,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk1MjE4MQ==","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T14:32:27Z","updated_at":"2018-07-18T14:32:27Z","body":"Sidekiq doesn't fork or scale processes, only threads.  You need to start multiple Sidekiqs yourself, using the tool/init of your choice.  Sidekiq Enterprise has a multi-process `sidekiqswarm` binary which scales Sidekiq processes according to CPU count.\r\n\r\nhttps://github.com/mperham/sidekiq/wiki/Ent-Multi-Process","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405952181/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405965924","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405965924","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405965924,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk2NTkyNA==","user":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T15:10:10Z","updated_at":"2018-07-18T15:10:10Z","body":"@amcaplan @zachmccormick The number of processors matters if you add processes. But as @mperham says, you'd have to do that yourself - Sidekiq won't do that automatically.\r\n\r\nAlso, while the GIL means each Ruby thread blocks all others *when running Ruby*, there are some non-Ruby operations (e.g. network or disk I/O, database, some parts of garbage collection, many things done with native extensions) which can happen on a background thread and don't block your Ruby process. Those things can happen in parallel if you have more than one processor, but not if you don't. That's a lot of what I was talking about above with \"saturating\" a processor with 6+ threads per process - that makes sure that even when most of your Ruby code is blocked, *something* is running and making forward progress.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405965924/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1740401579,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc0MDQwMTU3OQ==","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740401579","actor":{"login":"amcaplan","id":6288426,"node_id":"MDQ6VXNlcjYyODg0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6288426?v=4","gravatar_id":"","url":"https://api.github.com/users/amcaplan","html_url":"https://github.com/amcaplan","followers_url":"https://api.github.com/users/amcaplan/followers","following_url":"https://api.github.com/users/amcaplan/following{/other_user}","gists_url":"https://api.github.com/users/amcaplan/gists{/gist_id}","starred_url":"https://api.github.com/users/amcaplan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amcaplan/subscriptions","organizations_url":"https://api.github.com/users/amcaplan/orgs","repos_url":"https://api.github.com/users/amcaplan/repos","events_url":"https://api.github.com/users/amcaplan/events{/privacy}","received_events_url":"https://api.github.com/users/amcaplan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-18T15:10:10Z","performed_via_github_app":null},{"id":1740401580,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3NDA0MDE1ODA=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740401580","actor":{"login":"amcaplan","id":6288426,"node_id":"MDQ6VXNlcjYyODg0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6288426?v=4","gravatar_id":"","url":"https://api.github.com/users/amcaplan","html_url":"https://github.com/amcaplan","followers_url":"https://api.github.com/users/amcaplan/followers","following_url":"https://api.github.com/users/amcaplan/following{/other_user}","gists_url":"https://api.github.com/users/amcaplan/gists{/gist_id}","starred_url":"https://api.github.com/users/amcaplan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amcaplan/subscriptions","organizations_url":"https://api.github.com/users/amcaplan/orgs","repos_url":"https://api.github.com/users/amcaplan/repos","events_url":"https://api.github.com/users/amcaplan/events{/privacy}","received_events_url":"https://api.github.com/users/amcaplan/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-18T15:10:10Z","performed_via_github_app":null},{"id":1740401583,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc0MDQwMTU4Mw==","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740401583","actor":{"login":"zachmccormick","id":339105,"node_id":"MDQ6VXNlcjMzOTEwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/339105?v=4","gravatar_id":"","url":"https://api.github.com/users/zachmccormick","html_url":"https://github.com/zachmccormick","followers_url":"https://api.github.com/users/zachmccormick/followers","following_url":"https://api.github.com/users/zachmccormick/following{/other_user}","gists_url":"https://api.github.com/users/zachmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/zachmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachmccormick/subscriptions","organizations_url":"https://api.github.com/users/zachmccormick/orgs","repos_url":"https://api.github.com/users/zachmccormick/repos","events_url":"https://api.github.com/users/zachmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/zachmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-18T15:10:10Z","performed_via_github_app":null},{"id":1740401585,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3NDA0MDE1ODU=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740401585","actor":{"login":"zachmccormick","id":339105,"node_id":"MDQ6VXNlcjMzOTEwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/339105?v=4","gravatar_id":"","url":"https://api.github.com/users/zachmccormick","html_url":"https://github.com/zachmccormick","followers_url":"https://api.github.com/users/zachmccormick/followers","following_url":"https://api.github.com/users/zachmccormick/following{/other_user}","gists_url":"https://api.github.com/users/zachmccormick/gists{/gist_id}","starred_url":"https://api.github.com/users/zachmccormick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zachmccormick/subscriptions","organizations_url":"https://api.github.com/users/zachmccormick/orgs","repos_url":"https://api.github.com/users/zachmccormick/repos","events_url":"https://api.github.com/users/zachmccormick/events{/privacy}","received_events_url":"https://api.github.com/users/zachmccormick/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-18T15:10:10Z","performed_via_github_app":null},{"id":1740401587,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc0MDQwMTU4Nw==","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740401587","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-18T15:10:10Z","performed_via_github_app":null},{"id":1740401588,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3NDA0MDE1ODg=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740401588","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-18T15:10:10Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405971038","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405971038","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405971038,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk3MTAzOA==","user":{"login":"amcaplan","id":6288426,"node_id":"MDQ6VXNlcjYyODg0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6288426?v=4","gravatar_id":"","url":"https://api.github.com/users/amcaplan","html_url":"https://github.com/amcaplan","followers_url":"https://api.github.com/users/amcaplan/followers","following_url":"https://api.github.com/users/amcaplan/following{/other_user}","gists_url":"https://api.github.com/users/amcaplan/gists{/gist_id}","starred_url":"https://api.github.com/users/amcaplan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amcaplan/subscriptions","organizations_url":"https://api.github.com/users/amcaplan/orgs","repos_url":"https://api.github.com/users/amcaplan/repos","events_url":"https://api.github.com/users/amcaplan/events{/privacy}","received_events_url":"https://api.github.com/users/amcaplan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T15:24:41Z","updated_at":"2018-07-18T15:24:41Z","body":"Hehe, I gave a talk about this once (https://speakerdeck.com/amcaplan/threads-and-processes-lightning-talk-given-at-rails-israel-2015), maybe the slides will be useful to future issue watchers...\r\n\r\n![screen shot 2018-07-18 at 6 14 21 pm](https://user-images.githubusercontent.com/6288426/42890821-74decdcc-8ab6-11e8-8fe7-04c8e966bbff.png)\r\n\r\n![screen shot 2018-07-18 at 6 13 09 pm](https://user-images.githubusercontent.com/6288426/42890771-5954d704-8ab6-11e8-8aa1-3d529c1718d2.png)\r\n\r\nObviously it's a bit oversimplified, but pretty good as a round estimate.  Most Rails jobs I've seen hover around that figure.\r\n\r\nAlso worth noting the first 10 minutes of [this 2015 talk](https://www.youtube.com/watch?v=m2nj5sUE3hg) by @schneems (a personal favorite - first time we were in the same room!) where playing with the setting led them to change concurrency from 30 to 4.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405971038/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amcaplan","id":6288426,"node_id":"MDQ6VXNlcjYyODg0MjY=","avatar_url":"https://avatars.githubusercontent.com/u/6288426?v=4","gravatar_id":"","url":"https://api.github.com/users/amcaplan","html_url":"https://github.com/amcaplan","followers_url":"https://api.github.com/users/amcaplan/followers","following_url":"https://api.github.com/users/amcaplan/following{/other_user}","gists_url":"https://api.github.com/users/amcaplan/gists{/gist_id}","starred_url":"https://api.github.com/users/amcaplan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amcaplan/subscriptions","organizations_url":"https://api.github.com/users/amcaplan/orgs","repos_url":"https://api.github.com/users/amcaplan/repos","events_url":"https://api.github.com/users/amcaplan/events{/privacy}","received_events_url":"https://api.github.com/users/amcaplan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1740439399,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTc0MDQzOTM5OQ==","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740439399","actor":{"login":"schneems","id":59744,"node_id":"MDQ6VXNlcjU5NzQ0","avatar_url":"https://avatars.githubusercontent.com/u/59744?v=4","gravatar_id":"","url":"https://api.github.com/users/schneems","html_url":"https://github.com/schneems","followers_url":"https://api.github.com/users/schneems/followers","following_url":"https://api.github.com/users/schneems/following{/other_user}","gists_url":"https://api.github.com/users/schneems/gists{/gist_id}","starred_url":"https://api.github.com/users/schneems/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schneems/subscriptions","organizations_url":"https://api.github.com/users/schneems/orgs","repos_url":"https://api.github.com/users/schneems/repos","events_url":"https://api.github.com/users/schneems/events{/privacy}","received_events_url":"https://api.github.com/users/schneems/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2018-07-18T15:24:41Z","performed_via_github_app":null},{"id":1740439401,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDE3NDA0Mzk0MDE=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1740439401","actor":{"login":"schneems","id":59744,"node_id":"MDQ6VXNlcjU5NzQ0","avatar_url":"https://avatars.githubusercontent.com/u/59744?v=4","gravatar_id":"","url":"https://api.github.com/users/schneems","html_url":"https://github.com/schneems","followers_url":"https://api.github.com/users/schneems/followers","following_url":"https://api.github.com/users/schneems/following{/other_user}","gists_url":"https://api.github.com/users/schneems/gists{/gist_id}","starred_url":"https://api.github.com/users/schneems/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/schneems/subscriptions","organizations_url":"https://api.github.com/users/schneems/orgs","repos_url":"https://api.github.com/users/schneems/repos","events_url":"https://api.github.com/users/schneems/events{/privacy}","received_events_url":"https://api.github.com/users/schneems/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2018-07-18T15:24:41Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405982381","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-405982381","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":405982381,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNTk4MjM4MQ==","user":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-18T15:56:37Z","updated_at":"2018-07-18T15:56:37Z","body":"Yup! That's a great summary. But since the CPU percentage for a given task can vary, there's a bit of an asymptote as far as how many threads are necessary to saturate...","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/405982381/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"noahgibbs","id":82408,"node_id":"MDQ6VXNlcjgyNDA4","avatar_url":"https://avatars.githubusercontent.com/u/82408?v=4","gravatar_id":"","url":"https://api.github.com/users/noahgibbs","html_url":"https://github.com/noahgibbs","followers_url":"https://api.github.com/users/noahgibbs/followers","following_url":"https://api.github.com/users/noahgibbs/following{/other_user}","gists_url":"https://api.github.com/users/noahgibbs/gists{/gist_id}","starred_url":"https://api.github.com/users/noahgibbs/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/noahgibbs/subscriptions","organizations_url":"https://api.github.com/users/noahgibbs/orgs","repos_url":"https://api.github.com/users/noahgibbs/repos","events_url":"https://api.github.com/users/noahgibbs/events{/privacy}","received_events_url":"https://api.github.com/users/noahgibbs/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/406678048","html_url":"https://github.com/sidekiq/sidekiq/issues/3892#issuecomment-406678048","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3892","id":406678048,"node_id":"MDEyOklzc3VlQ29tbWVudDQwNjY3ODA0OA==","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-07-20T17:52:31Z","updated_at":"2018-07-20T17:52:31Z","body":"It's obvious that glibc's memory bloat, [as discussed on my blog](https://www.mikeperham.com/2018/04/25/taming-rails-memory-bloat/), gets worse as concurrency increases.  I think reducing concurrency from 25 to 10 will reduce memory usage AND bloat, giving us a double win in memory.\r\n\r\nPro tip: you can get the old behavior by adding `-c 25` to the command line.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/406678048/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1745359700,"node_id":"MDExOkNsb3NlZEV2ZW50MTc0NTM1OTcwMA==","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1745359700","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8ff96ae0b0358dc273d19ae1f8474f6ff4fd2b64","commit_url":"https://api.github.com/repos/sidekiq/sidekiq/commits/8ff96ae0b0358dc273d19ae1f8474f6ff4fd2b64","created_at":"2018-07-20T17:54:51Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"fonglh","id":1902527,"node_id":"MDQ6VXNlcjE5MDI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1902527?v=4","gravatar_id":"","url":"https://api.github.com/users/fonglh","html_url":"https://github.com/fonglh","followers_url":"https://api.github.com/users/fonglh/followers","following_url":"https://api.github.com/users/fonglh/following{/other_user}","gists_url":"https://api.github.com/users/fonglh/gists{/gist_id}","starred_url":"https://api.github.com/users/fonglh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fonglh/subscriptions","organizations_url":"https://api.github.com/users/fonglh/orgs","repos_url":"https://api.github.com/users/fonglh/repos","events_url":"https://api.github.com/users/fonglh/events{/privacy}","received_events_url":"https://api.github.com/users/fonglh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2018-08-16T06:16:33Z","updated_at":"2018-08-16T06:16:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3926","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3926/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3926/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3926/events","html_url":"https://github.com/sidekiq/sidekiq/issues/3926","id":351069117,"node_id":"MDU6SXNzdWUzNTEwNjkxMTc=","number":3926,"title":"Sidekiq.options has not been set from initializer when RedisConnection is created","user":{"login":"fonglh","id":1902527,"node_id":"MDQ6VXNlcjE5MDI1Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/1902527?v=4","gravatar_id":"","url":"https://api.github.com/users/fonglh","html_url":"https://github.com/fonglh","followers_url":"https://api.github.com/users/fonglh/followers","following_url":"https://api.github.com/users/fonglh/following{/other_user}","gists_url":"https://api.github.com/users/fonglh/gists{/gist_id}","starred_url":"https://api.github.com/users/fonglh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fonglh/subscriptions","organizations_url":"https://api.github.com/users/fonglh/orgs","repos_url":"https://api.github.com/users/fonglh/repos","events_url":"https://api.github.com/users/fonglh/events{/privacy}","received_events_url":"https://api.github.com/users/fonglh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2018-08-16T06:16:33Z","updated_at":"2018-08-17T02:10:54Z","closed_at":"2018-08-17T02:10:54Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3195124,"node_id":"MDEwOlJlcG9zaXRvcnkzMTk1MTI0","name":"sidekiq","full_name":"sidekiq/sidekiq","private":false,"owner":{"login":"sidekiq","id":124714131,"node_id":"O_kgDOB278kw","avatar_url":"https://avatars.githubusercontent.com/u/124714131?v=4","gravatar_id":"","url":"https://api.github.com/users/sidekiq","html_url":"https://github.com/sidekiq","followers_url":"https://api.github.com/users/sidekiq/followers","following_url":"https://api.github.com/users/sidekiq/following{/other_user}","gists_url":"https://api.github.com/users/sidekiq/gists{/gist_id}","starred_url":"https://api.github.com/users/sidekiq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidekiq/subscriptions","organizations_url":"https://api.github.com/users/sidekiq/orgs","repos_url":"https://api.github.com/users/sidekiq/repos","events_url":"https://api.github.com/users/sidekiq/events{/privacy}","received_events_url":"https://api.github.com/users/sidekiq/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sidekiq/sidekiq","description":"Simple, efficient background processing for Ruby","fork":false,"url":"https://api.github.com/repos/sidekiq/sidekiq","forks_url":"https://api.github.com/repos/sidekiq/sidekiq/forks","keys_url":"https://api.github.com/repos/sidekiq/sidekiq/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sidekiq/sidekiq/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sidekiq/sidekiq/teams","hooks_url":"https://api.github.com/repos/sidekiq/sidekiq/hooks","issue_events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events{/number}","events_url":"https://api.github.com/repos/sidekiq/sidekiq/events","assignees_url":"https://api.github.com/repos/sidekiq/sidekiq/assignees{/user}","branches_url":"https://api.github.com/repos/sidekiq/sidekiq/branches{/branch}","tags_url":"https://api.github.com/repos/sidekiq/sidekiq/tags","blobs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sidekiq/sidekiq/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/refs{/sha}","trees_url":"https://api.github.com/repos/sidekiq/sidekiq/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sidekiq/sidekiq/statuses/{sha}","languages_url":"https://api.github.com/repos/sidekiq/sidekiq/languages","stargazers_url":"https://api.github.com/repos/sidekiq/sidekiq/stargazers","contributors_url":"https://api.github.com/repos/sidekiq/sidekiq/contributors","subscribers_url":"https://api.github.com/repos/sidekiq/sidekiq/subscribers","subscription_url":"https://api.github.com/repos/sidekiq/sidekiq/subscription","commits_url":"https://api.github.com/repos/sidekiq/sidekiq/commits{/sha}","git_commits_url":"https://api.github.com/repos/sidekiq/sidekiq/git/commits{/sha}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/comments{/number}","issue_comment_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments{/number}","contents_url":"https://api.github.com/repos/sidekiq/sidekiq/contents/{+path}","compare_url":"https://api.github.com/repos/sidekiq/sidekiq/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sidekiq/sidekiq/merges","archive_url":"https://api.github.com/repos/sidekiq/sidekiq/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sidekiq/sidekiq/downloads","issues_url":"https://api.github.com/repos/sidekiq/sidekiq/issues{/number}","pulls_url":"https://api.github.com/repos/sidekiq/sidekiq/pulls{/number}","milestones_url":"https://api.github.com/repos/sidekiq/sidekiq/milestones{/number}","notifications_url":"https://api.github.com/repos/sidekiq/sidekiq/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/labels{/name}","releases_url":"https://api.github.com/repos/sidekiq/sidekiq/releases{/id}","deployments_url":"https://api.github.com/repos/sidekiq/sidekiq/deployments","created_at":"2012-01-16T23:17:27Z","updated_at":"2025-11-09T20:20:41Z","pushed_at":"2025-11-07T17:29:44Z","git_url":"git://github.com/sidekiq/sidekiq.git","ssh_url":"git@github.com:sidekiq/sidekiq.git","clone_url":"https://github.com/sidekiq/sidekiq.git","svn_url":"https://github.com/sidekiq/sidekiq","homepage":"https://sidekiq.org","size":14680,"stargazers_count":13447,"watchers_count":13447,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2471,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["background-jobs","jobs","ruby","sidekiq"],"visibility":"public","forks":2471,"open_issues":40,"watchers":13447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Ruby version: 2.4.4\r\nSidekiq / Pro / Enterprise version(s): 5.2.1\r\n\r\nPlease include your initializer and any error message with the full backtrace.\r\n```\r\nSidekiq.configure_server do |config|\r\n    config.redis = { url: \"redis://#{ENV[\"REDIS_HOST\"]}:6379/0\", password: ENV[\"REDIS_PASS\"] }\r\n    Sidekiq.options[:concurrency] = ENV[\"MAX_SIDEKIQ_THREADS\"].to_i\r\nend\r\n\r\nSidekiq.configure_client do |config|\r\n    config.redis = { url: \"redis://#{ENV[\"REDIS_HOST\"]}:6379/0\", password: ENV[\"REDIS_PASS\"] }\r\nend\r\n```\r\n\r\nAre you using an old version? No\r\n\r\nI have the initializer as shown above to configure the number of Sidekiq threads. After #3892, a worker I configured with 20 threads was unable to start up. The error message was `Your pool of 15 Redis connections is too small, please increase the size to at least 22`. It looks like that when the size of the Redis connection pool is set at https://github.com/mperham/sidekiq/blob/master/lib/sidekiq/redis_connection.rb#L18, the `configure_server` block has not been read yet.\r\n\r\nWould it be possible for the `RedisConnection` object to also use the concurrency option in the initializer?\r\n","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3926/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3926/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":1837416482,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDE4Mzc0MTY0ODI=","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/1837416482","actor":{"login":"tnir","id":10229505,"node_id":"MDQ6VXNlcjEwMjI5NTA1","avatar_url":"https://avatars.githubusercontent.com/u/10229505?v=4","gravatar_id":"","url":"https://api.github.com/users/tnir","html_url":"https://github.com/tnir","followers_url":"https://api.github.com/users/tnir/followers","following_url":"https://api.github.com/users/tnir/following{/other_user}","gists_url":"https://api.github.com/users/tnir/gists{/gist_id}","starred_url":"https://api.github.com/users/tnir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tnir/subscriptions","organizations_url":"https://api.github.com/users/tnir/orgs","repos_url":"https://api.github.com/users/tnir/repos","events_url":"https://api.github.com/users/tnir/events{/privacy}","received_events_url":"https://api.github.com/users/tnir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c45daaf7704608a7870559552f7be807406bd902","commit_url":"https://api.github.com/repos/tnir/gitlabhq/commits/c45daaf7704608a7870559552f7be807406bd902","created_at":"2018-09-11T01:43:01Z","performed_via_github_app":null}]