{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5822","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5822/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5822/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5822/events","html_url":"https://github.com/sidekiq/sidekiq/issues/5822","id":1617688454,"node_id":"I_kwDOADDA9M5ga_eG","number":5822,"title":"Restore dumping config when `sidekiq -v` (verbose) is used","user":{"login":"davetron5000","id":22282,"node_id":"MDQ6VXNlcjIyMjgy","avatar_url":"https://avatars.githubusercontent.com/u/22282?v=4","gravatar_id":"","url":"https://api.github.com/users/davetron5000","html_url":"https://github.com/davetron5000","followers_url":"https://api.github.com/users/davetron5000/followers","following_url":"https://api.github.com/users/davetron5000/following{/other_user}","gists_url":"https://api.github.com/users/davetron5000/gists{/gist_id}","starred_url":"https://api.github.com/users/davetron5000/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davetron5000/subscriptions","organizations_url":"https://api.github.com/users/davetron5000/orgs","repos_url":"https://api.github.com/users/davetron5000/repos","events_url":"https://api.github.com/users/davetron5000/events{/privacy}","received_events_url":"https://api.github.com/users/davetron5000/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-03-09T17:34:56Z","updated_at":"2023-03-13T17:58:51Z","closed_at":"2023-03-13T17:58:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Ruby version: 3.2.1\r\nRails version: N/A\r\nSidekiq / Pro / Enterprise version(s): 7.0.6 open source\r\n\r\nSee https://stackoverflow.com/questions/75642616/programmatically-access-sidekiq-config-what-config-options-are-there-and-where-d for some context\r\n\r\nPreviously, you could do `sidekiq -v` and it would dump the config it had parsed.  This isn't there, likely lost during the refactor of config for V7.\r\n\r\nIt appears that the server's config is available via `Sidekiq::CLI.instance.config` *after* `Sidekiq::CLI.instance.parse` has been called.\r\n\r\n* Is there interest in restoring this feature? ( I would like it for reasons stated below :)\r\n* Is accessing `Sidekiq::CLI.instance.config` the right place to do that if I were to dump it?\r\n\r\nIf Yes to either, I'm happy to take a shot at adding this since I'm requesting it.\r\n\r\n## Reasons Why This is Useful\r\n\r\nSidekiq has several places you can specify configuration and also has reasonable defaults, so it can be easy to e.g. mis-spell a name or env var and have Sidekiq start up and work, but not with the config you specified.  Being able to dump out exactly what config Sidekiq is going to use would be really handy when making changes to the config.\r\n","closed_by":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5822/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/5822/timeline","performed_via_github_app":null,"state_reason":"completed"}