[{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1745384758","html_url":"https://github.com/sidekiq/sidekiq/issues/6065#issuecomment-1745384758","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6065","id":1745384758,"node_id":"IC_kwDOADDA9M5oCHU2","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T17:05:16Z","updated_at":"2023-10-03T17:05:16Z","body":"I'm not sure what to do then. I can't gracefully change APIs if I can't detect old vs new.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1745384758/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1745426594","html_url":"https://github.com/sidekiq/sidekiq/issues/6065#issuecomment-1745426594","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6065","id":1745426594,"node_id":"IC_kwDOADDA9M5oCRii","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T17:33:58Z","updated_at":"2023-10-03T17:33:58Z","body":"```diff\r\n-        if handler.arity == 2\r\n+        if (handler.respond_to?(:arity) && handler.arity == 2) ||\r\n+          (handler.method(:call).arity == 2)\r\n```\r\n\r\nI'm trying to figure out the rat's nest of logic needed for this. The above ain't quite right.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1745426594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1745439429","html_url":"https://github.com/sidekiq/sidekiq/issues/6065#issuecomment-1745439429","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6065","id":1745439429,"node_id":"IC_kwDOADDA9M5oCUrF","user":{"login":"mikebaldry","id":196514,"node_id":"MDQ6VXNlcjE5NjUxNA==","avatar_url":"https://avatars.githubusercontent.com/u/196514?v=4","gravatar_id":"","url":"https://api.github.com/users/mikebaldry","html_url":"https://github.com/mikebaldry","followers_url":"https://api.github.com/users/mikebaldry/followers","following_url":"https://api.github.com/users/mikebaldry/following{/other_user}","gists_url":"https://api.github.com/users/mikebaldry/gists{/gist_id}","starred_url":"https://api.github.com/users/mikebaldry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikebaldry/subscriptions","organizations_url":"https://api.github.com/users/mikebaldry/orgs","repos_url":"https://api.github.com/users/mikebaldry/repos","events_url":"https://api.github.com/users/mikebaldry/events{/privacy}","received_events_url":"https://api.github.com/users/mikebaldry/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T17:43:02Z","updated_at":"2023-10-03T17:43:02Z","body":"I was just doing the same on a branch, but something along those lines! I was thinking about adding this method and using that in place of `handler.arity` for the check\r\n```ruby\r\ndef arity(handler)\r\n  return handler.arity if handler.is_a?(Proc)\r\n  handler.method(:call).arity\r\nend\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1745439429/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikebaldry","id":196514,"node_id":"MDQ6VXNlcjE5NjUxNA==","avatar_url":"https://avatars.githubusercontent.com/u/196514?v=4","gravatar_id":"","url":"https://api.github.com/users/mikebaldry","html_url":"https://github.com/mikebaldry","followers_url":"https://api.github.com/users/mikebaldry/followers","following_url":"https://api.github.com/users/mikebaldry/following{/other_user}","gists_url":"https://api.github.com/users/mikebaldry/gists{/gist_id}","starred_url":"https://api.github.com/users/mikebaldry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikebaldry/subscriptions","organizations_url":"https://api.github.com/users/mikebaldry/orgs","repos_url":"https://api.github.com/users/mikebaldry/repos","events_url":"https://api.github.com/users/mikebaldry/events{/privacy}","received_events_url":"https://api.github.com/users/mikebaldry/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10541605793,"node_id":"CE_lADOADDA9M5ytozrzwAAAAJ0VCOh","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/10541605793","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"e1463ff7164f20dce3212cb6213640ff3337495b","commit_url":"https://api.github.com/repos/sidekiq/sidekiq/commits/e1463ff7164f20dce3212cb6213640ff3337495b","created_at":"2023-10-03T17:50:33Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1745452043","html_url":"https://github.com/sidekiq/sidekiq/issues/6065#issuecomment-1745452043","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6065","id":1745452043,"node_id":"IC_kwDOADDA9M5oCXwL","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-03T17:51:40Z","updated_at":"2023-10-03T17:51:40Z","body":"Well dang @mikebaldry, you're a smart guy. Fixed.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1745452043/reactions","total_count":6,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":6,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10541615904,"node_id":"MEE_lADOADDA9M5ytozrzwAAAAJ0VEsg","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/10541615904","actor":{"login":"mikebaldry","id":196514,"node_id":"MDQ6VXNlcjE5NjUxNA==","avatar_url":"https://avatars.githubusercontent.com/u/196514?v=4","gravatar_id":"","url":"https://api.github.com/users/mikebaldry","html_url":"https://github.com/mikebaldry","followers_url":"https://api.github.com/users/mikebaldry/followers","following_url":"https://api.github.com/users/mikebaldry/following{/other_user}","gists_url":"https://api.github.com/users/mikebaldry/gists{/gist_id}","starred_url":"https://api.github.com/users/mikebaldry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikebaldry/subscriptions","organizations_url":"https://api.github.com/users/mikebaldry/orgs","repos_url":"https://api.github.com/users/mikebaldry/repos","events_url":"https://api.github.com/users/mikebaldry/events{/privacy}","received_events_url":"https://api.github.com/users/mikebaldry/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-03T17:51:40Z","performed_via_github_app":null},{"id":10541615910,"node_id":"SE_lADOADDA9M5ytozrzwAAAAJ0VEsm","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/10541615910","actor":{"login":"mikebaldry","id":196514,"node_id":"MDQ6VXNlcjE5NjUxNA==","avatar_url":"https://avatars.githubusercontent.com/u/196514?v=4","gravatar_id":"","url":"https://api.github.com/users/mikebaldry","html_url":"https://github.com/mikebaldry","followers_url":"https://api.github.com/users/mikebaldry/followers","following_url":"https://api.github.com/users/mikebaldry/following{/other_user}","gists_url":"https://api.github.com/users/mikebaldry/gists{/gist_id}","starred_url":"https://api.github.com/users/mikebaldry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikebaldry/subscriptions","organizations_url":"https://api.github.com/users/mikebaldry/orgs","repos_url":"https://api.github.com/users/mikebaldry/repos","events_url":"https://api.github.com/users/mikebaldry/events{/privacy}","received_events_url":"https://api.github.com/users/mikebaldry/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-03T17:51:40Z","performed_via_github_app":null},{"actor":{"login":"sl0thentr0py","id":6536764,"node_id":"MDQ6VXNlcjY1MzY3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6536764?v=4","gravatar_id":"","url":"https://api.github.com/users/sl0thentr0py","html_url":"https://github.com/sl0thentr0py","followers_url":"https://api.github.com/users/sl0thentr0py/followers","following_url":"https://api.github.com/users/sl0thentr0py/following{/other_user}","gists_url":"https://api.github.com/users/sl0thentr0py/gists{/gist_id}","starred_url":"https://api.github.com/users/sl0thentr0py/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sl0thentr0py/subscriptions","organizations_url":"https://api.github.com/users/sl0thentr0py/orgs","repos_url":"https://api.github.com/users/sl0thentr0py/repos","events_url":"https://api.github.com/users/sl0thentr0py/events{/privacy}","received_events_url":"https://api.github.com/users/sl0thentr0py/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-04T11:40:29Z","updated_at":"2023-10-04T11:40:29Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/getsentry/sentry-ruby/issues/2122","repository_url":"https://api.github.com/repos/getsentry/sentry-ruby","labels_url":"https://api.github.com/repos/getsentry/sentry-ruby/issues/2122/labels{/name}","comments_url":"https://api.github.com/repos/getsentry/sentry-ruby/issues/2122/comments","events_url":"https://api.github.com/repos/getsentry/sentry-ruby/issues/2122/events","html_url":"https://github.com/getsentry/sentry-ruby/issues/2122","id":1925707364,"node_id":"I_kwDOADw7hM5yx_Zk","number":2122,"title":"undefined method `arity`","user":{"login":"mbajur","id":581569,"node_id":"MDQ6VXNlcjU4MTU2OQ==","avatar_url":"https://avatars.githubusercontent.com/u/581569?v=4","gravatar_id":"","url":"https://api.github.com/users/mbajur","html_url":"https://github.com/mbajur","followers_url":"https://api.github.com/users/mbajur/followers","following_url":"https://api.github.com/users/mbajur/following{/other_user}","gists_url":"https://api.github.com/users/mbajur/gists{/gist_id}","starred_url":"https://api.github.com/users/mbajur/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mbajur/subscriptions","organizations_url":"https://api.github.com/users/mbajur/orgs","repos_url":"https://api.github.com/users/mbajur/repos","events_url":"https://api.github.com/users/mbajur/events{/privacy}","received_events_url":"https://api.github.com/users/mbajur/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":{"login":"sl0thentr0py","id":6536764,"node_id":"MDQ6VXNlcjY1MzY3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6536764?v=4","gravatar_id":"","url":"https://api.github.com/users/sl0thentr0py","html_url":"https://github.com/sl0thentr0py","followers_url":"https://api.github.com/users/sl0thentr0py/followers","following_url":"https://api.github.com/users/sl0thentr0py/following{/other_user}","gists_url":"https://api.github.com/users/sl0thentr0py/gists{/gist_id}","starred_url":"https://api.github.com/users/sl0thentr0py/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sl0thentr0py/subscriptions","organizations_url":"https://api.github.com/users/sl0thentr0py/orgs","repos_url":"https://api.github.com/users/sl0thentr0py/repos","events_url":"https://api.github.com/users/sl0thentr0py/events{/privacy}","received_events_url":"https://api.github.com/users/sl0thentr0py/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"sl0thentr0py","id":6536764,"node_id":"MDQ6VXNlcjY1MzY3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6536764?v=4","gravatar_id":"","url":"https://api.github.com/users/sl0thentr0py","html_url":"https://github.com/sl0thentr0py","followers_url":"https://api.github.com/users/sl0thentr0py/followers","following_url":"https://api.github.com/users/sl0thentr0py/following{/other_user}","gists_url":"https://api.github.com/users/sl0thentr0py/gists{/gist_id}","starred_url":"https://api.github.com/users/sl0thentr0py/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sl0thentr0py/subscriptions","organizations_url":"https://api.github.com/users/sl0thentr0py/orgs","repos_url":"https://api.github.com/users/sl0thentr0py/repos","events_url":"https://api.github.com/users/sl0thentr0py/events{/privacy}","received_events_url":"https://api.github.com/users/sl0thentr0py/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":2,"created_at":"2023-10-04T08:46:05Z","updated_at":"2023-10-10T13:24:44Z","closed_at":"2023-10-10T13:24:32Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3947396,"node_id":"MDEwOlJlcG9zaXRvcnkzOTQ3Mzk2","name":"sentry-ruby","full_name":"getsentry/sentry-ruby","private":false,"owner":{"login":"getsentry","id":1396951,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEzOTY5NTE=","avatar_url":"https://avatars.githubusercontent.com/u/1396951?v=4","gravatar_id":"","url":"https://api.github.com/users/getsentry","html_url":"https://github.com/getsentry","followers_url":"https://api.github.com/users/getsentry/followers","following_url":"https://api.github.com/users/getsentry/following{/other_user}","gists_url":"https://api.github.com/users/getsentry/gists{/gist_id}","starred_url":"https://api.github.com/users/getsentry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/getsentry/subscriptions","organizations_url":"https://api.github.com/users/getsentry/orgs","repos_url":"https://api.github.com/users/getsentry/repos","events_url":"https://api.github.com/users/getsentry/events{/privacy}","received_events_url":"https://api.github.com/users/getsentry/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/getsentry/sentry-ruby","description":"Sentry SDK for Ruby","fork":false,"url":"https://api.github.com/repos/getsentry/sentry-ruby","forks_url":"https://api.github.com/repos/getsentry/sentry-ruby/forks","keys_url":"https://api.github.com/repos/getsentry/sentry-ruby/keys{/key_id}","collaborators_url":"https://api.github.com/repos/getsentry/sentry-ruby/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/getsentry/sentry-ruby/teams","hooks_url":"https://api.github.com/repos/getsentry/sentry-ruby/hooks","issue_events_url":"https://api.github.com/repos/getsentry/sentry-ruby/issues/events{/number}","events_url":"https://api.github.com/repos/getsentry/sentry-ruby/events","assignees_url":"https://api.github.com/repos/getsentry/sentry-ruby/assignees{/user}","branches_url":"https://api.github.com/repos/getsentry/sentry-ruby/branches{/branch}","tags_url":"https://api.github.com/repos/getsentry/sentry-ruby/tags","blobs_url":"https://api.github.com/repos/getsentry/sentry-ruby/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/getsentry/sentry-ruby/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/getsentry/sentry-ruby/git/refs{/sha}","trees_url":"https://api.github.com/repos/getsentry/sentry-ruby/git/trees{/sha}","statuses_url":"https://api.github.com/repos/getsentry/sentry-ruby/statuses/{sha}","languages_url":"https://api.github.com/repos/getsentry/sentry-ruby/languages","stargazers_url":"https://api.github.com/repos/getsentry/sentry-ruby/stargazers","contributors_url":"https://api.github.com/repos/getsentry/sentry-ruby/contributors","subscribers_url":"https://api.github.com/repos/getsentry/sentry-ruby/subscribers","subscription_url":"https://api.github.com/repos/getsentry/sentry-ruby/subscription","commits_url":"https://api.github.com/repos/getsentry/sentry-ruby/commits{/sha}","git_commits_url":"https://api.github.com/repos/getsentry/sentry-ruby/git/commits{/sha}","comments_url":"https://api.github.com/repos/getsentry/sentry-ruby/comments{/number}","issue_comment_url":"https://api.github.com/repos/getsentry/sentry-ruby/issues/comments{/number}","contents_url":"https://api.github.com/repos/getsentry/sentry-ruby/contents/{+path}","compare_url":"https://api.github.com/repos/getsentry/sentry-ruby/compare/{base}...{head}","merges_url":"https://api.github.com/repos/getsentry/sentry-ruby/merges","archive_url":"https://api.github.com/repos/getsentry/sentry-ruby/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/getsentry/sentry-ruby/downloads","issues_url":"https://api.github.com/repos/getsentry/sentry-ruby/issues{/number}","pulls_url":"https://api.github.com/repos/getsentry/sentry-ruby/pulls{/number}","milestones_url":"https://api.github.com/repos/getsentry/sentry-ruby/milestones{/number}","notifications_url":"https://api.github.com/repos/getsentry/sentry-ruby/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/getsentry/sentry-ruby/labels{/name}","releases_url":"https://api.github.com/repos/getsentry/sentry-ruby/releases{/id}","deployments_url":"https://api.github.com/repos/getsentry/sentry-ruby/deployments","created_at":"2012-04-06T06:21:26Z","updated_at":"2025-11-07T04:39:12Z","pushed_at":"2025-11-07T15:26:50Z","git_url":"git://github.com/getsentry/sentry-ruby.git","ssh_url":"git@github.com:getsentry/sentry-ruby.git","clone_url":"https://github.com/getsentry/sentry-ruby.git","svn_url":"https://github.com/getsentry/sentry-ruby","homepage":"https://sentry.io/for/ruby","size":5166,"stargazers_count":982,"watchers_count":982,"language":"Ruby","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":519,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":79,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["crash-reporting","crash-reports","error-handler","error-monitoring","hacktoberfest","ruby","sdk","stacktrace","tag-production","team-web-backend"],"visibility":"public","forks":519,"open_issues":79,"watchers":982,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Issue Description\r\n\r\nI recently upgraded my rails app to ruby 3.2.2 and Sidekiq 7.1.5 and that's what is being raised when sidekiq tries to run a job:\r\n\r\n```\r\nNoMethodError: undefined method `new' for Sidekiq::Job:Module\r\n!!! ERROR HANDLER THREW AN ERROR !!!\r\n#<NoMethodError: undefined method `arity' for #<Sentry::Sidekiq::ErrorHandler:0x00007f78c5350d28>>\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:267:in `block in handle_exception'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:266:in `each'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:266:in `handle_exception'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:48:in `handle_exception'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:48:in `handle_exception'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:193:in `rescue in block (2 levels) in process'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:178:in `block (2 levels) in process'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:177:in `handle_interrupt'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:177:in `block in process'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:176:in `handle_interrupt'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:176:in `process'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:82:in `process_one'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:72:in `run'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:10:in `watchdog'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:19:in `block in safe_thread'\r\n/usr/local/bundle/gems/newrelic_rpm-9.5.0/lib/new_relic/agent/tracer.rb:435:in `block (2 levels) in thread_block_with_current_transaction'\r\n/usr/local/bundle/gems/newrelic_rpm-9.5.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'\r\n/usr/local/bundle/gems/newrelic_rpm-9.5.0/lib/new_relic/agent/tracer.rb:434:in `block in thread_block_with_current_transaction'\r\n#<NoMethodError: undefined method `arity' for #<Sentry::Sidekiq::ErrorHandler:0x00007f78c5350d28>>\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:267:in `block in handle_exception'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:266:in `each'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:266:in `handle_exception'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:48:in `handle_exception'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:48:in `handle_exception'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:193:in `rescue in block (2 levels) in process'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:178:in `block (2 levels) in process'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:177:in `handle_interrupt'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:177:in `block in process'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:176:in `handle_interrupt'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:176:in `process'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:82:in `process_one'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/processor.rb:72:in `run'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:10:in `watchdog'\r\n/usr/local/bundle/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:19:in `block in safe_thread'\r\n/usr/local/bundle/gems/newrelic_rpm-9.5.0/lib/new_relic/agent/tracer.rb:435:in `block (2 levels) in thread_block_with_current_transaction'\r\n/usr/local/bundle/gems/newrelic_rpm-9.5.0/lib/new_relic/agent/tracer.rb:357:in `capture_segment_error'\r\n/usr/local/bundle/gems/newrelic_rpm-9.5.0/lib/new_relic/agent/tracer.rb:434:in `block in thread_block_with_current_transaction'\r\n```\r\n\r\n### Reproduction Steps\r\n\r\nDoes not apply\r\n\r\n### Expected Behavior\r\n\r\nNo exception being raised\r\n\r\n### Actual Behavior\r\n\r\nException being raised\r\n\r\n### Ruby Version\r\n\r\n3.2.2\r\n\r\n### SDK Version\r\n\r\n5.11.0\r\n\r\n### Integration and Its Version\r\n\r\nRails 7.0.8\r\n\r\n### Sentry Config\r\n\r\n```\r\n# frozen_string_literal: true\r\n\r\nSentry.init do |config|\r\n  config.dsn = Figaro.env.sentry_dsn\r\n  config.breadcrumbs_logger = [:active_support_logger]\r\n  config.traces_sample_rate = 0\r\n\r\n  config.release = \"myapp@v#{MyApp::Version::VERSION}\" if Figaro.env.forward_version_to_sentry\r\nend\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/getsentry/sentry-ruby/issues/2122/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/getsentry/sentry-ruby/issues/2122/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1748753297","html_url":"https://github.com/sidekiq/sidekiq/issues/6065#issuecomment-1748753297","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6065","id":1748753297,"node_id":"IC_kwDOADDA9M5oO9uR","user":{"login":"sl0thentr0py","id":6536764,"node_id":"MDQ6VXNlcjY1MzY3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6536764?v=4","gravatar_id":"","url":"https://api.github.com/users/sl0thentr0py","html_url":"https://github.com/sl0thentr0py","followers_url":"https://api.github.com/users/sl0thentr0py/followers","following_url":"https://api.github.com/users/sl0thentr0py/following{/other_user}","gists_url":"https://api.github.com/users/sl0thentr0py/gists{/gist_id}","starred_url":"https://api.github.com/users/sl0thentr0py/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sl0thentr0py/subscriptions","organizations_url":"https://api.github.com/users/sl0thentr0py/orgs","repos_url":"https://api.github.com/users/sl0thentr0py/repos","events_url":"https://api.github.com/users/sl0thentr0py/events{/privacy}","received_events_url":"https://api.github.com/users/sl0thentr0py/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T12:07:20Z","updated_at":"2023-10-05T12:07:20Z","body":"@mperham can you release this as a patch?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1748753297/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sl0thentr0py","id":6536764,"node_id":"MDQ6VXNlcjY1MzY3NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/6536764?v=4","gravatar_id":"","url":"https://api.github.com/users/sl0thentr0py","html_url":"https://github.com/sl0thentr0py","followers_url":"https://api.github.com/users/sl0thentr0py/followers","following_url":"https://api.github.com/users/sl0thentr0py/following{/other_user}","gists_url":"https://api.github.com/users/sl0thentr0py/gists{/gist_id}","starred_url":"https://api.github.com/users/sl0thentr0py/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sl0thentr0py/subscriptions","organizations_url":"https://api.github.com/users/sl0thentr0py/orgs","repos_url":"https://api.github.com/users/sl0thentr0py/repos","events_url":"https://api.github.com/users/sl0thentr0py/events{/privacy}","received_events_url":"https://api.github.com/users/sl0thentr0py/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10562827260,"node_id":"MEE_lADOADDA9M5ytozrzwAAAAJ1l_P8","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/10562827260","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-05T12:07:21Z","performed_via_github_app":null},{"id":10562827277,"node_id":"SE_lADOADDA9M5ytozrzwAAAAJ1l_QN","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/10562827277","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-05T12:07:21Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1753405301","html_url":"https://github.com/sidekiq/sidekiq/issues/6065#issuecomment-1753405301","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6065","id":1753405301,"node_id":"IC_kwDOADDA9M5ogtd1","user":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-09T17:38:35Z","updated_at":"2023-10-09T17:38:35Z","body":"7.1.6 is now available.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1753405301/reactions","total_count":10,"+1":4,"-1":0,"laugh":1,"hooray":5,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1759243488","html_url":"https://github.com/sidekiq/sidekiq/issues/6065#issuecomment-1759243488","issue_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6065","id":1759243488,"node_id":"IC_kwDOADDA9M5o2-zg","user":{"login":"mikebaldry","id":196514,"node_id":"MDQ6VXNlcjE5NjUxNA==","avatar_url":"https://avatars.githubusercontent.com/u/196514?v=4","gravatar_id":"","url":"https://api.github.com/users/mikebaldry","html_url":"https://github.com/mikebaldry","followers_url":"https://api.github.com/users/mikebaldry/followers","following_url":"https://api.github.com/users/mikebaldry/following{/other_user}","gists_url":"https://api.github.com/users/mikebaldry/gists{/gist_id}","starred_url":"https://api.github.com/users/mikebaldry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikebaldry/subscriptions","organizations_url":"https://api.github.com/users/mikebaldry/orgs","repos_url":"https://api.github.com/users/mikebaldry/repos","events_url":"https://api.github.com/users/mikebaldry/events{/privacy}","received_events_url":"https://api.github.com/users/mikebaldry/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-12T09:20:15Z","updated_at":"2023-10-12T09:20:15Z","body":"@mperham thanks for the speedy fix!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments/1759243488/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"mikebaldry","id":196514,"node_id":"MDQ6VXNlcjE5NjUxNA==","avatar_url":"https://avatars.githubusercontent.com/u/196514?v=4","gravatar_id":"","url":"https://api.github.com/users/mikebaldry","html_url":"https://github.com/mikebaldry","followers_url":"https://api.github.com/users/mikebaldry/followers","following_url":"https://api.github.com/users/mikebaldry/following{/other_user}","gists_url":"https://api.github.com/users/mikebaldry/gists{/gist_id}","starred_url":"https://api.github.com/users/mikebaldry/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mikebaldry/subscriptions","organizations_url":"https://api.github.com/users/mikebaldry/orgs","repos_url":"https://api.github.com/users/mikebaldry/repos","events_url":"https://api.github.com/users/mikebaldry/events{/privacy}","received_events_url":"https://api.github.com/users/mikebaldry/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10629119223,"node_id":"MEE_lADOADDA9M5ytozrzwAAAAJ5i3z3","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/10629119223","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-12T09:20:15Z","performed_via_github_app":null},{"id":10629119238,"node_id":"SE_lADOADDA9M5ytozrzwAAAAJ5i30G","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/10629119238","actor":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-12T09:20:15Z","performed_via_github_app":null},{"actor":{"login":"bdewater-thatch","id":118401830,"node_id":"U_kgDOBw6rJg","avatar_url":"https://avatars.githubusercontent.com/u/118401830?v=4","gravatar_id":"","url":"https://api.github.com/users/bdewater-thatch","html_url":"https://github.com/bdewater-thatch","followers_url":"https://api.github.com/users/bdewater-thatch/followers","following_url":"https://api.github.com/users/bdewater-thatch/following{/other_user}","gists_url":"https://api.github.com/users/bdewater-thatch/gists{/gist_id}","starred_url":"https://api.github.com/users/bdewater-thatch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdewater-thatch/subscriptions","organizations_url":"https://api.github.com/users/bdewater-thatch/orgs","repos_url":"https://api.github.com/users/bdewater-thatch/repos","events_url":"https://api.github.com/users/bdewater-thatch/events{/privacy}","received_events_url":"https://api.github.com/users/bdewater-thatch/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-19T14:45:23Z","updated_at":"2023-10-19T14:45:23Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues/1001","repository_url":"https://api.github.com/repos/appsignal/appsignal-ruby","labels_url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues/1001/labels{/name}","comments_url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues/1001/comments","events_url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues/1001/events","html_url":"https://github.com/appsignal/appsignal-ruby/issues/1001","id":1952441037,"node_id":"I_kwDOAJofm850X-LN","number":1001,"title":"Fix Sidekiq 7.1 error handler deprecation","user":{"login":"bdewater-thatch","id":118401830,"node_id":"U_kgDOBw6rJg","avatar_url":"https://avatars.githubusercontent.com/u/118401830?v=4","gravatar_id":"","url":"https://api.github.com/users/bdewater-thatch","html_url":"https://github.com/bdewater-thatch","followers_url":"https://api.github.com/users/bdewater-thatch/followers","following_url":"https://api.github.com/users/bdewater-thatch/following{/other_user}","gists_url":"https://api.github.com/users/bdewater-thatch/gists{/gist_id}","starred_url":"https://api.github.com/users/bdewater-thatch/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bdewater-thatch/subscriptions","organizations_url":"https://api.github.com/users/bdewater-thatch/orgs","repos_url":"https://api.github.com/users/bdewater-thatch/repos","events_url":"https://api.github.com/users/bdewater-thatch/events{/privacy}","received_events_url":"https://api.github.com/users/bdewater-thatch/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":724570414,"node_id":"MDU6TGFiZWw3MjQ1NzA0MTQ=","url":"https://api.github.com/repos/appsignal/appsignal-ruby/labels/chore","name":"chore","color":"546e7a","default":false,"description":"A small task that takes a day or two at the most."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2023-10-19T14:45:22Z","updated_at":"2023-11-02T16:28:59Z","closed_at":"2023-11-02T16:28:59Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":10100635,"node_id":"MDEwOlJlcG9zaXRvcnkxMDEwMDYzNQ==","name":"appsignal-ruby","full_name":"appsignal/appsignal-ruby","private":false,"owner":{"login":"appsignal","id":3984134,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM5ODQxMzQ=","avatar_url":"https://avatars.githubusercontent.com/u/3984134?v=4","gravatar_id":"","url":"https://api.github.com/users/appsignal","html_url":"https://github.com/appsignal","followers_url":"https://api.github.com/users/appsignal/followers","following_url":"https://api.github.com/users/appsignal/following{/other_user}","gists_url":"https://api.github.com/users/appsignal/gists{/gist_id}","starred_url":"https://api.github.com/users/appsignal/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/appsignal/subscriptions","organizations_url":"https://api.github.com/users/appsignal/orgs","repos_url":"https://api.github.com/users/appsignal/repos","events_url":"https://api.github.com/users/appsignal/events{/privacy}","received_events_url":"https://api.github.com/users/appsignal/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/appsignal/appsignal-ruby","description":"ðŸŸ¥ AppSignal for Ruby gem","fork":false,"url":"https://api.github.com/repos/appsignal/appsignal-ruby","forks_url":"https://api.github.com/repos/appsignal/appsignal-ruby/forks","keys_url":"https://api.github.com/repos/appsignal/appsignal-ruby/keys{/key_id}","collaborators_url":"https://api.github.com/repos/appsignal/appsignal-ruby/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/appsignal/appsignal-ruby/teams","hooks_url":"https://api.github.com/repos/appsignal/appsignal-ruby/hooks","issue_events_url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues/events{/number}","events_url":"https://api.github.com/repos/appsignal/appsignal-ruby/events","assignees_url":"https://api.github.com/repos/appsignal/appsignal-ruby/assignees{/user}","branches_url":"https://api.github.com/repos/appsignal/appsignal-ruby/branches{/branch}","tags_url":"https://api.github.com/repos/appsignal/appsignal-ruby/tags","blobs_url":"https://api.github.com/repos/appsignal/appsignal-ruby/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/appsignal/appsignal-ruby/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/appsignal/appsignal-ruby/git/refs{/sha}","trees_url":"https://api.github.com/repos/appsignal/appsignal-ruby/git/trees{/sha}","statuses_url":"https://api.github.com/repos/appsignal/appsignal-ruby/statuses/{sha}","languages_url":"https://api.github.com/repos/appsignal/appsignal-ruby/languages","stargazers_url":"https://api.github.com/repos/appsignal/appsignal-ruby/stargazers","contributors_url":"https://api.github.com/repos/appsignal/appsignal-ruby/contributors","subscribers_url":"https://api.github.com/repos/appsignal/appsignal-ruby/subscribers","subscription_url":"https://api.github.com/repos/appsignal/appsignal-ruby/subscription","commits_url":"https://api.github.com/repos/appsignal/appsignal-ruby/commits{/sha}","git_commits_url":"https://api.github.com/repos/appsignal/appsignal-ruby/git/commits{/sha}","comments_url":"https://api.github.com/repos/appsignal/appsignal-ruby/comments{/number}","issue_comment_url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues/comments{/number}","contents_url":"https://api.github.com/repos/appsignal/appsignal-ruby/contents/{+path}","compare_url":"https://api.github.com/repos/appsignal/appsignal-ruby/compare/{base}...{head}","merges_url":"https://api.github.com/repos/appsignal/appsignal-ruby/merges","archive_url":"https://api.github.com/repos/appsignal/appsignal-ruby/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/appsignal/appsignal-ruby/downloads","issues_url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues{/number}","pulls_url":"https://api.github.com/repos/appsignal/appsignal-ruby/pulls{/number}","milestones_url":"https://api.github.com/repos/appsignal/appsignal-ruby/milestones{/number}","notifications_url":"https://api.github.com/repos/appsignal/appsignal-ruby/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/appsignal/appsignal-ruby/labels{/name}","releases_url":"https://api.github.com/repos/appsignal/appsignal-ruby/releases{/id}","deployments_url":"https://api.github.com/repos/appsignal/appsignal-ruby/deployments","created_at":"2013-05-16T12:25:54Z","updated_at":"2025-10-31T14:02:17Z","pushed_at":"2025-10-30T14:13:26Z","git_url":"git://github.com/appsignal/appsignal-ruby.git","ssh_url":"git@github.com:appsignal/appsignal-ruby.git","clone_url":"https://github.com/appsignal/appsignal-ruby.git","svn_url":"https://github.com/appsignal/appsignal-ruby","homepage":"https://www.appsignal.com/ruby","size":8732,"stargazers_count":198,"watchers_count":198,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":118,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":18,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["apm","appsignal","custom-instrumentation","error-monitoring","host-metrics","metrics","monitoring","performance-monitoring","rails","ruby"],"visibility":"public","forks":118,"open_issues":18,"watchers":198,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"We noticed our Sidekiq job errors weren't reported to Appsignal anymore. On Sidekiq 7.1.5 with Appsignal 3.4.12 logs show:\r\n\r\n```\r\n2023-10-19T14:24:55.251Z pid=80636 tid=z18 WARN: RuntimeError: kaboom! test appsignal\r\n2023-10-19T14:24:55.251Z pid=80636 tid=z18 WARN: app/jobs/blazer_checks_job.rb:8:in `perform'\r\n2023-10-19T14:24:55.251Z pid=80636 tid=z18 ERROR: !!! ERROR HANDLER THREW AN ERROR !!!\r\n2023-10-19T14:24:55.251Z pid=80636 tid=z18 ERROR: undefined method `arity' for #<Appsignal::Integrations::SidekiqErrorHandler:0x0000000105834f90>\r\n2023-10-19T14:24:55.251Z pid=80636 tid=z18 ERROR: /Users/bdewater/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:267:in `block in handle_exception'\r\n/Users/bdewater/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:266:in `each'\r\n/Users/bdewater/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sidekiq-7.1.5/lib/sidekiq/config.rb:266:in `handle_exception'\r\n/Users/bdewater/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:48:in `handle_exception'\r\n/Users/bdewater/.rbenv/versions/3.2.2/lib/ruby/gems/3.2.0/gems/sidekiq-7.1.5/lib/sidekiq/component.rb:48:in `handle_exception'\r\n```\r\nThe issue was introduced in https://github.com/sidekiq/sidekiq/pull/6051 and fixed in 7.1.6 after this report: https://github.com/sidekiq/sidekiq/issues/6065\r\n\r\nAfter bumping them gem locally, logs now show:\r\n```\r\n2023-10-19T14:33:29.024Z pid=81328 tid=4eg8 WARN: RuntimeError: kaboom! test appsignal\r\n2023-10-19T14:33:29.025Z pid=81328 tid=4eg8 WARN: app/jobs/blazer_checks_job.rb:8:in `perform'\r\n2023-10-19T14:33:29.025Z pid=81328 tid=4eg8 INFO: DEPRECATION: Sidekiq exception handlers now take three arguments, see #<Appsignal::Integrations::SidekiqErrorHandler:0x000000012a35c5c0>\r\n```","reactions":{"url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues/1001/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/appsignal/appsignal-ruby/issues/1001/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":11730285996,"node_id":"REFE_lADOADDA9M5ytozrzwAAAAK7LfWs","url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events/11730285996","actor":{"login":"motchang","id":1159316,"node_id":"MDQ6VXNlcjExNTkzMTY=","avatar_url":"https://avatars.githubusercontent.com/u/1159316?v=4","gravatar_id":"","url":"https://api.github.com/users/motchang","html_url":"https://github.com/motchang","followers_url":"https://api.github.com/users/motchang/followers","following_url":"https://api.github.com/users/motchang/following{/other_user}","gists_url":"https://api.github.com/users/motchang/gists{/gist_id}","starred_url":"https://api.github.com/users/motchang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/motchang/subscriptions","organizations_url":"https://api.github.com/users/motchang/orgs","repos_url":"https://api.github.com/users/motchang/repos","events_url":"https://api.github.com/users/motchang/events{/privacy}","received_events_url":"https://api.github.com/users/motchang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"e1463ff7164f20dce3212cb6213640ff3337495b","commit_url":"https://api.github.com/repos/motchang/sidekiq/commits/e1463ff7164f20dce3212cb6213640ff3337495b","created_at":"2024-02-07T10:21:27Z","performed_via_github_app":null},{"actor":{"login":"kikikiblue","id":481619,"node_id":"MDQ6VXNlcjQ4MTYxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/481619?v=4","gravatar_id":"","url":"https://api.github.com/users/kikikiblue","html_url":"https://github.com/kikikiblue","followers_url":"https://api.github.com/users/kikikiblue/followers","following_url":"https://api.github.com/users/kikikiblue/following{/other_user}","gists_url":"https://api.github.com/users/kikikiblue/gists{/gist_id}","starred_url":"https://api.github.com/users/kikikiblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kikikiblue/subscriptions","organizations_url":"https://api.github.com/users/kikikiblue/orgs","repos_url":"https://api.github.com/users/kikikiblue/repos","events_url":"https://api.github.com/users/kikikiblue/events{/privacy}","received_events_url":"https://api.github.com/users/kikikiblue/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-07-05T03:58:46Z","updated_at":"2024-07-05T03:58:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6357","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6357/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6357/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6357/events","html_url":"https://github.com/sidekiq/sidekiq/issues/6357","id":2391736078,"node_id":"I_kwDOADDA9M6Ojv8O","number":6357,"title":"DEPRECATION: Sidekiq exception handlers now take three arguments","user":{"login":"kikikiblue","id":481619,"node_id":"MDQ6VXNlcjQ4MTYxOQ==","avatar_url":"https://avatars.githubusercontent.com/u/481619?v=4","gravatar_id":"","url":"https://api.github.com/users/kikikiblue","html_url":"https://github.com/kikikiblue","followers_url":"https://api.github.com/users/kikikiblue/followers","following_url":"https://api.github.com/users/kikikiblue/following{/other_user}","gists_url":"https://api.github.com/users/kikikiblue/gists{/gist_id}","starred_url":"https://api.github.com/users/kikikiblue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kikikiblue/subscriptions","organizations_url":"https://api.github.com/users/kikikiblue/orgs","repos_url":"https://api.github.com/users/kikikiblue/repos","events_url":"https://api.github.com/users/kikikiblue/events{/privacy}","received_events_url":"https://api.github.com/users/kikikiblue/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2024-07-05T03:58:46Z","updated_at":"2024-07-05T06:28:13Z","closed_at":"2024-07-05T06:28:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":3195124,"node_id":"MDEwOlJlcG9zaXRvcnkzMTk1MTI0","name":"sidekiq","full_name":"sidekiq/sidekiq","private":false,"owner":{"login":"sidekiq","id":124714131,"node_id":"O_kgDOB278kw","avatar_url":"https://avatars.githubusercontent.com/u/124714131?v=4","gravatar_id":"","url":"https://api.github.com/users/sidekiq","html_url":"https://github.com/sidekiq","followers_url":"https://api.github.com/users/sidekiq/followers","following_url":"https://api.github.com/users/sidekiq/following{/other_user}","gists_url":"https://api.github.com/users/sidekiq/gists{/gist_id}","starred_url":"https://api.github.com/users/sidekiq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sidekiq/subscriptions","organizations_url":"https://api.github.com/users/sidekiq/orgs","repos_url":"https://api.github.com/users/sidekiq/repos","events_url":"https://api.github.com/users/sidekiq/events{/privacy}","received_events_url":"https://api.github.com/users/sidekiq/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/sidekiq/sidekiq","description":"Simple, efficient background processing for Ruby","fork":false,"url":"https://api.github.com/repos/sidekiq/sidekiq","forks_url":"https://api.github.com/repos/sidekiq/sidekiq/forks","keys_url":"https://api.github.com/repos/sidekiq/sidekiq/keys{/key_id}","collaborators_url":"https://api.github.com/repos/sidekiq/sidekiq/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/sidekiq/sidekiq/teams","hooks_url":"https://api.github.com/repos/sidekiq/sidekiq/hooks","issue_events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/events{/number}","events_url":"https://api.github.com/repos/sidekiq/sidekiq/events","assignees_url":"https://api.github.com/repos/sidekiq/sidekiq/assignees{/user}","branches_url":"https://api.github.com/repos/sidekiq/sidekiq/branches{/branch}","tags_url":"https://api.github.com/repos/sidekiq/sidekiq/tags","blobs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/sidekiq/sidekiq/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/sidekiq/sidekiq/git/refs{/sha}","trees_url":"https://api.github.com/repos/sidekiq/sidekiq/git/trees{/sha}","statuses_url":"https://api.github.com/repos/sidekiq/sidekiq/statuses/{sha}","languages_url":"https://api.github.com/repos/sidekiq/sidekiq/languages","stargazers_url":"https://api.github.com/repos/sidekiq/sidekiq/stargazers","contributors_url":"https://api.github.com/repos/sidekiq/sidekiq/contributors","subscribers_url":"https://api.github.com/repos/sidekiq/sidekiq/subscribers","subscription_url":"https://api.github.com/repos/sidekiq/sidekiq/subscription","commits_url":"https://api.github.com/repos/sidekiq/sidekiq/commits{/sha}","git_commits_url":"https://api.github.com/repos/sidekiq/sidekiq/git/commits{/sha}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/comments{/number}","issue_comment_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/comments{/number}","contents_url":"https://api.github.com/repos/sidekiq/sidekiq/contents/{+path}","compare_url":"https://api.github.com/repos/sidekiq/sidekiq/compare/{base}...{head}","merges_url":"https://api.github.com/repos/sidekiq/sidekiq/merges","archive_url":"https://api.github.com/repos/sidekiq/sidekiq/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/sidekiq/sidekiq/downloads","issues_url":"https://api.github.com/repos/sidekiq/sidekiq/issues{/number}","pulls_url":"https://api.github.com/repos/sidekiq/sidekiq/pulls{/number}","milestones_url":"https://api.github.com/repos/sidekiq/sidekiq/milestones{/number}","notifications_url":"https://api.github.com/repos/sidekiq/sidekiq/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/labels{/name}","releases_url":"https://api.github.com/repos/sidekiq/sidekiq/releases{/id}","deployments_url":"https://api.github.com/repos/sidekiq/sidekiq/deployments","created_at":"2012-01-16T23:17:27Z","updated_at":"2025-11-09T20:20:41Z","pushed_at":"2025-11-07T17:29:44Z","git_url":"git://github.com/sidekiq/sidekiq.git","ssh_url":"git@github.com:sidekiq/sidekiq.git","clone_url":"https://github.com/sidekiq/sidekiq.git","svn_url":"https://github.com/sidekiq/sidekiq","homepage":"https://sidekiq.org","size":14680,"stargazers_count":13447,"watchers_count":13447,"language":"Ruby","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":2471,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":40,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["background-jobs","jobs","ruby","sidekiq"],"visibility":"public","forks":2471,"open_issues":40,"watchers":13447,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Ruby version: 3.3.0\r\nRails version: 6.1.7.7\r\nsidekiq (7.2.4)\r\nexception_notification (4.5.0)\r\n\r\nmy sidekiq config \r\n```\r\nurl_hash = {url: \"#{ENV[\"REDIS_TLS_URL\"]}/0\", ssl_params: { verify_mode: OpenSSL::SSL::VERIFY_NONE }, timeout: 3}\r\n\r\n  Sidekiq.configure_server do |config|\r\n    config.redis = url_hash\r\n  end\r\n\r\n  Sidekiq.configure_client do |config|\r\n    config.redis = url_hash\r\n  end\r\n```\r\nmy exception notifier gem config \r\n```\r\nrequire 'exception_notification/rails'\r\nrequire 'exception_notification/sidekiq'\r\n\r\nExceptionNotification.configure do |config|\r\n  config.ignored_exceptions += %w{Net::SMTPSyntaxError}\r\n  config.ignore_if do |exception, options|\r\n    not Rails.env.production?\r\n  end\r\n\r\n  config.ignore_crawlers %w{Googlebot bingbot}\r\n  config.error_grouping = true\r\n\r\n  config.add_notifier :email, {\r\n    email_prefix: \"[Sidekiq Exception] \",\r\n    sender_address: %{\"no-reply\" <no-reply@mydomain.com>},\r\n    exception_recipients: %w{myemail@mydomain.com},\r\n  }\r\nend\r\n```\r\n\r\nMy app is on heroku but when sidekiq exception is happening, I got this DEPRECATION message. \r\n```\r\nDEPRECATION: Sidekiq exception handlers now take three arguments, see #<Proc:0x00007efde8a1f7b0 /app/vendor/bundle/ruby/3.3.0/gems/exception_notification-4.5.0/lib/exception_notification/sidekiq.rb:25\r\n```\r\n\r\nI searched and I guess that is from this line in Sidekiq \r\nhttps://github.com/sidekiq/sidekiq/blob/636b4fd36786f27969b1551737e8540eb78c1c4d/lib/sidekiq/config.rb#L278\r\n          \r\nI found also this issue and it is resolved but I have still this problem. \r\nhttps://github.com/sidekiq/sidekiq/issues/6065\r\n\r\nI would greatly appreciate any information anyone can provide about this issue.","reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6357/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6357/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"}]