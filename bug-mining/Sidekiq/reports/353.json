{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6778","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6778/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6778/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6778/events","html_url":"https://github.com/sidekiq/sidekiq/issues/6778","id":3300385495,"node_id":"I_kwDOADDA9M7Et-LX","number":6778,"title":"Logs are colorized regardless of colorized_logging setting","user":{"login":"knightq","id":157528,"node_id":"MDQ6VXNlcjE1NzUyOA==","avatar_url":"https://avatars.githubusercontent.com/u/157528?v=4","gravatar_id":"","url":"https://api.github.com/users/knightq","html_url":"https://github.com/knightq","followers_url":"https://api.github.com/users/knightq/followers","following_url":"https://api.github.com/users/knightq/following{/other_user}","gists_url":"https://api.github.com/users/knightq/gists{/gist_id}","starred_url":"https://api.github.com/users/knightq/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/knightq/subscriptions","organizations_url":"https://api.github.com/users/knightq/orgs","repos_url":"https://api.github.com/users/knightq/repos","events_url":"https://api.github.com/users/knightq/events{/privacy}","received_events_url":"https://api.github.com/users/knightq/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-08-07T12:50:10Z","updated_at":"2025-08-07T22:31:45Z","closed_at":"2025-08-07T22:31:21Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"With [this recent change](https://github.com/sidekiq/sidekiq/commit/69fbfec097631cf536edb9c1b5e25ce0005428d3#diff-4b21ac0af44dd61654e41fe70e857785cf96a82c222ada536c3d812be0101452), Sidekiq introduced pretty coloured logs in terminal with the addition of the ANSI colors.\n\nThat's awesome in development mode, but it can become annoying in non terminal context such as DataDog log traces, where the ANSI color codes are not decoder and rendered as colors.\n\nIt would be better that Sidekiq could respect the Rails configuration about log colouring, that is:\n```ruby\nconfig.active_record.colorize_logging = false\n```\n\n---\n\n## Steps to reproduce\n  1. Make as new Rails app\n  2. add `config.colorize_logging = false` to `config/environments/development.rb`\n  3. Start Sidekiq\n  4. Look at the logs\n\n## Expected behavior\nLog messages issued by sidekiq should respect the `colorize_logging` value in general, or in this case, not colorize its log output.\n\n## Actual behavior\nLog messasges are colorized.\n\n## System configuration\n\n  - sidekiq version: `8.0.6`\n  - Ruby on Rails version: `7.2.2.1`\n  - Ruby version: `3.3.9`\n\n## Note\nEven if it wouldn't be possible / acceptable to link the behaviour to that Rails config, please consider however a config option / settable env var to turn the colouring off.","closed_by":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6778/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/6778/timeline","performed_via_github_app":null,"state_reason":"completed"}