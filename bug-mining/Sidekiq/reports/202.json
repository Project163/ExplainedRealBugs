{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3672","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3672/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3672/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3672/events","html_url":"https://github.com/sidekiq/sidekiq/issues/3672","id":275805395,"node_id":"MDU6SXNzdWUyNzU4MDUzOTU=","number":3672,"title":"Config file keys inconsistent types","user":{"login":"dpogue","id":241708,"node_id":"MDQ6VXNlcjI0MTcwOA==","avatar_url":"https://avatars.githubusercontent.com/u/241708?v=4","gravatar_id":"","url":"https://api.github.com/users/dpogue","html_url":"https://github.com/dpogue","followers_url":"https://api.github.com/users/dpogue/followers","following_url":"https://api.github.com/users/dpogue/following{/other_user}","gists_url":"https://api.github.com/users/dpogue/gists{/gist_id}","starred_url":"https://api.github.com/users/dpogue/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dpogue/subscriptions","organizations_url":"https://api.github.com/users/dpogue/orgs","repos_url":"https://api.github.com/users/dpogue/repos","events_url":"https://api.github.com/users/dpogue/events{/privacy}","received_events_url":"https://api.github.com/users/dpogue/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2017-11-21T17:54:27Z","updated_at":"2017-12-02T21:37:33Z","closed_at":"2017-12-02T21:37:33Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Ruby version: 2.4.1\r\nSidekiq / Pro / Enterprise version(s): 5.0.5\r\n\r\nIt is confusing and error-prone for the sidekiq config file to require a mix of string keys and symbol keys. It currently appears that options need to be symbol keys, but environment groups need to be string keys.\r\nI ran into issues with my workers yesterday when setting up a new project because of `queues:` vs `:queues:` in config/sidekiq.yml.\r\n\r\nRails config files tend to use strings everywhere in the Yaml, and then load as a HashWithIndifferentAccess. I don't necessarily think we want to depend on ActiveSupport for that, but other options might include `Hash#deep_symbolize_keys` or `Hash#deep_stringify_keys` and always doing hash lookups with a consistent type.\r\n","closed_by":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3672/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3672/timeline","performed_via_github_app":null,"state_reason":"completed"}