{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/1023","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/1023/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/1023/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/1023/events","html_url":"https://github.com/sidekiq/sidekiq/issues/1023","id":15929154,"node_id":"MDU6SXNzdWUxNTkyOTE1NA==","number":1023,"title":"bug @ clear workers list","user":{"login":"plentz","id":4867,"node_id":"MDQ6VXNlcjQ4Njc=","avatar_url":"https://avatars.githubusercontent.com/u/4867?v=4","gravatar_id":"","url":"https://api.github.com/users/plentz","html_url":"https://github.com/plentz","followers_url":"https://api.github.com/users/plentz/followers","following_url":"https://api.github.com/users/plentz/following{/other_user}","gists_url":"https://api.github.com/users/plentz/gists{/gist_id}","starred_url":"https://api.github.com/users/plentz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plentz/subscriptions","organizations_url":"https://api.github.com/users/plentz/orgs","repos_url":"https://api.github.com/users/plentz/repos","events_url":"https://api.github.com/users/plentz/events{/privacy}","received_events_url":"https://api.github.com/users/plentz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2013-06-24T14:59:51Z","updated_at":"2014-03-18T22:42:10Z","closed_at":"2013-06-24T17:31:19Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"sidekiq (2.12.4)\nredis (3.0.4)\n\n```\nArgumentError - wrong number of arguments (89 for 2):\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/redis-3.0.4/lib/redis.rb:1179:in `srem'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sidekiq-2.12.4/lib/sidekiq/web.rb:44:in `block in reset_worker_list'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/connection_pool-1.1.0/lib/connection_pool.rb:49:in `with'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sidekiq-2.12.4/lib/sidekiq.rb:67:in `redis'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sidekiq-2.12.4/lib/sidekiq/web.rb:42:in `reset_worker_list'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sidekiq-2.12.4/lib/sidekiq/web.rb:176:in `block in <class:Web>'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1541:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1541:in `block in compile!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:950:in `[]'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:950:in `block (3 levels) in route!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:966:in `route_eval'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/agent/instrumentation/sinatra.rb:133:in `route_eval_with_newrelic'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:950:in `block (2 levels) in route!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:987:in `block in process_route'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:985:in `catch'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:985:in `process_route'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/agent/instrumentation/sinatra.rb:116:in `process_route_with_newrelic'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:948:in `block in route!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:947:in `each'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:947:in `route!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1059:in `block in dispatch!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1041:in `block in invoke'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1041:in `catch'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1041:in `invoke'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1056:in `dispatch!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/agent/instrumentation/sinatra.rb:151:in `dispatch_and_notice_errors_with_newrelic'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/agent/instrumentation/sinatra.rb:146:in `block in dispatch_with_newrelic'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/agent/instrumentation/controller_instrumentation.rb:318:in `perform_action_with_newrelic_trace'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/agent/instrumentation/sinatra.rb:143:in `dispatch_with_newrelic'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:882:in `block in call!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1041:in `block in invoke'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1041:in `catch'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1041:in `invoke'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:882:in `call!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:870:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/rack/error_collector.rb:12:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/rack/browser_monitoring.rb:16:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/rack/agent_hooks.rb:22:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-protection-1.5.0/lib/rack/protection/xss_header.rb:18:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-protection-1.5.0/lib/rack/protection/path_traversal.rb:16:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-protection-1.5.0/lib/rack/protection/json_csrf.rb:18:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-protection-1.5.0/lib/rack/protection/base.rb:49:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-protection-1.5.0/lib/rack/protection/frame_options.rb:31:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/nulllogger.rb:9:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/head.rb:9:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:175:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1949:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1449:in `block in call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1726:in `synchronize'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/sinatra-1.4.3/lib/sinatra/base.rb:1449:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/routing/mapper.rb:42:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/journey-1.0.4/lib/journey/router.rb:68:in `block in call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/journey-1.0.4/lib/journey/router.rb:56:in `each'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/journey-1.0.4/lib/journey/router.rb:56:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/routing/route_set.rb:612:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/rack/error_collector.rb:12:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/rack/agent_hooks.rb:22:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/newrelic_rpm-3.6.4.122/lib/new_relic/rack/browser_monitoring.rb:16:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/exception_notification-3.0.1/lib/exception_notifier.rb:41:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/warden-1.2.1/lib/warden/manager.rb:35:in `block in call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/warden-1.2.1/lib/warden/manager.rb:34:in `catch'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/warden-1.2.1/lib/warden/manager.rb:34:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/best_standards_support.rb:17:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/etag.rb:23:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/conditionalget.rb:35:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/head.rb:14:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/params_parser.rb:21:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/flash.rb:242:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/session/abstract/id.rb:210:in `context'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/session/abstract/id.rb:205:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/cookies.rb:341:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.13/lib/active_record/query_cache.rb:64:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/activerecord-3.2.13/lib/active_record/connection_adapters/abstract/connection_pool.rb:479:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/callbacks.rb:28:in `block in call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:405:in `_run__574316176__call__26393082__callbacks'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:405:in `__run_callback'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:385:in `_run_call_callbacks'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/activesupport-3.2.13/lib/active_support/callbacks.rb:81:in `run_callbacks'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/callbacks.rb:27:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/sendfile.rb:102:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/remote_ip.rb:31:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/debug_exceptions.rb:16:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/show_exceptions.rb:56:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/railties-3.2.13/lib/rails/rack/logger.rb:32:in `call_app'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/railties-3.2.13/lib/rails/rack/logger.rb:16:in `block in call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/activesupport-3.2.13/lib/active_support/tagged_logging.rb:22:in `tagged'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/railties-3.2.13/lib/rails/rack/logger.rb:16:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/actionpack-3.2.13/lib/action_dispatch/middleware/request_id.rb:22:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/methodoverride.rb:21:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/runtime.rb:17:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/activesupport-3.2.13/lib/active_support/cache/strategy/local_cache.rb:72:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-1.4.5/lib/rack/lock.rb:15:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-ssl-1.3.3/lib/rack/ssl.rb:27:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:136:in `forward'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:143:in `pass'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:155:in `invalidate'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:71:in `call!'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/rack-cache-1.2/lib/rack/cache/context.rb:51:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/railties-3.2.13/lib/rails/engine.rb:479:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/railties-3.2.13/lib/rails/application.rb:223:in `call'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/railties-3.2.13/lib/rails/railtie/configurable.rb:30:in `method_missing'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/unicorn-4.6.2/lib/unicorn/http_server.rb:552:in `process_client'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/unicorn-4.6.2/lib/unicorn/http_server.rb:632:in `worker_loop'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/unicorn-4.6.2/lib/unicorn/http_server.rb:500:in `spawn_missing_workers'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/unicorn-4.6.2/lib/unicorn/http_server.rb:142:in `start'\n    /var/www/foo/shared/bundle/ruby/2.0.0/gems/unicorn-4.6.2/bin/unicorn:126:in `<top (required)>'\n    /var/www/foo/shared/bundle/ruby/2.0.0/bin/unicorn:23:in `load'\n    /var/www/foo/shared/bundle/ruby/2.0.0/bin/unicorn:23:in `<main>'\n```\n","closed_by":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/1023/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/1023/timeline","performed_via_github_app":null,"state_reason":"completed"}