{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3717","repository_url":"https://api.github.com/repos/sidekiq/sidekiq","labels_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3717/labels{/name}","comments_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3717/comments","events_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3717/events","html_url":"https://github.com/sidekiq/sidekiq/issues/3717","id":287864454,"node_id":"MDU6SXNzdWUyODc4NjQ0NTQ=","number":3717,"title":"Have the Sidekiq process die if startup fails","user":{"login":"agrobbin","id":46724,"node_id":"MDQ6VXNlcjQ2NzI0","avatar_url":"https://avatars.githubusercontent.com/u/46724?v=4","gravatar_id":"","url":"https://api.github.com/users/agrobbin","html_url":"https://github.com/agrobbin","followers_url":"https://api.github.com/users/agrobbin/followers","following_url":"https://api.github.com/users/agrobbin/following{/other_user}","gists_url":"https://api.github.com/users/agrobbin/gists{/gist_id}","starred_url":"https://api.github.com/users/agrobbin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/agrobbin/subscriptions","organizations_url":"https://api.github.com/users/agrobbin/orgs","repos_url":"https://api.github.com/users/agrobbin/repos","events_url":"https://api.github.com/users/agrobbin/events{/privacy}","received_events_url":"https://api.github.com/users/agrobbin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2018-01-11T17:34:33Z","updated_at":"2018-01-11T17:45:24Z","closed_at":"2018-01-11T17:38:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Ruby version: 2.5.0\r\nSidekiq 5.0.5 / Pro 3.5.4 / Ent 1.6.1\r\n\r\nIf Redis happens to be unavailable at startup time of the `sidekiq` process, currently, something like this will happen:\r\n\r\n```\r\n2018-01-08T01:20:21.218Z 1 TID-gq1xn1frs DEBUG: ReliablePush activated\r\n2018-01-08T01:20:21.222Z 1 TID-gq1xn1frs INFO: Booting Sidekiq 5.0.5 with redis options {:namespace=>nil, :id=>\"Sidekiq-server-PID-1\", :url=>\"redis://[redacted]:6379\"}\r\n2018-01-08T01:20:33.053Z 1 TID-gq1xn1frs WARN: {\"context\":\"Exception during Sidekiq lifecycle event.\",\"event\":\"startup\"}\r\n2018-01-08T01:20:33.053Z 1 TID-gq1xn1frs WARN: SocketError: getaddrinfo: Name or service not known\r\n2018-01-08T01:20:33.053Z 1 TID-gq1xn1frs WARN: /app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/connection/ruby.rb:229:in `getaddrinfo'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/connection/ruby.rb:229:in `connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/connection/ruby.rb:313:in `connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:336:in `establish_connection'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:101:in `block in connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:293:in `with_reconnect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:100:in `connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/newrelic_rpm-4.5.0.337/lib/new_relic/agent/instrumentation/redis.rb:105:in `connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:364:in `ensure_connected'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:221:in `block in process'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:306:in `logging'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:220:in `process'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:120:in `call'\r\n/app/vendor/bundle/ruby/2.3.0/gems/newrelic_rpm-4.5.0.337/lib/new_relic/agent/instrumentation/redis.rb:69:in `call'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis.rb:1398:in `block in smembers'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis.rb:58:in `block in synchronize'\r\n/app/vendor/ruby-2.3.3/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis.rb:58:in `synchronize'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis.rb:1397:in `smembers'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:128:in `block in listen_for_pauses'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq.rb:95:in `block in redis'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:64:in `block (2 levels) in with'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:63:in `handle_interrupt'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:63:in `block in with'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:60:in `handle_interrupt'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:60:in `with'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq.rb:92:in `redis'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:127:in `listen_for_pauses'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:337:in `block (2 levels) in <top (required)>'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:54:in `block in fire_event'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:52:in `each'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:52:in `fire_event'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/cli.rb:92:in `run'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/bin/sidekiq:12:in `<top (required)>'\r\n/app/vendor/bundle/ruby/2.3.0/bin/sidekiq:22:in `load'\r\n/app/vendor/bundle/ruby/2.3.0/bin/sidekiq:22:in `<top (required)>'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/cli/exec.rb:74:in `load'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/cli/exec.rb:74:in `kernel_load'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/cli/exec.rb:27:in `run'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/cli.rb:332:in `exec'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/vendor/thor/lib/thor/command.rb:27:in `run'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/vendor/thor/lib/thor/invocation.rb:126:in `invoke_command'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/vendor/thor/lib/thor.rb:359:in `dispatch'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/cli.rb:20:in `dispatch'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/vendor/thor/lib/thor/base.rb:440:in `start'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/cli.rb:11:in `start'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/exe/bundle:34:in `block in <top (required)>'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/lib/bundler/friendly_errors.rb:100:in `with_friendly_errors'\r\n/app/vendor/bundle/ruby/2.3.0/gems/bundler-1.13.7/exe/bundle:26:in `<top (required)>'\r\n/app/bin/bundle:3:in `load'\r\n/app/bin/bundle:3:in `<main>'\r\n2018-01-08T01:20:43.060Z 1 TID-gq1yrgak0 WARN: {\"context\":\"senate\"}\r\n2018-01-08T01:20:43.060Z 1 TID-gq1yrgak0 WARN: SocketError: getaddrinfo: Name or service not known\r\n2018-01-08T01:20:43.061Z 1 TID-gq1yrgak0 WARN: /app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/connection/ruby.rb:229:in `getaddrinfo'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/connection/ruby.rb:229:in `connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/connection/ruby.rb:313:in `connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:336:in `establish_connection'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:101:in `block in connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:293:in `with_reconnect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:100:in `connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/newrelic_rpm-4.5.0.337/lib/new_relic/agent/instrumentation/redis.rb:105:in `connect'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:364:in `ensure_connected'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:221:in `block in process'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:306:in `logging'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:220:in `process'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis/client.rb:120:in `call'\r\n/app/vendor/bundle/ruby/2.3.0/gems/newrelic_rpm-4.5.0.337/lib/new_relic/agent/instrumentation/redis.rb:69:in `call'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis.rb:752:in `block in set'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis.rb:58:in `block in synchronize'\r\n/app/vendor/ruby-2.3.3/lib/ruby/2.3.0/monitor.rb:214:in `mon_synchronize'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis.rb:58:in `synchronize'\r\n/app/vendor/bundle/ruby/2.3.0/gems/redis-3.3.5/lib/redis.rb:750:in `set'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-ent-1.6.1/lib/sidekiq-ent/senate.rb:88:in `block in stage_coup!'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq.rb:95:in `block in redis'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:64:in `block (2 levels) in with'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:63:in `handle_interrupt'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:63:in `block in with'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:60:in `handle_interrupt'\r\n/app/vendor/bundle/ruby/2.3.0/gems/connection_pool-2.2.1/lib/connection_pool.rb:60:in `with'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq.rb:92:in `redis'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-ent-1.6.1/lib/sidekiq-ent/senate.rb:87:in `stage_coup!'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-ent-1.6.1/lib/sidekiq-ent/senate.rb:99:in `cycle'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n/app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.073Z 1 TID-gq1xn1frs WARN: getaddrinfo: Name or service not known\r\n2018-01-08T01:20:53.115Z 1 TID-gq1yrlfdc ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.116Z 1 TID-gq1yrlfdc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.116Z 1 TID-gq1yrlfdc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.142Z 1 TID-gq1yrlfdc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.142Z 1 TID-gq1yrlfdc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.142Z 1 TID-gq1yrlfdc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.142Z 1 TID-gq1yrlfdc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.143Z 1 TID-gq1yrlfdc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.145Z 1 TID-oxi6lzjko ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.145Z 1 TID-oxi6lzjko ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.145Z 1 TID-oxi6lzjko ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.145Z 1 TID-oxi6lzjko ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.145Z 1 TID-oxi6lzjko ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.145Z 1 TID-oxi6lzjko ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.145Z 1 TID-oxi6lzjko ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.145Z 1 TID-oxi6lzjko ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.147Z 1 TID-oxi6lzik0 ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.147Z 1 TID-oxi6lzik0 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.147Z 1 TID-oxi6lzik0 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.147Z 1 TID-oxi6lzik0 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.147Z 1 TID-oxi6lzik0 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.147Z 1 TID-oxi6lzik0 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.147Z 1 TID-oxi6lzik0 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.147Z 1 TID-oxi6lzik0 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.148Z 1 TID-oxi6lzg0c ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.149Z 1 TID-oxi6lzg0c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.149Z 1 TID-oxi6lzg0c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.149Z 1 TID-oxi6lzg0c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.149Z 1 TID-oxi6lzg0c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.149Z 1 TID-oxi6lzg0c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.149Z 1 TID-oxi6lzg0c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.149Z 1 TID-oxi6lzg0c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.150Z 1 TID-oxi6lzidw ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.150Z 1 TID-oxi6lzidw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.150Z 1 TID-oxi6lzidw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.151Z 1 TID-oxi6lzidw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.151Z 1 TID-oxi6lzidw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.151Z 1 TID-oxi6lzidw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.151Z 1 TID-oxi6lzidw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.151Z 1 TID-oxi6lzidw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.153Z 1 TID-oxi6lzhvk ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.153Z 1 TID-oxi6lzhvk ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.153Z 1 TID-oxi6lzhvk ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.153Z 1 TID-oxi6lzhvk ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.153Z 1 TID-oxi6lzhvk ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.153Z 1 TID-oxi6lzhvk ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.153Z 1 TID-oxi6lzhvk ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.153Z 1 TID-oxi6lzhvk ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.155Z 1 TID-oxi6lziw8 ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.155Z 1 TID-oxi6lziw8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.155Z 1 TID-oxi6lziw8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.155Z 1 TID-oxi6lziw8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.155Z 1 TID-oxi6lziw8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.155Z 1 TID-oxi6lziw8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.155Z 1 TID-oxi6lziw8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.155Z 1 TID-oxi6lziw8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.157Z 1 TID-oxi6lzgio ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.157Z 1 TID-oxi6lzgio ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.157Z 1 TID-oxi6lzgio ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.157Z 1 TID-oxi6lzgio ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.157Z 1 TID-oxi6lzgio ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.157Z 1 TID-oxi6lzgio ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.157Z 1 TID-oxi6lzgio ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.157Z 1 TID-oxi6lzgio ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.158Z 1 TID-oxi6lzj2c ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.158Z 1 TID-oxi6lzj2c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.159Z 1 TID-oxi6lzj2c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.159Z 1 TID-oxi6lzj2c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.159Z 1 TID-oxi6lzj2c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.159Z 1 TID-oxi6lzj2c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.159Z 1 TID-oxi6lzj2c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.159Z 1 TID-oxi6lzj2c ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.161Z 1 TID-oxi6lzfu8 ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.161Z 1 TID-oxi6lzfu8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.161Z 1 TID-oxi6lzfu8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.161Z 1 TID-oxi6lzfu8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.161Z 1 TID-oxi6lzfu8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.161Z 1 TID-oxi6lzfu8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.161Z 1 TID-oxi6lzfu8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.161Z 1 TID-oxi6lzfu8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.163Z 1 TID-oxi6lzguw ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.163Z 1 TID-oxi6lzguw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.163Z 1 TID-oxi6lzguw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.163Z 1 TID-oxi6lzguw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.163Z 1 TID-oxi6lzguw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.163Z 1 TID-oxi6lzguw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.163Z 1 TID-oxi6lzguw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.163Z 1 TID-oxi6lzguw ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.165Z 1 TID-oxi6lzhjc ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.165Z 1 TID-oxi6lzhjc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.167Z 1 TID-oxi6lzi1o ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.168Z 1 TID-oxi6lzjek ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.170Z 1 TID-oxi6lziq4 ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.171Z 1 TID-oxi6lzh74 ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.173Z 1 TID-oxi6lzh10 ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.174Z 1 TID-oxi6lzgos ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.176Z 1 TID-oxi6lzg6g ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.177Z 1 TID-oxi6lzj8g ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.179Z 1 TID-oxi6lzgck ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.181Z 1 TID-oxi6lzhpg ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzhpg ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.183Z 1 TID-oxi6lzhjc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.185Z 1 TID-oxi6lzi7s ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.187Z 1 TID-oxi6lzfo4 ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.187Z 1 TID-oxi6lzi1o ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.187Z 1 TID-oxi6lzjek ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.187Z 1 TID-oxi6lziq4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.187Z 1 TID-oxi6lzh74 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lzh74 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.187Z 1 TID-oxi6lzgos ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.187Z 1 TID-oxi6lzg6g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lzg6g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzj8g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzhpg ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lzhpg ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.183Z 1 TID-oxi6lzhd8 ERROR: Error fetching job: undefined method `retrieve_work' for nil:NilClass\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzi7s ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzfo4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzi1o ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzjek ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lziq4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.187Z 1 TID-oxi6lzh10 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lzh74 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lzgos ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lzg6g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzg6g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzg6g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lzhpg ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzhjc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lzhd8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lzi7s ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lzfo4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lzi1o ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lzjek ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lziq4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lzh10 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lzh74 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.190Z 1 TID-oxi6lzgos ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.189Z 1 TID-oxi6lzj8g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzg6g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.188Z 1 TID-oxi6lzgck ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-pro-3.5.4/lib/sidekiq/pro/super_fetch.rb:32:in `retrieve_work'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzhpg ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzhjc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzhd8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzi7s ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzfo4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzi1o ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lzjek ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.191Z 1 TID-oxi6lziq4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzh10 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzh74 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzgos ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzj8g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzg6g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzgck ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:91:in `get_one'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzhpg ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzhjc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.192Z 1 TID-oxi6lzhd8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzi7s ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzfo4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzi1o ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzjek ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lziq4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzh10 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzh74 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzgos ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzj8g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.193Z 1 TID-oxi6lzgck ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:101:in `fetch'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzhpg ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzhjc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzhd8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzi7s ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzfo4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzi1o ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzjek ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lziq4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzh10 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.194Z 1 TID-oxi6lzh74 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzgos ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzj8g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzgck ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:84:in `process_one'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzhjc ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzhd8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzi7s ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzfo4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzi1o ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lzjek ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.195Z 1 TID-oxi6lziq4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.196Z 1 TID-oxi6lzh10 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.196Z 1 TID-oxi6lzgos ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.196Z 1 TID-oxi6lzj8g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.196Z 1 TID-oxi6lzgck ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/processor.rb:73:in `run'\r\n2018-01-08T01:20:53.196Z 1 TID-oxi6lzhd8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.196Z 1 TID-oxi6lzi7s ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.196Z 1 TID-oxi6lzfo4 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.196Z 1 TID-oxi6lzh10 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.197Z 1 TID-oxi6lzj8g ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.197Z 1 TID-oxi6lzgck ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:16:in `watchdog'\r\n2018-01-08T01:20:53.197Z 1 TID-oxi6lzhd8 ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n2018-01-08T01:20:53.197Z 1 TID-oxi6lzgck ERROR: /app/vendor/bundle/ruby/2.3.0/gems/sidekiq-5.0.5/lib/sidekiq/util.rb:25:in `block in safe_thread'\r\n```\r\n\r\nEach supporting thread (Senate election, period job scheduling, job processing, etc.) raises an exception, but the master `sidekiq` process continues to survive, not being able to process any work sitting in the queue(s).\r\n\r\nWe've run into issues with this in production, with our Kubernetes cluster not knowing that the `sidekiq` process has effectively died and needs to be restarted.","closed_by":{"login":"mperham","id":2911,"node_id":"MDQ6VXNlcjI5MTE=","avatar_url":"https://avatars.githubusercontent.com/u/2911?v=4","gravatar_id":"","url":"https://api.github.com/users/mperham","html_url":"https://github.com/mperham","followers_url":"https://api.github.com/users/mperham/followers","following_url":"https://api.github.com/users/mperham/following{/other_user}","gists_url":"https://api.github.com/users/mperham/gists{/gist_id}","starred_url":"https://api.github.com/users/mperham/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/mperham/subscriptions","organizations_url":"https://api.github.com/users/mperham/orgs","repos_url":"https://api.github.com/users/mperham/repos","events_url":"https://api.github.com/users/mperham/events{/privacy}","received_events_url":"https://api.github.com/users/mperham/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3717/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/sidekiq/sidekiq/issues/3717/timeline","performed_via_github_app":null,"state_reason":"completed"}