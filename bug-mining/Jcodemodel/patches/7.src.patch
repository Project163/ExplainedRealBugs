diff --git a/src/main/java/com/helger/jcodemodel/JPackage.java b/src/main/java/com/helger/jcodemodel/JPackage.java
index d8167b7a..ad2f11dc 100644
--- a/src/main/java/com/helger/jcodemodel/JPackage.java
+++ b/src/main/java/com/helger/jcodemodel/JPackage.java
@@ -146,6 +146,8 @@ public class JPackage implements IJDeclaration, IJGenerable, IJClassContainer, I
       return null;
 
     final int idx = m_sName.lastIndexOf ('.');
+    if (idx < 0)
+      return null;
     return m_aOwner._package (m_sName.substring (0, idx));
   }
 
@@ -183,7 +185,9 @@ public class JPackage implements IJDeclaration, IJGenerable, IJClassContainer, I
   }
 
   @Nonnull
-  public JDefinedClass _class (final int nMods, @Nonnull final String sName, @Nonnull final EClassType eClassType) throws JClassAlreadyExistsException
+  public JDefinedClass _class (final int nMods,
+                               @Nonnull final String sName,
+                               @Nonnull final EClassType eClassType) throws JClassAlreadyExistsException
   {
     if (m_aClasses.containsKey (sName))
       throw new JClassAlreadyExistsException (m_aClasses.get (sName));
@@ -267,7 +271,8 @@ public class JPackage implements IJDeclaration, IJGenerable, IJClassContainer, I
    *            When the specified class/interface was already created.
    */
   @Nonnull
-  public JDefinedClass _annotationTypeDeclaration (final int mods, @Nonnull final String name) throws JClassAlreadyExistsException
+  public JDefinedClass _annotationTypeDeclaration (final int mods,
+                                                   @Nonnull final String name) throws JClassAlreadyExistsException
   {
     return _class (mods, name, EClassType.ANNOTATION_TYPE_DECL);
   }
@@ -369,8 +374,8 @@ public class JPackage implements IJDeclaration, IJGenerable, IJClassContainer, I
   public void remove (@Nonnull final AbstractJClass c)
   {
     if (c._package () != this)
-      throw new IllegalArgumentException ("the specified class is not a member of this package,"
-                                          + " or it is a referenced class");
+      throw new IllegalArgumentException ("the specified class is not a member of this package," +
+                                          " or it is a referenced class");
 
     // note that c may not be a member of classes.
     // this happens when someone is trying to remove a non generated class
@@ -607,7 +612,8 @@ public class JPackage implements IJDeclaration, IJGenerable, IJClassContainer, I
   }
 
   @Nonnull
-  private JFormatter _createJavaSourceFileWriter (@Nonnull final AbstractCodeWriter src, @Nonnull final String className) throws IOException
+  private JFormatter _createJavaSourceFileWriter (@Nonnull final AbstractCodeWriter src,
+                                                  @Nonnull final String className) throws IOException
   {
     final Writer bw = new BufferedWriter (src.openSource (this, className + ".java"));
     return new JFormatter (new PrintWriter (bw));
diff --git a/src/test/java/com/helger/jcodemodel/JPackageTest.java b/src/test/java/com/helger/jcodemodel/JPackageTest.java
new file mode 100644
index 00000000..70ba7a52
--- /dev/null
+++ b/src/test/java/com/helger/jcodemodel/JPackageTest.java
@@ -0,0 +1,70 @@
+/**
+ * DO NOT ALTER OR REMOVE COPYRIGHT NOTICES OR THIS HEADER.
+ *
+ * Copyright (c) 1997-2010 Oracle and/or its affiliates. All rights reserved.
+ * Portions Copyright 2013-2015 Philip Helger
+ *
+ * The contents of this file are subject to the terms of either the GNU
+ * General Public License Version 2 only ("GPL") or the Common Development
+ * and Distribution License("CDDL") (collectively, the "License").  You
+ * may not use this file except in compliance with the License.  You can
+ * obtain a copy of the License at
+ * https://glassfish.dev.java.net/public/CDDL+GPL_1_1.html
+ * or packager/legal/LICENSE.txt.  See the License for the specific
+ * language governing permissions and limitations under the License.
+ *
+ * When distributing the software, include this License Header Notice in each
+ * file and include the License file at packager/legal/LICENSE.txt.
+ *
+ * GPL Classpath Exception:
+ * Oracle designates this particular file as subject to the "Classpath"
+ * exception as provided by Oracle in the GPL Version 2 section of the License
+ * file that accompanied this code.
+ *
+ * Modifications:
+ * If applicable, add the following below the License Header, with the fields
+ * enclosed by brackets [] replaced by your own identifying information:
+ * "Portions Copyright [year] [name of copyright owner]"
+ *
+ * Contributor(s):
+ * If you wish your version of this file to be governed by only the CDDL or
+ * only the GPL Version 2, indicate your decision by adding "[Contributor]
+ * elects to include this software in this distribution under the [CDDL or GPL
+ * Version 2] license."  If you don't indicate a single choice of license, a
+ * recipient has the option to distribute your version of this file under
+ * either the CDDL, the GPL Version 2 or to extend the choice of license to
+ * its licensees as provided above.  However, if you add GPL Version 2 code
+ * and therefore, elected the GPL Version 2 license, then the option applies
+ * only if the new code is made subject to such option by the copyright
+ * holder.
+ */
+package com.helger.jcodemodel;
+
+import static org.junit.Assert.assertNotNull;
+import static org.junit.Assert.assertNull;
+
+import org.junit.Test;
+
+/**
+ * {@link JPackage} tests.
+ */
+public final class JPackageTest
+{
+  @Test
+  public void testGetParent () throws Exception
+  {
+    // Create JCodeModel
+    final JCodeModel wModel = new JCodeModel ();
+
+    // Reflect into class
+    final AbstractJClass wClass = wModel.ref (JExpr.class);
+
+    // Walk up to the root package
+    JPackage wCurrentPackage = wClass._package ();
+    while (wCurrentPackage.parent () != null)
+      wCurrentPackage = wCurrentPackage.parent ();
+
+    assertNotNull (wCurrentPackage);
+    assertNull (wCurrentPackage.parent ());
+  }
+}
