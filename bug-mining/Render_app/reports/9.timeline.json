[{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703712086","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-703712086","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":703712086,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcxMjA4Ng==","user":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T15:36:29Z","updated_at":"2020-10-05T15:36:29Z","body":"The \"collection\" is the persisted container or grouping of a set of match data.  It does not need to exist prior to generation, but will (presumably) get populated by the generation process.  Can you post the full usage error message you are seeing and the full command line for the call to the SIFTPointMatchClient?  My best guess is that some required option (marked with asterisk in usage message) is missing from your call.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703712086/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703713799","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-703713799","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":703713799,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcxMzc5OQ==","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T15:39:20Z","updated_at":"2020-10-05T15:39:20Z","body":"Hi Eric,\r\n\r\nthis is all the output I get:\r\n\r\n```\r\n$ /g/emcf/software/spark-3.0.0-bin-hadoop3.2/bin/spark-submit --class org.janelia.render.client.spark.SIFTPointMatchClient /g/emcf/software/render/render-ws-spark-client/target/render-ws-spark-client-2.1.1-SNAPSHOT-standalone.jar --baseDataUrl http://pc-emcf-16.embl.de:8080/render-ws/v1 --owner test --pairJson /g/emcf/schorb/tile_pairs_test1_mipmap_z_21900_to_22300_dist_0.json --SIFTfdSize 8 --SIFTminScale 0.38 --SIFTmaxScale 0.82 --SIFTsteps 3 --matchRod 0.9 --matchMaxEpsilon 20.0 --matchMinInlierRatio 0.0 --matchMinNumInliers 8 --matchMaxNumInliers 200 --maxFeatureCacheGb 1 --renderScale 0.3 --collection test123\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/g/emcf/software/spark-3.0.0-bin-hadoop3.2/jars/spark-unsafe_2.12-3.0.0.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n20/10/05 17:13:38 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nlog4j:WARN No appenders could be found for logger (org.janelia.render.client.ClientRunner).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\nUsage: java -cp <render-module>-standalone.jar \r\n      org.janelia.render.client.spark.SIFTPointMatchClient [options]\r\n  Options:\r\n  * --pairJson\r\n      JSON file where tile pairs are stored (.json, .gz, or .zip)\r\n    --SIFTfdSize\r\n      SIFT feature descriptor size: how many samples per row and column\r\n      Default: 8\r\n    --SIFTmaxScale\r\n      SIFT maximum scale: minSize * minScale < size < maxSize * maxScale\r\n      Default: 0.85\r\n    --SIFTminScale\r\n      SIFT minimum scale: minSize * minScale < size < maxSize * maxScale\r\n      Default: 0.5\r\n    --SIFTsteps\r\n      SIFT steps per scale octave\r\n      Default: 3\r\n  * --baseDataUrl\r\n      Base web service URL for data (e.g. http://host[:port]/render-ws/v1)\r\n    --clipHeight\r\n      Number of full scale pixels to include in rendered clips of TOP/BOTTOM \r\n      oriented montage tiles\r\n    --clipWidth\r\n      Number of full scale pixels to include in rendered clips of LEFT/RIGHT \r\n      oriented montage tiles\r\n  * --collection\r\n      Match collection name\r\n    --expectedParallelism\r\n      Fail immediately if Spark Context parallelism does not match this value\r\n    --fillWithNoise\r\n      Fill each canvas image with noise before rendering to improve point \r\n      match derivation\r\n      Default: true\r\n    --help\r\n      Display this note\r\n    --matchFilter\r\n      Identifies if and how matches should be filtered\r\n      Default: SINGLE_SET\r\n      Possible Values: [NONE, SINGLE_SET, CONSENSUS_SETS, AGGREGATED_CONSENSUS_SETS]\r\n    --matchInterpolatedModelLambda\r\n      Lambda for interpolated match filtering (omit for standard filtering)\r\n    --matchIterations\r\n      Match filter iterations\r\n      Default: 1000\r\n    --matchMaxEpsilon\r\n      Minimal allowed transfer error for match filtering\r\n      Default: 20.0\r\n    --matchMaxNumInliers\r\n      Maximum number of inliers for match filtering\r\n    --matchMaxTrust\r\n      Reject match candidates with a cost larger than maxTrust * median cost\r\n      Default: 3.0\r\n    --matchMinInlierRatio\r\n      Minimal ratio of inliers to candidates for match filtering\r\n      Default: 0.0\r\n    --matchMinNumInliers\r\n      Minimal absolute number of inliers for match filtering\r\n      Default: 4\r\n    --matchModelType\r\n      Type of model for match filtering\r\n      Default: AFFINE\r\n      Possible Values: [TRANSLATION, RIGID, SIMILARITY, AFFINE]\r\n    --matchRegularizerModelType\r\n      Type of regularizer model for interpolated match filtering (omit for \r\n      standard filtering)\r\n      Possible Values: [TRANSLATION, RIGID, SIMILARITY, AFFINE]\r\n    --matchRod\r\n      Ratio of distances for matches\r\n      Default: 0.92\r\n    --maxFeatureCacheGb\r\n      Maximum number of gigabytes of features to cache\r\n      Default: 2\r\n  * --owner\r\n      Match collection owner\r\n    --renderFilterListName\r\n      Apply this filter list to all rendering (overrides renderWithFilter \r\n      option) \r\n    --renderFullScaleHeight\r\n      Full scale height for all rendered tiles\r\n    --renderFullScaleWidth\r\n      Full scale width for all rendered tiles\r\n    --renderScale\r\n      Render tiles at this scale\r\n      Default: 1.0\r\n    --renderWithFilter\r\n      Render tiles using default ad-hoc filter for intensity correction\r\n      Default: true\r\n    --renderWithoutMask\r\n      Render tiles without a mask\r\n      Default: true\r\n    --requireStoredFeatures\r\n      indicates that an exception should be thrown when stored features cannot \r\n      be found (if omitted, missing features are extracted from dynamically \r\n      rendered canvases)\r\n      Default: false\r\n    --rootFeatureDirectory\r\n      Root directory for saved feature lists (omit if features should be \r\n      extracted from dynamically rendered canvases)\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703713799/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703714474","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-703714474","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":703714474,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcxNDQ3NA==","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T15:40:30Z","updated_at":"2020-10-05T15:40:30Z","body":"looks exactly the same whether with or without the `collection` argument.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703714474/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703717090","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-703717090","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":703717090,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcxNzA5MA==","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T15:44:55Z","updated_at":"2020-10-05T15:44:55Z","body":"The Tile Pair File looks reasonable to me:\r\n\r\n```\r\n$ cat /g/emcf/schorb/tile_pairs_test1_mipmap_z_21900_to_22300_dist_0.json\r\n{\r\n  \"renderParametersUrlTemplate\" : \"{baseDataUrl}/owner/test/project/RENDERmodule_TEST/stack/test1_mipmap/tile/{id}/render-parameters\",\r\n  \"neighborPairs\" : [\r\n    {\r\n      \"p\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0012.00442\",\r\n        \"relativePosition\" : \"LEFT\"\r\n      },\r\n      \"q\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0013.00442\",\r\n        \"relativePosition\" : \"RIGHT\"\r\n      }\r\n    },\r\n    {\r\n      \"p\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0013.00442\",\r\n        \"relativePosition\" : \"TOP\"\r\n      },\r\n      \"q\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0021.00442\",\r\n        \"relativePosition\" : \"BOTTOM\"\r\n      }\r\n    },\r\n    {\r\n      \"p\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0013.00442\",\r\n        \"relativePosition\" : \"LEFT\"\r\n      },\r\n      \"q\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0014.00442\",\r\n        \"relativePosition\" : \"RIGHT\"\r\n      }\r\n    },\r\n    {\r\n      \"p\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0014.00442\",\r\n        \"relativePosition\" : \"TOP\"\r\n      },\r\n      \"q\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0022.00442\",\r\n        \"relativePosition\" : \"BOTTOM\"\r\n      }\r\n    },\r\n    {\r\n      \"p\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0021.00442\",\r\n        \"relativePosition\" : \"TOP\"\r\n      },\r\n      \"q\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0029.00442\",\r\n        \"relativePosition\" : \"BOTTOM\"\r\n      }\r\n    },\r\n    {\r\n      \"p\" : {\r\n        \"groupId\" : \"442\",\r\n        \"id\" : \"0000.0021.00442\",\r\n        \"relativePosition\" : \"LEFT\"\r\n      },\r\n\r\n\r\n    ...\r\n\r\n\r\n      \"p\" : {\r\n        \"groupId\" : \"450\",\r\n        \"id\" : \"0000.0037.00450\",\r\n        \"relativePosition\" : \"LEFT\"\r\n      },\r\n      \"q\" : {\r\n        \"groupId\" : \"450\",\r\n        \"id\" : \"0000.0038.00450\",\r\n        \"relativePosition\" : \"RIGHT\"\r\n      }\r\n    },\r\n    {\r\n      \"p\" : {\r\n        \"groupId\" : \"450\",\r\n        \"id\" : \"0000.0038.00450\",\r\n        \"relativePosition\" : \"TOP\"\r\n      },\r\n      \"q\" : {\r\n        \"groupId\" : \"450\",\r\n        \"id\" : \"0000.0046.00450\",\r\n        \"relativePosition\" : \"BOTTOM\"\r\n      }\r\n    }\r\n  ]\r\n}","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703717090/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703720222","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-703720222","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":703720222,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzcyMDIyMg==","user":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-05T15:50:01Z","updated_at":"2020-10-05T15:50:01Z","body":"Hi Martin,\r\n\r\nYeah - everything looks ok to me at first glance.  I'll take a closer look later today to see if I can determine what might be wrong.  One possibility is that we at Janelia (and likely the Allen too) are using older Spark versions (2.1.0 at Janelia).  I'll post here if/when I learn more ...\r\n\r\n--Eric","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703720222/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703965220","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-703965220","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":703965220,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMzk2NTIyMA==","user":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T00:48:22Z","updated_at":"2020-10-06T00:48:22Z","body":"Hi Martin,\r\n\r\nI tried poking at this a little and haven't had any luck.  The usage message you got does not contain any specific error (which you should get) before listing the usage details.   Your message looks like \"--help\" is getting inserted somewhere in the args, but I don't see that.  Are you running this through the Allen Institute's python script or directly from the command line?  If it's the former, can you try running from the command line and truncating everything after \"--owner test\"? \r\n\r\n```\r\nsoftware/spark-3.0.0-bin-hadoop3.2/bin/spark-submit \\\r\n  --class org.janelia.render.client.spark.SIFTPointMatchClient \\\r\n  $SPARK_SCRIPTDIR/target/render-ws-spark-client-2.1.1-SNAPSHOT-standalone.jar \\\r\n  --baseDataUrl http://pc-emcf-16.embl.de:8080/render-ws/v1 \\\r\n  --owner test\r\n```\r\n\r\nMy hope is that you'll see an error message like:\r\n\r\n```\r\nERROR: failed to parse command line arguments\r\nThe following options are required: [--pairJson], [--collection]\r\n```\r\n\r\nIf that works (by failing properly), try running the full command from the command line next.\r\n\r\nLet me know what you learn.  \r\nI think you might run into other problems related to the newer Spark version if/when you get past this first issue - but I'll try to keep things positive for now :).\r\n\r\n--Eric\r\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/703965220/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704065443","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-704065443","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":704065443,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDA2NTQ0Mw==","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T06:41:15Z","updated_at":"2020-10-06T06:41:15Z","body":"Hi Eric,\r\n\r\nI tried a few more things:\r\n\r\n- Java 8 vs. 11: same result\r\n- Truncated command as suggested: same result\r\n- When I run the command without an active Spark session or point it to a nonsense server `spark-submit --master spark://junk.com ...`, it also fails the exact same way. This means something is wrong with the connection to spark...\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704065443/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704076374","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-704076374","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":704076374,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDA3NjM3NA==","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T07:06:18Z","updated_at":"2020-10-06T07:06:18Z","body":"- tried spark 2.4.7: same result\r\n\r\nTried the spark example class (without a valid spark instance) and get:\r\n```\r\n$ spark-3.0.0-bin-hadoop3.2/bin/spark-submit   --class org.apache.spark.examples.SparkPi   --master spark://junk.embl.de:7070 spark-3.0.0-bin-hadoop3.2/examples/jars/spark-examples_2.12-3.0.0.jar 100\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/g/emcf/software/spark-3.0.0-bin-hadoop3.2/jars/spark-unsafe_2.12-3.0.0.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n20/10/06 08:59:59 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nUsing Spark's default log4j profile: org/apache/spark/log4j-defaults.properties\r\n20/10/06 08:59:59 INFO SparkContext: Running Spark version 3.0.0\r\n20/10/06 08:59:59 INFO ResourceUtils: ==============================================================\r\n20/10/06 08:59:59 INFO ResourceUtils: Resources for spark.driver:\r\n\r\n20/10/06 08:59:59 INFO ResourceUtils: ==============================================================\r\n20/10/06 08:59:59 INFO SparkContext: Submitted application: Spark Pi\r\n20/10/06 08:59:59 INFO SecurityManager: Changing view acls to: schorb\r\n20/10/06 08:59:59 INFO SecurityManager: Changing modify acls to: schorb\r\n20/10/06 08:59:59 INFO SecurityManager: Changing view acls groups to: \r\n20/10/06 08:59:59 INFO SecurityManager: Changing modify acls groups to: \r\n20/10/06 08:59:59 INFO SecurityManager: SecurityManager: authentication disabled; ui acls disabled; users  with view permissions: Set(schorb); groups with view permissions: Set(); users  with modify permissions: Set(schorb); groups with modify permissions: Set()\r\n20/10/06 09:00:00 INFO Utils: Successfully started service 'sparkDriver' on port 4193.\r\n20/10/06 09:00:00 INFO SparkEnv: Registering MapOutputTracker\r\n20/10/06 09:00:00 INFO SparkEnv: Registering BlockManagerMaster\r\n20/10/06 09:00:00 INFO BlockManagerMasterEndpoint: Using org.apache.spark.storage.DefaultTopologyMapper for getting topology information\r\n20/10/06 09:00:00 INFO BlockManagerMasterEndpoint: BlockManagerMasterEndpoint up\r\n20/10/06 09:00:00 INFO SparkEnv: Registering BlockManagerMasterHeartbeat\r\n20/10/06 09:00:00 INFO DiskBlockManager: Created local directory at /tmp/blockmgr-aa376d26-ef42-4321-9fbe-345e15492250\r\n20/10/06 09:00:00 INFO MemoryStore: MemoryStore started with capacity 434.4 MiB\r\n20/10/06 09:00:00 INFO SparkEnv: Registering OutputCommitCoordinator\r\n20/10/06 09:00:00 INFO Utils: Successfully started service 'SparkUI' on port 4040.\r\n20/10/06 09:00:00 INFO SparkUI: Bound SparkUI to 0.0.0.0, and started at http://login.cluster.embl.de:4040\r\n20/10/06 09:00:00 INFO SparkContext: Added JAR file:/g/emcf/software/spark-3.0.0-bin-hadoop3.2/examples/jars/spark-examples_2.12-3.0.0.jar at spark://login.cluster.embl.de:4193/jars/spark-examples_2.12-3.0.0.jar with timestamp 1601967600752\r\n20/10/06 09:00:01 INFO StandaloneAppClient$ClientEndpoint: Connecting to master spark://junk.embl.de:7070...\r\n20/10/06 09:00:01 WARN StandaloneAppClient$ClientEndpoint: Failed to connect to master junk.embl.de:7070\r\norg.apache.spark.SparkException: Exception thrown in awaitResult: \r\n\tat org.apache.spark.util.ThreadUtils$.awaitResult(ThreadUtils.scala:302)\r\n\tat org.apache.spark.rpc.RpcTimeout.awaitResult(RpcTimeout.scala:75)\r\n...\r\n```\r\n\r\nwith a very stripped down command to just try to start spark:\r\n\r\n```\r\n$ /g/emcf/software/spark-3.0.0-bin-hadoop3.2/bin/spark-submit --class org.janelia.render.client.spark.SIFTPointMatchClient --master spark://junk.embl.de:7070 /g/emcf/software/render/render-ws-spark-client/target/render-ws-spark-client-2.1.1-SNAPSHOT-standalone.jar\r\nWARNING: An illegal reflective access operation has occurred\r\nWARNING: Illegal reflective access by org.apache.spark.unsafe.Platform (file:/g/emcf/software/spark-3.0.0-bin-hadoop3.2/jars/spark-unsafe_2.12-3.0.0.jar) to constructor java.nio.DirectByteBuffer(long,int)\r\nWARNING: Please consider reporting this to the maintainers of org.apache.spark.unsafe.Platform\r\nWARNING: Use --illegal-access=warn to enable warnings of further illegal reflective access operations\r\nWARNING: All illegal access operations will be denied in a future release\r\n20/10/06 09:04:00 WARN NativeCodeLoader: Unable to load native-hadoop library for your platform... using builtin-java classes where applicable\r\nlog4j:WARN No appenders could be found for logger (org.janelia.render.client.ClientRunner).\r\nlog4j:WARN Please initialize the log4j system properly.\r\nlog4j:WARN See http://logging.apache.org/log4j/1.2/faq.html#noconfig for more info.\r\n\r\nUsage: java -cp <render-module>-standalone.jar \r\n      org.janelia.render.client.spark.SIFTPointMatchClient [options]\r\n  Options:\r\n\r\n...\r\n```\r\nSo the first difference is `log4j` and then it does not seem to start the spark submission at all.\r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704076374/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T10:50:43Z","updated_at":"2020-10-06T10:50:43Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues/232","repository_url":"https://api.github.com/repos/AllenInstitute/asap-modules","labels_url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues/232/labels{/name}","comments_url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues/232/comments","events_url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues/232/events","html_url":"https://github.com/AllenInstitute/asap-modules/issues/232","id":715559250,"node_id":"MDU6SXNzdWU3MTU1NTkyNTA=","number":232,"title":"Workflow progress guide","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-10-06T10:50:42Z","updated_at":"2022-01-20T15:58:40Z","closed_at":"2022-01-20T15:58:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":101199597,"node_id":"MDEwOlJlcG9zaXRvcnkxMDExOTk1OTc=","name":"asap-modules","full_name":"AllenInstitute/asap-modules","private":false,"owner":{"login":"AllenInstitute","id":1848392,"node_id":"MDEyOk9yZ2FuaXphdGlvbjE4NDgzOTI=","avatar_url":"https://avatars.githubusercontent.com/u/1848392?v=4","gravatar_id":"","url":"https://api.github.com/users/AllenInstitute","html_url":"https://github.com/AllenInstitute","followers_url":"https://api.github.com/users/AllenInstitute/followers","following_url":"https://api.github.com/users/AllenInstitute/following{/other_user}","gists_url":"https://api.github.com/users/AllenInstitute/gists{/gist_id}","starred_url":"https://api.github.com/users/AllenInstitute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AllenInstitute/subscriptions","organizations_url":"https://api.github.com/users/AllenInstitute/orgs","repos_url":"https://api.github.com/users/AllenInstitute/repos","events_url":"https://api.github.com/users/AllenInstitute/events{/privacy}","received_events_url":"https://api.github.com/users/AllenInstitute/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/AllenInstitute/asap-modules","description":"Shared repo for EM connectomics and Array Tomography render based image processing modules ","fork":false,"url":"https://api.github.com/repos/AllenInstitute/asap-modules","forks_url":"https://api.github.com/repos/AllenInstitute/asap-modules/forks","keys_url":"https://api.github.com/repos/AllenInstitute/asap-modules/keys{/key_id}","collaborators_url":"https://api.github.com/repos/AllenInstitute/asap-modules/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/AllenInstitute/asap-modules/teams","hooks_url":"https://api.github.com/repos/AllenInstitute/asap-modules/hooks","issue_events_url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues/events{/number}","events_url":"https://api.github.com/repos/AllenInstitute/asap-modules/events","assignees_url":"https://api.github.com/repos/AllenInstitute/asap-modules/assignees{/user}","branches_url":"https://api.github.com/repos/AllenInstitute/asap-modules/branches{/branch}","tags_url":"https://api.github.com/repos/AllenInstitute/asap-modules/tags","blobs_url":"https://api.github.com/repos/AllenInstitute/asap-modules/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/AllenInstitute/asap-modules/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/AllenInstitute/asap-modules/git/refs{/sha}","trees_url":"https://api.github.com/repos/AllenInstitute/asap-modules/git/trees{/sha}","statuses_url":"https://api.github.com/repos/AllenInstitute/asap-modules/statuses/{sha}","languages_url":"https://api.github.com/repos/AllenInstitute/asap-modules/languages","stargazers_url":"https://api.github.com/repos/AllenInstitute/asap-modules/stargazers","contributors_url":"https://api.github.com/repos/AllenInstitute/asap-modules/contributors","subscribers_url":"https://api.github.com/repos/AllenInstitute/asap-modules/subscribers","subscription_url":"https://api.github.com/repos/AllenInstitute/asap-modules/subscription","commits_url":"https://api.github.com/repos/AllenInstitute/asap-modules/commits{/sha}","git_commits_url":"https://api.github.com/repos/AllenInstitute/asap-modules/git/commits{/sha}","comments_url":"https://api.github.com/repos/AllenInstitute/asap-modules/comments{/number}","issue_comment_url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues/comments{/number}","contents_url":"https://api.github.com/repos/AllenInstitute/asap-modules/contents/{+path}","compare_url":"https://api.github.com/repos/AllenInstitute/asap-modules/compare/{base}...{head}","merges_url":"https://api.github.com/repos/AllenInstitute/asap-modules/merges","archive_url":"https://api.github.com/repos/AllenInstitute/asap-modules/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/AllenInstitute/asap-modules/downloads","issues_url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues{/number}","pulls_url":"https://api.github.com/repos/AllenInstitute/asap-modules/pulls{/number}","milestones_url":"https://api.github.com/repos/AllenInstitute/asap-modules/milestones{/number}","notifications_url":"https://api.github.com/repos/AllenInstitute/asap-modules/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/AllenInstitute/asap-modules/labels{/name}","releases_url":"https://api.github.com/repos/AllenInstitute/asap-modules/releases{/id}","deployments_url":"https://api.github.com/repos/AllenInstitute/asap-modules/deployments","created_at":"2017-08-23T16:03:12Z","updated_at":"2025-10-26T04:59:39Z","pushed_at":"2025-10-09T21:59:02Z","git_url":"git://github.com/AllenInstitute/asap-modules.git","ssh_url":"git@github.com:AllenInstitute/asap-modules.git","clone_url":"https://github.com/AllenInstitute/asap-modules.git","svn_url":"https://github.com/AllenInstitute/asap-modules","homepage":"https://asap-modules.readthedocs.io/","size":118838,"stargazers_count":16,"watchers_count":16,"language":"Python","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":false,"forks_count":5,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":17,"license":{"key":"bsd-2-clause","name":"BSD 2-Clause \"Simplified\" License","spdx_id":"BSD-2-Clause","url":"https://api.github.com/licenses/bsd-2-clause","node_id":"MDc6TGljZW5zZTQ="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":5,"open_issues":17,"watchers":16,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Dear all,\r\n\r\nwe are using this module as a basis to build alignment and registration work flows for volume SEM data.\r\n\r\nWhat we succeeded in so far:\r\n\r\n- conversion of acquisition metadata to render\r\n- stack and mipmap creation\r\n- create tile pairs\r\n- creation of SIFT point matches (despite some [problems](https://github.com/saalfeldlab/render/issues/107) with the client script and spark)\r\n\r\nNow, I am stuck in what to do next. Do you, by any chance, have a chart or protocol of what step/tool to use when? Maybe it is part of the module's doc, but I could not find it...\r\n\r\nAt this point, I am looking for the tool to apply the SIFT-based alignment to each montage slice. I checked [pairwise_rigid_rough.py](https://github.com/AllenInstitute/render-modules/blob/master/rendermodules/rough_align/pairwise_rigid_rough.py), but this seems to expect matching tile pairs across slices, which I don't have yet. Is there another module for this? Or would these be created by the SIFT point match routines, and something went wrong there?\r\n\r\nIs there a good tool to explore the point match collection(s) to check where things have worked or gone wrong?\r\n\r\nThanks!\r\n\r\n","reactions":{"url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues/232/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/AllenInstitute/asap-modules/issues/232/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704250870","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-704250870","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":704250870,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDI1MDg3MA==","user":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T12:58:26Z","updated_at":"2020-10-06T12:58:26Z","body":"This looks like a problem with the newer Spark version.  This morning I used https://hub.docker.com/r/bitnami/spark/ to test running with Spark 3.0.1 and I got the same error as you.  When I reverted to Spark 2.4.3 (the earliest version available from bitnami), I got the correct error message.  I'll spend some time investigating what has changed with Spark to see if I can determine what is really going wrong.  I'll also check to see how difficult it is to install (much) older Spark.  As I mentioned earlier, we are using 2.1.0 at Janelia.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704250870/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704369248","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-704369248","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":704369248,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDM2OTI0OA==","user":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T15:49:09Z","updated_at":"2020-10-06T15:49:09Z","body":"This \"worked\" for me:\r\n\r\n```\r\n$ curl --output spark-2.4.7-bin-hadoop2.7.tgz https://archive.apache.org/dist/spark/spark-2.4.7/spark-2.4.7-bin-hadoop2.7.tgz\r\n \r\n$ tar xzf spark-2.4.7-bin-hadoop2.7.tgz\r\n\r\n$ java -version\r\njava version \"1.8.0_241\"\r\nJava(TM) SE Runtime Environment (build 1.8.0_241-b07)\r\nJava HotSpot(TM) 64-Bit Server VM (build 25.241-b07, mixed mode)\r\n\r\n$ spark-2.4.7-bin-hadoop2.7/bin/spark-submit --class org.janelia.render.client.spark.SIFTPointMatchClient /Users/trautmane/projects/git/render/render-ws-spark-client/target/render-ws-spark-client-2.3.1-SNAPSHOT-standalone.jar --baseDataUrl http://pc-emcf-16.embl.de:8080/render-ws/v1 --owner test --pairJson /g/emcf/schorb/tile_pairs_test1_mipmap_z_21900_to_22300_dist_0.json --SIFTfdSize 8 --SIFTminScale 0.38 --SIFTmaxScale 0.82 --SIFTsteps 3 --matchRod 0.9 --matchMaxEpsilon 20.0 --matchMinInlierRatio 0.0 --matchMinNumInliers 8 --matchMaxNumInliers 200 --maxFeatureCacheGb 1 --renderScale 0.3 --collection test123\r\n...\r\n20/10/06 11:35:53 INFO SparkContext: Running Spark version 2.4.7\r\n20/10/06 11:35:53 INFO SparkContext: Submitted application: SIFTPointMatchClient\r\n...\r\n20/10/06 11:35:55 INFO SIFTPointMatchClient: run: appId is local-1601998554456, executors data is [ {\r\n  \"id\" : \"driver\",\r\n  ...\r\n  \"blacklistedInStages\" : [ ]\r\n} ]\r\n20/10/06 11:35:55 INFO SIFTPointMatchClient: generateMatchesForPairFile: pairJsonFileName is /g/emcf/schorb/tile_pairs_test1_mipmap_z_21900_to_22300_dist_0.json\r\n20/10/06 11:35:55 INFO RenderableCanvasIdPairs: load: entry, path=/g/emcf/schorb/tile_pairs_test1_mipmap_z_21900_to_22300_dist_0.json\r\n20/10/06 11:35:55 ERROR ClientRunner: run: caught exception\r\njava.io.FileNotFoundException: /g/emcf/schorb/tile_pairs_test1_mipmap_z_21900_to_22300_dist_0.json (No such file or directory)\r\n\tat java.io.FileInputStream.open0(Native Method)\r\n\t...\r\n20/10/06 11:35:55 INFO ClientRunner: run: exit, processing failed after 0 hours, 0 minutes, 1 seconds\r\n20/10/06 11:35:55 INFO SparkContext: Invoking stop() from shutdown hook\r\n```\r\n\r\nIf you try this and get different results, the only other thing I can think of is that you aren't running with the java version you think you are.\r\n","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704369248/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3847141100,"node_id":"MDExOkNsb3NlZEV2ZW50Mzg0NzE0MTEwMA==","url":"https://api.github.com/repos/saalfeldlab/render/issues/events/3847141100","actor":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"30c8620e3d01650f9dde74f0e7078f932ec04198","commit_url":"https://api.github.com/repos/saalfeldlab/render/commits/30c8620e3d01650f9dde74f0e7078f932ec04198","created_at":"2020-10-06T19:10:48Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704503538","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-704503538","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":704503538,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDUwMzUzOA==","user":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-06T19:26:36Z","updated_at":"2020-10-06T19:26:36Z","body":"Hi Martin,\r\nI found and fixed the source of this problem.  The key was first to:\r\n`cp spark-3.0.1-bin-hadoop2.7/conf/log4j.properties.template spark-3.0.1-bin-hadoop2.7/conf/log4j.properties`\r\nwhich got log4j working and revealed a jackson lib runtime error that was previously hidden from us.\r\nSpark 3.0.1 includes jackson 2.11.0 whereas render was built with jackson 2.6.7.\r\nI was able to fix the immediate problem with https://github.com/saalfeldlab/render/commit/30c8620e3d01650f9dde74f0e7078f932ec04198 which works in both old and new jackson versions.  I'm going to look at upgrading jackson and spark next, but that will take more time because I need to do more involved testing.  I'm interested to see how far you are able to get just with this one change.\r\n--Eric","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704503538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704795854","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-704795854","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":704795854,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDc5NTg1NA==","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T08:58:10Z","updated_at":"2020-10-07T08:58:10Z","body":"Fun fact:\r\n\r\nI now see the help output during the maven build for pretty much all classes. Is this intentional...?\r\n\r\n```\r\n...\r\n\r\n[INFO] Running org.janelia.render.client.spark.BoxRemovalClientTest\r\n\r\nUsage: java -cp <render-module>-standalone.jar \r\n      org.janelia.render.client.spark.BoxRemovalClient [options]\r\n  Options:\r\n  * --baseDataUrl\r\n      Base web service URL for data (e.g. http://host[:port]/render-ws/v1)\r\n    --help\r\n      Display this note\r\n    --maxLevel\r\n      Maximum mipmap level to remove (values > 8 will also delete small \r\n      overview images)\r\n      Default: 9\r\n    --maxZ\r\n      Maximum Z value for layers to be processed\r\n    --minLevel\r\n      Minimum mipmap level to remove\r\n      Default: 0\r\n    --minZ\r\n      Minimum Z value for layers to be processed\r\n  * --owner\r\n      Stack owner\r\n  * --project\r\n      Stack project\r\n  * --stack\r\n      Stack name\r\n  * --stackDirectory\r\n      Stack directory containing boxes to remove (e.g. \r\n      /tier2/flyTEM/nobackup/rendered_boxes/FAFB00/v7_align_tps/8192x8192) \r\n\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.004 s - in org.janelia.render.client.spark.BoxRemovalClientTest\r\n[INFO] Running org.janelia.render.client.spark.HierarchicalAlignmentClientTest\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0 s - in org.janelia.render.client.spark.HierarchicalAlignmentClientTest\r\n[INFO] Running org.janelia.render.client.spark.SIFTPointMatchClientTest\r\n\r\nUsage: java -cp <render-module>-standalone.jar \r\n      org.janelia.render.client.spark.SIFTPointMatchClient [options]\r\n  Options:\r\n  * --pairJson\r\n      JSON file where tile pairs are stored (.json, .gz, or .zip)\r\n    --SIFTfdSize\r\n      SIFT feature descriptor size: how many samples per row and column\r\n      Default: 8\r\n    --SIFTmaxScale\r\n      SIFT maximum scale: minSize * minScale < size < maxSize * maxScale\r\n      Default: 0.85\r\n    --SIFTminScale\r\n      SIFT minimum scale: minSize * minScale < size < maxSize * maxScale\r\n      Default: 0.5\r\n    --SIFTsteps\r\n      SIFT steps per scale octave\r\n      Default: 3\r\n  * --baseDataUrl\r\n      Base web service URL for data (e.g. http://host[:port]/render-ws/v1)\r\n    --clipHeight\r\n      Number of full scale pixels to include in rendered clips of TOP/BOTTOM \r\n      oriented montage tiles\r\n    --clipWidth\r\n      Number of full scale pixels to include in rendered clips of LEFT/RIGHT \r\n      oriented montage tiles\r\n  * --collection\r\n      Match collection name\r\n    --expectedParallelism\r\n      Fail immediately if Spark Context parallelism does not match this value\r\n    --fillWithNoise\r\n      Fill each canvas image with noise before rendering to improve point \r\n      match derivation\r\n      Default: true\r\n    --help\r\n      Display this note\r\n    --matchFilter\r\n      Identifies if and how matches should be filtered\r\n      Default: SINGLE_SET\r\n      Possible Values: [NONE, SINGLE_SET, CONSENSUS_SETS, AGGREGATED_CONSENSUS_SETS]\r\n    --matchInterpolatedModelLambda\r\n      Lambda for interpolated match filtering (omit for standard filtering)\r\n    --matchIterations\r\n      Match filter iterations\r\n      Default: 1000\r\n    --matchMaxEpsilon\r\n      Minimal allowed transfer error for match filtering\r\n      Default: 20.0\r\n    --matchMaxNumInliers\r\n      Maximum number of inliers for match filtering\r\n    --matchMaxTrust\r\n      Reject match candidates with a cost larger than maxTrust * median cost\r\n      Default: 3.0\r\n    --matchMinInlierRatio\r\n      Minimal ratio of inliers to candidates for match filtering\r\n      Default: 0.0\r\n    --matchMinNumInliers\r\n      Minimal absolute number of inliers for match filtering\r\n      Default: 4\r\n    --matchModelType\r\n      Type of model for match filtering\r\n      Default: AFFINE\r\n      Possible Values: [TRANSLATION, RIGID, SIMILARITY, AFFINE]\r\n    --matchRegularizerModelType\r\n      Type of regularizer model for interpolated match filtering (omit for \r\n      standard filtering)\r\n      Possible Values: [TRANSLATION, RIGID, SIMILARITY, AFFINE]\r\n    --matchRod\r\n      Ratio of distances for matches\r\n      Default: 0.92\r\n    --maxFeatureCacheGb\r\n      Maximum number of gigabytes of features to cache\r\n      Default: 2\r\n  * --owner\r\n      Match collection owner\r\n    --renderFilterListName\r\n      Apply this filter list to all rendering (overrides renderWithFilter \r\n      option) \r\n    --renderFullScaleHeight\r\n      Full scale height for all rendered tiles\r\n    --renderFullScaleWidth\r\n      Full scale width for all rendered tiles\r\n    --renderScale\r\n      Render tiles at this scale\r\n      Default: 1.0\r\n    --renderWithFilter\r\n      Render tiles using default ad-hoc filter for intensity correction\r\n      Default: true\r\n    --renderWithoutMask\r\n      Render tiles without a mask\r\n      Default: true\r\n    --requireStoredFeatures\r\n      indicates that an exception should be thrown when stored features cannot \r\n      be found (if omitted, missing features are extracted from dynamically \r\n      rendered canvases)\r\n      Default: false\r\n    --rootFeatureDirectory\r\n      Root directory for saved feature lists (omit if features should be \r\n      extracted from dynamically rendered canvases)\r\n\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.025 s - in org.janelia.render.client.spark.SIFTPointMatchClientTest\r\n[INFO] Running org.janelia.render.client.spark.BoxClientTest\r\n\r\nUsage: java -cp <render-module>-standalone.jar \r\n      org.janelia.render.client.spark.BoxClient [options]\r\n  Options:\r\n  * --baseDataUrl\r\n      Base web service URL for data (e.g. http://host[:port]/render-ws/v1)\r\n    --binaryMask\r\n      use binary mask (e.g. for DMG data)\r\n      Default: false\r\n    --createIGrid\r\n      create an IGrid file\r\n      Default: false\r\n    --doFilter\r\n      Use ad hoc filter to support alignment\r\n      Default: false\r\n    --filterListName\r\n      Apply this filter list to all rendering (overrides doFilter option)\r\n    --forceGeneration\r\n      Regenerate boxes even if they already exist\r\n      Default: false\r\n    --format\r\n      Format for rendered boxes\r\n      Default: png\r\n  * --height\r\n      Height of each box\r\n    --help\r\n      Display this note\r\n    --label\r\n      Generate single color tile labels instead of actual tile images\r\n      Default: false\r\n    --maxLevel\r\n      Maximum mipmap level to generate\r\n      Default: 0\r\n    --maxOverviewWidthAndHeight\r\n      Max width and height of layer overview image (omit or set to zero to \r\n      disable overview generation)\r\n    --maxZ\r\n      Maximum Z value for layers to be processed\r\n    --minZ\r\n      Minimum Z value for layers to be processed\r\n    --numberOfRenderGroups\r\n      Total number of parallel jobs being used to render this layer (omit if \r\n      only one job is being used)\r\n  * --owner\r\n      Stack owner\r\n  * --project\r\n      Stack project\r\n    --renderGroup\r\n      Index (1-n) that identifies portion of layer to render (omit if only one \r\n      job is being used)\r\n  * --rootDirectory\r\n      Root directory for rendered tiles (e.g. \r\n      /tier2/flyTEM/nobackup/rendered_boxes) \r\n    --skipInterpolation\r\n      skip interpolation (e.g. for DMG data)\r\n      Default: false\r\n    --sortByClusterGroupId\r\n      Sort tile specs by cluster groupId so that larger clusters are rendered \r\n      on top of smaller clusters\r\n      Default: false\r\n  * --stack\r\n      Stack name\r\n  * --width\r\n      Width of each box\r\n    --z\r\n      Explicit z values for sections to be rendered\r\n\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.008 s - in org.janelia.render.client.spark.BoxClientTest\r\n[INFO] Running org.janelia.render.client.spark.DMeshPointMatchClientTest\r\n\r\nUsage: java -cp <render-module>-standalone.jar \r\n      org.janelia.render.client.spark.DMeshPointMatchClient [options]\r\n  Options:\r\n  * --pairJson\r\n      JSON file where tile pairs are stored (.json, .gz, or .zip)\r\n  * --baseDataUrl\r\n      Base web service URL for data (e.g. http://host[:port]/render-ws/v1)\r\n  * --collection\r\n      Match collection name\r\n    --dMeshLogToolOutput\r\n      Log DMesh tool output even when processing is successful\r\n      Default: false\r\n    --dMeshParameters\r\n      File containing DMesh parameters\r\n      Default: /groups/flyTEM/flyTEM/match/dmesh/matchparams.txt\r\n    --dMeshScript\r\n      Script for launching DMesh\r\n      Default: /groups/flyTEM/flyTEM/match/dmesh/run_ptest.sh\r\n    --fillWithNoise\r\n      Fill each canvas image with noise before rendering to improve point \r\n      match derivation\r\n      Default: true\r\n    --format\r\n      Format for rendered canvases ('jpg', 'png', 'tif')\r\n      Default: png\r\n    --help\r\n      Display this note\r\n    --imageCacheParentDirectory\r\n      Parent directory for cached (rendered) canvases\r\n      Default: /dev/shm\r\n    --maxImageCacheGb\r\n      Maximum number of gigabytes of DMesh images to cache\r\n      Default: 20\r\n  * --owner\r\n      Match collection owner\r\n    --renderFilterListName\r\n      Apply this filter list to all rendering (overrides renderWithFilter \r\n      option) \r\n    --renderFullScaleHeight\r\n      Full scale height for all rendered tiles\r\n    --renderFullScaleWidth\r\n      Full scale width for all rendered tiles\r\n    --renderScale\r\n      Render tiles at this scale\r\n      Default: 1.0\r\n    --renderWithFilter\r\n      Render tiles using default ad-hoc filter for intensity correction\r\n      Default: true\r\n    --renderWithoutMask\r\n      Render tiles without a mask\r\n      Default: true\r\n\r\n[INFO] Tests run: 1, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.007 s - in org.janelia.render.client.spark.DMeshPointMatchClientTest\r\n\r\n...\r\n\r\n```","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704795854/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704857859","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-704857859","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":704857859,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDg1Nzg1OQ==","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T10:55:56Z","updated_at":"2020-10-07T10:55:56Z","body":"Confirm that it works for me now with both spark 2.4.7 and 3.0.0.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704857859/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704989284","html_url":"https://github.com/saalfeldlab/render/issues/107#issuecomment-704989284","issue_url":"https://api.github.com/repos/saalfeldlab/render/issues/107","id":704989284,"node_id":"MDEyOklzc3VlQ29tbWVudDcwNDk4OTI4NA==","user":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-07T14:50:26Z","updated_at":"2020-10-07T14:50:26Z","body":"To answer your question about the help output: yes, it is intentional.  That output comes from the automated unit tests that are run as part of the maven build process.  Automated testing of the command line clients is actually much more limited than I would like - but I at least try to invoke the parameter help code for each client.  Here is the code for the first test you noticed above: https://github.com/saalfeldlab/render/blob/master/render-ws-java-client/src/test/java/org/janelia/render/client/BoxRemovalClientTest.java ","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/comments/704989284/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":11921061321,"node_id":"REFE_lADOARhNOM4qnRG9zwAAAALGjPXJ","url":"https://api.github.com/repos/saalfeldlab/render/issues/events/11921061321","actor":{"login":"RussTorres","id":7576514,"node_id":"MDQ6VXNlcjc1NzY1MTQ=","avatar_url":"https://avatars.githubusercontent.com/u/7576514?v=4","gravatar_id":"","url":"https://api.github.com/users/RussTorres","html_url":"https://github.com/RussTorres","followers_url":"https://api.github.com/users/RussTorres/followers","following_url":"https://api.github.com/users/RussTorres/following{/other_user}","gists_url":"https://api.github.com/users/RussTorres/gists{/gist_id}","starred_url":"https://api.github.com/users/RussTorres/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/RussTorres/subscriptions","organizations_url":"https://api.github.com/users/RussTorres/orgs","repos_url":"https://api.github.com/users/RussTorres/repos","events_url":"https://api.github.com/users/RussTorres/events{/privacy}","received_events_url":"https://api.github.com/users/RussTorres/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"30c8620e3d01650f9dde74f0e7078f932ec04198","commit_url":"https://api.github.com/repos/RussTorres/render/commits/30c8620e3d01650f9dde74f0e7078f932ec04198","created_at":"2024-02-26T12:57:02Z","performed_via_github_app":null}]