{"url":"https://api.github.com/repos/saalfeldlab/render/issues/112","repository_url":"https://api.github.com/repos/saalfeldlab/render","labels_url":"https://api.github.com/repos/saalfeldlab/render/issues/112/labels{/name}","comments_url":"https://api.github.com/repos/saalfeldlab/render/issues/112/comments","events_url":"https://api.github.com/repos/saalfeldlab/render/issues/112/events","html_url":"https://github.com/saalfeldlab/render/issues/112","id":737675775,"node_id":"MDU6SXNzdWU3Mzc2NzU3NzU=","number":112,"title":"Cross-Correlation Client problem","user":{"login":"martinschorb","id":35071867,"node_id":"MDQ6VXNlcjM1MDcxODY3","avatar_url":"https://avatars.githubusercontent.com/u/35071867?v=4","gravatar_id":"","url":"https://api.github.com/users/martinschorb","html_url":"https://github.com/martinschorb","followers_url":"https://api.github.com/users/martinschorb/followers","following_url":"https://api.github.com/users/martinschorb/following{/other_user}","gists_url":"https://api.github.com/users/martinschorb/gists{/gist_id}","starred_url":"https://api.github.com/users/martinschorb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/martinschorb/subscriptions","organizations_url":"https://api.github.com/users/martinschorb/orgs","repos_url":"https://api.github.com/users/martinschorb/repos","events_url":"https://api.github.com/users/martinschorb/events{/privacy}","received_events_url":"https://api.github.com/users/martinschorb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2020-11-06T11:10:44Z","updated_at":"2022-01-21T00:58:20Z","closed_at":"2022-01-21T00:58:20Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi,\r\n\r\nI run into an error using https://github.com/saalfeldlab/render/blob/geometric_descriptor/render-ws-java-client/src/main/java/org/janelia/render/client/CrossCorrelationPointMatchClient.java .\r\n\r\n```\r\n12:04:18.752 [main] INFO  [org.janelia.render.client.CrossCorrelationPointMatchClient] generateMatchesForPairFile: pairJsonFileName is /g/emcf/schorb/render-output/tile_pairs_giovanna1_mipmap_z_123_to_234_dist_0.json\r\n12:04:18.756 [main] INFO  [org.janelia.alignment.match.RenderableCanvasIdPairs] load: entry, path=/g/emcf/schorb/render-output/tile_pairs_giovanna1_mipmap_z_123_to_234_dist_0.json\r\n12:04:18.855 [main] INFO  [org.janelia.alignment.match.RenderableCanvasIdPairs] load: exit, loaded 2519 pairs\r\n12:04:18.860 [main] INFO  [org.janelia.alignment.match.CanvasRenderParametersUrlTemplate] getTemplateForRun: returning http://pc-emcf-16:8080/render-ws/v1/owner/SBEM/project/tests/stack/giovanna1_mipmap/tile/{id}/render-parameters?scale=1.0&filter=true&excludeMask=true&normalizeForMatching=true\r\n12:04:18.900 [main] INFO  [org.janelia.render.client.CrossCorrelationPointMatchClient] generateMatchesForPairs: derive matches between {canvasId: '0000.0110.00123::TOP', url: 'http://pc-emcf-16:8080/render-ws/v1/owner/SBEM/project/tests/stack/giovanna1_mipmap/tile/0000.0110.00123/render-parameters?scale=1.0&filter=true&excludeMask=true&normalizeForMatching=true'} and {canvasId: '0000.0125.00123::BOTTOM', url: 'http://pc-emcf-16:8080/render-ws/v1/owner/SBEM/project/tests/stack/giovanna1_mipmap/tile/0000.0125.00123/render-parameters?scale=1.0&filter=true&excludeMask=true&normalizeForMatching=true'}\r\n12:04:18.902 [main] INFO  [org.janelia.alignment.RenderParameters] loadFromUrl: loading http://pc-emcf-16:8080/render-ws/v1/owner/SBEM/project/tests/stack/giovanna1_mipmap/tile/0000.0110.00123/render-parameters?scale=1.0&filter=true&excludeMask=true&normalizeForMatching=true\r\n12:04:19.046 [main] INFO  [org.janelia.alignment.match.CanvasIdWithRenderContext] loadRenderParameters: loaded 0000.0110.00123::TOP\r\n12:04:19.109 [main] DEBUG [org.janelia.alignment.util.ImageProcessorCache] loadImageProcessor: entry, urlString=file:///g/emcf/ronchi/Benvenuto-Giovanna-seaurchin_SBEMtest_5833/giovanna_G3-1_20-07-07_3view/S010_acquisition/tiles/g0000/t0110/S010_acquisition_g0000_t0110_s00123.tif, downSampleLevels=0\r\n12:04:19.219 [main] DEBUG [org.janelia.alignment.mipmap.UrlMipmapSource] getChannels: tile '0000.0110.00123' took 117 milliseconds to load level 0 (first mip:117, downSampleLevels:0, first mask:0, additional channels:0), cacheSize:1\r\n12:04:19.419 [main] DEBUG [org.janelia.alignment.mipmap.FilteredMipmapSource] getChannels: filtered tile '0000.0110.00123' took 196 milliseconds to filter level 0\r\n12:04:19.442 [main] DEBUG [org.janelia.alignment.mipmap.RenderedCanvasMipmapSource] mapPixels: mapping of filtered tile '0000.0110.00123' took 22 milliseconds to process (mesh:19, map interpolated:3)\r\n12:04:19.442 [main] DEBUG [org.janelia.alignment.mipmap.RenderedCanvasMipmapSource] getChannels: deriving average scale for 1 canvases took 3 milliseconds\r\n12:04:19.442 [main] INFO  [org.janelia.alignment.RenderParameters] loadFromUrl: loading http://pc-emcf-16:8080/render-ws/v1/owner/SBEM/project/tests/stack/giovanna1_mipmap/tile/0000.0125.00123/render-parameters?scale=1.0&filter=true&excludeMask=true&normalizeForMatching=true\r\n12:04:19.452 [main] INFO  [org.janelia.alignment.match.CanvasIdWithRenderContext] loadRenderParameters: loaded 0000.0125.00123::BOTTOM\r\n12:04:19.462 [main] DEBUG [org.janelia.alignment.util.ImageProcessorCache] loadImageProcessor: entry, urlString=file:///g/emcf/ronchi/Benvenuto-Giovanna-seaurchin_SBEMtest_5833/giovanna_G3-1_20-07-07_3view/S010_acquisition/tiles/g0000/t0125/S010_acquisition_g0000_t0125_s00123.tif, downSampleLevels=0\r\n12:04:19.534 [main] DEBUG [org.janelia.alignment.mipmap.UrlMipmapSource] getChannels: tile '0000.0125.00123' took 72 milliseconds to load level 0 (first mip:72, downSampleLevels:0, first mask:0, additional channels:0), cacheSize:2\r\n12:04:19.640 [main] DEBUG [org.janelia.alignment.mipmap.FilteredMipmapSource] getChannels: filtered tile '0000.0125.00123' took 106 milliseconds to filter level 0\r\n12:04:19.651 [main] DEBUG [org.janelia.alignment.mipmap.RenderedCanvasMipmapSource] mapPixels: mapping of filtered tile '0000.0125.00123' took 11 milliseconds to process (mesh:11, map interpolated:0)\r\n12:04:19.651 [main] DEBUG [org.janelia.alignment.mipmap.RenderedCanvasMipmapSource] getChannels: deriving average scale for 1 canvases took 1 milliseconds\r\n12:04:19.651 [main] INFO  [org.janelia.alignment.match.CanvasCorrelationMatcher] deriveMatchResult: entry\r\n12:04:19.653 [main] ERROR [org.janelia.render.client.ClientRunner] run: caught exception\r\njava.lang.NullPointerException: null\r\n\tat org.janelia.alignment.match.parameters.CrossCorrelationParameters.getScaledSampleSize(CrossCorrelationParameters.java:63)\r\n\tat org.janelia.alignment.match.CanvasCorrelationMatcher.getCandidateMatches(CanvasCorrelationMatcher.java:97)\r\n\tat org.janelia.alignment.match.CanvasCorrelationMatcher.deriveMatchResult(CanvasCorrelationMatcher.java:79)\r\n\tat org.janelia.alignment.match.CanvasCorrelationMatcher.deriveMatchResult(CanvasCorrelationMatcher.java:60)\r\n\tat org.janelia.render.client.CrossCorrelationPointMatchClient.generateMatchesForPairs(CrossCorrelationPointMatchClient.java:220)\r\n\tat org.janelia.render.client.CrossCorrelationPointMatchClient.generateMatchesForPairFile(CrossCorrelationPointMatchClient.java:133)\r\n\tat org.janelia.render.client.CrossCorrelationPointMatchClient.access$100(CrossCorrelationPointMatchClient.java:44)\r\n\tat org.janelia.render.client.CrossCorrelationPointMatchClient$1.runClient(CrossCorrelationPointMatchClient.java:98)\r\n\tat org.janelia.render.client.ClientRunner.run(ClientRunner.java:38)\r\n\tat org.janelia.render.client.CrossCorrelationPointMatchClient.main(CrossCorrelationPointMatchClient.java:104)\r\n12:04:19.654 [main] INFO  [org.janelia.render.client.ClientRunner] run: exit, processing failed after 0 hours, 0 minutes, 1 seconds\r\n```\r\n\r\nThe tile pair file looks OK to me. Am I missing something?\r\nI called:\r\n```\r\njava -cp render-ws-java-client-2.3.1-SNAPSHOT-standalone.jar org.janelia.render.client.CrossCorrelationPointMatchClient  --baseDataUrl http://pc-emcf-16:8080/render-ws/v1 --owner SBEM --collection Xcorrtest1 --pairJson /g/emcf/schorb/render-output/tile_pairs_giovanna1_mipmap_z_123_to_234_dist_0.json \r\n```\r\nSo for the rest I tried with the default parameters to start with.","closed_by":{"login":"trautmane","id":4457104,"node_id":"MDQ6VXNlcjQ0NTcxMDQ=","avatar_url":"https://avatars.githubusercontent.com/u/4457104?v=4","gravatar_id":"","url":"https://api.github.com/users/trautmane","html_url":"https://github.com/trautmane","followers_url":"https://api.github.com/users/trautmane/followers","following_url":"https://api.github.com/users/trautmane/following{/other_user}","gists_url":"https://api.github.com/users/trautmane/gists{/gist_id}","starred_url":"https://api.github.com/users/trautmane/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautmane/subscriptions","organizations_url":"https://api.github.com/users/trautmane/orgs","repos_url":"https://api.github.com/users/trautmane/repos","events_url":"https://api.github.com/users/trautmane/events{/privacy}","received_events_url":"https://api.github.com/users/trautmane/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/saalfeldlab/render/issues/112/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/saalfeldlab/render/issues/112/timeline","performed_via_github_app":null,"state_reason":"completed"}