diff --git a/src/main/java/org/janelia/saalfeldlab/n5/ij/N5Importer.java b/src/main/java/org/janelia/saalfeldlab/n5/ij/N5Importer.java
index 6c09ae2..ad78a06 100644
--- a/src/main/java/org/janelia/saalfeldlab/n5/ij/N5Importer.java
+++ b/src/main/java/org/janelia/saalfeldlab/n5/ij/N5Importer.java
@@ -198,6 +198,12 @@ public class N5Importer implements PlugIn
 				if( x != null )
 					lastOpenedContainer = x;
 			});
+
+			selectionDialog.setCancelCallback( x -> {
+				// set back recorder state if canceled
+				Recorder.record = record;
+			});
+
 			selectionDialog.setVirtualOption( true );
 			selectionDialog.setCropOption( true );
 			selectionDialog.run( this::datasetSelectorCallBack );
@@ -229,7 +235,11 @@ public class N5Importer implements PlugIn
 
 			gd.showDialog();
 			if ( gd.wasCanceled() )
+			{
+				// set back recorder state if canceled
+				Recorder.record = record;
 				return;
+			}
 
 			n5Path = gd.getNextString();
 			final boolean openAsVirtual = gd.getNextBoolean();
diff --git a/src/main/java/org/janelia/saalfeldlab/n5/ui/DatasetSelectorDialog.java b/src/main/java/org/janelia/saalfeldlab/n5/ui/DatasetSelectorDialog.java
index 15ed464..de7feae 100644
--- a/src/main/java/org/janelia/saalfeldlab/n5/ui/DatasetSelectorDialog.java
+++ b/src/main/java/org/janelia/saalfeldlab/n5/ui/DatasetSelectorDialog.java
@@ -41,6 +41,7 @@ import java.util.concurrent.ExecutorService;
 import java.util.concurrent.Executors;
 import java.util.concurrent.Future;
 import java.util.concurrent.LinkedBlockingQueue;
+import java.util.concurrent.ThreadFactory;
 import java.util.function.Consumer;
 import java.util.function.Function;
 import java.util.function.Predicate;
@@ -136,6 +137,8 @@ public class DatasetSelectorDialog
 
 	private Consumer< String > containerPathUpdateCallback;
 
+	private Consumer< Void > cancelCallback;
+
 	private Predicate< N5TreeNode > n5NodeFilter;
 
 	private N5DatasetTreeCellRenderer treeRenderer;
@@ -216,6 +219,11 @@ public class DatasetSelectorDialog
 		this.n5NodeFilter = n5NodeFilter;
 	}
 
+	public void setCancelCallback( final Consumer< Void > cancelCallback )
+	{
+		this.cancelCallback = cancelCallback;
+	}
+
 	public void setContainerPathUpdateCallback( final Consumer< String > containerPathUpdateCallback )
 	{
 		this.containerPathUpdateCallback = containerPathUpdateCallback;
@@ -567,6 +575,9 @@ public class DatasetSelectorDialog
 		{
 			parserFuture.cancel( true );
 		}
+
+		if( cancelCallback != null )
+			cancelCallback.accept( null );
     }
 
 	private static final Font DEFAULT_FONT = new Font( Font.SANS_SERIF, Font.PLAIN, 12 );
