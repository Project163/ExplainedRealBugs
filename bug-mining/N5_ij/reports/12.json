{"url":"https://api.github.com/repos/saalfeldlab/n5-ij/issues/78","repository_url":"https://api.github.com/repos/saalfeldlab/n5-ij","labels_url":"https://api.github.com/repos/saalfeldlab/n5-ij/issues/78/labels{/name}","comments_url":"https://api.github.com/repos/saalfeldlab/n5-ij/issues/78/comments","events_url":"https://api.github.com/repos/saalfeldlab/n5-ij/issues/78/events","html_url":"https://github.com/saalfeldlab/n5-ij/issues/78","id":2285822135,"node_id":"I_kwDOB1c2ac6IPuC3","number":78,"title":"Invalid path in Import > HDF5/N5/Zarr/OME-NGFF ... crop dialog","user":{"login":"minnerbe","id":20970305,"node_id":"MDQ6VXNlcjIwOTcwMzA1","avatar_url":"https://avatars.githubusercontent.com/u/20970305?v=4","gravatar_id":"","url":"https://api.github.com/users/minnerbe","html_url":"https://github.com/minnerbe","followers_url":"https://api.github.com/users/minnerbe/followers","following_url":"https://api.github.com/users/minnerbe/following{/other_user}","gists_url":"https://api.github.com/users/minnerbe/gists{/gist_id}","starred_url":"https://api.github.com/users/minnerbe/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/minnerbe/subscriptions","organizations_url":"https://api.github.com/users/minnerbe/orgs","repos_url":"https://api.github.com/users/minnerbe/repos","events_url":"https://api.github.com/users/minnerbe/events{/privacy}","received_events_url":"https://api.github.com/users/minnerbe/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2024-05-08T15:00:22Z","updated_at":"2025-03-28T01:33:25Z","closed_at":"2025-03-27T15:55:11Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"# Problem\r\nWhen opening an N5 dataset with the `Import > HDF5/N5/Zarr/OME-NGFF ...` dialog, it is possible to specify a subfolder of an N5 container rather than the base path. E.g., in the following N5 container, specifying `base.n5/grp` instead of `base.n5` to detect the dataset `data`.\r\n```\r\nbase.n5/\r\n├── attributes.json\r\n└── grp\r\n    └── data\r\n```\r\n\r\nThis is convenient, since dataset detection from the root can take some time if the container contains a large hierarchy.\r\n\r\nHowever, if the crop checkbox is checked, the string which is automatically inserted into the `N5 path` field of the crop dialog duplicates parts of the paths within the N5 container: instead of `base.n5/grp/data` it is `base.n5/grp/grp/data` when `base.n5/grp` is used in the import dialog. This leads to the following error:\r\n```\r\nnot a dataset : base.n5/grp/grp/data\r\n```\r\n\r\n# Workaround\r\nSince the string in the crop dialog can be edited, one can simply fix it manually (which is a bit inconvenient since the field is too small to do this efficiently).\r\n\r\n# Suggested fix\r\nIt seems to me that `getN5RootPath()` in `ui/DatasetSelectorDialog.java` does not return the N5 root path but simply the string in the text field of the import dialog. Returning the actual N5 root there would probably fix the problem.","closed_by":{"login":"bogovicj","id":6912043,"node_id":"MDQ6VXNlcjY5MTIwNDM=","avatar_url":"https://avatars.githubusercontent.com/u/6912043?v=4","gravatar_id":"","url":"https://api.github.com/users/bogovicj","html_url":"https://github.com/bogovicj","followers_url":"https://api.github.com/users/bogovicj/followers","following_url":"https://api.github.com/users/bogovicj/following{/other_user}","gists_url":"https://api.github.com/users/bogovicj/gists{/gist_id}","starred_url":"https://api.github.com/users/bogovicj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bogovicj/subscriptions","organizations_url":"https://api.github.com/users/bogovicj/orgs","repos_url":"https://api.github.com/users/bogovicj/repos","events_url":"https://api.github.com/users/bogovicj/events{/privacy}","received_events_url":"https://api.github.com/users/bogovicj/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/saalfeldlab/n5-ij/issues/78/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/saalfeldlab/n5-ij/issues/78/timeline","performed_via_github_app":null,"state_reason":"completed"}