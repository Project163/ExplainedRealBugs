<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 18:34:07 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[JCRVLT-423] filevault-package-maven-plugin 1.1.2: Validation fails on /content/cq:tags node</title>
                <link>https://issues.apache.org/jira/browse/JCRVLT-423</link>
                <project id="12314920" key="JCRVLT">Jackrabbit FileVault</project>
                    <description>&lt;p&gt;i&apos;ve encountered another problem, occurs on 1.1.2 and 1.1.3-SNAPSHOT, not with version 1.1.0 of the plugin.&lt;/p&gt;

&lt;p&gt;sample project that contains some content below &lt;tt&gt;/content/cq:tags&lt;/tt&gt;:&lt;br/&gt;
&lt;a href=&quot;https://github.com/stefanseifert/filevault-package-maven-plugin-1.1.2-validation-issues/tree/master/content-packages/sample-content&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/filevault-package-maven-plugin-1.1.2-validation-issues/tree/master/content-packages/sample-content&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;leads to validation failures:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] ValidationViolation: &quot;jackrabbit-docviewparser: Invalid XML found: Given root node name &apos;cq:tags&apos; (implicitly given via filename) cannot be resolved. The prefix used in the filename must be declared as XML namespace in the child docview XML as well!&quot;, filePath=jcr_root\content\_cq_tags\.content.xml
[ERROR] ValidationViolation: &quot;jackrabbit-filter: Node &apos;/content/cq:tags/.content.xml&apos; is not contained in any of the filter rules&quot;, filePath=jcr_root\content\_cq_tags\.content.xml
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;the package content is exactly that what the package manager produced when downloading the package, so the package data itself is correct.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13292999">JCRVLT-423</key>
            <summary>filevault-package-maven-plugin 1.1.2: Validation fails on /content/cq:tags node</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="8">Not A Problem</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="sseifert">Stefan Seifert</reporter>
                        <labels>
                    </labels>
                <created>Fri, 20 Mar 2020 18:53:26 +0000</created>
                <updated>Mon, 23 Mar 2020 20:45:33 +0000</updated>
                            <resolved>Mon, 23 Mar 2020 20:45:33 +0000</resolved>
                                    <version>package-maven-plugin-1.1.2</version>
                                                    <component>package maven plugin</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17063598" author="kwin" created="Fri, 20 Mar 2020 19:46:13 +0000"  >&lt;p&gt;The problem is that we don&apos;t have a namespace registry at hand without a repo. Therefore you have to define all namespaces in docview xml. That is already described in &lt;a href=&quot;https://docs.adobe.com/docs/en/spec/jcr/2.0/7_Export.html#7.3%20Document%20View&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.adobe.com/docs/en/spec/jcr/2.0/7_Export.html#7.3%20Document%20View&lt;/a&gt;, paragraph 1. The only difference is that in this case the filename defines the node name.&lt;br/&gt;
I will definitely fix the exporter in that way, but the question is what to do with exports from older FileVault versions.&lt;br/&gt;
I am all ears for a solution which allows to have fully qualified node names in &lt;a href=&quot;https://jackrabbit.apache.org/filevault/apidocs/org/apache/jackrabbit/vault/validation/spi/DocumentViewXmlValidator.html#validate-org.apache.jackrabbit.vault.util.DocViewNode-java.lang.String-java.nio.file.Path-boolean-&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://jackrabbit.apache.org/filevault/apidocs/org/apache/jackrabbit/vault/validation/spi/DocumentViewXmlValidator.html#validate-org.apache.jackrabbit.vault.util.DocViewNode-java.lang.String-java.nio.file.Path-boolean-&lt;/a&gt; for the &lt;tt&gt;jcr:root&lt;/tt&gt; element.&lt;/p&gt;

&lt;p&gt;The current solution has been discussed in &lt;a href=&quot;https://issues.apache.org/jira/browse/JCRVLT-407?focusedCommentId=17033830&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17033830&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/JCRVLT-407?focusedCommentId=17033830&amp;amp;page=com.atlassian.jira.plugin.system.issuetabpanels:comment-tabpanel#comment-17033830&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17063711" author="tripod" created="Sat, 21 Mar 2020 01:44:51 +0000"  >&lt;p&gt;we could add the most common namespaces, like cq,jcr,sling,oak as fallback for such cases.&lt;/p&gt;</comment>
                            <comment id="17064220" author="kwin" created="Sun, 22 Mar 2020 10:02:17 +0000"  >&lt;p&gt;What about considering the namespace definitions from the contained &lt;tt&gt;nodetypes.cnd&lt;/tt&gt; in the pacage. I think there is a high chance, that the namespace is defined in there (although it may be that the namespace is only used in node names/property names without being used in any node type).&lt;/p&gt;</comment>
                            <comment id="17064968" author="kwin" created="Mon, 23 Mar 2020 17:23:11 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=sseifert&quot; class=&quot;user-hover&quot; rel=&quot;sseifert&quot;&gt;sseifert&lt;/a&gt; With which FileVault version have you created the package? I tried to create a package with root &lt;tt&gt;/content/cq:tags&lt;/tt&gt; with FileVault 3.2.8 and 3.4.5-SNAPSHOT and both work correctly (i.e. contain the namespace declaration for &quot;cq&quot; in &lt;a href=&quot;https://github.com/stefanseifert/filevault-package-maven-plugin-1.1.2-validation-issues/blob/master/content-packages/sample-content/jcr_root/content/_cq_tags/.content.xml&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/stefanseifert/filevault-package-maven-plugin-1.1.2-validation-issues/blob/master/content-packages/sample-content/jcr_root/content/_cq_tags/.content.xml&lt;/a&gt;...&lt;/p&gt;</comment>
                            <comment id="17065052" author="sseifert@pro-vision.de" created="Mon, 23 Mar 2020 19:58:16 +0000"  >&lt;p&gt;FileVault 3.2.8 bundle is installed on the instance.&lt;/p&gt;

&lt;p&gt;oh, i see the problem. i&apos;m not downloading the package manually, but using &lt;a href=&quot;https://wcm.io/tooling/maven/plugins/wcmio-content-package-maven-plugin/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wcm.io/tooling/maven/plugins/wcmio-content-package-maven-plugin/&lt;/a&gt; to automate the download and extraction. this plugin allows to remove nodes and attributes that should not be stored in git (e.g. containing last modified dates) - and removes also orphaned namespace declarations that are leftovers of those removed attributes. this also removes this namespace declaration for the file name.&lt;/p&gt;

&lt;p&gt;sorry for the noise, i&apos;ll see to fix the problem in the plugin and report back.&lt;/p&gt;</comment>
                            <comment id="17065078" author="sseifert@pro-vision.de" created="Mon, 23 Mar 2020 20:45:33 +0000"  >&lt;p&gt;fixed version 1.7.6 of the download &amp;amp; unpack logic of the wcm.io content package maven plugin&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                                                <inwardlinks description="is broken by">
                                        <issuelink>
            <issuekey id="13285058">JCRVLT-409</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 33 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0cr1c:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>