<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:40:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CONFIGURATION-793] Error reading a list of complex objects from JSON after 2.3</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-793</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;We have just attempted to move from version 2.2 to 2.7 and have encountered and issue whilst attempting to read a List from a JSON formatted configuration file.&lt;/p&gt;

&lt;p&gt;The issue appears to have been introduced in 2.3.&lt;/p&gt;

&lt;p&gt;Adding the following tests to org.apache.commons.configuration2.TestJSONConfiguration will demonstrate the change.&#160; These tests will pass against 2.2 but fail agains 2.3 (and 2.7.)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-686&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/CONFIGURATION-686&lt;/a&gt; appears to have fixed access to lists of complex objects using the dot notation for strings (see testGetProperty_dictionaryInList() in TestJSONConfiguration) but has broken access to the list of complex objects.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;@Test
public void testGetList_nested_with_list()
{
    assertEquals(Arrays.asList(&quot;col1&quot;, &quot;col2&quot;),
                 jsonConfiguration.getList(String.class, &quot;key4.key5&quot;));
}

@Test
public void testGetList() {
    final List&amp;lt;Map&amp;gt; configList = jsonConfiguration.getList(Map.class, &quot;capitals&quot;);

    assertEquals(configList.size(), 2);
    assertEquals(configList.get(0).get(&quot;country&quot;), &quot;USA&quot;);
    assertEquals(configList.get(0).get(&quot;capital&quot;), &quot;Washington&quot;);
    assertEquals(configList.get(1).get(&quot;country&quot;), &quot;UK&quot;);
    assertEquals(configList.get(1).get(&quot;capital&quot;), &quot;London&quot;);
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>&lt;p&gt;JDK 11.0.4&lt;/p&gt;</environment>
        <key id="13329773">CONFIGURATION-793</key>
            <summary>Error reading a list of complex objects from JSON after 2.3</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="1" iconUrl="https://issues.apache.org/jira/images/icons/statuses/open.png" description="The issue is open and ready for the assignee to start work on it.">Open</status>
                    <statusCategory id="2" key="new" colorName="blue-gray"/>
                                    <resolution id="-1">Unresolved</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="mipper">Cliff Evans</reporter>
                        <labels>
                    </labels>
                <created>Mon, 28 Sep 2020 15:47:01 +0000</created>
                <updated>Sat, 6 Aug 2022 13:16:42 +0000</updated>
                                            <version>2.3</version>
                                                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17208113" author="garydgregory" created="Mon, 5 Oct 2020 14:37:10 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mipper&quot; class=&quot;user-hover&quot; rel=&quot;mipper&quot;&gt;mipper&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;May you provide your unit test as a PR at&#160;&lt;a href=&quot;https://github.com/apache/commons-configuration&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-configuration&lt;/a&gt; with a fix if you have one?&lt;/p&gt;

&lt;p&gt;Gary&lt;/p&gt;</comment>
                            <comment id="17208846" author="mipper" created="Tue, 6 Oct 2020 15:33:44 +0000"  >&lt;p&gt;Unfortunately, coming up with a fix looks way too complex for the time I have available.&#160; What I have been able to do though, is rework my original test to work with the test that &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=oheger&quot; class=&quot;user-hover&quot; rel=&quot;oheger&quot;&gt;oheger&lt;/a&gt; added when the change that introduced the bug was done.&#160; I wouldn&apos;t be sure whether the right place for the fix would be around org.apache.commons.configuration2.AbstractYAMLBasedConfiguration#constructHierarchy, or in the code that accessed the in memory copy of the configuration.&#160; I hope that this might help zero in on the issue and lead someone more skilled than I to the correct fix for it.&#160; I&apos;ve updated the main description above with this information.&lt;/p&gt;</comment>
                            <comment id="17258275" author="sishbi" created="Mon, 4 Jan 2021 15:19:00 +0000"  >&lt;p&gt;Hello,&lt;/p&gt;

&lt;p&gt;There is now a NIST CVE report on my version (2.2): &lt;a href=&quot;https://nvd.nist.gov/vuln/detail/CVE-2020-1953&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://nvd.nist.gov/vuln/detail/CVE-2020-1953&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;The report recommends upgrading to at least v2.7 but I cannot do that as I am affected by this bug.&lt;/p&gt;</comment>
                            <comment id="17576215" author="garydgregory" created="Sat, 6 Aug 2022 13:16:42 +0000"  >&lt;p&gt;In git master, I see that &lt;tt&gt;testGetList_nested_with_list&lt;/tt&gt; passes and &lt;tt&gt;testGetList&lt;/tt&gt; fails, nothing jumps out looking at the test in the debugger. Not sure why there is not a case for that.&lt;/p&gt;

&lt;p&gt;I added &lt;tt&gt;testGetList_nested_with_list&lt;/tt&gt; to the test class and a new disabled test method.&lt;/p&gt;

&lt;p&gt;Thoughts from anyone?&lt;/p&gt;

&lt;p&gt;Note: You assert parameters are reversed, and the pattern is &lt;tt&gt;assertX(expected, actual)&lt;/tt&gt;.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 14 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0izaw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>