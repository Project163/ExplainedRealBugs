<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:40:45 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CONFIGURATION-852] OSGi Import-Package in 2.12.0 now requires jakarta.servlet</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-852</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;We use commons-configuration2 in ActiveMQ Artemis which includes some OSGi integration. Recently when &lt;a href=&quot;https://github.com/apache/activemq-artemis/pull/5663&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;attempting to move from 2.11.0 to 2.12.0&lt;/a&gt; an OSGi-related test started failing, and it turns out that the culprit is that &lt;tt&gt;Export-Package&lt;/tt&gt; in &lt;tt&gt;MANIFEST.MF&lt;/tt&gt; now contains:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;uses:=&quot;jakarta.servlet,javax. servlet&quot;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I can update our configuration to account for this, but it&apos;s not clear to me that this change was intentional given that the Maven dependencies for these artifacts are marked as &lt;tt&gt;optional&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Does 2.12.0 really have a hard dependency on jakarta &amp;amp; javax servlet?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13618562">CONFIGURATION-852</key>
            <summary>OSGi Import-Package in 2.12.0 now requires jakarta.servlet</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jbertram">Justin Bertram</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 May 2025 18:09:43 +0000</created>
                <updated>Tue, 20 May 2025 14:27:55 +0000</updated>
                            <resolved>Tue, 20 May 2025 12:12:22 +0000</resolved>
                                    <version>2.12.0</version>
                                    <fixVersion>2.12.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17952711" author="garydgregory" created="Mon, 19 May 2025 18:50:34 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbertram&quot; class=&quot;user-hover&quot; rel=&quot;jbertram&quot;&gt;jbertram&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;In git master, we build:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Manifest-Version: 1.0
Created-By: Apache Maven Bundle Plugin 6.0.0
Build-Jdk-Spec: 21
Specification-Title: Apache Commons Configuration
Specification-Version: 2.12
Specification-Vendor: The Apache Software Foundation
Implementation-Title: Apache Commons Configuration
Implementation-Version: 2.12.1-SNAPSHOT
Implementation-Vendor: The Apache Software Foundation
Automatic-Module-Name: org.apache.commons.configuration2
Bundle-Description: Tools to assist in the reading of configuration/pref
&#160;erences files in various formats; requires Java 8.
Bundle-DocURL: https://commons.apache.org/proper/commons-configuration/
Bundle-License: https://www.apache.org/licenses/LICENSE-2.0.txt
Bundle-ManifestVersion: 2
Bundle-Name: Apache Commons Configuration
Bundle-SymbolicName: org.apache.commons.commons-configuration2
Bundle-Vendor: The Apache Software Foundation
Bundle-Version: 2.12.1.SNAPSHOT
Export-Package: org.apache.commons.configuration2;version=&quot;2.12.1.SNAPSH
&#160;OT&quot;;uses:=&quot;javax.naming,javax.sql,javax.xml.parsers,javax.xml.transform
&#160;,org.apache.commons.configuration2.convert,org.apache.commons.configura
&#160;tion2.event,org.apache.commons.configuration2.ex,org.apache.commons.con
&#160;figuration2.interpol,org.apache.commons.configuration2.io,org.apache.co
&#160;mmons.configuration2.sync,org.apache.commons.configuration2.tree,org.w3
&#160;c.dom,org.xml.sax,org.yaml.snakeyaml&quot;,org.apache.commons.configuration2
&#160;.beanutils;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.commons.beanutil
&#160;s,org.apache.commons.configuration2,org.apache.commons.configuration2.c
&#160;onvert&quot;,org.apache.commons.configuration2.builder;version=&quot;2.12.1.SNAPS
&#160;HOT&quot;;uses:=&quot;javax.naming,javax.sql,javax.xml.parsers,org.apache.commons
&#160;.configuration2,org.apache.commons.configuration2.beanutils,org.apache.
&#160;commons.configuration2.convert,org.apache.commons.configuration2.event,
&#160;org.apache.commons.configuration2.ex,org.apache.commons.configuration2.
&#160;interpol,org.apache.commons.configuration2.io,org.apache.commons.config
&#160;uration2.reloading,org.apache.commons.configuration2.sync,org.apache.co
&#160;mmons.configuration2.tree,org.xml.sax&quot;,org.apache.commons.configuration
&#160;2.builder.combined;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.commons.
&#160;configuration2,org.apache.commons.configuration2.beanutils,org.apache.c
&#160;ommons.configuration2.builder,org.apache.commons.configuration2.event,o
&#160;rg.apache.commons.configuration2.ex,org.apache.commons.configuration2.i
&#160;nterpol,org.apache.commons.configuration2.io,org.apache.commons.configu
&#160;ration2.reloading&quot;,org.apache.commons.configuration2.builder.fluent;ver
&#160;sion=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.commons.configuration2,org.apa
&#160;che.commons.configuration2.builder,org.apache.commons.configuration2.bu
&#160;ilder.combined,org.apache.commons.configuration2.ex&quot;,org.apache.commons
&#160;.configuration2.convert;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.com
&#160;mons.configuration2.ex,org.apache.commons.configuration2.interpol&quot;,org.
&#160;apache.commons.configuration2.event;version=&quot;2.12.1.SNAPSHOT&quot;,org.apach
&#160;e.commons.configuration2.ex;version=&quot;2.12.1.SNAPSHOT&quot;,org.apache.common
&#160;s.configuration2.interpol;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.c
&#160;ommons.configuration2.ex,org.apache.commons.configuration2.io&quot;,org.apac
&#160;he.commons.configuration2.io;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apach
&#160;e.commons.configuration2.ex&quot;,org.apache.commons.configuration2.plist;ve
&#160;rsion=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.commons.configuration2,org.ap
&#160;ache.commons.configuration2.ex,org.apache.commons.configuration2.io,org
&#160;.apache.commons.configuration2.tree&quot;,org.apache.commons.configuration2.
&#160;reloading;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.commons.configura
&#160;tion2.event,org.apache.commons.configuration2.io,org.apache.commons.vfs
&#160;2&quot;,org.apache.commons.configuration2.resolver;version=&quot;2.12.1.SNAPSHOT&quot;
&#160;;uses:=&quot;org.apache.commons.configuration2.interpol,org.apache.commons.c
&#160;onfiguration2.io,org.apache.xml.resolver,org.xml.sax&quot;,org.apache.common
&#160;s.configuration2.spring;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.com
&#160;mons.configuration2,org.springframework.beans.factory,org.springframewo
&#160;rk.core.env,org.springframework.core.io&quot;,org.apache.commons.configurati
&#160;on2.sync;version=&quot;2.12.1.SNAPSHOT&quot;,org.apache.commons.configuration2.tr
&#160;ee;version=&quot;2.12.1.SNAPSHOT&quot;,org.apache.commons.configuration2.tree.xpa
&#160;th;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;org.apache.commons.configuration2.t
&#160;ree,org.apache.commons.jxpath.ri,org.apache.commons.jxpath.ri.model&quot;,or
&#160;g.apache.commons.configuration2.web;version=&quot;2.12.1.SNAPSHOT&quot;;uses:=&quot;ja
&#160;karta.servlet,javax.servlet&quot;
Import-Package: org.apache.commons.beanutils;resolution:=optional,org.ap
&#160;ache.commons.codec.binary;resolution:=optional,org.apache.commons.jxpat
&#160;h;resolution:=optional,org.apache.commons.jxpath.ri;resolution:=optiona
&#160;l,org.apache.commons.jxpath.ri.compiler;resolution:=optional,org.apache
&#160;.commons.jxpath.ri.model;resolution:=optional,org.apache.xml.resolver;r
&#160;esolution:=optional,org.apache.xml.resolver.helpers;resolution:=optiona
&#160;l,org.apache.xml.resolver.readers;resolution:=optional,org.apache.xml.r
&#160;esolver.tools;resolution:=optional,javax.servlet;resolution:=optional,o
&#160;rg.apache.commons.jexl2;resolution:=optional,org.apache.commons.vfs2;re
&#160;solution:=optional,org.apache.commons.vfs2.provider;resolution:=optiona
&#160;l,org.springframework.beans.factory;resolution:=optional,org.springfram
&#160;ework.core.env;resolution:=optional,org.springframework.core.io;resolut
&#160;ion:=optional,org.springframework.util;resolution:=optional,com.fasterx
&#160;ml.jackson.databind;resolution:=optional,com.fasterxml.jackson.databind
&#160;.type;resolution:=optional,org.yaml.snakeyaml;resolution:=optional,org.
&#160;yaml.snakeyaml.constructor;resolution:=optional,org.yaml.snakeyaml.repr
&#160;esenter;resolution:=optional,jakarta.servlet,java.applet,java.awt,java.
&#160;beans,java.io,java.lang,java.lang.invoke,java.lang.reflect,java.math,ja
&#160;va.net,java.nio,java.nio.charset,java.nio.file,java.sql,java.text,java.
&#160;time,java.time.format,java.util,java.util.concurrent,java.util.concurre
&#160;nt.atomic,java.util.concurrent.locks,java.util.function,java.util.regex
&#160;,java.util.stream,javax.naming,javax.sql,javax.xml.parsers,javax.xml.tr
&#160;ansform,javax.xml.transform.dom,javax.xml.transform.stream,org.apache.c
&#160;ommons.lang3,org.apache.commons.lang3.builder,org.apache.commons.lang3.
&#160;concurrent,org.apache.commons.lang3.function,org.apache.commons.lang3.m
&#160;utable,org.apache.commons.logging,org.apache.commons.logging.impl,org.a
&#160;pache.commons.text,org.apache.commons.text.lookup,org.apache.commons.te
&#160;xt.translate,org.w3c.dom,org.xml.sax,org.xml.sax.helpers
Include-Resource: PropertyList-1.0.dtd=src/main/resources/PropertyList-1
&#160;.0.dtd,properties.dtd=src/main/resources/properties.dtd,META-INF/LICENS
&#160;E.txt=LICENSE.txt,META-INF/NOTICE.txt=NOTICE.txt
Require-Capability: osgi.ee;filter:=&quot;(&amp;amp;(osgi.ee=JavaSE)(version=1.8))&quot;
Tool: Bnd-7.1.0.202411251545
Multi-Release: true &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I see &quot;resolution:=optional&quot; in &lt;tt&gt;Import-Package&lt;/tt&gt; entries but not in &lt;tt&gt;Export-Package&lt;/tt&gt;.&lt;/p&gt;

&lt;p&gt;Maybe we need to define a custom &lt;tt&gt;commons.osgi.export&lt;/tt&gt; like we do &lt;tt&gt;commons.osgi.import&lt;/tt&gt;...&lt;/p&gt;

&lt;p&gt;Would that work for your use case?&lt;/p&gt;

&lt;p&gt;The references are for the (optional) package &lt;tt&gt;org.apache.commons.configuration2.web&lt;/tt&gt;.&lt;/p&gt;</comment>
                            <comment id="17952712" author="jbertram" created="Mon, 19 May 2025 19:17:21 +0000"  >&lt;p&gt;Hey, &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;. Thanks for responding so quickly!&lt;/p&gt;

&lt;p&gt;I &lt;em&gt;think&lt;/em&gt; your proposed solution would work. I can certainly try it out if you send a PR and let you know for sure. To be clear, I&apos;m no expert with this stuff. &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17952827" author="gemmellr" created="Tue, 20 May 2025 11:45:50 +0000"  >&lt;p&gt;Rather than the export indicating it also uses jakarta.servlet, the issue actually is with the new jakarta.servlet. package import, which is not optional. Note the new &lt;em&gt;&quot;,jakarta.servlet,&quot;&lt;/em&gt; entry within the Import-Package manifest entry specifying a hard requirement, versus the equivalent javax pre-existing optional requirement of &lt;em&gt;&quot;,javax.servlet;resolution:=optional,&quot;&lt;/em&gt; also still found there.&lt;/p&gt;

&lt;p&gt;I&apos;d guess the issue was caused by &lt;a href=&quot;https://github.com/apache/commons-configuration/commit/3a81545a42666d2c60ede0cb870af9dfc6767d21&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-configuration/commit/3a81545a42666d2c60ede0cb870af9dfc6767d21&lt;/a&gt; committed for &lt;a href=&quot;https://issues.apache.org/jira/browse/CONFIGURATION-836&quot; title=&quot;Make configuration use jakarta instead of javax&quot; class=&quot;issue-link&quot; data-issue-key=&quot;CONFIGURATION-836&quot;&gt;CONFIGURATION-836&lt;/a&gt; (which is still open without version, and referencing a different open PR than from the released commit). It added an optional jakarta servlet dependency at &lt;a href=&quot;https://github.com/apache/commons-configuration/blob/3a81545a42666d2c60ede0cb870af9dfc6767d21/pom.xml#L226-L233&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-configuration/blob/3a81545a42666d2c60ede0cb870af9dfc6767d21/pom.xml#L226-L233&lt;/a&gt; , similar to the existing javax servlet equivalent just above it, but didnt adjust the &lt;em&gt;commons.osgi.import&lt;/em&gt; property in the pom in similar fashion to is done for the javax servlet import here: &lt;a href=&quot;https://github.com/apache/commons-configuration/blob/2.12.0/pom.xml#L52&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-configuration/blob/2.12.0/pom.xml#L52&lt;/a&gt; . I expect adding an equivalent for the jakarta variant is whats needed.&lt;/p&gt;

&lt;p&gt;I&apos;ll give the change of updating commons.osgi.import a try out and raise a PR.&lt;/p&gt;</comment>
                            <comment id="17952831" author="gemmellr" created="Tue, 20 May 2025 12:04:31 +0000"  >&lt;p&gt;Raised &lt;a href=&quot;https://github.com/apache/commons-configuration/pull/574&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/commons-configuration/pull/574&lt;/a&gt; which got the related Artemis tests going again.&lt;/p&gt;</comment>
                            <comment id="17952836" author="garydgregory" created="Tue, 20 May 2025 12:12:22 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=robbie&quot; class=&quot;user-hover&quot; rel=&quot;robbie&quot;&gt;robbie&lt;/a&gt; and TY for the PR.&lt;/p&gt;

&lt;p&gt;The fix is now in git master and the Maven snapshot repository: &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Please verify and close if this meets your use case.&lt;/p&gt;

&lt;p&gt;CC &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jbertram&quot; class=&quot;user-hover&quot; rel=&quot;jbertram&quot;&gt;jbertram&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17952878" author="gemmellr" created="Tue, 20 May 2025 14:22:25 +0000"  >&lt;p&gt;I checked the published snapshot out with the Artemis GH Actions PR check on a modified branch, seems good.&lt;/p&gt;

&lt;p&gt;I&apos;ll need to leave it to Justin or yourself to close the Jira, I dont have rights to edit it.&lt;/p&gt;

&lt;p&gt;I&apos;d also suggest updating the title to something more representative of the problem, e.g &quot;OSGi Import-Package in 2.12.0 now requires jakarta.servlet&quot;&lt;/p&gt;</comment>
                            <comment id="17952881" author="jbertram" created="Tue, 20 May 2025 14:27:14 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ggregory&quot; class=&quot;user-hover&quot; rel=&quot;ggregory&quot;&gt;ggregory&lt;/a&gt;, I can confirm this fix resolved our issue.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            24 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1vxfs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>