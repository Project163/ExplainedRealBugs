<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:37:03 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[CONFIGURATION-272] ConfigurationUtils.copy results in escaped &quot;,&quot; characters no longer being escaped</title>
                <link>https://issues.apache.org/jira/browse/CONFIGURATION-272</link>
                <project id="12310467" key="CONFIGURATION">Commons Configuration</project>
                    <description>&lt;p&gt;When using ConfigurationUtils.copy to go between configuration formats any escaped out &quot;,&quot; characters are put into the output configuration without the escape character.  This results in a different value being returned from getString calls as it now things the property is a list.  If 4 escape characters are used instead of the expected 1 then the copy will end up with the correct value, but then the original will end up with the escape character as part of the property value.  &lt;/p&gt;

&lt;p&gt;Example:&lt;br/&gt;
SomeLongProperty=This is a test\, it is only a test&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Ends up right in the copy, but not right in the original&lt;br/&gt;
SomeOtherProperty=This is also a test\\\\, it is also only a test&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;After copy:&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;Missing &quot;\&quot; before &quot;,&quot;&lt;br/&gt;
SomeLongProperty=This is a test, it is only a test&lt;br/&gt;
SomeOtherProperty=This is also a test\, it is also only a test&lt;/li&gt;
&lt;/ol&gt;
</description>
                <environment>&lt;p&gt;commons 1.4&lt;/p&gt;</environment>
        <key id="12369985">CONFIGURATION-272</key>
            <summary>ConfigurationUtils.copy results in escaped &quot;,&quot; characters no longer being escaped</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="oheger">Oliver Heger</assignee>
                                    <reporter username="jmeagher">John Meagher</reporter>
                        <labels>
                    </labels>
                <created>Tue, 22 May 2007 20:15:02 +0000</created>
                <updated>Sat, 22 Aug 2009 19:36:49 +0000</updated>
                            <resolved>Mon, 20 Aug 2007 17:59:56 +0000</resolved>
                                    <version>1.4</version>
                                    <fixVersion>1.5</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="12497999" author="ebourg" created="Tue, 22 May 2007 20:38:38 +0000"  >&lt;p&gt;ConfigurationUtils.copy() calls setProperty on the target configuration with the value returned from getProperty() on the source configuration. The target configuration performs a new value parsing but it should not. A workaround is to disable the parsing of the delimiter before copying, and restore it after the copy :&lt;/p&gt;

&lt;p&gt;target.setDelimiterParsingDisabled(true);&lt;br/&gt;
ConfigurationUtils.copy(source, target);&lt;br/&gt;
target.setDelimiterParsingDisabled(false);&lt;/p&gt;</comment>
                            <comment id="12498213" author="jmeagher" created="Wed, 23 May 2007 12:06:12 +0000"  >&lt;p&gt;With that workaround it works as expected.  &lt;/p&gt;</comment>
                            <comment id="12499126" author="ebourg" created="Fri, 25 May 2007 16:02:23 +0000"  >&lt;p&gt;The append() function is also affected by this issue.&lt;/p&gt;

&lt;p&gt;I have two solutions in mind :&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Implement the workaround mentioned above in the copy and append functions, but this is not thread safe, if the target configuration is saved at this moment the list delimiters are lost. It&apos;s certain to happen if the target configuration is a file configuration with auto save set to true.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;for copy(), use clearProperty + addPropertyDirect. Unfortunately this will trigger 2 events per key, and since fireEvent() is protected it&apos;s not possible to use the setDetail() trick to fire the right event.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="12510904" author="oliver.heger@t-online.de" created="Sat, 7 Jul 2007 15:13:14 +0000"  >&lt;p&gt;I think the problem here is that ConfigurationUtils operates on plain Configuration objects and does not know about specifics like list delimiters available only for classes derived from AbstractConfiguration. And performing a cast to AbstractConfiguration in these methods would be really ugly IMO.&lt;/p&gt;

&lt;p&gt;A solution would be to add new copy() and append() methods to AbstractConfiguration with the same semantics. Then we had full control over the copy process and could also determine, which events to generate (maybe it does not make sense to trigger an event for each copied property, but only one event for the whole copy operation).&lt;/p&gt;

&lt;p&gt;copy() and append() in ConfigurationUtils could then be deprecated, or at least a remark could be added to their documentation that the variants implemented by AbstractConfiguration are preferable.&lt;/p&gt;</comment>
                            <comment id="12521178" author="oliver.heger@t-online.de" created="Mon, 20 Aug 2007 17:59:56 +0000"  >&lt;p&gt;The new append() and copy() methods (as described in my last comment) have been added to AbstractConfiguration. These methods should be used in future. They are able to correctly deal with list delimiters.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>33886</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            18 years, 14 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0uoyv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>177186</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>