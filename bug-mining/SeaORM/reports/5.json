{"url":"https://api.github.com/repos/SeaQL/sea-orm/issues/2796","repository_url":"https://api.github.com/repos/SeaQL/sea-orm","labels_url":"https://api.github.com/repos/SeaQL/sea-orm/issues/2796/labels{/name}","comments_url":"https://api.github.com/repos/SeaQL/sea-orm/issues/2796/comments","events_url":"https://api.github.com/repos/SeaQL/sea-orm/issues/2796/events","html_url":"https://github.com/SeaQL/sea-orm/issues/2796","id":3594880040,"node_id":"I_kwDOFBsj187WRYQo","number":2796,"title":"Mismatched enum names when generating code for many-to-many Relations","user":{"login":"lzyor","id":55935471,"node_id":"MDQ6VXNlcjU1OTM1NDcx","avatar_url":"https://avatars.githubusercontent.com/u/55935471?v=4","gravatar_id":"","url":"https://api.github.com/users/lzyor","html_url":"https://github.com/lzyor","followers_url":"https://api.github.com/users/lzyor/followers","following_url":"https://api.github.com/users/lzyor/following{/other_user}","gists_url":"https://api.github.com/users/lzyor/gists{/gist_id}","starred_url":"https://api.github.com/users/lzyor/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lzyor/subscriptions","organizations_url":"https://api.github.com/users/lzyor/orgs","repos_url":"https://api.github.com/users/lzyor/repos","events_url":"https://api.github.com/users/lzyor/events{/privacy}","received_events_url":"https://api.github.com/users/lzyor/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-11-06T09:20:40Z","updated_at":"2025-11-06T11:55:52Z","closed_at":"2025-11-06T11:55:52Z","author_association":"NONE","type":{"id":13476300,"node_id":"IT_kwDOBF1YqM4AzaHM","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-02-07T17:06:58Z","updated_at":"2024-07-26T13:33:59Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Description\n\nWhen using `#[sea_orm(table_name = \"...\")]` to specify a table name, it appears that the generated relations for the Model use the specified name, while the via model generates based on the module name in the code.\n\nFor example, simply change in `examples/basic/src/entity/cake.rs`:\n\n```rust\n...\n#[sea_orm(table_name = \"cake\")]\n// renamed to\n#[sea_orm(table_name = \"shop_cake\")]\n...\n```\n\nWhen the table name is changed in this way, it results in a build failure.\n\n```bash\n   Compiling sea-orm-example-basic v0.1.0 (/home/lzyor/sea-orm/examples/basic)\nerror[E0599]: no variant or associated item named `ShopCake` found for enum `cake_filling::Relation` in the current scope\n --> src/entity/cake.rs:5:1\n  |\n5 | #[sea_orm::model]\n  | ^^^^^^^^^^^^^^^^^ variant or associated item not found in `cake_filling::Relation`\n  |\n ::: src/entity/cake_filling.rs:5:1\n  |\n5 | #[sea_orm::model]\n  | ----------------- variant or associated item `ShopCake` not found for this enum\n  |\n  = note: this error originates in the derive macro `DeriveModelEx` (in Nightly builds, run with -Z macro-backtrace for more info)\n\nFor more information about this error, try `rustc --explain E0599`.\nerror: could not compile `sea-orm-example-basic` (bin \"sea-orm-example-basic\") due to 1 previous error\n```\n\nIn `cake_filling::Relation`, the enum is named `Cake`, while in the `cake` Model, it's named `ShopCake`.\n\n### Expected Behavior\n\nThe `table_name` should not affect entity relationships.\n\n### Workarounds\n\nRenaming the code files to match the `table_name` provides a temporary workaround for this issue.\n\n\n## Versions\n\n`sea-orm v2.0.0-rc.17 or master branch`\n","closed_by":{"login":"tyt2y3","id":1782664,"node_id":"MDQ6VXNlcjE3ODI2NjQ=","avatar_url":"https://avatars.githubusercontent.com/u/1782664?v=4","gravatar_id":"","url":"https://api.github.com/users/tyt2y3","html_url":"https://github.com/tyt2y3","followers_url":"https://api.github.com/users/tyt2y3/followers","following_url":"https://api.github.com/users/tyt2y3/following{/other_user}","gists_url":"https://api.github.com/users/tyt2y3/gists{/gist_id}","starred_url":"https://api.github.com/users/tyt2y3/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tyt2y3/subscriptions","organizations_url":"https://api.github.com/users/tyt2y3/orgs","repos_url":"https://api.github.com/users/tyt2y3/repos","events_url":"https://api.github.com/users/tyt2y3/events{/privacy}","received_events_url":"https://api.github.com/users/tyt2y3/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/SeaQL/sea-orm/issues/2796/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/SeaQL/sea-orm/issues/2796/timeline","performed_via_github_app":null,"state_reason":"completed"}