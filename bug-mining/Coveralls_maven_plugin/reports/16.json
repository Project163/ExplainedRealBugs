{"url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/issues/31","repository_url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin","labels_url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/issues/31/labels{/name}","comments_url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/issues/31/comments","events_url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/issues/31/events","html_url":"https://github.com/trautonen/coveralls-maven-plugin/issues/31","id":27230265,"node_id":"MDU6SXNzdWUyNzIzMDI2NQ==","number":31,"title":"Build fails when Coveralls API response is not in expected format","user":{"login":"ruleant","id":1409731,"node_id":"MDQ6VXNlcjE0MDk3MzE=","avatar_url":"https://avatars.githubusercontent.com/u/1409731?v=4","gravatar_id":"","url":"https://api.github.com/users/ruleant","html_url":"https://github.com/ruleant","followers_url":"https://api.github.com/users/ruleant/followers","following_url":"https://api.github.com/users/ruleant/following{/other_user}","gists_url":"https://api.github.com/users/ruleant/gists{/gist_id}","starred_url":"https://api.github.com/users/ruleant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ruleant/subscriptions","organizations_url":"https://api.github.com/users/ruleant/orgs","repos_url":"https://api.github.com/users/ruleant/repos","events_url":"https://api.github.com/users/ruleant/events{/privacy}","received_events_url":"https://api.github.com/users/ruleant/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":40963291,"node_id":"MDU6TGFiZWw0MDk2MzI5MQ==","url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/labels/defect","name":"defect","color":"fc2929","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/milestones/6","html_url":"https://github.com/trautonen/coveralls-maven-plugin/milestone/6","labels_url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/milestones/6/labels","id":556564,"node_id":"MDk6TWlsZXN0b25lNTU2NTY0","number":6,"title":"v2.2.0","description":"","creator":{"login":"trautonen","id":1641063,"node_id":"MDQ6VXNlcjE2NDEwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/1641063?v=4","gravatar_id":"","url":"https://api.github.com/users/trautonen","html_url":"https://github.com/trautonen","followers_url":"https://api.github.com/users/trautonen/followers","following_url":"https://api.github.com/users/trautonen/following{/other_user}","gists_url":"https://api.github.com/users/trautonen/gists{/gist_id}","starred_url":"https://api.github.com/users/trautonen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautonen/subscriptions","organizations_url":"https://api.github.com/users/trautonen/orgs","repos_url":"https://api.github.com/users/trautonen/repos","events_url":"https://api.github.com/users/trautonen/events{/privacy}","received_events_url":"https://api.github.com/users/trautonen/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":5,"state":"closed","created_at":"2014-02-03T00:00:14Z","updated_at":"2014-03-02T21:51:46Z","due_on":null,"closed_at":"2014-03-02T21:51:46Z"},"comments":9,"created_at":"2014-02-09T20:26:29Z","updated_at":"2014-03-08T23:52:32Z","closed_at":"2014-03-02T20:32:27Z","author_association":"NONE","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Sometimes a build on Travis CI fails, I guess because the response of Coveralls API, is not in the expected format.\n\nA more elaborate error message, instead of the thrown ProcessingException, might be useful, fe. 'Coveralls API was unresponsive',\nor showing/logging the coveralls response, for future debugging?\n\nSome more info on the failure :\nBuilding, testing, code coverage goes well, but transfering the result to coveralls fails : \nBTW : this test was run on my own box, not on Travis CI (hence the repository token), to get some more debug info, file paths have been obfuscated.\n\n[...]\n[INFO] Cobertura Report generation was successful.\n[...]\n[INFO] --- coveralls-maven-plugin:2.1.0:cobertura (default-cli) @ getback_gps ---\n[INFO] Starting Coveralls job\n[INFO] Using repository token <secret>\n[INFO] Git commit 44a49e9 in master\n[INFO] Writing Coveralls data to [HOME]/target/coveralls.json from coverage report [HOME]/target/site/cobertura/coverage.xml\n[INFO] Successfully wrote Coveralls data in 482ms\n[INFO] Gathered code coverage metrics for 23 source files with 5157 lines of code:\n[INFO] - 1123 relevant lines\n[INFO] - 276 covered lines\n[INFO] - 847 missed lines\n[INFO] Submitting Coveralls data to API\n[INFO] ------------------------------------------------------------------------\n[INFO] BUILD FAILURE\n\nCaused by: org.eluder.coveralls.maven.plugin.ProcessingException: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('<' (code 60)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')\n at [Source: java.io.InputStreamReader@489d479b; line: 1, column: 2]\n        at org.eluder.coveralls.maven.plugin.httpclient.CoverallsClient.parseResponse(CoverallsClient.java:99)\n        at org.eluder.coveralls.maven.plugin.httpclient.CoverallsClient.submit(CoverallsClient.java:89)\n        at org.eluder.coveralls.maven.plugin.AbstractCoverallsMojo.submitData(AbstractCoverallsMojo.java:300)\n        at org.eluder.coveralls.maven.plugin.AbstractCoverallsMojo.execute(AbstractCoverallsMojo.java:184)\n        ... 21 more\nCaused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('<' (code 60)): expected a valid value (number, String, array, object, 'true', 'false' or 'null')\n at [Source: java.io.InputStreamReader@489d479b; line: 1, column: 2]\n","closed_by":{"login":"trautonen","id":1641063,"node_id":"MDQ6VXNlcjE2NDEwNjM=","avatar_url":"https://avatars.githubusercontent.com/u/1641063?v=4","gravatar_id":"","url":"https://api.github.com/users/trautonen","html_url":"https://github.com/trautonen","followers_url":"https://api.github.com/users/trautonen/followers","following_url":"https://api.github.com/users/trautonen/following{/other_user}","gists_url":"https://api.github.com/users/trautonen/gists{/gist_id}","starred_url":"https://api.github.com/users/trautonen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/trautonen/subscriptions","organizations_url":"https://api.github.com/users/trautonen/orgs","repos_url":"https://api.github.com/users/trautonen/repos","events_url":"https://api.github.com/users/trautonen/events{/privacy}","received_events_url":"https://api.github.com/users/trautonen/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/issues/31/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/trautonen/coveralls-maven-plugin/issues/31/timeline","performed_via_github_app":null,"state_reason":"completed"}