diff --git a/.travis.yml b/.travis.yml
index e30f17f..c809e8a 100644
--- a/.travis.yml
+++ b/.travis.yml
@@ -11,7 +11,7 @@ env:
     - secure: "CZ9mejMLJdrh+a5TFXsNSiYyK9K/zNYOtubv2sPq1OEGhuohdUfLtdsk7bK9\nQcIlhZjrE5Q/wVgjZcFsnVpKhnUSRLC7sTOh6tu08EwpNtnNLl5AeUztOMCs\nxhG5H7jDu9uEH81WDZnIuK4Zq4qxXx523rnqQfk4DsTCKLVh9jI="
 
 before_install:
-  - sudo sed -i 's/security.provider.9/#security.provider.9/g' $JAVA_HOME/jre/lib/security/java.security
+#  - sudo sed -i 's/security.provider.9/#security.provider.9/g' $JAVA_HOME/jre/lib/security/java.security
   - git submodule update --init --recursive
 
 script: mvn clean install
diff --git a/src/main/java/org/eluder/coveralls/maven/plugin/httpclient/CoverallsClient.java b/src/main/java/org/eluder/coveralls/maven/plugin/httpclient/CoverallsClient.java
index dff9d26..c9d22db 100644
--- a/src/main/java/org/eluder/coveralls/maven/plugin/httpclient/CoverallsClient.java
+++ b/src/main/java/org/eluder/coveralls/maven/plugin/httpclient/CoverallsClient.java
@@ -29,6 +29,8 @@ package org.eluder.coveralls.maven.plugin.httpclient;
 import java.io.File;
 import java.io.IOException;
 import java.io.InputStreamReader;
+import java.security.Provider;
+import java.security.Security;
 
 import org.apache.http.HttpEntity;
 import org.apache.http.HttpResponse;
@@ -51,6 +53,14 @@ import com.fasterxml.jackson.databind.ObjectMapper;
 
 public class CoverallsClient {
 
+    static {
+        for (Provider provider : Security.getProviders()) {
+            if ("SunPKCS11".equals(provider.getName())) {
+                Security.removeProvider("SunPKCS11");
+            }
+        }
+    }
+    
     private static final String CHARSET = "utf-8";
     private static final String FILE_NAME = "coveralls.json";
     private static final String MIME_TYPE = "application/octet-stream";
