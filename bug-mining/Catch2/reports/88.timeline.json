[{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/331702691","html_url":"https://github.com/catchorg/Catch2/issues/1027#issuecomment-331702691","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1027","id":331702691,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTcwMjY5MQ==","user":{"login":"lightmare","id":1419852,"node_id":"MDQ6VXNlcjE0MTk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1419852?v=4","gravatar_id":"","url":"https://api.github.com/users/lightmare","html_url":"https://github.com/lightmare","followers_url":"https://api.github.com/users/lightmare/followers","following_url":"https://api.github.com/users/lightmare/following{/other_user}","gists_url":"https://api.github.com/users/lightmare/gists{/gist_id}","starred_url":"https://api.github.com/users/lightmare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lightmare/subscriptions","organizations_url":"https://api.github.com/users/lightmare/orgs","repos_url":"https://api.github.com/users/lightmare/repos","events_url":"https://api.github.com/users/lightmare/events{/privacy}","received_events_url":"https://api.github.com/users/lightmare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T11:07:15Z","updated_at":"2017-09-25T18:57:20Z","body":"Couldn't reproduce with v1.10.0, only with catch2 branch.\r\n\r\nI haven't been watching Catch for a loooong time, but catch2 does not seem fully rvalue-reference aware, yet. It's not capturing rvalue references where it could, and it's not properly forwarding universal references where it should (actually, `std::forward` doesn't appear anywhere in the code).\r\n\r\nHere's a fix I proposed long ago, capturing not just `bool` but all fundamental types by value:\r\n\r\n```diff\r\ndiff --git a/include/internal/catch_decomposer.h b/include/internal/catch_decomposer.h\r\nindex 786a052..0081b75 100644\r\n--- a/include/internal/catch_decomposer.h\r\n+++ b/include/internal/catch_decomposer.h\r\n@@ -98,6 +98,8 @@ namespace Catch {\r\n     template<typename T>\r\n     auto compareNotEqual( long lhs, T* const& rhs ) -> bool { return reinterpret_cast<void const*>( lhs ) != rhs; }\r\n \r\n+    template <typename T>\r\n+    using capture_by_value = std::is_fundamental<typename std::remove_cv<typename std::remove_reference<T>::type>::type>;\r\n \r\n     template<typename LhsT>\r\n     class ExprLhs {\r\n@@ -105,12 +107,13 @@ namespace Catch {\r\n     public:\r\n         ExprLhs( LhsT lhs ) : m_lhs( lhs ) {}\r\n \r\n-        template<typename RhsT>\r\n-        auto operator == ( RhsT&& rhs ) -> BinaryExpr<LhsT, RhsT&> const {\r\n-            return BinaryExpr<LhsT, RhsT&>( compareEqual( m_lhs, rhs ), m_lhs, \"==\", rhs );\r\n+        template<typename RhsT, typename = typename std::enable_if<!capture_by_value<RhsT>::value>::type>\r\n+        auto operator == ( RhsT const& rhs ) -> BinaryExpr<LhsT, RhsT const&> {\r\n+            return BinaryExpr<LhsT, RhsT const&>( compareEqual( m_lhs, rhs ), m_lhs, \"==\", rhs );\r\n         }\r\n-        auto operator == ( bool rhs ) -> BinaryExpr<LhsT, bool> const {\r\n-            return BinaryExpr<LhsT, bool>( m_lhs == rhs, m_lhs, \"==\", rhs );\r\n+        template<typename RhsT, typename = typename std::enable_if<capture_by_value<RhsT>::value>::type>\r\n+        auto operator == ( RhsT rhs ) -> BinaryExpr<LhsT, RhsT> {\r\n+            return BinaryExpr<LhsT, RhsT>( compareEqual( m_lhs, rhs ), m_lhs, \"==\", rhs );\r\n         }\r\n \r\n         template<typename RhsT>\r\ndiff --git a/projects/SelfTest/TrickyTests.cpp b/projects/SelfTest/TrickyTests.cpp\r\nindex 78f7052..ce3cd2b 100644\r\n--- a/projects/SelfTest/TrickyTests.cpp\r\n+++ b/projects/SelfTest/TrickyTests.cpp\r\n@@ -168,7 +168,7 @@ namespace ObjectWithConversions\r\n {\r\n     struct Object\r\n     {\r\n-        operator unsigned int() {return 0xc0000000;}\r\n+        operator unsigned int() const {return 0xc0000000;}\r\n     };\r\n \r\n     ///////////////////////////////////////////////////////////////////////////////\r\n```\r\n\r\n... and similarly for other operators.\r\n\r\nNote: at first I wanted to use `is_scalar` in place of `is_fundamental`, but then the operator becomes ambiguous because both overloads match when `rhs` is a string literal due to implicit conversions to `const char*` and `std::string`.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/331702691/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lightmare","id":1419852,"node_id":"MDQ6VXNlcjE0MTk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1419852?v=4","gravatar_id":"","url":"https://api.github.com/users/lightmare","html_url":"https://github.com/lightmare","followers_url":"https://api.github.com/users/lightmare/followers","following_url":"https://api.github.com/users/lightmare/following{/other_user}","gists_url":"https://api.github.com/users/lightmare/gists{/gist_id}","starred_url":"https://api.github.com/users/lightmare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lightmare/subscriptions","organizations_url":"https://api.github.com/users/lightmare/orgs","repos_url":"https://api.github.com/users/lightmare/repos","events_url":"https://api.github.com/users/lightmare/events{/privacy}","received_events_url":"https://api.github.com/users/lightmare/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/331711783","html_url":"https://github.com/catchorg/Catch2/issues/1027#issuecomment-331711783","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1027","id":331711783,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTcxMTc4Mw==","user":{"login":"rkaminsk","id":1175198,"node_id":"MDQ6VXNlcjExNzUxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1175198?v=4","gravatar_id":"","url":"https://api.github.com/users/rkaminsk","html_url":"https://github.com/rkaminsk","followers_url":"https://api.github.com/users/rkaminsk/followers","following_url":"https://api.github.com/users/rkaminsk/following{/other_user}","gists_url":"https://api.github.com/users/rkaminsk/gists{/gist_id}","starred_url":"https://api.github.com/users/rkaminsk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkaminsk/subscriptions","organizations_url":"https://api.github.com/users/rkaminsk/orgs","repos_url":"https://api.github.com/users/rkaminsk/repos","events_url":"https://api.github.com/users/rkaminsk/events{/privacy}","received_events_url":"https://api.github.com/users/rkaminsk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-24T13:56:57Z","updated_at":"2017-09-24T14:09:03Z","body":"Some comments:\r\n- Yes, with catch 1 this works. Sorry for wrongly reporting it doesn't. Catch 1 uses const references, which makes sense with comparison operators.\r\n- I don't think that the patch uses forwarding/universal references properly. Forwarding (potentially moving) something and using it more than once in an expression cannot be right. **EDIT**: Looking at it a little more, it is not strictly wrong but I would not write it like this because the code is quite confusing. (Also the forwards should be unnecessary.) \r\n- The catch 2 code does not look right to me either. Is the intention to also support non-const references here? Then just using `RhsT&` instead of `RhsT&&` should do the trick (which unfortunately still requires special treatment to handle bitfields). I am just guessing what is intended.\r\n\r\nI found this article about the topic nice: http://eli.thegreenplace.net/2014/perfect-forwarding-and-universal-references-in-c/","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/331711783/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rkaminsk","id":1175198,"node_id":"MDQ6VXNlcjExNzUxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1175198?v=4","gravatar_id":"","url":"https://api.github.com/users/rkaminsk","html_url":"https://github.com/rkaminsk","followers_url":"https://api.github.com/users/rkaminsk/followers","following_url":"https://api.github.com/users/rkaminsk/following{/other_user}","gists_url":"https://api.github.com/users/rkaminsk/gists{/gist_id}","starred_url":"https://api.github.com/users/rkaminsk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkaminsk/subscriptions","organizations_url":"https://api.github.com/users/rkaminsk/orgs","repos_url":"https://api.github.com/users/rkaminsk/repos","events_url":"https://api.github.com/users/rkaminsk/events{/privacy}","received_events_url":"https://api.github.com/users/rkaminsk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/331978579","html_url":"https://github.com/catchorg/Catch2/issues/1027#issuecomment-331978579","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1027","id":331978579,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk3ODU3OQ==","user":{"login":"lightmare","id":1419852,"node_id":"MDQ6VXNlcjE0MTk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1419852?v=4","gravatar_id":"","url":"https://api.github.com/users/lightmare","html_url":"https://github.com/lightmare","followers_url":"https://api.github.com/users/lightmare/followers","following_url":"https://api.github.com/users/lightmare/following{/other_user}","gists_url":"https://api.github.com/users/lightmare/gists{/gist_id}","starred_url":"https://api.github.com/users/lightmare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lightmare/subscriptions","organizations_url":"https://api.github.com/users/lightmare/orgs","repos_url":"https://api.github.com/users/lightmare/repos","events_url":"https://api.github.com/users/lightmare/events{/privacy}","received_events_url":"https://api.github.com/users/lightmare/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T18:55:44Z","updated_at":"2017-09-25T18:55:44Z","body":"You're right. I assumed that the operator taking universal reference was intentional, and tried to stick proper reference type into the `BinaryExpr`, without thinking it through.\r\n\r\nNow I agree that taking `RhsT const&` should be enough. Unless someone wants to test custom `operator==` overloads working differently for const/non-const lvalue/rvalue objects (I can't imagine how that'd be useful), in which case they'd need Catch operators to capture the type precisely.\r\n\r\nI'll update the diff above to not clutter the issue too much. Had to fix one test that had non-cost conversion operator.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/331978579/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lightmare","id":1419852,"node_id":"MDQ6VXNlcjE0MTk4NTI=","avatar_url":"https://avatars.githubusercontent.com/u/1419852?v=4","gravatar_id":"","url":"https://api.github.com/users/lightmare","html_url":"https://github.com/lightmare","followers_url":"https://api.github.com/users/lightmare/followers","following_url":"https://api.github.com/users/lightmare/following{/other_user}","gists_url":"https://api.github.com/users/lightmare/gists{/gist_id}","starred_url":"https://api.github.com/users/lightmare/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lightmare/subscriptions","organizations_url":"https://api.github.com/users/lightmare/orgs","repos_url":"https://api.github.com/users/lightmare/repos","events_url":"https://api.github.com/users/lightmare/events{/privacy}","received_events_url":"https://api.github.com/users/lightmare/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/331993439","html_url":"https://github.com/catchorg/Catch2/issues/1027#issuecomment-331993439","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1027","id":331993439,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMTk5MzQzOQ==","user":{"login":"rkaminsk","id":1175198,"node_id":"MDQ6VXNlcjExNzUxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1175198?v=4","gravatar_id":"","url":"https://api.github.com/users/rkaminsk","html_url":"https://github.com/rkaminsk","followers_url":"https://api.github.com/users/rkaminsk/followers","following_url":"https://api.github.com/users/rkaminsk/following{/other_user}","gists_url":"https://api.github.com/users/rkaminsk/gists{/gist_id}","starred_url":"https://api.github.com/users/rkaminsk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkaminsk/subscriptions","organizations_url":"https://api.github.com/users/rkaminsk/orgs","repos_url":"https://api.github.com/users/rkaminsk/repos","events_url":"https://api.github.com/users/rkaminsk/events{/privacy}","received_events_url":"https://api.github.com/users/rkaminsk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-25T19:54:16Z","updated_at":"2017-09-25T19:54:16Z","body":"Passing a bitfield via const reference is no problem. Now, we do not even need the enable_if anymore. ;)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/331993439/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rkaminsk","id":1175198,"node_id":"MDQ6VXNlcjExNzUxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1175198?v=4","gravatar_id":"","url":"https://api.github.com/users/rkaminsk","html_url":"https://github.com/rkaminsk","followers_url":"https://api.github.com/users/rkaminsk/followers","following_url":"https://api.github.com/users/rkaminsk/following{/other_user}","gists_url":"https://api.github.com/users/rkaminsk/gists{/gist_id}","starred_url":"https://api.github.com/users/rkaminsk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkaminsk/subscriptions","organizations_url":"https://api.github.com/users/rkaminsk/orgs","repos_url":"https://api.github.com/users/rkaminsk/repos","events_url":"https://api.github.com/users/rkaminsk/events{/privacy}","received_events_url":"https://api.github.com/users/rkaminsk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/333052043","html_url":"https://github.com/catchorg/Catch2/issues/1027#issuecomment-333052043","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1027","id":333052043,"node_id":"MDEyOklzc3VlQ29tbWVudDMzMzA1MjA0Mw==","user":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-09-29T07:25:47Z","updated_at":"2017-09-29T07:25:47Z","body":"I spent some time looking over this and I am still not sure why it is using mutable references.\r\n\r\nWe used to support non-const comparison operators, but to support those we const-casted away the constness anyway. I am going to throw it over at @philsquared as the Catch 2 rewritten decomposer is his work, before making changes.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/333052043/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1271134730,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MTI3MTEzNDczMA==","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1271134730","actor":{"login":"philsquared","id":92878,"node_id":"MDQ6VXNlcjkyODc4","avatar_url":"https://avatars.githubusercontent.com/u/92878?v=4","gravatar_id":"","url":"https://api.github.com/users/philsquared","html_url":"https://github.com/philsquared","followers_url":"https://api.github.com/users/philsquared/followers","following_url":"https://api.github.com/users/philsquared/following{/other_user}","gists_url":"https://api.github.com/users/philsquared/gists{/gist_id}","starred_url":"https://api.github.com/users/philsquared/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philsquared/subscriptions","organizations_url":"https://api.github.com/users/philsquared/orgs","repos_url":"https://api.github.com/users/philsquared/repos","events_url":"https://api.github.com/users/philsquared/events{/privacy}","received_events_url":"https://api.github.com/users/philsquared/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2017-09-29T07:25:47Z","performed_via_github_app":null},{"id":1271134731,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDEyNzExMzQ3MzE=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1271134731","actor":{"login":"philsquared","id":92878,"node_id":"MDQ6VXNlcjkyODc4","avatar_url":"https://avatars.githubusercontent.com/u/92878?v=4","gravatar_id":"","url":"https://api.github.com/users/philsquared","html_url":"https://github.com/philsquared","followers_url":"https://api.github.com/users/philsquared/followers","following_url":"https://api.github.com/users/philsquared/following{/other_user}","gists_url":"https://api.github.com/users/philsquared/gists{/gist_id}","starred_url":"https://api.github.com/users/philsquared/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philsquared/subscriptions","organizations_url":"https://api.github.com/users/philsquared/orgs","repos_url":"https://api.github.com/users/philsquared/repos","events_url":"https://api.github.com/users/philsquared/events{/privacy}","received_events_url":"https://api.github.com/users/philsquared/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2017-09-29T07:25:47Z","performed_via_github_app":null},{"id":1271134863,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQxMjcxMTM0ODYz","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1271134863","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2017-09-29T07:25:55Z","assignee":{"login":"philsquared","id":92878,"node_id":"MDQ6VXNlcjkyODc4","avatar_url":"https://avatars.githubusercontent.com/u/92878?v=4","gravatar_id":"","url":"https://api.github.com/users/philsquared","html_url":"https://github.com/philsquared","followers_url":"https://api.github.com/users/philsquared/followers","following_url":"https://api.github.com/users/philsquared/following{/other_user}","gists_url":"https://api.github.com/users/philsquared/gists{/gist_id}","starred_url":"https://api.github.com/users/philsquared/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philsquared/subscriptions","organizations_url":"https://api.github.com/users/philsquared/orgs","repos_url":"https://api.github.com/users/philsquared/repos","events_url":"https://api.github.com/users/philsquared/events{/privacy}","received_events_url":"https://api.github.com/users/philsquared/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":1271135001,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyNzExMzUwMDE=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1271135001","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-09-29T07:26:02Z","label":{"name":"Inconvenient bug","color":"e99695"},"performed_via_github_app":null},{"id":1292250846,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEyOTIyNTA4NDY=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1292250846","actor":{"login":"philsquared","id":92878,"node_id":"MDQ6VXNlcjkyODc4","avatar_url":"https://avatars.githubusercontent.com/u/92878?v=4","gravatar_id":"","url":"https://api.github.com/users/philsquared","html_url":"https://github.com/philsquared","followers_url":"https://api.github.com/users/philsquared/followers","following_url":"https://api.github.com/users/philsquared/following{/other_user}","gists_url":"https://api.github.com/users/philsquared/gists{/gist_id}","starred_url":"https://api.github.com/users/philsquared/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philsquared/subscriptions","organizations_url":"https://api.github.com/users/philsquared/orgs","repos_url":"https://api.github.com/users/philsquared/repos","events_url":"https://api.github.com/users/philsquared/events{/privacy}","received_events_url":"https://api.github.com/users/philsquared/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"c2b7bd15c092e2528f52bf26046e3c55ca629392","commit_url":"https://api.github.com/repos/catchorg/Catch2/commits/c2b7bd15c092e2528f52bf26046e3c55ca629392","created_at":"2017-10-13T13:16:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/336451050","html_url":"https://github.com/catchorg/Catch2/issues/1027#issuecomment-336451050","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1027","id":336451050,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjQ1MTA1MA==","user":{"login":"philsquared","id":92878,"node_id":"MDQ6VXNlcjkyODc4","avatar_url":"https://avatars.githubusercontent.com/u/92878?v=4","gravatar_id":"","url":"https://api.github.com/users/philsquared","html_url":"https://github.com/philsquared","followers_url":"https://api.github.com/users/philsquared/followers","following_url":"https://api.github.com/users/philsquared/following{/other_user}","gists_url":"https://api.github.com/users/philsquared/gists{/gist_id}","starred_url":"https://api.github.com/users/philsquared/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philsquared/subscriptions","organizations_url":"https://api.github.com/users/philsquared/orgs","repos_url":"https://api.github.com/users/philsquared/repos","events_url":"https://api.github.com/users/philsquared/events{/privacy}","received_events_url":"https://api.github.com/users/philsquared/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T13:23:05Z","updated_at":"2017-10-13T13:23:05Z","body":"I've just pushed a change so that it takes the RHS by const reference.\r\n\r\nWhen I was rewriting it (from the original Catch 1.x version) I was trying to be const/ non-const agnostic (to avoid having to `const_cast` at the bottom). My reasoning was that it's easy to write a comparison operator overload and forget to make it const. The person writing the test may not even have any control over that. And it would be a difference in behaviour from doing the comparison without the expression decomposition - which I was trying to avoid.\r\nAnyway, I ended up having to make the LHS a const ref anyway, and this issue has shown that my attempt to hold out on the RHS was misguided. So I'm letting go on this one.\r\n\r\nThe universal references where never about perfect forwarding - no values are being stored as we're only ever consulting the values while they are still on the stack.","author_association":"COLLABORATOR","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/336451050/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"philsquared","id":92878,"node_id":"MDQ6VXNlcjkyODc4","avatar_url":"https://avatars.githubusercontent.com/u/92878?v=4","gravatar_id":"","url":"https://api.github.com/users/philsquared","html_url":"https://github.com/philsquared","followers_url":"https://api.github.com/users/philsquared/followers","following_url":"https://api.github.com/users/philsquared/following{/other_user}","gists_url":"https://api.github.com/users/philsquared/gists{/gist_id}","starred_url":"https://api.github.com/users/philsquared/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philsquared/subscriptions","organizations_url":"https://api.github.com/users/philsquared/orgs","repos_url":"https://api.github.com/users/philsquared/repos","events_url":"https://api.github.com/users/philsquared/events{/privacy}","received_events_url":"https://api.github.com/users/philsquared/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1292262646,"node_id":"MDEyOkxhYmVsZWRFdmVudDEyOTIyNjI2NDY=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1292262646","actor":{"login":"philsquared","id":92878,"node_id":"MDQ6VXNlcjkyODc4","avatar_url":"https://avatars.githubusercontent.com/u/92878?v=4","gravatar_id":"","url":"https://api.github.com/users/philsquared","html_url":"https://github.com/philsquared","followers_url":"https://api.github.com/users/philsquared/followers","following_url":"https://api.github.com/users/philsquared/following{/other_user}","gists_url":"https://api.github.com/users/philsquared/gists{/gist_id}","starred_url":"https://api.github.com/users/philsquared/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/philsquared/subscriptions","organizations_url":"https://api.github.com/users/philsquared/orgs","repos_url":"https://api.github.com/users/philsquared/repos","events_url":"https://api.github.com/users/philsquared/events{/privacy}","received_events_url":"https://api.github.com/users/philsquared/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-10-13T13:23:18Z","label":{"name":"Resolved - pending review","color":"5319e7"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/336580116","html_url":"https://github.com/catchorg/Catch2/issues/1027#issuecomment-336580116","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1027","id":336580116,"node_id":"MDEyOklzc3VlQ29tbWVudDMzNjU4MDExNg==","user":{"login":"rkaminsk","id":1175198,"node_id":"MDQ6VXNlcjExNzUxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1175198?v=4","gravatar_id":"","url":"https://api.github.com/users/rkaminsk","html_url":"https://github.com/rkaminsk","followers_url":"https://api.github.com/users/rkaminsk/followers","following_url":"https://api.github.com/users/rkaminsk/following{/other_user}","gists_url":"https://api.github.com/users/rkaminsk/gists{/gist_id}","starred_url":"https://api.github.com/users/rkaminsk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkaminsk/subscriptions","organizations_url":"https://api.github.com/users/rkaminsk/orgs","repos_url":"https://api.github.com/users/rkaminsk/repos","events_url":"https://api.github.com/users/rkaminsk/events{/privacy}","received_events_url":"https://api.github.com/users/rkaminsk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2017-10-13T22:14:23Z","updated_at":"2017-10-13T22:14:23Z","body":"I think const references are the way to go. For \"non-standard\" comparison operators the user should put an extra pair of parenthesis around the comparison. Just my 2 cents.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/336580116/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"rkaminsk","id":1175198,"node_id":"MDQ6VXNlcjExNzUxOTg=","avatar_url":"https://avatars.githubusercontent.com/u/1175198?v=4","gravatar_id":"","url":"https://api.github.com/users/rkaminsk","html_url":"https://github.com/rkaminsk","followers_url":"https://api.github.com/users/rkaminsk/followers","following_url":"https://api.github.com/users/rkaminsk/following{/other_user}","gists_url":"https://api.github.com/users/rkaminsk/gists{/gist_id}","starred_url":"https://api.github.com/users/rkaminsk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rkaminsk/subscriptions","organizations_url":"https://api.github.com/users/rkaminsk/orgs","repos_url":"https://api.github.com/users/rkaminsk/repos","events_url":"https://api.github.com/users/rkaminsk/events{/privacy}","received_events_url":"https://api.github.com/users/rkaminsk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":1325034492,"node_id":"MDExOkNsb3NlZEV2ZW50MTMyNTAzNDQ5Mg==","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1325034492","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2017-11-03T15:00:12Z","state_reason":null,"performed_via_github_app":null},{"id":1325034845,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50MTMyNTAzNDg0NQ==","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1325034845","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2017-11-03T15:00:22Z","label":{"name":"Resolved - pending review","color":"5319e7"},"performed_via_github_app":null},{"id":1338253438,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDEzMzgyNTM0Mzg=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/1338253438","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b74d4ca96dac3756a61d3040d2ae7babc7608d7d","commit_url":"https://api.github.com/repos/catchorg/Catch2/commits/b74d4ca96dac3756a61d3040d2ae7babc7608d7d","created_at":"2017-11-13T09:07:50Z","performed_via_github_app":null},{"id":3297171414,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDMyOTcxNzE0MTQ=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/3297171414","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"33c58dad419ccce92882e9edbe4fc6124bc193ee","commit_url":"https://api.github.com/repos/catchorg/Catch2/commits/33c58dad419ccce92882e9edbe4fc6124bc193ee","created_at":"2020-05-03T07:58:53Z","performed_via_github_app":null}]