{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1514","repository_url":"https://api.github.com/repos/catchorg/Catch2","labels_url":"https://api.github.com/repos/catchorg/Catch2/issues/1514/labels{/name}","comments_url":"https://api.github.com/repos/catchorg/Catch2/issues/1514/comments","events_url":"https://api.github.com/repos/catchorg/Catch2/issues/1514/events","html_url":"https://github.com/catchorg/Catch2/issues/1514","id":403351316,"node_id":"MDU6SXNzdWU0MDMzNTEzMTY=","number":1514,"title":"The output of failing tests is not redirected to the junit reporter","user":{"login":"SimonChh","id":20587482,"node_id":"MDQ6VXNlcjIwNTg3NDgy","avatar_url":"https://avatars.githubusercontent.com/u/20587482?v=4","gravatar_id":"","url":"https://api.github.com/users/SimonChh","html_url":"https://github.com/SimonChh","followers_url":"https://api.github.com/users/SimonChh/followers","following_url":"https://api.github.com/users/SimonChh/following{/other_user}","gists_url":"https://api.github.com/users/SimonChh/gists{/gist_id}","starred_url":"https://api.github.com/users/SimonChh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SimonChh/subscriptions","organizations_url":"https://api.github.com/users/SimonChh/orgs","repos_url":"https://api.github.com/users/SimonChh/repos","events_url":"https://api.github.com/users/SimonChh/events{/privacy}","received_events_url":"https://api.github.com/users/SimonChh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":513089685,"node_id":"MDU6TGFiZWw1MTMwODk2ODU=","url":"https://api.github.com/repos/catchorg/Catch2/labels/Bug","name":"Bug","color":"e99695","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2019-01-25T22:04:58Z","updated_at":"2024-02-20T13:04:33Z","closed_at":"2019-03-02T20:18:55Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nGiven a test that fails (either via a failing assertion or an uncaught exception), the stdout and stderr output of the test is not redirected to the reporter. For instance, when invoking the test via _-r junit_, the resulting \\<system-out\\> and \\<system-err\\> tags are empty.\r\n\r\nThe output of successful tests is redirected correctly to the reporter, however.\r\n\r\n**Expected behavior**\r\nPersonally I expected the output of the failing test to be redirected to the reporter, since having access to the test's output helps when trying to figure out what went wrong (especially when the test is non-deterministic and thus the error is not easy to reproduce). But maybe others have different expectations, so I'm not sure if this is really a bug.\r\n\r\n**Reproduction steps**\r\n<!-- Usually this means a small and self-contained piece of code that uses Catch and specifying compiler flags if relevant. -->\r\n\r\n```\r\n#include <Catch/catch.hpp>\r\n#include <iostream>\r\n\r\nSCENARIO(\"A failing test\")\r\n{\r\n  std::cout << \"Cout!\" << std::endl;\r\n  std::cerr << \"Cerr!\" << std::endl;\r\n\r\n  throw std::runtime_error(\"std::runtime_error generated from test\"); // REQUIRE(false) also fails\r\n}\r\n```\r\n\r\nRun the above test using the _-r junit_ command-line option. The \\<system-out\\> and \\<system-err\\> tags will be empty.\r\n\r\n**Platform information:**\r\n<!-- Fill in any extra information that might be important for your issue. -->\r\n - OS: **Windows 10 Pro**\r\n - Compiler+version: **Visual Studio Professional 2017, version 15.7.4**\r\n - Catch version: **v2.5.0**\r\n","closed_by":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1514/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catchorg/Catch2/issues/1514/timeline","performed_via_github_app":null,"state_reason":"completed"}