{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1581","repository_url":"https://api.github.com/repos/catchorg/Catch2","labels_url":"https://api.github.com/repos/catchorg/Catch2/issues/1581/labels{/name}","comments_url":"https://api.github.com/repos/catchorg/Catch2/issues/1581/comments","events_url":"https://api.github.com/repos/catchorg/Catch2/issues/1581/events","html_url":"https://github.com/catchorg/Catch2/issues/1581","id":425898427,"node_id":"MDU6SXNzdWU0MjU4OTg0Mjc=","number":1581,"title":"Print a more meaningful message if WithinULP fails","user":{"login":"cschwan","id":94436,"node_id":"MDQ6VXNlcjk0NDM2","avatar_url":"https://avatars.githubusercontent.com/u/94436?v=4","gravatar_id":"","url":"https://api.github.com/users/cschwan","html_url":"https://github.com/cschwan","followers_url":"https://api.github.com/users/cschwan/followers","following_url":"https://api.github.com/users/cschwan/following{/other_user}","gists_url":"https://api.github.com/users/cschwan/gists{/gist_id}","starred_url":"https://api.github.com/users/cschwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cschwan/subscriptions","organizations_url":"https://api.github.com/users/cschwan/orgs","repos_url":"https://api.github.com/users/cschwan/repos","events_url":"https://api.github.com/users/cschwan/events{/privacy}","received_events_url":"https://api.github.com/users/cschwan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":513139480,"node_id":"MDU6TGFiZWw1MTMxMzk0ODA=","url":"https://api.github.com/repos/catchorg/Catch2/labels/Tweak%20request","name":"Tweak request","color":"c2e0c6","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2019-03-27T11:12:43Z","updated_at":"2019-06-15T06:26:34Z","closed_at":"2019-06-15T06:26:34Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"First of all: Thanks for making Catch2! Its been a really useful library to me for a few years now and still is. I am especially happy about the `WithinULP` check, which no other testing library seems to have and which is an essential check for me.\r\n\r\nHowever, I think one could improve the message when the check fails. In particular, what I am seeing is a message similar to the following one:\r\n\r\n    ../tests/test_vbs_wpz_real_a6as1_qcd.cpp:96: FAILED:\r\n      CHECK_THAT( results.front().value(), Catch::WithinULP(T(7.7623532726228692e-03), 128) )\r\n    with expansion:\r\n      0.0077623533 is within 128 ULPs of 0.0077623533\r\n\r\nThis message doesn't help me a lot. Are the 128 ULPs to tight? What is the actual difference? How do both numbers look with their full precision?\r\n\r\nWhat I would like to see is, at the very least, a message with the two numbers printed with their full precision (for example scientific notation + precision depending on the numeric type). The full precision is needed if I decide to update my reference value. One could also think about (additionally?) printing the numbers in hexfloat, which is an exact representation, but that might not be useful enough.\r\n\r\nA very helpful information would be the actual difference in ULPs. If I decide that 128 digits are too small, by how many ULP do I need to increase the 128? What I am doing right now is to increase the number by two and rerun the test to see if it works, but that's very inefficient.","closed_by":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1581/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catchorg/Catch2/issues/1581/timeline","performed_via_github_app":null,"state_reason":"completed"}