[{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/647081733","html_url":"https://github.com/catchorg/Catch2/issues/1966#issuecomment-647081733","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1966","id":647081733,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzA4MTczMw==","user":{"login":"Tridacnid","id":4622778,"node_id":"MDQ6VXNlcjQ2MjI3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4622778?v=4","gravatar_id":"","url":"https://api.github.com/users/Tridacnid","html_url":"https://github.com/Tridacnid","followers_url":"https://api.github.com/users/Tridacnid/followers","following_url":"https://api.github.com/users/Tridacnid/following{/other_user}","gists_url":"https://api.github.com/users/Tridacnid/gists{/gist_id}","starred_url":"https://api.github.com/users/Tridacnid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tridacnid/subscriptions","organizations_url":"https://api.github.com/users/Tridacnid/orgs","repos_url":"https://api.github.com/users/Tridacnid/repos","events_url":"https://api.github.com/users/Tridacnid/events{/privacy}","received_events_url":"https://api.github.com/users/Tridacnid/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-21T05:35:33Z","updated_at":"2020-06-21T05:35:33Z","body":"I'm happy to take a stab at this one, but I need a bit of guidance on the best way to attack it. As far as I can see, `reconstructedExpression` is cached when `reconstructExpression()` is called. If we don't need the reconstructed expression at all in the junit reporter, I'd be inclined to write my own override for `assertionEnded()`. If that data is needed by the junit reporter but only with the `-s` option, it seems like the best attack vector would be to only evaluate and cache the expression if that option is enabled.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/647081733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"Tridacnid","id":4622778,"node_id":"MDQ6VXNlcjQ2MjI3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/4622778?v=4","gravatar_id":"","url":"https://api.github.com/users/Tridacnid","html_url":"https://github.com/Tridacnid","followers_url":"https://api.github.com/users/Tridacnid/followers","following_url":"https://api.github.com/users/Tridacnid/following{/other_user}","gists_url":"https://api.github.com/users/Tridacnid/gists{/gist_id}","starred_url":"https://api.github.com/users/Tridacnid/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Tridacnid/subscriptions","organizations_url":"https://api.github.com/users/Tridacnid/orgs","repos_url":"https://api.github.com/users/Tridacnid/repos","events_url":"https://api.github.com/users/Tridacnid/events{/privacy}","received_events_url":"https://api.github.com/users/Tridacnid/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/647122163","html_url":"https://github.com/catchorg/Catch2/issues/1966#issuecomment-647122163","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/1966","id":647122163,"node_id":"MDEyOklzc3VlQ29tbWVudDY0NzEyMjE2Mw==","user":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-06-21T12:32:54Z","updated_at":"2020-06-21T12:32:54Z","body":"Some quick notes first\r\n* `CumulativeReporterBase` exists for reporters that can only write out their output retroactively, so it has to keep around the results, which means that the expansion must happen eagerly to avoid dangling ref issues.\r\n* If the JUnit reporter does not need the decomposed expression, then the work is wasted.\r\n* It is probably better to have a simple mechanism to signal up-the-stack whether the expansion is needed or not, rather than having the specific reporters override `assertionEnded`.\r\n* From a quick look, `SonarQube` reporter only needs the expression for failed assertions.\r\n\r\nAll in all, I think the solution here is to extend `ReporterPreferences` with more members -- one for whether successful assertion's expansion will be used, and one for whether unsuccessful assertion's expansion will be used.\r\n\r\nAs for the duration reported, ðŸ¤·. I think there is an argument to be made for both behaviours, that is, reporting _total_ time used up by running that test, even though a lot of the time was taken up by \"reporter's\" overhead, or reporting time taken up only by code under test. I do not claim to understand JUnit format enough to know which one is preferred there.\r\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/647122163/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3465474474,"node_id":"MDEyOkxhYmVsZWRFdmVudDM0NjU0NzQ0NzQ=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/3465474474","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-06-21T12:33:15Z","label":{"name":"Tweak request","color":"c2e0c6"},"performed_via_github_app":null},{"id":3996784673,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDM5OTY3ODQ2NzM=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/3996784673","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2020-11-14T21:39:54Z","milestone":{"title":"3.0"},"performed_via_github_app":null},{"id":5613643921,"node_id":"REFE_lADOABA2rM4mS8BczwAAAAFOmWiR","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/5613643921","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"df96a8cc340631484f219b9f349da9f633dc09ce","commit_url":"https://api.github.com/repos/catchorg/Catch2/commits/df96a8cc340631484f219b9f349da9f633dc09ce","created_at":"2021-11-13T23:14:07Z","performed_via_github_app":null},{"id":5614109606,"node_id":"REFE_lADOABA2rM4mS8BczwAAAAFOoIOm","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/5614109606","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0c9fe16537cdda0deecf9a6d788358c380b9e174","commit_url":"https://api.github.com/repos/catchorg/Catch2/commits/0c9fe16537cdda0deecf9a6d788358c380b9e174","created_at":"2021-11-14T10:42:20Z","performed_via_github_app":null},{"id":5614286426,"node_id":"CE_lADOABA2rM4mS8BczwAAAAFOozZa","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/5614286426","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"0c9fe16537cdda0deecf9a6d788358c380b9e174","commit_url":"https://api.github.com/repos/catchorg/Catch2/commits/0c9fe16537cdda0deecf9a6d788358c380b9e174","created_at":"2021-11-14T13:42:28Z","state_reason":null,"performed_via_github_app":null}]