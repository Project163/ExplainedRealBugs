[{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/693432310","html_url":"https://github.com/catchorg/Catch2/issues/2025#issuecomment-693432310","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/2025","id":693432310,"node_id":"MDEyOklzc3VlQ29tbWVudDY5MzQzMjMxMA==","user":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-16T14:10:58Z","updated_at":"2020-09-16T14:10:58Z","body":"Definitely a bug, I will have to see how hard it turns out to fix.\r\n\r\nOut of curiosity, does this also reproduce with versions before v2.12.3? (So e.g. 2.12.2)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/693432310/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3773410533,"node_id":"MDEyOkxhYmVsZWRFdmVudDM3NzM0MTA1MzM=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/3773410533","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-09-16T14:11:08Z","label":{"name":"Serious bug","color":"b60205"},"performed_via_github_app":null},{"actor":{"login":"Aivean","id":2865203,"node_id":"MDQ6VXNlcjI4NjUyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/2865203?v=4","gravatar_id":"","url":"https://api.github.com/users/Aivean","html_url":"https://github.com/Aivean","followers_url":"https://api.github.com/users/Aivean/followers","following_url":"https://api.github.com/users/Aivean/following{/other_user}","gists_url":"https://api.github.com/users/Aivean/gists{/gist_id}","starred_url":"https://api.github.com/users/Aivean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aivean/subscriptions","organizations_url":"https://api.github.com/users/Aivean/orgs","repos_url":"https://api.github.com/users/Aivean/repos","events_url":"https://api.github.com/users/Aivean/events{/privacy}","received_events_url":"https://api.github.com/users/Aivean/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-17T05:39:54Z","updated_at":"2020-09-17T05:39:54Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues/44216","repository_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA","labels_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues/44216/labels{/name}","comments_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues/44216/comments","events_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues/44216/events","html_url":"https://github.com/CleverRaven/Cataclysm-DDA/pull/44216","id":703283557,"node_id":"MDExOlB1bGxSZXF1ZXN0NDg4NDE4Mjg3","number":44216,"title":"Refactored vision_test for extensibility","user":{"login":"Aivean","id":2865203,"node_id":"MDQ6VXNlcjI4NjUyMDM=","avatar_url":"https://avatars.githubusercontent.com/u/2865203?v=4","gravatar_id":"","url":"https://api.github.com/users/Aivean","html_url":"https://github.com/Aivean","followers_url":"https://api.github.com/users/Aivean/followers","following_url":"https://api.github.com/users/Aivean/following{/other_user}","gists_url":"https://api.github.com/users/Aivean/gists{/gist_id}","starred_url":"https://api.github.com/users/Aivean/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Aivean/subscriptions","organizations_url":"https://api.github.com/users/Aivean/orgs","repos_url":"https://api.github.com/users/Aivean/repos","events_url":"https://api.github.com/users/Aivean/events{/privacy}","received_events_url":"https://api.github.com/users/Aivean/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":659364000,"node_id":"MDU6TGFiZWw2NTkzNjQwMDA=","url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/labels/Code:%20Tests","name":"Code: Tests","color":"6f12cc","default":false,"description":"Measurement, self-control, statistics, balancing."},{"id":659366627,"node_id":"MDU6TGFiZWw2NTkzNjY2Mjc=","url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/labels/[C++]","name":"[C++]","color":"f9d0c4","default":false,"description":"Changes (can be) made in C++. Previously named `Code`"},{"id":887839346,"node_id":"MDU6TGFiZWw4ODc4MzkzNDY=","url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/labels/Code:%20Infrastructure%20/%20Style%20/%20Static%20Analysis","name":"Code: Infrastructure / Style / Static Analysis","color":"cc126f","default":false,"description":"Code internal infrastructure and style"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2020-09-17T05:39:53Z","updated_at":"2020-11-08T00:31:28Z","closed_at":"2020-10-02T10:01:45Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":5973855,"node_id":"MDEwOlJlcG9zaXRvcnk1OTczODU1","name":"Cataclysm-DDA","full_name":"CleverRaven/Cataclysm-DDA","private":false,"owner":{"login":"CleverRaven","id":4367009,"node_id":"MDEyOk9yZ2FuaXphdGlvbjQzNjcwMDk=","avatar_url":"https://avatars.githubusercontent.com/u/4367009?v=4","gravatar_id":"","url":"https://api.github.com/users/CleverRaven","html_url":"https://github.com/CleverRaven","followers_url":"https://api.github.com/users/CleverRaven/followers","following_url":"https://api.github.com/users/CleverRaven/following{/other_user}","gists_url":"https://api.github.com/users/CleverRaven/gists{/gist_id}","starred_url":"https://api.github.com/users/CleverRaven/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CleverRaven/subscriptions","organizations_url":"https://api.github.com/users/CleverRaven/orgs","repos_url":"https://api.github.com/users/CleverRaven/repos","events_url":"https://api.github.com/users/CleverRaven/events{/privacy}","received_events_url":"https://api.github.com/users/CleverRaven/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/CleverRaven/Cataclysm-DDA","description":"Cataclysm - Dark Days Ahead. A turn-based survival game set in a post-apocalyptic world.","fork":false,"url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA","forks_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/forks","keys_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/keys{/key_id}","collaborators_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/teams","hooks_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/hooks","issue_events_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues/events{/number}","events_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/events","assignees_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/assignees{/user}","branches_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/branches{/branch}","tags_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/tags","blobs_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/git/refs{/sha}","trees_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/git/trees{/sha}","statuses_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/statuses/{sha}","languages_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/languages","stargazers_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/stargazers","contributors_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/contributors","subscribers_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/subscribers","subscription_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/subscription","commits_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/commits{/sha}","git_commits_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/git/commits{/sha}","comments_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/comments{/number}","issue_comment_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues/comments{/number}","contents_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/contents/{+path}","compare_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/compare/{base}...{head}","merges_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/merges","archive_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/downloads","issues_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues{/number}","pulls_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/pulls{/number}","milestones_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/milestones{/number}","notifications_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/labels{/name}","releases_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/releases{/id}","deployments_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/deployments","created_at":"2012-09-26T22:57:43Z","updated_at":"2025-11-10T01:38:10Z","pushed_at":"2025-11-10T01:38:26Z","git_url":"git://github.com/CleverRaven/Cataclysm-DDA.git","ssh_url":"git@github.com:CleverRaven/Cataclysm-DDA.git","clone_url":"https://github.com/CleverRaven/Cataclysm-DDA.git","svn_url":"https://github.com/CleverRaven/Cataclysm-DDA","homepage":"http://cataclysmdda.org","size":12422397,"stargazers_count":11727,"watchers_count":11727,"language":"C++","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":true,"has_discussions":true,"forks_count":4392,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2615,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["c-plus-plus","cataclysm","game","hacktoberfest","zombies"],"visibility":"public","forks":4392,"open_issues":2615,"watchers":11727,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/pulls/44216","html_url":"https://github.com/CleverRaven/Cataclysm-DDA/pull/44216","diff_url":"https://github.com/CleverRaven/Cataclysm-DDA/pull/44216.diff","patch_url":"https://github.com/CleverRaven/Cataclysm-DDA/pull/44216.patch","merged_at":"2020-10-02T10:01:44Z"},"body":"#### Summary\r\n\r\nSUMMARY: Infrastructure \"Refactored vision_test. Introduced map_test_case framework to build similar tests easier.\"\r\n\r\n#### Purpose of change\r\n\r\n[I was asked to add unit tests](https://github.com/CleverRaven/Cataclysm-DDA/pull/44093#issuecomment-691372286) for #44093  and #44068. \r\n\r\nWhen I was looking at reusing `vision_test.cpp` for this purpose I notices several issues with it:\r\n*  it was not extensible, all setup symbols and flags were hardcoded and shared among all tests\r\n* it was not reusable. To reuse parts of its infrastructure code they would have to be copy-pasted or extracted into separate methods\r\n* the execution flow of the test was somewhat complicated (multiple nested function calls) and long method that does everything\r\n* did not support dynamic behavior in tests\r\n\r\n\r\n#### Describe the solution\r\n\r\nMy primary goal was to improve extensibility and reusability of different parts of `vision_test.cpp`.\r\n\r\nI started by extracting common methods from `vision_test.cpp` and at some point noticed that I can extract the whole \"framework\" that is responsible for setting up map from 2d arrays of chars.\r\n\r\nSo, I've done the following:\r\n* [extracted `map_test_case` \"framework\"](https://github.com/CleverRaven/Cataclysm-DDA/compare/master...Aivean:map-test-case?expand=1#diff-24530a7a5c301730d7be09412f438806R36) whose sole responsibility is mapping input 2d char arrays to real map coordinates. I also added a couple of unit tests to test the framework itself\r\n* [extracted debug printers](https://github.com/CleverRaven/Cataclysm-DDA/compare/master...Aivean:map-test-case?expand=1#diff-363b1430a4c75439d72d59007d4353ceR225) that print tables of information about the state of different map caches\r\n* switched generation of different combinations of transformations [to `GENERATE` macro from Catch2](https://github.com/CleverRaven/Cataclysm-DDA/compare/master...Aivean:map-test-case?expand=1#diff-363b1430a4c75439d72d59007d4353ceR158)\r\n* regarding the `vision_test` itself, I tried to stay as non-invasive as possible (at least in terms of how tests look). So I mostly didn't touch `vision_test_case` class. What I did:\r\n   * I simplified the execution flow, which is now contained [in a single (â‰ˆone page long) method](https://github.com/CleverRaven/Cataclysm-DDA/compare/master...Aivean:map-test-case?expand=1#diff-538ba80a30994f8350634dde69a2b913R107), which is called directly from the tests\r\n  * consolidated flags a bit, made 'headlamp' a flag instead of another symbol, now symbols are responsible only for setting up map tiles, player character should be altered via flags\r\n  * added another test case for #44112 (with the real thick smoke field instead of walls), which also demonstrates how to override [input symbol behavior](https://github.com/CleverRaven/Cataclysm-DDA/compare/master...Aivean:map-test-case?expand=1#diff-538ba80a30994f8350634dde69a2b913R405)\r\n\r\n\r\nCurrently it should be possible to create a new test (for example, transparency test, or seen cache invalidation), by copying relevant parts from [`test_all` method](https://github.com/CleverRaven/Cataclysm-DDA/compare/master...Aivean:map-test-case?expand=1#diff-538ba80a30994f8350634dde69a2b913R107). It can have completely independent setup, main body (which can have multiple stages)  and checks.\r\n\r\n\r\n#### Describe alternatives you've considered\r\n\r\nI could've just hardcoded more behavior into the old `full_map_test` method. But I figured I'd better invest more time to improve things.\r\n\r\n#### Testing\r\n\r\nI [added unit tests](https://github.com/CleverRaven/Cataclysm-DDA/compare/master...Aivean:map-test-case?expand=1#diff-363b1430a4c75439d72d59007d4353ceR294) that test the new extracted framework. Additionally, I ensured that vision tests work as before, i.e. all transformations are checked and tests fail if inconsistency is detected (for that I manually altered test setting).\r\n\r\n\r\n#### Additional context\r\n\r\n\r\nWith all the changes (which were not geared towards performance) I wanted to ensure that performance is still acceptable. So I did some profiling (here's a snapshot of vision tests):\r\n![image](https://user-images.githubusercontent.com/2865203/93423390-afed2e80-f86a-11ea-94d6-d575b790a66c.png)\r\nIt's clear that framework and test code has negligible performance impact compared to building game caches.\r\n\r\nSide bonus, I used `SECTION` macro with dynamic name inside the vision test, so now it's visible which transformations were run:\r\n```\r\n...\r\n0.010 s: 2d_casting__\r\n0.055 s: vision_daylight\r\n0.010 s: 2d_casting____reflect_y\r\n0.047 s: vision_daylight\r\n0.010 s: 2d_casting____reflect_x\r\n0.047 s: vision_daylight\r\n0.010 s: 2d_casting____reflect_x__reflect_y\r\n0.047 s: vision_daylight\r\n0.010 s: 2d_casting____transpose\r\n0.046 s: vision_daylight\r\n0.010 s: 2d_casting____transpose__reflect_y\r\n0.046 s: vision_daylight\r\n0.009 s: 2d_casting____transpose__reflect_x\r\n0.046 s: vision_daylight\r\n0.009 s: 2d_casting____transpose__reflect_x__reflect_y\r\n0.046 s: vision_daylight\r\n0.013 s: 3d_casting__\r\n0.049 s: vision_daylight\r\n0.013 s: 3d_casting____reflect_y\r\n0.050 s: vision_daylight\r\n0.013 s: 3d_casting____reflect_x\r\n0.052 s: vision_daylight\r\n0.013 s: 3d_casting____reflect_x__reflect_y\r\n0.052 s: vision_daylight\r\n0.013 s: 3d_casting____transpose\r\n0.052 s: vision_daylight\r\n0.014 s: 3d_casting____transpose__reflect_y\r\n...\r\n```\r\n\r\nAlso it should be possible to filter tests execution by specific section (transformation combo), but currently [the Catch2 bug prevents that](https://github.com/catchorg/Catch2/issues/2025).","reactions":{"url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues/44216/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":2,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/CleverRaven/Cataclysm-DDA/issues/44216/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/694913698","html_url":"https://github.com/catchorg/Catch2/issues/2025#issuecomment-694913698","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/2025","id":694913698,"node_id":"MDEyOklzc3VlQ29tbWVudDY5NDkxMzY5OA==","user":{"login":"jslap","id":5726520,"node_id":"MDQ6VXNlcjU3MjY1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/5726520?v=4","gravatar_id":"","url":"https://api.github.com/users/jslap","html_url":"https://github.com/jslap","followers_url":"https://api.github.com/users/jslap/followers","following_url":"https://api.github.com/users/jslap/following{/other_user}","gists_url":"https://api.github.com/users/jslap/gists{/gist_id}","starred_url":"https://api.github.com/users/jslap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jslap/subscriptions","organizations_url":"https://api.github.com/users/jslap/orgs","repos_url":"https://api.github.com/users/jslap/repos","events_url":"https://api.github.com/users/jslap/events{/privacy}","received_events_url":"https://api.github.com/users/jslap/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-18T14:49:37Z","updated_at":"2020-09-18T14:49:37Z","body":"I have the same kind of issue, but I do not need dynamic section.\r\nWhen run with ` -c \"Check cursor from buffer offset.\" -c \"When: Buffer position is 8\"`\r\nI have an infinite loop on 2.13.\r\nAnd it works fine on 2.12.2\r\n\r\n```\r\n#define CATCH_CONFIG_MAIN  // This tells Catch to provide a main() - only do this in one cpp file\r\n#include \"catch.hpp\"\r\n\r\n#include <iostream>\r\n\r\n\r\n\r\nTEST_CASE( \"Empty App\", \"[app]\" ) {\r\n    SECTION(\"Check cursor from buffer offset.\")\r\n    {\r\n\r\n        int bigFileLength = 44;\r\n        auto bufPos = GENERATE_REF(range(0, bigFileLength));\r\n        {\r\n            std::cout << \"YOYO : \" << bufPos << \"\\n\";\r\n            WHEN(\"Buffer position is \" << bufPos)\r\n            {\r\n                REQUIRE(1 == 1);\r\n            }\r\n        }\r\n\r\n    }\r\n\r\n}\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/694913698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jslap","id":5726520,"node_id":"MDQ6VXNlcjU3MjY1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/5726520?v=4","gravatar_id":"","url":"https://api.github.com/users/jslap","html_url":"https://github.com/jslap","followers_url":"https://api.github.com/users/jslap/followers","following_url":"https://api.github.com/users/jslap/following{/other_user}","gists_url":"https://api.github.com/users/jslap/gists{/gist_id}","starred_url":"https://api.github.com/users/jslap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jslap/subscriptions","organizations_url":"https://api.github.com/users/jslap/orgs","repos_url":"https://api.github.com/users/jslap/repos","events_url":"https://api.github.com/users/jslap/events{/privacy}","received_events_url":"https://api.github.com/users/jslap/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/701481593","html_url":"https://github.com/catchorg/Catch2/issues/2025#issuecomment-701481593","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/2025","id":701481593,"node_id":"MDEyOklzc3VlQ29tbWVudDcwMTQ4MTU5Mw==","user":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-09-30T15:54:56Z","updated_at":"2020-09-30T15:54:56Z","body":"@jslap Thanks, the fact that 2.13 is what broke it is very useful information.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/701481593/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3825256480,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50MzgyNTI1NjQ4MA==","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/3825256480","actor":{"login":"jslap","id":5726520,"node_id":"MDQ6VXNlcjU3MjY1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/5726520?v=4","gravatar_id":"","url":"https://api.github.com/users/jslap","html_url":"https://github.com/jslap","followers_url":"https://api.github.com/users/jslap/followers","following_url":"https://api.github.com/users/jslap/following{/other_user}","gists_url":"https://api.github.com/users/jslap/gists{/gist_id}","starred_url":"https://api.github.com/users/jslap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jslap/subscriptions","organizations_url":"https://api.github.com/users/jslap/orgs","repos_url":"https://api.github.com/users/jslap/repos","events_url":"https://api.github.com/users/jslap/events{/privacy}","received_events_url":"https://api.github.com/users/jslap/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2020-09-30T15:54:56Z","performed_via_github_app":null},{"id":3825256484,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDM4MjUyNTY0ODQ=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/3825256484","actor":{"login":"jslap","id":5726520,"node_id":"MDQ6VXNlcjU3MjY1MjA=","avatar_url":"https://avatars.githubusercontent.com/u/5726520?v=4","gravatar_id":"","url":"https://api.github.com/users/jslap","html_url":"https://github.com/jslap","followers_url":"https://api.github.com/users/jslap/followers","following_url":"https://api.github.com/users/jslap/following{/other_user}","gists_url":"https://api.github.com/users/jslap/gists{/gist_id}","starred_url":"https://api.github.com/users/jslap/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jslap/subscriptions","organizations_url":"https://api.github.com/users/jslap/orgs","repos_url":"https://api.github.com/users/jslap/repos","events_url":"https://api.github.com/users/jslap/events{/privacy}","received_events_url":"https://api.github.com/users/jslap/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2020-09-30T15:54:56Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/713804042","html_url":"https://github.com/catchorg/Catch2/issues/2025#issuecomment-713804042","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/2025","id":713804042,"node_id":"MDEyOklzc3VlQ29tbWVudDcxMzgwNDA0Mg==","user":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-21T18:57:12Z","updated_at":"2020-10-21T18:57:12Z","body":"Okay, found the bug. It is about interaction of generators and section filters -- it boils down to the generator tracker seeing an unvisited section underneath it, and decides that it needs to run again, so that it can be visited. However, it is not aware of section filters, so it doesn't know that the section can never be visited.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/713804042/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/714399428","html_url":"https://github.com/catchorg/Catch2/issues/2025#issuecomment-714399428","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/2025","id":714399428,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNDM5OTQyOA==","user":{"login":"dadocolussi","id":433613,"node_id":"MDQ6VXNlcjQzMzYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/433613?v=4","gravatar_id":"","url":"https://api.github.com/users/dadocolussi","html_url":"https://github.com/dadocolussi","followers_url":"https://api.github.com/users/dadocolussi/followers","following_url":"https://api.github.com/users/dadocolussi/following{/other_user}","gists_url":"https://api.github.com/users/dadocolussi/gists{/gist_id}","starred_url":"https://api.github.com/users/dadocolussi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadocolussi/subscriptions","organizations_url":"https://api.github.com/users/dadocolussi/orgs","repos_url":"https://api.github.com/users/dadocolussi/repos","events_url":"https://api.github.com/users/dadocolussi/events{/privacy}","received_events_url":"https://api.github.com/users/dadocolussi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-22T10:31:47Z","updated_at":"2020-10-22T10:31:47Z","body":"I got curious about this issue, and I came up with a fix:\r\n```\r\nvoid SectionTracker::tryOpen() {\r\n    if( !isComplete() )\r\n        open();\r\n    else if ( m_runState == NotStarted )\r\n        m_runState = CompletedSuccessfully;\r\n}\r\n```\r\nAny attempt to open a section that leaves it in NotStarted state would immediately complete the section, which has the effect of letting the generator proceed. I haven't found a scenario where this would produce unexpected results.\r\n\r\nAll tests pass, but I'm nevertheless quite unsure whether this is an appropriate fix. Just my two cents.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/714399428/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"dadocolussi","id":433613,"node_id":"MDQ6VXNlcjQzMzYxMw==","avatar_url":"https://avatars.githubusercontent.com/u/433613?v=4","gravatar_id":"","url":"https://api.github.com/users/dadocolussi","html_url":"https://github.com/dadocolussi","followers_url":"https://api.github.com/users/dadocolussi/followers","following_url":"https://api.github.com/users/dadocolussi/following{/other_user}","gists_url":"https://api.github.com/users/dadocolussi/gists{/gist_id}","starred_url":"https://api.github.com/users/dadocolussi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dadocolussi/subscriptions","organizations_url":"https://api.github.com/users/dadocolussi/orgs","repos_url":"https://api.github.com/users/dadocolussi/repos","events_url":"https://api.github.com/users/dadocolussi/events{/privacy}","received_events_url":"https://api.github.com/users/dadocolussi/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/715349855","html_url":"https://github.com/catchorg/Catch2/issues/2025#issuecomment-715349855","issue_url":"https://api.github.com/repos/catchorg/Catch2/issues/2025","id":715349855,"node_id":"MDEyOklzc3VlQ29tbWVudDcxNTM0OTg1NQ==","user":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-10-23T13:43:44Z","updated_at":"2020-10-23T13:43:44Z","body":"I will keep that possibility in mind, but I was bitten by these quick fixes to tracking before, so I would rather make a proper one.\r\n\r\n\r\nAlso I have it working locally, I just need to clean up the code and make an automatic test.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/comments/715349855/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":3915375605,"node_id":"MDExOkNsb3NlZEV2ZW50MzkxNTM3NTYwNQ==","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/3915375605","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"4c8454b5ecfc744a85cac57cf96b8de078e26db5","commit_url":"https://api.github.com/repos/catchorg/Catch2/commits/4c8454b5ecfc744a85cac57cf96b8de078e26db5","created_at":"2020-10-23T19:21:47Z","state_reason":null,"performed_via_github_app":null},{"id":3944329950,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDM5NDQzMjk5NTA=","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/3944329950","actor":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"765ac08f0811f3a9d2cd6d3bdaa6cbe457457adc","commit_url":"https://api.github.com/repos/catchorg/Catch2/commits/765ac08f0811f3a9d2cd6d3bdaa6cbe457457adc","created_at":"2020-10-31T17:24:21Z","performed_via_github_app":null},{"actor":{"login":"ptc-dshakir","id":64840578,"node_id":"MDQ6VXNlcjY0ODQwNTc4","avatar_url":"https://avatars.githubusercontent.com/u/64840578?v=4","gravatar_id":"","url":"https://api.github.com/users/ptc-dshakir","html_url":"https://github.com/ptc-dshakir","followers_url":"https://api.github.com/users/ptc-dshakir/followers","following_url":"https://api.github.com/users/ptc-dshakir/following{/other_user}","gists_url":"https://api.github.com/users/ptc-dshakir/gists{/gist_id}","starred_url":"https://api.github.com/users/ptc-dshakir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptc-dshakir/subscriptions","organizations_url":"https://api.github.com/users/ptc-dshakir/orgs","repos_url":"https://api.github.com/users/ptc-dshakir/repos","events_url":"https://api.github.com/users/ptc-dshakir/events{/privacy}","received_events_url":"https://api.github.com/users/ptc-dshakir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-08-21T08:41:39Z","updated_at":"2023-08-21T08:41:39Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/2734","repository_url":"https://api.github.com/repos/catchorg/Catch2","labels_url":"https://api.github.com/repos/catchorg/Catch2/issues/2734/labels{/name}","comments_url":"https://api.github.com/repos/catchorg/Catch2/issues/2734/comments","events_url":"https://api.github.com/repos/catchorg/Catch2/issues/2734/events","html_url":"https://github.com/catchorg/Catch2/issues/2734","id":1858894336,"node_id":"I_kwDOABA2rM5uzHoA","number":2734,"title":"Nested GENERATEs cause Catch2 to loop indefinitely","user":{"login":"ptc-dshakir","id":64840578,"node_id":"MDQ6VXNlcjY0ODQwNTc4","avatar_url":"https://avatars.githubusercontent.com/u/64840578?v=4","gravatar_id":"","url":"https://api.github.com/users/ptc-dshakir","html_url":"https://github.com/ptc-dshakir","followers_url":"https://api.github.com/users/ptc-dshakir/followers","following_url":"https://api.github.com/users/ptc-dshakir/following{/other_user}","gists_url":"https://api.github.com/users/ptc-dshakir/gists{/gist_id}","starred_url":"https://api.github.com/users/ptc-dshakir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ptc-dshakir/subscriptions","organizations_url":"https://api.github.com/users/ptc-dshakir/orgs","repos_url":"https://api.github.com/users/ptc-dshakir/repos","events_url":"https://api.github.com/users/ptc-dshakir/events{/privacy}","received_events_url":"https://api.github.com/users/ptc-dshakir/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2023-08-21T08:41:38Z","updated_at":"2025-07-12T21:19:43Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":1062572,"node_id":"MDEwOlJlcG9zaXRvcnkxMDYyNTcy","name":"Catch2","full_name":"catchorg/Catch2","private":false,"owner":{"login":"catchorg","id":33321405,"node_id":"MDEyOk9yZ2FuaXphdGlvbjMzMzIxNDA1","avatar_url":"https://avatars.githubusercontent.com/u/33321405?v=4","gravatar_id":"","url":"https://api.github.com/users/catchorg","html_url":"https://github.com/catchorg","followers_url":"https://api.github.com/users/catchorg/followers","following_url":"https://api.github.com/users/catchorg/following{/other_user}","gists_url":"https://api.github.com/users/catchorg/gists{/gist_id}","starred_url":"https://api.github.com/users/catchorg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/catchorg/subscriptions","organizations_url":"https://api.github.com/users/catchorg/orgs","repos_url":"https://api.github.com/users/catchorg/repos","events_url":"https://api.github.com/users/catchorg/events{/privacy}","received_events_url":"https://api.github.com/users/catchorg/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/catchorg/Catch2","description":"A modern, C++-native, test framework for unit-tests, TDD and BDD - using C++14, C++17 and later (C++11 support is in v2.x branch, and C++03 on the Catch1.x branch)","fork":false,"url":"https://api.github.com/repos/catchorg/Catch2","forks_url":"https://api.github.com/repos/catchorg/Catch2/forks","keys_url":"https://api.github.com/repos/catchorg/Catch2/keys{/key_id}","collaborators_url":"https://api.github.com/repos/catchorg/Catch2/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/catchorg/Catch2/teams","hooks_url":"https://api.github.com/repos/catchorg/Catch2/hooks","issue_events_url":"https://api.github.com/repos/catchorg/Catch2/issues/events{/number}","events_url":"https://api.github.com/repos/catchorg/Catch2/events","assignees_url":"https://api.github.com/repos/catchorg/Catch2/assignees{/user}","branches_url":"https://api.github.com/repos/catchorg/Catch2/branches{/branch}","tags_url":"https://api.github.com/repos/catchorg/Catch2/tags","blobs_url":"https://api.github.com/repos/catchorg/Catch2/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/catchorg/Catch2/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/catchorg/Catch2/git/refs{/sha}","trees_url":"https://api.github.com/repos/catchorg/Catch2/git/trees{/sha}","statuses_url":"https://api.github.com/repos/catchorg/Catch2/statuses/{sha}","languages_url":"https://api.github.com/repos/catchorg/Catch2/languages","stargazers_url":"https://api.github.com/repos/catchorg/Catch2/stargazers","contributors_url":"https://api.github.com/repos/catchorg/Catch2/contributors","subscribers_url":"https://api.github.com/repos/catchorg/Catch2/subscribers","subscription_url":"https://api.github.com/repos/catchorg/Catch2/subscription","commits_url":"https://api.github.com/repos/catchorg/Catch2/commits{/sha}","git_commits_url":"https://api.github.com/repos/catchorg/Catch2/git/commits{/sha}","comments_url":"https://api.github.com/repos/catchorg/Catch2/comments{/number}","issue_comment_url":"https://api.github.com/repos/catchorg/Catch2/issues/comments{/number}","contents_url":"https://api.github.com/repos/catchorg/Catch2/contents/{+path}","compare_url":"https://api.github.com/repos/catchorg/Catch2/compare/{base}...{head}","merges_url":"https://api.github.com/repos/catchorg/Catch2/merges","archive_url":"https://api.github.com/repos/catchorg/Catch2/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/catchorg/Catch2/downloads","issues_url":"https://api.github.com/repos/catchorg/Catch2/issues{/number}","pulls_url":"https://api.github.com/repos/catchorg/Catch2/pulls{/number}","milestones_url":"https://api.github.com/repos/catchorg/Catch2/milestones{/number}","notifications_url":"https://api.github.com/repos/catchorg/Catch2/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/catchorg/Catch2/labels{/name}","releases_url":"https://api.github.com/repos/catchorg/Catch2/releases{/id}","deployments_url":"https://api.github.com/repos/catchorg/Catch2/deployments","created_at":"2010-11-08T18:22:56Z","updated_at":"2025-11-09T16:52:13Z","pushed_at":"2025-11-09T22:14:04Z","git_url":"git://github.com/catchorg/Catch2.git","ssh_url":"git@github.com:catchorg/Catch2.git","clone_url":"https://github.com/catchorg/Catch2.git","svn_url":"https://github.com/catchorg/Catch2","homepage":"https://discord.gg/4CWS9zD","size":29422,"stargazers_count":19944,"watchers_count":19944,"language":"C++","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":3165,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":415,"license":{"key":"bsl-1.0","name":"Boost Software License 1.0","spdx_id":"BSL-1.0","url":"https://api.github.com/licenses/bsl-1.0","node_id":"MDc6TGljZW5zZTI4"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["bdd","cpp","cpp14","framework","no-dependencies","tdd","test-framework","testing"],"visibility":"public","forks":3165,"open_issues":415,"watchers":19944,"default_branch":"devel","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"**Describe the bug**\r\nUsing nested `GENERATE`s inside a `SECTION` together with raw values causes Catch2 to loop indefinitely.\r\n\r\n**Expected behavior**\r\nCatch2 should finish without going into an infinite loop.\r\n\r\nTo be fair, I'm not sure whether this is a supported use case. Perhaps nested GENERATE statements are not supported, or perhaps we are nesting them incorrectly. I haven't been able to find any explicit documentation about this, but if I've missed something, please refer me to it.\r\n\r\n**Reproduction steps**\r\nI've managed to reproduce this using the following minimal example:\r\n```cpp\r\n#include <catch_amalgamated.hpp>\r\n\r\n\r\nTEST_CASE(\"Explicitly nested GENERATEs\", \"[explicit][infinite]\")\r\n{\r\n    SECTION(\"Inside section 1\")\r\n    {\r\n        SECTION(\"Inside section 2\")\r\n        {\r\n            const auto& [str1, str2] = GENERATE(table<std::string, std::string>({\r\n                { \"myStr0.1\", \"myStr0.2\" }, // Removing this line lets Catch2 finish\r\n                { GENERATE(\"myStr1.1\", \"myStr1.2\"), \"myStr2.1\" }\r\n            }));\r\n            CHECK(str1 == \"myStr1.1\");\r\n        }\r\n    }\r\n}\r\n\r\n\r\nTEST_CASE(\"Implicitly nested GENERATEs with copy\", \"[implicit][copy][fine]\")\r\n{\r\n    const auto& myStr1 = GENERATE(\"myStr1.1\", \"myStr1.2\");\r\n    const auto& [str1, str2] = GENERATE_COPY(table<std::string, std::string>({\r\n        { \"myStr0.1\", \"myStr0.2\" },\r\n        { myStr1, \"myStr2.1\" }\r\n    }));\r\n    CHECK(str1 == \"myStr1.1\");\r\n}\r\n\r\n\r\nTEST_CASE(\"Implicitly nested GENERATEs with ref\", \"[implicit][ref][fine]\")\r\n{\r\n    const auto& myStr1 = GENERATE(\"myStr1.1\", \"myStr1.2\");\r\n    const auto& [str1, str2] = GENERATE_REF(table<std::string, std::string>({\r\n        { \"myStr0.1\", \"myStr0.2\" },\r\n        { myStr1, \"myStr2.1\" }\r\n    }));\r\n    CHECK(str1 == \"myStr1.1\");\r\n}\r\n\r\n\r\nTEST_CASE(\"No nested GENERATEs\", \"[fine]\")\r\n{\r\n    const auto& [str1, str2] = GENERATE(table<std::string, std::string>({\r\n        { \"myStr1.1\", \"myStr2.1\" },\r\n        { \"myStr1.2\", \"myStr2.1\" }\r\n    }));\r\n    CHECK(str1 == \"myStr1.1\");\r\n}\r\n```\r\n\r\nI'm compiling the code using:\r\n```shell\r\nclang++ infinitegenerate.cpp <path-to-catch2-srcs>/catch_amalgamated.cpp <path-to-catch2-srcs>/catch_amalgamated.hpp -I<path-to-catch2-srcs> -std=c++17\r\n```\r\n\r\nThe `[fine]` test cases finish normally. The `[infinite]` test case seems to run indefinitely, i.e. just keeps printing:\r\n```shell\r\n-------------------------------------------------------------------------------\r\nExplicitly nested GENERATEs\r\n  Inside section 1\r\n  Inside section 2\r\n-------------------------------------------------------------------------------\r\ninfinitegenerate.cpp:8\r\n...............................................................................\r\n\r\ninfinitegenerate.cpp:14: FAILED:\r\n  CHECK( str1 == \"myStr1.1\" )\r\nwith expansion:\r\n  \"myStr0.1\" == \"myStr1.1\"\r\n```\r\n\r\n**Please note that I've indicated a line within this test case, which, if removed, the test case runs fine.**\r\n\r\n\r\n\r\n**Platform information:**\r\n<!-- Fill in any extra information that might be important for your issue. -->\r\n - OS: **macOS 13.4.1**\r\n - Compiler+version: **Clang v14.0.0**\r\n - Catch version: **v3.4.0**\r\n\r\n\r\n**Additional context**\r\nIt's worth noting that we haven't observed this issue when using the same code with **Catch2 v2.13.10**.\r\n\r\nI've found the following old bug, which seems to be talking about a similar issue: https://github.com/catchorg/Catch2/issues/2025 Not sure it's related, though, as it was fixed quite a while ago.\r\n","reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/2734/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catchorg/Catch2/issues/2734/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":11664027113,"node_id":"REFE_lADOABA2rM4p3VGBzwAAAAK3Ou3p","url":"https://api.github.com/repos/catchorg/Catch2/issues/events/11664027113","actor":{"login":"LinuxDevon","id":16966205,"node_id":"MDQ6VXNlcjE2OTY2MjA1","avatar_url":"https://avatars.githubusercontent.com/u/16966205?v=4","gravatar_id":"","url":"https://api.github.com/users/LinuxDevon","html_url":"https://github.com/LinuxDevon","followers_url":"https://api.github.com/users/LinuxDevon/followers","following_url":"https://api.github.com/users/LinuxDevon/following{/other_user}","gists_url":"https://api.github.com/users/LinuxDevon/gists{/gist_id}","starred_url":"https://api.github.com/users/LinuxDevon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LinuxDevon/subscriptions","organizations_url":"https://api.github.com/users/LinuxDevon/orgs","repos_url":"https://api.github.com/users/LinuxDevon/repos","events_url":"https://api.github.com/users/LinuxDevon/events{/privacy}","received_events_url":"https://api.github.com/users/LinuxDevon/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4c8454b5ecfc744a85cac57cf96b8de078e26db5","commit_url":"https://api.github.com/repos/LinuxDevon/Catch2/commits/4c8454b5ecfc744a85cac57cf96b8de078e26db5","created_at":"2024-02-01T03:24:29Z","performed_via_github_app":null}]