{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1760","repository_url":"https://api.github.com/repos/catchorg/Catch2","labels_url":"https://api.github.com/repos/catchorg/Catch2/issues/1760/labels{/name}","comments_url":"https://api.github.com/repos/catchorg/Catch2/issues/1760/comments","events_url":"https://api.github.com/repos/catchorg/Catch2/issues/1760/events","html_url":"https://github.com/catchorg/Catch2/issues/1760","id":498275593,"node_id":"MDU6SXNzdWU0OTgyNzU1OTM=","number":1760,"title":"Print an even more meaningful message if WithinULP fails","user":{"login":"cschwan","id":94436,"node_id":"MDQ6VXNlcjk0NDM2","avatar_url":"https://avatars.githubusercontent.com/u/94436?v=4","gravatar_id":"","url":"https://api.github.com/users/cschwan","html_url":"https://github.com/cschwan","followers_url":"https://api.github.com/users/cschwan/followers","following_url":"https://api.github.com/users/cschwan/following{/other_user}","gists_url":"https://api.github.com/users/cschwan/gists{/gist_id}","starred_url":"https://api.github.com/users/cschwan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cschwan/subscriptions","organizations_url":"https://api.github.com/users/cschwan/orgs","repos_url":"https://api.github.com/users/cschwan/repos","events_url":"https://api.github.com/users/cschwan/events{/privacy}","received_events_url":"https://api.github.com/users/cschwan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":513139480,"node_id":"MDU6TGFiZWw1MTMxMzk0ODA=","url":"https://api.github.com/repos/catchorg/Catch2/labels/Tweak%20request","name":"Tweak request","color":"c2e0c6","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-09-25T13:08:02Z","updated_at":"2019-10-20T10:34:14Z","closed_at":"2019-10-20T10:34:14Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Thank you very much for implementing #1581; this feature request is a follow up to it.\r\n\r\nThe problem that I still have is best illustrated using an example:\r\n\r\n    ../tests/regression_test_lusifer_psg_wz_scattering.cpp:65245: FAILED:\r\n      CHECK_THAT( d.at(j), Catch::WithinULP(densities.at(channel).at(j), 8) )\r\n    with expansion:                                                          \r\n      0.0 is within 8 ULPs of 0.0 ([0.00000000000000019, 0.00000000000000019])\r\n\r\nwhich obviously is still not very meaningful, because my numbers are very small, and therefore I still don't see the relevant digits that differ.\r\n\r\nSince it can happen in general, I think one should always print the numbers in scientific format instead (or check it the number is in the interval [0.1, 10), print it with the fixed format, else print it scientifically, but that's probably too complicated).\r\n\r\nNote that if you decide to print floating point numbers in the scientific format, you should set the precision to `max_digits - 1`, where the `-1` comes from the fact that the precision field changes its meaning to 'digits *after* the comma', see [my question on stackoverflow](https://stackoverflow.com/questions/48641876/why-does-scientific-change-the-meaning-of-precision), for example.","closed_by":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1760/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catchorg/Catch2/issues/1760/timeline","performed_via_github_app":null,"state_reason":"completed"}