{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1367","repository_url":"https://api.github.com/repos/catchorg/Catch2","labels_url":"https://api.github.com/repos/catchorg/Catch2/issues/1367/labels{/name}","comments_url":"https://api.github.com/repos/catchorg/Catch2/issues/1367/comments","events_url":"https://api.github.com/repos/catchorg/Catch2/issues/1367/events","html_url":"https://github.com/catchorg/Catch2/issues/1367","id":353855942,"node_id":"MDU6SXNzdWUzNTM4NTU5NDI=","number":1367,"title":"Undocumented Macros","user":{"login":"capsocrates","id":10004446,"node_id":"MDQ6VXNlcjEwMDA0NDQ2","avatar_url":"https://avatars.githubusercontent.com/u/10004446?v=4","gravatar_id":"","url":"https://api.github.com/users/capsocrates","html_url":"https://github.com/capsocrates","followers_url":"https://api.github.com/users/capsocrates/followers","following_url":"https://api.github.com/users/capsocrates/following{/other_user}","gists_url":"https://api.github.com/users/capsocrates/gists{/gist_id}","starred_url":"https://api.github.com/users/capsocrates/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/capsocrates/subscriptions","organizations_url":"https://api.github.com/users/capsocrates/orgs","repos_url":"https://api.github.com/users/capsocrates/repos","events_url":"https://api.github.com/users/capsocrates/events{/privacy}","received_events_url":"https://api.github.com/users/capsocrates/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":514097232,"node_id":"MDU6TGFiZWw1MTQwOTcyMzI=","url":"https://api.github.com/repos/catchorg/Catch2/labels/Documentation","name":"Documentation","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2018-08-24T16:50:12Z","updated_at":"2018-10-26T18:52:26Z","closed_at":"2018-10-26T18:52:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I was working on writing some thread-safe versions of the catch macros (see below) when I noticed several macros I had never seen before. I checked the docs to see what they do and I see that they're not documented. I would like to see some documentation about what they do. This seems like a win all around, since showing that the library has even more functionality make it more appealing, while current users are introduced to cool things they already have access to.\r\n\r\nHere are the macros I couldn't find documentation for:\r\n- `CHECKED_IF`\r\n- `CHECKED_ELSE`\r\n- `CHECK_NOFAIL`\r\n- `METHOD_AS_TEST_CASE`\r\n- `REGISTER_TEST_CASE`\r\n- `SUCCEED`\r\n- `ANON_TEST_CASE`\r\n- `DYNAMIC_SECTION`\r\n\r\nAs for my idea for thread-safe catch macros, it's something like this...\r\n\r\n```\r\nstd::mutex & GetCatchMutex() {\r\n    static std::mutex catchMutex;\r\n    return catchMutex;\r\n}\r\n\r\n#define TS_CORE(catchMacroWithExpression)\t\\\r\n{\t\\\r\n\tstd::lock_guard<std::mutex> guard{ GetCatchMutex() };\t\\\r\n\tcatchMacroWithExpression;\t\\\r\n}\r\n\r\n#define TS_REQUIRE(expression) TS_CORE(REQUIRE(expression));\r\n#define TS_REQUIRE_FALSE(expression) TS_CORE(REQUIRE_FALSE(expression));\r\n#define TS_REQUIRE_NOTHROW(expression) TS_CORE(REQUIRE_NOTHROW(expression));\r\n#define TS_REQUIRE_THROWS_AS(expression, exceptionType) TS_CORE(REQUIRE_THROWS_AS(expression, exceptionType));\r\n\r\n#define TS_CHECK(expression) TS_CORE(CHECK(expression));\r\n#define TS_CHECK_FALSE(expression) TS_CORE(CHECK_FALSE(expression));\r\n#define TS_CHECK_NOTHROW(expression) TS_CORE(CHECK_NOTHROW(expression));\r\n#define TS_CHECK_THROWS_AS(expression, exceptionType) TS_CORE(CHECK_THROWS_AS(expression, exceptionType));\r\n\r\n#define TS_INFO(msg) TS_CORE(INFO(msg));\r\n#define TS_WARNO(msg) TS_CORE(WARN(msg));\r\n#define TS_CAPTURE(msg) TS_CORE(CAPTURE(msg));\r\n\r\n#define TS_FAIL(msg) TS_CORE(FAIL(msg));\r\n#define TS_FAIL_CHECK(msg) TS_CORE(FAIL_CHECK(msg));\r\n#define TS_SUCCEED(msg) TS_CORE(SUCCEED(msg));\r\n```\r\n\r\nThis adds thread-safe versions of the macros on an opt-in basis. Something worth considering if thread-safe macros by default has been considered and rejected.","closed_by":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1367/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catchorg/Catch2/issues/1367/timeline","performed_via_github_app":null,"state_reason":"completed"}