{"url":"https://api.github.com/repos/catchorg/Catch2/issues/2431","repository_url":"https://api.github.com/repos/catchorg/Catch2","labels_url":"https://api.github.com/repos/catchorg/Catch2/issues/2431/labels{/name}","comments_url":"https://api.github.com/repos/catchorg/Catch2/issues/2431/comments","events_url":"https://api.github.com/repos/catchorg/Catch2/issues/2431/events","html_url":"https://github.com/catchorg/Catch2/issues/2431","id":1242255958,"node_id":"I_kwDOABA2rM5KC1JW","number":2431,"title":"Redefinition of macro CATCH_CONFIG_CONSOLE_WIDTH","user":{"login":"stephen-hqxu","id":77457215,"node_id":"MDQ6VXNlcjc3NDU3MjE1","avatar_url":"https://avatars.githubusercontent.com/u/77457215?v=4","gravatar_id":"","url":"https://api.github.com/users/stephen-hqxu","html_url":"https://github.com/stephen-hqxu","followers_url":"https://api.github.com/users/stephen-hqxu/followers","following_url":"https://api.github.com/users/stephen-hqxu/following{/other_user}","gists_url":"https://api.github.com/users/stephen-hqxu/gists{/gist_id}","starred_url":"https://api.github.com/users/stephen-hqxu/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stephen-hqxu/subscriptions","organizations_url":"https://api.github.com/users/stephen-hqxu/orgs","repos_url":"https://api.github.com/users/stephen-hqxu/repos","events_url":"https://api.github.com/users/stephen-hqxu/events{/privacy}","received_events_url":"https://api.github.com/users/stephen-hqxu/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":513091177,"node_id":"MDU6TGFiZWw1MTMwOTExNzc=","url":"https://api.github.com/repos/catchorg/Catch2/labels/Warnings%20issue","name":"Warnings issue","color":"f9d0c4","default":false,"description":null}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2022-05-19T19:57:16Z","updated_at":"2022-05-24T12:13:50Z","closed_at":"2022-05-23T21:59:36Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nCompiler throws warning about a macro `CATCH_CONFIG_CONSOLE_WIDTH` being redefined if user has modified the default value before building.\r\n\r\n**Expected behavior**\r\nNo compiler warning regarding this issue should be generated regardless of the value changed to.\r\n\r\n**Reproduction steps**\r\nChange the default console width in CMake cache `CATCH_CONFIG_CONSOLE_WIDTH` before compilation to anything other than the default 80.\r\n\r\n**Platform information:**\r\n - OS: Windows 10 and Rocky Linux 8.5\r\n - Compiler+version: MSVC 16.11.14 and GCC 9.2.0\r\n - Catch version: v3.0.1\r\n\r\n**Additional context**\r\nI have noticed that there are two files making definition to this macro.\r\n\r\n1.\r\nhttps://github.com/catchorg/Catch2/blob/605a34765aa5d5ecbf476b4598a862ada971b0cc/src/catch2/catch_user_config.hpp.in#L190\r\n\r\n2.\r\nhttps://github.com/catchorg/Catch2/blob/605a34765aa5d5ecbf476b4598a862ada971b0cc/src/catch2/internal/catch_console_width.hpp#L11-L13\r\n\r\nFile indicated in 2. has a guard while file 1. does not, which means 2. is included before 1. somewhere in the code.\r\n\r\nMaybe another guard should be added to file 1., or is file 2. still neccessary? Because file 1. is generated by CMake configuration and it should have guranteed `CATCH_CONFIG_CONSOLE_WIDTH` to exist by the time it is used.","closed_by":{"login":"horenmar","id":9026413,"node_id":"MDQ6VXNlcjkwMjY0MTM=","avatar_url":"https://avatars.githubusercontent.com/u/9026413?v=4","gravatar_id":"","url":"https://api.github.com/users/horenmar","html_url":"https://github.com/horenmar","followers_url":"https://api.github.com/users/horenmar/followers","following_url":"https://api.github.com/users/horenmar/following{/other_user}","gists_url":"https://api.github.com/users/horenmar/gists{/gist_id}","starred_url":"https://api.github.com/users/horenmar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/horenmar/subscriptions","organizations_url":"https://api.github.com/users/horenmar/orgs","repos_url":"https://api.github.com/users/horenmar/repos","events_url":"https://api.github.com/users/horenmar/events{/privacy}","received_events_url":"https://api.github.com/users/horenmar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/2431/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catchorg/Catch2/issues/2431/timeline","performed_via_github_app":null,"state_reason":"completed"}