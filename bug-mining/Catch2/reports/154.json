{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1533","repository_url":"https://api.github.com/repos/catchorg/Catch2","labels_url":"https://api.github.com/repos/catchorg/Catch2/issues/1533/labels{/name}","comments_url":"https://api.github.com/repos/catchorg/Catch2/issues/1533/comments","events_url":"https://api.github.com/repos/catchorg/Catch2/issues/1533/events","html_url":"https://github.com/catchorg/Catch2/issues/1533","id":407202461,"node_id":"MDU6SXNzdWU0MDcyMDI0NjE=","number":1533,"title":"Commanline arg parser segfault","user":{"login":"arvedarved","id":6360709,"node_id":"MDQ6VXNlcjYzNjA3MDk=","avatar_url":"https://avatars.githubusercontent.com/u/6360709?v=4","gravatar_id":"","url":"https://api.github.com/users/arvedarved","html_url":"https://github.com/arvedarved","followers_url":"https://api.github.com/users/arvedarved/followers","following_url":"https://api.github.com/users/arvedarved/following{/other_user}","gists_url":"https://api.github.com/users/arvedarved/gists{/gist_id}","starred_url":"https://api.github.com/users/arvedarved/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/arvedarved/subscriptions","organizations_url":"https://api.github.com/users/arvedarved/orgs","repos_url":"https://api.github.com/users/arvedarved/repos","events_url":"https://api.github.com/users/arvedarved/events{/privacy}","received_events_url":"https://api.github.com/users/arvedarved/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2019-02-06T12:00:51Z","updated_at":"2019-02-08T09:43:47Z","closed_at":"2019-02-08T09:43:47Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"**Describe the bug**\r\nIf multiple identical commanline arguments are given, catch2 segfaults\r\n\r\n**Expected behavior**\r\nNo segfault\r\n\r\n**Reproduction steps**\r\n\r\n\r\n\r\n<!-- Usually this means a small and self-contained piece of code that uses Catch and specifying compiler flags if relevant. -->\r\n\r\n<pre>\r\ngdb ../../build/unit_test                             \r\nGNU gdb (Ubuntu 8.2-0ubuntu1) 8.2\r\n[..]\r\n(gdb) run -b -b\r\nStarting program: /build/unit_test -b -b\r\n[Thread debugging using libthread_db enabled]\r\nUsing host libthread_db library \"/lib/x86_64-linux-gnu/libthread_db.so.1\".\r\n\r\nProgram received signal SIGSEGV, Segmentation fault.\r\n0x0000555555718067 in Catch::(anonymous namespace)::PosixColourImpl::setColour (this=<optimized out>, _escapeCode=0x555555915661 \"[0;31m\") at /usr/include/c++/8/bits/shared_ptr_base.h:1285\r\n1285          get() const noexcept\r\n(gdb) where\r\n#0  0x0000555555718067 in Catch::(anonymous namespace)::PosixColourImpl::setColour (this=<optimized out>, _escapeCode=0x555555915661 \"[0;31m\")\r\n    at /usr/include/c++/8/bits/shared_ptr_base.h:1285\r\n#1  0x0000555555725b67 in Catch::(anonymous namespace)::PosixColourImpl::use (this=<optimized out>, _colourCode=<optimized out>)\r\n    at 3rdparty/catch2/catch.hpp:8015\r\n#2  0x000055555571dc40 in Catch::Colour::use (_colourCode=Catch::Colour::Red) at 3rdparty/catch2/catch.hpp:8101\r\n#3  0x000055555571dfdc in Catch::Colour::Colour (this=<optimized out>, _colourCode=<optimized out>) at 3rdparty/catch2/catch.hpp:8086\r\n#4  0x000055555574726d in Catch::Session::applyCommandLine (this=0x7fffffffe060, argc=<optimized out>, argv=<optimized out>)\r\n    at 3rdparty/catch2/catch.hpp:10765\r\n\r\n[...]\r\n</pre>\r\n\r\n**Platform information:**\r\n<!-- Fill in any extra information that might be important for your issue. -->\r\n OS:  Ubuntu 18.10\r\nCompiler+version: **GCC v8.2.0 **\r\n - Catch version: **v2.6.0**\r\n\r\n\r\n","closed_by":{"login":"JoeyGrajciar","id":5606370,"node_id":"MDQ6VXNlcjU2MDYzNzA=","avatar_url":"https://avatars.githubusercontent.com/u/5606370?v=4","gravatar_id":"","url":"https://api.github.com/users/JoeyGrajciar","html_url":"https://github.com/JoeyGrajciar","followers_url":"https://api.github.com/users/JoeyGrajciar/followers","following_url":"https://api.github.com/users/JoeyGrajciar/following{/other_user}","gists_url":"https://api.github.com/users/JoeyGrajciar/gists{/gist_id}","starred_url":"https://api.github.com/users/JoeyGrajciar/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JoeyGrajciar/subscriptions","organizations_url":"https://api.github.com/users/JoeyGrajciar/orgs","repos_url":"https://api.github.com/users/JoeyGrajciar/repos","events_url":"https://api.github.com/users/JoeyGrajciar/events{/privacy}","received_events_url":"https://api.github.com/users/JoeyGrajciar/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/catchorg/Catch2/issues/1533/reactions","total_count":2,"+1":0,"-1":0,"laugh":2,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/catchorg/Catch2/issues/1533/timeline","performed_via_github_app":null,"state_reason":"completed"}