diff --git a/src/catch2/catch_default_main.hpp b/src/catch2/catch_default_main.hpp
index 9e605159..a61ad98d 100644
--- a/src/catch2/catch_default_main.hpp
+++ b/src/catch2/catch_default_main.hpp
@@ -9,10 +9,11 @@
 #define TWOBLUECUBES_CATCH_DEFAULT_MAIN_HPP_INCLUDED
 
 #include <catch2/catch_session.h>
+#include <catch2/catch_platform.h>
 
 #ifndef __OBJC__
 
-#if defined(CATCH_CONFIG_WCHAR) && defined(WIN32) && defined(_UNICODE) && !defined(DO_NOT_USE_WMAIN)
+#if defined(CATCH_CONFIG_WCHAR) && defined(CATCH_PLATFORM_WINDOWS) && defined(_UNICODE) && !defined(DO_NOT_USE_WMAIN)
 // Standard C/C++ Win32 Unicode wmain entry point
 extern "C" int wmain (int argc, wchar_t * argv[], wchar_t * []) {
 #else
