<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:49:24 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[DBUTILS-144] RowProcessor.asMap is invalid for multiple computed columns with no aliases</title>
                <link>https://issues.apache.org/jira/browse/DBUTILS-144</link>
                <project id="12310470" key="DBUTILS">Commons DbUtils</project>
                    <description>&lt;p&gt;At least one database driver (JDTS) returns an empty string for both ResultSet.getColumnName and ResultSet.getColumnLabel if it is not a table column and it has no alias. If there are more than one such column in a result set, then BasicRowProcessor.toMap will put all of them in the map using the empty string as key. This means only the last column added will be retained in the map.&lt;/p&gt;

&lt;p&gt;For example, this query will create map with a single entry (the result of the second case statement) using the key &quot;&quot;:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;SELECT&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; CASE WHEN foo = 0 THEN &apos;&apos; ELSE &apos;FOO&apos; END,&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; CASE WHEN bar = 0 THEN &apos;&apos; ELSE &apos;BAR&apos; END&lt;/tt&gt;&lt;br/&gt;
FROM FooBar&lt;/p&gt;

&lt;p&gt;Presumably this is not an issue for most usages. However, for a tool that does something like run canned queries and output the result as JSON, this is a problem. I propose that if both the columnName and columnLabel are null or zero length, the column index (converted to a String) be used as the key.&lt;/p&gt;</description>
                <environment>&lt;p&gt;JDK:&#160;OpenJDK 1.8.0_212&lt;/p&gt;

&lt;p&gt;JDBC Driver: JTDS 1.2.8.1&lt;/p&gt;

&lt;p&gt;Database: SQL Server 2017 (Docker image&#160;mcr.microsoft.com/mssql/server:2017-latest)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</environment>
        <key id="13285633">DBUTILS-144</key>
            <summary>RowProcessor.asMap is invalid for multiple computed columns with no aliases</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="thecarlhall">Carl Franklin Hall</assignee>
                                    <reporter username="rthuffman">Robert Huffman</reporter>
                        <labels>
                    </labels>
                <created>Sun, 16 Feb 2020 17:55:43 +0000</created>
                <updated>Tue, 6 Dec 2022 03:32:48 +0000</updated>
                            <resolved>Tue, 6 Dec 2022 03:32:48 +0000</resolved>
                                    <version>1.7</version>
                                    <fixVersion>2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17643636" author="thecarlhall" created="Tue, 6 Dec 2022 03:32:48 +0000"  >&lt;p&gt;Added extra check for null then use column index if still null.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 48 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0bjww:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>