[{"url":"https://api.github.com/repos/remix-run/react-router/issues/comments/477763701","html_url":"https://github.com/remix-run/react-router/issues/6673#issuecomment-477763701","issue_url":"https://api.github.com/repos/remix-run/react-router/issues/6673","id":477763701,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzc2MzcwMQ==","user":{"login":"csantos1113","id":9648559,"node_id":"MDQ6VXNlcjk2NDg1NTk=","avatar_url":"https://avatars.githubusercontent.com/u/9648559?v=4","gravatar_id":"","url":"https://api.github.com/users/csantos1113","html_url":"https://github.com/csantos1113","followers_url":"https://api.github.com/users/csantos1113/followers","following_url":"https://api.github.com/users/csantos1113/following{/other_user}","gists_url":"https://api.github.com/users/csantos1113/gists{/gist_id}","starred_url":"https://api.github.com/users/csantos1113/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantos1113/subscriptions","organizations_url":"https://api.github.com/users/csantos1113/orgs","repos_url":"https://api.github.com/users/csantos1113/repos","events_url":"https://api.github.com/users/csantos1113/events{/privacy}","received_events_url":"https://api.github.com/users/csantos1113/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T20:43:56Z","updated_at":"2019-03-28T20:43:56Z","body":"Here is the same example running with the latest react-router version (`5.0.0`)\r\nhttps://codesandbox.io/s/woxn22omy8\r\n\r\nAnd the result is even worst, because the tests do not run at all:\r\n```\r\nMaximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.\r\n\r\nInvariant Violation: Maximum update depth exceeded. This can happen when a component repeatedly calls setState inside componentWillUpdate or componentDidUpdate. React limits the number of nested updates to prevent infinite loops.\r\n    at invariant (https://woxn22omy8.codesandbox.io/node_modules/fbjs/lib/invariant.js:42:15)\r\n    at scheduleWorkImpl (https://woxn22omy8.codesandbox.io/node_modules/react-dom/cjs/react-dom.development.js:12125:13)\r\n    at scheduleWork (https://woxn22omy8.codesandbox.io/node_modules/react-dom/cjs/react-dom.development.js:12082:12)\r\n    at scheduleCapture (https://woxn22omy8.codesandbox.io/node_modules/react-dom/cjs/react-dom.development.js:11958:5)\r\n    at dispatch (https://woxn22omy8.codesandbox.io/node_modules/react-dom/cjs/react-dom.development.js:11979:11)\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/remix-run/react-router/issues/comments/477763701/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"csantos1113","id":9648559,"node_id":"MDQ6VXNlcjk2NDg1NTk=","avatar_url":"https://avatars.githubusercontent.com/u/9648559?v=4","gravatar_id":"","url":"https://api.github.com/users/csantos1113","html_url":"https://github.com/csantos1113","followers_url":"https://api.github.com/users/csantos1113/followers","following_url":"https://api.github.com/users/csantos1113/following{/other_user}","gists_url":"https://api.github.com/users/csantos1113/gists{/gist_id}","starred_url":"https://api.github.com/users/csantos1113/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantos1113/subscriptions","organizations_url":"https://api.github.com/users/csantos1113/orgs","repos_url":"https://api.github.com/users/csantos1113/repos","events_url":"https://api.github.com/users/csantos1113/events{/privacy}","received_events_url":"https://api.github.com/users/csantos1113/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2237555653,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50MjIzNzU1NTY1Mw==","url":"https://api.github.com/repos/remix-run/react-router/issues/events/2237555653","actor":{"login":"csantos1113","id":9648559,"node_id":"MDQ6VXNlcjk2NDg1NTk=","avatar_url":"https://avatars.githubusercontent.com/u/9648559?v=4","gravatar_id":"","url":"https://api.github.com/users/csantos1113","html_url":"https://github.com/csantos1113","followers_url":"https://api.github.com/users/csantos1113/followers","following_url":"https://api.github.com/users/csantos1113/following{/other_user}","gists_url":"https://api.github.com/users/csantos1113/gists{/gist_id}","starred_url":"https://api.github.com/users/csantos1113/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/csantos1113/subscriptions","organizations_url":"https://api.github.com/users/csantos1113/orgs","repos_url":"https://api.github.com/users/csantos1113/repos","events_url":"https://api.github.com/users/csantos1113/events{/privacy}","received_events_url":"https://api.github.com/users/csantos1113/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2019-03-28T20:45:43Z","rename":{"from":"Maximum update depth exceeded. Jest. Enzyme","to":"Stateless component rendering twice. Jest. Enzyme"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/remix-run/react-router/issues/comments/477807698","html_url":"https://github.com/remix-run/react-router/issues/6673#issuecomment-477807698","issue_url":"https://api.github.com/repos/remix-run/react-router/issues/6673","id":477807698,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3NzgwNzY5OA==","user":{"login":"StringEpsilon","id":5951778,"node_id":"MDQ6VXNlcjU5NTE3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5951778?v=4","gravatar_id":"","url":"https://api.github.com/users/StringEpsilon","html_url":"https://github.com/StringEpsilon","followers_url":"https://api.github.com/users/StringEpsilon/followers","following_url":"https://api.github.com/users/StringEpsilon/following{/other_user}","gists_url":"https://api.github.com/users/StringEpsilon/gists{/gist_id}","starred_url":"https://api.github.com/users/StringEpsilon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StringEpsilon/subscriptions","organizations_url":"https://api.github.com/users/StringEpsilon/orgs","repos_url":"https://api.github.com/users/StringEpsilon/repos","events_url":"https://api.github.com/users/StringEpsilon/events{/privacy}","received_events_url":"https://api.github.com/users/StringEpsilon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-28T23:28:23Z","updated_at":"2019-03-28T23:39:00Z","body":"That's quite a nasty bug.\r\n\r\nThe problem is that React doesn't have a way to figure out whether or not it should re-render functional components on updates. So it *always* re-renders them. (That's why React 16.6 introduced React.memo)\r\n\r\nIn short:\r\n\r\n1. ```<Router >``` renders \r\n2. ```Stateless()``` renders\r\n3. ```Redirect()``` renders\r\n4. Redirect() pushes onto History (onMount)\r\n5. ```<Router >``` calls setState because of the listener on the history.\r\n6. Back to step 1.\r\n\r\n~~Simply making Redirect a class component fixes the issue. I'll create a PR soon.~~\r\n\r\nI have to revise that. Making redirect a class component isn't enough. :/","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/remix-run/react-router/issues/comments/477807698/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"StringEpsilon","id":5951778,"node_id":"MDQ6VXNlcjU5NTE3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5951778?v=4","gravatar_id":"","url":"https://api.github.com/users/StringEpsilon","html_url":"https://github.com/StringEpsilon","followers_url":"https://api.github.com/users/StringEpsilon/followers","following_url":"https://api.github.com/users/StringEpsilon/following{/other_user}","gists_url":"https://api.github.com/users/StringEpsilon/gists{/gist_id}","starred_url":"https://api.github.com/users/StringEpsilon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StringEpsilon/subscriptions","organizations_url":"https://api.github.com/users/StringEpsilon/orgs","repos_url":"https://api.github.com/users/StringEpsilon/repos","events_url":"https://api.github.com/users/StringEpsilon/events{/privacy}","received_events_url":"https://api.github.com/users/StringEpsilon/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"StringEpsilon","id":5951778,"node_id":"MDQ6VXNlcjU5NTE3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5951778?v=4","gravatar_id":"","url":"https://api.github.com/users/StringEpsilon","html_url":"https://github.com/StringEpsilon","followers_url":"https://api.github.com/users/StringEpsilon/followers","following_url":"https://api.github.com/users/StringEpsilon/following{/other_user}","gists_url":"https://api.github.com/users/StringEpsilon/gists{/gist_id}","starred_url":"https://api.github.com/users/StringEpsilon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StringEpsilon/subscriptions","organizations_url":"https://api.github.com/users/StringEpsilon/orgs","repos_url":"https://api.github.com/users/StringEpsilon/repos","events_url":"https://api.github.com/users/StringEpsilon/events{/privacy}","received_events_url":"https://api.github.com/users/StringEpsilon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T00:08:05Z","updated_at":"2019-03-29T00:08:05Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/remix-run/react-router/issues/6674","repository_url":"https://api.github.com/repos/remix-run/react-router","labels_url":"https://api.github.com/repos/remix-run/react-router/issues/6674/labels{/name}","comments_url":"https://api.github.com/repos/remix-run/react-router/issues/6674/comments","events_url":"https://api.github.com/repos/remix-run/react-router/issues/6674/events","html_url":"https://github.com/remix-run/react-router/pull/6674","id":426758299,"node_id":"MDExOlB1bGxSZXF1ZXN0MjY1NTQ0MDM0","number":6674,"title":"Fixed maximum update depth exceeded caused by Redirect.","user":{"login":"StringEpsilon","id":5951778,"node_id":"MDQ6VXNlcjU5NTE3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5951778?v=4","gravatar_id":"","url":"https://api.github.com/users/StringEpsilon","html_url":"https://github.com/StringEpsilon","followers_url":"https://api.github.com/users/StringEpsilon/followers","following_url":"https://api.github.com/users/StringEpsilon/following{/other_user}","gists_url":"https://api.github.com/users/StringEpsilon/gists{/gist_id}","starred_url":"https://api.github.com/users/StringEpsilon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StringEpsilon/subscriptions","organizations_url":"https://api.github.com/users/StringEpsilon/orgs","repos_url":"https://api.github.com/users/StringEpsilon/repos","events_url":"https://api.github.com/users/StringEpsilon/events{/privacy}","received_events_url":"https://api.github.com/users/StringEpsilon/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2019-03-29T00:08:05Z","updated_at":"2019-07-14T20:39:31Z","closed_at":"2019-04-02T13:12:51Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":19872456,"node_id":"MDEwOlJlcG9zaXRvcnkxOTg3MjQ1Ng==","name":"react-router","full_name":"remix-run/react-router","private":false,"owner":{"login":"remix-run","id":64235328,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0MjM1MzI4","avatar_url":"https://avatars.githubusercontent.com/u/64235328?v=4","gravatar_id":"","url":"https://api.github.com/users/remix-run","html_url":"https://github.com/remix-run","followers_url":"https://api.github.com/users/remix-run/followers","following_url":"https://api.github.com/users/remix-run/following{/other_user}","gists_url":"https://api.github.com/users/remix-run/gists{/gist_id}","starred_url":"https://api.github.com/users/remix-run/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remix-run/subscriptions","organizations_url":"https://api.github.com/users/remix-run/orgs","repos_url":"https://api.github.com/users/remix-run/repos","events_url":"https://api.github.com/users/remix-run/events{/privacy}","received_events_url":"https://api.github.com/users/remix-run/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/remix-run/react-router","description":"Declarative routing for React","fork":false,"url":"https://api.github.com/repos/remix-run/react-router","forks_url":"https://api.github.com/repos/remix-run/react-router/forks","keys_url":"https://api.github.com/repos/remix-run/react-router/keys{/key_id}","collaborators_url":"https://api.github.com/repos/remix-run/react-router/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/remix-run/react-router/teams","hooks_url":"https://api.github.com/repos/remix-run/react-router/hooks","issue_events_url":"https://api.github.com/repos/remix-run/react-router/issues/events{/number}","events_url":"https://api.github.com/repos/remix-run/react-router/events","assignees_url":"https://api.github.com/repos/remix-run/react-router/assignees{/user}","branches_url":"https://api.github.com/repos/remix-run/react-router/branches{/branch}","tags_url":"https://api.github.com/repos/remix-run/react-router/tags","blobs_url":"https://api.github.com/repos/remix-run/react-router/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/remix-run/react-router/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/remix-run/react-router/git/refs{/sha}","trees_url":"https://api.github.com/repos/remix-run/react-router/git/trees{/sha}","statuses_url":"https://api.github.com/repos/remix-run/react-router/statuses/{sha}","languages_url":"https://api.github.com/repos/remix-run/react-router/languages","stargazers_url":"https://api.github.com/repos/remix-run/react-router/stargazers","contributors_url":"https://api.github.com/repos/remix-run/react-router/contributors","subscribers_url":"https://api.github.com/repos/remix-run/react-router/subscribers","subscription_url":"https://api.github.com/repos/remix-run/react-router/subscription","commits_url":"https://api.github.com/repos/remix-run/react-router/commits{/sha}","git_commits_url":"https://api.github.com/repos/remix-run/react-router/git/commits{/sha}","comments_url":"https://api.github.com/repos/remix-run/react-router/comments{/number}","issue_comment_url":"https://api.github.com/repos/remix-run/react-router/issues/comments{/number}","contents_url":"https://api.github.com/repos/remix-run/react-router/contents/{+path}","compare_url":"https://api.github.com/repos/remix-run/react-router/compare/{base}...{head}","merges_url":"https://api.github.com/repos/remix-run/react-router/merges","archive_url":"https://api.github.com/repos/remix-run/react-router/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/remix-run/react-router/downloads","issues_url":"https://api.github.com/repos/remix-run/react-router/issues{/number}","pulls_url":"https://api.github.com/repos/remix-run/react-router/pulls{/number}","milestones_url":"https://api.github.com/repos/remix-run/react-router/milestones{/number}","notifications_url":"https://api.github.com/repos/remix-run/react-router/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/remix-run/react-router/labels{/name}","releases_url":"https://api.github.com/repos/remix-run/react-router/releases{/id}","deployments_url":"https://api.github.com/repos/remix-run/react-router/deployments","created_at":"2014-05-16T22:22:51Z","updated_at":"2025-11-10T07:56:50Z","pushed_at":"2025-11-07T21:31:32Z","git_url":"git://github.com/remix-run/react-router.git","ssh_url":"git@github.com:remix-run/react-router.git","clone_url":"https://github.com/remix-run/react-router.git","svn_url":"https://github.com/remix-run/react-router","homepage":"https://reactrouter.com","size":42907,"stargazers_count":55902,"watchers_count":55902,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":10766,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":142,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":10766,"open_issues":142,"watchers":55902,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/remix-run/react-router/pulls/6674","html_url":"https://github.com/remix-run/react-router/pull/6674","diff_url":"https://github.com/remix-run/react-router/pull/6674.diff","patch_url":"https://github.com/remix-run/react-router/pull/6674.patch","merged_at":"2019-04-02T13:12:51Z"},"body":"Fixes #6673\r\n\r\nBasically, \"to\" can be a string or a location object. But only the case for objects was covered, hence the infinite loop in cases where the <Redirect/> is still being rendered after the location change.","reactions":{"url":"https://api.github.com/repos/remix-run/react-router/issues/6674/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/remix-run/react-router/issues/6674/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/remix-run/react-router/issues/comments/477841114","html_url":"https://github.com/remix-run/react-router/issues/6673#issuecomment-477841114","issue_url":"https://api.github.com/repos/remix-run/react-router/issues/6673","id":477841114,"node_id":"MDEyOklzc3VlQ29tbWVudDQ3Nzg0MTExNA==","user":{"login":"timdorr","id":17882,"node_id":"MDQ6VXNlcjE3ODgy","avatar_url":"https://avatars.githubusercontent.com/u/17882?v=4","gravatar_id":"","url":"https://api.github.com/users/timdorr","html_url":"https://github.com/timdorr","followers_url":"https://api.github.com/users/timdorr/followers","following_url":"https://api.github.com/users/timdorr/following{/other_user}","gists_url":"https://api.github.com/users/timdorr/gists{/gist_id}","starred_url":"https://api.github.com/users/timdorr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timdorr/subscriptions","organizations_url":"https://api.github.com/users/timdorr/orgs","repos_url":"https://api.github.com/users/timdorr/repos","events_url":"https://api.github.com/users/timdorr/events{/privacy}","received_events_url":"https://api.github.com/users/timdorr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-03-29T02:24:16Z","updated_at":"2019-03-29T02:24:16Z","body":"This was previously addressed in #5003 and fixed by #5162. I'm logging off for the evening right now, but that's roughly what's going on here.\r\n\r\n[I'd argue `locationsAreEqual` is the problem here.](https://github.com/ReactTraining/history/blob/master/modules/LocationUtils.js#L57-L65) Should `key` be considered when comparing two locations?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/remix-run/react-router/issues/comments/477841114/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"timdorr","id":17882,"node_id":"MDQ6VXNlcjE3ODgy","avatar_url":"https://avatars.githubusercontent.com/u/17882?v=4","gravatar_id":"","url":"https://api.github.com/users/timdorr","html_url":"https://github.com/timdorr","followers_url":"https://api.github.com/users/timdorr/followers","following_url":"https://api.github.com/users/timdorr/following{/other_user}","gists_url":"https://api.github.com/users/timdorr/gists{/gist_id}","starred_url":"https://api.github.com/users/timdorr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timdorr/subscriptions","organizations_url":"https://api.github.com/users/timdorr/orgs","repos_url":"https://api.github.com/users/timdorr/repos","events_url":"https://api.github.com/users/timdorr/events{/privacy}","received_events_url":"https://api.github.com/users/timdorr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":2246454008,"node_id":"MDExOkNsb3NlZEV2ZW50MjI0NjQ1NDAwOA==","url":"https://api.github.com/repos/remix-run/react-router/issues/events/2246454008","actor":{"login":"timdorr","id":17882,"node_id":"MDQ6VXNlcjE3ODgy","avatar_url":"https://avatars.githubusercontent.com/u/17882?v=4","gravatar_id":"","url":"https://api.github.com/users/timdorr","html_url":"https://github.com/timdorr","followers_url":"https://api.github.com/users/timdorr/followers","following_url":"https://api.github.com/users/timdorr/following{/other_user}","gists_url":"https://api.github.com/users/timdorr/gists{/gist_id}","starred_url":"https://api.github.com/users/timdorr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timdorr/subscriptions","organizations_url":"https://api.github.com/users/timdorr/orgs","repos_url":"https://api.github.com/users/timdorr/repos","events_url":"https://api.github.com/users/timdorr/events{/privacy}","received_events_url":"https://api.github.com/users/timdorr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2019-04-02T13:12:51Z","state_reason":null,"performed_via_github_app":null},{"id":2246454695,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDIyNDY0NTQ2OTU=","url":"https://api.github.com/repos/remix-run/react-router/issues/events/2246454695","actor":{"login":"timdorr","id":17882,"node_id":"MDQ6VXNlcjE3ODgy","avatar_url":"https://avatars.githubusercontent.com/u/17882?v=4","gravatar_id":"","url":"https://api.github.com/users/timdorr","html_url":"https://github.com/timdorr","followers_url":"https://api.github.com/users/timdorr/followers","following_url":"https://api.github.com/users/timdorr/following{/other_user}","gists_url":"https://api.github.com/users/timdorr/gists{/gist_id}","starred_url":"https://api.github.com/users/timdorr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timdorr/subscriptions","organizations_url":"https://api.github.com/users/timdorr/orgs","repos_url":"https://api.github.com/users/timdorr/repos","events_url":"https://api.github.com/users/timdorr/events{/privacy}","received_events_url":"https://api.github.com/users/timdorr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"017f692af74f5797c65d86265c063bc0ea829e13","commit_url":"https://api.github.com/repos/remix-run/react-router/commits/017f692af74f5797c65d86265c063bc0ea829e13","created_at":"2019-04-02T13:13:06Z","performed_via_github_app":null},{"actor":{"login":"MCAxiaz","id":24946428,"node_id":"MDQ6VXNlcjI0OTQ2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/24946428?v=4","gravatar_id":"","url":"https://api.github.com/users/MCAxiaz","html_url":"https://github.com/MCAxiaz","followers_url":"https://api.github.com/users/MCAxiaz/followers","following_url":"https://api.github.com/users/MCAxiaz/following{/other_user}","gists_url":"https://api.github.com/users/MCAxiaz/gists{/gist_id}","starred_url":"https://api.github.com/users/MCAxiaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MCAxiaz/subscriptions","organizations_url":"https://api.github.com/users/MCAxiaz/orgs","repos_url":"https://api.github.com/users/MCAxiaz/repos","events_url":"https://api.github.com/users/MCAxiaz/events{/privacy}","received_events_url":"https://api.github.com/users/MCAxiaz/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-04-05T21:11:27Z","updated_at":"2019-04-05T21:11:27Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/remix-run/react-router/issues/6689","repository_url":"https://api.github.com/repos/remix-run/react-router","labels_url":"https://api.github.com/repos/remix-run/react-router/issues/6689/labels{/name}","comments_url":"https://api.github.com/repos/remix-run/react-router/issues/6689/comments","events_url":"https://api.github.com/repos/remix-run/react-router/issues/6689/events","html_url":"https://github.com/remix-run/react-router/issues/6689","id":429936700,"node_id":"MDU6SXNzdWU0Mjk5MzY3MDA=","number":6689,"title":"Maximum update depth exceeded caused by Redirect with Jest/Enzyme","user":{"login":"MCAxiaz","id":24946428,"node_id":"MDQ6VXNlcjI0OTQ2NDI4","avatar_url":"https://avatars.githubusercontent.com/u/24946428?v=4","gravatar_id":"","url":"https://api.github.com/users/MCAxiaz","html_url":"https://github.com/MCAxiaz","followers_url":"https://api.github.com/users/MCAxiaz/followers","following_url":"https://api.github.com/users/MCAxiaz/following{/other_user}","gists_url":"https://api.github.com/users/MCAxiaz/gists{/gist_id}","starred_url":"https://api.github.com/users/MCAxiaz/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/MCAxiaz/subscriptions","organizations_url":"https://api.github.com/users/MCAxiaz/orgs","repos_url":"https://api.github.com/users/MCAxiaz/repos","events_url":"https://api.github.com/users/MCAxiaz/events{/privacy}","received_events_url":"https://api.github.com/users/MCAxiaz/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2019-04-05T21:11:27Z","updated_at":"2019-06-05T04:23:43Z","closed_at":"2019-04-06T03:16:19Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":19872456,"node_id":"MDEwOlJlcG9zaXRvcnkxOTg3MjQ1Ng==","name":"react-router","full_name":"remix-run/react-router","private":false,"owner":{"login":"remix-run","id":64235328,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0MjM1MzI4","avatar_url":"https://avatars.githubusercontent.com/u/64235328?v=4","gravatar_id":"","url":"https://api.github.com/users/remix-run","html_url":"https://github.com/remix-run","followers_url":"https://api.github.com/users/remix-run/followers","following_url":"https://api.github.com/users/remix-run/following{/other_user}","gists_url":"https://api.github.com/users/remix-run/gists{/gist_id}","starred_url":"https://api.github.com/users/remix-run/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remix-run/subscriptions","organizations_url":"https://api.github.com/users/remix-run/orgs","repos_url":"https://api.github.com/users/remix-run/repos","events_url":"https://api.github.com/users/remix-run/events{/privacy}","received_events_url":"https://api.github.com/users/remix-run/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/remix-run/react-router","description":"Declarative routing for React","fork":false,"url":"https://api.github.com/repos/remix-run/react-router","forks_url":"https://api.github.com/repos/remix-run/react-router/forks","keys_url":"https://api.github.com/repos/remix-run/react-router/keys{/key_id}","collaborators_url":"https://api.github.com/repos/remix-run/react-router/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/remix-run/react-router/teams","hooks_url":"https://api.github.com/repos/remix-run/react-router/hooks","issue_events_url":"https://api.github.com/repos/remix-run/react-router/issues/events{/number}","events_url":"https://api.github.com/repos/remix-run/react-router/events","assignees_url":"https://api.github.com/repos/remix-run/react-router/assignees{/user}","branches_url":"https://api.github.com/repos/remix-run/react-router/branches{/branch}","tags_url":"https://api.github.com/repos/remix-run/react-router/tags","blobs_url":"https://api.github.com/repos/remix-run/react-router/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/remix-run/react-router/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/remix-run/react-router/git/refs{/sha}","trees_url":"https://api.github.com/repos/remix-run/react-router/git/trees{/sha}","statuses_url":"https://api.github.com/repos/remix-run/react-router/statuses/{sha}","languages_url":"https://api.github.com/repos/remix-run/react-router/languages","stargazers_url":"https://api.github.com/repos/remix-run/react-router/stargazers","contributors_url":"https://api.github.com/repos/remix-run/react-router/contributors","subscribers_url":"https://api.github.com/repos/remix-run/react-router/subscribers","subscription_url":"https://api.github.com/repos/remix-run/react-router/subscription","commits_url":"https://api.github.com/repos/remix-run/react-router/commits{/sha}","git_commits_url":"https://api.github.com/repos/remix-run/react-router/git/commits{/sha}","comments_url":"https://api.github.com/repos/remix-run/react-router/comments{/number}","issue_comment_url":"https://api.github.com/repos/remix-run/react-router/issues/comments{/number}","contents_url":"https://api.github.com/repos/remix-run/react-router/contents/{+path}","compare_url":"https://api.github.com/repos/remix-run/react-router/compare/{base}...{head}","merges_url":"https://api.github.com/repos/remix-run/react-router/merges","archive_url":"https://api.github.com/repos/remix-run/react-router/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/remix-run/react-router/downloads","issues_url":"https://api.github.com/repos/remix-run/react-router/issues{/number}","pulls_url":"https://api.github.com/repos/remix-run/react-router/pulls{/number}","milestones_url":"https://api.github.com/repos/remix-run/react-router/milestones{/number}","notifications_url":"https://api.github.com/repos/remix-run/react-router/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/remix-run/react-router/labels{/name}","releases_url":"https://api.github.com/repos/remix-run/react-router/releases{/id}","deployments_url":"https://api.github.com/repos/remix-run/react-router/deployments","created_at":"2014-05-16T22:22:51Z","updated_at":"2025-11-10T07:56:50Z","pushed_at":"2025-11-07T21:31:32Z","git_url":"git://github.com/remix-run/react-router.git","ssh_url":"git@github.com:remix-run/react-router.git","clone_url":"https://github.com/remix-run/react-router.git","svn_url":"https://github.com/remix-run/react-router","homepage":"https://reactrouter.com","size":42907,"stargazers_count":55902,"watchers_count":55902,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":10766,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":142,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":10766,"open_issues":142,"watchers":55902,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"## Version\r\n\r\n5.0.0\r\n\r\nRelated to https://github.com/ReactTraining/react-router/issues/6673, however I am seeing this even when passing in an object.\r\n\r\nExperiencing this issue trying to update from 4.3.1\r\nThis is what I'm trying to render.\r\n```\r\n<Redirect\r\n        to={{\r\n          pathname: '/login',\r\n          state: {\r\n            referrer: url,\r\n          },\r\n        }}\r\n      />\r\n```\r\nI placed some logs within the onUpdate function of Redirect\r\n```\r\nonUpdate: function onUpdate(self, prevProps) {\r\n        console.log(prevProps.to);\r\n        console.log(location);\r\n        if (!history.locationsAreEqual(prevProps.to, location)) {\r\n          method(location);\r\n        }\r\n      },\r\n```\r\nwith the following output\r\n```\r\n{ pathname: '/login', state: { referrer: '/test/path' } }\r\n```\r\n```\r\n{ pathname: '/login',\r\n        state: { referrer: '/test/path' },\r\n        search: '',\r\n        hash: '' }\r\n```\r\nPreviously `prevProps.to` would be converted via `createLocation()` as seen here\r\nhttps://github.com/ReactTraining/react-router/commit/1b262f0e8606f90d325287e3f7b6e02c38466c8b#diff-65814d37470c3b3c1728c34d9441942a\r\nBut it would appear this is no longer the case.\r\nTried passing in `history.createLocation(prevProps.to)` and it resolves the error.\r\n\r\nhttps://github.com/ReactTraining/react-router/commit/017f692af74f5797c65d86265c063bc0ea829e13 only handles strings, but it seems like it should be applied to objects as well.","reactions":{"url":"https://api.github.com/repos/remix-run/react-router/issues/6689/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/remix-run/react-router/issues/6689/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/remix-run/react-router/issues/comments/490770826","html_url":"https://github.com/remix-run/react-router/issues/6673#issuecomment-490770826","issue_url":"https://api.github.com/repos/remix-run/react-router/issues/6673","id":490770826,"node_id":"MDEyOklzc3VlQ29tbWVudDQ5MDc3MDgyNg==","user":{"login":"banyan","id":19625,"node_id":"MDQ6VXNlcjE5NjI1","avatar_url":"https://avatars.githubusercontent.com/u/19625?v=4","gravatar_id":"","url":"https://api.github.com/users/banyan","html_url":"https://github.com/banyan","followers_url":"https://api.github.com/users/banyan/followers","following_url":"https://api.github.com/users/banyan/following{/other_user}","gists_url":"https://api.github.com/users/banyan/gists{/gist_id}","starred_url":"https://api.github.com/users/banyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/banyan/subscriptions","organizations_url":"https://api.github.com/users/banyan/orgs","repos_url":"https://api.github.com/users/banyan/repos","events_url":"https://api.github.com/users/banyan/events{/privacy}","received_events_url":"https://api.github.com/users/banyan/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-09T07:05:36Z","updated_at":"2019-05-09T13:56:00Z","body":"Please release new version! üôè ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/remix-run/react-router/issues/comments/490770826/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"banyan","id":19625,"node_id":"MDQ6VXNlcjE5NjI1","avatar_url":"https://avatars.githubusercontent.com/u/19625?v=4","gravatar_id":"","url":"https://api.github.com/users/banyan","html_url":"https://github.com/banyan","followers_url":"https://api.github.com/users/banyan/followers","following_url":"https://api.github.com/users/banyan/following{/other_user}","gists_url":"https://api.github.com/users/banyan/gists{/gist_id}","starred_url":"https://api.github.com/users/banyan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/banyan/subscriptions","organizations_url":"https://api.github.com/users/banyan/orgs","repos_url":"https://api.github.com/users/banyan/repos","events_url":"https://api.github.com/users/banyan/events{/privacy}","received_events_url":"https://api.github.com/users/banyan/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"StringEpsilon","id":5951778,"node_id":"MDQ6VXNlcjU5NTE3Nzg=","avatar_url":"https://avatars.githubusercontent.com/u/5951778?v=4","gravatar_id":"","url":"https://api.github.com/users/StringEpsilon","html_url":"https://github.com/StringEpsilon","followers_url":"https://api.github.com/users/StringEpsilon/followers","following_url":"https://api.github.com/users/StringEpsilon/following{/other_user}","gists_url":"https://api.github.com/users/StringEpsilon/gists{/gist_id}","starred_url":"https://api.github.com/users/StringEpsilon/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/StringEpsilon/subscriptions","organizations_url":"https://api.github.com/users/StringEpsilon/orgs","repos_url":"https://api.github.com/users/StringEpsilon/repos","events_url":"https://api.github.com/users/StringEpsilon/events{/privacy}","received_events_url":"https://api.github.com/users/StringEpsilon/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-16T15:54:11Z","updated_at":"2019-05-16T15:54:11Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/remix-run/react-router/issues/6748","repository_url":"https://api.github.com/repos/remix-run/react-router","labels_url":"https://api.github.com/repos/remix-run/react-router/issues/6748/labels{/name}","comments_url":"https://api.github.com/repos/remix-run/react-router/issues/6748/comments","events_url":"https://api.github.com/repos/remix-run/react-router/issues/6748/events","html_url":"https://github.com/remix-run/react-router/issues/6748","id":444866921,"node_id":"MDU6SXNzdWU0NDQ4NjY5MjE=","number":6748,"title":"The location of the <Redirect/> will result in error( Maximum update depth exceeded)","user":{"login":"WormGirl","id":16078260,"node_id":"MDQ6VXNlcjE2MDc4MjYw","avatar_url":"https://avatars.githubusercontent.com/u/16078260?v=4","gravatar_id":"","url":"https://api.github.com/users/WormGirl","html_url":"https://github.com/WormGirl","followers_url":"https://api.github.com/users/WormGirl/followers","following_url":"https://api.github.com/users/WormGirl/following{/other_user}","gists_url":"https://api.github.com/users/WormGirl/gists{/gist_id}","starred_url":"https://api.github.com/users/WormGirl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/WormGirl/subscriptions","organizations_url":"https://api.github.com/users/WormGirl/orgs","repos_url":"https://api.github.com/users/WormGirl/repos","events_url":"https://api.github.com/users/WormGirl/events{/privacy}","received_events_url":"https://api.github.com/users/WormGirl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2019-05-16T10:05:30Z","updated_at":"2019-07-20T07:39:25Z","closed_at":"2019-05-16T16:48:50Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":19872456,"node_id":"MDEwOlJlcG9zaXRvcnkxOTg3MjQ1Ng==","name":"react-router","full_name":"remix-run/react-router","private":false,"owner":{"login":"remix-run","id":64235328,"node_id":"MDEyOk9yZ2FuaXphdGlvbjY0MjM1MzI4","avatar_url":"https://avatars.githubusercontent.com/u/64235328?v=4","gravatar_id":"","url":"https://api.github.com/users/remix-run","html_url":"https://github.com/remix-run","followers_url":"https://api.github.com/users/remix-run/followers","following_url":"https://api.github.com/users/remix-run/following{/other_user}","gists_url":"https://api.github.com/users/remix-run/gists{/gist_id}","starred_url":"https://api.github.com/users/remix-run/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/remix-run/subscriptions","organizations_url":"https://api.github.com/users/remix-run/orgs","repos_url":"https://api.github.com/users/remix-run/repos","events_url":"https://api.github.com/users/remix-run/events{/privacy}","received_events_url":"https://api.github.com/users/remix-run/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/remix-run/react-router","description":"Declarative routing for React","fork":false,"url":"https://api.github.com/repos/remix-run/react-router","forks_url":"https://api.github.com/repos/remix-run/react-router/forks","keys_url":"https://api.github.com/repos/remix-run/react-router/keys{/key_id}","collaborators_url":"https://api.github.com/repos/remix-run/react-router/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/remix-run/react-router/teams","hooks_url":"https://api.github.com/repos/remix-run/react-router/hooks","issue_events_url":"https://api.github.com/repos/remix-run/react-router/issues/events{/number}","events_url":"https://api.github.com/repos/remix-run/react-router/events","assignees_url":"https://api.github.com/repos/remix-run/react-router/assignees{/user}","branches_url":"https://api.github.com/repos/remix-run/react-router/branches{/branch}","tags_url":"https://api.github.com/repos/remix-run/react-router/tags","blobs_url":"https://api.github.com/repos/remix-run/react-router/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/remix-run/react-router/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/remix-run/react-router/git/refs{/sha}","trees_url":"https://api.github.com/repos/remix-run/react-router/git/trees{/sha}","statuses_url":"https://api.github.com/repos/remix-run/react-router/statuses/{sha}","languages_url":"https://api.github.com/repos/remix-run/react-router/languages","stargazers_url":"https://api.github.com/repos/remix-run/react-router/stargazers","contributors_url":"https://api.github.com/repos/remix-run/react-router/contributors","subscribers_url":"https://api.github.com/repos/remix-run/react-router/subscribers","subscription_url":"https://api.github.com/repos/remix-run/react-router/subscription","commits_url":"https://api.github.com/repos/remix-run/react-router/commits{/sha}","git_commits_url":"https://api.github.com/repos/remix-run/react-router/git/commits{/sha}","comments_url":"https://api.github.com/repos/remix-run/react-router/comments{/number}","issue_comment_url":"https://api.github.com/repos/remix-run/react-router/issues/comments{/number}","contents_url":"https://api.github.com/repos/remix-run/react-router/contents/{+path}","compare_url":"https://api.github.com/repos/remix-run/react-router/compare/{base}...{head}","merges_url":"https://api.github.com/repos/remix-run/react-router/merges","archive_url":"https://api.github.com/repos/remix-run/react-router/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/remix-run/react-router/downloads","issues_url":"https://api.github.com/repos/remix-run/react-router/issues{/number}","pulls_url":"https://api.github.com/repos/remix-run/react-router/pulls{/number}","milestones_url":"https://api.github.com/repos/remix-run/react-router/milestones{/number}","notifications_url":"https://api.github.com/repos/remix-run/react-router/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/remix-run/react-router/labels{/name}","releases_url":"https://api.github.com/repos/remix-run/react-router/releases{/id}","deployments_url":"https://api.github.com/repos/remix-run/react-router/deployments","created_at":"2014-05-16T22:22:51Z","updated_at":"2025-11-10T07:56:50Z","pushed_at":"2025-11-07T21:31:32Z","git_url":"git://github.com/remix-run/react-router.git","ssh_url":"git@github.com:remix-run/react-router.git","clone_url":"https://github.com/remix-run/react-router.git","svn_url":"https://github.com/remix-run/react-router","homepage":"https://reactrouter.com","size":42907,"stargazers_count":55902,"watchers_count":55902,"language":"TypeScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":10766,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":142,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":[],"visibility":"public","forks":10766,"open_issues":142,"watchers":55902,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"<!-- BUG TEMPLATE -->\r\n\r\n## Version\r\n\r\n**\"react\": \"^16.8.6\",\"react-dom\": \"^16.8.6\",\"react-router-dom\": \"^5.0.0\",\r\n\r\n## Test Case\r\n[correct one](https://codesandbox.io/s/react-router-basic-l8tjj)\r\n[incorrect one](https://codesandbox.io/s/react-router-basic-q52q5)\r\n> Just look the example.js\r\n## Steps to reproduce\r\nJust change the loacation of line 28 and line 29 in example.js , the error will occur.\r\n## Expected Behavior\r\nThe demo in official document about Redirect is actually wrong.The two sentences in the picture need to be exchanged, otherwise an error will be reported(Maximum update depth exceeded).\r\n![image](https://user-images.githubusercontent.com/16078260/57845448-9e25f200-7804-11e9-93b3-9415077cda6f.png)\r\nin my project throw this error:\r\n![image](https://user-images.githubusercontent.com/16078260/57846267-69b33580-7806-11e9-89c9-ac094b8a0075.png)\r\n## Actual Behavior\r\nThrow an  error, Maximum update depth exceeded. I think if this not an  error, The docs need to update, And this order needs to be emphasized in the docs, otherwise it is difficult to understand","reactions":{"url":"https://api.github.com/repos/remix-run/react-router/issues/6748/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/remix-run/react-router/issues/6748/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"justingrant","id":277214,"node_id":"MDQ6VXNlcjI3NzIxNA==","avatar_url":"https://avatars.githubusercontent.com/u/277214?v=4","gravatar_id":"","url":"https://api.github.com/users/justingrant","html_url":"https://github.com/justingrant","followers_url":"https://api.github.com/users/justingrant/followers","following_url":"https://api.github.com/users/justingrant/following{/other_user}","gists_url":"https://api.github.com/users/justingrant/gists{/gist_id}","starred_url":"https://api.github.com/users/justingrant/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/justingrant/subscriptions","organizations_url":"https://api.github.com/users/justingrant/orgs","repos_url":"https://api.github.com/users/justingrant/repos","events_url":"https://api.github.com/users/justingrant/events{/privacy}","received_events_url":"https://api.github.com/users/justingrant/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2019-05-29T17:08:01Z","updated_at":"2019-05-29T17:08:01Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/final-form/react-final-form/issues/408","repository_url":"https://api.github.com/repos/final-form/react-final-form","labels_url":"https://api.github.com/repos/final-form/react-final-form/issues/408/labels{/name}","comments_url":"https://api.github.com/repos/final-form/react-final-form/issues/408/comments","events_url":"https://api.github.com/repos/final-form/react-final-form/issues/408/events","html_url":"https://github.com/final-form/react-final-form/issues/408","id":395403561,"node_id":"MDU6SXNzdWUzOTU0MDM1NjE=","number":408,"title":"Validations run on unmount creating unnecessary requests","user":{"login":"rosskevin","id":136564,"node_id":"MDQ6VXNlcjEzNjU2NA==","avatar_url":"https://avatars.githubusercontent.com/u/136564?v=4","gravatar_id":"","url":"https://api.github.com/users/rosskevin","html_url":"https://github.com/rosskevin","followers_url":"https://api.github.com/users/rosskevin/followers","following_url":"https://api.github.com/users/rosskevin/following{/other_user}","gists_url":"https://api.github.com/users/rosskevin/gists{/gist_id}","starred_url":"https://api.github.com/users/rosskevin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rosskevin/subscriptions","organizations_url":"https://api.github.com/users/rosskevin/orgs","repos_url":"https://api.github.com/users/rosskevin/repos","events_url":"https://api.github.com/users/rosskevin/events{/privacy}","received_events_url":"https://api.github.com/users/rosskevin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":758514923,"node_id":"MDU6TGFiZWw3NTg1MTQ5MjM=","url":"https://api.github.com/repos/final-form/react-final-form/labels/bug","name":"bug","color":"ee0701","default":true,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2019-01-02T22:36:42Z","updated_at":"2021-10-05T09:01:56Z","closed_at":"2019-08-18T21:56:50Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":111738332,"node_id":"MDEwOlJlcG9zaXRvcnkxMTE3MzgzMzI=","name":"react-final-form","full_name":"final-form/react-final-form","private":false,"owner":{"login":"final-form","id":34044827,"node_id":"MDEyOk9yZ2FuaXphdGlvbjM0MDQ0ODI3","avatar_url":"https://avatars.githubusercontent.com/u/34044827?v=4","gravatar_id":"","url":"https://api.github.com/users/final-form","html_url":"https://github.com/final-form","followers_url":"https://api.github.com/users/final-form/followers","following_url":"https://api.github.com/users/final-form/following{/other_user}","gists_url":"https://api.github.com/users/final-form/gists{/gist_id}","starred_url":"https://api.github.com/users/final-form/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/final-form/subscriptions","organizations_url":"https://api.github.com/users/final-form/orgs","repos_url":"https://api.github.com/users/final-form/repos","events_url":"https://api.github.com/users/final-form/events{/privacy}","received_events_url":"https://api.github.com/users/final-form/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/final-form/react-final-form","description":"üèÅ High performance subscription-based form state management for React","fork":false,"url":"https://api.github.com/repos/final-form/react-final-form","forks_url":"https://api.github.com/repos/final-form/react-final-form/forks","keys_url":"https://api.github.com/repos/final-form/react-final-form/keys{/key_id}","collaborators_url":"https://api.github.com/repos/final-form/react-final-form/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/final-form/react-final-form/teams","hooks_url":"https://api.github.com/repos/final-form/react-final-form/hooks","issue_events_url":"https://api.github.com/repos/final-form/react-final-form/issues/events{/number}","events_url":"https://api.github.com/repos/final-form/react-final-form/events","assignees_url":"https://api.github.com/repos/final-form/react-final-form/assignees{/user}","branches_url":"https://api.github.com/repos/final-form/react-final-form/branches{/branch}","tags_url":"https://api.github.com/repos/final-form/react-final-form/tags","blobs_url":"https://api.github.com/repos/final-form/react-final-form/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/final-form/react-final-form/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/final-form/react-final-form/git/refs{/sha}","trees_url":"https://api.github.com/repos/final-form/react-final-form/git/trees{/sha}","statuses_url":"https://api.github.com/repos/final-form/react-final-form/statuses/{sha}","languages_url":"https://api.github.com/repos/final-form/react-final-form/languages","stargazers_url":"https://api.github.com/repos/final-form/react-final-form/stargazers","contributors_url":"https://api.github.com/repos/final-form/react-final-form/contributors","subscribers_url":"https://api.github.com/repos/final-form/react-final-form/subscribers","subscription_url":"https://api.github.com/repos/final-form/react-final-form/subscription","commits_url":"https://api.github.com/repos/final-form/react-final-form/commits{/sha}","git_commits_url":"https://api.github.com/repos/final-form/react-final-form/git/commits{/sha}","comments_url":"https://api.github.com/repos/final-form/react-final-form/comments{/number}","issue_comment_url":"https://api.github.com/repos/final-form/react-final-form/issues/comments{/number}","contents_url":"https://api.github.com/repos/final-form/react-final-form/contents/{+path}","compare_url":"https://api.github.com/repos/final-form/react-final-form/compare/{base}...{head}","merges_url":"https://api.github.com/repos/final-form/react-final-form/merges","archive_url":"https://api.github.com/repos/final-form/react-final-form/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/final-form/react-final-form/downloads","issues_url":"https://api.github.com/repos/final-form/react-final-form/issues{/number}","pulls_url":"https://api.github.com/repos/final-form/react-final-form/pulls{/number}","milestones_url":"https://api.github.com/repos/final-form/react-final-form/milestones{/number}","notifications_url":"https://api.github.com/repos/final-form/react-final-form/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/final-form/react-final-form/labels{/name}","releases_url":"https://api.github.com/repos/final-form/react-final-form/releases{/id}","deployments_url":"https://api.github.com/repos/final-form/react-final-form/deployments","created_at":"2017-11-22T22:26:16Z","updated_at":"2025-11-06T06:46:23Z","pushed_at":"2025-06-09T06:20:36Z","git_url":"git://github.com/final-form/react-final-form.git","ssh_url":"git@github.com:final-form/react-final-form.git","clone_url":"https://github.com/final-form/react-final-form.git","svn_url":"https://github.com/final-form/react-final-form","homepage":"https://final-form.org/react","size":7380,"stargazers_count":7433,"watchers_count":7433,"language":"JavaScript","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":true,"has_discussions":false,"forks_count":493,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":393,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["asynchronous","form","form-validation","forms","react","state-management","subscription","validation"],"visibility":"public","forks":493,"open_issues":393,"watchers":7433,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"### Are you submitting a **bug report** or a **feature request**?\r\nBug\r\n\r\n### What is the current behavior?\r\nWhen leaving a form that is embedded in a dialog, the form is unmounted which in turn calls unsubscribe and ultimately that runs field validations.  In the case a user cancels on a complex form with server side validations, it creates a noticeable slowdown of ui as well as unnecessary requests to the server.\r\n\r\n![dashboard_-_archetype_com](https://user-images.githubusercontent.com/136564/50615570-bd059680-0eaa-11e9-98f3-37f17722e2be.png)\r\n\r\n\r\n### What is the expected behavior?\r\nUnmount will avoid unnecessary work.\r\n\r\n### Sandbox Link\r\nReproduction based on the `Synchronous field-level validation` https://codesandbox.io/s/pw19j1x52m\r\n1. allow to render initially\r\n2. clear console\r\n3. click  `Unmount form`\r\n4. observe validations firing by added console logs\r\n\r\n### What's your environment?\r\nSandbox updated to latest.\r\nff: 4.11.0\r\nrff: 4.0.2\r\n\r\n### Other information\r\n\r\npossibly related #336","reactions":{"url":"https://api.github.com/repos/final-form/react-final-form/issues/408/reactions","total_count":10,"+1":10,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/final-form/react-final-form/issues/408/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":2470437070,"node_id":"MDExOkxvY2tlZEV2ZW50MjQ3MDQzNzA3MA==","url":"https://api.github.com/repos/remix-run/react-router/issues/events/2470437070","actor":{"login":"lock[bot]","id":33595554,"node_id":"MDM6Qm90MzM1OTU1NTQ=","avatar_url":"https://avatars.githubusercontent.com/in/6672?v=4","gravatar_id":"","url":"https://api.github.com/users/lock%5Bbot%5D","html_url":"https://github.com/apps/lock","followers_url":"https://api.github.com/users/lock%5Bbot%5D/followers","following_url":"https://api.github.com/users/lock%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/lock%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/lock%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lock%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/lock%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/lock%5Bbot%5D/repos","events_url":"https://api.github.com/users/lock%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/lock%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2019-07-09T19:28:40Z","lock_reason":"resolved","performed_via_github_app":null}]