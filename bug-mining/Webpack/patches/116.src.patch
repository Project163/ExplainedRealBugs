diff --git a/lib/optimize/ConcatenatedModule.js b/lib/optimize/ConcatenatedModule.js
index e406e52b4..d20605fbd 100644
--- a/lib/optimize/ConcatenatedModule.js
+++ b/lib/optimize/ConcatenatedModule.js
@@ -1241,7 +1241,10 @@ class ConcatenatedModule extends Module {
 								const path = getPathInAst(info.ast, identifier);
 								if (path && path.length > 1) {
 									const maybeProperty =
-										path[1].type === "AssignmentPattern" ? path[2] : path[1];
+										path[1].type === "AssignmentPattern" &&
+										path[1].left === path[0]
+											? path[2]
+											: path[1];
 									if (
 										maybeProperty.type === "Property" &&
 										maybeProperty.shorthand
diff --git a/test/cases/parsing/issue-12769/index.js b/test/cases/parsing/issue-12769/index.js
new file mode 100644
index 000000000..54b864932
--- /dev/null
+++ b/test/cases/parsing/issue-12769/index.js
@@ -0,0 +1,19 @@
+import value from "./module";
+import { func } from "./other";
+
+function F({ value2 = value }) {
+	expect(value2).toBe(42);
+}
+
+it("should not apply shorthand code in default values", () => {
+	const { value2 = value } = {};
+	expect(value2).toBe(42);
+	(function ({ value3 = value }) {
+		expect(value3).toBe(42);
+	})({});
+	function F({ value3 = value }) {
+		expect(value3).toBe(42);
+	}
+	F({});
+	expect(func({})).toBe(2);
+});
diff --git a/test/cases/parsing/issue-12769/module.js b/test/cases/parsing/issue-12769/module.js
new file mode 100644
index 000000000..7a4e8a723
--- /dev/null
+++ b/test/cases/parsing/issue-12769/module.js
@@ -0,0 +1 @@
+export default 42;
diff --git a/test/cases/parsing/issue-12769/other.js b/test/cases/parsing/issue-12769/other.js
new file mode 100644
index 000000000..17cac3da8
--- /dev/null
+++ b/test/cases/parsing/issue-12769/other.js
@@ -0,0 +1,7 @@
+var value = 2;
+
+export function func({ value2 = value }) {
+	return value2;
+}
+
+console.log.bind(console, value);
