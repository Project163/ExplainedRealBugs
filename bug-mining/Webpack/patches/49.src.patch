diff --git a/lib/EnvironmentPlugin.js b/lib/EnvironmentPlugin.js
index f2cbee550..43bbce396 100644
--- a/lib/EnvironmentPlugin.js
+++ b/lib/EnvironmentPlugin.js
@@ -13,6 +13,16 @@ const WebpackError = require("./WebpackError");
 
 class EnvironmentPlugin {
 	constructor(...keys) {
+		this.options = {};
+		if (keys.length > 1) {
+			const options = keys[keys.length - 1];
+			if (typeof options === "object") {
+				this.options = options;
+				// remove options object from env keys
+				keys.pop();
+			}
+		}
+
 		if (keys.length === 1 && Array.isArray(keys[0])) {
 			this.keys = keys[0];
 			this.defaultValues = {};
@@ -47,7 +57,11 @@ class EnvironmentPlugin {
 					);
 
 					error.name = "EnvVariableNotDefinedError";
-					compilation.warnings.push(error);
+					if (this.options["errorLevel"] === "error") {
+						compilation.errors.push(error);
+					} else {
+						compilation.warnings.push(error);
+					}
 				});
 			}
 
