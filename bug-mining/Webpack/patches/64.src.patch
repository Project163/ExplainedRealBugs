diff --git a/lib/Compilation.js b/lib/Compilation.js
index 4f4d43b81..7ae3b03ce 100644
--- a/lib/Compilation.js
+++ b/lib/Compilation.js
@@ -1678,20 +1678,11 @@ BREAKING CHANGE: Asset processing hooks in Compilation has been merged into a si
 				this.reportDependencyErrorsAndWarnings(module, [module]);
 				const errors = module.getErrors();
 				if (errors !== undefined) {
-					if (module.isOptional(this.moduleGraph)) {
-						for (const error of errors) {
-							if (!error.module) {
-								error.module = module;
-							}
-							this.warnings.push(error);
-						}
-					} else {
-						for (const error of errors) {
-							if (!error.module) {
-								error.module = module;
-							}
-							this.errors.push(error);
+					for (const error of errors) {
+						if (!error.module) {
+							error.module = module;
 						}
+						this.errors.push(error);
 					}
 				}
 				const warnings = module.getWarnings();
diff --git a/lib/container/ContainerEntryDependency.js b/lib/container/ContainerEntryDependency.js
index 8836f2f86..e8aad08b6 100644
--- a/lib/container/ContainerEntryDependency.js
+++ b/lib/container/ContainerEntryDependency.js
@@ -21,7 +21,6 @@ class ContainerEntryDependency extends Dependency {
 		this.name = name;
 		this.exposes = exposes;
 		this.shareScope = shareScope;
-		this.optional = true;
 	}
 
 	/**
diff --git a/lib/dependencies/RequireContextDependencyParserPlugin.js b/lib/dependencies/RequireContextDependencyParserPlugin.js
index 9695318ef..7737a725a 100644
--- a/lib/dependencies/RequireContextDependencyParserPlugin.js
+++ b/lib/dependencies/RequireContextDependencyParserPlugin.js
@@ -47,7 +47,7 @@ module.exports = class RequireContextDependencyParserPlugin {
 							expr.range
 						);
 						dep.loc = expr.loc;
-						dep.optional = parser.scope.inTry;
+						dep.optional = !!parser.scope.inTry;
 						parser.state.current.addDependency(dep);
 						return true;
 					}
diff --git a/test/cases/parsing/context/errors.js b/test/cases/parsing/context/errors.js
new file mode 100644
index 000000000..6003c4a0a
--- /dev/null
+++ b/test/cases/parsing/context/errors.js
@@ -0,0 +1,7 @@
+module.exports = [
+	[
+		/Module parse failed/,
+		{ moduleName: /dump-file\.txt/ },
+		{ moduleTrace: /templates sync/ }
+	]
+];
diff --git a/test/cases/parsing/context/warnings.js b/test/cases/parsing/context/warnings.js
index dec7087c7..695381d68 100644
--- a/test/cases/parsing/context/warnings.js
+++ b/test/cases/parsing/context/warnings.js
@@ -1,6 +1,5 @@
 module.exports = [
-	[/Module parse failed/, {moduleName: /dump-file\.txt/}, {moduleTrace: /templates sync/}],
-	[/Critical dependency/, {moduleName: /templateLoader\.js/}],
-	[/Critical dependency/, {moduleName: /templateLoaderIndirect\.js/}],
-	[/Critical dependency/, {moduleName: /templateLoaderIndirect\.js/}],
+	[/Critical dependency/, { moduleName: /templateLoader\.js/ }],
+	[/Critical dependency/, { moduleName: /templateLoaderIndirect\.js/ }],
+	[/Critical dependency/, { moduleName: /templateLoaderIndirect\.js/ }]
 ];
diff --git a/test/configCases/parsing/context/warnings.js b/test/configCases/parsing/context/errors.js
similarity index 100%
rename from test/configCases/parsing/context/warnings.js
rename to test/configCases/parsing/context/errors.js
