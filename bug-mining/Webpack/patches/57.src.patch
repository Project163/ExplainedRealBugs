diff --git a/lib/RecordIdsPlugin.js b/lib/RecordIdsPlugin.js
index b8bf66b9c..ed8134c0f 100644
--- a/lib/RecordIdsPlugin.js
+++ b/lib/RecordIdsPlugin.js
@@ -127,28 +127,34 @@ class RecordIdsPlugin {
 				const sources = [];
 				for (const chunkGroup of chunk.groupsIterable) {
 					const index = chunkGroup.chunks.indexOf(chunk);
-					for (const origin of chunkGroup.origins) {
-						if (origin.module) {
-							if (origin.request) {
-								sources.push(
-									`${index} ${getModuleIdentifier(origin.module)} ${
-										origin.request
-									}`
-								);
-							} else if (typeof origin.loc === "string") {
-								sources.push(
-									`${index} ${getModuleIdentifier(origin.module)} ${origin.loc}`
-								);
-							} else if (
-								origin.loc &&
-								typeof origin.loc === "object" &&
-								"start" in origin.loc
-							) {
-								sources.push(
-									`${index} ${getModuleIdentifier(
-										origin.module
-									)} ${JSON.stringify(origin.loc.start)}`
-								);
+					if (chunkGroup.name) {
+						sources.push(`${index} ${chunkGroup.name}`);
+					} else {
+						for (const origin of chunkGroup.origins) {
+							if (origin.module) {
+								if (origin.request) {
+									sources.push(
+										`${index} ${getModuleIdentifier(origin.module)} ${
+											origin.request
+										}`
+									);
+								} else if (typeof origin.loc === "string") {
+									sources.push(
+										`${index} ${getModuleIdentifier(origin.module)} ${
+											origin.loc
+										}`
+									);
+								} else if (
+									origin.loc &&
+									typeof origin.loc === "object" &&
+									"start" in origin.loc
+								) {
+									sources.push(
+										`${index} ${getModuleIdentifier(
+											origin.module
+										)} ${JSON.stringify(origin.loc.start)}`
+									);
+								}
 							}
 						}
 					}
diff --git a/test/HotTestCases.template.js b/test/HotTestCases.template.js
index 0072cc8fb..1e9455c99 100644
--- a/test/HotTestCases.template.js
+++ b/test/HotTestCases.template.js
@@ -66,6 +66,8 @@ const describeCases = config => {
 									options.output.chunkFilename = "[name].chunk.[fullhash].js";
 								if (options.output.pathinfo === undefined)
 									options.output.pathinfo = true;
+								if (options.output.library === undefined)
+									options.output.library = { type: "commonjs2" };
 								if (!options.optimization) options.optimization = {};
 								if (!options.optimization.moduleIds)
 									options.optimization.moduleIds = "named";
@@ -229,11 +231,31 @@ const describeCases = config => {
 											}
 										} else return require(module);
 									}
-									_require("./bundle.js");
-									if (getNumberOfTests() < 1)
-										return done(new Error("No tests exported by test case"));
+									let promise = Promise.resolve();
+									const info = stats.toJson({ all: false, entrypoints: true });
+									if (config.target === "web") {
+										for (const file of info.entrypoints.main.assets)
+											_require(`./${file}`);
+									} else {
+										const assets = info.entrypoints.main.assets;
+										const result = _require(`./${assets[assets.length - 1]}`);
+										if (typeof result === "object" && "then" in result)
+											promise = promise.then(() => result);
+									}
+									promise.then(
+										() => {
+											if (getNumberOfTests() < 1)
+												return done(
+													new Error("No tests exported by test case")
+												);
 
-									done();
+											done();
+										},
+										err => {
+											console.log(err);
+											done(err);
+										}
+									);
 								});
 							},
 							20000
diff --git a/test/__snapshots__/ConfigTestCases.test.js.snap b/test/__snapshots__/ConfigTestCases.test.js.snap
index ec6969a57..f21309aa5 100644
--- a/test/__snapshots__/ConfigTestCases.test.js.snap
+++ b/test/__snapshots__/ConfigTestCases.test.js.snap
@@ -19,7 +19,9 @@ exports[`ConfigTestCases records issue-2991 exported tests should write relative
     \\"byName\\": {
       \\"main\\": 179
     },
-    \\"bySource\\": {},
+    \\"bySource\\": {
+      \\"0 main\\": 179
+    },
     \\"usedIds\\": [
       179
     ]
@@ -47,7 +49,9 @@ exports[`ConfigTestCases records issue-7339 exported tests should write relative
     \\"byName\\": {
       \\"main\\": 179
     },
-    \\"bySource\\": {},
+    \\"bySource\\": {
+      \\"0 main\\": 179
+    },
     \\"usedIds\\": [
       179
     ]
diff --git a/test/hotCases/chunks/split-chunks/index.js b/test/hotCases/chunks/split-chunks/index.js
new file mode 100644
index 000000000..4965d6890
--- /dev/null
+++ b/test/hotCases/chunks/split-chunks/index.js
@@ -0,0 +1,11 @@
+import vendor from "vendor";
+module.hot.accept("vendor");
+it("should hot update a splitted initial chunk", function (done) {
+	expect(vendor).toBe("1");
+	NEXT(
+		require("../../update")(done, true, () => {
+			expect(vendor).toBe("2");
+			done();
+		})
+	);
+});
diff --git a/test/hotCases/chunks/split-chunks/node_modules/vendor.js b/test/hotCases/chunks/split-chunks/node_modules/vendor.js
new file mode 100644
index 000000000..131267bd4
--- /dev/null
+++ b/test/hotCases/chunks/split-chunks/node_modules/vendor.js
@@ -0,0 +1,3 @@
+module.exports = "1";
+---
+module.exports = "2";
\ No newline at end of file
diff --git a/test/hotCases/chunks/split-chunks/webpack.config.js b/test/hotCases/chunks/split-chunks/webpack.config.js
new file mode 100644
index 000000000..f6b853139
--- /dev/null
+++ b/test/hotCases/chunks/split-chunks/webpack.config.js
@@ -0,0 +1,12 @@
+module.exports = {
+	output: {
+		filename: "[name].js"
+	},
+	optimization: {
+		chunkIds: "total-size",
+		splitChunks: {
+			chunks: "all",
+			minSize: 0
+		}
+	}
+};
