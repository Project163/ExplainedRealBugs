diff --git a/lib/optimize/SideEffectsFlagPlugin.js b/lib/optimize/SideEffectsFlagPlugin.js
index 3acb1a687..a5472f919 100644
--- a/lib/optimize/SideEffectsFlagPlugin.js
+++ b/lib/optimize/SideEffectsFlagPlugin.js
@@ -129,8 +129,20 @@ class SideEffectsFlagPlugin {
 							case "ForStatement":
 								if (
 									!parser.isPure(statement.init, statement.range[0]) ||
-									!parser.isPure(statement.test, statement.init.range[1]) ||
-									!parser.isPure(statement.update, statement.test.range[1])
+									!parser.isPure(
+										statement.test,
+										statement.init
+											? statement.init.range[1]
+											: statement.range[0]
+									) ||
+									!parser.isPure(
+										statement.update,
+										statement.test
+											? statement.test.range[1]
+											: statement.init
+											? statement.init.range[1]
+											: statement.range[0]
+									)
 								) {
 									hasSideEffects = true;
 								}
diff --git a/test/cases/side-effects/empty-modules/pure.js b/test/cases/side-effects/empty-modules/pure.js
index 753e4c601..b276eeef0 100644
--- a/test/cases/side-effects/empty-modules/pure.js
+++ b/test/cases/side-effects/empty-modules/pure.js
@@ -26,3 +26,6 @@ const class2 = class {
 if ("") {
 	console.log("test");
 }
+for (; false; ) {}
+for (var i = 0; false; ) {}
+while (false) {}
