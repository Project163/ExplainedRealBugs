{"url":"https://api.github.com/repos/webpack/webpack/issues/8833","repository_url":"https://api.github.com/repos/webpack/webpack","labels_url":"https://api.github.com/repos/webpack/webpack/issues/8833/labels{/name}","comments_url":"https://api.github.com/repos/webpack/webpack/issues/8833/comments","events_url":"https://api.github.com/repos/webpack/webpack/issues/8833/events","html_url":"https://github.com/webpack/webpack/issues/8833","id":414374468,"node_id":"MDU6SXNzdWU0MTQzNzQ0Njg=","number":8833,"title":"Support for outputting to System.register format.","user":{"login":"jolyndenning","id":5524384,"node_id":"MDQ6VXNlcjU1MjQzODQ=","avatar_url":"https://avatars.githubusercontent.com/u/5524384?v=4","gravatar_id":"","url":"https://api.github.com/users/jolyndenning","html_url":"https://github.com/jolyndenning","followers_url":"https://api.github.com/users/jolyndenning/followers","following_url":"https://api.github.com/users/jolyndenning/following{/other_user}","gists_url":"https://api.github.com/users/jolyndenning/gists{/gist_id}","starred_url":"https://api.github.com/users/jolyndenning/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jolyndenning/subscriptions","organizations_url":"https://api.github.com/users/jolyndenning/orgs","repos_url":"https://api.github.com/users/jolyndenning/repos","events_url":"https://api.github.com/users/jolyndenning/events{/privacy}","received_events_url":"https://api.github.com/users/jolyndenning/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":10,"created_at":"2019-02-26T00:36:18Z","updated_at":"2022-04-04T07:28:17Z","closed_at":"2019-04-10T12:55:28Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"## Feature request\r\n\r\nIt would be great to be able to change webpack's `output.libraryTarget` to `system` so that it is compiled to System.register format. See related #2810 from a couple years ago.\r\n\r\n**What is the expected behavior?**\r\n```js\r\n// webpack.config.js\r\nmodule.exports = {\r\n  entry: 'entry.js',\r\n  output: {\r\n    libraryTarget: 'system',\r\n  },\r\n}\r\n```\r\n```js\r\n// entry.js\r\nconsole.log('hi')\r\n```\r\n\r\n```js\r\n// output bundle\r\nSystem.register([], function(_export, _context) {\r\n  return {\r\n    setters: [],\r\n    execute: function() {\r\n      console.log('hi')\r\n    }\r\n  }\r\n})\r\n```\r\n\r\n**What is motivation or use case for adding/changing the behavior?**\r\nFor projects that use SystemJS as their in-browser module loader, it's desireable to be able to `System.import('/path-to-webpack-bundle.js')` as a way to dynamically load bundles. Currently, this can only be done by changing webpack's libraryTarget to `amd` and then using the [amd extra for SystemJS](https://github.com/systemjs/systemjs#extras).\r\n\r\n**How should this be implemented in your opinion?**\r\nFrom the user's perspective, this should be implemented via `output.libraryTarget`. Places I would start with the webpack implementation: [LibraryTemplatePlugin](https://github.com/webpack/webpack/blob/52184b897f40c75560b3630e43ca642fcac7e2cf/lib/LibraryTemplatePlugin.js#L77) and [ExternalsPlugin](https://github.com/webpack/webpack/blob/52184b897f40c75560b3630e43ca642fcac7e2cf/lib/ExternalsPlugin.js).\r\n\r\nThe most ambiguous part of the implementation is how to do code splits. For that, I welcome thoughts/advice/feedback. I think a good place to start would be [rollup's implementation of code splitting with system format](https://rollupjs.org/repl?version=1.2.3&shareable=JTdCJTIybW9kdWxlcyUyMiUzQSU1QiU3QiUyMm5hbWUlMjIlM0ElMjJtYWluLmpzJTIyJTJDJTIyY29kZSUyMiUzQSUyMiUyRiolMjBEWU5BTUlDJTIwSU1QT1JUUyU1Q24lMjAlMjAlMjBSb2xsdXAlMjBzdXBwb3J0cyUyMGF1dG9tYXRpYyUyMGNodW5raW5nJTIwYW5kJTIwbGF6eS1sb2FkaW5nJTVDbiUyMCUyMCUyMHZpYSUyMGR5bmFtaWMlMjBpbXBvcnRzJTIwdXRpbGl6aW5nJTIwdGhlJTIwaW1wb3J0JTIwbWVjaGFuaXNtJTVDbiUyMCUyMCUyMG9mJTIwdGhlJTIwaG9zdCUyMHN5c3RlbS4lMjAqJTJGJTVDbmlmJTIwKGRpc3BsYXlNYXRoKSUyMCU3QiU1Q24lNUN0aW1wb3J0KCcuJTJGbWF0aHMuanMnKS50aGVuKGZ1bmN0aW9uJTIwKG1hdGhzKSUyMCU3QiU1Q24lNUN0JTVDdGNvbnNvbGUubG9nKG1hdGhzLnNxdWFyZSg1KSklM0IlNUNuJTVDdCU1Q3Rjb25zb2xlLmxvZyhtYXRocy5jdWJlKDUpKSUzQiU1Q24lNUN0JTdEKSUzQiU1Q24lN0QlMjIlMkMlMjJpc0VudHJ5JTIyJTNBdHJ1ZSU3RCUyQyU3QiUyMm5hbWUlMjIlM0ElMjJtYXRocy5qcyUyMiUyQyUyMmNvZGUlMjIlM0ElMjJpbXBvcnQlMjBzcXVhcmUlMjBmcm9tJTIwJy4lMkZzcXVhcmUuanMnJTNCJTVDbiU1Q25leHBvcnQlMjAlN0JkZWZhdWx0JTIwYXMlMjBzcXVhcmUlN0QlMjBmcm9tJTIwJy4lMkZzcXVhcmUuanMnJTNCJTVDbiU1Q25leHBvcnQlMjBmdW5jdGlvbiUyMGN1YmUlMjAoeCUyMCklMjAlN0IlNUNuJTVDdHJldHVybiUyMHNxdWFyZSh4KSUyMColMjB4JTNCJTVDbiU3RCUyMiUyQyUyMmlzRW50cnklMjIlM0FmYWxzZSU3RCUyQyU3QiUyMm5hbWUlMjIlM0ElMjJzcXVhcmUuanMlMjIlMkMlMjJjb2RlJTIyJTNBJTIyZXhwb3J0JTIwZGVmYXVsdCUyMGZ1bmN0aW9uJTIwc3F1YXJlJTIwKCUyMHglMjApJTIwJTdCJTVDbiU1Q3RyZXR1cm4lMjB4JTIwKiUyMHglM0IlNUNuJTdEJTIyJTJDJTIyaXNFbnRyeSUyMiUzQWZhbHNlJTdEJTVEJTJDJTIyb3B0aW9ucyUyMiUzQSU3QiUyMmZvcm1hdCUyMiUzQSUyMnN5c3RlbSUyMiUyQyUyMm5hbWUlMjIlM0ElMjJteUJ1bmRsZSUyMiUyQyUyMmFtZCUyMiUzQSU3QiUyMmlkJTIyJTNBJTIyJTIyJTdEJTJDJTIyZ2xvYmFscyUyMiUzQSU3QiU3RCU3RCUyQyUyMmV4YW1wbGUlMjIlM0ElMjIwMCUyMiU3RA==). Meaning that a dynamic `import()` would turn into a `_context.import()`.\r\n\r\n**Are you willing to work on this yourself?**\r\nYep I'm happy to work on this. Plan on digging into this tonight a bit to get my feet wet. It was previously expressed in #2810 that this would be a good feature to have, but if anyone disagrees please let me know before I get too far in my implementation :)","closed_by":{"login":"sokra","id":1365881,"node_id":"MDQ6VXNlcjEzNjU4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1365881?v=4","gravatar_id":"","url":"https://api.github.com/users/sokra","html_url":"https://github.com/sokra","followers_url":"https://api.github.com/users/sokra/followers","following_url":"https://api.github.com/users/sokra/following{/other_user}","gists_url":"https://api.github.com/users/sokra/gists{/gist_id}","starred_url":"https://api.github.com/users/sokra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sokra/subscriptions","organizations_url":"https://api.github.com/users/sokra/orgs","repos_url":"https://api.github.com/users/sokra/repos","events_url":"https://api.github.com/users/sokra/events{/privacy}","received_events_url":"https://api.github.com/users/sokra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/webpack/webpack/issues/8833/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/webpack/webpack/issues/8833/timeline","performed_via_github_app":null,"state_reason":"completed"}