{"url":"https://api.github.com/repos/webpack/webpack/issues/13691","repository_url":"https://api.github.com/repos/webpack/webpack","labels_url":"https://api.github.com/repos/webpack/webpack/issues/13691/labels{/name}","comments_url":"https://api.github.com/repos/webpack/webpack/issues/13691/comments","events_url":"https://api.github.com/repos/webpack/webpack/issues/13691/events","html_url":"https://github.com/webpack/webpack/issues/13691","id":935557738,"node_id":"MDU6SXNzdWU5MzU1NTc3Mzg=","number":13691,"title":"TypeError: Cannot read property 'jsonData' of undefined","user":{"login":"zlls","id":5580710,"node_id":"MDQ6VXNlcjU1ODA3MTA=","avatar_url":"https://avatars.githubusercontent.com/u/5580710?v=4","gravatar_id":"","url":"https://api.github.com/users/zlls","html_url":"https://github.com/zlls","followers_url":"https://api.github.com/users/zlls/followers","following_url":"https://api.github.com/users/zlls/following{/other_user}","gists_url":"https://api.github.com/users/zlls/gists{/gist_id}","starred_url":"https://api.github.com/users/zlls/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zlls/subscriptions","organizations_url":"https://api.github.com/users/zlls/orgs","repos_url":"https://api.github.com/users/zlls/repos","events_url":"https://api.github.com/users/zlls/events{/privacy}","received_events_url":"https://api.github.com/users/zlls/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":816832417,"node_id":"MDU6TGFiZWw4MTY4MzI0MTc=","url":"https://api.github.com/repos/webpack/webpack/labels/webpack-5","name":"webpack-5","color":"c5def5","default":false,"description":""},{"id":2424789964,"node_id":"MDU6TGFiZWwyNDI0Nzg5OTY0","url":"https://api.github.com/repos/webpack/webpack/labels/critical-bug","name":"critical-bug","color":"d93f0b","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":20,"created_at":"2021-07-02T08:47:45Z","updated_at":"2021-07-05T11:43:22Z","closed_at":"2021-07-05T11:43:22Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Please excuse that the bug report is quite short. I don't have time to debug the problem myself today. Since the bug doesn't come from other dependencies according to the stacktrace and the only change since the last usage is in the webpack version, I post the bug report anyway.\r\n\r\n<!-- Please don't delete this template because we'll close your issue -->\r\n<!-- Before creating an issue please make sure you are using the latest version of webpack. -->\r\n\r\n# Bug report\r\n\r\n<!-- Please ask questions on StackOverflow or the webpack Gitter. -->\r\n<!-- https://stackoverflow.com/questions/ask?tags=webpack -->\r\n<!-- https://gitter.im/webpack/webpack -->\r\n<!-- Issues which contain questions or support requests will be closed. -->\r\n\r\n**What is the current behavior?**\r\n\r\nThe build process crashes when watching for changes. The first build works fine, on saving a file, the process throws the folloging error.\r\n\r\n```\r\nlet data = module.buildInfo.jsonData;\r\n                            ^\r\n\r\nTypeError: Cannot read property 'jsonData' of undefined\r\n    at JsonGenerator.getSize (./node_modules/webpack/lib/json/JsonGenerator.js:119:31)\r\n    at NormalModule.size (./node_modules/webpack/lib/NormalModule.js:1224:43)\r\n    at NormalModule.cleanupForCache (./node_modules/webpack/lib/NormalModule.js:364:9)\r\n    at NormalModuleFactory.cleanupForCache (./node_modules/webpack/lib/NormalModuleFactory.js:670:11)\r\n    at Compiler._cleanupLastNormalModuleFactory (./node_modules/webpack/lib/Compiler.js:383:34)\r\n    at Compiler.createNormalModuleFactory (./node_modules/webpack/lib/Compiler.js:1049:8)\r\n    at Compiler.newCompilationParams (./node_modules/webpack/lib/Compiler.js:1071:30)\r\n    at Compiler.compile (./node_modules/webpack/lib/Compiler.js:1082:23)\r\n    at ./node_modules/webpack/lib/Watching.js:188:19\r\n    at Hook.eval [as callAsync] (eval at create (./node_modules/tapable/lib/HookCodeFactory.js:33:10), <anonymous>:15:1)\r\n```\r\n\r\n**If the current behavior is a bug, please provide the steps to reproduce.**\r\n\r\nI will update the instructions to reproduce the error next week if necessary.\r\n\r\n<!-- A great way to do this is to provide your configuration via a GitHub repository -->\r\n<!-- The most helpful is a minimal reproduction with instructions on how to reproduce -->\r\n<!-- Repositories with too many files or large `webpack.config.js` files are not suitable -->\r\n<!-- Please only add small code snippets directly into this issue -->\r\n<!-- https://gist.github.com is a good place for longer code snippets -->\r\n<!-- If your issue is caused by a plugin or loader, please create an issue on the loader/plugin repository instead -->\r\n\r\n**What is the expected behavior?**\r\n\r\n`module.buildInfo` seems to be undefined, although it shouldn't be. When I replace the line with `let data = module?.buildInfo?.jsonData;` it works fine but I don't think this would be a good solution.\r\n\r\n<!-- \"It should work\" is not a helpful explanation -->\r\n<!-- Explain exactly how it should behave -->\r\n\r\n**Other relevant information:**\r\nwebpack version:  5.42.0 throws the error. 5.41.0 seems to be working\r\nNode.js version: v16.4.0, v12.x of my coworker didn't work aswell\r\nOperating System: Windows\r\nAdditional tools: Custom CLI with embedded webpack.\r\n","closed_by":{"login":"sokra","id":1365881,"node_id":"MDQ6VXNlcjEzNjU4ODE=","avatar_url":"https://avatars.githubusercontent.com/u/1365881?v=4","gravatar_id":"","url":"https://api.github.com/users/sokra","html_url":"https://github.com/sokra","followers_url":"https://api.github.com/users/sokra/followers","following_url":"https://api.github.com/users/sokra/following{/other_user}","gists_url":"https://api.github.com/users/sokra/gists{/gist_id}","starred_url":"https://api.github.com/users/sokra/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sokra/subscriptions","organizations_url":"https://api.github.com/users/sokra/orgs","repos_url":"https://api.github.com/users/sokra/repos","events_url":"https://api.github.com/users/sokra/events{/privacy}","received_events_url":"https://api.github.com/users/sokra/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/webpack/webpack/issues/13691/reactions","total_count":30,"+1":30,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/webpack/webpack/issues/13691/timeline","performed_via_github_app":null,"state_reason":"completed"}