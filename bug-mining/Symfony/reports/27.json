{"url":"https://api.github.com/repos/symfony/symfony/issues/60827","repository_url":"https://api.github.com/repos/symfony/symfony","labels_url":"https://api.github.com/repos/symfony/symfony/issues/60827/labels{/name}","comments_url":"https://api.github.com/repos/symfony/symfony/issues/60827/comments","events_url":"https://api.github.com/repos/symfony/symfony/issues/60827/events","html_url":"https://github.com/symfony/symfony/issues/60827","id":3158463260,"node_id":"I_kwDOAAb9Ss68QlMc","number":60827,"title":"[ObjectMapper] Class-Level Transformation with wrong Source class","user":{"login":"issamkhadiri1989","id":15970798,"node_id":"MDQ6VXNlcjE1OTcwNzk4","avatar_url":"https://avatars.githubusercontent.com/u/15970798?v=4","gravatar_id":"","url":"https://api.github.com/users/issamkhadiri1989","html_url":"https://github.com/issamkhadiri1989","followers_url":"https://api.github.com/users/issamkhadiri1989/followers","following_url":"https://api.github.com/users/issamkhadiri1989/following{/other_user}","gists_url":"https://api.github.com/users/issamkhadiri1989/gists{/gist_id}","starred_url":"https://api.github.com/users/issamkhadiri1989/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/issamkhadiri1989/subscriptions","organizations_url":"https://api.github.com/users/issamkhadiri1989/orgs","repos_url":"https://api.github.com/users/issamkhadiri1989/repos","events_url":"https://api.github.com/users/issamkhadiri1989/events{/privacy}","received_events_url":"https://api.github.com/users/issamkhadiri1989/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":100079,"node_id":"MDU6TGFiZWwxMDAwNzk=","url":"https://api.github.com/repos/symfony/symfony/labels/Bug","name":"Bug","color":"e10c02","default":false,"description":null},{"id":237003792,"node_id":"MDU6TGFiZWwyMzcwMDM3OTI=","url":"https://api.github.com/repos/symfony/symfony/labels/Status:%20Needs%20Review","name":"Status: Needs Review","color":"ededed","default":false,"description":null},{"id":8345884670,"node_id":"LA_kwDOAAb9Ss8AAAAB8XQX_g","url":"https://api.github.com/repos/symfony/symfony/labels/ObjectMapper","name":"ObjectMapper","color":"dddddd","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-06-18T23:47:46Z","updated_at":"2025-06-19T14:19:56Z","closed_at":"2025-06-19T14:19:56Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Symfony version(s) affected\n\n7.3.0\n\n### Description\n\nWhen using the ObjectMapper using Class-Level Transformation, I faced an issue related to the source instance. \n\nAccording to the doc https://symfony.com/doc/current/object_mapper.html#class-level-transformation, the `$source` argument should be an instance of `App/DTO/LegacyUserData` but it is not the case. It is actually a `App/Entity/User`. Due to this, I always receive the following error : \n\n`Warning: Undefined property: App\\Entity\\User::$userId`\n\n![Image](https://github.com/user-attachments/assets/407460a2-3b3d-42d5-904c-0e4c2a82feb0)\n\n\n### How to reproduce\n\nTo reproduce the issue : \n\ncreate a `src/DTO/LegacyUserData.php` DTO \n\n![Image](https://github.com/user-attachments/assets/1f74e9d2-53d3-4a4f-9768-18b251054970)\n\ncreate an entity class `src/Entity/User.php`\n\n![Image](https://github.com/user-attachments/assets/3ad5010b-4588-4c41-a97f-2655c87220b7)\n\nin a controller, we can do \n\n![Image](https://github.com/user-attachments/assets/175be56f-c71c-4159-a766-623491b2d761)\n\nusing XDEBUG here is the result \n\n![Image](https://github.com/user-attachments/assets/91c01de5-66ed-43d2-9089-5291d7f243ab)\n\nAm I doing something wrong ?\n\n### Possible Solution\n\n_No response_\n\n### Additional Context\n\n_No response_","closed_by":{"login":"nicolas-grekas","id":243674,"node_id":"MDQ6VXNlcjI0MzY3NA==","avatar_url":"https://avatars.githubusercontent.com/u/243674?v=4","gravatar_id":"","url":"https://api.github.com/users/nicolas-grekas","html_url":"https://github.com/nicolas-grekas","followers_url":"https://api.github.com/users/nicolas-grekas/followers","following_url":"https://api.github.com/users/nicolas-grekas/following{/other_user}","gists_url":"https://api.github.com/users/nicolas-grekas/gists{/gist_id}","starred_url":"https://api.github.com/users/nicolas-grekas/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nicolas-grekas/subscriptions","organizations_url":"https://api.github.com/users/nicolas-grekas/orgs","repos_url":"https://api.github.com/users/nicolas-grekas/repos","events_url":"https://api.github.com/users/nicolas-grekas/events{/privacy}","received_events_url":"https://api.github.com/users/nicolas-grekas/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/symfony/symfony/issues/60827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/symfony/symfony/issues/60827/timeline","performed_via_github_app":null,"state_reason":"completed"}