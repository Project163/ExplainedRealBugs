{"url":"https://api.github.com/repos/go-gitea/gitea/issues/34424","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/34424/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/34424/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/34424/events","html_url":"https://github.com/go-gitea/gitea/issues/34424","id":3054270955,"node_id":"I_kwDOBFIx2862DHnr","number":34424,"title":"Broken repo - don't understand why and how to fix","user":{"login":"davidfrickert","id":25358815,"node_id":"MDQ6VXNlcjI1MzU4ODE1","avatar_url":"https://avatars.githubusercontent.com/u/25358815?v=4","gravatar_id":"","url":"https://api.github.com/users/davidfrickert","html_url":"https://github.com/davidfrickert","followers_url":"https://api.github.com/users/davidfrickert/followers","following_url":"https://api.github.com/users/davidfrickert/following{/other_user}","gists_url":"https://api.github.com/users/davidfrickert/gists{/gist_id}","starred_url":"https://api.github.com/users/davidfrickert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/davidfrickert/subscriptions","organizations_url":"https://api.github.com/users/davidfrickert/orgs","repos_url":"https://api.github.com/users/davidfrickert/repos","events_url":"https://api.github.com/users/davidfrickert/events{/privacy}","received_events_url":"https://api.github.com/users/davidfrickert/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2025-05-10T15:24:01Z","updated_at":"2025-08-11T11:00:22Z","closed_at":"2025-05-13T08:18:46Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\n\n\"The Git data underlying this repository cannot be read. Contact the administrator of this instance or delete this repository.\"\n\nHave this happen to two repos so far on the last few months. Solved first by deleting the repo and re-pushing the code, but really would be better if this doesn't happen\n\nI can still pull/push to the repo from git tools, but anything involving gitea UI or actions is completely broken on these repos.\n\n(Note: the actual repo name has been replaced with <REPONAME> in the snippets below)\nThe repo seems fine:\n\n```\n/data/git/gitea-repositories/davidfrickert/<REPONAME>.git $ git show-ref --tags\nbd3da0bb27177a3b191bb84521eef59692b210b6 refs/tags/0.1.0\n33989d17e4d94ac386af6f1a1fdeef14b5231ba0 refs/tags/0.1.1\n/data/git/gitea-repositories/davidfrickert/<REPONAME>.git $ /usr/bin/git -c protocol.version=2 -c credential.helper= rev-parse\n/data/git/gitea-repositories/davidfrickert/<REPONAME>.git $ echo $?\n0\n```\n\nI have this in the app.ini:\n\n```\n[log]\nMODE = console\nLEVEL = Debug ; please set the level to debug when we are debugging a problem\nSTACKTRACE_LEVEL = error\nCOLORIZE = false ; this can be true if you can strip out the ansi coloring\n```\n\nI don't really get anything interesting in the logs when trying to access the repo via gitea (a bit more shown in the gist but probably not useful):\n\n```\n2025/05/10 14:58:19 .../context_response.go:70:HTML() [D] Template: repo/empty\n```\n\nFunnily enough, I am able to clone the repo with no issues (sorry for some PT language):\nPushing new commits / pulling etc also works.\n\n```\ngit clone https://git.djf.lol/davidfrickert/<REPONAME>.git\nClonando para '<REPONAME>'...\nremote: Enumerating objects: 37, done.\nremote: Counting objects: 100% (37/37), done.\nremote: Compressing objects: 100% (33/33), done.\nremote: Total 37 (delta 10), reused 0 (delta 0), pack-reused 0 (from 0)\nA receber objetos: 100% (37/37), 13.67 KiB | 13.67 MiB/s, concluído.\nA resolver deltas: 100% (10/10), concluído.\n```\n\n### Gitea Version\n\n1.23.7\n\n### Can you reproduce the bug on the Gitea demo site?\n\nNo\n\n### Log Gist\n\nhttps://gist.github.com/davidfrickert/753cd38cfc1462f92b1863f3b8241c24\n\n### Screenshots\n\n![Image](https://github.com/user-attachments/assets/110ace03-e980-4cee-ba93-c9a94382d36e)\n\n### Git Version\n\ngit --version -> git version 2.47.2\n\n### Operating System\n\nFedora 41 Server\n\n### How are you running Gitea?\n\nHelm chart on Kubernetes (3 gitea instances, 3 redis instances)\nUsing the official docker image from gitea v1.23.7\n\n### Database\n\nPostgreSQL","closed_by":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/34424/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/34424/timeline","performed_via_github_app":null,"state_reason":"completed"}