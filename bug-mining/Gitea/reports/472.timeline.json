[{"id":15780488547,"node_id":"LE_lADOBFIx286kplcSzwAAAAOslyVj","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15780488547","actor":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-12-29T18:44:25Z","label":{"name":"type/bug","color":"ee0701"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2564810787","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2564810787","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2564810787,"node_id":"IC_kwDOBFIx286Y3-gj","user":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-29T18:47:04Z","updated_at":"2024-12-29T18:47:04Z","body":"What user is your gitea being run as? A dedicated user would have the XDG set correctly for the dedicated user (git on Gentoo, gitea on alpine)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2564810787/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2564812455","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2564812455","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2564812455,"node_id":"IC_kwDOBFIx286Y3-6n","user":{"login":"techknowlogick","id":164197,"node_id":"MDQ6VXNlcjE2NDE5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/164197?v=4","gravatar_id":"","url":"https://api.github.com/users/techknowlogick","html_url":"https://github.com/techknowlogick","followers_url":"https://api.github.com/users/techknowlogick/followers","following_url":"https://api.github.com/users/techknowlogick/following{/other_user}","gists_url":"https://api.github.com/users/techknowlogick/gists{/gist_id}","starred_url":"https://api.github.com/users/techknowlogick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/techknowlogick/subscriptions","organizations_url":"https://api.github.com/users/techknowlogick/orgs","repos_url":"https://api.github.com/users/techknowlogick/repos","events_url":"https://api.github.com/users/techknowlogick/events{/privacy}","received_events_url":"https://api.github.com/users/techknowlogick/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-29T18:55:01Z","updated_at":"2024-12-29T18:55:01Z","body":"@eeyrjmr I believe this issue is reporting the case when tests are run, that it'll use the xdg path as well, which in the case of tests is run as the user testing rather than that of a dedicated user.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2564812455/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"techknowlogick","id":164197,"node_id":"MDQ6VXNlcjE2NDE5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/164197?v=4","gravatar_id":"","url":"https://api.github.com/users/techknowlogick","html_url":"https://github.com/techknowlogick","followers_url":"https://api.github.com/users/techknowlogick/followers","following_url":"https://api.github.com/users/techknowlogick/following{/other_user}","gists_url":"https://api.github.com/users/techknowlogick/gists{/gist_id}","starred_url":"https://api.github.com/users/techknowlogick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/techknowlogick/subscriptions","organizations_url":"https://api.github.com/users/techknowlogick/orgs","repos_url":"https://api.github.com/users/techknowlogick/repos","events_url":"https://api.github.com/users/techknowlogick/events{/privacy}","received_events_url":"https://api.github.com/users/techknowlogick/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15780502040,"node_id":"MEE_lADOBFIx286kplcSzwAAAAOsl1oY","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15780502040","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-12-29T18:55:02Z","performed_via_github_app":null},{"id":15780502044,"node_id":"SE_lADOBFIx286kplcSzwAAAAOsl1oc","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15780502044","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-12-29T18:55:02Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2564817075","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2564817075","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2564817075,"node_id":"IC_kwDOBFIx286Y4ACz","user":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-29T19:17:10Z","updated_at":"2024-12-29T19:17:10Z","body":"Correct, either tests or a quick `./gitea` instance for testing changes.\r\n\r\nNo real production use is affected by this as there isn't a clash of `HOME=/tmp/testing` for gitea with regular users `XDG_CONFIG_HOME=/home/user1/.config` and you have to actively try to cause it:\r\n1. `XDG_CONFIG_HOME` needs to be set\r\n2. `$XDG_CONFIG_HOME/git/config` needs to exist\r\n3. `$HOME/.gitconfig` has to be absent (HOME being gitea's), which is the default case in tests and on fresh start\r\n\r\nI can always unset it manually now that I know it's an issue, but I figured reporting it won't hurt. It might save someone some time wondering why tests want to sign commits at worst.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2564817075/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565030355","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565030355","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2565030355,"node_id":"IC_kwDOBFIx286Y40HT","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T05:05:03Z","updated_at":"2024-12-30T05:14:52Z","body":"<details>\r\n<summary>Haven't looked into it, just FYI, some backgrounds are here</summary>\r\n\r\n->  Proposal: make Gitea use its own customized global config #19709 \r\n-> Refactor git module, make Gitea use internal git config #19732 \r\n-> Use git.HOME_PATH for Git HOME directory #20114 \r\n\r\n</details>\r\n\r\n~~We should have set up the `$HOME/.gitconfig` by `git.InitFull` and write something into it IIRC?~~ (update: see below)\r\n\r\nNeed to figure out why/how XDG_CONFIG_HOME affects git's home-behavior and/or how to disable it.\r\n\r\n\r\n----\r\n\r\nOops, I could somewhat understand the problem now ....\r\n\r\nOn a fresh startup, there is no `$HOME/.gitconfig` but `$XDG_CONFIG_HOME/git/config`, then `git.InitFull` makes git writes its config into `$XDG_CONFIG_HOME/git/config`  ðŸ¤£ \r\n\r\nSo I prefer to use method 2 (Unset XDG_CONFIG_HOME in gitea), since XDG_CONFIG_HOME is mainly for desktop users, it shouldn't appear in a server process.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565030355/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565238430","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565238430","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2565238430,"node_id":"IC_kwDOBFIx286Y5m6e","user":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T09:32:48Z","updated_at":"2024-12-30T09:35:18Z","body":"> Correct, either tests or a quick `./gitea` instance for testing changes.\r\n> \r\n> No real production use is affected by this as there isn't a clash of `HOME=/tmp/testing` for gitea with regular users `XDG_CONFIG_HOME=/home/user1/.config` and you have to actively try to cause it:\r\n\r\nJust to be clear, you are mangling the env $HOME that is automatically set via **/usr/bin/login** (or ssh) to facilitate the testing? I ask because @wxiaoguang is advocating unsetting XDG_CONFIG_HOME, a variable that is set via PAM when triggered via a login session manager (systemd-logind, elogind, turnstile, or via a script for compatibility reason) \r\n\r\nI ask because this looks like your use-case is a valid user and thus has \r\n1. $HOME (as set by the login application)\r\n2. XDG variables (as set by the session manager)\r\n\r\nThus for gitea to unset XDG_CONFIG_HOME might cause other issues... \r\n\r\nAlso it isn't enough to unset XDG_CONFIG_HOME since git (as this is fundamentally a git feature) actually checks for \r\n1. $XDG_CONFIG_HOME/git/config\r\n2. $HOME/.config/git/config\r\n3.  $HOME/.gitconfig https://github.com/git/git/blob/306ab352f4e98f6809ce52fc4e5d63fb947d0635/path.h#L214-L216\r\nin this order.\r\n\r\nThus unsetting XDG_CONFIG_HOME isn't enough and HOME would also need to be overridden, which you have done in your testcase BUT isn't a normal thing todo ... be it either via writing into env or via updating https://github.com/go-gitea/gitea/blob/d45456b1b5c9ddd37b2980bbf3afaf75f8e3daef/modules/git/git.go#L36 to say...\r\n`GitExecutable   = \"git\"  -> GitExecutable   = \"XDG_CONFIG_HOME=\"\"git\"  `\r\n\r\nunsetting HOME and XDG_CONFIG_HOME needs to be thought about *IF* gitea is to manage this edgecase. \r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565238430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15783069924,"node_id":"MEE_lADOBFIx286kplcSzwAAAAOsvojk","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15783069924","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-12-30T09:32:50Z","performed_via_github_app":null},{"id":15783069931,"node_id":"SE_lADOBFIx286kplcSzwAAAAOsvojr","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15783069931","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-12-30T09:32:50Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565243127","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565243127","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2565243127,"node_id":"IC_kwDOBFIx286Y5oD3","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T09:37:32Z","updated_at":"2024-12-30T09:43:18Z","body":"> Thus for gitea to unset XDG_CONFIG_HOME might cause other issues...\r\n\r\nI don't see \"other issues\" at the moment. Could you elaborate and show some real examples?\r\n\r\n> Also it isn't enough to unset XDG_CONFIG_HOME since git (as this is fundamentally a git feature) actually checks for\r\n\r\nI think it is enough ..... because Gitea's git's HOME environment is managed by us: \r\n\r\nhttps://github.com/go-gitea/gitea/pull/19732/files#diff-649ccdc85c6aef1cb94bbd733876aa807ed3790070217669d76e03239b7f2b51R115\r\n\r\n----\r\n\r\nps: although there is another solution: setting \"GIT_CONFIG_GLOBAL\", but we can't use it because it requires git >= 2.32 .......","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565243127/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565321928","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565321928","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2565321928,"node_id":"IC_kwDOBFIx286Y57TI","user":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T10:54:18Z","updated_at":"2024-12-30T10:54:18Z","body":"> I don't see \"other issues\" at the moment. Could you elaborate and show some real examples?\r\n> \r\n> >\r\n\r\nIt comes down to how XDG_CONFIG_HOME (from the perspective of /usr/bin/git) is unset and what the login session is also used for.  My crude test (which I know was going to break things) was done to find that git looks for $HOME/.config/git/config as well. Thus **unset XDG_CONFIG_HOME** has wider system ramifications\r\n\r\nHOWEVER... within a golang application, \r\n\r\n`err := os.Unsetenv(\"XDG_CONFIG_HOME\")`\r\n\r\ndoes not bleed outside of the application, so yes this should be ok ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565321928/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565362937","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565362937","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2565362937,"node_id":"IC_kwDOBFIx286Y6FT5","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T11:31:52Z","updated_at":"2024-12-30T11:31:52Z","body":"> HOWEVER... within a golang application,\r\n> \r\n> `err := os.Unsetenv(\"XDG_CONFIG_HOME\")`\r\n> \r\n> does not bleed outside of the application, so yes this should be ok\r\n\r\nThat's what we are discussing about method 2: `2. Unset XDG_CONFIG_HOME in gitea`","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565362937/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565416725","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565416725","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2565416725,"node_id":"IC_kwDOBFIx286Y6ScV","user":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T12:23:20Z","updated_at":"2024-12-30T12:50:24Z","body":"The only real downside to this is ... gitea would *only* support a gitconfig in $HOME not where the trend for the last decade has been (server or desktop...) ... move dot files into $HOME/.config (hence git's hard-coded 2nd check area being $HOME/.config/git).\r\n\r\nWhen you then consider what triggered this was a non-standard modification of a login session and technically LINUX breaking configuration where $HOME is being overridden but the rest of an XDG setup isn't... how much should an application support this? especially since git doesn't and this is actually occuring due to git (not gitea) ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565416725/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565642385","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565642385","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2565642385,"node_id":"IC_kwDOBFIx286Y7JiR","user":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T15:44:23Z","updated_at":"2024-12-30T15:44:23Z","body":"This can be left without fix - it's non-trivial to get in the first place and requires actively messing with the configuration. It's just it is really annoying when I run gitea for quick experiments and it messes with my gitconfigs or wants to sign every webui commit.\r\n\r\nOne other thing that I thought of is a sanity check (is $HOME in $XDG_CONFIG_HOME so `strings.Contain(\"/home/tmp/.config,\"/home/tmp\")`) which would also work as it is highly unlikely that XDG_CONFIG_HOME will be in any other place which does not start with user directory:\r\n```python\r\nif os.getenv(\"HOME\") not in os.getenv(\"XDG_CONFIG_HOME\"):\r\n    os.unsetenv(\"XDG_CONFIG_HOME\")\r\n```\r\nGitea itself also doesn't really use XDG base dir standard in any way so that itself might be interesting to explore, but probably not relevant to the program.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565642385/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565769827","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565769827","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2565769827,"node_id":"IC_kwDOBFIx286Y7opj","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-30T17:59:45Z","updated_at":"2024-12-30T17:59:45Z","body":"@eeyrjmr The env vars override/unset will only affect Gitea itself or sub-progress, not other applications. So that I think it's safe.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2565769827/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15786161665,"node_id":"MEE_lADOBFIx286kplcSzwAAAAOs7bYB","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15786161665","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-12-30T17:59:46Z","performed_via_github_app":null},{"id":15786161675,"node_id":"SE_lADOBFIx286kplcSzwAAAAOs7bYL","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15786161675","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-12-30T17:59:46Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566076217","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2566076217","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2566076217,"node_id":"IC_kwDOBFIx286Y8zc5","user":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-31T02:17:21Z","updated_at":"2024-12-31T02:17:21Z","body":"> @eeyrjmr The env vars override/unset will only affect Gitea itself or sub-progress, not other applications. So that I think it's safe.\r\n\r\nyup, there was a part of me that was cautious about how this was to be done and then should it be done.\r\n\r\nnow whether **os.Unsetenv('XDG_HOME_DIR\")** should be called is the question because it will work, but should aspects of git be worked around for an invalid setup, a setup that was created for testing.  \r\nAs I mentioned, if this was to be done, it is implying that gitea will only support a gitconfig in the root of $HOME and at some point in the future someone will open a ticket stating that gitea doesn't support git config in $HOME/.config/git, as per git's own specification.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566076217/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15787930542,"node_id":"MEE_lADOBFIx286kplcSzwAAAAOtCLOu","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15787930542","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-12-31T02:17:22Z","performed_via_github_app":null},{"id":15787930545,"node_id":"SE_lADOBFIx286kplcSzwAAAAOtCLOx","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15787930545","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-12-31T02:17:22Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566740049","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2566740049","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2566740049,"node_id":"IC_kwDOBFIx286Y_VhR","user":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-12-31T22:39:32Z","updated_at":"2024-12-31T22:39:32Z","body":"If we go with unset route it would support `$HOME/.config/git` and `$HOME/.gitconfig` but not `$XDG_CONFIG_HOME/git/config`. `$HOME` is already \"hijacked\" by gitea. If we go with my 3rd idea, that lets users use `$XDG*` for git but it's conditional to it being in `$HOME`, which I think is a sane limitation.\r\n\r\nAlso consider that git by default doesn't use `{$XDG_CONFIG_HOME,$HOME/.config}/git/config` location but it defaults to `~/.gitconfig`. The xdg version is used only if it exists and `.gitconfig` doesn't so unless someone went out of their way to create it for gitea, it doesn't exist in the first place.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566740049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566787157","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2566787157","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2566787157,"node_id":"IC_kwDOBFIx286Y_hBV","user":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T01:15:12Z","updated_at":"2025-01-01T01:26:34Z","body":"> Also consider that git by default doesn't use `{$XDG_CONFIG_HOME,$HOME/.config}/git/config` location but it defaults to `~/.gitconfig`. The xdg version is used only if it exists and `.gitconfig` doesn't so unless someone went out of their way to create it for gitea, it doesn't exist in the first place.\r\n\r\nUnfortunately that isn't the case. It can check 3 locations (it assumes two should be the same for a VALID XDG configured system) and it reads them in the order: $XDG_CONFIG_HOME/.config/git/config -> $HOME/.config/git/config -> $HOME/.gitconfig and thus ~/.gitconfig takes preceidence in overwriting any values previously loaded from any of the other config files BUT they are all loaded and parsed. \r\n\r\nTo confirm this I did\r\n1. set XDG_CONFIG_HOME to /tmp/foobar\r\n    1. made a /tmp/foobar/git/config file and added a couple of [core] options\r\n1. edited my ~/.gitconfig and left only [color] options\r\n1. added $HOME/.config/git/config and added [alias option]\r\n\r\n\r\n```\r\ngit config --list --show-origin\r\nfile:/etc/gitconfig     safe.directory=/var/db/repos/gentoo\r\nfile:/etc/gitconfig     safe.directory=/var/db/repos/steam-overlay\r\nfile:/etc/gitconfig     safe.directory=/var/db/repos/guru\r\nfile:/tmp/foobar/git/config     core.quotepath=false\r\nfile:/tmp/foobar/git/config     core.commitgraph=true\r\nfile:/home/jrb/.gitconfig       color.branch=auto\r\nfile:/home/jrb/.gitconfig       color.diff=auto\r\nfile:/home/jrb/.gitconfig       color.status=auto\r\n```\r\n\r\nAs you can see 1 and 2 were read (3 wasn't because the git code checks if XDG_CONFIG_HOME is set) \r\n\r\nThere are weird and wacky ways that people can have their system setup and not realise what is being loaded but its all to support legacy systems which is exactly what triggered the scenario in the this issue report.  \r\n\r\nI am just trying to point out the potential pitfalls in trying to mitigate a technically inconsistent user environment (from the perspective of git) as it assumes that $HOME is set by /usr/bin/login (or ssh) and XDG_* is set by systemd-logind/elogind/turnstile/$script and they are all consistent with each other. \r\n\r\nOptions I see are\r\n\r\n1. do nothing \r\n2. as @wxiaoguang advocates, unsetting $XDG_CONFIG_HOME\r\n3. as you advocated crosscheck if $HOME is part of $XDG_CONFIG_HOME\r\n\r\nI honestly see an issue being opened in a few years where someone states that gitea won't load the git config from ~/.config/git/config as per git's manual ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566787157/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15792424847,"node_id":"MEE_lADOBFIx286kplcSzwAAAAOtTUeP","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15792424847","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2025-01-01T01:15:13Z","performed_via_github_app":null},{"id":15792424850,"node_id":"SE_lADOBFIx286kplcSzwAAAAOtTUeS","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15792424850","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2025-01-01T01:15:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566798880","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2566798880","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2566798880,"node_id":"IC_kwDOBFIx286Y_j4g","user":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T01:54:27Z","updated_at":"2025-01-01T01:54:27Z","body":"> Unfortunately that isn't the case. It checks 2 locations (it assumes two should be the same for a VALID XDG configured system) and it reads them in the order: $XDG_CONFIG_HOME/.config/git/config -> $HOME/.config/git/config -> $HOME/.gitconfig and thus ~/.gitconfig takes preceidence in overwriting any values previously loaded from any of the other config files BUT they are all loaded and parsed.\r\n\r\nHuh... Admittedly I did check the behavior on two keys (user.name and user.email) and when I had name and email in git/config and name in .gitconfig, then even though list showed both configs loaded, get global returned name from .gitconfig and empty email.\r\n\r\nI guess I need to run more checks and see if the behavior is consistent when section and key aren't defined... I don't remember if I did that.\r\n\r\n> I honestly see an issue being opened in a few years where someone states that gitea won't load the git config from ~/.config/git/config as per git's manual\r\n\r\nIt would though? Just .gitconfig would take priority.[^1]\r\n\r\nAs I mentioned before, I see nothing wrong with saying it's not a bug. It's obscure and misconfiguration to a degree (to a degree because I haven't actually misconfigured it, Gitea just set a new HOME which caused this). I mainly wanted to have it somewhat documented that it is a thing that might happen - and it results in git tests misbehaving and failing.\r\n\r\n[^1]: Something that popped in my head as I was writing this is that we could use this to an advantage, set XDG_CONFIG_HOME to HOME/config (dot or no dot), to make git config file more naturally discoverable for users. Just throwing it out there as it might lead somewhere, it might be an awful idea.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566798880/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"TheFox0x7","id":30537758,"node_id":"MDQ6VXNlcjMwNTM3NzU4","avatar_url":"https://avatars.githubusercontent.com/u/30537758?v=4","gravatar_id":"","url":"https://api.github.com/users/TheFox0x7","html_url":"https://github.com/TheFox0x7","followers_url":"https://api.github.com/users/TheFox0x7/followers","following_url":"https://api.github.com/users/TheFox0x7/following{/other_user}","gists_url":"https://api.github.com/users/TheFox0x7/gists{/gist_id}","starred_url":"https://api.github.com/users/TheFox0x7/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/TheFox0x7/subscriptions","organizations_url":"https://api.github.com/users/TheFox0x7/orgs","repos_url":"https://api.github.com/users/TheFox0x7/repos","events_url":"https://api.github.com/users/TheFox0x7/events{/privacy}","received_events_url":"https://api.github.com/users/TheFox0x7/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566800723","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2566800723","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2566800723,"node_id":"IC_kwDOBFIx286Y_kVT","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T01:59:27Z","updated_at":"2025-01-01T02:05:10Z","body":"> I honestly see an issue being opened in a few years where someone states that gitea won't load the git config from ~/.config/git/config as per git's manual\r\n\r\nGitea should never do that, see the background in my comment above: https://github.com/go-gitea/gitea/issues/33039#issuecomment-2565030355\r\n\r\n->  Proposal: make Gitea use its own customized global config #19709 \r\n-> Refactor git module, make Gitea use internal git config #19732 \r\n-> Use git.HOME_PATH for Git HOME directory #20114 \r\n\r\n\r\n----\r\n\r\nTo be honest ..... let's keep it simple: Gitea should be fully self-managed, it is not a desktop program, so let's just unset the XDG_CONFIG_HOME in Gitea, welcome to propose PRs (I could also propose one some days later when I get some time).\r\n\r\n(Update: ideally Gitea should only accept the environments which it clearly knows instead of unsetting the ones it doesn't want, but this would be a breaking change and it seems not bringing enough benefits to end users, so at the moment we could still keep \"unsetting the unnecessary environments\")","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566800723/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T02:38:57Z","updated_at":"2025-01-01T02:38:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/33067","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/33067/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/33067/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/33067/events","html_url":"https://github.com/go-gitea/gitea/pull/33067","id":2764796893,"node_id":"PR_kwDOBFIx286GhEkb","number":33067,"title":"unset XDG_HOME_CONFIG as gitea manages configuration locations","user":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":475283668,"node_id":"MDU6TGFiZWw0NzUyODM2Njg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/lgtm/done","name":"lgtm/done","color":"0e8a16","default":false,"description":"This PR has enough approvals to get merged. There are no important open reservations anymore."},{"id":5171898114,"node_id":"LA_kwDOBFIx288AAAABNETnAg","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/go","name":"modifies/go","color":"89b3d5","default":false,"description":"Pull requests that update Go code"},{"id":5371453372,"node_id":"LA_kwDOBFIx288AAAABQCnfvA","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/cli","name":"modifies/cli","color":"30DDEC","default":false,"description":"PR changes something on the CLI, i.e. gitea doctor or gitea admin"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/167","html_url":"https://github.com/go-gitea/gitea/milestone/167","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/167/labels","id":11552307,"node_id":"MI_kwDOBFIx284AsEYz","number":167,"title":"1.24.0","description":"","creator":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":674,"state":"closed","created_at":"2024-09-07T22:02:43Z","updated_at":"2025-06-12T01:52:19Z","due_on":"2025-04-25T07:00:00Z","closed_at":"2025-06-10T07:09:50Z"},"comments":9,"created_at":"2025-01-01T02:38:56Z","updated_at":"2025-04-02T00:35:19Z","closed_at":"2025-01-01T22:37:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":72495579,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ5NTU3OQ==","name":"gitea","full_name":"go-gitea/gitea","private":false,"owner":{"login":"go-gitea","id":12724356,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNzI0MzU2","avatar_url":"https://avatars.githubusercontent.com/u/12724356?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gitea","html_url":"https://github.com/go-gitea","followers_url":"https://api.github.com/users/go-gitea/followers","following_url":"https://api.github.com/users/go-gitea/following{/other_user}","gists_url":"https://api.github.com/users/go-gitea/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gitea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gitea/subscriptions","organizations_url":"https://api.github.com/users/go-gitea/orgs","repos_url":"https://api.github.com/users/go-gitea/repos","events_url":"https://api.github.com/users/go-gitea/events{/privacy}","received_events_url":"https://api.github.com/users/go-gitea/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gitea/gitea","description":"Git with a cup of tea! Painless self-hosted all-in-one software development service, including Git hosting, code review, team collaboration, package registry and CI/CD","fork":false,"url":"https://api.github.com/repos/go-gitea/gitea","forks_url":"https://api.github.com/repos/go-gitea/gitea/forks","keys_url":"https://api.github.com/repos/go-gitea/gitea/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gitea/gitea/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gitea/gitea/teams","hooks_url":"https://api.github.com/repos/go-gitea/gitea/hooks","issue_events_url":"https://api.github.com/repos/go-gitea/gitea/issues/events{/number}","events_url":"https://api.github.com/repos/go-gitea/gitea/events","assignees_url":"https://api.github.com/repos/go-gitea/gitea/assignees{/user}","branches_url":"https://api.github.com/repos/go-gitea/gitea/branches{/branch}","tags_url":"https://api.github.com/repos/go-gitea/gitea/tags","blobs_url":"https://api.github.com/repos/go-gitea/gitea/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gitea/gitea/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gitea/gitea/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gitea/gitea/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gitea/gitea/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gitea/gitea/languages","stargazers_url":"https://api.github.com/repos/go-gitea/gitea/stargazers","contributors_url":"https://api.github.com/repos/go-gitea/gitea/contributors","subscribers_url":"https://api.github.com/repos/go-gitea/gitea/subscribers","subscription_url":"https://api.github.com/repos/go-gitea/gitea/subscription","commits_url":"https://api.github.com/repos/go-gitea/gitea/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gitea/gitea/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gitea/gitea/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gitea/gitea/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gitea/gitea/contents/{+path}","compare_url":"https://api.github.com/repos/go-gitea/gitea/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gitea/gitea/merges","archive_url":"https://api.github.com/repos/go-gitea/gitea/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gitea/gitea/downloads","issues_url":"https://api.github.com/repos/go-gitea/gitea/issues{/number}","pulls_url":"https://api.github.com/repos/go-gitea/gitea/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gitea/gitea/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gitea/gitea/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gitea/gitea/labels{/name}","releases_url":"https://api.github.com/repos/go-gitea/gitea/releases{/id}","deployments_url":"https://api.github.com/repos/go-gitea/gitea/deployments","created_at":"2016-11-01T02:13:26Z","updated_at":"2025-11-09T22:07:00Z","pushed_at":"2025-11-09T21:54:34Z","git_url":"git://github.com/go-gitea/gitea.git","ssh_url":"git@github.com:go-gitea/gitea.git","clone_url":"https://github.com/go-gitea/gitea.git","svn_url":"https://github.com/go-gitea/gitea","homepage":"https://gitea.com","size":317853,"stargazers_count":51900,"watchers_count":51900,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6199,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2849,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["bitbucket","cicd","devops","docker-registry-v2","git","git-gui","git-server","gitea","github","github-actions","gitlab","go","golang","hacktoberfest","maven-server","npm-registry","vue"],"visibility":"public","forks":6199,"open_issues":2849,"watchers":51900,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gitea/gitea/pulls/33067","html_url":"https://github.com/go-gitea/gitea/pull/33067","diff_url":"https://github.com/go-gitea/gitea/pull/33067.diff","patch_url":"https://github.com/go-gitea/gitea/pull/33067.patch","merged_at":"2025-01-01T22:37:36Z"},"body":"unset XDG_CONFIG_HOME early to enable gitea to manage git configuration. simple error checking to satisfy the linting.  Closes #33039","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/33067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/33067/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566814572","html_url":"https://github.com/go-gitea/gitea/issues/33039#issuecomment-2566814572","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/33039","id":2566814572,"node_id":"IC_kwDOBFIx286Y_nts","user":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-01-01T02:39:21Z","updated_at":"2025-01-01T02:39:21Z","body":"> welcome to propose PRs (I could also propose one some days later when I get some time).\r\n\r\ndone","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2566814572/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"eeyrjmr","id":4564448,"node_id":"MDQ6VXNlcjQ1NjQ0NDg=","avatar_url":"https://avatars.githubusercontent.com/u/4564448?v=4","gravatar_id":"","url":"https://api.github.com/users/eeyrjmr","html_url":"https://github.com/eeyrjmr","followers_url":"https://api.github.com/users/eeyrjmr/followers","following_url":"https://api.github.com/users/eeyrjmr/following{/other_user}","gists_url":"https://api.github.com/users/eeyrjmr/gists{/gist_id}","starred_url":"https://api.github.com/users/eeyrjmr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/eeyrjmr/subscriptions","organizations_url":"https://api.github.com/users/eeyrjmr/orgs","repos_url":"https://api.github.com/users/eeyrjmr/repos","events_url":"https://api.github.com/users/eeyrjmr/events{/privacy}","received_events_url":"https://api.github.com/users/eeyrjmr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":15794730994,"node_id":"CE_lADOBFIx286kplcSzwAAAAOtcHfy","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15794730994","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2025-01-01T22:37:37Z","state_reason":null,"performed_via_github_app":null}]