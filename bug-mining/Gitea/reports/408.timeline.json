[{"id":13789398149,"node_id":"LE_lADOBFIx286SNbwozwAAAAM16YSF","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13789398149","actor":{"login":"jeroenlaylo","id":45574083,"node_id":"MDQ6VXNlcjQ1NTc0MDgz","avatar_url":"https://avatars.githubusercontent.com/u/45574083?v=4","gravatar_id":"","url":"https://api.github.com/users/jeroenlaylo","html_url":"https://github.com/jeroenlaylo","followers_url":"https://api.github.com/users/jeroenlaylo/followers","following_url":"https://api.github.com/users/jeroenlaylo/following{/other_user}","gists_url":"https://api.github.com/users/jeroenlaylo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeroenlaylo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeroenlaylo/subscriptions","organizations_url":"https://api.github.com/users/jeroenlaylo/orgs","repos_url":"https://api.github.com/users/jeroenlaylo/repos","events_url":"https://api.github.com/users/jeroenlaylo/events{/privacy}","received_events_url":"https://api.github.com/users/jeroenlaylo/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-08-07T09:19:23Z","label":{"name":"type/bug","color":"ee0701"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2274916160","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2274916160","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2274916160,"node_id":"IC_kwDOBFIx286HmHdA","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-08T04:13:13Z","updated_at":"2024-10-27T21:58:44Z","body":"The tmp directory will be used in many operations. There is already a env variable `$TMPDIR` to be used. You can set it when running Gitea.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2274916160/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2275174633","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2275174633","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2275174633,"node_id":"IC_kwDOBFIx286HnGjp","user":{"login":"wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","id":61180606,"node_id":"MDQ6VXNlcjYxMTgwNjA2","avatar_url":"https://avatars.githubusercontent.com/u/61180606?v=4","gravatar_id":"","url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","html_url":"https://github.com/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","followers_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/followers","following_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/following{/other_user}","gists_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/gists{/gist_id}","starred_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/subscriptions","organizations_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/orgs","repos_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/repos","events_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/events{/privacy}","received_events_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-08T07:49:20Z","updated_at":"2024-08-08T07:49:20Z","body":"I personally don't recall this being the case in the past though (I have also been facing this issues on `1.22.0+dev-686-gee242a08e9`), do we know when and what changed this?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2275174633/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","id":61180606,"node_id":"MDQ6VXNlcjYxMTgwNjA2","avatar_url":"https://avatars.githubusercontent.com/u/61180606?v=4","gravatar_id":"","url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","html_url":"https://github.com/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","followers_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/followers","following_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/following{/other_user}","gists_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/gists{/gist_id}","starred_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/subscriptions","organizations_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/orgs","repos_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/repos","events_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/events{/privacy}","received_events_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2275309614","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2275309614","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2275309614,"node_id":"IC_kwDOBFIx286Hnngu","user":{"login":"jeroenlaylo","id":45574083,"node_id":"MDQ6VXNlcjQ1NTc0MDgz","avatar_url":"https://avatars.githubusercontent.com/u/45574083?v=4","gravatar_id":"","url":"https://api.github.com/users/jeroenlaylo","html_url":"https://github.com/jeroenlaylo","followers_url":"https://api.github.com/users/jeroenlaylo/followers","following_url":"https://api.github.com/users/jeroenlaylo/following{/other_user}","gists_url":"https://api.github.com/users/jeroenlaylo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeroenlaylo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeroenlaylo/subscriptions","organizations_url":"https://api.github.com/users/jeroenlaylo/orgs","repos_url":"https://api.github.com/users/jeroenlaylo/repos","events_url":"https://api.github.com/users/jeroenlaylo/events{/privacy}","received_events_url":"https://api.github.com/users/jeroenlaylo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-08T08:59:52Z","updated_at":"2024-08-08T09:01:20Z","body":"> The tmp directory will be used in many operations. Maybe we need a TMP_DIR configuration rather than use system's. I wouldn't say this is a bug but a proposal or enhancement.\r\n\r\nIIRC, this hasn't always been the case. I have been contacted by some users that the Gitea instance was sluggish, upon investigation it turned out that this was due to a full `/tmp` partition. A rough estimation: it is likely a change introduced in `1.20.x`, 1.21.x` or `1.22.x`.\r\n\r\nThe `TMP_DIR` setting/variable would be an ideal addition, yeah.\r\n\r\n> I personally don't recall this being the case in the past though (I have also been facing this issues on `1.22.0+dev-686-gee242a08e9`), do we know when and what changed this?\r\n\r\nThank you kindly for your feedback. This takes some of the doubts away that I was having (whether it wasn't just PEBCAK). Do you experience this on OpenBSD - or on a different OS?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2275309614/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeroenlaylo","id":45574083,"node_id":"MDQ6VXNlcjQ1NTc0MDgz","avatar_url":"https://avatars.githubusercontent.com/u/45574083?v=4","gravatar_id":"","url":"https://api.github.com/users/jeroenlaylo","html_url":"https://github.com/jeroenlaylo","followers_url":"https://api.github.com/users/jeroenlaylo/followers","following_url":"https://api.github.com/users/jeroenlaylo/following{/other_user}","gists_url":"https://api.github.com/users/jeroenlaylo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeroenlaylo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeroenlaylo/subscriptions","organizations_url":"https://api.github.com/users/jeroenlaylo/orgs","repos_url":"https://api.github.com/users/jeroenlaylo/repos","events_url":"https://api.github.com/users/jeroenlaylo/events{/privacy}","received_events_url":"https://api.github.com/users/jeroenlaylo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2276001798","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2276001798","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2276001798,"node_id":"IC_kwDOBFIx286HqQgG","user":{"login":"wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","id":61180606,"node_id":"MDQ6VXNlcjYxMTgwNjA2","avatar_url":"https://avatars.githubusercontent.com/u/61180606?v=4","gravatar_id":"","url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","html_url":"https://github.com/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","followers_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/followers","following_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/following{/other_user}","gists_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/gists{/gist_id}","starred_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/subscriptions","organizations_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/orgs","repos_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/repos","events_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/events{/privacy}","received_events_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-08T14:40:38Z","updated_at":"2024-08-08T14:40:38Z","body":"> IIRC, this hasn't always been the case. I have been contacted by some users that the Gitea instance was sluggish, upon investigation it turned out that this was due to a full /tmp partition. A rough estimation: it is likely a change introduced in 1.20.x, 1.21.xor1.22.x`.\r\n\r\nyeah, I think I would have noticed, been using Gitea for some time now, too.\r\n\r\n\r\n> The TMP_DIR setting/variable would be an ideal addition, yeah.\r\n\r\nI concur, making this configurable would be preferable.\r\n\r\nI can imagine a decision to speed up the indexer was made at some point, which moved its files to /tmp, since it's mostly ramfs these days.\r\n\r\n\r\n> Thank you kindly for your feedback. This takes some of the doubts away that I was having (whether it wasn't just PEBCAK). Do you experience this on OpenBSD - or on a different OS?\r\n\r\nand I am equally glad you opened this issue, because I was having these doubts myself, since I don't get to spend as much time tuning my instance as I used to.\r\n\r\nI haven't mentioned this, sorry; I have been running Gitea on Arch (a Linux distro), but I'd expect this behaviour to be largely similar among OSs at least in that it uses system's temp folder.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2276001798/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","id":61180606,"node_id":"MDQ6VXNlcjYxMTgwNjA2","avatar_url":"https://avatars.githubusercontent.com/u/61180606?v=4","gravatar_id":"","url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","html_url":"https://github.com/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf","followers_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/followers","following_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/following{/other_user}","gists_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/gists{/gist_id}","starred_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/subscriptions","organizations_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/orgs","repos_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/repos","events_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/events{/privacy}","received_events_url":"https://api.github.com/users/wULLSnpAXbWZGYDYyhWTKKspEQoaYxXyhoisqHf/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2303327295","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2303327295","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2303327295,"node_id":"IC_kwDOBFIx286JSfw_","user":{"login":"yp05327","id":18380374,"node_id":"MDQ6VXNlcjE4MzgwMzc0","avatar_url":"https://avatars.githubusercontent.com/u/18380374?v=4","gravatar_id":"","url":"https://api.github.com/users/yp05327","html_url":"https://github.com/yp05327","followers_url":"https://api.github.com/users/yp05327/followers","following_url":"https://api.github.com/users/yp05327/following{/other_user}","gists_url":"https://api.github.com/users/yp05327/gists{/gist_id}","starred_url":"https://api.github.com/users/yp05327/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yp05327/subscriptions","organizations_url":"https://api.github.com/users/yp05327/orgs","repos_url":"https://api.github.com/users/yp05327/repos","events_url":"https://api.github.com/users/yp05327/events{/privacy}","received_events_url":"https://api.github.com/users/yp05327/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-22T00:10:23Z","updated_at":"2024-08-22T00:11:11Z","body":"`TMP_DIR` is necessary I think.\r\nI have met a similar problem when install Python packages by pip.\r\nBy default, pip also using /tmp as temp directory, if it is too small, you may get error during the installation.\r\nBut pip has some env options like `TMP_DIR`, so it is easy to fix this issue: just use another directory.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2303327295/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"yp05327","id":18380374,"node_id":"MDQ6VXNlcjE4MzgwMzc0","avatar_url":"https://avatars.githubusercontent.com/u/18380374?v=4","gravatar_id":"","url":"https://api.github.com/users/yp05327","html_url":"https://github.com/yp05327","followers_url":"https://api.github.com/users/yp05327/followers","following_url":"https://api.github.com/users/yp05327/following{/other_user}","gists_url":"https://api.github.com/users/yp05327/gists{/gist_id}","starred_url":"https://api.github.com/users/yp05327/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/yp05327/subscriptions","organizations_url":"https://api.github.com/users/yp05327/orgs","repos_url":"https://api.github.com/users/yp05327/repos","events_url":"https://api.github.com/users/yp05327/events{/privacy}","received_events_url":"https://api.github.com/users/yp05327/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2311920520","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2311920520","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2311920520,"node_id":"IC_kwDOBFIx286JzRuI","user":{"login":"jeroenlaylo","id":45574083,"node_id":"MDQ6VXNlcjQ1NTc0MDgz","avatar_url":"https://avatars.githubusercontent.com/u/45574083?v=4","gravatar_id":"","url":"https://api.github.com/users/jeroenlaylo","html_url":"https://github.com/jeroenlaylo","followers_url":"https://api.github.com/users/jeroenlaylo/followers","following_url":"https://api.github.com/users/jeroenlaylo/following{/other_user}","gists_url":"https://api.github.com/users/jeroenlaylo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeroenlaylo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeroenlaylo/subscriptions","organizations_url":"https://api.github.com/users/jeroenlaylo/orgs","repos_url":"https://api.github.com/users/jeroenlaylo/repos","events_url":"https://api.github.com/users/jeroenlaylo/events{/privacy}","received_events_url":"https://api.github.com/users/jeroenlaylo/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-27T08:43:22Z","updated_at":"2024-08-27T08:43:52Z","body":"From diving somewhat further, it seems the problem is that `cancel()` is never called on erroring out - causing leftover temporary files to not be cleaned.  Here is a quick patch: \r\n\r\n```\r\nIndex: modules/git/repo_index.go\r\n--- modules/git/repo_index.go.orig\r\n+++ modules/git/repo_index.go\r\n@@ -51,7 +51,7 @@ func (repo *Repository) readTreeToIndex(id ObjectID, i\r\n \r\n // ReadTreeToTemporaryIndex reads a treeish to a temporary index file\r\n func (repo *Repository) ReadTreeToTemporaryIndex(treeish string) (filename, tmpDir string, cancel context.CancelFunc, err error) {\r\n-\ttmpDir, err = os.MkdirTemp(\"\", \"index\")\r\n+\ttmpDir, err = os.MkdirTemp(\"${LOCALSTATEDIR}/gitea/tmp\", \"index\")\r\n \tif err != nil {\r\n \t\treturn filename, tmpDir, cancel, err\r\n \t}\r\n@@ -63,9 +63,16 @@ func (repo *Repository) ReadTreeToTemporaryIndex(treei\r\n \t\t\tlog.Error(\"failed to remove tmp index file: %v\", err)\r\n \t\t}\r\n \t}\r\n+\r\n+\t// Defer the cancel function to ensure cleanup in case of an error\r\n+\tdefer func() {\r\n+\t\tif err != nil {\r\n+\t\t\tcancel()\r\n+\t\t}\r\n+\t}()\r\n+\r\n \terr = repo.ReadTreeToIndex(treeish, filename)\r\n \tif err != nil {\r\n-\t\tdefer cancel()\r\n \t\treturn \"\", \"\", func() {}, err\r\n \t}\r\n \treturn filename, tmpDir, cancel, err\r\n```\r\n\r\nThis was only tested on OpenBSD and fixed the behaviour we were seeing. Setting the `tmpDir` to a custom path is something that fits our scenario better.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2311920520/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jeroenlaylo","id":45574083,"node_id":"MDQ6VXNlcjQ1NTc0MDgz","avatar_url":"https://avatars.githubusercontent.com/u/45574083?v=4","gravatar_id":"","url":"https://api.github.com/users/jeroenlaylo","html_url":"https://github.com/jeroenlaylo","followers_url":"https://api.github.com/users/jeroenlaylo/followers","following_url":"https://api.github.com/users/jeroenlaylo/following{/other_user}","gists_url":"https://api.github.com/users/jeroenlaylo/gists{/gist_id}","starred_url":"https://api.github.com/users/jeroenlaylo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jeroenlaylo/subscriptions","organizations_url":"https://api.github.com/users/jeroenlaylo/orgs","repos_url":"https://api.github.com/users/jeroenlaylo/repos","events_url":"https://api.github.com/users/jeroenlaylo/events{/privacy}","received_events_url":"https://api.github.com/users/jeroenlaylo/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2365347994","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2365347994","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2365347994,"node_id":"IC_kwDOBFIx286M_Fia","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-21T22:53:01Z","updated_at":"2024-10-28T17:37:32Z","body":"> From diving somewhat further, it seems the problem is that `cancel()` is never called on erroring out - causing leftover temporary files to not be cleaned. Here is a quick patch:\r\n> \r\n> ```\r\n> Index: modules/git/repo_index.go\r\n> --- modules/git/repo_index.go.orig\r\n> +++ modules/git/repo_index.go\r\n> @@ -51,7 +51,7 @@ func (repo *Repository) readTreeToIndex(id ObjectID, i\r\n>  \r\n>  // ReadTreeToTemporaryIndex reads a treeish to a temporary index file\r\n>  func (repo *Repository) ReadTreeToTemporaryIndex(treeish string) (filename, tmpDir string, cancel context.CancelFunc, err error) {\r\n> -\ttmpDir, err = os.MkdirTemp(\"\", \"index\")\r\n> +\ttmpDir, err = os.MkdirTemp(\"${LOCALSTATEDIR}/gitea/tmp\", \"index\")\r\n>  \tif err != nil {\r\n>  \t\treturn filename, tmpDir, cancel, err\r\n>  \t}\r\n> @@ -63,9 +63,16 @@ func (repo *Repository) ReadTreeToTemporaryIndex(treei\r\n>  \t\t\tlog.Error(\"failed to remove tmp index file: %v\", err)\r\n>  \t\t}\r\n>  \t}\r\n> +\r\n> +\t// Defer the cancel function to ensure cleanup in case of an error\r\n> +\tdefer func() {\r\n> +\t\tif err != nil {\r\n> +\t\t\tcancel()\r\n> +\t\t}\r\n> +\t}()\r\n> +\r\n>  \terr = repo.ReadTreeToIndex(treeish, filename)\r\n>  \tif err != nil {\r\n> -\t\tdefer cancel()\r\n>  \t\treturn \"\", \"\", func() {}, err\r\n>  \t}\r\n>  \treturn filename, tmpDir, cancel, err\r\n> ```\r\n> \r\n> This was only tested on OpenBSD and fixed the behaviour we were seeing. Setting the `tmpDir` to a custom path is something that fits our scenario better.\r\n\r\n~I don't think the logic is right. The `cancel` should be invoked from outside if the `err` is `nil`.~\r\nIt seems the logic is the same as before. It's weird the patch fixes it.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2365347994/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440174352","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440174352","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440174352,"node_id":"IC_kwDOBFIx286RchsQ","user":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T21:04:07Z","updated_at":"2024-10-27T21:04:07Z","body":"We have this problem here (git.ardour.org). And it's not a \"small\" problem. Two days ago our server stopped functioning because nearly 10GB of the root partition was filled by gitea's \"index[0-9]+\" files. ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440174352/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440187548","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440187548","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440187548,"node_id":"IC_kwDOBFIx286Rck6c","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T21:52:14Z","updated_at":"2024-10-27T21:57:06Z","body":"> We have this problem here (git.ardour.org). And it's not a \"small\" problem. Two days ago our server stopped functioning because nearly 10GB of the root partition was filled by gitea's \"index[0-9]+\" files.\r\n\r\nDo you think an optional temp directory could resolve your problem? If that, you can set a special temp dir with env variable `$TMPDIR`.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440187548/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440192435","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440192435","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440192435,"node_id":"IC_kwDOBFIx286RcmGz","user":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T22:09:11Z","updated_at":"2024-10-27T22:09:11Z","body":"We have a cron job that runs every night to remove these files, so for the most part, the problem is under control. \r\n\r\nPeriodically, however, and for reasons that are not obvious, gitea runs amok and generates far more of them than \"normal\"\r\n\r\nFrankly, using 10GB of space on the server no matter it lives is not really acceptable.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440192435/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440204149","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440204149","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440204149,"node_id":"IC_kwDOBFIx286Rco91","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T22:47:44Z","updated_at":"2024-10-27T22:47:44Z","body":"> We have a cron job that runs every night to remove these files, so for the most part, the problem is under control.\r\n> \r\n> Periodically, however, and for reasons that are not obvious, gitea runs amok and generates far more of them than \"normal\"\r\n> \r\n> Frankly, using 10GB of space on the server no matter it lives is not really acceptable.\r\n\r\nI think so. We are investigating the problem. Something may not be cleaned correctly.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440204149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440209440","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440209440","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440209440,"node_id":"IC_kwDOBFIx286RcqQg","user":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T23:04:35Z","updated_at":"2024-10-27T23:04:35Z","body":"So for example, since my last comment, when I ran the \"cleaner\" by hand, gitea has generated another 11918 files.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440209440/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440211733","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440211733","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440211733,"node_id":"IC_kwDOBFIx286Rcq0V","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T23:10:13Z","updated_at":"2024-10-27T23:10:13Z","body":"> So for example, since my last comment, when I ran the \"cleaner\" by hand, gitea has generated another 11918 files.\r\n\r\nWhat's the temp files/directories looks like? All are `index[0-9]+`?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440211733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T23:46:07Z","updated_at":"2024-10-27T23:46:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/32352","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/32352/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/32352/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/32352/events","html_url":"https://github.com/go-gitea/gitea/pull/32352","id":2616926886,"node_id":"PR_kwDOBFIx286ABoj7","number":32352,"title":"Uniform all temporary directories and allow customizing temp path","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":475283668,"node_id":"MDU6TGFiZWw0NzUyODM2Njg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/lgtm/done","name":"lgtm/done","color":"0e8a16","default":false,"description":"This PR has enough approvals to get merged. There are no important open reservations anymore."},{"id":480106070,"node_id":"MDU6TGFiZWw0ODAxMDYwNzA=","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/translation","name":"modifies/translation","color":"7791d5","default":false,"description":""},{"id":487889463,"node_id":"MDU6TGFiZWw0ODc4ODk0NjM=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/refactoring","name":"type/refactoring","color":"1d76db","default":false,"description":"Existing code has been cleaned up. There should be no new functionality."},{"id":5171898114,"node_id":"LA_kwDOBFIx288AAAABNETnAg","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/go","name":"modifies/go","color":"89b3d5","default":false,"description":"Pull requests that update Go code"},{"id":5371453372,"node_id":"LA_kwDOBFIx288AAAABQCnfvA","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/cli","name":"modifies/cli","color":"30DDEC","default":false,"description":"PR changes something on the CLI, i.e. gitea doctor or gitea admin"},{"id":6058060197,"node_id":"LA_kwDOBFIx288AAAABaRappQ","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/templates","name":"modifies/templates","color":"795553","default":false,"description":"This PR modifies the template files"},{"id":6058701410,"node_id":"LA_kwDOBFIx288AAAABaSByYg","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/migrations","name":"modifies/migrations","color":"7794d5","default":false,"description":""},{"id":7309442067,"node_id":"LA_kwDOBFIx288AAAABs608Ew","url":"https://api.github.com/repos/go-gitea/gitea/labels/docs-update-needed","name":"docs-update-needed","color":"FE09D7","default":false,"description":"The document needs to be updated synchronously"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/167","html_url":"https://github.com/go-gitea/gitea/milestone/167","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/167/labels","id":11552307,"node_id":"MI_kwDOBFIx284AsEYz","number":167,"title":"1.24.0","description":"","creator":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":1,"closed_issues":674,"state":"closed","created_at":"2024-09-07T22:02:43Z","updated_at":"2025-06-12T01:52:19Z","due_on":"2025-04-25T07:00:00Z","closed_at":"2025-06-10T07:09:50Z"},"comments":7,"created_at":"2024-10-27T22:50:11Z","updated_at":"2025-07-08T00:37:31Z","closed_at":"2025-04-08T16:15:28Z","author_association":"MEMBER","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":72495579,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ5NTU3OQ==","name":"gitea","full_name":"go-gitea/gitea","private":false,"owner":{"login":"go-gitea","id":12724356,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNzI0MzU2","avatar_url":"https://avatars.githubusercontent.com/u/12724356?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gitea","html_url":"https://github.com/go-gitea","followers_url":"https://api.github.com/users/go-gitea/followers","following_url":"https://api.github.com/users/go-gitea/following{/other_user}","gists_url":"https://api.github.com/users/go-gitea/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gitea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gitea/subscriptions","organizations_url":"https://api.github.com/users/go-gitea/orgs","repos_url":"https://api.github.com/users/go-gitea/repos","events_url":"https://api.github.com/users/go-gitea/events{/privacy}","received_events_url":"https://api.github.com/users/go-gitea/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gitea/gitea","description":"Git with a cup of tea! Painless self-hosted all-in-one software development service, including Git hosting, code review, team collaboration, package registry and CI/CD","fork":false,"url":"https://api.github.com/repos/go-gitea/gitea","forks_url":"https://api.github.com/repos/go-gitea/gitea/forks","keys_url":"https://api.github.com/repos/go-gitea/gitea/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gitea/gitea/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gitea/gitea/teams","hooks_url":"https://api.github.com/repos/go-gitea/gitea/hooks","issue_events_url":"https://api.github.com/repos/go-gitea/gitea/issues/events{/number}","events_url":"https://api.github.com/repos/go-gitea/gitea/events","assignees_url":"https://api.github.com/repos/go-gitea/gitea/assignees{/user}","branches_url":"https://api.github.com/repos/go-gitea/gitea/branches{/branch}","tags_url":"https://api.github.com/repos/go-gitea/gitea/tags","blobs_url":"https://api.github.com/repos/go-gitea/gitea/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gitea/gitea/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gitea/gitea/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gitea/gitea/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gitea/gitea/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gitea/gitea/languages","stargazers_url":"https://api.github.com/repos/go-gitea/gitea/stargazers","contributors_url":"https://api.github.com/repos/go-gitea/gitea/contributors","subscribers_url":"https://api.github.com/repos/go-gitea/gitea/subscribers","subscription_url":"https://api.github.com/repos/go-gitea/gitea/subscription","commits_url":"https://api.github.com/repos/go-gitea/gitea/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gitea/gitea/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gitea/gitea/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gitea/gitea/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gitea/gitea/contents/{+path}","compare_url":"https://api.github.com/repos/go-gitea/gitea/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gitea/gitea/merges","archive_url":"https://api.github.com/repos/go-gitea/gitea/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gitea/gitea/downloads","issues_url":"https://api.github.com/repos/go-gitea/gitea/issues{/number}","pulls_url":"https://api.github.com/repos/go-gitea/gitea/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gitea/gitea/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gitea/gitea/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gitea/gitea/labels{/name}","releases_url":"https://api.github.com/repos/go-gitea/gitea/releases{/id}","deployments_url":"https://api.github.com/repos/go-gitea/gitea/deployments","created_at":"2016-11-01T02:13:26Z","updated_at":"2025-11-09T22:07:00Z","pushed_at":"2025-11-09T21:54:34Z","git_url":"git://github.com/go-gitea/gitea.git","ssh_url":"git@github.com:go-gitea/gitea.git","clone_url":"https://github.com/go-gitea/gitea.git","svn_url":"https://github.com/go-gitea/gitea","homepage":"https://gitea.com","size":317853,"stargazers_count":51900,"watchers_count":51900,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6199,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2849,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["bitbucket","cicd","devops","docker-registry-v2","git","git-gui","git-server","gitea","github","github-actions","gitlab","go","golang","hacktoberfest","maven-server","npm-registry","vue"],"visibility":"public","forks":6199,"open_issues":2849,"watchers":51900,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gitea/gitea/pulls/32352","html_url":"https://github.com/go-gitea/gitea/pull/32352","diff_url":"https://github.com/go-gitea/gitea/pull/32352.diff","patch_url":"https://github.com/go-gitea/gitea/pull/32352.patch","merged_at":"2025-04-08T16:15:28Z"},"body":"This PR uniform all temporary directory usage so that it will be easier to manage.\r\n\r\nRelate to #31792 \r\n\r\n- [x] Added a new setting to allow users to configure the global temporary directory.\r\n- [x] Move all temporary files and directories to be placed under os.Temp()/gitea.\r\n- [x] `setting.Repository.Local.LocalCopyPath` now will be `setting.TempPath/local-repo` and the customized path is removed.\r\n```diff\r\n-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\r\n-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\r\n-;[repository.local]\r\n-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\r\n-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;\r\n-;;\r\n-;; Path for local repository copy. Defaults to  TEMP_PATH + `local-repo`, this is deprecated and cannot be changed\r\n-;LOCAL_COPY_PATH = local-repo\r\n```\r\n\r\n- [x] `setting.Repository.Upload.TempPath` now will be `settting.TempPath/uploads`  and the customized path is removed.\r\n```diff\r\n;[repository.upload]\r\n-;;\r\n-;; Path for uploads. Defaults to TEMP_PATH + `uploads`\r\n-;TEMP_PATH = uploads\r\n```\r\n\r\n- [x] `setting.Packages.ChunkedUploadPath` now will be `settting.TempPath/package-upload`  and the customized path is removed.\r\n```diff\r\n;[packages]\r\n-;;\r\n-;; Path for chunked uploads. Defaults it's `package-upload` under `TEMP_PATH` unless it's an absolute path.\r\n-;CHUNKED_UPLOAD_PATH = package-upload\r\n```\r\n\r\n- [x] `setting.SSH.KeyTestPath` now will be `settting.TempPath/ssh_key_test`  and the customized path is removed.\r\n```diff\r\n[server]\r\n-;;\r\n-;; Directory to create temporary files in when testing public keys using ssh-keygen,\r\n-;; default is the system temporary directory.\r\n-;SSH_KEY_TEST_PATH =\r\n```\r\n\r\nTODO:\r\n- [ ] setting.PprofDataPath haven't been changed because it may need to be kept until somebody read it but temp path may be clean up any time.\r\n\r\n","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/32352/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/32352/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440227521","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440227521","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440227521,"node_id":"IC_kwDOBFIx286RcurB","user":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-27T23:56:09Z","updated_at":"2024-10-27T23:56:09Z","body":"Yes, every one of them. \r\n\r\nAnd since my last remark, 19619 files ... :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440227521/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440277182","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440277182","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440277182,"node_id":"IC_kwDOBFIx286Rc6y-","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T00:57:40Z","updated_at":"2024-10-28T00:57:40Z","body":"> Yes, every one of them.\r\n> \r\n> And since my last remark, 19619 files ... :)\r\n\r\nIt's wired that those index directories should be cleaned up after use except Gitea exited abnormally.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440277182/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440508807","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440508807","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440508807,"node_id":"IC_kwDOBFIx286RdzWH","user":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T04:08:50Z","updated_at":"2024-10-28T04:08:50Z","body":"An additional 23k files since we last talked :)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440508807/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440519582","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440519582","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440519582,"node_id":"IC_kwDOBFIx286Rd1-e","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T04:20:46Z","updated_at":"2024-10-28T04:20:46Z","body":"Do you have any error logs?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440519582/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440525543","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2440525543","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2440525543,"node_id":"IC_kwDOBFIx286Rd3bn","user":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T04:27:07Z","updated_at":"2024-10-28T04:27:07Z","body":"Not sure where to look, and am headed to bed now. If you give me a pointer, I have a suspicion this situation will be continuing when I get up ...","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2440525543/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2442124890","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2442124890","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2442124890,"node_id":"IC_kwDOBFIx286Rj95a","user":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T16:53:22Z","updated_at":"2024-10-28T16:53:22Z","body":"As an additional note, we've disabled indexing in the past to try to prevent his, and it is not working at least in the sense that these files are being produced anyway.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2442124890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2442227247","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2442227247","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2442227247,"node_id":"IC_kwDOBFIx286RkW4v","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T17:39:40Z","updated_at":"2024-10-28T17:47:05Z","body":"How did you disable `indexing`? And I think you mean these directories but not files? From the code, I think those are directories. And every directory has a `.tmp-index` file?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2442227247/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2442238630","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2442238630","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2442238630,"node_id":"IC_kwDOBFIx286RkZqm","user":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T17:45:12Z","updated_at":"2024-10-28T17:45:12Z","body":"Yes, sorry, directories. And yes, they all have .tmp-index. \r\n\r\nDisabling indexing was done by putting this in app.ini:\r\n\r\n[indexer]\r\nREPO_INDEXER_ENABLED = false\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2442238630/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"pauldavisthefirst","id":3856259,"node_id":"MDQ6VXNlcjM4NTYyNTk=","avatar_url":"https://avatars.githubusercontent.com/u/3856259?v=4","gravatar_id":"","url":"https://api.github.com/users/pauldavisthefirst","html_url":"https://github.com/pauldavisthefirst","followers_url":"https://api.github.com/users/pauldavisthefirst/followers","following_url":"https://api.github.com/users/pauldavisthefirst/following{/other_user}","gists_url":"https://api.github.com/users/pauldavisthefirst/gists{/gist_id}","starred_url":"https://api.github.com/users/pauldavisthefirst/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pauldavisthefirst/subscriptions","organizations_url":"https://api.github.com/users/pauldavisthefirst/orgs","repos_url":"https://api.github.com/users/pauldavisthefirst/repos","events_url":"https://api.github.com/users/pauldavisthefirst/events{/privacy}","received_events_url":"https://api.github.com/users/pauldavisthefirst/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2442260638","html_url":"https://github.com/go-gitea/gitea/issues/31792#issuecomment-2442260638","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31792","id":2442260638,"node_id":"IC_kwDOBFIx286RkfCe","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T17:55:41Z","updated_at":"2024-10-28T17:56:31Z","body":"They are two different features. I will send a PR like what https://github.com/go-gitea/gitea/issues/31792#issuecomment-2311920520 posted, but I really don't know how it works.\r\n\r\nAnd before that, could you try to upgrade to v1.22.3?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2442260638/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-10-28T18:04:04Z","updated_at":"2024-10-28T18:04:04Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/32360","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/32360/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/32360/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/32360/events","html_url":"https://github.com/go-gitea/gitea/pull/32360","id":2619144616,"node_id":"PR_kwDOBFIx286AI1V_","number":32360,"title":"Fix clean tmp dir","user":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":475283668,"node_id":"MDU6TGFiZWw0NzUyODM2Njg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/lgtm/done","name":"lgtm/done","color":"0e8a16","default":false,"description":"This PR has enough approvals to get merged. There are no important open reservations anymore."},{"id":507643724,"node_id":"MDU6TGFiZWw1MDc2NDM3MjQ=","url":"https://api.github.com/repos/go-gitea/gitea/labels/backport/done","name":"backport/done","color":"C2E0C6","default":false,"description":"All backports for this PR have been created"},{"id":5171898114,"node_id":"LA_kwDOBFIx288AAAABNETnAg","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/go","name":"modifies/go","color":"89b3d5","default":false,"description":"Pull requests that update Go code"},{"id":5216727710,"node_id":"LA_kwDOBFIx288AAAABNvDyng","url":"https://api.github.com/repos/go-gitea/gitea/labels/backport/manual","name":"backport/manual","color":"F9D2DF","default":false,"description":"No power to the bots! Create your backport yourself!"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/159","html_url":"https://github.com/go-gitea/gitea/milestone/159","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/159/labels","id":10634467,"node_id":"MI_kwDOBFIx284AokTj","number":159,"title":"1.23.0","description":"","creator":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":951,"state":"closed","created_at":"2024-03-04T05:56:49Z","updated_at":"2025-03-12T17:52:57Z","due_on":"2024-12-18T08:00:00Z","closed_at":"2025-01-09T17:59:34Z"},"comments":2,"created_at":"2024-10-28T18:04:03Z","updated_at":"2025-01-27T17:09:24Z","closed_at":"2024-10-29T16:27:03Z","author_association":"MEMBER","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":72495579,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ5NTU3OQ==","name":"gitea","full_name":"go-gitea/gitea","private":false,"owner":{"login":"go-gitea","id":12724356,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNzI0MzU2","avatar_url":"https://avatars.githubusercontent.com/u/12724356?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gitea","html_url":"https://github.com/go-gitea","followers_url":"https://api.github.com/users/go-gitea/followers","following_url":"https://api.github.com/users/go-gitea/following{/other_user}","gists_url":"https://api.github.com/users/go-gitea/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gitea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gitea/subscriptions","organizations_url":"https://api.github.com/users/go-gitea/orgs","repos_url":"https://api.github.com/users/go-gitea/repos","events_url":"https://api.github.com/users/go-gitea/events{/privacy}","received_events_url":"https://api.github.com/users/go-gitea/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gitea/gitea","description":"Git with a cup of tea! Painless self-hosted all-in-one software development service, including Git hosting, code review, team collaboration, package registry and CI/CD","fork":false,"url":"https://api.github.com/repos/go-gitea/gitea","forks_url":"https://api.github.com/repos/go-gitea/gitea/forks","keys_url":"https://api.github.com/repos/go-gitea/gitea/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gitea/gitea/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gitea/gitea/teams","hooks_url":"https://api.github.com/repos/go-gitea/gitea/hooks","issue_events_url":"https://api.github.com/repos/go-gitea/gitea/issues/events{/number}","events_url":"https://api.github.com/repos/go-gitea/gitea/events","assignees_url":"https://api.github.com/repos/go-gitea/gitea/assignees{/user}","branches_url":"https://api.github.com/repos/go-gitea/gitea/branches{/branch}","tags_url":"https://api.github.com/repos/go-gitea/gitea/tags","blobs_url":"https://api.github.com/repos/go-gitea/gitea/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gitea/gitea/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gitea/gitea/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gitea/gitea/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gitea/gitea/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gitea/gitea/languages","stargazers_url":"https://api.github.com/repos/go-gitea/gitea/stargazers","contributors_url":"https://api.github.com/repos/go-gitea/gitea/contributors","subscribers_url":"https://api.github.com/repos/go-gitea/gitea/subscribers","subscription_url":"https://api.github.com/repos/go-gitea/gitea/subscription","commits_url":"https://api.github.com/repos/go-gitea/gitea/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gitea/gitea/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gitea/gitea/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gitea/gitea/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gitea/gitea/contents/{+path}","compare_url":"https://api.github.com/repos/go-gitea/gitea/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gitea/gitea/merges","archive_url":"https://api.github.com/repos/go-gitea/gitea/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gitea/gitea/downloads","issues_url":"https://api.github.com/repos/go-gitea/gitea/issues{/number}","pulls_url":"https://api.github.com/repos/go-gitea/gitea/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gitea/gitea/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gitea/gitea/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gitea/gitea/labels{/name}","releases_url":"https://api.github.com/repos/go-gitea/gitea/releases{/id}","deployments_url":"https://api.github.com/repos/go-gitea/gitea/deployments","created_at":"2016-11-01T02:13:26Z","updated_at":"2025-11-09T22:07:00Z","pushed_at":"2025-11-09T21:54:34Z","git_url":"git://github.com/go-gitea/gitea.git","ssh_url":"git@github.com:go-gitea/gitea.git","clone_url":"https://github.com/go-gitea/gitea.git","svn_url":"https://github.com/go-gitea/gitea","homepage":"https://gitea.com","size":317853,"stargazers_count":51900,"watchers_count":51900,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6199,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2849,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["bitbucket","cicd","devops","docker-registry-v2","git","git-gui","git-server","gitea","github","github-actions","gitlab","go","golang","hacktoberfest","maven-server","npm-registry","vue"],"visibility":"public","forks":6199,"open_issues":2849,"watchers":51900,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gitea/gitea/pulls/32360","html_url":"https://github.com/go-gitea/gitea/pull/32360","diff_url":"https://github.com/go-gitea/gitea/pull/32360.diff","patch_url":"https://github.com/go-gitea/gitea/pull/32360.patch","merged_at":"2024-10-29T16:27:03Z"},"body":"Try to fix #31792 \r\n\r\nCredit to @jeroenlaylo\r\nCopied from https://github.com/go-gitea/gitea/issues/31792#issuecomment-2311920520","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/32360/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/32360/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":14987781530,"node_id":"CE_lADOBFIx286SNbwozwAAAAN9V2Wa","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/14987781530","actor":{"login":"lafriks","id":165205,"node_id":"MDQ6VXNlcjE2NTIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/165205?v=4","gravatar_id":"","url":"https://api.github.com/users/lafriks","html_url":"https://github.com/lafriks","followers_url":"https://api.github.com/users/lafriks/followers","following_url":"https://api.github.com/users/lafriks/following{/other_user}","gists_url":"https://api.github.com/users/lafriks/gists{/gist_id}","starred_url":"https://api.github.com/users/lafriks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lafriks/subscriptions","organizations_url":"https://api.github.com/users/lafriks/orgs","repos_url":"https://api.github.com/users/lafriks/repos","events_url":"https://api.github.com/users/lafriks/events{/privacy}","received_events_url":"https://api.github.com/users/lafriks/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-10-29T16:27:04Z","state_reason":null,"performed_via_github_app":null},{"id":14987781606,"node_id":"REFE_lADOBFIx286SNbwozwAAAAN9V2Xm","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/14987781606","actor":{"login":"lafriks","id":165205,"node_id":"MDQ6VXNlcjE2NTIwNQ==","avatar_url":"https://avatars.githubusercontent.com/u/165205?v=4","gravatar_id":"","url":"https://api.github.com/users/lafriks","html_url":"https://github.com/lafriks","followers_url":"https://api.github.com/users/lafriks/followers","following_url":"https://api.github.com/users/lafriks/following{/other_user}","gists_url":"https://api.github.com/users/lafriks/gists{/gist_id}","starred_url":"https://api.github.com/users/lafriks/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lafriks/subscriptions","organizations_url":"https://api.github.com/users/lafriks/orgs","repos_url":"https://api.github.com/users/lafriks/repos","events_url":"https://api.github.com/users/lafriks/events{/privacy}","received_events_url":"https://api.github.com/users/lafriks/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"feca8802b85dd75090c533ebdb92835d3d529f17","commit_url":"https://api.github.com/repos/go-gitea/gitea/commits/feca8802b85dd75090c533ebdb92835d3d529f17","created_at":"2024-10-29T16:27:05Z","performed_via_github_app":null},{"id":15144585557,"node_id":"REFE_lADOBFIx286SNbwozwAAAAOGsAlV","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15144585557","actor":{"login":"DennisRasey","id":7525164,"node_id":"MDQ6VXNlcjc1MjUxNjQ=","avatar_url":"https://avatars.githubusercontent.com/u/7525164?v=4","gravatar_id":"","url":"https://api.github.com/users/DennisRasey","html_url":"https://github.com/DennisRasey","followers_url":"https://api.github.com/users/DennisRasey/followers","following_url":"https://api.github.com/users/DennisRasey/following{/other_user}","gists_url":"https://api.github.com/users/DennisRasey/gists{/gist_id}","starred_url":"https://api.github.com/users/DennisRasey/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DennisRasey/subscriptions","organizations_url":"https://api.github.com/users/DennisRasey/orgs","repos_url":"https://api.github.com/users/DennisRasey/repos","events_url":"https://api.github.com/users/DennisRasey/events{/privacy}","received_events_url":"https://api.github.com/users/DennisRasey/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"42724b09c11b3062b77712dae63530deb4c6a505","commit_url":"https://api.github.com/repos/DennisRasey/forgejo/commits/42724b09c11b3062b77712dae63530deb4c6a505","created_at":"2024-11-06T09:42:06Z","performed_via_github_app":null},{"id":15287734334,"node_id":"REFE_lADOBFIx286SNbwozwAAAAOPOFA-","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15287734334","actor":{"login":"a1batross","id":3213697,"node_id":"MDQ6VXNlcjMyMTM2OTc=","avatar_url":"https://avatars.githubusercontent.com/u/3213697?v=4","gravatar_id":"","url":"https://api.github.com/users/a1batross","html_url":"https://github.com/a1batross","followers_url":"https://api.github.com/users/a1batross/followers","following_url":"https://api.github.com/users/a1batross/following{/other_user}","gists_url":"https://api.github.com/users/a1batross/gists{/gist_id}","starred_url":"https://api.github.com/users/a1batross/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/a1batross/subscriptions","organizations_url":"https://api.github.com/users/a1batross/orgs","repos_url":"https://api.github.com/users/a1batross/repos","events_url":"https://api.github.com/users/a1batross/events{/privacy}","received_events_url":"https://api.github.com/users/a1batross/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1ea7d546eae6c78865a097641262eddb2e7650b6","commit_url":"https://api.github.com/repos/a1batross/gitea/commits/1ea7d546eae6c78865a097641262eddb2e7650b6","created_at":"2024-11-13T18:31:35Z","performed_via_github_app":null},{"id":15376345069,"node_id":"REFE_lADOBFIx286SNbwozwAAAAOUgGft","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/15376345069","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3a3e7a35d959ffadf98649cecf5ddf2be4f7a837","commit_url":"https://api.github.com/repos/lunny/gitea/commits/3a3e7a35d959ffadf98649cecf5ddf2be4f7a837","created_at":"2024-11-21T06:04:08Z","performed_via_github_app":null}]