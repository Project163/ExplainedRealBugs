{"url":"https://api.github.com/repos/go-gitea/gitea/issues/26331","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/26331/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/26331/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/26331/events","html_url":"https://github.com/go-gitea/gitea/issues/26331","id":1836794767,"node_id":"I_kwDOBFIx285te0OP","number":26331,"title":"PANIC: runtime error: invalid memory address or nil pointer dereference","user":{"login":"stuzer05","id":23124682,"node_id":"MDQ6VXNlcjIzMTI0Njgy","avatar_url":"https://avatars.githubusercontent.com/u/23124682?v=4","gravatar_id":"","url":"https://api.github.com/users/stuzer05","html_url":"https://github.com/stuzer05","followers_url":"https://api.github.com/users/stuzer05/followers","following_url":"https://api.github.com/users/stuzer05/following{/other_user}","gists_url":"https://api.github.com/users/stuzer05/gists{/gist_id}","starred_url":"https://api.github.com/users/stuzer05/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stuzer05/subscriptions","organizations_url":"https://api.github.com/users/stuzer05/orgs","repos_url":"https://api.github.com/users/stuzer05/repos","events_url":"https://api.github.com/users/stuzer05/events{/privacy}","received_events_url":"https://api.github.com/users/stuzer05/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2023-08-04T13:56:02Z","updated_at":"2023-09-22T00:01:27Z","closed_at":"2023-08-07T03:43:19Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\r\n\r\nOpen link with invalid pull index, like\r\nhttps://example.com/test/repo-name/pulls/99999\r\n\r\n```log\r\nAn error occurred:\r\n\r\nPANIC: runtime error: invalid memory address or nil pointer dereference\r\n/usr/local/go/src/runtime/panic.go:884 (0x44a7f2)\r\n/go/src/code.gitea.io/gitea/modules/web/routing/logger_manager.go:116 (0x1cd2264)\r\n/usr/local/go/src/runtime/panic.go:884 (0x44a7f2)\r\n/usr/local/go/src/runtime/panic.go:260 (0x4621fc)\r\n/usr/local/go/src/runtime/signal_unix.go:841 (0x4621cc)\r\n/go/src/code.gitea.io/gitea/routers/web/repo/pull.go:365 (0x26c5e33)\r\n/usr/local/go/src/reflect/value.go:586 (0x4b7dca)\r\n/usr/local/go/src/reflect/value.go:370 (0x4b707b)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:166 (0x1cdb765)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/chain.go:31 (0x1cd2dcb)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/mux.go:444 (0x1cd5cd5)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/middleware/get_head.go:37 (0x2595ead)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:145 (0x1cdba2b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:176 (0x1cdb7fb)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/context/context.go:204 (0x1dedd8b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:145 (0x1cdba2b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/gitea.com/go-chi/session@v0.0.0-20230613035928-39541325faa3/session.go:257 (0x1d4078a)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:145 (0x1cdba2b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/mux.go:73 (0x1cd3a54)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/mux.go:316 (0x1cd5463)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/mux.go:444 (0x1cd5cd5)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/mux.go:73 (0x1cd3a54)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/mux.go:316 (0x1cd5463)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/mux.go:444 (0x1cd5cd5)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/routing/logger_manager.go:122 (0x1cd2093)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:145 (0x1cdba2b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/github.com/chi-middleware/proxy@v1.1.1/middleware.go:37 (0x25095d6)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:145 (0x1cdba2b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/routers/common/middleware.go:45 (0x250c714)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:145 (0x1cdba2b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/routers/common/middleware.go:37 (0x250c22f)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:145 (0x1cdba2b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/routers/common/middleware.go:99 (0x250b7a9)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/src/code.gitea.io/gitea/modules/web/handler.go:145 (0x1cdba2b)\r\n/usr/local/go/src/net/http/server.go:2122 (0x9cd7ce)\r\n/go/pkg/mod/github.com/go-chi/chi/v5@v5.0.8/mux.go:90 (0x1cd3a0f)\r\n/go/src/code.gitea.io/gitea/modules/web/route.go:171 (0x1cdcd0d)\r\n/usr/local/go/src/net/http/server.go:2936 (0x9d0dd5)\r\n/usr/local/go/src/net/http/server.go:1995 (0x9cc2f1)\r\n/usr/local/go/src/runtime/asm_amd64.s:1598 (0x482300)\r\n\r\n```\r\n\r\n### Gitea Version\r\n\r\nlatest dev\r\n\r\n### Can you reproduce the bug on the Gitea demo site?\r\n\r\nYes\r\n\r\n### Log Gist\r\n\r\n_No response_\r\n\r\n### Screenshots\r\n\r\n_No response_\r\n\r\n### Git Version\r\n\r\n_No response_\r\n\r\n### Operating System\r\n\r\n_No response_\r\n\r\n### How are you running Gitea?\r\n\r\nhttps://try.gitea.io/doktormike/Helloyou/pulls/9999\r\n\r\n### Database\r\n\r\nNone","closed_by":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/26331/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/26331/timeline","performed_via_github_app":null,"state_reason":"completed"}