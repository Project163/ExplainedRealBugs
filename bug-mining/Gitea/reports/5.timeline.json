[{"id":9882801051,"node_id":"LE_lADOBFIx285sNKNnzwAAAAJND5Ob","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/9882801051","actor":{"login":"rgl","id":43356,"node_id":"MDQ6VXNlcjQzMzU2","avatar_url":"https://avatars.githubusercontent.com/u/43356?v=4","gravatar_id":"","url":"https://api.github.com/users/rgl","html_url":"https://github.com/rgl","followers_url":"https://api.github.com/users/rgl/followers","following_url":"https://api.github.com/users/rgl/following{/other_user}","gists_url":"https://api.github.com/users/rgl/gists{/gist_id}","starred_url":"https://api.github.com/users/rgl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rgl/subscriptions","organizations_url":"https://api.github.com/users/rgl/orgs","repos_url":"https://api.github.com/users/rgl/repos","events_url":"https://api.github.com/users/rgl/events{/privacy}","received_events_url":"https://api.github.com/users/rgl/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-07-21T08:27:25Z","label":{"name":"kind/bug","color":"ee0701"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/1645213105","html_url":"https://github.com/go-gitea/gitea/issues/26035#issuecomment-1645213105","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/26035","id":1645213105,"node_id":"IC_kwDOBFIx285iD_Wx","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T08:31:40Z","updated_at":"2023-07-21T08:31:40Z","body":"It seems that it's related to my (unresolved) review comment:\r\n\r\nhttps://github.com/go-gitea/gitea/pull/24767#pullrequestreview-1456623613\r\n\r\n> If I understand correctly, `/version` could always be accessed without a token (it doesn't really require the misc scope token).\r\n>\r\n> But .... if it is accessed by a token without \"misc\" scope, then it becomes inaccessible? It really looks strange.\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/1645213105/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":9883468614,"node_id":"MIE_lADOBFIx285sNKNnzwAAAAJNGcNG","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/9883468614","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-07-21T09:39:22Z","milestone":{"title":"1.20.1"},"performed_via_github_app":null},{"actor":{"login":"richmahn","id":2839925,"node_id":"MDQ6VXNlcjI4Mzk5MjU=","avatar_url":"https://avatars.githubusercontent.com/u/2839925?v=4","gravatar_id":"","url":"https://api.github.com/users/richmahn","html_url":"https://github.com/richmahn","followers_url":"https://api.github.com/users/richmahn/followers","following_url":"https://api.github.com/users/richmahn/following{/other_user}","gists_url":"https://api.github.com/users/richmahn/gists{/gist_id}","starred_url":"https://api.github.com/users/richmahn/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/richmahn/subscriptions","organizations_url":"https://api.github.com/users/richmahn/orgs","repos_url":"https://api.github.com/users/richmahn/repos","events_url":"https://api.github.com/users/richmahn/events{/privacy}","received_events_url":"https://api.github.com/users/richmahn/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-21T14:27:26Z","updated_at":"2023-07-21T14:27:26Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/24767","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/24767/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/24767/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/24767/events","html_url":"https://github.com/go-gitea/gitea/pull/24767","id":1713984281,"node_id":"PR_kwDOBFIx285QuB8i","number":24767,"title":"Redesign Scoped Access Tokens","user":{"login":"jackHay22","id":23248839,"node_id":"MDQ6VXNlcjIzMjQ4ODM5","avatar_url":"https://avatars.githubusercontent.com/u/23248839?v=4","gravatar_id":"","url":"https://api.github.com/users/jackHay22","html_url":"https://github.com/jackHay22","followers_url":"https://api.github.com/users/jackHay22/followers","following_url":"https://api.github.com/users/jackHay22/following{/other_user}","gists_url":"https://api.github.com/users/jackHay22/gists{/gist_id}","starred_url":"https://api.github.com/users/jackHay22/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jackHay22/subscriptions","organizations_url":"https://api.github.com/users/jackHay22/orgs","repos_url":"https://api.github.com/users/jackHay22/repos","events_url":"https://api.github.com/users/jackHay22/events{/privacy}","received_events_url":"https://api.github.com/users/jackHay22/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":475283668,"node_id":"MDU6TGFiZWw0NzUyODM2Njg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/lgtm/done","name":"lgtm/done","color":"0e8a16","default":false,"description":"This PR has enough approvals to get merged. There are no important open reservations anymore."},{"id":487889463,"node_id":"MDU6TGFiZWw0ODc4ODk0NjM=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/refactoring","name":"type/refactoring","color":"1d76db","default":false,"description":"Existing code has been cleaned up. There should be no new functionality."},{"id":676182852,"node_id":"MDU6TGFiZWw2NzYxODI4NTI=","url":"https://api.github.com/repos/go-gitea/gitea/labels/pr/breaking","name":"pr/breaking","color":"fbca04","default":false,"description":"Merging this PR means builds will break. Needs a description what exactly breaks, and how to fix it!"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/133","html_url":"https://github.com/go-gitea/gitea/milestone/133","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/133/labels","id":8981021,"node_id":"MI_kwDOBFIx284AiQod","number":133,"title":"1.20.0","description":"","creator":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":1133,"state":"closed","created_at":"2023-01-30T10:11:35Z","updated_at":"2023-07-21T14:40:24Z","due_on":"2023-05-31T07:00:00Z","closed_at":"2023-07-16T20:09:13Z"},"comments":27,"created_at":"2023-05-17T14:00:05Z","updated_at":"2023-09-03T01:43:33Z","closed_at":"2023-06-04T18:57:17Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":72495579,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ5NTU3OQ==","name":"gitea","full_name":"go-gitea/gitea","private":false,"owner":{"login":"go-gitea","id":12724356,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNzI0MzU2","avatar_url":"https://avatars.githubusercontent.com/u/12724356?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gitea","html_url":"https://github.com/go-gitea","followers_url":"https://api.github.com/users/go-gitea/followers","following_url":"https://api.github.com/users/go-gitea/following{/other_user}","gists_url":"https://api.github.com/users/go-gitea/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gitea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gitea/subscriptions","organizations_url":"https://api.github.com/users/go-gitea/orgs","repos_url":"https://api.github.com/users/go-gitea/repos","events_url":"https://api.github.com/users/go-gitea/events{/privacy}","received_events_url":"https://api.github.com/users/go-gitea/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gitea/gitea","description":"Git with a cup of tea! Painless self-hosted all-in-one software development service, including Git hosting, code review, team collaboration, package registry and CI/CD","fork":false,"url":"https://api.github.com/repos/go-gitea/gitea","forks_url":"https://api.github.com/repos/go-gitea/gitea/forks","keys_url":"https://api.github.com/repos/go-gitea/gitea/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gitea/gitea/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gitea/gitea/teams","hooks_url":"https://api.github.com/repos/go-gitea/gitea/hooks","issue_events_url":"https://api.github.com/repos/go-gitea/gitea/issues/events{/number}","events_url":"https://api.github.com/repos/go-gitea/gitea/events","assignees_url":"https://api.github.com/repos/go-gitea/gitea/assignees{/user}","branches_url":"https://api.github.com/repos/go-gitea/gitea/branches{/branch}","tags_url":"https://api.github.com/repos/go-gitea/gitea/tags","blobs_url":"https://api.github.com/repos/go-gitea/gitea/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gitea/gitea/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gitea/gitea/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gitea/gitea/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gitea/gitea/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gitea/gitea/languages","stargazers_url":"https://api.github.com/repos/go-gitea/gitea/stargazers","contributors_url":"https://api.github.com/repos/go-gitea/gitea/contributors","subscribers_url":"https://api.github.com/repos/go-gitea/gitea/subscribers","subscription_url":"https://api.github.com/repos/go-gitea/gitea/subscription","commits_url":"https://api.github.com/repos/go-gitea/gitea/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gitea/gitea/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gitea/gitea/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gitea/gitea/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gitea/gitea/contents/{+path}","compare_url":"https://api.github.com/repos/go-gitea/gitea/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gitea/gitea/merges","archive_url":"https://api.github.com/repos/go-gitea/gitea/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gitea/gitea/downloads","issues_url":"https://api.github.com/repos/go-gitea/gitea/issues{/number}","pulls_url":"https://api.github.com/repos/go-gitea/gitea/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gitea/gitea/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gitea/gitea/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gitea/gitea/labels{/name}","releases_url":"https://api.github.com/repos/go-gitea/gitea/releases{/id}","deployments_url":"https://api.github.com/repos/go-gitea/gitea/deployments","created_at":"2016-11-01T02:13:26Z","updated_at":"2025-11-09T22:07:00Z","pushed_at":"2025-11-09T21:54:34Z","git_url":"git://github.com/go-gitea/gitea.git","ssh_url":"git@github.com:go-gitea/gitea.git","clone_url":"https://github.com/go-gitea/gitea.git","svn_url":"https://github.com/go-gitea/gitea","homepage":"https://gitea.com","size":317853,"stargazers_count":51900,"watchers_count":51900,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6199,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2849,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["bitbucket","cicd","devops","docker-registry-v2","git","git-gui","git-server","gitea","github","github-actions","gitlab","go","golang","hacktoberfest","maven-server","npm-registry","vue"],"visibility":"public","forks":6199,"open_issues":2849,"watchers":51900,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gitea/gitea/pulls/24767","html_url":"https://github.com/go-gitea/gitea/pull/24767","diff_url":"https://github.com/go-gitea/gitea/pull/24767.diff","patch_url":"https://github.com/go-gitea/gitea/pull/24767.patch","merged_at":"2023-06-04T18:57:17Z"},"body":"## Changes\r\n- Adds the following high level access scopes, each with `read` and `write` levels:\r\n    - `activitypub`\r\n    - `admin` (hidden if user is not a site admin)\r\n    - `misc`\r\n    - `notification`\r\n    - `organization`\r\n    - `package`\r\n    - `issue`\r\n    - `repository`\r\n    - `user`\r\n- Adds new middleware function `tokenRequiresScopes()` in addition to `reqToken()`\r\n  -  `tokenRequiresScopes()` is used for each high-level api section\r\n     - _if_ a scoped token is present, checks that the required scope is included based on the section and HTTP method\r\n  - `reqToken()` is used for individual routes\r\n    - checks that required authentication is present (but does not check scope levels as this will already have been handled by `tokenRequiresScopes()`\r\n- Adds migration to convert old scoped access tokens to the new set of scopes\r\n- Updates the user interface for scope selection\r\n\r\n### User interface example\r\n<img width=\"903\" alt=\"Screen Shot 2023-05-31 at 1 56 55 PM\" src=\"https://github.com/go-gitea/gitea/assets/23248839/654766ec-2143-4f59-9037-3b51600e32f3\">\r\n<img width=\"917\" alt=\"Screen Shot 2023-05-31 at 1 56 43 PM\" src=\"https://github.com/go-gitea/gitea/assets/23248839/1ad64081-012c-4a73-b393-66b30352654c\">\r\n\r\n## tokenRequiresScopes  Design Decision\r\n- `tokenRequiresScopes()` was added to more reliably cover api routes. For an incoming request, this function uses the given scope category (say `AccessTokenScopeCategoryOrganization`) and the HTTP method (say `DELETE`) and verifies that any scoped tokens in use include `delete:organization`.\r\n- `reqToken()` is used to enforce auth for individual routes that require it. If a scoped token is not present for a request, `tokenRequiresScopes()` will not return an error\r\n\r\n## TODO\r\n- [x] Alphabetize scope categories\r\n- [x] Change 'public repos only' to a radio button (private vs public). Also expand this to organizations\r\n- [X] Disable token creation if no scopes selected. Alternatively, show warning\r\n- [x] `reqToken()` is missing from many `POST/DELETE` routes in the api. `tokenRequiresScopes()` only checks that a given token has the correct scope,  `reqToken()` must be used to check that a token (or some other auth) is present.\r\n   -  _This should be addressed in this PR_\r\n- [x] The migration should be reviewed very carefully in order to minimize access changes to existing user tokens. \r\n   - _This should be addressed in this PR_\r\n- [x] Link to api to swagger documentation, clarify what read/write/delete levels correspond to\r\n- [x] Review cases where more than one scope is needed as this directly deviates from the api definition. \r\n   - _This should be addressed in this PR_\r\n   - For example: \r\n   ```go\r\n\tm.Group(\"/users/{username}/orgs\", func() {\r\n\t\tm.Get(\"\", reqToken(), org.ListUserOrgs)\r\n\t\tm.Get(\"/{org}/permissions\", reqToken(), org.GetUserOrgsPermissions)\r\n\t}, tokenRequiresScopes(auth_model.AccessTokenScopeCategoryUser, auth_model.AccessTokenScopeCategoryOrganization), context_service.UserAssignmentAPI())\r\n   ```\r\n\r\n## Future improvements\r\n- [ ] Add required scopes to swagger documentation\r\n- [ ] Redesign `reqToken()` to be opt-out rather than opt-in\r\n- [ ] Subdivide scopes like `repository`\r\n- [ ] Once a token is created, if it has no scopes, we should display text instead of an empty bullet point\r\n- [ ] If the 'public repos only' option is selected, should read categories be selected by default\r\n\r\nCloses #24501\r\nCloses #24799\r\n\r\n## Why is this PR marked as `breaking`?\r\n\r\n~~This PR is not breaking, all existing tokens are converted to the new equivalent.\r\nHowever, users might want to regenerate their tokens now as the scopes have drastically changed which can have security implications.~~\r\n\r\nAs we've discovered in the meantime, there is already an API route that allows generating new tokens and setting their scopes (https://gitea.com/api/swagger#/user/userCreateToken).\r\nPreviously working API calls with the old scopes do not work anymore as the corresponding scopes no longer exist.","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/24767/reactions","total_count":4,"+1":4,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/24767/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":9890814456,"node_id":"DEME_lADOBFIx285sNKNnzwAAAAJNidn4","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/9890814456","actor":{"login":"delvh","id":51889757,"node_id":"MDQ6VXNlcjUxODg5NzU3","avatar_url":"https://avatars.githubusercontent.com/u/51889757?v=4","gravatar_id":"","url":"https://api.github.com/users/delvh","html_url":"https://github.com/delvh","followers_url":"https://api.github.com/users/delvh/followers","following_url":"https://api.github.com/users/delvh/following{/other_user}","gists_url":"https://api.github.com/users/delvh/gists{/gist_id}","starred_url":"https://api.github.com/users/delvh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delvh/subscriptions","organizations_url":"https://api.github.com/users/delvh/orgs","repos_url":"https://api.github.com/users/delvh/repos","events_url":"https://api.github.com/users/delvh/events{/privacy}","received_events_url":"https://api.github.com/users/delvh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"demilestoned","commit_id":null,"commit_url":null,"created_at":"2023-07-22T09:14:41Z","milestone":{"title":"1.20.1"},"performed_via_github_app":null},{"actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-25T16:02:57Z","updated_at":"2023-07-25T16:02:57Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/26134","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/26134/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/26134/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/26134/events","html_url":"https://github.com/go-gitea/gitea/pull/26134","id":1820658812,"node_id":"PR_kwDOBFIx285WWc7H","number":26134,"title":"Remove \"misc\" scope check from public API endpoints","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""},{"id":475283668,"node_id":"MDU6TGFiZWw0NzUyODM2Njg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/lgtm/done","name":"lgtm/done","color":"0e8a16","default":false,"description":"This PR has enough approvals to get merged. There are no important open reservations anymore."},{"id":507643724,"node_id":"MDU6TGFiZWw1MDc2NDM3MjQ=","url":"https://api.github.com/repos/go-gitea/gitea/labels/backport/done","name":"backport/done","color":"C2E0C6","default":false,"description":"All backports for this PR have been created"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/142","html_url":"https://github.com/go-gitea/gitea/milestone/142","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/142/labels","id":9510319,"node_id":"MI_kwDOBFIx284AkR2v","number":142,"title":"1.21.0","description":"","creator":{"login":"delvh","id":51889757,"node_id":"MDQ6VXNlcjUxODg5NzU3","avatar_url":"https://avatars.githubusercontent.com/u/51889757?v=4","gravatar_id":"","url":"https://api.github.com/users/delvh","html_url":"https://github.com/delvh","followers_url":"https://api.github.com/users/delvh/followers","following_url":"https://api.github.com/users/delvh/following{/other_user}","gists_url":"https://api.github.com/users/delvh/gists{/gist_id}","starred_url":"https://api.github.com/users/delvh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delvh/subscriptions","organizations_url":"https://api.github.com/users/delvh/orgs","repos_url":"https://api.github.com/users/delvh/repos","events_url":"https://api.github.com/users/delvh/events{/privacy}","received_events_url":"https://api.github.com/users/delvh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":976,"state":"closed","created_at":"2023-06-07T22:28:32Z","updated_at":"2023-11-14T14:03:00Z","due_on":"2023-09-30T07:00:00Z","closed_at":"2023-11-14T13:55:45Z"},"comments":0,"created_at":"2023-07-25T16:02:57Z","updated_at":"2023-10-24T02:55:02Z","closed_at":"2023-07-26T02:53:32Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":72495579,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ5NTU3OQ==","name":"gitea","full_name":"go-gitea/gitea","private":false,"owner":{"login":"go-gitea","id":12724356,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNzI0MzU2","avatar_url":"https://avatars.githubusercontent.com/u/12724356?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gitea","html_url":"https://github.com/go-gitea","followers_url":"https://api.github.com/users/go-gitea/followers","following_url":"https://api.github.com/users/go-gitea/following{/other_user}","gists_url":"https://api.github.com/users/go-gitea/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gitea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gitea/subscriptions","organizations_url":"https://api.github.com/users/go-gitea/orgs","repos_url":"https://api.github.com/users/go-gitea/repos","events_url":"https://api.github.com/users/go-gitea/events{/privacy}","received_events_url":"https://api.github.com/users/go-gitea/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gitea/gitea","description":"Git with a cup of tea! Painless self-hosted all-in-one software development service, including Git hosting, code review, team collaboration, package registry and CI/CD","fork":false,"url":"https://api.github.com/repos/go-gitea/gitea","forks_url":"https://api.github.com/repos/go-gitea/gitea/forks","keys_url":"https://api.github.com/repos/go-gitea/gitea/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gitea/gitea/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gitea/gitea/teams","hooks_url":"https://api.github.com/repos/go-gitea/gitea/hooks","issue_events_url":"https://api.github.com/repos/go-gitea/gitea/issues/events{/number}","events_url":"https://api.github.com/repos/go-gitea/gitea/events","assignees_url":"https://api.github.com/repos/go-gitea/gitea/assignees{/user}","branches_url":"https://api.github.com/repos/go-gitea/gitea/branches{/branch}","tags_url":"https://api.github.com/repos/go-gitea/gitea/tags","blobs_url":"https://api.github.com/repos/go-gitea/gitea/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gitea/gitea/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gitea/gitea/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gitea/gitea/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gitea/gitea/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gitea/gitea/languages","stargazers_url":"https://api.github.com/repos/go-gitea/gitea/stargazers","contributors_url":"https://api.github.com/repos/go-gitea/gitea/contributors","subscribers_url":"https://api.github.com/repos/go-gitea/gitea/subscribers","subscription_url":"https://api.github.com/repos/go-gitea/gitea/subscription","commits_url":"https://api.github.com/repos/go-gitea/gitea/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gitea/gitea/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gitea/gitea/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gitea/gitea/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gitea/gitea/contents/{+path}","compare_url":"https://api.github.com/repos/go-gitea/gitea/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gitea/gitea/merges","archive_url":"https://api.github.com/repos/go-gitea/gitea/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gitea/gitea/downloads","issues_url":"https://api.github.com/repos/go-gitea/gitea/issues{/number}","pulls_url":"https://api.github.com/repos/go-gitea/gitea/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gitea/gitea/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gitea/gitea/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gitea/gitea/labels{/name}","releases_url":"https://api.github.com/repos/go-gitea/gitea/releases{/id}","deployments_url":"https://api.github.com/repos/go-gitea/gitea/deployments","created_at":"2016-11-01T02:13:26Z","updated_at":"2025-11-09T22:07:00Z","pushed_at":"2025-11-09T21:54:34Z","git_url":"git://github.com/go-gitea/gitea.git","ssh_url":"git@github.com:go-gitea/gitea.git","clone_url":"https://github.com/go-gitea/gitea.git","svn_url":"https://github.com/go-gitea/gitea","homepage":"https://gitea.com","size":317853,"stargazers_count":51900,"watchers_count":51900,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6199,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2849,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["bitbucket","cicd","devops","docker-registry-v2","git","git-gui","git-server","gitea","github","github-actions","gitlab","go","golang","hacktoberfest","maven-server","npm-registry","vue"],"visibility":"public","forks":6199,"open_issues":2849,"watchers":51900,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gitea/gitea/pulls/26134","html_url":"https://github.com/go-gitea/gitea/pull/26134","diff_url":"https://github.com/go-gitea/gitea/pull/26134.diff","patch_url":"https://github.com/go-gitea/gitea/pull/26134.patch","merged_at":"2023-07-26T02:53:32Z"},"body":"Fix #26035","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/26134/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/26134/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":9918652508,"node_id":"CE_lADOBFIx285sNKNnzwAAAAJPMqBc","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/9918652508","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-07-26T02:53:33Z","state_reason":null,"performed_via_github_app":null},{"id":9918652590,"node_id":"REFE_lADOBFIx285sNKNnzwAAAAJPMqCu","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/9918652590","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"915cdf8f87380bb6ea9cb518837726eb85c89fc7","commit_url":"https://api.github.com/repos/go-gitea/gitea/commits/915cdf8f87380bb6ea9cb518837726eb85c89fc7","created_at":"2023-07-26T02:53:34Z","performed_via_github_app":null},{"actor":{"login":"GiteaBot","id":24582011,"node_id":"MDQ6VXNlcjI0NTgyMDEx","avatar_url":"https://avatars.githubusercontent.com/u/24582011?v=4","gravatar_id":"","url":"https://api.github.com/users/GiteaBot","html_url":"https://github.com/GiteaBot","followers_url":"https://api.github.com/users/GiteaBot/followers","following_url":"https://api.github.com/users/GiteaBot/following{/other_user}","gists_url":"https://api.github.com/users/GiteaBot/gists{/gist_id}","starred_url":"https://api.github.com/users/GiteaBot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GiteaBot/subscriptions","organizations_url":"https://api.github.com/users/GiteaBot/orgs","repos_url":"https://api.github.com/users/GiteaBot/repos","events_url":"https://api.github.com/users/GiteaBot/events{/privacy}","received_events_url":"https://api.github.com/users/GiteaBot/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-26T02:53:38Z","updated_at":"2023-07-26T02:53:38Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/26149","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/26149/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/26149/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/26149/events","html_url":"https://github.com/go-gitea/gitea/pull/26149","id":1821485200,"node_id":"PR_kwDOBFIx285WZOov","number":26149,"title":"Remove \"misc\" scope check from public API endpoints (#26134)","user":{"login":"GiteaBot","id":24582011,"node_id":"MDQ6VXNlcjI0NTgyMDEx","avatar_url":"https://avatars.githubusercontent.com/u/24582011?v=4","gravatar_id":"","url":"https://api.github.com/users/GiteaBot","html_url":"https://github.com/GiteaBot","followers_url":"https://api.github.com/users/GiteaBot/followers","following_url":"https://api.github.com/users/GiteaBot/following{/other_user}","gists_url":"https://api.github.com/users/GiteaBot/gists{/gist_id}","starred_url":"https://api.github.com/users/GiteaBot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GiteaBot/subscriptions","organizations_url":"https://api.github.com/users/GiteaBot/orgs","repos_url":"https://api.github.com/users/GiteaBot/repos","events_url":"https://api.github.com/users/GiteaBot/events{/privacy}","received_events_url":"https://api.github.com/users/GiteaBot/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""},{"id":475283668,"node_id":"MDU6TGFiZWw0NzUyODM2Njg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/lgtm/done","name":"lgtm/done","color":"0e8a16","default":false,"description":"This PR has enough approvals to get merged. There are no important open reservations anymore."}],"state":"closed","locked":true,"assignee":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/145","html_url":"https://github.com/go-gitea/gitea/milestone/145","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/145/labels","id":9685585,"node_id":"MI_kwDOBFIx284Ak8pR","number":145,"title":"1.20.2","description":"","creator":{"login":"delvh","id":51889757,"node_id":"MDQ6VXNlcjUxODg5NzU3","avatar_url":"https://avatars.githubusercontent.com/u/51889757?v=4","gravatar_id":"","url":"https://api.github.com/users/delvh","html_url":"https://github.com/delvh","followers_url":"https://api.github.com/users/delvh/followers","following_url":"https://api.github.com/users/delvh/following{/other_user}","gists_url":"https://api.github.com/users/delvh/gists{/gist_id}","starred_url":"https://api.github.com/users/delvh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/delvh/subscriptions","organizations_url":"https://api.github.com/users/delvh/orgs","repos_url":"https://api.github.com/users/delvh/repos","events_url":"https://api.github.com/users/delvh/events{/privacy}","received_events_url":"https://api.github.com/users/delvh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":31,"state":"closed","created_at":"2023-07-22T09:17:19Z","updated_at":"2023-07-29T11:23:54Z","due_on":null,"closed_at":"2023-07-29T09:33:31Z"},"comments":0,"created_at":"2023-07-26T02:53:38Z","updated_at":"2023-10-24T05:58:14Z","closed_at":"2023-07-26T05:32:42Z","author_association":"COLLABORATOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":72495579,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ5NTU3OQ==","name":"gitea","full_name":"go-gitea/gitea","private":false,"owner":{"login":"go-gitea","id":12724356,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNzI0MzU2","avatar_url":"https://avatars.githubusercontent.com/u/12724356?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gitea","html_url":"https://github.com/go-gitea","followers_url":"https://api.github.com/users/go-gitea/followers","following_url":"https://api.github.com/users/go-gitea/following{/other_user}","gists_url":"https://api.github.com/users/go-gitea/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gitea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gitea/subscriptions","organizations_url":"https://api.github.com/users/go-gitea/orgs","repos_url":"https://api.github.com/users/go-gitea/repos","events_url":"https://api.github.com/users/go-gitea/events{/privacy}","received_events_url":"https://api.github.com/users/go-gitea/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gitea/gitea","description":"Git with a cup of tea! Painless self-hosted all-in-one software development service, including Git hosting, code review, team collaboration, package registry and CI/CD","fork":false,"url":"https://api.github.com/repos/go-gitea/gitea","forks_url":"https://api.github.com/repos/go-gitea/gitea/forks","keys_url":"https://api.github.com/repos/go-gitea/gitea/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gitea/gitea/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gitea/gitea/teams","hooks_url":"https://api.github.com/repos/go-gitea/gitea/hooks","issue_events_url":"https://api.github.com/repos/go-gitea/gitea/issues/events{/number}","events_url":"https://api.github.com/repos/go-gitea/gitea/events","assignees_url":"https://api.github.com/repos/go-gitea/gitea/assignees{/user}","branches_url":"https://api.github.com/repos/go-gitea/gitea/branches{/branch}","tags_url":"https://api.github.com/repos/go-gitea/gitea/tags","blobs_url":"https://api.github.com/repos/go-gitea/gitea/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gitea/gitea/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gitea/gitea/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gitea/gitea/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gitea/gitea/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gitea/gitea/languages","stargazers_url":"https://api.github.com/repos/go-gitea/gitea/stargazers","contributors_url":"https://api.github.com/repos/go-gitea/gitea/contributors","subscribers_url":"https://api.github.com/repos/go-gitea/gitea/subscribers","subscription_url":"https://api.github.com/repos/go-gitea/gitea/subscription","commits_url":"https://api.github.com/repos/go-gitea/gitea/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gitea/gitea/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gitea/gitea/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gitea/gitea/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gitea/gitea/contents/{+path}","compare_url":"https://api.github.com/repos/go-gitea/gitea/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gitea/gitea/merges","archive_url":"https://api.github.com/repos/go-gitea/gitea/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gitea/gitea/downloads","issues_url":"https://api.github.com/repos/go-gitea/gitea/issues{/number}","pulls_url":"https://api.github.com/repos/go-gitea/gitea/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gitea/gitea/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gitea/gitea/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gitea/gitea/labels{/name}","releases_url":"https://api.github.com/repos/go-gitea/gitea/releases{/id}","deployments_url":"https://api.github.com/repos/go-gitea/gitea/deployments","created_at":"2016-11-01T02:13:26Z","updated_at":"2025-11-09T22:07:00Z","pushed_at":"2025-11-09T21:54:34Z","git_url":"git://github.com/go-gitea/gitea.git","ssh_url":"git@github.com:go-gitea/gitea.git","clone_url":"https://github.com/go-gitea/gitea.git","svn_url":"https://github.com/go-gitea/gitea","homepage":"https://gitea.com","size":317853,"stargazers_count":51900,"watchers_count":51900,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6199,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2849,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["bitbucket","cicd","devops","docker-registry-v2","git","git-gui","git-server","gitea","github","github-actions","gitlab","go","golang","hacktoberfest","maven-server","npm-registry","vue"],"visibility":"public","forks":6199,"open_issues":2849,"watchers":51900,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gitea/gitea/pulls/26149","html_url":"https://github.com/go-gitea/gitea/pull/26149","diff_url":"https://github.com/go-gitea/gitea/pull/26149.diff","patch_url":"https://github.com/go-gitea/gitea/pull/26149.patch","merged_at":"2023-07-26T05:32:42Z"},"body":"Backport #26134 by @wxiaoguang\n\nFix #26035","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/26149/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/26149/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":9918653055,"node_id":"REFE_lADOBFIx285sNKNnzwAAAAJPMqJ_","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/9918653055","actor":{"login":"GiteaBot","id":24582011,"node_id":"MDQ6VXNlcjI0NTgyMDEx","avatar_url":"https://avatars.githubusercontent.com/u/24582011?v=4","gravatar_id":"","url":"https://api.github.com/users/GiteaBot","html_url":"https://github.com/GiteaBot","followers_url":"https://api.github.com/users/GiteaBot/followers","following_url":"https://api.github.com/users/GiteaBot/following{/other_user}","gists_url":"https://api.github.com/users/GiteaBot/gists{/gist_id}","starred_url":"https://api.github.com/users/GiteaBot/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GiteaBot/subscriptions","organizations_url":"https://api.github.com/users/GiteaBot/orgs","repos_url":"https://api.github.com/users/GiteaBot/repos","events_url":"https://api.github.com/users/GiteaBot/events{/privacy}","received_events_url":"https://api.github.com/users/GiteaBot/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"72fa26fc950a401cd53ce41b82f409c854db39b0","commit_url":"https://api.github.com/repos/GiteaBot/gitea/commits/72fa26fc950a401cd53ce41b82f409c854db39b0","created_at":"2023-07-26T02:53:40Z","performed_via_github_app":null},{"id":9919369523,"node_id":"REFE_lADOBFIx285sNKNnzwAAAAJPPZEz","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/9919369523","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a8445e93204ab91065c45223bf5d4f7e06578549","commit_url":"https://api.github.com/repos/go-gitea/gitea/commits/a8445e93204ab91065c45223bf5d4f7e06578549","created_at":"2023-07-26T05:32:44Z","performed_via_github_app":null},{"actor":{"login":"viceice","id":1798109,"node_id":"MDQ6VXNlcjE3OTgxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1798109?v=4","gravatar_id":"","url":"https://api.github.com/users/viceice","html_url":"https://github.com/viceice","followers_url":"https://api.github.com/users/viceice/followers","following_url":"https://api.github.com/users/viceice/following{/other_user}","gists_url":"https://api.github.com/users/viceice/gists{/gist_id}","starred_url":"https://api.github.com/users/viceice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viceice/subscriptions","organizations_url":"https://api.github.com/users/viceice/orgs","repos_url":"https://api.github.com/users/viceice/repos","events_url":"https://api.github.com/users/viceice/events{/privacy}","received_events_url":"https://api.github.com/users/viceice/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-07-29T14:38:06Z","updated_at":"2023-07-29T14:38:06Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/fluxcd/notification-controller/issues/580","repository_url":"https://api.github.com/repos/fluxcd/notification-controller","labels_url":"https://api.github.com/repos/fluxcd/notification-controller/issues/580/labels{/name}","comments_url":"https://api.github.com/repos/fluxcd/notification-controller/issues/580/comments","events_url":"https://api.github.com/repos/fluxcd/notification-controller/issues/580/events","html_url":"https://github.com/fluxcd/notification-controller/issues/580","id":1811345659,"node_id":"I_kwDOEHB5pc5r9vD7","number":580,"title":"failed to initialize provider, error: failed creating Gitea client: 403 Forbidden","user":{"login":"viceice","id":1798109,"node_id":"MDQ6VXNlcjE3OTgxMDk=","avatar_url":"https://avatars.githubusercontent.com/u/1798109?v=4","gravatar_id":"","url":"https://api.github.com/users/viceice","html_url":"https://github.com/viceice","followers_url":"https://api.github.com/users/viceice/followers","following_url":"https://api.github.com/users/viceice/following{/other_user}","gists_url":"https://api.github.com/users/viceice/gists{/gist_id}","starred_url":"https://api.github.com/users/viceice/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/viceice/subscriptions","organizations_url":"https://api.github.com/users/viceice/orgs","repos_url":"https://api.github.com/users/viceice/repos","events_url":"https://api.github.com/users/viceice/events{/privacy}","received_events_url":"https://api.github.com/users/viceice/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":15,"created_at":"2023-07-19T07:34:26Z","updated_at":"2023-08-03T11:26:20Z","closed_at":"2023-08-03T11:26:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":275806629,"node_id":"MDEwOlJlcG9zaXRvcnkyNzU4MDY2Mjk=","name":"notification-controller","full_name":"fluxcd/notification-controller","private":false,"owner":{"login":"fluxcd","id":52158677,"node_id":"MDEyOk9yZ2FuaXphdGlvbjUyMTU4Njc3","avatar_url":"https://avatars.githubusercontent.com/u/52158677?v=4","gravatar_id":"","url":"https://api.github.com/users/fluxcd","html_url":"https://github.com/fluxcd","followers_url":"https://api.github.com/users/fluxcd/followers","following_url":"https://api.github.com/users/fluxcd/following{/other_user}","gists_url":"https://api.github.com/users/fluxcd/gists{/gist_id}","starred_url":"https://api.github.com/users/fluxcd/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fluxcd/subscriptions","organizations_url":"https://api.github.com/users/fluxcd/orgs","repos_url":"https://api.github.com/users/fluxcd/repos","events_url":"https://api.github.com/users/fluxcd/events{/privacy}","received_events_url":"https://api.github.com/users/fluxcd/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/fluxcd/notification-controller","description":"The GitOps Toolkit event forwarder and notification dispatcher","fork":false,"url":"https://api.github.com/repos/fluxcd/notification-controller","forks_url":"https://api.github.com/repos/fluxcd/notification-controller/forks","keys_url":"https://api.github.com/repos/fluxcd/notification-controller/keys{/key_id}","collaborators_url":"https://api.github.com/repos/fluxcd/notification-controller/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/fluxcd/notification-controller/teams","hooks_url":"https://api.github.com/repos/fluxcd/notification-controller/hooks","issue_events_url":"https://api.github.com/repos/fluxcd/notification-controller/issues/events{/number}","events_url":"https://api.github.com/repos/fluxcd/notification-controller/events","assignees_url":"https://api.github.com/repos/fluxcd/notification-controller/assignees{/user}","branches_url":"https://api.github.com/repos/fluxcd/notification-controller/branches{/branch}","tags_url":"https://api.github.com/repos/fluxcd/notification-controller/tags","blobs_url":"https://api.github.com/repos/fluxcd/notification-controller/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/fluxcd/notification-controller/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/fluxcd/notification-controller/git/refs{/sha}","trees_url":"https://api.github.com/repos/fluxcd/notification-controller/git/trees{/sha}","statuses_url":"https://api.github.com/repos/fluxcd/notification-controller/statuses/{sha}","languages_url":"https://api.github.com/repos/fluxcd/notification-controller/languages","stargazers_url":"https://api.github.com/repos/fluxcd/notification-controller/stargazers","contributors_url":"https://api.github.com/repos/fluxcd/notification-controller/contributors","subscribers_url":"https://api.github.com/repos/fluxcd/notification-controller/subscribers","subscription_url":"https://api.github.com/repos/fluxcd/notification-controller/subscription","commits_url":"https://api.github.com/repos/fluxcd/notification-controller/commits{/sha}","git_commits_url":"https://api.github.com/repos/fluxcd/notification-controller/git/commits{/sha}","comments_url":"https://api.github.com/repos/fluxcd/notification-controller/comments{/number}","issue_comment_url":"https://api.github.com/repos/fluxcd/notification-controller/issues/comments{/number}","contents_url":"https://api.github.com/repos/fluxcd/notification-controller/contents/{+path}","compare_url":"https://api.github.com/repos/fluxcd/notification-controller/compare/{base}...{head}","merges_url":"https://api.github.com/repos/fluxcd/notification-controller/merges","archive_url":"https://api.github.com/repos/fluxcd/notification-controller/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/fluxcd/notification-controller/downloads","issues_url":"https://api.github.com/repos/fluxcd/notification-controller/issues{/number}","pulls_url":"https://api.github.com/repos/fluxcd/notification-controller/pulls{/number}","milestones_url":"https://api.github.com/repos/fluxcd/notification-controller/milestones{/number}","notifications_url":"https://api.github.com/repos/fluxcd/notification-controller/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/fluxcd/notification-controller/labels{/name}","releases_url":"https://api.github.com/repos/fluxcd/notification-controller/releases{/id}","deployments_url":"https://api.github.com/repos/fluxcd/notification-controller/deployments","created_at":"2020-06-29T12:21:11Z","updated_at":"2025-11-06T15:34:58Z","pushed_at":"2025-11-01T07:03:30Z","git_url":"git://github.com/fluxcd/notification-controller.git","ssh_url":"git@github.com:fluxcd/notification-controller.git","clone_url":"https://github.com/fluxcd/notification-controller.git","svn_url":"https://github.com/fluxcd/notification-controller","homepage":"https://fluxcd.io","size":3260,"stargazers_count":166,"watchers_count":166,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":153,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":60,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["gitops-toolkit"],"visibility":"public","forks":153,"open_issues":60,"watchers":166,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Since Gitea upgrade from v1.19 to v1.20 i get this error.  \r\n\r\n```\r\nfailed to initialize provider, error: failed creating Gitea client: 403 Forbidden\r\n```\r\n\r\nhttps://github.com/fluxcd/notification-controller/blob/b80c2c4060f62af40c06fe2f6f3bef295ee56e43/internal/notifier/gitea.go#L69\r\n\r\nI know they changed the api key scopes[^1], but the key still has repo write scope. My current key was created on v1.19.x with repo scope.\r\nIt had these scopes:\r\n- repo\r\n- repo:status\r\n- read:package\r\n\r\nIt's now converted to these scopes:\r\n- read:package\r\n- write:repository\r\n\r\nGitea log message:\r\n```\r\n2023/07/21 06:48:51 ...eb/routing/logger.go:102:func1() [I] router: completed GET /api/v1/version for a.b.c.d:0, 403 Forbidden in 58.3ms @ v1/api.go:242(v1.tokenRequiresScopes)\r\n```\r\n\r\nPlease let me know how to debug this futher. Are there any option to pass additional debug messages?\r\n\r\n[^1]: https://blog.gitea.com/release-of-1.20.0/#%EF%B8%8F-refactored-scoped-tokens-mechanism-24767","reactions":{"url":"https://api.github.com/repos/fluxcd/notification-controller/issues/580/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/fluxcd/notification-controller/issues/580/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":10325185370,"node_id":"LOE_lADOBFIx285sNKNnzwAAAAJnbdNa","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/10325185370","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2023-09-10T00:01:35Z","lock_reason":"resolved","performed_via_github_app":null},{"id":16048677890,"node_id":"REFE_lADOBFIx285sNKNnzwAAAAO8k2QC","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/16048677890","actor":{"login":"project-mirrors-bot-tu[bot]","id":196055919,"node_id":"BOT_kgDOC6-Tbw","avatar_url":"https://avatars.githubusercontent.com/u/196053664?v=4","gravatar_id":"","url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D","html_url":"https://github.com/apps/project-mirrors-bot-tu","followers_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/followers","following_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/repos","events_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/project-mirrors-bot-tu%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"df5200e814d62880dc5f46b8036e844b89889717","commit_url":"https://api.github.com/repos/project-mirrors/forgejo-as-gitea-fork/commits/df5200e814d62880dc5f46b8036e844b89889717","created_at":"2025-01-23T19:11:28Z","performed_via_github_app":null}]