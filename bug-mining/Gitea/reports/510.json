{"url":"https://api.github.com/repos/go-gitea/gitea/issues/33448","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/33448/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/33448/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/33448/events","html_url":"https://github.com/go-gitea/gitea/issues/33448","id":2821188037,"node_id":"I_kwDOBFIx286oJ-nF","number":33448,"title":"Memory leak when using Pure SSH for LFS","user":{"login":"Danstiv","id":50794055,"node_id":"MDQ6VXNlcjUwNzk0MDU1","avatar_url":"https://avatars.githubusercontent.com/u/50794055?v=4","gravatar_id":"","url":"https://api.github.com/users/Danstiv","html_url":"https://github.com/Danstiv","followers_url":"https://api.github.com/users/Danstiv/followers","following_url":"https://api.github.com/users/Danstiv/following{/other_user}","gists_url":"https://api.github.com/users/Danstiv/gists{/gist_id}","starred_url":"https://api.github.com/users/Danstiv/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Danstiv/subscriptions","organizations_url":"https://api.github.com/users/Danstiv/orgs","repos_url":"https://api.github.com/users/Danstiv/repos","events_url":"https://api.github.com/users/Danstiv/events{/privacy}","received_events_url":"https://api.github.com/users/Danstiv/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""},{"id":1112269304,"node_id":"MDU6TGFiZWwxMTEyMjY5MzA0","url":"https://api.github.com/repos/go-gitea/gitea/labels/issue/confirmed","name":"issue/confirmed","color":"8d9b12","default":false,"description":"Issue has been reviewed and confirmed to be present or accepted to be implemented"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2025-01-30T15:50:08Z","updated_at":"2025-05-01T16:24:21Z","closed_at":"2025-01-31T11:05:50Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\n\nHello!\nI tried to upload 1GB file through pure SSH connection, during the upload gitea occupied more and more memory.\nAfter 920 megabytes of uploaded data,  memory on the server was exhausted, and the upload was interrupted.\nI also did not notice that during this process something was written to the disk.\nThus, probably gitea downloads the entire file to RAM if pure ssh is used.\nWhen uploading over https, there is no such problem.\n\n### Gitea Version\n\n1.23.1\n\n### Can you reproduce the bug on the Gitea demo site?\n\nNo\n\n### Log Gist\n\n_No response_\n\n### Screenshots\n\n_No response_\n\n### Git Version\n\n2.47.1\n\n### Operating System\n\nUbuntu 24.04\n\n### How are you running Gitea?\n\ndocker\n\n### Database\n\nPostgreSQL","closed_by":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/33448/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/33448/timeline","performed_via_github_app":null,"state_reason":"completed"}