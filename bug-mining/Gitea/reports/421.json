{"url":"https://api.github.com/repos/go-gitea/gitea/issues/32496","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/32496/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/32496/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/32496/events","html_url":"https://github.com/go-gitea/gitea/issues/32496","id":2655869721,"node_id":"I_kwDOBFIx286eTVsZ","number":32496,"title":"Dashboard 500 Error - error calling GetRepoLink: runtime error: invalid memory address or nil pointer dereference","user":{"login":"CeddaerrixGE","id":63375417,"node_id":"MDQ6VXNlcjYzMzc1NDE3","avatar_url":"https://avatars.githubusercontent.com/u/63375417?v=4","gravatar_id":"","url":"https://api.github.com/users/CeddaerrixGE","html_url":"https://github.com/CeddaerrixGE","followers_url":"https://api.github.com/users/CeddaerrixGE/followers","following_url":"https://api.github.com/users/CeddaerrixGE/following{/other_user}","gists_url":"https://api.github.com/users/CeddaerrixGE/gists{/gist_id}","starred_url":"https://api.github.com/users/CeddaerrixGE/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/CeddaerrixGE/subscriptions","organizations_url":"https://api.github.com/users/CeddaerrixGE/orgs","repos_url":"https://api.github.com/users/CeddaerrixGE/repos","events_url":"https://api.github.com/users/CeddaerrixGE/events{/privacy}","received_events_url":"https://api.github.com/users/CeddaerrixGE/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""},{"id":474800073,"node_id":"MDU6TGFiZWw0NzQ4MDAwNzM=","url":"https://api.github.com/repos/go-gitea/gitea/labels/issue/needs-feedback","name":"issue/needs-feedback","color":"1d76db","default":false,"description":"For bugs, we need more details. For features, the feature must be described in more detail"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/168","html_url":"https://github.com/go-gitea/gitea/milestone/168","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/168/labels","id":11696303,"node_id":"MI_kwDOBFIx284Asniv","number":168,"title":"1.22.4","description":"","creator":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":66,"state":"closed","created_at":"2024-10-09T03:24:10Z","updated_at":"2024-11-26T18:22:23Z","due_on":null,"closed_at":"2024-11-25T20:59:59Z"},"comments":4,"created_at":"2024-11-13T15:25:25Z","updated_at":"2025-02-12T06:25:48Z","closed_at":"2024-11-14T04:17:59Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\r\n\r\nOn a RKE2 cluster, I have Gitea installed using the Helm chart (as a dependency of an umbrella chart).\r\nAfter an RKE2 upgrade, an Ingress related issue occurred so as a workaround I executed `helm uninstall <RELEASE_NAME> -n <MY_NAMESPACE>` and then `helm  upgrade <RELEASE_NAME> <MY_CHART>  -n <MY_NAMESPACE> --install`, which resolved the Ingress issue.\r\nNonetheless, when verifying the Gitea UI (login with admin user), the default page is rendering: \r\n![image](https://github.com/user-attachments/assets/13a094fb-2c92-47bb-b0f7-f3e43218257a)\r\nThe 2 menu drop-down's are not working unless I change page first (i.e. as long as I am not on the default page): \r\n![image](https://github.com/user-attachments/assets/faa254bf-b388-4696-8c3e-0b547cca0c1d)\r\n\r\nThe Gitea container logs show:\r\n```\r\n2024/11/13 14:48:58 ...er/issues/indexer.go:76:func1() [I] PID 7: Initializing Issue Indexer: db\r\n2024/11/13 14:48:58 ...er/issues/indexer.go:153:func2() [I] Issue Indexer Initialization took 31.474Âµs\r\n2024/11/13 14:48:58 ...xer/stats/indexer.go:41:populateRepoIndexer() [I] Populating the repo stats indexer with existing repositories\r\n2024/11/13 14:48:58 modules/ssh/ssh.go:331:Listen() [I] Adding SSH host key: /data/ssh/gitea.rsa\r\n2024/11/13 14:48:58 ...xer/stats/indexer.go:87:populateRepoIndexer() [I] Done (re)populating the repo stats indexer with existing repositories\r\n2024/11/13 14:48:58 modules/ssh/init.go:26:Init() [I] SSH server started on :2222. Cipher list ([chacha20-poly1305@openssh.com aes128-ctr aes192-ctr aes256-ctr aes128-gcm@openssh.com aes256-gcm@openssh.com]), key exchange algorithms ([curve25519-sha256 ecdh-sha2-nistp256 ecdh-sha2-nistp384 ecdh-sha2-nistp521 diffie-hellman-group14-sha256 diffie-hellman-group14-sha1]), MACs ([hmac-sha2-256-etm@openssh.com hmac-sha2-256 hmac-sha1])\r\n2024/11/13 14:48:58 ...s/graceful/server.go:50:NewServer() [I] Starting new SSH server: tcp::2222 on PID: 7\r\n2024/11/13 14:48:59 cmd/web.go:304:listen() [I] Listen: http://0.0.0.0:3000\r\n2024/11/13 14:48:59 cmd/web.go:308:listen() [I] AppURL(ROOT_URL): https://gitea.amp.myco.com/\r\n2024/11/13 14:48:59 ...s/graceful/server.go:50:NewServer() [I] Starting new Web server: tcp:0.0.0.0:3000 on PID: 7\r\n2024/11/13 14:49:18 ...eb/routing/logger.go:102:func1() [I] router: completed GET / for 10.42.0.51:39990, 200 OK in 2.7ms @ web/home.go:32(web.Home)\r\n2024/11/13 14:49:23 ...eb/routing/logger.go:102:func1() [I] router: completed GET / for 10.42.0.51:39990, 200 OK in 1.3ms @ web/home.go:32(web.Home)\r\n2024/11/13 14:49:24 ...eb/routing/logger.go:102:func1() [I] router: completed GET /explore/repos for 10.42.0.51:39990, 200 OK in 24.8ms @ explore/repo.go:196(explore.Repos)\r\n2024/11/13 14:49:31 ...eb/routing/logger.go:102:func1() [I] router: completed GET / for 10.42.0.51:39990, 200 OK in 7.4ms @ web/home.go:32(web.Home)\r\n2024/11/13 14:49:33 ...eb/routing/logger.go:102:func1() [I] router: completed GET /user/login?redirect_to=%2f for 10.42.0.51:39990, 200 OK in 3.6ms @ auth/auth.go:164(auth.SignIn)\r\n2024/11/13 14:49:40 ...eb/routing/logger.go:102:func1() [I] router: completed POST /user/login for 10.42.0.51:39990, 303 See Other in 62.3ms @ auth/auth.go:196(auth.SignInPost)\r\n2024/11/13 14:49:40 ...activities/action.go:207:loadRepo() [E] repo_model.GetRepositoryByID(2): repository does not exist [id: 2, uid: 0, owner_name: , name: ]\r\n2024/11/13 14:49:40 .../context_response.go:88:HTML() [E] Render failed: failed to render template: user/dashboard/dashboard, error: template error: builtin(bindata):user/dashboard/feeds:20:45 : executing \"user/dashboard/feeds\" at <.GetRepoLink>: error calling GetRepoLink: runtime error: invalid memory address or nil pointer dereference\r\n----------------------------------------------------------------------\r\n\t\t\t\t\t\t\t{{ctx.Locale.Tr \"action.commit_repo\" (.GetRepoLink ctx) (.GetRefLink ctx) .GetBranch (.ShortRepoPath ctx)}}\r\n\t\t\t\t\t\t\t                                      ^\r\n----------------------------------------------------------------------\r\n2024/11/13 14:49:40 ...eb/routing/logger.go:102:func1() [I] router: completed GET / for 10.42.0.51:39990, 200 OK in 25.7ms @ web/home.go:32(web.Home)\r\n```\r\n\r\nI have found the issue https://github.com/go-gitea/gitea/issues/24856 that refers to the same runtime error, but it did not provide any  insight on what could be the cause.\r\n\r\n### Gitea Version\r\n\r\n1.22.3\r\n\r\n### Can you reproduce the bug on the Gitea demo site?\r\n\r\nNo\r\n\r\n### Log Gist\r\n\r\n_No response_\r\n\r\n### Screenshots\r\n\r\n_No response_\r\n\r\n### Git Version\r\n\r\n_No response_\r\n\r\n### Operating System\r\n\r\nRHEL 8.10\r\n\r\n### How are you running Gitea?\r\n\r\nOn a RKE2 cluster\r\n\r\n### Database\r\n\r\nPostgreSQL","closed_by":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/32496/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/32496/timeline","performed_via_github_app":null,"state_reason":"completed"}