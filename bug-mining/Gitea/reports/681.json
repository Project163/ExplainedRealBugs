{"url":"https://api.github.com/repos/go-gitea/gitea/issues/35159","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/35159/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/35159/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/35159/events","html_url":"https://github.com/go-gitea/gitea/issues/35159","id":3262975157,"node_id":"I_kwDOBFIx287CfQy1","number":35159,"title":"Author Field Name Inconsistency in Gitea Swift Package Registry","user":{"login":"AlexBlack559","id":5732581,"node_id":"MDQ6VXNlcjU3MzI1ODE=","avatar_url":"https://avatars.githubusercontent.com/u/5732581?v=4","gravatar_id":"","url":"https://api.github.com/users/AlexBlack559","html_url":"https://github.com/AlexBlack559","followers_url":"https://api.github.com/users/AlexBlack559/followers","following_url":"https://api.github.com/users/AlexBlack559/following{/other_user}","gists_url":"https://api.github.com/users/AlexBlack559/gists{/gist_id}","starred_url":"https://api.github.com/users/AlexBlack559/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AlexBlack559/subscriptions","organizations_url":"https://api.github.com/users/AlexBlack559/orgs","repos_url":"https://api.github.com/users/AlexBlack559/repos","events_url":"https://api.github.com/users/AlexBlack559/events{/privacy}","received_events_url":"https://api.github.com/users/AlexBlack559/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""},{"id":4102834064,"node_id":"LA_kwDOBFIx2870jEeQ","url":"https://api.github.com/repos/go-gitea/gitea/labels/topic/packages","name":"topic/packages","color":"AFE667","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2025-07-25T11:57:30Z","updated_at":"2025-10-27T05:35:57Z","closed_at":"2025-09-07T18:24:26Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\n\nI am using a local Gitea server to host a Swift Package registry. I successfully uploaded a binary Swift package to the registry, but when attempting to fetch the package, the operation fails with the following error:\n\n> Computing version for controller.Redacted\nerror: failed fetching controller.Redacted version 25.4100.267 release information from https://redacted/api/packages/redaced/swift: keyNotFound(CodingKeys(stringValue: \"name\", intValue: nil), Swift.DecodingError.Context(codingPath: [CodingKeys(stringValue: \"metadata\", intValue: nil), CodingKeys(stringValue: \"author\", intValue: nil)], debugDescription: \"No value associated with key CodingKeys(stringValue: \\\"name\\\", intValue: nil) (\\\"name\\\").\", underlyingError: nil))\n\nIssue Details\n\n- The error message indicates that the `\"author\"` field is missing the `\"name\"` subfield.\n- When I upload metadata containing `\"author.name\"`, it is not reflected in the server’s response.\n- If I provide `\"author.givenName\"` in the format specified by  [schema.org](https://schema.org/author) , it appears in the server response, but the Swift Package Manager (SPM) does not recognize it.\n- By editing SPM’s source code to use `\"givenName\"` instead of `\"name\"`, everything works as expected.\n\nRoot Cause\nThere is a mismatch between the JSON schema references in different documentation sources:\n- The Gitea [documentation](https://docs.gitea.com/usage/packages/swift) follows a schema that uses `\"givenName\"`, `\"familyName\"`, and `\"additionalName\"` fields for the author.\n- In contrast, the Swift Package Registry [documentation](https://github.com/swiftlang/swift-package-manager/blob/main/Documentation/PackageRegistry/Registry.md#appendix-b---package-release-metadata-json-schema) specifies a simpler schema with just the `\"name\"` field for the author.\n\nExpected Behavior\nGitea’s Swift Package Registry implementation should conform to the schema expected by Swift Package Manager, specifically providing an `\"author.name\"` field in the package metadata. Gitea [documentation](https://docs.gitea.com/usage/packages/swift) should also be updated.\n\nSteps to Reproduce\n1. Host a Swift Package Registry using Gitea.\n2. Upload a binary Swift package with metadata including `\"author.name\"`.\n`swift package-registry publish --metadata-path metadata.json scope.packageName 25.4100.267`\n3.  Attempt to fetch the package using Swift Package Manager.\n`swift package resolve`\n\n### Gitea Version\n\n1.24.3\n\n### Can you reproduce the bug on the Gitea demo site?\n\nNo\n\n### Log Gist\n\n_No response_\n\n### Screenshots\n\n_No response_\n\n### Git Version\n\n–\n\n### Operating System\n\nmacOS 15.5\n\n### How are you running Gitea?\n\nI am using self-hosted version of Gitea installed via Homebrew\n\n### Database\n\nNone","closed_by":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/35159/reactions","total_count":5,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/35159/timeline","performed_via_github_app":null,"state_reason":"completed"}