{"url":"https://api.github.com/repos/go-gitea/gitea/issues/35847","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/35847/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/35847/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/35847/events","html_url":"https://github.com/go-gitea/gitea/issues/35847","id":3585368039,"node_id":"I_kwDOBFIx287VtF_n","number":35847,"title":"Breaking change in a 'patch' release","user":{"login":"Sainan","id":63328889,"node_id":"MDQ6VXNlcjYzMzI4ODg5","avatar_url":"https://avatars.githubusercontent.com/u/63328889?v=4","gravatar_id":"","url":"https://api.github.com/users/Sainan","html_url":"https://github.com/Sainan","followers_url":"https://api.github.com/users/Sainan/followers","following_url":"https://api.github.com/users/Sainan/following{/other_user}","gists_url":"https://api.github.com/users/Sainan/gists{/gist_id}","starred_url":"https://api.github.com/users/Sainan/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sainan/subscriptions","organizations_url":"https://api.github.com/users/Sainan/orgs","repos_url":"https://api.github.com/users/Sainan/repos","events_url":"https://api.github.com/users/Sainan/events{/privacy}","received_events_url":"https://api.github.com/users/Sainan/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/188","html_url":"https://github.com/go-gitea/gitea/milestone/188","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/188/labels","id":14004121,"node_id":"MI_kwDOBFIx284A1a-Z","number":188,"title":"1.25.1","description":"","creator":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":30,"state":"closed","created_at":"2025-10-29T16:20:15Z","updated_at":"2025-11-04T19:20:05Z","due_on":"2025-11-04T08:00:00Z","closed_at":"2025-11-04T19:20:05Z"},"comments":4,"created_at":"2025-11-04T08:41:54Z","updated_at":"2025-11-04T18:17:51Z","closed_at":"2025-11-04T18:17:51Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\n\nI've been trying to upgrade my Gitea instance which was on 1.23.3. I've narrowed down the breaking change to 1.23.5 as 1.23.4 is the last version that works. Specifically, it now fails with this:\n```\nserver-1  | Server listening on 0.0.0.0 port 22.\nserver-1  | 2025/11/04 00:29:47 ...es/setting/server.go:218:loadServerFrom() [F] ACME Email is not set (ACME_EMAIL).\nserver-1  | Received signal 15; terminating.\n```\nOkay, my app.ini indeed does not contain an `ACME_EMAIL` and this alone is probably already a bug, but let's say I do provide one, now it fails with this:\n```\nserver-1  | 1.7622454579789722e+09      warn    acme_client     HTTP request failed; retrying   {\"url\": \"https:\", \"error\": \"performing request: Get \\\"https:\\\": http: no Host in request URL\"}\nserver-1  | 1.762245457979327e+09       error   obtain  could not get certificate from issuer   {\"identifier\": \"redacted\", \"issuer\": \"\", \"error\": \"registering account [mailto:redacted] with server: provisioning client: performing request: Get \\\"https:\\\": http: no Host in request URL\"}\n```\n\n### Gitea Version\n\n1.23.5\n\n### Can you reproduce the bug on the Gitea demo site?\n\nNo\n\n### Log Gist\n\n_No response_\n\n### Screenshots\n\n_No response_\n\n### Git Version\n\n_No response_\n\n### Operating System\n\n_No response_\n\n### How are you running Gitea?\n\nDocker\n```yml\nservices:\n  server:\n    image: docker.io/gitea/gitea:1.23.5\n    environment:\n      - GITEA__database__DB_TYPE=postgres\n      - GITEA__database__HOST=db:5432\n      - GITEA__database__NAME=gitea\n      - GITEA__database__USER=gitea\n      - GITEA__database__PASSWD=gitea\n    #restart: always\n    volumes:\n      - ./data:/data\n      - /etc/timezone:/etc/timezone:ro\n      - /etc/localtime:/etc/localtime:ro\n    ports:\n      - \"22:2222\"\n      - \"80:3080\"\n      - \"443:3000\"\n    depends_on:\n      - db\n\n  db:\n    image: docker.io/library/postgres:14\n    restart: always\n    environment:\n      - POSTGRES_USER=gitea\n      - POSTGRES_PASSWORD=gitea\n      - POSTGRES_DB=gitea\n    volumes:\n      - ./postgres:/var/lib/postgresql/data\n```\n\n### Database\n\nPostgreSQL","closed_by":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/35847/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/35847/timeline","performed_via_github_app":null,"state_reason":"completed"}