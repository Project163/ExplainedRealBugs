{"url":"https://api.github.com/repos/go-gitea/gitea/issues/31491","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/31491/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/31491/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/31491/events","html_url":"https://github.com/go-gitea/gitea/issues/31491","id":2373601009,"node_id":"I_kwDOBFIx286Nekbx","number":31491,"title":"`DEFAULT_SHOW_FULL_NAME` is not respected in RSS feeds","user":{"login":"na-Itms","id":7753774,"node_id":"MDQ6VXNlcjc3NTM3NzQ=","avatar_url":"https://avatars.githubusercontent.com/u/7753774?v=4","gravatar_id":"","url":"https://api.github.com/users/na-Itms","html_url":"https://github.com/na-Itms","followers_url":"https://api.github.com/users/na-Itms/followers","following_url":"https://api.github.com/users/na-Itms/following{/other_user}","gists_url":"https://api.github.com/users/na-Itms/gists{/gist_id}","starred_url":"https://api.github.com/users/na-Itms/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/na-Itms/subscriptions","organizations_url":"https://api.github.com/users/na-Itms/orgs","repos_url":"https://api.github.com/users/na-Itms/repos","events_url":"https://api.github.com/users/na-Itms/events{/privacy}","received_events_url":"https://api.github.com/users/na-Itms/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-06-25T20:26:00Z","updated_at":"2024-10-23T15:39:13Z","closed_at":"2024-07-25T09:33:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\n\nThis is a follow-up on #20446 and #30096.\r\n\r\nWhen the config option `DEFAULT_SHOW_FULL_NAME` is set to `false`, since Gitea 1.22, full names correctly don't appear anymore in commit lists. However, full names are still displayed in the RSS feed. We wish to use RSS feeds for our IRC notification bot and this introduces an unwanted discrepancy.\r\n\r\nThis can't be reproduced on the test instance, where `DEFAULT_SHOW_FULL_NAME` seems to be `true`.\r\n\r\n---\r\n\r\nIf I'm not mistaken, this line\r\nhttps://github.com/go-gitea/gitea/blob/b5326a431f8b5c1c0fde524a50d75a4e19833e68/routers/web/feed/convert.go#L86\r\nshould be\r\n```\r\ntitle = act.GetActDisplayName() + \" \"\r\n```\r\nin order for the code to access the config value.\r\n\r\nI noticed there is also a `GetActDisplayNameTitle` method but the logic below\r\nhttps://github.com/go-gitea/gitea/blob/b5326a431f8b5c1c0fde524a50d75a4e19833e68/models/activities/action.go#L240-L246\r\nseems incorrect, unless I don't understand the aim of that method.\r\n\r\nI read in https://github.com/go-gitea/gitea/pull/30096#issuecomment-2020506786 that those code paths need a rewriting, in which case this issue could be used to track the task.\r\n\r\n---\r\n\r\nI am not confident enough in my understanding of the code to propose a PR yet, but I would be happy to contribute fixes. We would be very grateful to have a fix for the RSS feeds as soon as possible.\r\n\r\nThank you in advance.\n\n### Gitea Version\n\n1.22\n\n### Can you reproduce the bug on the Gitea demo site?\n\nNo\n\n### Log Gist\n\n_No response_\n\n### Screenshots\n\n_No response_\n\n### Git Version\n\n_No response_\n\n### Operating System\n\nUbuntu 22.04\n\n### How are you running Gitea?\n\nGitea 1.22 from binary download, run as a custom systemd service.\n\n### Database\n\nMySQL/MariaDB","closed_by":{"login":"wolfogre","id":9418365,"node_id":"MDQ6VXNlcjk0MTgzNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9418365?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfogre","html_url":"https://github.com/wolfogre","followers_url":"https://api.github.com/users/wolfogre/followers","following_url":"https://api.github.com/users/wolfogre/following{/other_user}","gists_url":"https://api.github.com/users/wolfogre/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfogre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfogre/subscriptions","organizations_url":"https://api.github.com/users/wolfogre/orgs","repos_url":"https://api.github.com/users/wolfogre/repos","events_url":"https://api.github.com/users/wolfogre/events{/privacy}","received_events_url":"https://api.github.com/users/wolfogre/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/31491/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/31491/timeline","performed_via_github_app":null,"state_reason":"completed"}