{"url":"https://api.github.com/repos/go-gitea/gitea/issues/33368","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/33368/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/33368/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/33368/events","html_url":"https://github.com/go-gitea/gitea/issues/33368","id":2806859261,"node_id":"I_kwDOBFIx286nTUX9","number":33368,"title":"Regression: Admin users cannot see private forks","user":{"login":"koalajoe23","id":26429,"node_id":"MDQ6VXNlcjI2NDI5","avatar_url":"https://avatars.githubusercontent.com/u/26429?v=4","gravatar_id":"","url":"https://api.github.com/users/koalajoe23","html_url":"https://github.com/koalajoe23","followers_url":"https://api.github.com/users/koalajoe23/followers","following_url":"https://api.github.com/users/koalajoe23/following{/other_user}","gists_url":"https://api.github.com/users/koalajoe23/gists{/gist_id}","starred_url":"https://api.github.com/users/koalajoe23/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/koalajoe23/subscriptions","organizations_url":"https://api.github.com/users/koalajoe23/orgs","repos_url":"https://api.github.com/users/koalajoe23/repos","events_url":"https://api.github.com/users/koalajoe23/events{/privacy}","received_events_url":"https://api.github.com/users/koalajoe23/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/172","html_url":"https://github.com/go-gitea/gitea/milestone/172","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/172/labels","id":12149207,"node_id":"MI_kwDOBFIx284AuWHX","number":172,"title":"1.23.2","description":"","creator":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":60,"state":"closed","created_at":"2025-01-10T18:31:37Z","updated_at":"2025-05-30T18:48:51Z","due_on":"2025-01-21T08:00:00Z","closed_at":"2025-02-05T18:20:40Z"},"comments":0,"created_at":"2025-01-23T13:04:38Z","updated_at":"2025-04-27T19:39:06Z","closed_at":"2025-01-27T16:25:16Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\n\nAfter the merge of https://github.com/go-gitea/gitea/pull/32528 forks are only visible via UI and API if the authenticated user has explicit permission to view the forked repository.\n\nI maintain a gitea instance where we have automation in place to enumerate repo forks via API. Those are private forks and we cannot and don't want to explicitly manage permissions, so for API querying an account with admin permissions is used. Before the aforementioned PR this worked great, but now no forks are returned by the getForks API.\n\nIMO, when an account with admin permissions is generally not bound to permission checks, e.g. when viewing and interacting with repos, this should also apply to enumerating private forks.\n\n### Gitea Version\n\n1.23.1\n\n### Can you reproduce the bug on the Gitea demo site?\n\nYes\n\n### Log Gist\n\n_No response_\n\n### Screenshots\n\n_No response_\n\n### Git Version\n\n_No response_\n\n### Operating System\n\nDebian Bookworm\n\n### How are you running Gitea?\n\nRelease binary (amd64) downloaded from Github\n\n### Database\n\nPostgreSQL","closed_by":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/33368/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/33368/timeline","performed_via_github_app":null,"state_reason":"completed"}