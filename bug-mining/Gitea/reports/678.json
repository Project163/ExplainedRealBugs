{"url":"https://api.github.com/repos/go-gitea/gitea/issues/32018","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/32018/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/32018/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/32018/events","html_url":"https://github.com/go-gitea/gitea/issues/32018","id":2515645773,"node_id":"I_kwDOBFIx286V8bVN","number":32018,"title":"GetCompareInfo, AddRemote: exit status 128 - error: could not lock config file config: File exists","user":{"login":"JulienPalard","id":239510,"node_id":"MDQ6VXNlcjIzOTUxMA==","avatar_url":"https://avatars.githubusercontent.com/u/239510?v=4","gravatar_id":"","url":"https://api.github.com/users/JulienPalard","html_url":"https://github.com/JulienPalard","followers_url":"https://api.github.com/users/JulienPalard/followers","following_url":"https://api.github.com/users/JulienPalard/following{/other_user}","gists_url":"https://api.github.com/users/JulienPalard/gists{/gist_id}","starred_url":"https://api.github.com/users/JulienPalard/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JulienPalard/subscriptions","organizations_url":"https://api.github.com/users/JulienPalard/orgs","repos_url":"https://api.github.com/users/JulienPalard/repos","events_url":"https://api.github.com/users/JulienPalard/events{/privacy}","received_events_url":"https://api.github.com/users/JulienPalard/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""},{"id":3995080816,"node_id":"LA_kwDOBFIx287uIBhw","url":"https://api.github.com/repos/go-gitea/gitea/labels/issue/workaround","name":"issue/workaround","color":"006B75","default":false,"description":"it is or has a workaround"}],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":12,"created_at":"2024-09-10T07:34:27Z","updated_at":"2025-09-02T02:41:16Z","closed_at":null,"author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Description\n\nWhen someone is trying to open a pull request on a repo, we're getting a 500 error :\r\n\r\n```\r\nInternal Server Error\r\n\r\nUne erreur s’est produite:\r\n\r\nGetCompareInfo, AddRemote: exit status 128 - error: could not lock config file config: File exists\r\nfatal: could not set 'remote.1725953120549272064.url' to '/var/lib/gitea/data/gitea-repositories/tala/python-docs-fr.git'\r\n - error: could not lock config file config: File exists\r\nfatal: could not set 'remote.1725953120549272064.url' to '/var/lib/gitea/data/gitea-repositories/tala/python-docs-fr.git'\r\n\r\nVersion de Gitea: 1.22.2\r\n\r\nSi vous pensez qu'il s'agit d'un bug Gitea, veuillez consulter notre board [GitHub](https://github.com/go-gitea/gitea/issues) ou ouvrir un nouveau ticket si nécessaire.\r\n```\r\n\r\nOn the target repo I see the lock file:\r\n\r\n```\r\nroot@gitea1:~# ls -lah /var/lib/gitea/data/gitea-repositories/afpy/python-docs-fr.git\r\ntotal 112K\r\ndrwxr-xr-x  8 git git 4.0K Sep 10 05:33 .\r\ndrwxr-xr-x 20 git git 4.0K Jul 23  2023 ..\r\n-rw-r--r--  1 git git  134 Jul 26 09:04 FETCH_HEAD\r\n-rw-r--r--  1 git git   21 Nov 17  2022 HEAD\r\ndrwxr-xr-x  2 git git 4.0K Nov 17  2022 branches\r\n-rw-r--r--  1 git git  32K Jul 26 09:04 config\r\n-rw-r--r--  1 git git  18K Jul 26 09:04 config.lock\r\n```\r\n\r\nLooks like the lock file is a month old.\n\n### Gitea Version\n\n1.22.2\n\n### Can you reproduce the bug on the Gitea demo site?\n\nNo\n\n### Log Gist\n\n_No response_\n\n### Screenshots\n\n_No response_\n\n### Git Version\n\n2.30.2\n\n### Operating System\n\nDebian 11.11\n\n### How are you running Gitea?\n\nSelf hosted, installed via ansible: https://git.afpy.org/AFPy/infra/src/branch/main/roles/gitea/tasks/setup.yml\n\n### Database\n\nPostgreSQL","closed_by":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/32018/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/32018/timeline","performed_via_github_app":null,"state_reason":"reopened"}