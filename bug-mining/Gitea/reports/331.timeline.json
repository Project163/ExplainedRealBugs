[{"id":13003052228,"node_id":"LE_lADOBFIx286KxUThzwAAAAMHCtTE","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13003052228","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-05-31T16:19:43Z","label":{"name":"type/bug","color":"ee0701"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142609665","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2142609665","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2142609665,"node_id":"IC_kwDOBFIx285_taEB","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T16:30:34Z","updated_at":"2024-05-31T16:30:34Z","body":"> After reverting commit https://github.com/go-gitea/gitea/commit/b18c04ebde94e23d97da4958173faea843d5344f, we are able to use the normal login again,\r\n\" fix: Fix to delete cookie when AppSubURL is non-empty #30375 \"\r\n\r\n@jtran would you like to take a look?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142609665/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":2},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13003179342,"node_id":"MEE_lADOBFIx286KxUThzwAAAAMHDMVO","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13003179342","actor":{"login":"jtran","id":10803,"node_id":"MDQ6VXNlcjEwODAz","avatar_url":"https://avatars.githubusercontent.com/u/10803?v=4","gravatar_id":"","url":"https://api.github.com/users/jtran","html_url":"https://github.com/jtran","followers_url":"https://api.github.com/users/jtran/followers","following_url":"https://api.github.com/users/jtran/following{/other_user}","gists_url":"https://api.github.com/users/jtran/gists{/gist_id}","starred_url":"https://api.github.com/users/jtran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtran/subscriptions","organizations_url":"https://api.github.com/users/jtran/orgs","repos_url":"https://api.github.com/users/jtran/repos","events_url":"https://api.github.com/users/jtran/events{/privacy}","received_events_url":"https://api.github.com/users/jtran/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-05-31T16:30:35Z","performed_via_github_app":null},{"id":13003179354,"node_id":"SE_lADOBFIx286KxUThzwAAAAMHDMVa","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13003179354","actor":{"login":"jtran","id":10803,"node_id":"MDQ6VXNlcjEwODAz","avatar_url":"https://avatars.githubusercontent.com/u/10803?v=4","gravatar_id":"","url":"https://api.github.com/users/jtran","html_url":"https://github.com/jtran","followers_url":"https://api.github.com/users/jtran/followers","following_url":"https://api.github.com/users/jtran/following{/other_user}","gists_url":"https://api.github.com/users/jtran/gists{/gist_id}","starred_url":"https://api.github.com/users/jtran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtran/subscriptions","organizations_url":"https://api.github.com/users/jtran/orgs","repos_url":"https://api.github.com/users/jtran/repos","events_url":"https://api.github.com/users/jtran/events{/privacy}","received_events_url":"https://api.github.com/users/jtran/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-05-31T16:30:35Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142611631","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2142611631","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2142611631,"node_id":"IC_kwDOBFIx285_taiv","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T16:31:56Z","updated_at":"2024-05-31T16:32:08Z","body":"@LauKr could you help to elaborate some details?\r\n\r\n1. Does the \"login\" work in a private window (without any existing cookie)?\r\n2. If the login doesn't work, what are the cookies sent from server (`Set-Cookie`) and sent from client (`Cookie`)? Do they match?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142611631/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13003195338,"node_id":"MEE_lADOBFIx286KxUThzwAAAAMHDQPK","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13003195338","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-05-31T16:31:57Z","performed_via_github_app":null},{"id":13003195353,"node_id":"SE_lADOBFIx286KxUThzwAAAAMHDQPZ","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13003195353","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-05-31T16:31:57Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142613085","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2142613085","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2142613085,"node_id":"IC_kwDOBFIx285_ta5d","user":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T16:33:04Z","updated_at":"2024-05-31T16:33:04Z","body":"Sadly GitHub doesn't let me upload a file with .path extension. I changed it to .txt instead.\r\n[diff.txt](https://github.com/user-attachments/files/15516402/diff.txt)\r\n\r\nThis diff shows the revert plus two comments that allowed us to login again.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142613085/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142628517","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2142628517","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2142628517,"node_id":"IC_kwDOBFIx285_teql","user":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T16:43:27Z","updated_at":"2024-05-31T16:43:27Z","body":"1. No, deleting cookies, using a private window etc. did not work. We already tried this first, due to #29757 and #29881.\r\n2. The POST request for login has the following cookies set:\r\n    ```\r\n    Set-Cookie: yummy_magical_cookie=/git-staging/; path=/\r\n    Cookie: i_like_gitea=XXX; _csrf=XXX; yummy_magical_cookie=/git-staging/\r\n    ```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142628517/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142791665","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2142791665","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2142791665,"node_id":"IC_kwDOBFIx285_uGfx","user":{"login":"bohde","id":58237,"node_id":"MDQ6VXNlcjU4MjM3","avatar_url":"https://avatars.githubusercontent.com/u/58237?v=4","gravatar_id":"","url":"https://api.github.com/users/bohde","html_url":"https://github.com/bohde","followers_url":"https://api.github.com/users/bohde/followers","following_url":"https://api.github.com/users/bohde/following{/other_user}","gists_url":"https://api.github.com/users/bohde/gists{/gist_id}","starred_url":"https://api.github.com/users/bohde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bohde/subscriptions","organizations_url":"https://api.github.com/users/bohde/orgs","repos_url":"https://api.github.com/users/bohde/repos","events_url":"https://api.github.com/users/bohde/events{/privacy}","received_events_url":"https://api.github.com/users/bohde/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-05-31T18:34:35Z","updated_at":"2024-05-31T18:34:35Z","body":"I worked with @jtran on this change for bug we were seeing in a deployment that is also behind a reverse proxy (nginx in our case) with a subpath of `/app_path/`. The `set-cookie` headers as a result of `POST /app_path/user/login` look like the following in my Firefox network tab:\r\n\r\n```\r\nset-cookie i_like_gitea=; Path=/app_path/; Max-Age=0; HttpOnly; Secure; SameSite=Lax\r\nset-cookie i_like_gitea=<redacted>; Path=/app_path; HttpOnly; Secure; SameSite=Lax\r\nset-cookie lang=; Path=/app_path/; Max-Age=0; HttpOnly; Secure; SameSite=Lax\r\nset-cookie_csrf=; Path=/app_path; Max-Age=0; HttpOnly; Secure; SameSite=Lax\r\nset-cookie redirect_to=; Path=/app_path; Max-Age=0; HttpOnly; Secure; SameSite=Lax\r\nset-cookie redirect_to=; Path=/app_path/; Max-Age=0; HttpOnly; Secure; SameSite=Lax\r\n```\r\n\r\n@LauKr based on my reading of your config, it appears like your cookies should set `Path=/git-staging`, but it appears that's not happening from the `Set-Cookie` header your posted.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2142791665/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"bohde","id":58237,"node_id":"MDQ6VXNlcjU4MjM3","avatar_url":"https://avatars.githubusercontent.com/u/58237?v=4","gravatar_id":"","url":"https://api.github.com/users/bohde","html_url":"https://github.com/bohde","followers_url":"https://api.github.com/users/bohde/followers","following_url":"https://api.github.com/users/bohde/following{/other_user}","gists_url":"https://api.github.com/users/bohde/gists{/gist_id}","starred_url":"https://api.github.com/users/bohde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/bohde/subscriptions","organizations_url":"https://api.github.com/users/bohde/orgs","repos_url":"https://api.github.com/users/bohde/repos","events_url":"https://api.github.com/users/bohde/events{/privacy}","received_events_url":"https://api.github.com/users/bohde/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13004468902,"node_id":"MEE_lADOBFIx286KxUThzwAAAAMHIHKm","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13004468902","actor":{"login":"jtran","id":10803,"node_id":"MDQ6VXNlcjEwODAz","avatar_url":"https://avatars.githubusercontent.com/u/10803?v=4","gravatar_id":"","url":"https://api.github.com/users/jtran","html_url":"https://github.com/jtran","followers_url":"https://api.github.com/users/jtran/followers","following_url":"https://api.github.com/users/jtran/following{/other_user}","gists_url":"https://api.github.com/users/jtran/gists{/gist_id}","starred_url":"https://api.github.com/users/jtran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtran/subscriptions","organizations_url":"https://api.github.com/users/jtran/orgs","repos_url":"https://api.github.com/users/jtran/repos","events_url":"https://api.github.com/users/jtran/events{/privacy}","received_events_url":"https://api.github.com/users/jtran/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-05-31T18:34:36Z","performed_via_github_app":null},{"id":13004468909,"node_id":"SE_lADOBFIx286KxUThzwAAAAMHIHKt","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13004468909","actor":{"login":"jtran","id":10803,"node_id":"MDQ6VXNlcjEwODAz","avatar_url":"https://avatars.githubusercontent.com/u/10803?v=4","gravatar_id":"","url":"https://api.github.com/users/jtran","html_url":"https://github.com/jtran","followers_url":"https://api.github.com/users/jtran/followers","following_url":"https://api.github.com/users/jtran/following{/other_user}","gists_url":"https://api.github.com/users/jtran/gists{/gist_id}","starred_url":"https://api.github.com/users/jtran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jtran/subscriptions","organizations_url":"https://api.github.com/users/jtran/orgs","repos_url":"https://api.github.com/users/jtran/repos","events_url":"https://api.github.com/users/jtran/events{/privacy}","received_events_url":"https://api.github.com/users/jtran/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-05-31T18:34:37Z","performed_via_github_app":null},{"id":13004468926,"node_id":"MEE_lADOBFIx286KxUThzwAAAAMHIHK-","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13004468926","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-05-31T18:34:37Z","performed_via_github_app":null},{"id":13004468932,"node_id":"SE_lADOBFIx286KxUThzwAAAAMHIHLE","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13004468932","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-05-31T18:34:37Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2143186235","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2143186235","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2143186235,"node_id":"IC_kwDOBFIx285_vm07","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-01T01:00:37Z","updated_at":"2024-06-01T01:08:19Z","body":"@LauKr it doesn't seem right in your reverse proxy config.\r\n\r\nDid you see any `Set-Cookie` for `i_like_gitea`? Which path is it on? It is directly related to Gitea login.\r\n\r\nAnd, did you set any `ReversePath` or related config for your reverse proxy? I think they should be removed. UPDATE: maybe it should set `ReverseMagic No`, see below.\r\n\r\n----\r\n\r\nSince you are using tinyproxy, could you prepare a reproducible setup with detailed steps ? If you could provide a docker compose to reproduce, then I could try to debug it on my machine.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2143186235/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13007361142,"node_id":"MEE_lADOBFIx286KxUThzwAAAAMHTJR2","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13007361142","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2024-06-01T01:00:38Z","performed_via_github_app":null},{"id":13007361146,"node_id":"SE_lADOBFIx286KxUThzwAAAAMHTJR6","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13007361146","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2024-06-01T01:00:38Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2143187516","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2143187516","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2143187516,"node_id":"IC_kwDOBFIx285_vnI8","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-01T01:03:21Z","updated_at":"2024-06-01T01:06:57Z","body":"And one more thing, It seems that tinyproxy does some trick (black magic?) on the \"cookie path\". https://github.com/search?q=repo%3Atinyproxy%2Ftinyproxy%20REVERSE_COOKIE&type=code\r\n\r\nI do not feel it is quite right. If there is a chance, I would recommend to try to use some modern and standard reverse proxies.\r\n\r\nps: I guess setting `ReverseMagic No` should resolve the problem, according to the code in tinyproxy:\r\n\r\n<details>\r\n\r\n![image](https://github.com/go-gitea/gitea/assets/2114189/a156b5c0-e26e-43be-a9bb-4b2413e0957f)\r\n\r\n</details>\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2143187516/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13007367846,"node_id":"UNLE_lADOBFIx286KxUThzwAAAAMHTK6m","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13007367846","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2024-06-01T01:03:28Z","label":{"name":"type/bug","color":"ee0701"},"performed_via_github_app":null},{"id":13007367849,"node_id":"LE_lADOBFIx286KxUThzwAAAAMHTK6p","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13007367849","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-06-01T01:03:28Z","label":{"name":"issue/needs-feedback","color":"1d76db"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2146491722","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2146491722","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2146491722,"node_id":"IC_kwDOBFIx285_8N1K","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T03:17:15Z","updated_at":"2024-06-04T03:17:15Z","body":"Any update?","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2146491722/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2146659377","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2146659377","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2146659377,"node_id":"IC_kwDOBFIx285_82wx","user":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-04T05:44:43Z","updated_at":"2024-06-04T05:45:07Z","body":"> Any update?\n\nSorry, I need some time for the reproducible build.\n\nChanging `ReverseMagic` to No sadly didn't resolve the issue. I'll try debugging where the cookie went as soon as I find the time.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2146659377/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2156715537","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2156715537","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2156715537,"node_id":"IC_kwDOBFIx286AjN4R","user":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-09T17:46:32Z","updated_at":"2024-06-09T17:46:32Z","body":"Hi,\r\nsorry for the delay. I wrote a Dockerfile to reproduce the issue. Necessary files are attached:\r\n[setup_for_debugging.tar.gz](https://github.com/user-attachments/files/15753539/setup_for_debugging.tar.gz)\r\n\r\nBuilding and running was tested using Podman, but should work with Docker as well:\r\n```bash\r\npodman build -t gitea_proxy_testing --file Dockerfile\r\npodman run --rm -it --publish 8888:8888 gitea_proxy_testing:latest\r\n```\r\n\r\nThe Dockerfile creates a container with Gitea and tinyproxy. The tinyproxy is accessible via port 8888.\r\nAccessing Gitea via 127.0.0.1:8888/git-staging/ was successful, but login was not possible, as described in the issue.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2156715537/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"LauKr","id":37706897,"node_id":"MDQ6VXNlcjM3NzA2ODk3","avatar_url":"https://avatars.githubusercontent.com/u/37706897?v=4","gravatar_id":"","url":"https://api.github.com/users/LauKr","html_url":"https://github.com/LauKr","followers_url":"https://api.github.com/users/LauKr/followers","following_url":"https://api.github.com/users/LauKr/following{/other_user}","gists_url":"https://api.github.com/users/LauKr/gists{/gist_id}","starred_url":"https://api.github.com/users/LauKr/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/LauKr/subscriptions","organizations_url":"https://api.github.com/users/LauKr/orgs","repos_url":"https://api.github.com/users/LauKr/repos","events_url":"https://api.github.com/users/LauKr/events{/privacy}","received_events_url":"https://api.github.com/users/LauKr/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13094209105,"node_id":"AE_lADOBFIx286KxUThzwAAAAMMecZR","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13094209105","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2024-06-10T03:07:08Z","assignee":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T07:43:30Z","updated_at":"2024-06-10T07:43:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/31306","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/31306/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/31306/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/31306/events","html_url":"https://github.com/go-gitea/gitea/pull/31306","id":2343125918,"node_id":"PR_kwDOBFIx285x72fh","number":31306,"title":"Delete legacy cookie before setting new cookie","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":472744938,"node_id":"MDU6TGFiZWw0NzI3NDQ5Mzg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/bug","name":"type/bug","color":"ee0701","default":false,"description":""},{"id":475283668,"node_id":"MDU6TGFiZWw0NzUyODM2Njg=","url":"https://api.github.com/repos/go-gitea/gitea/labels/lgtm/done","name":"lgtm/done","color":"0e8a16","default":false,"description":"This PR has enough approvals to get merged. There are no important open reservations anymore."},{"id":507643724,"node_id":"MDU6TGFiZWw1MDc2NDM3MjQ=","url":"https://api.github.com/repos/go-gitea/gitea/labels/backport/done","name":"backport/done","color":"C2E0C6","default":false,"description":"All backports for this PR have been created"},{"id":2575787454,"node_id":"MDU6TGFiZWwyNTc1Nzg3NDU0","url":"https://api.github.com/repos/go-gitea/gitea/labels/topic/authentication","name":"topic/authentication","color":"f4b6ab","default":false,"description":""},{"id":5171898114,"node_id":"LA_kwDOBFIx288AAAABNETnAg","url":"https://api.github.com/repos/go-gitea/gitea/labels/modifies/go","name":"modifies/go","color":"89b3d5","default":false,"description":"Pull requests that update Go code"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/go-gitea/gitea/milestones/159","html_url":"https://github.com/go-gitea/gitea/milestone/159","labels_url":"https://api.github.com/repos/go-gitea/gitea/milestones/159/labels","id":10634467,"node_id":"MI_kwDOBFIx284AokTj","number":159,"title":"1.23.0","description":"","creator":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":951,"state":"closed","created_at":"2024-03-04T05:56:49Z","updated_at":"2025-03-12T17:52:57Z","due_on":"2024-12-18T08:00:00Z","closed_at":"2025-01-09T17:59:34Z"},"comments":2,"created_at":"2024-06-10T07:43:30Z","updated_at":"2024-09-09T04:51:28Z","closed_at":"2024-06-11T03:31:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":"resolved","draft":false,"repository":{"id":72495579,"node_id":"MDEwOlJlcG9zaXRvcnk3MjQ5NTU3OQ==","name":"gitea","full_name":"go-gitea/gitea","private":false,"owner":{"login":"go-gitea","id":12724356,"node_id":"MDEyOk9yZ2FuaXphdGlvbjEyNzI0MzU2","avatar_url":"https://avatars.githubusercontent.com/u/12724356?v=4","gravatar_id":"","url":"https://api.github.com/users/go-gitea","html_url":"https://github.com/go-gitea","followers_url":"https://api.github.com/users/go-gitea/followers","following_url":"https://api.github.com/users/go-gitea/following{/other_user}","gists_url":"https://api.github.com/users/go-gitea/gists{/gist_id}","starred_url":"https://api.github.com/users/go-gitea/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/go-gitea/subscriptions","organizations_url":"https://api.github.com/users/go-gitea/orgs","repos_url":"https://api.github.com/users/go-gitea/repos","events_url":"https://api.github.com/users/go-gitea/events{/privacy}","received_events_url":"https://api.github.com/users/go-gitea/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/go-gitea/gitea","description":"Git with a cup of tea! Painless self-hosted all-in-one software development service, including Git hosting, code review, team collaboration, package registry and CI/CD","fork":false,"url":"https://api.github.com/repos/go-gitea/gitea","forks_url":"https://api.github.com/repos/go-gitea/gitea/forks","keys_url":"https://api.github.com/repos/go-gitea/gitea/keys{/key_id}","collaborators_url":"https://api.github.com/repos/go-gitea/gitea/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/go-gitea/gitea/teams","hooks_url":"https://api.github.com/repos/go-gitea/gitea/hooks","issue_events_url":"https://api.github.com/repos/go-gitea/gitea/issues/events{/number}","events_url":"https://api.github.com/repos/go-gitea/gitea/events","assignees_url":"https://api.github.com/repos/go-gitea/gitea/assignees{/user}","branches_url":"https://api.github.com/repos/go-gitea/gitea/branches{/branch}","tags_url":"https://api.github.com/repos/go-gitea/gitea/tags","blobs_url":"https://api.github.com/repos/go-gitea/gitea/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/go-gitea/gitea/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/go-gitea/gitea/git/refs{/sha}","trees_url":"https://api.github.com/repos/go-gitea/gitea/git/trees{/sha}","statuses_url":"https://api.github.com/repos/go-gitea/gitea/statuses/{sha}","languages_url":"https://api.github.com/repos/go-gitea/gitea/languages","stargazers_url":"https://api.github.com/repos/go-gitea/gitea/stargazers","contributors_url":"https://api.github.com/repos/go-gitea/gitea/contributors","subscribers_url":"https://api.github.com/repos/go-gitea/gitea/subscribers","subscription_url":"https://api.github.com/repos/go-gitea/gitea/subscription","commits_url":"https://api.github.com/repos/go-gitea/gitea/commits{/sha}","git_commits_url":"https://api.github.com/repos/go-gitea/gitea/git/commits{/sha}","comments_url":"https://api.github.com/repos/go-gitea/gitea/comments{/number}","issue_comment_url":"https://api.github.com/repos/go-gitea/gitea/issues/comments{/number}","contents_url":"https://api.github.com/repos/go-gitea/gitea/contents/{+path}","compare_url":"https://api.github.com/repos/go-gitea/gitea/compare/{base}...{head}","merges_url":"https://api.github.com/repos/go-gitea/gitea/merges","archive_url":"https://api.github.com/repos/go-gitea/gitea/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/go-gitea/gitea/downloads","issues_url":"https://api.github.com/repos/go-gitea/gitea/issues{/number}","pulls_url":"https://api.github.com/repos/go-gitea/gitea/pulls{/number}","milestones_url":"https://api.github.com/repos/go-gitea/gitea/milestones{/number}","notifications_url":"https://api.github.com/repos/go-gitea/gitea/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/go-gitea/gitea/labels{/name}","releases_url":"https://api.github.com/repos/go-gitea/gitea/releases{/id}","deployments_url":"https://api.github.com/repos/go-gitea/gitea/deployments","created_at":"2016-11-01T02:13:26Z","updated_at":"2025-11-09T22:07:00Z","pushed_at":"2025-11-09T21:54:34Z","git_url":"git://github.com/go-gitea/gitea.git","ssh_url":"git@github.com:go-gitea/gitea.git","clone_url":"https://github.com/go-gitea/gitea.git","svn_url":"https://github.com/go-gitea/gitea","homepage":"https://gitea.com","size":317853,"stargazers_count":51900,"watchers_count":51900,"language":"Go","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":6199,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":2849,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["bitbucket","cicd","devops","docker-registry-v2","git","git-gui","git-server","gitea","github","github-actions","gitlab","go","golang","hacktoberfest","maven-server","npm-registry","vue"],"visibility":"public","forks":6199,"open_issues":2849,"watchers":51900,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/go-gitea/gitea/pulls/31306","html_url":"https://github.com/go-gitea/gitea/pull/31306","diff_url":"https://github.com/go-gitea/gitea/pull/31306.diff","patch_url":"https://github.com/go-gitea/gitea/pull/31306.patch","merged_at":"2024-06-11T03:31:23Z"},"body":"Try to fix #31202","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/31306/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/31306/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2157573328","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2157573328","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2157573328,"node_id":"IC_kwDOBFIx286AmfTQ","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-10T07:44:42Z","updated_at":"2024-06-10T07:44:42Z","body":"I guess the problem is caused by that the new cookie is correctly removed by the \"deleting legacy code\". So I think we could try to flip the order: first delete the legacy cookie, then set new cookie, then the new cookie won't be deleted.\r\n\r\n-> Delete legacy cookie before setting new cookie #31306 ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2157573328/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13110088394,"node_id":"CE_lADOBFIx286KxUThzwAAAAMNbBLK","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13110088394","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2024-06-11T03:31:24Z","state_reason":null,"performed_via_github_app":null},{"id":13110088416,"node_id":"REFE_lADOBFIx286KxUThzwAAAAMNbBLg","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13110088416","actor":{"login":"lunny","id":81045,"node_id":"MDQ6VXNlcjgxMDQ1","avatar_url":"https://avatars.githubusercontent.com/u/81045?v=4","gravatar_id":"","url":"https://api.github.com/users/lunny","html_url":"https://github.com/lunny","followers_url":"https://api.github.com/users/lunny/followers","following_url":"https://api.github.com/users/lunny/following{/other_user}","gists_url":"https://api.github.com/users/lunny/gists{/gist_id}","starred_url":"https://api.github.com/users/lunny/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lunny/subscriptions","organizations_url":"https://api.github.com/users/lunny/orgs","repos_url":"https://api.github.com/users/lunny/repos","events_url":"https://api.github.com/users/lunny/events{/privacy}","received_events_url":"https://api.github.com/users/lunny/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"5342a61124bf2d4fbe4c1d560b13866198149ac9","commit_url":"https://api.github.com/repos/go-gitea/gitea/commits/5342a61124bf2d4fbe4c1d560b13866198149ac9","created_at":"2024-06-11T03:31:24Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2159738005","html_url":"https://github.com/go-gitea/gitea/issues/31202#issuecomment-2159738005","issue_url":"https://api.github.com/repos/go-gitea/gitea/issues/31202","id":2159738005,"node_id":"IC_kwDOBFIx286AuvyV","user":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-06-11T04:03:53Z","updated_at":"2024-06-11T04:03:53Z","body":"Wait for backport to 1.22","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/comments/2159738005/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":13110252471,"node_id":"REE_lADOBFIx286KxUThzwAAAAMNbpO3","url":"https://api.github.com/repos/go-gitea/gitea/issues/events/13110252471","actor":{"login":"wxiaoguang","id":2114189,"node_id":"MDQ6VXNlcjIxMTQxODk=","avatar_url":"https://avatars.githubusercontent.com/u/2114189?v=4","gravatar_id":"","url":"https://api.github.com/users/wxiaoguang","html_url":"https://github.com/wxiaoguang","followers_url":"https://api.github.com/users/wxiaoguang/followers","following_url":"https://api.github.com/users/wxiaoguang/following{/other_user}","gists_url":"https://api.github.com/users/wxiaoguang/gists{/gist_id}","starred_url":"https://api.github.com/users/wxiaoguang/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wxiaoguang/subscriptions","organizations_url":"https://api.github.com/users/wxiaoguang/orgs","repos_url":"https://api.github.com/users/wxiaoguang/repos","events_url":"https://api.github.com/users/wxiaoguang/events{/privacy}","received_events_url":"https://api.github.com/users/wxiaoguang/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"reopened","commit_id":null,"commit_url":null,"created_at":"2024-06-11T04:03:53Z","state_reason":"reopened","performed_via_github_app":null}]