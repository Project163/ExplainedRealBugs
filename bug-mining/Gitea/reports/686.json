{"url":"https://api.github.com/repos/go-gitea/gitea/issues/35450","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/35450/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/35450/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/35450/events","html_url":"https://github.com/go-gitea/gitea/issues/35450","id":3401810841,"node_id":"I_kwDOBFIx287Kw4OZ","number":35450,"title":"Add `--skip-repo-archive` option to `gitea dump`","user":{"login":"h7x4","id":14929991,"node_id":"MDQ6VXNlcjE0OTI5OTkx","avatar_url":"https://avatars.githubusercontent.com/u/14929991?v=4","gravatar_id":"","url":"https://api.github.com/users/h7x4","html_url":"https://github.com/h7x4","followers_url":"https://api.github.com/users/h7x4/followers","following_url":"https://api.github.com/users/h7x4/following{/other_user}","gists_url":"https://api.github.com/users/h7x4/gists{/gist_id}","starred_url":"https://api.github.com/users/h7x4/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/h7x4/subscriptions","organizations_url":"https://api.github.com/users/h7x4/orgs","repos_url":"https://api.github.com/users/h7x4/repos","events_url":"https://api.github.com/users/h7x4/events{/privacy}","received_events_url":"https://api.github.com/users/h7x4/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":474393850,"node_id":"MDU6TGFiZWw0NzQzOTM4NTA=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/proposal","name":"type/proposal","color":"5319e7","default":false,"description":"The new feature has not been accepted yet but needs to be discussed first."},{"id":3684872395,"node_id":"LA_kwDOBFIx287borDL","url":"https://api.github.com/repos/go-gitea/gitea/labels/proposal/accepted","name":"proposal/accepted","color":"22E217","default":false,"description":"We have reviewed the proposal and agree that it should be implemented like that/at all."}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2025-09-10T10:04:42Z","updated_at":"2025-09-12T14:11:25Z","closed_at":"2025-09-12T14:11:25Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Feature Description\n\nHello!\n\nWe are running an gitea instance on a somewhat space limited system. We are struggling with large gitea dumps, and the main space offender seem to be that the dumps include all of the zips and tarballs generated whenever someone clicks the download link on a repo (likely scrapers and bots for the most part). We don't see any need to keep these files in the dumps, as they can easily be regenerated whenever needed.\n\nWe have thought about working our way around this by either:\n\n- deleting the archives right before `gitea dump` (not great, we'd like to just have the builtin cronjob purge them at a reasonable time)\n- unpacking the dumps afterwards, removing the repo archives and repacking (not great either, unnecessary use of disk and compute, need more space for temporary storage of the files).\n\nWould it be possible to add yet another `--skip-*` option for the repo archives?\n\n### Screenshots\n\n_No response_","closed_by":{"login":"techknowlogick","id":164197,"node_id":"MDQ6VXNlcjE2NDE5Nw==","avatar_url":"https://avatars.githubusercontent.com/u/164197?v=4","gravatar_id":"","url":"https://api.github.com/users/techknowlogick","html_url":"https://github.com/techknowlogick","followers_url":"https://api.github.com/users/techknowlogick/followers","following_url":"https://api.github.com/users/techknowlogick/following{/other_user}","gists_url":"https://api.github.com/users/techknowlogick/gists{/gist_id}","starred_url":"https://api.github.com/users/techknowlogick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/techknowlogick/subscriptions","organizations_url":"https://api.github.com/users/techknowlogick/orgs","repos_url":"https://api.github.com/users/techknowlogick/repos","events_url":"https://api.github.com/users/techknowlogick/events{/privacy}","received_events_url":"https://api.github.com/users/techknowlogick/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/35450/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/35450/timeline","performed_via_github_app":null,"state_reason":"completed"}