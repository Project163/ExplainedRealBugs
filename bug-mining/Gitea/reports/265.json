{"url":"https://api.github.com/repos/go-gitea/gitea/issues/30393","repository_url":"https://api.github.com/repos/go-gitea/gitea","labels_url":"https://api.github.com/repos/go-gitea/gitea/issues/30393/labels{/name}","comments_url":"https://api.github.com/repos/go-gitea/gitea/issues/30393/comments","events_url":"https://api.github.com/repos/go-gitea/gitea/issues/30393/events","html_url":"https://github.com/go-gitea/gitea/issues/30393","id":2235649410,"node_id":"I_kwDOBFIx286FQU2C","number":30393,"title":"Gitea Actions - Support for configuration variables in workflows","user":{"login":"kerem0comert","id":42437138,"node_id":"MDQ6VXNlcjQyNDM3MTM4","avatar_url":"https://avatars.githubusercontent.com/u/42437138?v=4","gravatar_id":"","url":"https://api.github.com/users/kerem0comert","html_url":"https://github.com/kerem0comert","followers_url":"https://api.github.com/users/kerem0comert/followers","following_url":"https://api.github.com/users/kerem0comert/following{/other_user}","gists_url":"https://api.github.com/users/kerem0comert/gists{/gist_id}","starred_url":"https://api.github.com/users/kerem0comert/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/kerem0comert/subscriptions","organizations_url":"https://api.github.com/users/kerem0comert/orgs","repos_url":"https://api.github.com/users/kerem0comert/repos","events_url":"https://api.github.com/users/kerem0comert/events{/privacy}","received_events_url":"https://api.github.com/users/kerem0comert/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":474393850,"node_id":"MDU6TGFiZWw0NzQzOTM4NTA=","url":"https://api.github.com/repos/go-gitea/gitea/labels/type/proposal","name":"type/proposal","color":"5319e7","default":false,"description":"The new feature has not been accepted yet but needs to be discussed first."},{"id":474800073,"node_id":"MDU6TGFiZWw0NzQ4MDAwNzM=","url":"https://api.github.com/repos/go-gitea/gitea/labels/issue/needs-feedback","name":"issue/needs-feedback","color":"1d76db","default":false,"description":"For bugs, we need more details. For features, the feature must be described in more detail"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2024-04-10T13:47:42Z","updated_at":"2024-07-10T11:37:20Z","closed_at":"2024-04-11T03:57:04Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Feature Description\n\nHello,\r\n\r\nIn my Gitea Actions configuration - suppose that I would like to be able to configure the behavior of certain steps.\r\nFor example, consider the following step:\r\n```yaml\r\n    - name: Run pytest\r\n      run: |\r\n        if [ -d tests/ ]; then\r\n          if [ -f tests/gitea_actions.yaml ]; then\r\n            echo \"Found gitea_actions.yaml, checking if tests should be run...\"\r\n            \r\n            run_tests=$(python -c \"import yaml; print(yaml.safe_load(open('tests/gitea_actions.yaml'))['run_tests'])\")\r\n            echo \"run_tests is set to $run_tests\"\r\n            if [ \"$run_tests\" = \"True\" ]; then\r\n              echo \"run_tests is set to true, running tests...\"\r\n              python -m pytest tests/\r\n            else\r\n              echo \"run_tests is not set to true, skipping tests.\"\r\n            fi\r\n          else\r\n            echo \"gitea_actions.yaml does not exist, skipping tests.\"\r\n          fi\r\n        else\r\n          echo \"Test directory does not exist, skipping tests.\"\r\n        fi\r\n```\r\n\r\nCurrently I can configure this behavior by a yaml file that I keep in the repository. However, is it possible to have it as an external variable that is configurable per repository, in the Gitea frontend? And it can be accessed in a way like ```gitea.actor```. I assume this is similar to [what GitHub Actions already supports here](https://github.blog/changelog/2023-01-10-github-actions-support-for-configuration-variables-in-workflows/).\r\n\r\nPlease let me know if such a thing already exists, or if not what is the best practice for this requirement (should I continue having this external yaml file for my configs?). \r\n\r\nThanks!\r\n\n\n### Screenshots\n\n_No response_","closed_by":{"login":"wolfogre","id":9418365,"node_id":"MDQ6VXNlcjk0MTgzNjU=","avatar_url":"https://avatars.githubusercontent.com/u/9418365?v=4","gravatar_id":"","url":"https://api.github.com/users/wolfogre","html_url":"https://github.com/wolfogre","followers_url":"https://api.github.com/users/wolfogre/followers","following_url":"https://api.github.com/users/wolfogre/following{/other_user}","gists_url":"https://api.github.com/users/wolfogre/gists{/gist_id}","starred_url":"https://api.github.com/users/wolfogre/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/wolfogre/subscriptions","organizations_url":"https://api.github.com/users/wolfogre/orgs","repos_url":"https://api.github.com/users/wolfogre/repos","events_url":"https://api.github.com/users/wolfogre/events{/privacy}","received_events_url":"https://api.github.com/users/wolfogre/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/go-gitea/gitea/issues/30393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/go-gitea/gitea/issues/30393/timeline","performed_via_github_app":null,"state_reason":"completed"}