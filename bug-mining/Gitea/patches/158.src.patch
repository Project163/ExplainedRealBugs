diff --git a/services/repository/branch.go b/services/repository/branch.go
index 6ddc6badfa..c1e6625ed4 100644
--- a/services/repository/branch.go
+++ b/services/repository/branch.go
@@ -65,7 +65,8 @@ func LoadBranches(ctx context.Context, repo *repo_model.Repository, gitRepo *git
 			Page:     page,
 			PageSize: pageSize,
 		},
-		Keyword: keyword,
+		Keyword:            keyword,
+		ExcludeBranchNames: []string{repo.DefaultBranch},
 	}
 
 	dbBranches, totalNumOfBranches, err := db.FindAndCount[git_model.Branch](ctx, branchOpts)
@@ -73,8 +74,6 @@ func LoadBranches(ctx context.Context, repo *repo_model.Repository, gitRepo *git
 		return nil, nil, 0, err
 	}
 
-	branchOpts.ExcludeBranchNames = []string{repo.DefaultBranch}
-
 	if err := git_model.BranchList(dbBranches).LoadDeletedBy(ctx); err != nil {
 		return nil, nil, 0, err
 	}
