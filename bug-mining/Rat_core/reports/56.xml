<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:24:11 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[RAT-273] Build failures with &gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix</title>
                <link>https://issues.apache.org/jira/browse/RAT-273</link>
                <project id="12310750" key="RAT">Apache RAT</project>
                    <description>&lt;p&gt;A Travis build running against&lt;br/&gt;
DOCKER_IMAGE=maven:3.6.3-openjdk-16 &#160;&lt;br/&gt;
revealed the following test failures:&lt;/p&gt;

&lt;p&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/check.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; fixed by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt; 20220331: {{Tests run: 5, Failures: 2, Errors: 0, Skipped: 0, Time elapsed: 0.028 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.rat.header.HeaderMatcherTest&lt;br/&gt;
lines(org.apache.rat.header.HeaderMatcherTest) Time elapsed: 0.01 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: One line read expected:&amp;lt;1&amp;gt; but was:&amp;lt;2&amp;gt;&lt;br/&gt;
at org.apache.rat.header.HeaderMatcherTest.lines(HeaderMatcherTest.java:84)&lt;br/&gt;
noLines(org.apache.rat.header.HeaderMatcherTest) Time elapsed: 0.002 sec &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
java.lang.AssertionError: No lines read expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt;&lt;br/&gt;
at org.apache.rat.header.HeaderMatcherTest.noLines(HeaderMatcherTest.java:74)}}&lt;/p&gt;

&lt;p&gt;SUMMARY:&lt;br/&gt;
{{ HeaderMatcherTest.lines:84 One line read expected:&amp;lt;1&amp;gt; but was:&amp;lt;2&amp;gt;&lt;br/&gt;
HeaderMatcherTest.noLines:74 No lines read expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt;}}&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://travis-ci.org/github/apache/creadur-rat/jobs/726998247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://travis-ci.org/github/apache/creadur-rat/jobs/726998247&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;After fixing the bug&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Github Action and&lt;/li&gt;
	&lt;li&gt;Travis matrix builds should be changed to at least contain 8, 11, 17, and maybe 18-ea/19-ea (as of 2022-02-10) - &lt;a href=&quot;https://www.oracle.com/java/technologies/java-se-support-roadmap.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.oracle.com/java/technologies/java-se-support-roadmap.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Fix errors resulting from running with more modern builds:
	&lt;ul&gt;
		&lt;li&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Javadoc error on JDK17 and JDK18 relates to &lt;a href=&quot;https://bugs.openjdk.java.net/browse/JDK-8270866&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.openjdk.java.net/browse/JDK-8270866&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; RatCheckMojo complaining about module error&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13327453">RAT-273</key>
            <summary>Build failures with &gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pottlinger">Philipp Ottlinger</assignee>
                                    <reporter username="pottlinger">Philipp Ottlinger</reporter>
                        <labels>
                    </labels>
                <created>Mon, 14 Sep 2020 14:49:25 +0000</created>
                <updated>Mon, 9 May 2022 09:06:52 +0000</updated>
                            <resolved>Mon, 9 May 2022 08:44:45 +0000</resolved>
                                    <version>0.14</version>
                                    <fixVersion>0.14</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17195507" author="jira-bot" created="Mon, 14 Sep 2020 14:52:20 +0000"  >&lt;p&gt;Commit af4c451223c4093934c0ebcf46ee79bce26c215c in creadur-rat&apos;s branch refs/heads/master from Hugo Hirsch&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=af4c451&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=af4c451&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Disable JDK16 due to test failures&lt;/p&gt;</comment>
                            <comment id="17395319" author="hugo.hirsch" created="Sat, 7 Aug 2021 21:06:33 +0000"  >&lt;p&gt;Same situation with:&lt;br/&gt;
Apache Maven 3.8.1 (05c21c65bdfed0f71a2f2ada8b84da59348c4c5d)&lt;br/&gt;
Java version: 17-ea, vendor: Oracle Corporation, runtime: /jdk-17&lt;br/&gt;
Default locale: de_DE, platform encoding: UTF-8&lt;br/&gt;
OS name: &quot;linux&quot;, version: &quot;5.4.0-80-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;&lt;/p&gt;</comment>
                            <comment id="17513057" author="hugo.hirsch" created="Sun, 27 Mar 2022 21:09:03 +0000"  >&lt;p&gt;Same situation with:&lt;br/&gt;
mvn --version&lt;br/&gt;
Apache Maven 3.8.5 (3599d3414f046de2324203b78ddcf9b5e4388aa0)&lt;br/&gt;
Maven home: /maven&lt;br/&gt;
Java version: 18, vendor: Oracle Corporation, runtime: /jdk-18&lt;br/&gt;
Default locale: de_DE, platform encoding: UTF-8&lt;br/&gt;
OS name: &quot;linux&quot;, version: &quot;5.4.0-105-generic&quot;, arch: &quot;amd64&quot;, family: &quot;unix&quot;&lt;/p&gt;</comment>
                            <comment id="17513062" author="hugo.hirsch" created="Sun, 27 Mar 2022 21:42:00 +0000"  >&lt;p&gt;The usage of StringReader seems to have changed from JDK8 to &amp;gt;JDK16&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/io/StringReader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/8/docs/api/java/io/StringReader.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/StringReader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/StringReader.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Lines without explicit line endings were not read in JDK8 while JDK16 pays attention to these strings. The underlying class used from within RAT is:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://docs.oracle.com/javase/8/docs/api/java/io/LineNumberReader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/javase/8/docs/api/java/io/LineNumberReader.html&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/LineNumberReader.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.oracle.com/en/java/javase/16/docs/api/java.base/java/io/LineNumberReader.html&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Taken from the Javadocs:&lt;br/&gt;
JDK16:&lt;br/&gt;
A line is considered to be terminated by any one of a line feed (&apos;\n&apos;), a carriage return (&apos;\r&apos;), or a carriage return followed immediately by a linefeed, or any of the previous terminators followed by end of stream, or end of stream not preceded by another terminator.&lt;/p&gt;

&lt;p&gt;JDK8:&lt;br/&gt;
A line is considered to be terminated by any one of a line feed (&apos;\n&apos;), a carriage return (&apos;\r&apos;), or a carriage return followed immediately by a linefeed.&lt;/p&gt;

&lt;p&gt;-&amp;gt; API change: end of streams counts as line ending!&lt;/p&gt;</comment>
                            <comment id="17513063" author="jira-bot" created="Sun, 27 Mar 2022 21:55:11 +0000"  >&lt;p&gt;Commit 6fcb174bcc4144db6d2c018e4c3573a9fd163997 in creadur-rat&apos;s branch refs/heads/master from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=6fcb174&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=6fcb174&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Remove unused variable&lt;/p&gt;</comment>
                            <comment id="17513064" author="jira-bot" created="Sun, 27 Mar 2022 21:55:12 +0000"  >&lt;p&gt;Commit cc5b81608ecd7d60371eac0b16121d03d08d0746 in creadur-rat&apos;s branch refs/heads/master from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=cc5b816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=cc5b816&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Simplify test setup&lt;/p&gt;</comment>
                            <comment id="17513065" author="jira-bot" created="Sun, 27 Mar 2022 21:55:13 +0000"  >&lt;p&gt;Commit 037bf35c310d7a5cf0a8f6c5fb5f8af89f1f8ba2 in creadur-rat&apos;s branch refs/heads/master from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=037bf35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=037bf35&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Simplify test setup&lt;/p&gt;</comment>
                            <comment id="17513354" author="jira-bot" created="Mon, 28 Mar 2022 12:47:50 +0000"  >&lt;p&gt;Commit 0ab88c3758637ea53ff3c3e8808de374cdb39ffd in creadur-rat&apos;s branch refs/heads/fix/&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt; from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=0ab88c3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=0ab88c3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Adapt test expectations to newer JDK&apos;s behaviour&lt;/p&gt;</comment>
                            <comment id="17513355" author="jira-bot" created="Mon, 28 Mar 2022 12:47:51 +0000"  >&lt;p&gt;Commit 600ead863f481d1130fcd38e7ec83203816206f6 in creadur-rat&apos;s branch refs/heads/fix/&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt; from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=600ead8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=600ead8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Change build matrix to work with LTS and newest JDK&lt;/p&gt;</comment>
                            <comment id="17513356" author="jira-bot" created="Mon, 28 Mar 2022 12:47:52 +0000"  >&lt;p&gt;Commit 8f4bb0bc24b70dc0a6a9f6de02458ae80601642b in creadur-rat&apos;s branch refs/heads/fix/&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt; from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=8f4bb0b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=8f4bb0b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Change build matrix to work with LTS and newest JDK&lt;/p&gt;</comment>
                            <comment id="17513357" author="jira-bot" created="Mon, 28 Mar 2022 12:47:53 +0000"  >&lt;p&gt;Commit 709473cf481dc25c7672cc05a8984982628b326d in creadur-rat&apos;s branch refs/heads/fix/&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt; from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=709473c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=709473c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Change build matrix on ASF to work with latest LTS&lt;/p&gt;</comment>
                            <comment id="17513576" author="jira-bot" created="Mon, 28 Mar 2022 18:58:48 +0000"  >&lt;p&gt;Commit 33ebe722feb81cd13f6738c7a4aa9599930705e6 in creadur-rat&apos;s branch refs/heads/fix/&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt; from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=33ebe72&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=33ebe72&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Remove JDK18 from Travis as it is not there yet&lt;/p&gt;</comment>
                            <comment id="17513577" author="jira-bot" created="Mon, 28 Mar 2022 18:59:31 +0000"  >&lt;p&gt;Commit 07b2762bac6c60284693c556c5bbdd0c1b0d0155 in creadur-rat&apos;s branch refs/heads/fix/&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt; from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=07b2762&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=07b2762&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Remove JDK18 from GHA as it is not there yet&lt;/p&gt;</comment>
                            <comment id="17513603" author="jira-bot" created="Mon, 28 Mar 2022 19:59:25 +0000"  >&lt;p&gt;Commit 6fcb174bcc4144db6d2c018e4c3573a9fd163997 in creadur-rat&apos;s branch refs/heads/dependabot/maven/org.apache.maven.reporting-maven-reporting-api-3.1.0 from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=6fcb174&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=6fcb174&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Remove unused variable&lt;/p&gt;</comment>
                            <comment id="17513604" author="jira-bot" created="Mon, 28 Mar 2022 19:59:26 +0000"  >&lt;p&gt;Commit cc5b81608ecd7d60371eac0b16121d03d08d0746 in creadur-rat&apos;s branch refs/heads/dependabot/maven/org.apache.maven.reporting-maven-reporting-api-3.1.0 from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=cc5b816&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=cc5b816&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Simplify test setup&lt;/p&gt;</comment>
                            <comment id="17513605" author="jira-bot" created="Mon, 28 Mar 2022 19:59:27 +0000"  >&lt;p&gt;Commit 037bf35c310d7a5cf0a8f6c5fb5f8af89f1f8ba2 in creadur-rat&apos;s branch refs/heads/dependabot/maven/org.apache.maven.reporting-maven-reporting-api-3.1.0 from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=037bf35&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=037bf35&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Simplify test setup&lt;/p&gt;</comment>
                            <comment id="17515527" author="jochen@apache.org" created="Thu, 31 Mar 2022 19:09:32 +0000"  >&lt;p&gt;So far, I can&apos;t provide a fix, but I believe to have found the reason. Suggest the following snippet:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&#160; &#160; &#160; &#160; final StringReader sr = new StringReader(&quot;One\nTwo&quot;);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; final LineNumberReader lnr = new LineNumberReader(sr);&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; for (;&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; {&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &#160; &#160; final int c = lnr.read();&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &#160; &#160; if (c == -1) {&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; System.out.println(&quot;Line number=&quot; + lnr.getLineNumber());&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&#160; &#160; &#160; &#160; &#160; &#160; &#160; &#160; break;&lt;/tt&gt;&lt;br/&gt;
{{&#160; &#160; &#160; &#160; &#160; &#160; }}}&lt;br/&gt;
{{&#160; &#160; &#160; &#160; }}}&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;What it does, is basically this. Read a text, that&apos;s not terminated with a line terminator, piping }}{{&#160;the complete text through a LineNumberReader.&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;Well, the point is this: On Java 17, the last line is counted. Whereas, on Java 11, and 8, it&apos;s not counted.&lt;/p&gt;

&lt;p&gt;Knowing that, we might easily fix the unit test by adjusting the expected result, accordingly. Problem is: I am not sure, whether this problem could affect some functionality, that isn&apos;t tested. So, before I create a fix, I&apos;d be interested in other opinions.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;jwi@localhost ews&amp;#93;&lt;/span&gt;$ /usr/lib/jvm/java-1.8.0/bin/java -classpath LineNumberReaderDemo/bin demo.LineNumberReaderDemo&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Line number=1&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;jwi@localhost ews&amp;#93;&lt;/span&gt;$ /usr/lib/jvm/java-11/bin/java -classpath LineNumberReaderDemo/bin demo.LineNumberReaderDemo&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Line number=1&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;jwi@localhost ews&amp;#93;&lt;/span&gt;$ /usr/lib/jvm/java-17/bin/java -classpath LineNumberReaderDemo/bin demo.LineNumberReaderDemo&lt;/tt&gt;&lt;br/&gt;
&lt;tt&gt;Line number=2&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17515534" author="jochen@apache.org" created="Thu, 31 Mar 2022 19:19:04 +0000"  >&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://stackoverflow.com/questions/71697989/is-there-an-incompatibility-in-linenumberreader-in-java-17&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/71697989/is-there-an-incompatibility-in-linenumberreader-in-java-17&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17515589" author="jira-bot" created="Thu, 31 Mar 2022 21:12:37 +0000"  >&lt;p&gt;Commit ec1d46ee782b95ca322f178a97caf34fca6db885 in creadur-rat&apos;s branch refs/heads/master from Jochen Wiedmann&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=ec1d46e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=ec1d46e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;PR: &lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
Workaround for an incompatibility in the java.io.LineNumberReaderm which has been replaced&lt;br/&gt;
with the org.apache.rat.header.LineNumberReader.&lt;/p&gt;</comment>
                            <comment id="17515591" author="jochen@apache.org" created="Thu, 31 Mar 2022 21:15:04 +0000"  >&lt;p&gt;Reviewing the usage of java.io.LineNumberReader, I found that this can be replaced with a simple alternative, the org.apache.rat.header.LineNumberReader.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Build still fails with Java 17 in the RatCheckMojoTest. This can be handled elsewhere.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17515596" author="jira-bot" created="Thu, 31 Mar 2022 21:18:53 +0000"  >&lt;p&gt;Commit 082b3b58ca7b28b8a1ca83766e7fb807517bec09 in creadur-rat&apos;s branch refs/heads/master from Jochen Wiedmann&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=082b3b5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=082b3b5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;PR: &lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;&lt;br/&gt;
Reenabling build with Java 16, and Java 17.&lt;/p&gt;</comment>
                            <comment id="17515601" author="jochen@apache.org" created="Thu, 31 Mar 2022 21:31:37 +0000"  >&lt;p&gt;Build for Java 16, and Java 17 is still failing, but now in the RatCheckMojoTest. The HeaderMatcherTest passes.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17515863" author="jira-bot" created="Fri, 1 Apr 2022 10:54:10 +0000"  >&lt;p&gt;Commit 07c6d8ccb44659ffba23d7d7358c619150fbd9db in creadur-rat&apos;s branch refs/heads/master from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=07c6d8c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=07c6d8c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Disable Javadoc linting to prevent errors in higher JDK versions&lt;/p&gt;</comment>
                            <comment id="17515864" author="jira-bot" created="Fri, 1 Apr 2022 10:54:12 +0000"  >&lt;p&gt;Commit 0df1e6ef2cf7ba57db31ad9ad62ff70314759f71 in creadur-rat&apos;s branch refs/heads/master from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=0df1e6e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=0df1e6e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-273&quot; title=&quot;Build failures with &amp;gt;=JDK16 - analyze test behaviour or rewrite tests and update build matrix&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-273&quot;&gt;&lt;del&gt;RAT-273&lt;/del&gt;&lt;/a&gt;: Adapt changelog for changes required to run with more recent JDKs&lt;/p&gt;</comment>
                            <comment id="17516319" author="jochen@apache.org" created="Sat, 2 Apr 2022 14:34:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pottlinger&quot; class=&quot;user-hover&quot; rel=&quot;pottlinger&quot;&gt;pottlinger&lt;/a&gt; From the history, it is not obvious to me, why you reopened this issue?&lt;/p&gt;

&lt;p&gt;The builds on &lt;a href=&quot;https://github.com/apache/creadur-rat/actions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/creadur-rat/actions&lt;/a&gt; are green?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17516402" author="hugo.hirsch" created="Sat, 2 Apr 2022 22:14:24 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jochen%40apache.org&quot; class=&quot;user-hover&quot; rel=&quot;jochen@apache.org&quot;&gt;jochen@apache.org&lt;/a&gt;&#160; if you feel better I can extract the stuff from this ticket into a new one as RAT doesn&apos;t build properly with JDK17 and JDK18 .... My original intention was to get RAT running with more recent JDKs within that ticket. I intended to collect all problems but if you prefer a ticket for each problem .....&lt;/p&gt;</comment>
                            <comment id="17517289" author="jochen@apache.org" created="Tue, 5 Apr 2022 07:57:11 +0000"  >&lt;p&gt;Well, all I can say is: Reading your comment, I understand that there are other issues. However, so far I don&apos;t understand what these issues are. Subtasks would certainly help.&lt;/p&gt;</comment>
                            <comment id="17533696" author="hugo.hirsch" created="Mon, 9 May 2022 08:44:30 +0000"  >&lt;p&gt;Will create new tickets for new(er) problems &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; in order to start a release for 0.14.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13443942">RAT-302</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 26 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0il0o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>