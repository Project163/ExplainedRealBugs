<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:23:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[RAT-86] License insertion doesn&apos;t work with just the -a and/or -a -f options.</title>
                <link>https://issues.apache.org/jira/browse/RAT-86</link>
                <project id="12310750" key="RAT">Apache RAT</project>
                    <description>&lt;p&gt;This bug applies to the SVN checkout.  org.apache.rat.Report&apos;s command line processing logic seems flawed: if you want to insert a license header in your files (-a or -a -f), and unless you specify a stylesheet with the -s option, the report creation goes through report.styleReport(), which throws away any previously specified configuration settings: &lt;/p&gt;

&lt;p&gt;pubic void styleReport(..) {&lt;br/&gt;
...&lt;br/&gt;
  final ReportConfiguration configuration = new ReportConfiguration();&lt;br/&gt;
...&lt;br/&gt;
}&lt;/p&gt;

&lt;p&gt;I assume you want something somewhat like&lt;/p&gt;

&lt;p&gt;public void styleReport(PrintStream out, ReportConfiguration pConfiguration) throws Exception {&lt;br/&gt;
        final IReportable base = getDirectory(out);&lt;br/&gt;
        if (base != null) &lt;/p&gt;
{
            InputStream style = Defaults.getDefaultStyleSheet();
            pConfiguration.setHeaderMatcher(Defaults.createDefaultMatcher());
            report(out, base, style, pConfiguration);
        }
&lt;p&gt;}&lt;/p&gt;
</description>
                <environment>&lt;p&gt;Mac OSX, java -version&lt;br/&gt;
java version &quot;1.6.0_22&quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.6.0_22-b04-307-10M3261)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 17.1-b03-307, mixed mode)&lt;/p&gt;</environment>
        <key id="12501072">RAT-86</key>
            <summary>License insertion doesn&apos;t work with just the -a and/or -a -f options.</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="marpierc">Marlon Pierce</reporter>
                        <labels>
                    </labels>
                <created>Thu, 10 Mar 2011 22:23:45 +0000</created>
                <updated>Mon, 14 Mar 2011 16:17:24 +0000</updated>
                            <resolved>Fri, 11 Mar 2011 14:13:09 +0000</resolved>
                                    <version>0.7</version>
                                    <fixVersion>0.8</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>0</watches>
                                                                                                                <comments>
                            <comment id="13005644" author="bodewig" created="Fri, 11 Mar 2011 14:13:09 +0000"  >&lt;p&gt;should be fixed with svn revision 1080572&lt;/p&gt;</comment>
                            <comment id="13005808" author="marpierc" created="Fri, 11 Mar 2011 19:55:59 +0000"  >&lt;p&gt;SVN version still isn&apos;t working for me.  I had to add the line &quot;	configuration.setHeaderMatcher(Defaults.createDefaultMatcher());&quot; to the styleReport(...) method. That is, SVN has the code&lt;br/&gt;
 public void styleReport(PrintStream out,&lt;br/&gt;
302	                            ReportConfiguration configuration)&lt;br/&gt;
303	        throws Exception {&lt;br/&gt;
304	        final IReportable base = getDirectory(out);&lt;br/&gt;
305	        if (base != null) &lt;/p&gt;
{
306	            InputStream style = Defaults.getDefaultStyleSheet();
307	            report(out, base, style, configuration);
308	        }
&lt;p&gt;309	    }&lt;/p&gt;

&lt;p&gt;but this throws NullPointerExceptions (not reproduced here).  My local fix (see also the original note) is&lt;/p&gt;


&lt;p&gt;    public void styleReport(PrintStream out,&lt;br/&gt;
                            ReportConfiguration configuration)&lt;br/&gt;
        throws Exception {&lt;br/&gt;
        final IReportable base = getDirectory(out);&lt;br/&gt;
        if (base != null) &lt;/p&gt;
{
            InputStream style = Defaults.getDefaultStyleSheet();
            //----Add line below------
	    configuration.setHeaderMatcher(Defaults.createDefaultMatcher());
            report(out, base, style, configuration);
        }
&lt;p&gt;    }&lt;/p&gt;
</comment>
                            <comment id="13006488" author="bodewig" created="Mon, 14 Mar 2011 16:17:24 +0000"  >&lt;p&gt;Oops, yes, an oversight, sorry.&lt;/p&gt;

&lt;p&gt;Should finally be fixed with svn revision 1081440&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>170385</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 36 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0zp27:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>206362</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>