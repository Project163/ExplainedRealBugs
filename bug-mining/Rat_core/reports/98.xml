<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 21:24:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[RAT-335] Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively</title>
                <link>https://issues.apache.org/jira/browse/RAT-335</link>
                <project id="12310750" key="RAT">Apache RAT</project>
                    <description>&lt;p&gt;Reproduction:&lt;br/&gt;
In an empty directory put this &lt;b&gt;pom.xml&lt;/b&gt;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-xml&quot;&gt;
&amp;lt;!--
 ~ Licensed under the Apache License, Version 2.0 (the &lt;span class=&quot;code-quote&quot;&gt;&quot;License&quot;&lt;/span&gt;);
 ~ you may not use this file except in compliance with the License.
 ~ You may obtain a copy of the License at
 ~
 ~  https://www.apache.org/licenses/LICENSE-2.0
 ~
 ~ Unless required by applicable law or agreed to in writing, software
 ~ distributed under the License is distributed on an AS IS BASIS,
 ~ WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 ~ See the License for the specific language governing permissions and
 ~ limitations under the License.
--&amp;gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;project&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;modelVersion&amp;gt;&lt;/span&gt;4.0.0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/modelVersion&amp;gt;&lt;/span&gt;

  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;groupId&amp;gt;&lt;/span&gt;nl.basjes.bugreport&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/groupId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;artifactId&amp;gt;&lt;/span&gt;dummy&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/artifactId&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;code-tag&quot;&gt;&amp;lt;version&amp;gt;&lt;/span&gt;1.0.0&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/version&amp;gt;&lt;/span&gt;
&lt;span class=&quot;code-tag&quot;&gt;&amp;lt;/project&amp;gt;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Create a &lt;b&gt;.gitignore&lt;/b&gt; with only this:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
*.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Then do&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
git init .
git add .
git commit -m&lt;span class=&quot;code-quote-red&quot;&gt;&quot;Init&quot;&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Now create 2 files that will be ignored by git&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-bash&quot;&gt;
touch one.txt&#160;
mkdir test
touch test/two.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ git status 
On branch main
nothing to commit, working tree clean
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&lt;b&gt;Important&lt;/b&gt;: Both .txt files are not shown because they are ignored by git.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
$ mvn org.apache.rat:apache-rat-plugin:0.15:check -X
...
[INFO] Will parse SCM ignores &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; exclusions...
[INFO] Parsing exclusions from /home/nbasjes/workspace/Prive/BugReports/Rat/.gitignore
[DEBUG] Added *.txt
...
[DEBUG] Implicit exclude: *.txt
...
[DEBUG]  - excluded one.txt
...
[DEBUG]  - included test/two.txt
...
[WARNING] Files with unapproved licenses:
  test/two.txt
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The problem is that the &lt;b&gt;test/two.txt&lt;/b&gt; should also be excluded.&lt;/p&gt;

&lt;p&gt;A while ago I wrote a gitignore module as part of this project. Note that my implementation is also not a perfect match with what git does, but it is closer.&lt;br/&gt;
&lt;a href=&quot;https://github.com/nielsbasjes/codeowners/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/nielsbasjes/codeowners/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13556821">RAT-335</key>
            <summary>Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="claude">Claude Warren</assignee>
                                    <reporter username="nielsbasjes">Niels Basjes</reporter>
                        <labels>
                    </labels>
                <created>Sun, 5 Nov 2023 13:10:28 +0000</created>
                <updated>Thu, 9 Oct 2025 10:29:43 +0000</updated>
                            <resolved>Thu, 11 Sep 2025 15:43:46 +0000</resolved>
                                    <version>0.15</version>
                                    <fixVersion>0.16</fixVersion>
                    <fixVersion>0.17</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17782979" author="hugo.hirsch" created="Sun, 5 Nov 2023 13:12:31 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=nielsbasjes&quot; class=&quot;user-hover&quot; rel=&quot;nielsbasjes&quot;&gt;nielsbasjes&lt;/a&gt; at the moment we do not provide a fully-fledged parsing of gitignore .... thus you run into differences between gitignore and RAT.&lt;br/&gt;
Patches are welcome if you see how a complete parsing can be enabled easily.&lt;/p&gt;

&lt;p&gt;(Other SCM have a different management of ignored files, therefore the current implementation is so naive)&lt;/p&gt;</comment>
                            <comment id="17789625" author="nielsbasjes" created="Sat, 25 Nov 2023 08:31:28 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=pottlinger&quot; class=&quot;user-hover&quot; rel=&quot;pottlinger&quot;&gt;pottlinger&lt;/a&gt; Please have a look at the provided pull request. I&apos;ve added a fully-fledged parsing of gitignore which also handles all usages (including having multiple gitignore files in subdirectories) and edge cases I&apos;m aware of.&lt;/p&gt;</comment>
                            <comment id="17793253" author="jira-bot" created="Tue, 5 Dec 2023 12:23:53 +0000"  >&lt;p&gt;Commit ddb409a8d783518ac58c98e5b57a7b8b50083aa0 in creadur-rat&apos;s branch refs/heads/master from Niels Basjes&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=ddb409a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=ddb409a8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-335&quot; title=&quot;Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-335&quot;&gt;&lt;del&gt;RAT-335&lt;/del&gt;&lt;/a&gt;: Improve the parsing of gitignore files.&lt;/p&gt;</comment>
                            <comment id="17793254" author="jira-bot" created="Tue, 5 Dec 2023 12:23:53 +0000"  >&lt;p&gt;Commit 4286326b8df4da4dc1b52a43327b62ee5e5c1b63 in creadur-rat&apos;s branch refs/heads/master from P. Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=4286326b&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=4286326b&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge pull request #167 from nielsbasjes/&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-335&quot; title=&quot;Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-335&quot;&gt;&lt;del&gt;RAT-335&lt;/del&gt;&lt;/a&gt;-GitIgnore&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-335&quot; title=&quot;Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-335&quot;&gt;&lt;del&gt;RAT-335&lt;/del&gt;&lt;/a&gt;: Improve the parsing of gitignore files.&lt;/p&gt;</comment>
                            <comment id="17793261" author="jira-bot" created="Tue, 5 Dec 2023 12:36:27 +0000"  >&lt;p&gt;Commit 482767c8d847370f5b11e58cf2383bed64a7476c in creadur-rat&apos;s branch refs/heads/master from Philipp Ottlinger&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=482767c8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=482767c8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-335&quot; title=&quot;Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-335&quot;&gt;&lt;del&gt;RAT-335&lt;/del&gt;&lt;/a&gt;: Add changelog for new .gitignore parsing in RAT&lt;/p&gt;</comment>
                            <comment id="17793264" author="hugo.hirsch" created="Tue, 5 Dec 2023 12:39:24 +0000"  >&lt;p&gt;Thanks again!&lt;/p&gt;</comment>
                            <comment id="17903862" author="claudenw" created="Sun, 8 Dec 2024 09:38:27 +0000"  >&lt;p&gt;After migrating gitignore processing to core it fails to pass the integration checks for &lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-335&quot; title=&quot;Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-335&quot;&gt;&lt;del&gt;RAT-335&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;The processing of the gitignore requires that all .gitignore files be detected and that the deepest levels be checked first.&#160; With matching ignore/include being returned immediately and non matching continue to process up the levels.&#160; Much like a depth first traversal of a tree.&lt;/p&gt;

&lt;p&gt;This is a regression in the original code.&lt;/p&gt;</comment>
                            <comment id="17905056" author="jira-bot" created="Thu, 12 Dec 2024 08:23:48 +0000"  >&lt;p&gt;Commit 1924ac55d5baa179921ff9a7b3927abc3812fe81 in creadur-rat&apos;s branch refs/heads/master from Claude Warren&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=1924ac55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=1924ac55&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;adjusted testing to account for &lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-335&quot; title=&quot;Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-335&quot;&gt;&lt;del&gt;RAT-335&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-362&quot; title=&quot;plugin: .gitignore not correctly applied - bugfix in underlying gitignore-reader library&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-362&quot;&gt;&lt;del&gt;RAT-362&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17905109" author="jira-bot" created="Thu, 12 Dec 2024 11:07:43 +0000"  >&lt;p&gt;Commit 1924ac55d5baa179921ff9a7b3927abc3812fe81 in creadur-rat&apos;s branch refs/heads/feature/&lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-397&quot; title=&quot;Migrate webpage to newer site-plugin/compatible skins&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-397&quot;&gt;&lt;del&gt;RAT-397&lt;/del&gt;&lt;/a&gt; from Claude Warren&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=1924ac55&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=creadur-rat.git;h=1924ac55&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;adjusted testing to account for &lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-335&quot; title=&quot;Patterns in .gitignore are interpreted incorrectly / enhance gitignore parsing to properly work recursively&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-335&quot;&gt;&lt;del&gt;RAT-335&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/RAT-362&quot; title=&quot;plugin: .gitignore not correctly applied - bugfix in underlying gitignore-reader library&quot; class=&quot;issue-link&quot; data-issue-key=&quot;RAT-362&quot;&gt;&lt;del&gt;RAT-362&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="18019651" author="claudenw" created="Thu, 11 Sep 2025 15:43:46 +0000"  >&lt;p&gt;Resolved with extensive testing and earlier corrective action.&lt;/p&gt;</comment>
                            <comment id="18028691" author="hugo.hirsch" created="Thu, 9 Oct 2025 10:29:43 +0000"  >&lt;p&gt;Prepare for release of 0.17 and close resolved issues properly.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310560">
                    <name>Problem/Incident</name>
                                            <outwardlinks description="causes">
                                        <issuelink>
            <issuekey id="13564484">RAT-347</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13619079">RAT-476</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            4 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1let4:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>