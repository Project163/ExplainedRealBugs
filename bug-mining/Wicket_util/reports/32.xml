<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:04 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3773] Onclick Script displayed as Link Text</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3773</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Wicket changes an anchor that has an onclick attribute in a way that breaks it:&lt;/p&gt;

&lt;p&gt;&amp;lt;a href=&quot;google.com&quot; onclick=&quot;if(history.length &amp;gt; 1)&lt;/p&gt;
{history.back();return false;}else{return true;}&quot;&amp;gt;Back to Google&amp;lt;/a&amp;gt;&lt;br/&gt;
becomes:&lt;br/&gt;
&amp;lt;a href=&quot;google.com&quot; onclick=&quot;&quot; if=&quot;&quot; history.length=&quot;&quot;&amp;gt; 1){history.back();return false;}
&lt;p&gt;else&lt;/p&gt;
{return true;}
&lt;p&gt;&quot;&amp;gt;Back to Google&amp;lt;/a&amp;gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12509341">WICKET-3773</key>
            <summary>Onclick Script displayed as Link Text</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="5" iconUrl="https://issues.apache.org/jira/images/icons/priorities/trivial.svg">Trivial</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="ivaynberg">Igor Vaynberg</assignee>
                                    <reporter username="bht@actrix.gen.nz">bernard</reporter>
                        <labels>
                    </labels>
                <created>Mon, 6 Jun 2011 09:35:41 +0000</created>
                <updated>Sat, 17 Sep 2011 18:22:30 +0000</updated>
                            <resolved>Sat, 17 Sep 2011 18:22:30 +0000</resolved>
                                    <version>1.4.17</version>
                                    <fixVersion>1.5.1</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="13044760" author="bht@actrix.gen.nz" created="Mon, 6 Jun 2011 09:38:48 +0000"  >&lt;p&gt;Quick start&lt;/p&gt;</comment>
                            <comment id="13044766" author="mgrigorov" created="Mon, 6 Jun 2011 09:57:17 +0000"  >&lt;p&gt;Wicket needs to &quot;relativize&quot; all relative links so they keep work in proxy enviroment.&lt;br/&gt;
Since your href is relative (href=&quot;google.com&quot;) it is confused that it should relativize it.&lt;br/&gt;
Use href=&quot;http://google.com&quot; and everything is working again.&lt;/p&gt;</comment>
                            <comment id="13044773" author="bht@actrix.gen.nz" created="Mon, 6 Jun 2011 10:18:27 +0000"  >&lt;p&gt;I get this in different scenarios, even with wicket links such as:&lt;/p&gt;

&lt;p&gt;&amp;lt;h2&amp;gt;&amp;lt;a wicket:id=&quot;backToListItem&quot; onclick=&quot;if(history.length &amp;gt; 0)&lt;/p&gt;
{history.back();return false;}else{return true;}&quot;&amp;gt;Back&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;&lt;br/&gt;
&lt;br/&gt;
which renders as:&lt;br/&gt;
&lt;br/&gt;
&amp;lt;h2&amp;gt;&amp;lt;a onclick=&quot;&quot; if=&quot;&quot; history.length=&quot;&quot; href=&quot;?wicket:interface=:3:backToListItem::ILinkListener::&quot;&amp;gt; 0){history.back();return false;}
&lt;p&gt;else&lt;/p&gt;
{return true;}
&lt;p&gt;&quot;&amp;gt;Back&amp;lt;/a&amp;gt;&amp;lt;/h2&amp;gt;&lt;/p&gt;

&lt;p&gt;I can&apos;t see a difference, and I don&apos;t know what confuses Wicket. Would it be possible to get Wicket to not get confused?&lt;/p&gt;</comment>
                            <comment id="13044782" author="mgrigorov" created="Mon, 6 Jun 2011 10:58:26 +0000"  >&lt;p&gt;That&apos;s why I didn&apos;t close the ticket &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
Definitely there is something wrong producing such kind of html &quot;attributes&quot;.&lt;/p&gt;</comment>
                            <comment id="13044785" author="mgrigorov" created="Mon, 6 Jun 2011 11:12:03 +0000"  >&lt;p&gt;The problem is the &quot;broken attributes&quot; is that you use &apos;&amp;gt;&apos; in the attribute value.&lt;br/&gt;
Replacing it with &amp;gt; solves the problem.&lt;/p&gt;

&lt;p&gt;Please provide a quickstart that demonstrates such invalid attribute value produced by Wicket and I&apos;ll reopen the ticket for you.&lt;/p&gt;</comment>
                            <comment id="13044934" author="bitstorm" created="Mon, 6 Jun 2011 16:10:40 +0000"  >&lt;p&gt;The problem should be in class XmlPullParser which &quot;blindly&quot; searches for closing tag &apos;&amp;lt;&apos; without checking if this tag is inside a tag attribute (like onclick=&quot;...&quot;).&lt;/p&gt;</comment>
                            <comment id="13044992" author="bht@actrix.gen.nz" created="Mon, 6 Jun 2011 18:13:16 +0000"  >&lt;p&gt;Thanks for pointing this out. Sure this will happen again. But is it worth fixing this from the performance perspective? Will a better parser be faster?&lt;/p&gt;</comment>
                            <comment id="13045011" author="ivaynberg" created="Mon, 6 Jun 2011 18:33:04 +0000"  >&lt;p&gt;does the xml spec require &amp;gt; and &amp;lt; to be escaped inside a quoted attribute value?&lt;/p&gt;</comment>
                            <comment id="13045023" author="akiraly" created="Mon, 6 Jun 2011 18:50:19 +0000"  >&lt;p&gt;&amp;gt; is a valid character in an xml attribute value while &amp;lt; is not (needs to be escaped): &lt;a href=&quot;http://www.w3.org/TR/xml/#NT-AttValue&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.w3.org/TR/xml/#NT-AttValue&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13045040" author="ivaynberg" created="Mon, 6 Jun 2011 19:20:49 +0000"  >&lt;p&gt;in 1.4 we should add a warning when encountering this in raw markup, while in 1.5 we should try to escape automatically&lt;/p&gt;</comment>
                            <comment id="13045330" author="mgrigorov" created="Tue, 7 Jun 2011 09:11:44 +0000"  >&lt;p&gt;Here is a patch that solves the problem for this ticket but breaks 4 other tests.&lt;/p&gt;

&lt;p&gt;The problem is that an attribute value can have escaped quotes which will break the calculations.&lt;br/&gt;
E.g. &lt;br/&gt;
&quot;&amp;lt;a href=&apos;b &amp;gt; a&apos;&amp;gt;&quot; will be parsed OK, but &quot;&amp;lt;a href=&apos;b \&apos; &amp;gt; a&apos;&amp;gt;&quot; will fail.&lt;br/&gt;
Have fun!&lt;/p&gt;</comment>
                            <comment id="13045331" author="mgrigorov" created="Tue, 7 Jun 2011 09:12:50 +0000"  >&lt;p&gt;I think there is no need to log warnings or escape the value. If the parser can properly parse it then there is no need to do anything else.&lt;/p&gt;</comment>
                            <comment id="13045335" author="bht@actrix.gen.nz" created="Tue, 7 Jun 2011 09:23:59 +0000"  >&lt;p&gt;I am not saying you shouldn&apos;t have fun, but I start to think I shouldn&apos;t have reported this &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13046769" author="mgrigorov" created="Thu, 9 Jun 2011 19:37:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://github.com/jhy/jsoup/blob/master/src/test/java/org/jsoup/parser/ParserTest.java#L34&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/jhy/jsoup/blob/master/src/test/java/org/jsoup/parser/ParserTest.java#L34&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="13080809" author="mgrigorov" created="Mon, 8 Aug 2011 08:19:00 +0000"  >&lt;p&gt;Take into account the patch in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3951&quot; title=&quot;AjaxFallbackButton deteriorates &amp;quot;&amp;gt;&amp;quot; in value attribute.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3951&quot;&gt;&lt;del&gt;WICKET-3951&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="13080927" author="bitstorm" created="Mon, 8 Aug 2011 13:06:36 +0000"  >&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;in order evaluate patch from &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-3951&quot; title=&quot;AjaxFallbackButton deteriorates &amp;quot;&amp;gt;&amp;quot; in value attribute.&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-3951&quot;&gt;&lt;del&gt;WICKET-3951&lt;/del&gt;&lt;/a&gt; more easily, I moved code to FullyBufferedReader class and I created a test case for this class with escaped quotes.&lt;/p&gt;</comment>
                            <comment id="13080935" author="bitstorm" created="Mon, 8 Aug 2011 13:16:53 +0000"  >&lt;p&gt;I&apos;ve attached the new patch (valueAttributeCharsWithTest.txt) here...&lt;/p&gt;</comment>
                            <comment id="13081608" author="bitstorm" created="Tue, 9 Aug 2011 13:14:57 +0000"  >&lt;p&gt;I&apos;ve improved code and test case. The cumulative patch &apos;cumulativePatch.txt&apos; substitute the previous patch I&apos;ve attached.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="12518127">WICKET-3951</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12481553" name="Quickstart.zip" size="7254" author="bht@actrix.gen.nz" created="Mon, 6 Jun 2011 09:38:48 +0000"/>
                            <attachment id="12481673" name="WICKET-3773.patch" size="6928" author="mgrigorov" created="Tue, 7 Jun 2011 09:11:44 +0000"/>
                            <attachment id="12489841" name="cumulativePatch.txt" size="7511" author="bitstorm" created="Tue, 9 Aug 2011 13:15:24 +0000"/>
                            <attachment id="12489683" name="valueAttributeCharsWithTest.txt" size="4796" author="bitstorm" created="Mon, 8 Aug 2011 13:07:04 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>60316</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            14 years, 15 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ka2v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116450</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>