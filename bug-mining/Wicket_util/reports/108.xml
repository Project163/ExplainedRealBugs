<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-7072] JUnit code in /src/main/java breaks JPMS support in Eclipse IDE</title>
                <link>https://issues.apache.org/jira/browse/WICKET-7072</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;In Wicket 10, the wicket-core and wicket-util jars contain JUnit-related code, see class list below.&lt;/p&gt;

&lt;p&gt;The problem:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;When creating a new modular (JPMS) maven project by adding __ just &lt;em&gt;org.apache.wicket.commons.fileupload&lt;/em&gt; (&lt;em&gt;not containing&lt;/em&gt; JUnit code) in &lt;em&gt;module-info&lt;/em&gt;, projects run fine in Eclipse IDE (2023-06). I supplied a quickstarter at &lt;a href=&quot;https://github.com/gluser1357/jerseyissues/tree/main-without-junit-code&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gluser1357/jerseyissues/tree/main-without-junit-code&lt;/a&gt;, see readme.txt.&lt;/li&gt;
	&lt;li&gt;In contrast, when creating a new modular project by adding &lt;em&gt;org.apache.wicket.util&lt;/em&gt;&quot; (&lt;em&gt;containing&lt;/em&gt; JUnit code), Eclipse fails in different ways, see wicket quickstarter at &lt;a href=&quot;https://github.com/gluser1357/jerseyissues/tree/main-with-junit-code-error&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gluser1357/jerseyissues/tree/main-with-junit-code-error&lt;/a&gt;, see readme.txt.
	&lt;ul&gt;
		&lt;li&gt;If JUnit is kept with usual &lt;em&gt;&amp;lt;scope&amp;gt;test&amp;lt;scope&amp;gt;&lt;/em&gt; (pom.xml) and not added via &lt;em&gt;requires org.junit.jupiter.api&lt;/em&gt; in module-info.java, one of the following errors occur when running code (see readme.txt for more details):
		&lt;ul&gt;
			&lt;li&gt;&lt;em&gt;java.lang.module.FindException: Module org.junit.jupiter.api not found, required by org.apache.wicket.util&lt;/em&gt;&lt;/li&gt;
			&lt;li&gt;&lt;em&gt;java.lang.Error: Unresolved compilation problem: &quot;The type org.junit.jupiter.api.Test is not accessible&quot;&lt;/em&gt;&lt;/li&gt;
			&lt;li&gt;&lt;em&gt;java.lang.IllegalAccessError: class org.junit.platform.launcher.core.ServiceLoaderRegistry (in unnamed module @0x5f341870) cannot access class org.junit.platform.commons.logging.LoggerFactory (in module org.junit.platform.commons) because module org.junit.platform.commons does not export org.junit.platform.commons.logging to unnamed module @0x5f341870&lt;/em&gt;&#160;&#160;&#160;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
		&lt;li&gt;After correcting the missing module and dependency by removing &lt;em&gt;&amp;lt;scope&amp;gt;test&amp;lt;scope&amp;gt;&lt;/em&gt; (pom.xml) and adding a &lt;em&gt;requires org.junit.jupiter.api&lt;/em&gt; in module-info.java (which is, as far as I know, actually untypical), own code in &lt;em&gt;/src/test/java&lt;/em&gt; and &lt;em&gt;/src/main/java&lt;/em&gt; runs now, but own JUnit tests can still not be executed via &quot;Run As JUnit Test&quot; in Eclipse because of
		&lt;ul&gt;
			&lt;li&gt;&lt;em&gt;java.lang.IllegalAccessError: class org.junit.platform.launcher.core.ServiceLoaderRegistry (in unnamed module @0x5f341870) cannot access class org.junit.platform.commons.logging.LoggerFactory (in module org.junit.platform.commons) because module org.junit.platform.commons does not export org.junit.platform.commons.logging to unnamed module @0x5f341870&lt;/em&gt;&#160;&#160;&#160;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In my opinion, the JUnit-related code below shouldn&apos;t be contained in &lt;em&gt;/src/main/java&lt;/em&gt; which is a) quite untypical and b) results in problems of common IDEs like Eclipse.&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Would it be possible to&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;b&gt;move the related Wicket classes (see list below) out of &lt;em&gt;/src/main/java&lt;/em&gt;, e. g. to &lt;em&gt;/src/test/java&lt;/em&gt; and&lt;/b&gt;&lt;/li&gt;
	&lt;li&gt;&lt;b&gt;remove &lt;em&gt;requires org.junit.jupiter.api&lt;/em&gt; from both module-info?&lt;/b&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This would avoid these problems in Eclipse IDE for JPMS-based projects that want to integrate Wicket.&lt;/p&gt;

&lt;p&gt;=====&lt;/p&gt;

&lt;p&gt;The relevant classes are:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;in wicket-util:
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-util/src/main/java/org/apache/wicket/util/license/ApacheLicenseHeaderTestCase.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-util/src/main/java/org/apache/wicket/util/license/ApacheLicenseHeaderTestCase.java&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-util/src/main/java/org/apache/wicket/util/markup/xhtml/WellFormedXmlTestCase.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-util/src/main/java/org/apache/wicket/util/markup/xhtml/WellFormedXmlTestCase.java&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;in wicket-core:
	&lt;ul&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/BaseWicketTester.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/BaseWicketTester.java&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/DiffUtil.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/DiffUtil.java&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/FormTester.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/FormTester.java&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTestCase.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTestCase.java&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTester.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTester.java&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTesterExtension.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTesterExtension.java&lt;/a&gt;&lt;/li&gt;
		&lt;li&gt;&lt;a href=&quot;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTesterHelper.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/rel/wicket-10.0.0-M1/wicket-core/src/main/java/org/apache/wicket/util/tester/WicketTesterHelper.java&lt;/a&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13550557">WICKET-7072</key>
            <summary>JUnit code in /src/main/java breaks JPMS support in Eclipse IDE</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="gluser1357">Sam Peters</reporter>
                        <labels>
                    </labels>
                <created>Wed, 13 Sep 2023 15:56:11 +0000</created>
                <updated>Tue, 23 Jan 2024 09:21:42 +0000</updated>
                            <resolved>Thu, 12 Oct 2023 12:31:41 +0000</resolved>
                                    <version>10.0.0-M1</version>
                                    <fixVersion>10.0.0-M2</fixVersion>
                                    <component>wicket-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>7</watches>
                                                                                                                <comments>
                            <comment id="17765576" author="mgrigorov" created="Fri, 15 Sep 2023 11:36:10 +0000"  >&lt;p&gt;I am not a user of JSPM/OSGi (I find them more problematic than helping) but I wonder why only Eclipse users complain about this.&lt;/p&gt;

&lt;p&gt;I haven&apos;t have such kind of problems in Intellij Idea and/or Maven...&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Moving these classes in a new Maven module will lead to big refactoring of the unit tests in the Wicket modules because they are used almost everywhere.&lt;/p&gt;

&lt;p&gt;Moving the classes in src/test is not nice because then the user applications will have to depend on the test-jar and this will bring all Wicket&apos;s unit tests for no need.&lt;/p&gt;

&lt;p&gt;I wonder whether we can mark &quot;requires org.junit.jupiter.api;&quot; as &quot;provided&quot; as we do for the servlet-api (&quot; requires static jakarta.servlet;&quot;), i.e. &quot;static&quot;.&lt;/p&gt;</comment>
                            <comment id="17765616" author="JIRAUSER302119" created="Fri, 15 Sep 2023 12:52:41 +0000"  >&lt;p&gt;Thank you for your feedback and the link to &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7019&quot; title=&quot;[Not an Issue] Remove Junit Jupiter from module path (JPMS)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7019&quot;&gt;&lt;del&gt;WICKET-7019&lt;/del&gt;&lt;/a&gt;. I&apos;ll try the workaround for surefire suggested there.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;requires static org.junit.jupiter.api;&lt;/em&gt; sounds also like a feasable approach to me. Could you eventually supply the both adapted .jars so I could rapidly test it, or shall I build it myself?&lt;/p&gt;

&lt;p&gt;Concerning the approach of just moving the classes to &lt;em&gt;src/test/java&lt;/em&gt; (staying in the same project as the are): I wonder how user applications use these classes outside a testing context? (Within a testing context JUnit would be typically available). Could you please elaborate this a bit?&lt;/p&gt;</comment>
                            <comment id="17765623" author="mgrigorov" created="Fri, 15 Sep 2023 13:02:54 +0000"  >&lt;blockquote&gt;&lt;p&gt;Concerning the approach of just moving the classes to &lt;em&gt;src/test/java&lt;/em&gt; (staying in the same project as the are): I wonder how user applications use these classes outside a testing context? (Within a testing context JUnit would be typically available). Could you please elaborate this a bit?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Users add dependency to wicket-core:compile and junit:test. Since :compile is visible in the tests they can use WicketTester, FormTester, etc. in their test classes.&lt;/p&gt;

&lt;p&gt;If we move those classes to wicket-core/src/test then Wicket will have to publish the test jar as well to Maven Central and the users will have to add dependency to wicket-core:test-jar:test. But then all Wicket&apos;s unit tests will be available in the test classpath of the application ...&lt;/p&gt;</comment>
                            <comment id="17765684" author="JIRAUSER302119" created="Fri, 15 Sep 2023 15:00:42 +0000"  >&lt;p&gt;Thank you very much for your explaination. I see that moving the classes in question from &lt;em&gt;/src/main/java&lt;/em&gt; to &lt;em&gt;/src/test/java&lt;/em&gt; would result in a separate .jar to allow its further usage in user&apos;s test classes (with scope :test).&lt;/p&gt;

&lt;p&gt;I still try to understand your objection that all unit tests would then be available in the classpath (and thus as unit tests). As I can see, only two of the classes (namely ApacheLicenseHeaderTestCase.java and WellFormedXmlTestCase.java, both from wicket-util) contain annotations like @Test and @Before. All other classes, inclusive WicketTester, do not (they only call assert() or similar stuff within their methods and won&apos;t be executed by JUnit if I&apos;m not wrong). Maybe one could consider to remove the method-based annotations like @Test from these two wicket classes and advice the users who are using them to add them in their own test classes (which is, in my opinion, the normal way of doing)? Maybe it would be a quite good point in time for introducing it since release 10 is still in progress, I&apos;m not sure...&lt;/p&gt;

&lt;p&gt;Nevertheless, I&apos;m curious if the required static approach would work as well.&lt;/p&gt;</comment>
                            <comment id="17765695" author="solomax" created="Fri, 15 Sep 2023 15:25:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;I wonder why only Eclipse users complain about this.&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;VSCode also reports 2k+ error after opening Wicket &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17766270" author="JIRAUSER302119" created="Mon, 18 Sep 2023 08:24:28 +0000"  >&lt;p&gt;Update: The described errors remain even in newest Eclipse IDE 2023-09 and with adding &amp;lt;&lt;em&gt;useModulePath&amp;gt;true&amp;lt;/useModulePath&amp;gt;&lt;/em&gt; f&#252;r &lt;em&gt;maven-surefire-plugin&lt;/em&gt; configiguration in &lt;em&gt;pom.xml&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;Currently, this issue effectively blocks our ongoing code refactoring towards JPMS. The two discussed alternatives (&lt;em&gt;requires static&lt;/em&gt; or moving test code to its own lib in the way suggested above) could still solve the problem. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;, if something is ready to test I&apos;ll do so in Eclipse IDE &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17766278" author="mgrigorov" created="Mon, 18 Sep 2023 08:42:27 +0000"  >&lt;p&gt;Fork Wicket and experiment away! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17766279" author="mgrigorov" created="Mon, 18 Sep 2023 08:43:07 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ahuber&quot; class=&quot;user-hover&quot; rel=&quot;ahuber&quot;&gt;ahuber&lt;/a&gt; You might be interested in this discussion.&lt;/p&gt;</comment>
                            <comment id="17766286" author="hobrom" created="Mon, 18 Sep 2023 08:59:56 +0000"  >&lt;blockquote&gt;&lt;p&gt;with adding &amp;lt;&lt;em&gt;useModulePath&amp;gt;true&amp;lt;/useModulePath&amp;gt;&lt;/em&gt; f&#252;r &lt;em&gt;maven-surefire-plugin&lt;/em&gt; configiguration in &lt;em&gt;pom.xml&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Is this a typo? should be&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;useModulePath&amp;gt;&lt;span class=&quot;code-keyword&quot;&gt;false&lt;/span&gt;&amp;lt;/useModulePath&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17766353" author="JIRAUSER302119" created="Mon, 18 Sep 2023 12:03:09 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=hobrom&quot; class=&quot;user-hover&quot; rel=&quot;hobrom&quot;&gt;hobrom&lt;/a&gt;: Yes, it was a typo and should be &quot;false&quot;. But the value did not make a difference for me, the described error remains. I wonder if Eclipse actually cares about the config of the surefire plugin in pom.xml?&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;:&#160;Ok, I cloned wicket, imported &lt;em&gt;wicket-util&lt;/em&gt; as project in Eclipse, added the &lt;em&gt;static&lt;/em&gt; keyword to &lt;em&gt;org.junit.jupiter.api in&lt;/em&gt; wicket-util&apos;s module-info, linked the code in my project and ran it. Still the same error. That is, &lt;em&gt;requires static&lt;/em&gt; does not seem to solve the issue for me.&lt;/p&gt;

&lt;p&gt;The problem seems really to be with putting JUnit code in &lt;em&gt;/src/main/java.&lt;/em&gt; Which at least confuses Eclipse IDE.&lt;/p&gt;

&lt;p&gt;Thus, the remaining approach would be, in my eyes, to separate JUnit code from &lt;em&gt;/src/main/java&lt;/em&gt;. This is basically the idea of &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7019&quot; title=&quot;[Not an Issue] Remove Junit Jupiter from module path (JPMS)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7019&quot;&gt;&lt;del&gt;WICKET-7019&lt;/del&gt;&lt;/a&gt;, but unfortunately, the fork linked there is not available anymore. I tried a restart and would like to throw in some ideas to make refactoring simple for users:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;separation of wicket-core:
	&lt;ul&gt;
		&lt;li&gt;create an new lib, e. g. wicket-core-test&lt;/li&gt;
		&lt;li&gt;move the complete package &lt;em&gt;org.apache.wicket.util.tester&lt;/em&gt; from wicket-core to wicket-core-test (both for src/main/java and src/test/java). A few test classes must be also copied/moved from &lt;em&gt;src/test/java/org/apache/wicket&lt;/em&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;separation of wicket-util:
	&lt;ul&gt;
		&lt;li&gt;create an new lib, e. g. wicket-util-test&lt;/li&gt;
		&lt;li&gt;move the complete packages &lt;em&gt;org.apache.wicket.util.license&lt;/em&gt; and &lt;em&gt;org.apache.wicket.util.markup.xhtml&lt;/em&gt; from wicket-util to wicket-util-test (both for src/main/java and src/test/java).&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;adaptions in wicket-core and wicket-util:
	&lt;ul&gt;
		&lt;li&gt;remove (untypical) &lt;em&gt;requires&lt;/em&gt; &lt;em&gt;org.junit.jupiter.api&lt;/em&gt; and change JUnit to (typical) scope &quot;test&quot;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;adaptions in wicket-core-test and wicket-util-test:
	&lt;ul&gt;
		&lt;li&gt;add &lt;em&gt;requires org.junit.jupiter.api&lt;/em&gt; and change JUnit to scope &quot;compile&quot;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With this new setting, projects that requires tester methods (like WicketTester) could now additionally add wicket-core-test and/or wicket-util-test with scope test (no modifications of module-info required). All other projects wont&apos; see any JUnit-related classes in /src/main/java anymore and the issue should be fixed (some local tests confirmed that which corresponds also to &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7019&quot; title=&quot;[Not an Issue] Remove Junit Jupiter from module path (JPMS)&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7019&quot;&gt;&lt;del&gt;WICKET-7019&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Moving complete packages as shown above...&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;seems to be unproblematic since the code moved has no relevant references (in the libraries themselves)&lt;/li&gt;
	&lt;li&gt;package naming clashes are avoided&lt;/li&gt;
	&lt;li&gt;refactoring/renaming packages is not necessary in user&apos;s code since the package names remain.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What do you think?&lt;/p&gt;</comment>
                            <comment id="17766361" author="mgrigorov" created="Mon, 18 Sep 2023 12:30:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;I wonder if Eclipse actually cares about the config of the surefire plugin in pom.xml?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Eclipse + Maven integration is weird! I still cannot comprehend the meaning of org.eclipse.m2e:lifecycle-mapping: &lt;a href=&quot;https://github.com/apache/wicket/blob/fc5410169060fb3d969c54cc06606eb95ed42ea0/pom.xml#L1186C6-L1187C48&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/fc5410169060fb3d969c54cc06606eb95ed42ea0/pom.xml#L1186C6-L1187C48&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;create an new lib, e. g. wicket-core-test&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;+1! But this could be done only in master branch, i.e. Wicket 10.x&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;A few test classes must be also copied/moved from &lt;em&gt;src/test/java/org/apache/wicket&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Probably not a few!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;create an new lib, e. g. wicket-util-test&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No need to do this. Just move the two classes in src/test/java and add dependency to wicket-util:test:test-jar in all other Wicket modules.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17766370" author="JIRAUSER302119" created="Mon, 18 Sep 2023 12:58:07 +0000"  >&lt;p&gt;Hi, thank you!&lt;/p&gt;

&lt;p&gt;master branch would be perfectly fine (we have almost finished migration to Wicket 10!).&lt;/p&gt;

&lt;p&gt;Test classes that needs to be copied/moved from &lt;em&gt;src/test/java/org/apache/wicket&lt;/em&gt; were about 5 classes or so, and compiling was fine, atleast in my tests today.&lt;/p&gt;

&lt;p&gt;Concerning wicket-util: Yes, this makes sense and saves work &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17766389" author="JIRAUSER302119" created="Mon, 18 Sep 2023 13:48:43 +0000"  >&lt;p&gt;&amp;gt; _Eclipse + Maven integration is weird! I still cannot comprehend the meaning of org.eclipse.m2e:lifecycle-mapping: &lt;a href=&quot;https://github.com/apache/wicket/blob/fc5410169060fb3d969c54cc06606eb95ed42ea0/pom.xml#L1186C6-L1187C48_&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/fc5410169060fb3d969c54cc06606eb95ed42ea0/pom.xml#L1186C6-L1187C48_&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I agree. Besides the issue discussed, sporadically we see also other effects in Eclipse (e. g. &lt;em&gt;module xy cannot be resolved&lt;/em&gt; warnings) but one can still working with that. In &lt;a href=&quot;https://bugs.eclipse.org/bugs/show_bug.cgi?id=559601&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://bugs.eclipse.org/bugs/show_bug.cgi?id=559601&lt;/a&gt; there is some interesting discussion on the approach of a second module-info for /src/test/java to overcome issues of testing modular projects, but it is still unclear if and when this may become a standard :/&lt;/p&gt;

&lt;p&gt;Now, apart from that I think that putting all JUnit relevant code &lt;em&gt;only&lt;/em&gt; in /src/test/java is what most users do, and in my opinion it makes the code cleaner.&lt;/p&gt;</comment>
                            <comment id="17766545" author="mgrigorov" created="Mon, 18 Sep 2023 18:28:29 +0000"  >&lt;blockquote&gt;&lt;p&gt;putting all JUnit relevant code &lt;em&gt;only&lt;/em&gt; in /src/test/java is what most users do&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;This is true for the applications.&lt;/p&gt;

&lt;p&gt;Wicket provided WicketTester in wicket-core for more than 15 years and before JSPM no one ever complained that JUnit was used in src/main/java because Maven easily hide it behind &quot;&amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&quot; . One needs to provide JUnit in the (test) classpath to be able to use WicketTester and Co.&lt;/p&gt;

&lt;p&gt;Since JSPM you are the second person having troubles with it...&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;IMO it would be better to create a PR for the wicket-util classes. And then a second one for the wicket-core-test changes.&lt;/p&gt;</comment>
                            <comment id="17766682" author="JIRAUSER302119" created="Tue, 19 Sep 2023 07:44:31 +0000"  >&lt;p&gt;Ok, I agree. Then I&apos;ll try to fork master and create the two PRs. Is there anything else important to take care of (it&apos;s the first time I&apos;m contributing to Wicket)?&lt;/p&gt;

&lt;p&gt;I also don&apos;t know why IDEs like Eclipse and VSCode have problems with JPMS and JUnit testing code in /src/main/java. But besides putting JUnit relevant code in &lt;em&gt;/src/test/java&lt;/em&gt;, putting JUnit stuff in &lt;em&gt;/src/main/java&lt;/em&gt; within libs (like wicket-core-test) that are explicitely designed to use as test dependency (test scope) is IMO a good way to seperate testing from production code and and an alternative of &amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;. &lt;/p&gt;

&lt;p&gt;Just as sidemark - yesterday one edge case came to my mind: Testing wicket-core-test from Eclipse via &lt;em&gt;Run As JUnit Test&lt;/em&gt;: Due to the presence of JUnit relevant code in &lt;em&gt;/src/main/java&lt;/em&gt; in this lib we&apos;d likely run into the same issue &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;. But IMO this should not be relevant for users just writing their own Wicket applications.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17766687" author="mgrigorov" created="Tue, 19 Sep 2023 08:04:39 +0000"  >&lt;blockquote&gt;&lt;p&gt;Due to the presence of JUnit relevant code in &lt;em&gt;/src/main/java&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;em&gt;There is nothing special in JUnit. It is yet another Java library that could be used in any scope (main or test or ...).&lt;/em&gt; &lt;/p&gt;

&lt;p&gt;&lt;em&gt;Seeing it mostly in src/test/java is just a habit.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;The real problem is in JPMS - it requires that all the module&apos;s tests are extracted from src/test to a separate module. Read &lt;a href=&quot;https://www.baeldung.com/java-modularity-unit-testing&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://www.baeldung.com/java-modularity-unit-testing&lt;/a&gt; for more information.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;It was the same with OSGi - it is opinionated and requires following its special patterns...&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17766721" author="JIRAUSER302119" created="Tue, 19 Sep 2023 09:44:46 +0000"  >&lt;blockquote&gt;&lt;p&gt;create an new lib, e. g. wicket-util-test&lt;br/&gt;
No need to do this. Just move the two classes in src/test/java and add dependency to wicket-util:test:test-jar in all other Wicket modules.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;While refactoring wicket-util for the first PR, a problem occurs with ApacheLicenseHeaderTestCase: If I move this class from src/main/java (wicket-util) to src/test/java (wicket-util), other modules that want to extend this class won&apos;t see that anymore. To solve this problem I could reuse the pattern used e. g. for WellFormedXmlTestCase: In this class (in /src/main/java) are no JUnit annotations. They are just added in each extending class:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;WellFormedXmlTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; WellFormedXmlTestCase
{
	@Test
	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void markupFiles()
	{
		&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.markupFiles();
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;For the ApacheLicenseHeaderTest (48 occurencies!) it would mean that the following two methods before() and licenseHeaders() must be repeatedly added (after marking them non-final and protected in ApacheLicenseHeaderTestCase), adding some boilerplate code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;ApacheLicenceHeaderTest &lt;span class=&quot;code-keyword&quot;&gt;extends&lt;/span&gt; ApacheLicenseHeaderTestCase
{
	...

	@BeforeEach
	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; void before()
	{
		&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.before();
	}

	@Test
	@Override
	&lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; void licenseHeaders()
	{
		&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;.licenseHeaders();
	}
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Alternatively, I could put ApacheLicenseHeaderTestCase to wicket-core-test&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Is there a better alternative?&lt;/p&gt;</comment>
                            <comment id="17766744" author="jira-bot" created="Tue, 19 Sep 2023 10:49:18 +0000"  >&lt;p&gt;Commit cee5d19dd5df86e2f08ae4442786b0478b5eab74 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-JUnit-in-main from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=cee5d19dd5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=cee5d19dd5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Move AbstractLicenseHeaderTestCase from wicket-util src/main to src/test&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17766745" author="mgrigorov" created="Tue, 19 Sep 2023 10:49:46 +0000"  >&lt;p&gt;Please check &lt;a href=&quot;https://github.com/apache/wicket/pull/653&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/653&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17766779" author="JIRAUSER302119" created="Tue, 19 Sep 2023 12:26:09 +0000"  >&lt;p&gt;Wow, I haven&apos;t heard about the &lt;em&gt;test-jar&lt;/em&gt; type. I still try to understand. As far as I can observe, classes added as dependency via &lt;em&gt;&amp;lt;type&amp;gt;test-jar&amp;lt;/type&amp;gt;&lt;/em&gt; are available in both main and test code. @Test code contained in these classes won&apos;t be scanned for by JUnit.&lt;/p&gt;

&lt;p&gt;Some points:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Should we use this mechanism (used here for wicket-util) also for wicket-core? (Originally my intention was to build an own wicket-core-test, but wouldn&apos;t the result be the more or less the same as wicket-core with type test-jar?)&lt;/li&gt;
	&lt;li&gt;Should we add &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt; in each of the wicket modules when adding dependencies of type test-jar? I&apos;m afraid otherwise to fall back into the same issue &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; since JUnit related code might be again in the class/modulepath which may cause problems when running tests in Eclipse (I didn&apos;t test that right now). With &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt; we can also keep the test code out from deployed application.&lt;/li&gt;
	&lt;li&gt;Should the test-jar(s) get equivalent entries in Maven Central?&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17766782" author="jira-bot" created="Tue, 19 Sep 2023 12:48:44 +0000"  >&lt;p&gt;Commit 15bc11f044b487700b2a912246f792964b6de232 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-JUnit-in-main from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=15bc11f044&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=15bc11f044&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Make wicket-util:test-jar test scoped&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17766783" author="mgrigorov" created="Tue, 19 Sep 2023 12:50:45 +0000"  >&lt;blockquote&gt;&lt;p&gt;classes added as dependency via &lt;em&gt;&amp;lt;type&amp;gt;test-jar&amp;lt;/type&amp;gt;&lt;/em&gt; are available in both main and test code&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No. That was a bug! Fixed with 15bc11f044&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Should we use this mechanism (used here for wicket-util) also for wicket-core? (Originally my intention was to build an own wicket-core-test, but wouldn&apos;t the result be the more or less the same as wicket-core with type test-jar?)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No. wicket-core&apos;s src/test/java contains the tests and the users&apos; applications don&apos;t need them in their test classpath.&lt;/p&gt;

&lt;p&gt;I did it this way for wicket-util because AbstractLicenseHeaderTestCase and WelformedXmlTest are internal Wicket testing utilities. They are not used by the users&apos; applications.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Should we add &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt; in each of the wicket modules when adding dependencies of type test-jar?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes! Fixed with 15bc11f044&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Should the test-jar(s) get equivalent entries in Maven Central?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;No. wicket-core-test should go to Maven central! Let&apos;s name it wicket-tester !&lt;/p&gt;</comment>
                            <comment id="17766792" author="jira-bot" created="Tue, 19 Sep 2023 13:22:10 +0000"  >&lt;p&gt;Commit 80969ce47e56698cde3b571d7c61a221f7a7e924 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-JUnit-in-main from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=80969ce47e&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=80969ce47e&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Add wicket-util:test-jar as a test dependency to -spring and -velocity&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17766793" author="jira-bot" created="Tue, 19 Sep 2023 13:26:15 +0000"  >&lt;p&gt;Commit b8ec14990fd224e4694b16398baf29606dc6f29f in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-JUnit-in-main from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=b8ec14990f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=b8ec14990f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Add wicket-util:test-jar as a test dependency to -spring and -velocity&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17766797" author="JIRAUSER302119" created="Tue, 19 Sep 2023 13:36:58 +0000"  >&lt;p&gt;Thank you for the clarifications! And good news, my initial project based on wicket-util works now without problems with your branch &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-JUnit-in-main (with the three adaptions coming up applied).&lt;/p&gt;

&lt;p&gt;To finish PR1 (&lt;a href=&quot;https://github.com/apache/wicket/pull/653&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/653&lt;/a&gt;) it is only necessary to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;either remove &lt;em&gt;@Test&lt;/em&gt; annotation in &lt;em&gt;org.apache.wicket.util.markup.xhtml.WellFormedXmlTestCase.java&lt;/em&gt; in &lt;em&gt;/src/main/java&lt;/em&gt; (the annotation is already present in extending classes) OR move the package &lt;em&gt;org.apache.wicket.util.markup.xhtml&lt;/em&gt; as well to &lt;em&gt;/src/test/java&lt;/em&gt;&lt;/li&gt;
	&lt;li&gt;make &lt;em&gt;junit-jupiter-engine &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;&lt;/em&gt; instead of &lt;em&gt;&amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;&lt;/em&gt; and remove &lt;em&gt;&amp;lt;optional&amp;gt;true&amp;lt;/optional&amp;gt;&lt;/em&gt;&lt;/li&gt;
	&lt;li&gt;remove &lt;em&gt;requires org.junit.jupiter.api;&lt;/em&gt; from &lt;em&gt;module-info&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Could you please do this?&lt;/p&gt;

&lt;p&gt;For PR2 (wicket-core), do you want to create it, or should I try (in fork)? If me, what do you think would be better, starting from main or from &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-JUnit-in-main?&lt;/p&gt;</comment>
                            <comment id="17766798" author="jira-bot" created="Tue, 19 Sep 2023 13:37:56 +0000"  >&lt;p&gt;Commit 96937a91715db407d1d5c9866b224fd310b318d1 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-JUnit-in-main from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=96937a9171&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=96937a9171&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Move AbstractLicenseHeaderTestCase from wicket-util src/main to src/test&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17766885" author="jira-bot" created="Tue, 19 Sep 2023 17:12:50 +0000"  >&lt;p&gt;Commit 812f227218d1dc6dc9765af6a7792a3be8b39298 in wicket&apos;s branch refs/heads/master from Martin Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=812f227218&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=812f227218&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Move AbstractLicenseHeaderTestCase from wicket-util src/main to src/test (#654)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Move AbstractLicenseHeaderTestCase from wicket-util src/main to src/test&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Make wicket-util:test-jar test scoped&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Add wicket-util:test-jar as a test dependency to -spring and -velocity&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Move AbstractLicenseHeaderTestCase from wicket-util src/main to src/test&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;Fix the build - JDK 21 has been released&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17766889" author="mgrigorov" created="Tue, 19 Sep 2023 17:16:49 +0000"  >&lt;p&gt;I merged the PR.&lt;/p&gt;

&lt;p&gt;Feel free to proceed with the next tasks!&lt;/p&gt;

&lt;p&gt;Otherwise I can do it when I have time.&lt;/p&gt;</comment>
                            <comment id="17766920" author="JIRAUSER302119" created="Tue, 19 Sep 2023 20:13:39 +0000"  >&lt;p&gt;That&apos;s great, thank you!&lt;/p&gt;

&lt;p&gt;Missing changes for wicket-util (see my latest comment above) see &lt;a href=&quot;https://github.com/apache/wicket/pull/657&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/657&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Changes for wicket-core coming up...&lt;/p&gt;</comment>
                            <comment id="17767026" author="jira-bot" created="Wed, 20 Sep 2023 07:08:08 +0000"  >&lt;p&gt;Commit e8703a79fdd0857d729232555b236ad792126f69 in wicket&apos;s branch refs/heads/master from gluser1357&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=e8703a79fd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=e8703a79fd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; remove junit from wicket-util main (#657)&lt;/p&gt;

&lt;p&gt;Co-authored-by: gluser1357 &amp;lt;gluser1357@users.noreply.github.com&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17767044" author="JIRAUSER302119" created="Wed, 20 Sep 2023 08:21:52 +0000"  >&lt;p&gt;Thank you for merging!&lt;/p&gt;

&lt;p&gt;Now, while trying to build the new wicket-tester lib I stumbled over&lt;/p&gt;

&lt;p&gt;&lt;em&gt;One or more cycles were detected in the build path of project &apos;wicket-core&apos;. The paths towards the cycle and cycle are: -&amp;gt;{wicket-core, wicket-tester}&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;In fact, wicket-core requires wicket-tester (e. g. WicketTester) which requires wicket-core (e. g. WebPage). I tested different scopes already but that didn&apos;t make a difference. I&apos;m stuck on how to resolve this. (Some ideas are here &lt;a href=&quot;https://stackoverflow.com/questions/16468525/how-to-resolve-cyclic-dependency-in-maven,&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/16468525/how-to-resolve-cyclic-dependency-in-maven,&lt;/a&gt; but that seems not that easy...).&lt;/p&gt;

&lt;p&gt;Alternatively I&apos;m trying right now the test-jar approach for wicket-core (optionally with inclusion of only the files copied from /src/main/java) which does not require the extra wicket-tester lib.&lt;/p&gt;</comment>
                            <comment id="17767393" author="mgrigorov" created="Thu, 21 Sep 2023 06:13:13 +0000"  >&lt;p&gt;wicket-core should not depend on wicket-tester.&lt;/p&gt;

&lt;p&gt;Until now WicketTester.java and Co lived in wicket-core, so that it can be used for its tests (wicket-core/src/test/java). It has worked well for 20-ish years &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Now with JPMS some users (you! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;) have issues with JUnit being on the main classpath, err... module-path.&lt;/p&gt;

&lt;p&gt;Now the idea is to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;move WicketTester and Co in wicket-tester module&lt;/li&gt;
	&lt;li&gt;move all tests from wicket-core/src/test/java to wicket-core-tests module that depends on wicket-tester (the dependency to wicket-core will be transitive). wicket-core-tests should not be published to Maven Central.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17767591" author="JIRAUSER302119" created="Thu, 21 Sep 2023 14:35:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;wicket-core should not depend on wicket-tester.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes.&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Now the idea is to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;move WicketTester and Co in wicket-tester module&lt;/li&gt;
	&lt;li&gt;move all tests from wicket-core/src/test/java to wicket-core-tests module that depends on wicket-tester (the dependency to wicket-core will be transitive). wicket-core-tests should not be published to Maven Central.&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;As interim result I want to introduce another solution (which I have already successfully tested): &lt;a href=&quot;https://github.com/apache/wicket/pull/659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/659&lt;/a&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;it solves the initial issue of &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; in Eclipse IDE&lt;/li&gt;
	&lt;li&gt;it separates outstanding JUnit code from /src/main/java&lt;/li&gt;
	&lt;li&gt;it requires no additional libs (wicket-tester, wicket-core-tests)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;For this solution I basically followed your refactoring procedure applied to wicket-util (&lt;a href=&quot;https://github.com/apache/wicket/pull/653&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/653&lt;/a&gt;, &lt;a href=&quot;https://github.com/apache/wicket/pull/657&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/657&lt;/a&gt;)&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;move packages with JUnit code (in particular org/apache/wicket/util/tester/**) from /src/main/java to /src/test/java&lt;/li&gt;
	&lt;li&gt;exclude exports of these packages in module-info&lt;/li&gt;
	&lt;li&gt;remove JUnit module in module-info&lt;/li&gt;
	&lt;li&gt;change JUnit scope from compile to test in pom.xml&lt;/li&gt;
	&lt;li&gt;add test-jar goal in pom.xml of wicket-core (together with an include filter to publish the refactored classes from /src/main/java)&lt;/li&gt;
	&lt;li&gt;add new dependency section in main pom.xml&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;There were also a few further adaptions required that should be reviewed:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;em&gt;wicket-core:&lt;/em&gt; org.apache.wicket.protocol.http.mock.MockHttpSession could be moved in my opionion also to /src/test/java. There is one issue in invalidate() that I couldn&apos;t solve, I think it&apos;s uncritical: attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName())&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;wicket-extensions:&lt;/em&gt; org.apache.wicket.extensions.ajax.markup.html.AjaxLazyLoadPanelTester was moved to /src/test/java&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;wicket-guice:&lt;/em&gt; module-info: added requires org.apache.wicket.request&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;wicket-native-websocket:&lt;/em&gt; org.apache.wicket.protocol.ws.util.tester was moved to /src/test/java, export also excluded on module-info&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;wicket-spring:&lt;/em&gt; jakarta.inject dependency added in pom.xml (otherwise tests didn&apos;t run)&lt;/li&gt;
	&lt;li&gt;wicket-spring: org.apache.wicket.spring.injection.bytebuddy.ParallelInjectionTest: removed the slf4j import and two LOG.debug()&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;wicket-util&lt;/em&gt;: added a filter for test-jar goal to filter the required contents (this is actually optional and can be removed again)&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;wicket-tester:&lt;/em&gt; added as module (this is only experimental for wrapping the upcoming test-jar dependency to just wicket-tester, experiments following, see below)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Running a mvn install of the main project shows no errors when building locally.&lt;/p&gt;

&lt;p&gt;This PR solve the issue &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; (at least for me, and should do so for other developers of Wicket applications using Eclipse). With introduction of test-jar&apos;s, Wicket developers might find this relevant: &lt;a href=&quot;https://github.com/eclipse-m2e/m2e-core/issues/1560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-m2e/m2e-core/issues/1560&lt;/a&gt;. I filed this bug report today.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;b&gt;Further steps:&lt;/b&gt;&lt;/p&gt;

&lt;p&gt;When releasing this PR, developers using WicketTester (or other testers) would need to add wicket-core:jar:test-jar:test, and if required also junit-jupiter-engine:jar:test. E. g.&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependencies&amp;gt;
  &amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.wicket&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;wicket-extensions&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;10.0.0-M2-SNAPSHOT&amp;lt;/version&amp;gt;
  &amp;lt;/dependency&amp;gt;
  &amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.wicket&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;wicket-core&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;10.0.0-M2-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;type&amp;gt;test-jar&amp;lt;/type&amp;gt;
    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
  &amp;lt;/dependency&amp;gt;
  &amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.junit.jupiter&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;junit-jupiter-engine&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;5.10.0&amp;lt;/version&amp;gt;
    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
  &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Unfortunately this setup can&apos;t be simplified by &quot;just&quot; supplying a wrapper module, like wicket-tester:jar wrapping wicket-core:test-jar, since the test-scoped code of wicket-core would not be available (you can try it out in my PR code by changing wicket-core:jar:test-jar to wicket-tester:jar in e. g. wicket-extensions pom.xml).&lt;/p&gt;

&lt;p&gt;I guess, to improve this setup, the idea in your latest post would come into play, see also the &quot;preferred way&quot; described in &lt;a href=&quot;https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://maven.apache.org/plugins/maven-jar-plugin/examples/create-test-jar.html&lt;/a&gt;. Thank you for your idea. In my opinion it would solve the dependency cycle issue, and would require new wicket-tester and wicket-core-tests libs.&lt;/p&gt;

&lt;p&gt;The simplified (and likely more intuitive) setup could then be something like&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&amp;lt;dependencies&amp;gt;
  &amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.wicket&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;wicket-extensions&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;10.0.0-M2-SNAPSHOT&amp;lt;/version&amp;gt;
  &amp;lt;/dependency&amp;gt;
  &amp;lt;dependency&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.wicket&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;wicket-tester&amp;lt;/artifactId&amp;gt;
    &amp;lt;version&amp;gt;10.0.0-M2-SNAPSHOT&amp;lt;/version&amp;gt;
    &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;
  &amp;lt;/dependency&amp;gt;
&amp;lt;/dependencies&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;I look forward for feedback and/or review of my code &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;. In particular if we really need the described setup simplifications.&lt;/p&gt;</comment>
                            <comment id="17767996" author="githubbot" created="Fri, 22 Sep 2023 13:08:20 +0000"  >&lt;p&gt;gluser1357 opened a new pull request, #660:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Here another one (still not a release canditate, see &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;) with wicket tester and core tests libs.&lt;/p&gt;

</comment>
                            <comment id="17767997" author="JIRAUSER302119" created="Fri, 22 Sep 2023 13:08:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;Now the idea is to:&lt;/p&gt;

&lt;p&gt;move WicketTester and Co in wicket-tester module&lt;br/&gt;
move all tests from wicket-core/src/test/java to wicket-core-tests module that depends on wicket-tester (the dependency to wicket-core will be transitive). wicket-core-tests should not be published to Maven Central.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Ok, I finally finished the one you suggested: &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Some remarks:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;The code builds up on &lt;a href=&quot;https://github.com/apache/wicket/pull/659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/659&lt;/a&gt;, so the things mentioned in my latest comment should be reviewed&lt;/li&gt;
	&lt;li&gt;it is sufficient to include wicket-tester in addition to e. g. wicket-extensions:&lt;/li&gt;
&lt;/ul&gt;


&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&#160; &amp;lt;dependencies&amp;gt;
&#160;&#160;&#160; &amp;lt;dependency&amp;gt;
&#160;&#160;&#160;&#160;&#160; &amp;lt;groupId&amp;gt;org.apache.wicket&amp;lt;/groupId&amp;gt;
&#160;&#160;&#160;&#160;&#160; &amp;lt;artifactId&amp;gt;wicket-extensions&amp;lt;/artifactId&amp;gt;
&#160;&#160;&#160;&#160;&#160; &amp;lt;version&amp;gt;10.0.0-M2-SNAPSHOT&amp;lt;/version&amp;gt;
&#160;&#160;&#160; &amp;lt;/dependency&amp;gt;
&#160;&#160;&#160; &amp;lt;dependency&amp;gt;
&#160;&#160;&#160;&#160;&#160; &amp;lt;groupId&amp;gt;org.apache.wicket&amp;lt;/groupId&amp;gt;
&#160;&#160;&#160;&#160;&#160; &amp;lt;artifactId&amp;gt;wicket-tester&amp;lt;/artifactId&amp;gt;
&#160;&#160;&#160;&#160;&#160; &amp;lt;version&amp;gt;10.0.0-M2-SNAPSHOT&amp;lt;/version&amp;gt;
 &#160;&#160;&#160;&#160; &amp;lt;scope&amp;gt;test&amp;lt;/scope&amp;gt;&#160;  &amp;lt;!-- keep out JUinit from main code --&amp;gt;
&#160;&#160;&#160; &amp;lt;/dependency&amp;gt;
  &amp;lt;/dependencies&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;em&gt;wicket-core&lt;/em&gt;
	&lt;ul&gt;
		&lt;li&gt;has no more test code in /src/test/java&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;wicket-tester&lt;/em&gt;
	&lt;ul&gt;
		&lt;li&gt;contains the code from wicket-core (/src/main/java/org/apache/wicket/util/tester)&lt;/li&gt;
		&lt;li&gt;depends on wicket-core&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;wicket-core-tests&lt;/em&gt;
	&lt;ul&gt;
		&lt;li&gt;contains the code from wicket-core (/src/test/java)&lt;/li&gt;
		&lt;li&gt;depends on wicket-tester (and transitively wicket-core)&lt;/li&gt;
		&lt;li&gt;testing wicket-core-tests requires two things (added as comments in pom.xml):
		&lt;ul&gt;
			&lt;li&gt;no module-info may be present to fix &quot;The package org.apache.wicket conflicts with a package accessible from another module&quot;&lt;/li&gt;
			&lt;li&gt;useModulePath must be false in maven-compiler-plugin to fix &quot;Can&apos;t compile test sources when main sources are missing a module descriptor&quot;&lt;br/&gt;
(useModulePath is available in maven-compiler-plugin 3.11+, therefore I needed to change it&apos;s version from 3.10 to 3.11 in main pom.xml)&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;in &lt;em&gt;all other wicket modules that need testers from wicket-tester&lt;/em&gt; (e. g. WicketTester), wicket-core must be additionally added because wicket-tester dependency is only of scope test and wicket-core is thus not added transitively. Otherwise we&apos;d have issues like &quot;module not found: org.apache.wicket.util, ...&quot;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Now, when comparing this solution with the one yesterday, the tester dependency looks more intuitive for application developers. Drawback is the splitting of code from one into three libs.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;: I&apos;d like you to ask for reviewing, testing and making a decision which one should make it into master (as Eclipse developer I hope at least one will make it &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;). Thank you!&lt;/p&gt;</comment>
                            <comment id="17768121" author="JIRAUSER302119" created="Fri, 22 Sep 2023 18:31:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;VSCode also reports 2k+ error after opening Wicket &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=solomax&quot; class=&quot;user-hover&quot; rel=&quot;solomax&quot;&gt;solomax&lt;/a&gt; Could you please check if VSCode still reports problems with one of the two PRs (&lt;a href=&quot;https://github.com/apache/wicket/pull/659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/659&lt;/a&gt;, &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt;)?&lt;/p&gt;

&lt;p&gt;If yes, it would helpful to know what errors are reported. Thanks!&lt;/p&gt;</comment>
                            <comment id="17768479" author="solomax" created="Mon, 25 Sep 2023 03:35:57 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gluser1357&quot; class=&quot;user-hover&quot; rel=&quot;gluser1357&quot;&gt;gluser1357&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Just have checked both branches:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;both have 2k+ problems reported&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Lot&apos;s of:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
	&lt;span class=&quot;code-quote&quot;&gt;&quot;message&quot;&lt;/span&gt;: &lt;span class=&quot;code-quote&quot;&gt;&quot;The type org.apache.wicket.util.license.ApacheLicenseHeaderTestCase is not accessible&quot;&lt;/span&gt;,
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;might be resolved using &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;apache-rat-plugin&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I&apos;ll try to check what can be done (later this week)&lt;/p&gt;</comment>
                            <comment id="17768573" author="JIRAUSER302119" created="Mon, 25 Sep 2023 07:59:42 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=solomax&quot; class=&quot;user-hover&quot; rel=&quot;solomax&quot;&gt;solomax&lt;/a&gt; Thanks for testing! Now, ApacheLicenseHeaderTestCase in wicket-util is made visible to other libs as test-jar, and I guess that VSCode might have the same problem of being unable to resolve test-jar dependencies in your workspace like Eclipse IDE, see &lt;a href=&quot;https://github.com/eclipse-m2e/m2e-core/issues/1560&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/eclipse-m2e/m2e-core/issues/1560&lt;/a&gt;. At least the error message shown in Eclipse is exactly the same: &lt;em&gt;The type org.apache.wicket.util.license.ApacheLicenseHeaderTestCase is not accessible&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;: The PR you started to review (&lt;a href=&quot;https://github.com/apache/wicket/pull/659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/659&lt;/a&gt;) also uses test-jar, in contrast to (&lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I&apos;d suggest the following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;finish reviewing &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt; (as work in progress of &lt;a href=&quot;https://github.com/apache/wicket/pull/659&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/659&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;decide to go with &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;decide to go with apache-rat-plugin&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;With these two decisions made, we could get rid of test-jar in wicket-util. All problems in Eclipse and VSCode should be solved then. Upcoming TODO&apos;s would then be:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;replace ApacheLicenseHeaderTestCase by apache-rat-plugin&lt;/li&gt;
	&lt;li&gt;remove ApacheLicenseHeaderTestCase and ApacheLicenseHeaderTestCase from wicket-util&lt;/li&gt;
	&lt;li&gt;remove the @Test annotation in org.apache.wicket.util.markup.xhtml.WellFormedXmlTestCase.java in /src/main/java (the annotation is already present in all extending classes)&lt;/li&gt;
	&lt;li&gt;move WellFormedXmlTestCase to /src/main/java again&lt;/li&gt;
	&lt;li&gt;remove test-jar adaptions in wicket-util (pom.xmls of wicket-util and all dependent wicket modules)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What do you think? &lt;em&gt;(if apache-rat-plugin cant be used for whatever reason, ApacheLicenseHeaderTestCase could be used further. To get rid of test-jar in this case, one could adapt ApacheLicenseHeaderTestCase and WellFormedXmlTestCase as described in my comment on 19/Sep/2023 and move back it&apos;s code again to /src/main/java).&lt;/em&gt;&lt;/p&gt;</comment>
                            <comment id="17768578" author="mgrigorov" created="Mon, 25 Sep 2023 08:07:26 +0000"  >&lt;p&gt;maven-rat-plugin won&apos;t replace the WelformedXmlTestCase, so we will still need the test-jar dependency to wicket-util in the other modules.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I think &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt; is the right approach. I started looking into it but it has 2000+ changed files and using Github UI won&apos;t do it. I will checkout your branch locally and review it! I may also make improvements if this is OK with you !&lt;/p&gt;</comment>
                            <comment id="17768587" author="JIRAUSER302119" created="Mon, 25 Sep 2023 08:35:57 +0000"  >&lt;blockquote&gt;&lt;p&gt;maven-rat-plugin won&apos;t replace the WelformedXmlTestCase, so we will still need the test-jar dependency to wicket-util in the other modules.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;IMO, WellformedXmlTestCase can be moved back to /src/main/java. I just moved it to /src/test/java because of the one @Test annotation. But actually we can remove this annotation because it is redundant - at least in all wicket modules since all classes that extend WellformedXmlTestCase already add @Test at markupFiles() themselves. Other users that might use WellformedXmlTestCase would have to do it the same way in their test classes (maybe a hint in the release notes would be a good idea for this edge case?).&lt;/p&gt;

&lt;p&gt;&amp;gt; I think &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt; is the right approach. I started looking into it but it has 2000+ changed files and using Github UI won&apos;t do it.&lt;br/&gt;
&amp;gt; I will checkout your branch locally and review it! I may also make improvements if this is OK with you !&lt;/p&gt;

&lt;p&gt;Yes, of course, thanks for asking!&lt;/p&gt;</comment>
                            <comment id="17768588" author="mgrigorov" created="Mon, 25 Sep 2023 08:37:52 +0000"  >&lt;blockquote&gt;&lt;p&gt;&#160;WellformedXmlTestCase can be moved back to /src/main/java&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Sounds good!&lt;/p&gt;</comment>
                            <comment id="17768661" author="mgrigorov" created="Mon, 25 Sep 2023 12:02:46 +0000"  >&lt;p&gt;I pushed some improvements!&lt;/p&gt;

&lt;p&gt;I also need to force-push to resolve a conflict in AjaxRequestHandlerTest ...&lt;/p&gt;

&lt;p&gt;TODO: introduce wicket-native-websocket-tester module and move WebSocketTester into it. (working on it!)&lt;/p&gt;</comment>
                            <comment id="17768675" author="mgrigorov" created="Mon, 25 Sep 2023 12:48:22 +0000"  >&lt;p&gt;wicket-native-websocket-tester module is done!&lt;/p&gt;

&lt;p&gt;Please test the branch and report any issues!&lt;/p&gt;</comment>
                            <comment id="17768678" author="JIRAUSER302119" created="Mon, 25 Sep 2023 12:54:37 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;

&lt;p&gt;Why do you need an extra wicket-native-websocket-tester module? For WebSocketTester, I find only usages within /src/test/java of the same module (wicket-native-websocket-core). If reusage would matter, WebSocketTester could also be just moved to /src/main/java (no JUnit references).&lt;/p&gt;</comment>
                            <comment id="17768684" author="mgrigorov" created="Mon, 25 Sep 2023 13:12:44 +0000"  >&lt;p&gt;WebSocketTester is the same for WebSocket&#160; as WicketTester is for HTTP.&lt;/p&gt;

&lt;p&gt;WebSocketTester depends on WicketTester so the dependency to JUnit is transitive.&lt;/p&gt;</comment>
                            <comment id="17768689" author="JIRAUSER302119" created="Mon, 25 Sep 2023 13:19:37 +0000"  >&lt;blockquote&gt;&lt;p&gt;WebSocketTester depends on WicketTester so the dependency to JUnit is transitive.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Yes, I missed this. Seems the only reference to org.apache.wicket.util.tester package &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Please test the branch and report any issues!&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Concerning moving &lt;em&gt;JS tests to wicket-core/src/test/js&lt;/em&gt;, my mistake, thank you for reverting.&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt; I see that WebSocketTester moved to new wicket-native-websocket-tester. Refactoring looks good for me so far, and mvn clean install of all shows no errors as well. I didn&apos;t run own tests with WebSocketTester (out of scope for me).&lt;/p&gt;

&lt;p&gt;Now, I couldn&apos;t find changes to test-jar | WellformedXmlTestCase | ApacheLicenseHeaderTestCase (and rat-plugin) so far. If ready I&apos;ll test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17769000" author="solomax" created="Tue, 26 Sep 2023 04:39:48 +0000"  >&lt;p&gt;As I understand from this ticket: &lt;a href=&quot;https://github.com/redhat-developer/vscode-java/issues/881&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/redhat-developer/vscode-java/issues/881&lt;/a&gt;&lt;br/&gt;
VSCode uses Eclipse jar to do the job &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;So far I was unable to make JPMS work for both main/java and test/java in the same module &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;I&apos;ll double-check #660 with my VSCode ...&lt;/p&gt;</comment>
                            <comment id="17769020" author="JIRAUSER302119" created="Tue, 26 Sep 2023 06:05:51 +0000"  >&lt;blockquote&gt;&lt;p&gt;VSCode uses Eclipse jar to do the job&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;That&apos;s interesting. It would explain why the same errors are shown.&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;I&apos;ll double-check #660 with my VSCode ...&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;JPMS requires, in my experience, still a lot of trial and error. What I learned is that, in my cases, Eclipse support the &quot;normal&quot; way of doing quite well but has, for example, serious problems with a) test-jar dependencies and b) JUnit-related code in /src/main/java. Currently, b) is no more relevant in #660 but a) still is.&lt;/p&gt;

&lt;p&gt;Thus, #660 will likely show errors in VSCode right now. IMO, the observed issues can be solved with the doings from my comments yesterday.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt; I could do these fixes today in gluser1357:&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests, or do you want to continue?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17769027" author="mgrigorov" created="Tue, 26 Sep 2023 06:33:16 +0000"  >&lt;blockquote&gt;&lt;p&gt;I could do these fixes today in gluser1357:&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests, or do you want to continue?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I was hoping for some more feedback from more people.&lt;/p&gt;

&lt;p&gt;As I said before - there is no much interest in JPMS in the community... No one said anything at &lt;a href=&quot;https://lists.apache.org/thread/rkmcf1tk51sw8vkfy7hpm7gmhj3h9c62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/rkmcf1tk51sw8vkfy7hpm7gmhj3h9c62&lt;/a&gt; and &lt;a href=&quot;https://lists.apache.org/list.html?dev@wicket.apache.org&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/list.html?dev@wicket.apache.org&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The PR already touches 2400 files (mostly moved tests from one module to another) and adding more changes in the same branch will make it even harder to review.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Eclipse support the &quot;normal&quot; way of doing quite well but has, for example, serious problems with a) test-jar dependencies and b) JUnit-related code in /src/main/java&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I don&apos;t know whether you know that but Eclipse is based on OSGi. It is understandable that it does not (want to) support JPMS well.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;Eclipse does not support test-jar dependencies&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;test-jar is a Maven thing.&lt;/p&gt;

&lt;p&gt;Gradle supports it via &quot;classifier:tests&quot;.&lt;/p&gt;

&lt;p&gt;Intellij IDEA supports both without issues!&lt;/p&gt;

&lt;p&gt;Eclipse does not!&lt;/p&gt;

&lt;p&gt;I think it is an Eclipse issue. No need to change all of the above because Eclipse is lacking behind.&lt;/p&gt;</comment>
                            <comment id="17769069" author="solomax" created="Tue, 26 Sep 2023 09:20:42 +0000"  >&lt;p&gt;Both VSCode and Eclipse doesn&apos;t support &lt;tt&gt;module-info.test&lt;/tt&gt; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17769080" author="JIRAUSER302119" created="Tue, 26 Sep 2023 09:35:53 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;:&lt;br/&gt;
Thank you for your feedback. I understand your point of view. It&apos;s &quot;only&quot; an Eclipse/VSCode problem, not a gradle, maven or Intellij one.&lt;/p&gt;

&lt;p&gt;As Eclipse developers, we wish that Wicket (that we use a lot because it&apos;s a real cool framework) is supported in Eclipse. The current code from master (10.0.0) is not (related to workspace resolution which is the normal, default case). Neither for developing own applications nor for developing Wicket code itself (both in Eclipse and VSCode).&lt;/p&gt;

&lt;p&gt;We actually do not have problems in Eclipse with frameworks others than Wicket. Likely because of those frameworks neither use test-jar dependencies, nor put JUnit code in src/main/java (I agree that this actually should not be a problem since JUnit is a library as many others. But, it is also different than others in that way that maven tries to separate non-test code on /src/main/java from test code in /src/test/java, so there normally shouldn&apos;t be a reason to put JUnit code on /src/main/java). The latter problem can be solved with merging of the current state of #660.&lt;/p&gt;

&lt;p&gt;Concerning the first (test-jar) problem in this context, I found that we can easily get rid of test-jar, introduced (the first time ever in Wicket?) in the branches relevant for this issue &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;. Thus, I, as Eclipse developer, &lt;em&gt;wish to not include test-jars&lt;/em&gt; for this issue &lt;em&gt;because I see no need to use it&lt;/em&gt; (see the suggested changes I listed above).&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;adding more changes in the same branch will make it even harder to review.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I see. We could break up the changes into following PRs:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;#660 (separation from JUnit code from wicket-core /src/main/java, ...) - required for Eclipse (for application development)&lt;/li&gt;
	&lt;li&gt;new one (revert test-jar from wicket-util) - required for Eclipse (Wicket code development), see suggested changes above&lt;/li&gt;
	&lt;li&gt;new one (rat-plugin) - replace ApacheLicenseHeaderTestCase by existing plugin (as suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=solomax&quot; class=&quot;user-hover&quot; rel=&quot;solomax&quot;&gt;solomax&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;I&apos;d be happy if current state of #660 could be merged after reviews have been finished.&lt;/p&gt;

&lt;p&gt;For the two new suggested PRs I can support by writing the PRs (based on #660).&lt;/p&gt;</comment>
                            <comment id="17769188" author="bitstorm" created="Tue, 26 Sep 2023 13:41:43 +0000"  >&lt;p&gt;Sorry if you couldn&apos;t jump into this discussion earlier. I now it might sound frustrating working for a problem that in the end is a limit of Eclipse and not an actual issue for Wicket. Nonetheless considering how popular are Eclipse and VC I think we should continue to work on this issue as suggested by &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gluser1357&quot; class=&quot;user-hover&quot; rel=&quot;gluser1357&quot;&gt;gluser1357&lt;/a&gt; . I will add my review to #660 asap.&lt;/p&gt;</comment>
                            <comment id="17769683" author="solomax" created="Wed, 27 Sep 2023 15:57:05 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gluser1357&quot; class=&quot;user-hover&quot; rel=&quot;gluser1357&quot;&gt;gluser1357&lt;/a&gt; sorry for a little bit OFFTOPIC, but I wonder&lt;/p&gt;

&lt;p&gt;Would it be possible to support &lt;tt&gt;module-info.test&lt;/tt&gt; for &lt;tt&gt;test/java&lt;/tt&gt; as shown for ex. here:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://sormuras.github.io/blog/2018-09-11-testing-in-the-modular-world.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://sormuras.github.io/blog/2018-09-11-testing-in-the-modular-world.html&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Maven supports it while Eclipse/VSCode doesn&apos;t &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Almost all my tests are RED in IDE &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;((( (while Maven build is GREEN)&lt;/p&gt;</comment>
                            <comment id="17769697" author="JIRAUSER302119" created="Wed, 27 Sep 2023 16:26:38 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=solomax&quot; class=&quot;user-hover&quot; rel=&quot;solomax&quot;&gt;solomax&lt;/a&gt; I think that one could add a module-info.test that may be used in maven-compiler/maven-surefire plugins. But I doubt that this solves this issue here. As you said, Maven itself doesn&apos;t report errors, so I don&apos;t see advantages here. And Eclipse AFAIK won&apos;t use it&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/help_16.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;.&lt;/p&gt;

&lt;p&gt;Fixes that IMO can solve the VSCode/Eclipse problems see in my comment from yesterday.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt; Thanks for reviewing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17769721" author="solomax" created="Wed, 27 Sep 2023 17:39:06 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gluser1357&quot; class=&quot;user-hover&quot; rel=&quot;gluser1357&quot;&gt;gluser1357&lt;/a&gt; Actually Maven doesn&apos;t report the errors due to surefire configured with &lt;tt&gt;&amp;lt;useModulePath&amp;gt;&lt;/tt&gt; set to &lt;tt&gt;false&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The build is completly RED in case it is set to &lt;tt&gt;true&lt;/tt&gt;&lt;/p&gt;</comment>
                            <comment id="17769758" author="JIRAUSER302119" created="Wed, 27 Sep 2023 19:40:05 +0000"  >&lt;p&gt;i set it to false to overcome the following problems (the same as you observe?), see comment 22/09/23:&lt;/p&gt;

&lt;p&gt;&#160;&lt;blockquote&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;no module-info may be present to fix &quot;The package org.apache.wicket conflicts with a package accessible from another module&quot;&lt;/li&gt;
	&lt;li&gt;useModulePath must be false in maven-compiler-plugin to fix &quot;Can&apos;t compile test sources when main sources are missing a module descriptor&quot;&lt;br/&gt;
(useModulePath is available in maven-compiler-plugin 3.11+, therefore I needed to change it&apos;s version from 3.10 to 3.11 in main pom.xml)&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;&lt;/p&gt;

&lt;p&gt;Do you have ideas how module-info.test would offer alternative solutions? &lt;/p&gt;</comment>
                            <comment id="17769899" author="solomax" created="Thu, 28 Sep 2023 04:46:29 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gluser1357&quot; class=&quot;user-hover&quot; rel=&quot;gluser1357&quot;&gt;gluser1357&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;Unfortunately I&apos;m not an expert &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I try to learn by example &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;After `&amp;lt;useModulePath&amp;gt;false&amp;lt;/useModulePath&amp;gt;` in main wicket pom.xml:line 1155 is changed to `&amp;lt;useModulePath&amp;gt;true&amp;lt;/useModulePath&amp;gt;`&lt;/p&gt;

&lt;p&gt;The build failed at `wicket-request` module&lt;/p&gt;

&lt;p&gt;no chance to compile wicket-core/wicket-core-tests &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;OFFTOPIC: This JPMS is killing me &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
100% of tests are RED for Apache OpenMeetings in IDE (maybe I&apos;ll try to check it in IntellyJ IDEA ... not my favorite one)&lt;/p&gt;</comment>
                            <comment id="17769952" author="JIRAUSER302119" created="Thu, 28 Sep 2023 08:35:06 +0000"  >&lt;blockquote&gt;&lt;p&gt;After `&amp;lt;useModulePath&amp;gt;false&amp;lt;/useModulePath&amp;gt;` in main wicket pom.xml:line 1155 is changed to `&amp;lt;useModulePath&amp;gt;true&amp;lt;/useModulePath&amp;gt;`&lt;br/&gt;
The build failed at `wicket-request` module&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;What do you exactly mean with &quot;the build&quot;? For me, a &quot;mvn clean install&quot; of #660 runs without errors. Doesn&apos;t run that for you (new workspace, clean checkout)? Do you test in VSCode or Eclipse?&lt;/p&gt;

&lt;p&gt;Good point is that &lt;em&gt;useModulePath&lt;/em&gt; ist set to false for &lt;em&gt;maven-surefire-plugin&lt;/em&gt; in the main wicket pom.xml. &lt;b&gt;Does anybody of the wicket developers know the reason for this?&lt;/b&gt; (Maxim, the &lt;em&gt;useModulePath&lt;/em&gt; setting I talked about yesterday was another one for &lt;em&gt;maven-compiler-plugin&lt;/em&gt;, required for wicket-core-test. Sorry for the confusion).&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Now, to prove that, in general, the wicket project can be used &lt;b&gt;in Eclipse with no more compile errors&lt;/b&gt; I decided to quickly created another branch &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests-without-test-jar on &lt;a href=&quot;https://github.com/gluser1357/wicket-fork.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gluser1357/wicket-fork.git&lt;/a&gt;. To clarify:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests (PR #660, AFAIK currently still in review)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;mvn clean install -&amp;gt; no errors&lt;/li&gt;
		&lt;li&gt;Eclipse IDE -&amp;gt; shows many compile errors&lt;/li&gt;
		&lt;li&gt;Eclipse Run As JUnit -&amp;gt; tests failed&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests-without-test-jar (no PR yet to not confusing people, I could create one)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;built on top of &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests - the difference is that I just refactored to &lt;b&gt;avoid test-jar&lt;/b&gt; usage, see my comments 26/Sept/23&lt;/li&gt;
		&lt;li&gt;mvn clean install -&amp;gt; no errors&lt;/li&gt;
		&lt;li&gt;Eclipse IDE -&amp;gt; shows no compiler errors anymore&lt;/li&gt;
		&lt;li&gt;Eclipse Run As JUnit -&amp;gt; some tests still failed. &lt;em&gt;But, according to the errors I see I&apos;m quite sure that this is due to the missing adaptions that are applied to maven-surefire-plugin but not applied when using Run As JUnit. I think if Run As JUnit can be tweaked the same way as maven-surefire-plugin than all tests would run without errors. I haven&apos;t tested that because at the moment I really don&apos;t know how to do that. (&lt;/em&gt;Ed. therefore, we&apos;d need something that has been requested for IntelliJ IDEA, see &lt;a href=&quot;https://youtrack.jetbrains.com/issue/IDEA-290669/Honor-maven-surefire-plugin-useModulePathfalse-when-running-tests-use-classpath-to-run-tests-and-not-module-path&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://youtrack.jetbrains.com/issue/IDEA-290669/Honor-maven-surefire-plugin-useModulePathfalse-when-running-tests-use-classpath-to-run-tests-and-not-module-path&lt;/a&gt;)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=solomax&quot; class=&quot;user-hover&quot; rel=&quot;solomax&quot;&gt;solomax&lt;/a&gt;: Could you please try&#160;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests-without-test-jar and check if you still see compiler errors?&lt;/p&gt;</comment>
                            <comment id="17770053" author="bitstorm" created="Thu, 28 Sep 2023 13:18:21 +0000"  >&lt;blockquote&gt;&lt;ul&gt;
	&lt;li&gt;Eclipse Run As JUnit -&amp;gt; some tests still failed&lt;/li&gt;
&lt;/ul&gt;
&lt;/blockquote&gt;
&lt;p&gt;Which problems do you have with this? When I tried to run test from wicket-core-test from &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests I had these two minor problems:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;By default Eclipse put into output folder only *.class file filtering out *.html files. See &apos;Project -&amp;gt; Properties -&amp;gt; Java Build Path&apos;.&lt;/li&gt;
	&lt;li&gt;As you reported Run configuration lacks JPMS parameters&#160; specified by maven-surefire-plugin. See parent pom at line 1138&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Hope this can help.&lt;/p&gt;</comment>
                            <comment id="17770134" author="JIRAUSER302119" created="Thu, 28 Sep 2023 15:41:40 +0000"  >&lt;blockquote&gt;&lt;p&gt;Which problems do you have with this?&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;wicket-util &amp;gt; Run As JUnit: works.&lt;/p&gt;

&lt;p&gt;wicket-core-tests &amp;gt; Run As JUnit: Likely the same few issues you have observed.&lt;/p&gt;

&lt;p&gt;wicket-extensions &amp;gt; Run As JUnit: See upcoming:&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Run As JUnit... does not work for wicket-extensions because of &lt;em&gt;Error occurred during initialization of boot layer java.lang.module.FindException: Module org.apache.wicket.util not found, required by org.apache.wicket.core&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;In &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests-without-test-jar:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;I found errors like the following, they seem to be related to missing (filtered-out) .html files (related to first point of your list):
	&lt;ul&gt;
		&lt;li&gt;&lt;em&gt;java.util.MissingResourceException: Unable to find property: &apos;Form.CSS.hidden-fields&apos; for component: form&lt;/em&gt;&lt;/li&gt;
		&lt;li&gt;&lt;em&gt;org.apache.wicket.markup.MarkupNotFoundException: Can not determine Markup. Component is not yet connected to a parent.&lt;/em&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;I tried to include **.*html pattern to Build path &amp;gt; Source &amp;gt; /src/main/java and /src/test/java but this doesn&apos;t changed anything. How would I do that correctly? Alternatively, when I remove module-info.java, those errors disappear.&lt;/li&gt;
	&lt;li&gt;I found a few other issues (related to second point of your list) like
	&lt;ul&gt;
		&lt;li&gt;&lt;em&gt;java.lang.reflect.InaccessibleObjectException: Unable to make field private java.lang.String org.apache.wicket.extensions.markup.html.repeater.data.table.Contact.firstName accessible: module org.apache.wicket.extensions does not &quot;opens org.apache.wicket.extensions.markup.html.repeater.data.table&quot; to module org.apache.wicket.core&lt;/em&gt;&lt;/li&gt;
		&lt;li&gt;&lt;em&gt;java.lang.reflect.InaccessibleObjectException: Unable to make field private final int java.lang.Integer.value accessible: module java.base does not &quot;opens java.lang&quot; to unnamed module @1dd92fe2&lt;/em&gt;&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
	&lt;li&gt;I think these are related to the missing --add-opens that maven-surefire-plugin uses, but not Eclipse&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&lt;b&gt;Summary:&lt;/b&gt;&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;with &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests, Run As JUnit... doesn&apos;t run for projects that depend on wicket-util&lt;/li&gt;
	&lt;li&gt;with &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests-without-test-jar, Run As JUnit... runs for all projects&lt;/li&gt;
	&lt;li&gt;In both cases there are issues because of the configuration which maven-surefire-plugin but not Eclipse&lt;br/&gt;
(If Run As JUnit... can be approriately configured I wouldn&apos;t classify this issue as error of Eclipse since the outcome would be the same as with maven-surefire-plugin)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17770161" author="bitstorm" created="Thu, 28 Sep 2023 16:44:08 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;em&gt;java.util.MissingResourceException: Unable to find property: &apos;Form.CSS.hidden-fields&apos; for component: form&lt;/em&gt;&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Try to set &apos;Build Path&apos; removing any filter on source folders. I had the same problem with &lt;em&gt;Form.CSS.hidden-fields,&lt;/em&gt; it turned out it was a .properties file from wicket-core project which wasn&apos;t copied to output folder.&lt;/p&gt;</comment>
                            <comment id="17770180" author="JIRAUSER302119" created="Thu, 28 Sep 2023 17:19:55 +0000"  >&lt;p&gt;Thanks for the hint!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=solomax&quot; class=&quot;user-hover&quot; rel=&quot;solomax&quot;&gt;solomax&lt;/a&gt;, could you please test the new &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests-without-test-jar branch on &lt;a href=&quot;https://github.com/gluser1357/wicket-fork.git&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gluser1357/wicket-fork.git&lt;/a&gt; and check for any compile or runtime errors in Eclipse and VSCode?&lt;/p&gt;

&lt;p&gt;(As said, Run As JUnit... in Eclipse needs still needs an appropriate runtime configuration, the same way as for surefire. But it&apos;s actually beyond this issue...)&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;

&lt;p&gt;If everything is fine with that I&apos;ll create a PR.&lt;/p&gt;</comment>
                            <comment id="17770298" author="solomax" created="Fri, 29 Sep 2023 05:39:32 +0000"  >&lt;p&gt;Hello &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gluser1357&quot; class=&quot;user-hover&quot; rel=&quot;gluser1357&quot;&gt;gluser1357&lt;/a&gt;,&lt;/p&gt;

&lt;p&gt;I did some tests and here are the results:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;switch to &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests-without-test-jar&lt;/tt&gt; branch at your fork&lt;/li&gt;
	&lt;li&gt;run &lt;tt&gt;mvn clean install&lt;/tt&gt; -&amp;gt; GREEN&lt;/li&gt;
	&lt;li&gt;Download latest Eclipse JEE &lt;tt&gt;2023-09&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;Import Maven project&lt;/li&gt;
	&lt;li&gt;Wait for eclipse building/downloading is over -&amp;gt; &lt;font color=&quot;red&quot;&gt;110 Errors&lt;/font&gt;: JUnit classes can&apos;t be resolved for &lt;tt&gt;wicket-native-websocket-tester&lt;/tt&gt; project + some errors in &lt;tt&gt;wicket-core/.../wicket.xsd&lt;/tt&gt; which, I believe, can be ignored&lt;/li&gt;
	&lt;li&gt;Import into VSCode same result: &lt;font color=&quot;red&quot;&gt;105 errors&lt;/font&gt; in JUnit classes can&apos;t be resolved for &lt;tt&gt;wicket-native-websocket-tester&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;VSCode is able to run tests! Congrats! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;))&lt;/p&gt;

&lt;p&gt;I believe only one issue remain unaddressed!&lt;/p&gt;

&lt;p&gt;UPDATE: did some more testing, some tests are fail from VSCode, but this can be investigated at second stage &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17770317" author="JIRAUSER302119" created="Fri, 29 Sep 2023 06:53:58 +0000"  >&lt;p&gt;Thanks for testing!&lt;/p&gt;

&lt;p&gt;The bug with wicket-native-websocket-tester should be solved now (reason was a missing JUnit non-test dependency).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=solomax&quot; class=&quot;user-hover&quot; rel=&quot;solomax&quot;&gt;solomax&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;&#160; Could you please update &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;-wicket-tester-and-core-tests-without-test-jar&lt;/tt&gt; and check in Eclipse?&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17770326" author="solomax" created="Fri, 29 Sep 2023 08:16:11 +0000"  >&lt;p&gt;Just tried to debug &lt;tt&gt;WebSocketTesterBehaviorTest&lt;/tt&gt; got:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.IllegalAccessError: &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.junit.platform.launcher.core.LauncherFactory (in unnamed module @0x2d928643) cannot access &lt;span class=&quot;code-keyword&quot;&gt;class &lt;/span&gt;org.junit.platform.commons.util.Preconditions (in module org.junit.platform.commons) because module org.junit.platform.commons does not export org.junit.platform.commons.util to unnamed module @0x2d928643
	at org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:128)
	at org.junit.platform.launcher.core.LauncherFactory.create(LauncherFactory.java:112)
	at org.eclipse.jdt.internal.junit5.runner.JUnit5TestLoader.&amp;lt;init&amp;gt;(JUnit5TestLoader.java:37)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance0(Native Method)
	at java.base/jdk.internal.reflect.NativeConstructorAccessorImpl.newInstance(NativeConstructorAccessorImpl.java:77)
NativeConstructorAccessorImpl.java:77
	at java.base/jdk.internal.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)
DelegatingConstructorAccessorImpl.java:45
	at java.base/java.lang.reflect.Constructor.newInstanceWithCaller(Constructor.java:499)
Constructor.java:499
	at java.base/java.lang.reflect.ReflectAccess.newInstance(ReflectAccess.java:128)
ReflectAccess.java:128
	at java.base/jdk.internal.reflect.ReflectionFactory.newInstance(ReflectionFactory.java:347)
ReflectionFactory.java:347
	at java.base/java.lang.&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.newInstance(&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:645)
&lt;span class=&quot;code-object&quot;&gt;Class&lt;/span&gt;.java:645
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createRawTestLoader(RemoteTestRunner.java:371)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.createLoader(RemoteTestRunner.java:366)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.defaultInit(RemoteTestRunner.java:310)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.init(RemoteTestRunner.java:225)
	at org.eclipse.jdt.internal.junit.runner.RemoteTestRunner.main(RemoteTestRunner.java:209)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17770353" author="JIRAUSER302119" created="Fri, 29 Sep 2023 09:44:09 +0000"  >&lt;p&gt;Seems to be this issue (you do a Run As JUnit, right?):&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;(As said, Run As JUnit... in Eclipse needs still needs an appropriate runtime configuration, the same way as for surefire. But it&apos;s actually beyond this issue...)&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Anyway, it would be nice to see a working runtime configuration here. &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;: could you possibly help to investigate this?&lt;/p&gt;</comment>
                            <comment id="17770445" author="bitstorm" created="Fri, 29 Sep 2023 13:17:12 +0000"  >&lt;blockquote&gt;&lt;p&gt;java.lang.IllegalAccessError: class org.junit.platform.launcher.core.LauncherFactory (in unnamed module @0x2d928643) cannot access class org.junit.platform.commons.util.Preconditions (in module org.junit.platform.commons) because module org.junit.platform.commons does not export org.junit.platform.commons.util to unnamed module @0x2d928643&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I had the same issues. I&apos;ve solved it adding this 2 --add-open params:&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;--add-opens=org.junit.platform.commons/org.junit.platform.commons.util=ALL-UNNAMED&#160; --add-opens=org.junit.platform.commons/org.junit.platform.commons.logging=ALL-UNNAMED&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;However, now i&apos;m stuck with another problem :&lt;/p&gt;
&lt;blockquote&gt;&lt;p&gt;org.apache.wicket.WicketRuntimeException: Exception in rendering component: [HtmlHeaderContainer &lt;span class=&quot;error&quot;&gt;&amp;#91;Component id = _header_&amp;#93;&lt;/span&gt;]&lt;br/&gt;
&#160; &#160; at org.apache.wicket.core/org.apache.wicket.Component.internalRenderComponent(Component.java:2534)&lt;br/&gt;
&#160; &#160; at org.apache.wicket.core/org.apache.wicket.MarkupContainer.onRender(MarkupContainer.java:1569)&lt;br/&gt;
&#160; &#160; at org.apache.wicket.core/org.apache.wicket.Component.internalRender(Component.java:2317)&lt;br/&gt;
&#160; &#160; at ....&lt;/p&gt;

&lt;p&gt;org.apache.wicket.tester/org.apache.wicket.util.tester.BaseWicketTester.startPage(BaseWicketTester.java:899)&lt;br/&gt;
&#160; &#160; at org.apache.wicket.websocket.tester/org.apache.wicket.protocol.ws.tester.WebSocketTesterBehaviorTest.sendTextMessageBehavior(WebSocketTesterBehaviorTest.java:67)&lt;br/&gt;
&#160; &#160; at java.base/java.lang.reflect.Method.invoke(Method.java:568)&lt;br/&gt;
&#160; &#160; at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;br/&gt;
&#160; &#160; at java.base/java.util.ArrayList.forEach(ArrayList.java:1511)&lt;br/&gt;
Caused by: java.lang.IllegalArgumentException: resource res/js/wicket-websocket-setup.js.tmpl not found for scope class org.apache.wicket.protocol.ws.api.WicketWebSocketJQueryResourceReference (path = org/apache/wicket/protocol/ws/api/res/js/wicket-websocket-setup.js.tmpl)&lt;br/&gt;
&#160; &#160; at org.apache.wicket.core/org.apache.wicket.util.template.PackageTextTemplate.load(PackageTextTemplate.java:210)&lt;br/&gt;
&#160; &#160; at org.apache.wicket.core/org.apache.wicket.util.template.PackageTextTemplate.getString(PackageTextTemplate.java:255)&lt;br/&gt;
&#160; &#160; at org.apache.wicket.core/org.apache.wicket.util.template.TextTemplate.asString(TextTemplate.java:72)&lt;br/&gt;
&#160; &#160; at org.apache.wicket.websocket.core/org.apache.wicket.protocol.ws.api.BaseWebSocketBehavior.getWebSocketSetupScript(BaseWebSocketBehavior.java:121)&lt;br/&gt;
&#160; &#160; at .....&lt;br/&gt;
&#160; &#160; ... 27 more&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Looks like I can&apos;t access the resource file res/js/wicket-websocket-setup.js.tmpl&#160; in module wicket-native-websocket-core from wicket-native-websocket-tester&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17770449" author="JIRAUSER302119" created="Fri, 29 Sep 2023 13:24:44 +0000"  >&lt;p&gt;Can you also translate the &lt;em&gt;useModulePath=false&lt;/em&gt; (that surfire uses) to your Run Configuration?&lt;/p&gt;

&lt;p&gt;The &quot;cannot access...&quot; issues are likely because of useModulePath=false is missing (you can temporarly delete module-info to test it, then I guess no errors occur, or?).&lt;/p&gt;

&lt;p&gt;&lt;b&gt;UPDATE&lt;/b&gt;: Try this, this should be some equivalent to &lt;em&gt;useModulePath=false&lt;/em&gt; for JUnit Tests, see also here: &lt;a href=&quot;https://stackoverflow.com/questions/72814759/running-junit-tests-ignoring-module-path.&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/72814759/running-junit-tests-ignoring-module-path&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13063273/13063273_image-2023-09-29-16-51-36-563.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</comment>
                            <comment id="17770473" author="githubbot" created="Fri, 29 Sep 2023 14:58:05 +0000"  >&lt;p&gt;gluser1357 opened a new pull request, #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Just before the weekend, here is the new PR for the updated branch which seems to run now for Eclipse and VSCode.&lt;/p&gt;

&lt;p&gt;   See latest comments and test results on &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;   Thank you for testing and reviewing in different environments.&lt;/p&gt;

</comment>
                            <comment id="17770486" author="bitstorm" created="Fri, 29 Sep 2023 15:42:51 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gluser1357&quot; class=&quot;user-hover&quot; rel=&quot;gluser1357&quot;&gt;gluser1357&lt;/a&gt; yep! turning off module everything works fine. BTW I was the one who posted the question and the answer on StackOverflow &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17771448" author="githubbot" created="Tue, 3 Oct 2023 11:59:32 +0000"  >&lt;p&gt;martin-g commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1343984431&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1343984431&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-cdi/src/main/java/module-info.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -24,6 +24,7 @@&lt;br/&gt;
     requires org.apache.wicket.request;&lt;br/&gt;
     requires org.apache.wicket.core;&lt;br/&gt;
     requires org.slf4j;&lt;br/&gt;
+    requires static jakarta.servlet;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   This change is not related to this commit.&lt;br/&gt;
   I reverted it once and everything was working.&lt;br/&gt;
   Now it is re-introduced silently again.&lt;/p&gt;


</comment>
                            <comment id="17771709" author="JIRAUSER302119" created="Wed, 4 Oct 2023 05:55:15 +0000"  >&lt;blockquote&gt;&lt;p&gt;This change is not related to this commit. I reverted it once and everything was working. Now it is re-introduced silently again.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;I had to re-introduce it because of compile errors in Eclipse (&quot;The type jakarta.servlet.http.HttpServletRequest is not accessible&quot;) at CdiWicketTester and ContextManager in /src/test/java that make use of jakarta.servlet.http.HttpServletRequest.&lt;/p&gt;

&lt;p&gt;Test code is AFAIK, in Eclipse, by default, compiled with module-info, but for module &lt;em&gt;org.apache.wicket.cdi&lt;/em&gt;, &lt;em&gt;jakarta.servlet&lt;/em&gt; is not defined as module:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
module org.apache.wicket.cdi {
  requires org.apache.wicket.core;
&#160; ...
}

module org.apache.wicket.core {
&#160; requires &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; jakarta.servlet; 
&#160; ...
}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;Thus the compile errors for test code in Eclipse which is IMO not an Eclipse error.&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;in IntelliJ, I could imagine that compiling test code is done without module-info (the same way as maven compiles by using useModulePath, see maven-surefire-plugin config)&lt;/li&gt;
	&lt;li&gt;in Eclipse, to get rid of the compiler errors, we could
	&lt;ul&gt;
		&lt;li&gt;keep requires static jakarta.servlet in module-info (or alternatively, add transitive keyword in wicket-util and remove other requires static jakarta.servlet in dependent modules)&lt;/li&gt;
		&lt;li&gt;manually exclude module-info in build path of wicket-cdi (tedious task!)&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Now, as long as module-info is used by default for compiling test resources in IDEs like Eclipse (and I assume the same for VSCode), which is IMO not against any spec, I&apos;d suggest to keep requires static jakarta.servlet. I think it would be the cleanest solution right now.&lt;/p&gt;</comment>
                            <comment id="17771711" author="githubbot" created="Wed, 4 Oct 2023 05:56:32 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1345233822&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1345233822&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-cdi/src/main/java/module-info.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -24,6 +24,7 @@&lt;br/&gt;
     requires org.apache.wicket.request;&lt;br/&gt;
     requires org.apache.wicket.core;&lt;br/&gt;
     requires org.slf4j;&lt;br/&gt;
+    requires static jakarta.servlet;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Please see my latest comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; for leaving this change.&lt;/p&gt;


</comment>
                            <comment id="17771718" author="mgrigorov" created="Wed, 4 Oct 2023 06:14:35 +0000"  >&lt;blockquote&gt;&lt;p&gt;see maven-surefire-plugin config&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Maven Surefire plugin is only for executing the tests via Maven. It does not affect the compilation phase! In addition: the src/test/java don&apos;t have module-info.java, i.e. they are not Java modules!&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17771719" author="mgrigorov" created="Wed, 4 Oct 2023 06:16:38 +0000"  >&lt;blockquote&gt;&lt;p&gt;Please see my latest comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; for leaving this change.&lt;/p&gt;&lt;/blockquote&gt;
&lt;p&gt;Github UI is much more suitable for commenting code changes!&lt;/p&gt;</comment>
                            <comment id="17771747" author="githubbot" created="Wed, 4 Oct 2023 07:56:52 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1345360213&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1345360213&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-cdi/src/main/java/module-info.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -24,6 +24,7 @@&lt;br/&gt;
     requires org.apache.wicket.request;&lt;br/&gt;
     requires org.apache.wicket.core;&lt;br/&gt;
     requires org.slf4j;&lt;br/&gt;
+    requires static jakarta.servlet;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   &amp;gt; Maven Surefire plugin is only for executing the tests via Maven. It does not affect the compilation phase!&lt;/p&gt;

&lt;p&gt;   I agree, sorry for mixing up compile and surefire plugins.&lt;/p&gt;

&lt;p&gt;   &amp;gt; In addition: the src/test/java don&apos;t have module-info.java, i.e. they are not Java modules!&lt;/p&gt;

&lt;p&gt;   IMO (esp. after reading &lt;a href=&quot;https://stackoverflow.com/questions/46613214/java-9-maven-junit-does-test-code-need-module-info-java-of-its-own-and-wher&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://stackoverflow.com/questions/46613214/java-9-maven-junit-does-test-code-need-module-info-java-of-its-own-and-wher&lt;/a&gt;), /src/main/java/module-info.java is used for compiling both /src/main/java and /src/test/java, but compilation of test code seems to be different in Eclipse and Maven, leading to different results (Maven compiles test sources, but Eclipse doesn&apos;t do in this case). I think more research is needed here. It would be great if Eclipse would follow Maven in this use case. Meanwhile we could keep requires static jakarta.servlet which would prevent Eclipse developers from manually fixing the build path (via exclude module-info.java, see also my comment in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;).&lt;/p&gt;


</comment>
                            <comment id="17771750" author="githubbot" created="Wed, 4 Oct 2023 08:02:33 +0000"  >&lt;p&gt;martin-g commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1345373073&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1345373073&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-cdi/src/main/java/module-info.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -24,6 +24,7 @@&lt;br/&gt;
     requires org.apache.wicket.request;&lt;br/&gt;
     requires org.apache.wicket.core;&lt;br/&gt;
     requires org.slf4j;&lt;br/&gt;
+    requires static jakarta.servlet;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   &amp;gt; Meanwhile we could keep requires static jakarta.servlet which would prevent Eclipse developers from manually fixing the build path&lt;/p&gt;

&lt;p&gt;   Fully agree on this! &lt;br/&gt;
   I just want to propose an improvement:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;either mention the reason for the change in the commit message&lt;/li&gt;
	&lt;li&gt;or even better - use a separate commit for it. Mixing it in the same commit with the wicket-util:test-jar one is not good&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="17771780" author="githubbot" created="Wed, 4 Oct 2023 09:22:28 +0000"  >&lt;p&gt;solomax commented on PR #660:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/660#issuecomment-1746479720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660#issuecomment-1746479720&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @gluser1357 this one also can be closed?&lt;/p&gt;

</comment>
                            <comment id="17771786" author="githubbot" created="Wed, 4 Oct 2023 09:39:22 +0000"  >&lt;p&gt;solomax commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1746508551&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1746508551&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Just have tested this branch in VSCode&lt;/p&gt;

&lt;p&gt;   there no errors &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;

&lt;p&gt;   Hooray! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

</comment>
                            <comment id="17771801" author="githubbot" created="Wed, 4 Oct 2023 10:18:37 +0000"  >&lt;p&gt;gluser1357 commented on PR #660:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/660#issuecomment-1746571268&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660#issuecomment-1746571268&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   IMO yes, this PR can be closed (since replaced by #666).&lt;/p&gt;

</comment>
                            <comment id="17771810" author="githubbot" created="Wed, 4 Oct 2023 10:35:02 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1345578195&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1345578195&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-cdi/src/main/java/module-info.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -24,6 +24,7 @@&lt;br/&gt;
     requires org.apache.wicket.request;&lt;br/&gt;
     requires org.apache.wicket.core;&lt;br/&gt;
     requires org.slf4j;&lt;br/&gt;
+    requires static jakarta.servlet;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   &amp;gt; Fully agree on this!&lt;/p&gt;

&lt;p&gt;   Ok, great!&lt;/p&gt;

&lt;p&gt;   &amp;gt; I just want to propose an improvement:&lt;/p&gt;

&lt;p&gt;   Thank you for this proposal. I&apos;m unsure how to do this practically:&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;revert the change, commit, redo the change with appropriate comment and commit&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   or&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;revert the change, commit, wait until PR is merged into master (with commits squashed), open another PR for &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;, redo the change with appropriate comment and commit?&lt;/li&gt;
&lt;/ul&gt;



</comment>
                            <comment id="17771811" author="githubbot" created="Wed, 4 Oct 2023 10:35:47 +0000"  >&lt;p&gt;gluser1357 commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1746603289&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1746603289&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; Just have tested this branch in VSCode&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; there no errors &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; Hooray! &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;

&lt;p&gt;   Great, thanks for testing!&lt;/p&gt;

</comment>
                            <comment id="17771849" author="githubbot" created="Wed, 4 Oct 2023 13:19:38 +0000"  >&lt;p&gt;gluser1357 commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1746864916&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1746864916&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   There is one question left from previous version #659:&lt;/p&gt;

&lt;p&gt;   &amp;gt;&amp;gt;&amp;gt; wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java&lt;/p&gt;

&lt;p&gt;   &amp;gt;&amp;gt; I think this class should be moved to wicket-tester&lt;/p&gt;

&lt;p&gt;   What about also moving package &lt;em&gt;org/apache/wicket/protocol/http/mock&lt;/em&gt; to wicket-tester in this PR?&lt;/p&gt;

&lt;p&gt;   It would solve the remaining issue (see comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;) &quot;&lt;em&gt;And related, There is one issue in MockHttpSession.invalidate() that I couldn&apos;t solve, I think it&apos;s uncritical: attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName())&lt;/em&gt;&quot;&lt;/p&gt;

</comment>
                            <comment id="17772111" author="githubbot" created="Thu, 5 Oct 2023 07:53:48 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1346947889&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1346947889&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Copied from previous PR #659:&lt;/p&gt;

&lt;p&gt;   &amp;gt;&amp;gt;&amp;gt; wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java&lt;/p&gt;

&lt;p&gt;   &amp;gt;&amp;gt; I think this class should be moved to wicket-tester&lt;/p&gt;

&lt;p&gt;   Ok, we could do that (I also thought about moving the whole  &lt;em&gt;package _org/apache/wicket/protocol/http/mock&lt;/em&gt; to wicket-tester but org.apache.wicket.core.util.string.ComponentRenderer in /src/main/java makes use of org.apache.wicket.protocol.http.mock.MockServletContext, so that won&#8217;t work).&lt;/p&gt;

&lt;p&gt;   Should we move only MockHttpSession to wicket-tester then? If not, how to rewrite this line in MockHttpSession.invalidate()?&lt;/p&gt;




&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Copied from previous PR #659:&lt;/p&gt;

&lt;p&gt;   &amp;gt;&amp;gt;&amp;gt; wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java&lt;/p&gt;

&lt;p&gt;   &amp;gt;&amp;gt; I think this class should be moved to wicket-tester&lt;/p&gt;

&lt;p&gt;   Ok, we could do that (I also thought about moving the whole  &lt;em&gt;package _org/apache/wicket/protocol/http/mock&lt;/em&gt; to wicket-tester but org.apache.wicket.core.util.string.ComponentRenderer in /src/main/java makes use of org.apache.wicket.protocol.http.mock.MockServletContext, so that won&#8217;t work).&lt;/p&gt;

&lt;p&gt;   Should we move only MockHttpSession to wicket-tester then? If not, how to rewrite this line in MockHttpSession.invalidate()?&lt;/p&gt;



</comment>
                            <comment id="17772153" author="githubbot" created="Thu, 5 Oct 2023 09:54:21 +0000"  >&lt;p&gt;solomax closed pull request #660: &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; wicket tester and core tests&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/660&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/660&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17772156" author="githubbot" created="Thu, 5 Oct 2023 10:06:57 +0000"  >&lt;p&gt;bitstorm commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1347161758&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1347161758&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   If we want to move the entire package I don&apos;t see many alternatives,,,maybe the best option first glance could be move it into wicket-util module (i.e org.apache.wicket.util.protocol.http.mock ). Waiting for better ideas &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; &lt;/p&gt;


</comment>
                            <comment id="17772160" author="githubbot" created="Thu, 5 Oct 2023 10:17:33 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1347181349&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1347181349&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   I don&apos;t think that moving the package from wicket-core to wicket-util would have advantages.&lt;/p&gt;

&lt;p&gt;   My initial assumption was that mocking stuff should be only test scoped, but it currently isn&apos;t (as ComponentRenderer shows). IMO we should leave it as it is (possibly requiring a better fix in MockHttpSession.java, see diff) OR move just MockHttpSession.java to wicket-tester?&lt;/p&gt;


</comment>
                            <comment id="17772162" author="githubbot" created="Thu, 5 Oct 2023 10:28:34 +0000"  >&lt;p&gt;martin-g commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1347197723&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1347197723&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   I think these classes should stay in -core.&lt;/p&gt;


</comment>
                            <comment id="17772163" author="githubbot" created="Thu, 5 Oct 2023 10:48:21 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1347221404&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1347221404&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Ok, and what about &lt;em&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;/em&gt;? Where is this relevant?&lt;/p&gt;


</comment>
                            <comment id="17772834" author="githubbot" created="Sat, 7 Oct 2023 15:07:46 +0000"  >&lt;p&gt;solomax commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1349532691&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1349532691&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/pom.xml:&lt;br/&gt;
##########&lt;br/&gt;
@@ -207,6 +179,24 @@ org.apache.wicket.validation.validator;-noimport:=true&lt;br/&gt;
 				&amp;lt;groupId&amp;gt;org.primefaces.extensions&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 				&amp;lt;artifactId&amp;gt;resources-optimizer-maven-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 			&amp;lt;/plugin&amp;gt;&lt;br/&gt;
+			&amp;lt;!--&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   @gluser1357 I believe commented-out code need to be dropped&lt;/p&gt;


</comment>
                            <comment id="17772839" author="githubbot" created="Sat, 7 Oct 2023 16:11:42 +0000"  >&lt;p&gt;solomax commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1349539904&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1349539904&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-util/pom.xml:&lt;br/&gt;
##########&lt;br/&gt;
@@ -47,22 +47,6 @@&lt;br/&gt;
 		&amp;lt;dependency&amp;gt;&lt;br/&gt;
 			&amp;lt;groupId&amp;gt;org.junit.jupiter&amp;lt;/groupId&amp;gt;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   This dependency is global (set in parent pom), maybe it can be dropped here?&lt;/p&gt;


</comment>
                            <comment id="17773160" author="githubbot" created="Mon, 9 Oct 2023 07:51:36 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1349962190&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1349962190&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/pom.xml:&lt;br/&gt;
##########&lt;br/&gt;
@@ -207,6 +179,24 @@ org.apache.wicket.validation.validator;-noimport:=true&lt;br/&gt;
 				&amp;lt;groupId&amp;gt;org.primefaces.extensions&amp;lt;/groupId&amp;gt;&lt;br/&gt;
 				&amp;lt;artifactId&amp;gt;resources-optimizer-maven-plugin&amp;lt;/artifactId&amp;gt;&lt;br/&gt;
 			&amp;lt;/plugin&amp;gt;&lt;br/&gt;
+			&amp;lt;!--&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Yes, thanks. Code is removed.&lt;/p&gt;


</comment>
                            <comment id="17773161" author="githubbot" created="Mon, 9 Oct 2023 07:51:51 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1349962450&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1349962450&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-util/pom.xml:&lt;br/&gt;
##########&lt;br/&gt;
@@ -47,22 +47,6 @@&lt;br/&gt;
 		&amp;lt;dependency&amp;gt;&lt;br/&gt;
 			&amp;lt;groupId&amp;gt;org.junit.jupiter&amp;lt;/groupId&amp;gt;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Yes, thanks. Code is removed.&lt;/p&gt;


</comment>
                            <comment id="17773912" author="githubbot" created="Wed, 11 Oct 2023 06:21:01 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1354156173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1354156173&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-cdi/src/main/java/module-info.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -24,6 +24,7 @@&lt;br/&gt;
     requires org.apache.wicket.request;&lt;br/&gt;
     requires org.apache.wicket.core;&lt;br/&gt;
     requires org.slf4j;&lt;br/&gt;
+    requires static jakarta.servlet;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   @martin-g: Looking at some commits in wicket master it looks like that commits of a PR are squashed, and the comments of these commits are merged and used as comment of the squashed commit. Because of this I decided for the first option (reverted the change, commit, redo, added again and commit) and applied it.&lt;/p&gt;


</comment>
                            <comment id="17773916" author="githubbot" created="Wed, 11 Oct 2023 06:32:37 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1354192644&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1354192644&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   This seems to be the only open issue of this PR. Could someone please take a closer look at this?&lt;/p&gt;

&lt;p&gt;   (I just don&apos;t see any reference where this attribute &quot;wicket:&lt;span class=&quot;error&quot;&gt;&amp;#91;class&amp;#93;&lt;/span&gt;:session&quot; is set. Related could be AbstractPersistentPageStore.KEY_PREFIX = &quot;wicket:&quot;, but I dont see any other &quot;:session&quot; in the code.)&lt;/p&gt;


</comment>
                            <comment id="17774362" author="githubbot" created="Thu, 12 Oct 2023 07:42:46 +0000"  >&lt;p&gt;martin-g commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759099761&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759099761&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   I&apos;ll take a new look soon!&lt;/p&gt;

</comment>
                            <comment id="17774443" author="githubbot" created="Thu, 12 Oct 2023 11:15:06 +0000"  >&lt;p&gt;martin-g commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1356666067&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1356666067&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   See org.apache.wicket.session.HttpSessionStore#getSessionAttributePrefix&lt;/p&gt;


</comment>
                            <comment id="17774445" author="githubbot" created="Thu, 12 Oct 2023 11:19:30 +0000"  >&lt;p&gt;martin-g commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759416035&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759416035&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @gluser1357 Why most of the commits in this PR are by user @sre ? What is your relation ?&lt;/p&gt;

</comment>
                            <comment id="17774451" author="githubbot" created="Thu, 12 Oct 2023 11:28:39 +0000"  >&lt;p&gt;martin-g commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759429463&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759429463&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   org.apache.wicket.core.util.license.ApacheLicenceHeaderTest does nothing in wicket-core-tests module.&lt;br/&gt;
   Issues:&lt;br/&gt;
   1) it does not override `before()` and `licenseHeaders()`&lt;br/&gt;
   2) even when 1) is fixed it does not check the sources of `wicket-core` module&lt;/p&gt;

</comment>
                            <comment id="17774476" author="githubbot" created="Thu, 12 Oct 2023 12:25:25 +0000"  >&lt;p&gt;gluser1357 commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759507153&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759507153&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; @gluser1357 Why most of the commits in this PR are by user @sre ? What is your relation ?&lt;/p&gt;

&lt;p&gt;   My fault. &lt;/p&gt;

&lt;p&gt;   &amp;gt; org.apache.wicket.core.util.license.ApacheLicenceHeaderTest does nothing in wicket-core-tests module. Issues:&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt;     1. it does not override `before()` and `licenseHeaders()`&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt;     2. even when 1) is fixed it does not check the sources of `wicket-core` module&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; *&lt;b&gt;Update&lt;/b&gt;*: Fixed&lt;/p&gt;

&lt;p&gt;   Thanks for fixing, I obviously forgot the two overrides in this class.&lt;/p&gt;

&lt;p&gt;   Are sources of wicket-core checked now, or is something to do here?&lt;/p&gt;

</comment>
                            <comment id="17774477" author="githubbot" created="Thu, 12 Oct 2023 12:25:50 +0000"  >&lt;p&gt;sre commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759508187&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759508187&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; @gluser1357 Why most of the commits in this PR are by user @sre ? What is your relation ?&lt;/p&gt;

&lt;p&gt;   None of them are from me. You see &apos;sre&apos;, because that has been used as the full name for git when authoring the commits. Github just shows the name of the commit, since there is no account connected to the mapchart.com mail address used by the &apos;sre&apos; in this pull request.&lt;/p&gt;

</comment>
                            <comment id="17774479" author="githubbot" created="Thu, 12 Oct 2023 12:28:24 +0000"  >&lt;p&gt;martin-g commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759514276&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759514276&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; Are sources of wicket-core checked now, or is something to do here?&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://github.com/apache/wicket/pull/666/commits/ceacaf29fd68a28e6c6ee1554fb324e5a37bb4e8#diff-cd87ffc1ff8683a3f9ae0fcc7055de1691b36452d962a438d32b72840d5f0c99R137-R151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666/commits/ceacaf29fd68a28e6c6ee1554fb324e5a37bb4e8#diff-cd87ffc1ff8683a3f9ae0fcc7055de1691b36452d962a438d32b72840d5f0c99R137-R151&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17774480" author="githubbot" created="Thu, 12 Oct 2023 12:29:37 +0000"  >&lt;p&gt;martin-g commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759516057&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759516057&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Merging ...&lt;br/&gt;
   More improvements could be made in a separate PR. This one is too big already!&lt;/p&gt;

</comment>
                            <comment id="17774481" author="githubbot" created="Thu, 12 Oct 2023 12:31:04 +0000"  >&lt;p&gt;martin-g merged PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17774482" author="jira-bot" created="Thu, 12 Oct 2023 12:31:08 +0000"  >&lt;p&gt;Commit b0f3da3b0df272ab0e3ed196968acd6ab725e2ec in wicket&apos;s branch refs/heads/master from gluser1357&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=b0f3da3b0d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=b0f3da3b0d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; wicket tester and core tests without test jar (#666)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Remove maven-site-plugin related files&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Wicket does not use maven-site-plugin since a long time&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Update end year for Copyright to 2023&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Remove more maven-site-plugin artifacts&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Cleanup pom.xml files&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Move back the JS tests to wicket-core/src/test/js&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Move WebSocketTester to wicket-native-websocket-tester module&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;revert test-jar from wicket-util (see &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; 26/Sept/23 comment)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;removed one unused dependency&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;added JUnit as non-test dependency in wicket-native-websocket-tester&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;removed commented-out code&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;removed unused dependency&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;reverted requires jakarta.servlet (was not related to test-jar)&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;added requires jakarta.servlet to support default Eclipse test compile&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;: Do not deploy wicket-core-tests artifacts&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This module is just tests for wicket-core&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Use the fully qualified name of TestFilterConfig class&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Fix the ApacheLicenceHeaderTest for wicket-core&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;---------&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;br/&gt;
Co-authored-by: sre &amp;lt;s.reifegerste@mapchart.com&amp;gt;&lt;br/&gt;
Co-authored-by: gluser1357 &amp;lt;gluser1357@users.noreply.github.com&amp;gt;&lt;br/&gt;
Co-authored-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17774484" author="githubbot" created="Thu, 12 Oct 2023 12:32:00 +0000"  >&lt;p&gt;martin-g commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759521121&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759521121&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Thanks for pushing this work, @gluser1357 !&lt;/p&gt;

</comment>
                            <comment id="17774488" author="githubbot" created="Thu, 12 Oct 2023 12:34:55 +0000"  >&lt;p&gt;gluser1357 commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759528254&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759528254&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; &amp;gt; @gluser1357 Why most of the commits in this PR are by user @sre ? What is your relation ?&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; None of them are from me. You see &apos;sre&apos;, because that has been used as the full name for git when authoring the commits. Github just shows the name of the commit, since there is no account connected to the mapchart.com mail address used by the &apos;sre&apos; in this pull request.&lt;/p&gt;

&lt;p&gt;   @sre: Ah, ok, I see, we are both using &quot;sre&quot; &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; I really have to take care about that when commiting, sorry for this confusion. I wonder that my &quot;sre&quot; commits haven&apos;t been checked and rejected by Github :/&lt;/p&gt;

</comment>
                            <comment id="17774493" author="githubbot" created="Thu, 12 Oct 2023 12:54:17 +0000"  >&lt;p&gt;gluser1357 commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759558845&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759558845&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; &amp;gt; Are sources of wicket-core checked now, or is something to do here?&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; &lt;a href=&quot;#diff-cd87ffc1ff8683a3f9ae0fcc7055de1691b36452d962a438d32b72840d5f0c99R137-R151&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;ceacaf2#diff-cd87ffc1ff8683a3f9ae0fcc7055de1691b36452d962a438d32b72840d5f0c99R137-R151&lt;/a&gt;(&lt;a href=&quot;https://github.com/apache/wicket/commit/ceacaf29fd68a28e6c6ee1554fb324e5a37bb4e8#diff-cd87ffc1ff8683a3f9ae0fcc7055de1691b36452d962a438d32b72840d5f0c99R137-R151&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/commit/ceacaf29fd68a28e6c6ee1554fb324e5a37bb4e8#diff-cd87ffc1ff8683a3f9ae0fcc7055de1691b36452d962a438d32b72840d5f0c99R137-R151&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   Ok, tests runs for me on wicket-core with this change, nothing to do anymore here.&lt;/p&gt;

</comment>
                            <comment id="17774495" author="githubbot" created="Thu, 12 Oct 2023 13:01:39 +0000"  >&lt;p&gt;gluser1357 commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1356779916&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1356779916&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   &amp;gt; See org.apache.wicket.session.HttpSessionStore#getSessionAttributePrefix&lt;/p&gt;

&lt;p&gt;   Ok, I see you changed this&lt;br/&gt;
   originally:  ... &lt;em&gt;attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;/em&gt;&lt;br/&gt;
   to: ... &lt;em&gt;attributes.get(&quot;wicket:org.apache.wicket.util.tester.BaseWicketTester.TestFilterConfig:session&quot;);&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;   I wonder if that&apos;s correct since TestFilterConfig is an inner class?&lt;/p&gt;

&lt;p&gt;   A simple alternative would be to save TestFilterConfig as new file and adapt the line to &lt;em&gt;attributes.get(&quot;wicket:org.apache.wicket.util.tester.TestFilterConfig:session&quot;);&lt;/em&gt;&lt;/p&gt;


</comment>
                            <comment id="17774505" author="githubbot" created="Thu, 12 Oct 2023 13:15:53 +0000"  >&lt;p&gt;gluser1357 commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759594995&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759594995&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; Thanks for pushing this work, @gluser1357 !&lt;/p&gt;

&lt;p&gt;   &amp;gt; Thanks for pushing this work, @gluser1357 !&lt;/p&gt;

&lt;p&gt;   No problem. Thank you as well for your great support. 10.0.0-M2 master doesn&apos;t show any errors in Eclipse anymore, that&apos;s really great &#128077; &lt;/p&gt;

</comment>
                            <comment id="17774508" author="githubbot" created="Thu, 12 Oct 2023 13:19:26 +0000"  >&lt;p&gt;martin-g commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1356812102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1356812102&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Good catch!&lt;br/&gt;
   !&lt;span class=&quot;error&quot;&gt;&amp;#91;Screenshot from 2023-10-12 16-18-31&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/wicket/assets/232002/c7574040-f91a-4f09-9a25-c6751b5bf160&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/assets/232002/c7574040-f91a-4f09-9a25-c6751b5bf160&lt;/a&gt;)&lt;/p&gt;



</comment>
                            <comment id="17774509" author="jira-bot" created="Thu, 12 Oct 2023 13:21:02 +0000"  >&lt;p&gt;Commit b3380d893750c2e02880606ea2c53d1c54654283 in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=b3380d8937&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=b3380d8937&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt; Fix the fully qualified name of TestFilterConfig&lt;/p&gt;

&lt;p&gt;Signed-off-by: Martin Tzvetanov Grigorov &amp;lt;mgrigorov@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="17774512" author="githubbot" created="Thu, 12 Oct 2023 13:22:11 +0000"  >&lt;p&gt;martin-g commented on code in PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#discussion_r1356815558&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#discussion_r1356815558&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
wicket-core/src/main/java/org/apache/wicket/protocol/http/mock/MockHttpSession.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -146,7 +145,8 @@ public ServletContext getServletContext()&lt;br/&gt;
 	@Override&lt;br/&gt;
 	public void invalidate()&lt;br/&gt;
 	{&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Session session = (Session) attributes.get(&quot;wicket:&quot; + BaseWicketTester.TestFilterConfig.class.getName() + &quot;:session&quot;);&lt;br/&gt;
+		Session session = (Session) attributes.get(&quot;wicket:&quot; + &quot;BaseWicketTester.TestFilterConfig&quot; + &quot;:session&quot;); // TODO&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   I fixed the bug!&lt;br/&gt;
   The best would be to use a real class reference instead of hardcoding a String like now.&lt;/p&gt;


</comment>
                            <comment id="17774513" author="JIRAUSER302119" created="Thu, 12 Oct 2023 13:24:12 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;: Some final thoughts after resolving this issue:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;with 10.0.0-M2, users using WicketTester (or similar) have to additionally add the &lt;em&gt;wicket-tester&lt;/em&gt; dependency with scope test. This could possibly be noted in the release notes.&lt;/li&gt;
	&lt;li&gt;users that made use of &lt;em&gt;ApacheLicenseHeaderTestCase.java&lt;/em&gt; and &lt;em&gt;WellFormedXmlTestCase.java&lt;/em&gt; must add JUnit annotations (that have been previously part of these classes) in their test code. Maybe not a topic for release notes since these classes are more or less internal?&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;apache-rat-plugin&lt;/em&gt; could replace &lt;em&gt;ApacheLicenseHeaderTestCase.java&lt;/em&gt; (see comments in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; title=&quot;JUnit code in /src/main/java breaks JPMS support in Eclipse IDE&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7072&quot;&gt;&lt;del&gt;WICKET-7072&lt;/del&gt;&lt;/a&gt;)&lt;/li&gt;
	&lt;li&gt;&lt;em&gt;BaseWicketTester.TestFilterConfig&lt;/em&gt; (inner class) could be saved as separate file together with adapting &lt;em&gt;MockHttpSession.java&lt;/em&gt; (see comment in #666) to correct the attribute value (without hardcoded String)&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17774549" author="githubbot" created="Thu, 12 Oct 2023 14:17:04 +0000"  >&lt;p&gt;bitstorm commented on PR #666:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/666#issuecomment-1759698627&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/666#issuecomment-1759698627&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   @gluser1357  thank you indeed for your effort! &#128591;&#127995;&lt;/p&gt;


</comment>
                            <comment id="17775720" author="mgrigorov" created="Mon, 16 Oct 2023 11:40:58 +0000"  >&lt;p&gt;I&apos;ve updated the Migration guide:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://cwiki.apache.org/confluence/display/WICKET/Migration+to+Wicket+10.0#MigrationtoWicket10.0-WicketTesterandrelatedclasseshavebeenextractedtowicket-testerMavenmoduleWICKET-7072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/WICKET/Migration+to+Wicket+10.0#MigrationtoWicket10.0-WicketTesterandrelatedclasseshavebeenextractedtowicket-testerMavenmoduleWICKET-7072&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17776123" author="JIRAUSER302119" created="Tue, 17 Oct 2023 10:12:13 +0000"  >&lt;p&gt;Thanks for updating and releasing! Two things:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;: Could you please update &lt;a href=&quot;https://wicket.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wicket.apache.org&lt;/a&gt; and add the bold (to avoid further compile errors in Eclipse):&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; Users of class WicketTester must now include this module as &lt;b&gt;test&lt;/b&gt; dependency.&lt;/li&gt;
	&lt;li&gt;the linked 10.0.0-M2 artifacts seem not to be available yet in Maven central? E. g. &lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.wicket/wicket-core&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/org.apache.wicket/wicket-core&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17776131" author="solomax" created="Tue, 17 Oct 2023 10:23:59 +0000"  >&lt;p&gt;Artifact is available in central: &lt;a href=&quot;https://repo1.maven.org/maven2/org/apache/wicket/wicket-core/10.0.0-M2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/org/apache/wicket/wicket-core/10.0.0-M2/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Mvnrepository contains outdated info&lt;/p&gt;</comment>
                            <comment id="17776139" author="JIRAUSER302119" created="Tue, 17 Oct 2023 10:36:43 +0000"  >&lt;p&gt;Indeed, thanks. (I wonder why &lt;a href=&quot;https://repo1.maven.org/maven2/org/apache/wicket/wicket-core/10.0.0-M2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repo1.maven.org/maven2/org/apache/wicket/wicket-core/10.0.0-M2/&lt;/a&gt; shows a timestamp of &quot;2023-10-12 22:21&quot; (=lastbuild timestamp?) which &lt;a href=&quot;https://central.sonatype.com/artifact/org.apache.wicket/wicket-core/versions&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://central.sonatype.com/artifact/org.apache.wicket/wicket-core/versions&lt;/a&gt; obviously uses as release time (2023-10-13) even if the release was just yesterday (2023-10-16). IMO a bit confusing &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;)&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="17776145" author="mgrigorov" created="Tue, 17 Oct 2023 10:57:17 +0000"  >&lt;p&gt;Yes, it must be using the modifiedTime. At ASF every release is tested and voted for at least three days and if no issues are found then it is promoted to Maven Central.&lt;/p&gt;</comment>
                            <comment id="17776152" author="bitstorm" created="Tue, 17 Oct 2023 11:16:11 +0000"  >&lt;blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=bitstorm&quot; class=&quot;user-hover&quot; rel=&quot;bitstorm&quot;&gt;bitstorm&lt;/a&gt;: Could you please update &lt;a href=&quot;https://wicket.apache.org/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://wicket.apache.org&lt;/a&gt; and add the bold (to avoid further compile errors in Eclipse):&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt; Users of class WicketTester must now include this module as &lt;b&gt;test&lt;/b&gt; dependency.&lt;/p&gt;

&lt;/blockquote&gt;
&lt;p&gt;Ok, a will add &lt;b&gt;test&lt;/b&gt; qualifier&lt;b&gt;.&lt;/b&gt; I will also update migration guide from 9.x to 10.x asap. **&lt;/p&gt;</comment>
                            <comment id="17809838" author="jira-bot" created="Tue, 23 Jan 2024 09:21:42 +0000"  >&lt;p&gt;Commit 58aa0e2058c535611427783adc1a217a8a8844dd in wicket&apos;s branch refs/heads/master from Tim te Beek&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=58aa0e2058&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=58aa0e2058&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7029&quot; title=&quot;Add migration recipes to Wicket 10&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-7029&quot;&gt;&lt;del&gt;WICKET-7029&lt;/del&gt;&lt;/a&gt; Add wicket-tester dependency during migration (#773)&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7029&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/WICKET-7029&lt;/a&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-7072&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/WICKET-7072&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310460">
                    <name>Child-Issue</name>
                                            <outwardlinks description="is a parent of">
                                        <issuelink>
            <issuekey id="13554238">WICKET-7079</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13507381">WICKET-7019</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13063273" name="image-2023-09-29-16-51-36-563.png" size="61658" author="gluser1357" created="Fri, 29 Sep 2023 14:51:36 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 41 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1kc6w:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>