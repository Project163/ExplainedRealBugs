<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6837] Jupiter engine transitively included in war file</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6837</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;If I run mvn dependency:tree on this basic war pom:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&amp;lt;?xml version=&quot;1.0&quot;?&amp;gt;
&amp;lt;project xmlns=&quot;http://maven.apache.org/POM/4.0.0&quot; xmlns:xsi=&quot;http://www.w3.org/2001/XMLSchema-instance&quot; xsi:schemaLocation=&quot;http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd&quot;&amp;gt;
	&amp;lt;modelVersion&amp;gt;4.0.0&amp;lt;/modelVersion&amp;gt;
	&amp;lt;groupId&amp;gt;test&amp;lt;/groupId&amp;gt;
	&amp;lt;artifactId&amp;gt;test&amp;lt;/artifactId&amp;gt;
	&amp;lt;packaging&amp;gt;war&amp;lt;/packaging&amp;gt;
	&amp;lt;version&amp;gt;1.0&amp;lt;/version&amp;gt;
	&amp;lt;dependencies&amp;gt;
			&amp;lt;dependency&amp;gt;
				&amp;lt;groupId&amp;gt;org.apache.wicket&amp;lt;/groupId&amp;gt;
				&amp;lt;artifactId&amp;gt;wicket-core&amp;lt;/artifactId&amp;gt;
				&amp;lt;version&amp;gt;9.0.0&amp;lt;/version&amp;gt;
				&amp;lt;type&amp;gt;jar&amp;lt;/type&amp;gt;
				&amp;lt;scope&amp;gt;compile&amp;lt;/scope&amp;gt;
			&amp;lt;/dependency&amp;gt;
	&amp;lt;/dependencies&amp;gt;
&amp;lt;/project&amp;gt;&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;then the output is this:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[INFO] test:test:war:1.0
[INFO] \- org.apache.wicket:wicket-core:jar:9.0.0:compile
[INFO]    +- com.github.openjson:openjson:jar:1.0.12:compile
[INFO]    +- org.apache.wicket:wicket-request:jar:9.0.0:compile
[INFO]    +- org.apache.wicket:wicket-util:jar:9.0.0:compile
[INFO]    |  +- commons-fileupload:commons-fileupload:jar:1.4:compile
[INFO]    |  +- commons-io:commons-io:jar:2.6:compile
[INFO]    |  +- org.apache.commons:commons-collections4:jar:4.4:compile
[INFO]    |  \- org.junit.jupiter:junit-jupiter-engine:jar:5.6.2:compile
[INFO]    |     +- org.apiguardian:apiguardian-api:jar:1.1.0:compile
[INFO]    |     +- org.junit.platform:junit-platform-engine:jar:1.6.2:compile
[INFO]    |     |  +- org.opentest4j:opentest4j:jar:1.2.0:compile
[INFO]    |     |  \- org.junit.platform:junit-platform-commons:jar:1.6.2:compile
[INFO]    |     \- org.junit.jupiter:junit-jupiter-api:jar:5.6.2:compile
[INFO]    +- org.danekja:jdk-serializable-functional:jar:1.9.0:compile
[INFO]    \- org.slf4j:slf4j-api:jar:1.7.25:compile&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The org.junit.jupiter:junit-jupiter-engine:jar should not have compile scope, because it means that it will be included in war files that use wicket-core.&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;I believe this is caused by the fact that wicket-util overrides the scope of org.junit.jupiter:junit-jupiter-engine:jar and sets it to &quot;compile&quot;. As far as I understand, overriding the &amp;lt;scope&amp;gt; stops a dependency from inheriting the &amp;lt;optional&amp;gt; element, after which the &amp;lt;optional&amp;gt; element will default to &quot;false&quot;.&lt;/p&gt;

&lt;p&gt;This can be solved by adding the &amp;lt;optional&amp;gt; element to org.junit.jupiter:junit-jupiter-engine:jar and setting it to &quot;true&quot; in wicket-util.&lt;/p&gt;

&lt;p&gt;The wicket-examples war is not affected by this. I think this is because the wicket-examples war file &lt;em&gt;itself&lt;/em&gt; inherits from wicket-parent, in which case I have no idea how it affects the scope/optional resolution &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; Anyway, this is not representative of a typical war file, which would not inherit from wicket-parent.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13330409">WICKET-6837</key>
            <summary>Jupiter engine transitively included in war file</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="gertjan_schouten">Gert-Jan Schouten</reporter>
                        <labels>
                    </labels>
                <created>Thu, 1 Oct 2020 17:24:17 +0000</created>
                <updated>Fri, 2 Oct 2020 11:55:26 +0000</updated>
                            <resolved>Fri, 2 Oct 2020 11:42:02 +0000</resolved>
                                    <version>9.0.0</version>
                                    <fixVersion>9.1.0</fixVersion>
                                    <component>wicket-core</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17206121" author="jira-bot" created="Fri, 2 Oct 2020 11:40:25 +0000"  >&lt;p&gt;Commit a5568b991f1109f0d3c90590aa17340cad8eb633 in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=a5568b9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=a5568b9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6837&quot; title=&quot;Jupiter engine transitively included in war file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6837&quot;&gt;&lt;del&gt;WICKET-6837&lt;/del&gt;&lt;/a&gt; Jupiter engine transitively included in war file&lt;/p&gt;

&lt;p&gt;Explicitly state that junit is an optional dependency.&lt;br/&gt;
The application should add a dependency explicitly if it needs to use WicketTester&lt;/p&gt;</comment>
                            <comment id="17206123" author="mgrigorov" created="Fri, 2 Oct 2020 11:42:02 +0000"  >&lt;p&gt;Thanks!&lt;/p&gt;</comment>
                            <comment id="17206124" author="mgrigorov" created="Fri, 2 Oct 2020 11:42:15 +0000"  >&lt;p&gt;It seems your application does not specify a dependency on junit5 with scope &lt;b&gt;test&lt;/b&gt;. This means that you don&apos;t have any tests! Not good! What is the phone number of your manager ? &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17206128" author="jira-bot" created="Fri, 2 Oct 2020 11:55:26 +0000"  >&lt;p&gt;Commit 465c94f42fa4be1ee8488b610dcda94324b5ce30 in wicket&apos;s branch refs/heads/master from Martin Tzvetanov Grigorov&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=465c94f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=465c94f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6837&quot; title=&quot;Jupiter engine transitively included in war file&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6837&quot;&gt;&lt;del&gt;WICKET-6837&lt;/del&gt;&lt;/a&gt; Jupiter engine transitively included in war file&lt;/p&gt;

&lt;p&gt;All modules should depend on junit5, to run their tests.&lt;br/&gt;
The -guide module does not need it but it does not any harm.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 6 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0j380:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>