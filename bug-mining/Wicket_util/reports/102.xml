<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6971] NullPointerException in ModificationWatcher</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6971</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Sometimes this exception occurs after I edit the CSS.&lt;br/&gt;
&#160;&lt;br/&gt;
```&lt;br/&gt;
2022-04-09 19:28:48.252 | ERROR | &lt;span class=&quot;error&quot;&gt;&amp;#91;ModificationWatcher Task&amp;#93;&lt;/span&gt; | org.apache.wicket.util.thread.Task | Unhandled exception thrown by user code in task ModificationWatcher&lt;br/&gt;
java.lang.NullPointerException: null&lt;br/&gt;
at org.apache.wicket.util.io.Connections.close(Connections.java:133) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;wicket-util-8.14.0.jar:8.14.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.wicket.core.util.resource.UrlResourceStream.updateContentLength(UrlResourceStream.java:247) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;wicket-core-8.14.0.jar:8.14.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.wicket.core.util.resource.UrlResourceStream.lastModifiedTime(UrlResourceStream.java:224) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;wicket-core-8.14.0.jar:8.14.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.wicket.markup.MarkupResourceStream.lastModifiedTime(MarkupResourceStream.java:148) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;wicket-core-8.14.0.jar:8.14.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.wicket.util.watch.ModificationWatcher.checkModified(ModificationWatcher.java:157) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;wicket-util-8.14.0.jar:8.14.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.wicket.util.watch.ModificationWatcher$1.run(ModificationWatcher.java:143) ~&lt;span class=&quot;error&quot;&gt;&amp;#91;wicket-util-8.14.0.jar:8.14.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at org.apache.wicket.util.thread.Task$1.run(Task.java:116) &lt;span class=&quot;error&quot;&gt;&amp;#91;wicket-util-8.14.0.jar:8.14.0&amp;#93;&lt;/span&gt;&lt;br/&gt;
at java.lang.Thread.run(Thread.java:829) &lt;span class=&quot;error&quot;&gt;&amp;#91;?:?&amp;#93;&lt;/span&gt;&lt;br/&gt;
```&lt;br/&gt;
&#160;&lt;br/&gt;
connection.getInputStream() returns null.&lt;br/&gt;
Wicket can check null here.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/wicket/blob/wicket-8.x/wicket-util/src/main/java/org/apache/wicket/util/io/Connections.java#L133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/wicket-8.x/wicket-util/src/main/java/org/apache/wicket/util/io/Connections.java#L133&lt;/a&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
Tomcat&apos;s CachedResourceURLConnection#getInputStream() sometimes returns a WebResource instance with no stream.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/tomcat/blob/9.0.x/java/org/apache/catalina/webresources/CachedResource.java#L516&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tomcat/blob/9.0.x/java/org/apache/catalina/webresources/CachedResource.java#L516&lt;/a&gt;&lt;br/&gt;
&#160;&lt;br/&gt;
I don&apos;t know the conditions under which it can be reproduced.&lt;br/&gt;
&#160;&lt;/p&gt;</description>
                <environment>* Eclipse&amp;#xA0;Version: 2021-12 (4.22.0) Build id: 20211202-1639&lt;br/&gt;
* Tomcat 9.0.44&lt;br/&gt;
* Java11(amazon-corretto-11.0.10.9.1-windows-x64-jdk)</environment>
        <key id="13438904">WICKET-6971</key>
            <summary>NullPointerException in ModificationWatcher</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="try0">Ryo Tsunoda</reporter>
                        <labels>
                    </labels>
                <created>Mon, 11 Apr 2022 09:13:41 +0000</created>
                <updated>Fri, 15 Apr 2022 13:11:30 +0000</updated>
                            <resolved>Fri, 15 Apr 2022 13:11:30 +0000</resolved>
                                                    <fixVersion>10.0.0-M1</fixVersion>
                    <fixVersion>8.14.0</fixVersion>
                    <fixVersion>9.10.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17521634" author="githubbot" created="Wed, 13 Apr 2022 11:27:48 +0000"  >&lt;p&gt;try0 opened a new pull request, #510:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/510&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/510&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Adds null check.&lt;/p&gt;


&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6971&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/WICKET-6971&lt;/a&gt;&lt;br/&gt;
   &lt;a href=&quot;https://lists.apache.org/thread/v3hbwsp3qs0rsnbsj6jp34662hrbjcgk&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread/v3hbwsp3qs0rsnbsj6jp34662hrbjcgk&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17521644" author="githubbot" created="Wed, 13 Apr 2022 11:57:58 +0000"  >&lt;p&gt;martin-g commented on PR #510:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/510#issuecomment-1097965674&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/510#issuecomment-1097965674&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Thanks for the PR, @try0 !&lt;/p&gt;

&lt;p&gt;   I wonder whether we should try/catch the whole method body. &lt;br/&gt;
   Closing a resource is a best effort operation and it should not break the following operations.&lt;br/&gt;
   Currently the method `throws IOException`, i.e. the errors should be propagated. But I don&apos;t see much value in this. IMO catching `Exception` and logging it as a WARNING would be better.&lt;/p&gt;

&lt;p&gt;   Let&apos;s hear some more opinions!&lt;/p&gt;

</comment>
                            <comment id="17521684" author="githubbot" created="Wed, 13 Apr 2022 13:11:58 +0000"  >&lt;p&gt;try0 commented on PR #510:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/510#issuecomment-1098033247&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/510#issuecomment-1098033247&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Hi @martin-g .&lt;br/&gt;
   Thank you for your advice.&lt;/p&gt;

&lt;p&gt;   &amp;gt;IMO catching Exception and logging it as a WARNING would be better.&lt;/p&gt;

&lt;p&gt;   Right.&lt;br/&gt;
   I agree this opinion.&lt;/p&gt;

&lt;p&gt;   But author of the Connections class also implement closeQuietly method.&lt;br/&gt;
   So I think it&apos;s better to keep the throw exceptions in close method.&lt;/p&gt;

&lt;p&gt;   It appears that there are only two callers of the close method, closeQuietly and org.apache.wicket.core.util.resource.UrlResourceStream#lastModifiedTime().&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/core/util/resource/UrlResourceStream.java#L246&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/core/util/resource/UrlResourceStream.java#L246&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   And lastModifiedTime() logs exceptions and return null.&lt;br/&gt;
   &lt;a href=&quot;https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/core/util/resource/UrlResourceStream.java#L227&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/master/wicket-core/src/main/java/org/apache/wicket/core/util/resource/UrlResourceStream.java#L227&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   So,&lt;br/&gt;
   ```&lt;br/&gt;
   InputStream inputStream = connection.getInputStream();&lt;br/&gt;
   if (inputStream == null)&lt;/p&gt;
   {
   	throw new IOException(&quot;No stream.&quot;);
   }
&lt;p&gt;   ```&lt;br/&gt;
   Is it better this way?&lt;br/&gt;
   NullPointerException can be avoided and the code to be changed is minimal.&lt;/p&gt;

</comment>
                            <comment id="17522571" author="githubbot" created="Thu, 14 Apr 2022 22:47:04 +0000"  >&lt;p&gt;try0 commented on PR #510:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/510#issuecomment-1099695661&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/510#issuecomment-1099695661&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Thanks for the review and approving PR!&lt;/p&gt;

</comment>
                            <comment id="17522821" author="githubbot" created="Fri, 15 Apr 2022 13:09:04 +0000"  >&lt;p&gt;martin-g merged PR #510:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/510&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/510&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17522822" author="jira-bot" created="Fri, 15 Apr 2022 13:09:10 +0000"  >&lt;p&gt;Commit 541615be7d6fec61db84e6f1f94fc65227d22eef in wicket&apos;s branch refs/heads/master from Ryo&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=541615be7d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=541615be7d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6971&quot; title=&quot;NullPointerException in ModificationWatcher&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6971&quot;&gt;&lt;del&gt;WICKET-6971&lt;/del&gt;&lt;/a&gt; NullPointerException in ModificationWatcher (#510)&lt;/p&gt;
</comment>
                            <comment id="17522823" author="githubbot" created="Fri, 15 Apr 2022 13:09:13 +0000"  >&lt;p&gt;martin-g commented on PR #510:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/wicket/pull/510#issuecomment-1100099167&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/pull/510#issuecomment-1100099167&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Thank you, @try0 !&lt;/p&gt;

</comment>
                            <comment id="17522824" author="jira-bot" created="Fri, 15 Apr 2022 13:10:37 +0000"  >&lt;p&gt;Commit 07b08ffd10c3aabbf6f1d8f4e44d2b49c679152f in wicket&apos;s branch refs/heads/wicket-9.x from Ryo&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=07b08ffd10&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=07b08ffd10&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6971&quot; title=&quot;NullPointerException in ModificationWatcher&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6971&quot;&gt;&lt;del&gt;WICKET-6971&lt;/del&gt;&lt;/a&gt; NullPointerException in ModificationWatcher (#510)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 541615be7d6fec61db84e6f1f94fc65227d22eef)&lt;/p&gt;</comment>
                            <comment id="17522825" author="jira-bot" created="Fri, 15 Apr 2022 13:10:56 +0000"  >&lt;p&gt;Commit de0afd7120f584056435ba0b7ccb81edbf17e1b3 in wicket&apos;s branch refs/heads/wicket-8.x from Ryo&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=wicket.git;h=de0afd7120&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=wicket.git;h=de0afd7120&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6971&quot; title=&quot;NullPointerException in ModificationWatcher&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6971&quot;&gt;&lt;del&gt;WICKET-6971&lt;/del&gt;&lt;/a&gt; NullPointerException in ModificationWatcher (#510)&lt;/p&gt;

&lt;p&gt;(cherry picked from commit 541615be7d6fec61db84e6f1f94fc65227d22eef)&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            3 years, 30 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z11cbs:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>