<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:22 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6236] Files.remove() causes a 5 seconds delay instead of 500ms as was intended</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6236</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;The method Files.remove(final java.io.File file) has a cycle for trying to delete a file.&lt;br/&gt;
As Javadoc says, it was intended to re-try 50 times, with a delay of 100ms at each 10th attemp (implemented with 2 cycles, one inside another), but acctually it has a 100ms delay EACH time, because the sleep is inside the inner cycle. This produces a delay of 5 secs for each file, and if you have about 10 files it&apos;s a lot of time (about a minute).&lt;/p&gt;

&lt;p&gt;In windows using a page that has a model with a list of FileUpload, it tries to delete the files each time it recovers the Page from PageStore, and (I dont know why) can&apos;t delete any of the files, resulting in the mentioned delay. (in linux it works without problem)&lt;/p&gt;

&lt;p&gt;Besides the problem with windows locking the files, If the cycle works as intended (the sleep in the outer cycle), the problem will be smaller.&lt;/p&gt;
</description>
                <environment>Windows 7</environment>
        <key id="13002434">WICKET-6236</key>
            <summary>Files.remove() causes a 5 seconds delay instead of 500ms as was intended</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="pedrosans">Pedro Santos</assignee>
                                    <reporter username="eloyar">eloy arce</reporter>
                        <labels>
                            <label>delay</label>
                            <label>delete</label>
                            <label>files</label>
                            <label>sleep</label>
                    </labels>
                <created>Fri, 2 Sep 2016 18:31:41 +0000</created>
                <updated>Wed, 7 Sep 2016 03:13:31 +0000</updated>
                            <resolved>Mon, 5 Sep 2016 08:16:28 +0000</resolved>
                                    <version>6.23.0</version>
                    <version>6.24.0</version>
                                    <fixVersion>8.0.0-M2</fixVersion>
                    <fixVersion>6.25.0</fixVersion>
                    <fixVersion>7.5.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="600">10m</timeoriginalestimate>
                            <timeestimate seconds="600">10m</timeestimate>
                                        <comments>
                            <comment id="15464336" author="jira-bot" created="Mon, 5 Sep 2016 07:31:54 +0000"  >&lt;p&gt;Commit 8b4aaa05e9b3526062f7db663b2881322ae87242 in wicket&apos;s branch refs/heads/wicket-6.x from Pedro Henrique Oliveira dos Santos&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=8b4aaa0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=8b4aaa0&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6236&quot; title=&quot;Files.remove() causes a 5 seconds delay instead of 500ms as was intended&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6236&quot;&gt;&lt;del&gt;WICKET-6236&lt;/del&gt;&lt;/a&gt; honoring the javadoc by putting a wait only after the 10th failed attempt to delete a file&lt;/p&gt;</comment>
                            <comment id="15464388" author="jira-bot" created="Mon, 5 Sep 2016 07:58:31 +0000"  >&lt;p&gt;Commit 7d3b7a8660801c7024b863c971c701c7336fefa9 in wicket&apos;s branch refs/heads/wicket-7.x from Pedro Henrique Oliveira dos Santos&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=7d3b7a8&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=7d3b7a8&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6236&quot; title=&quot;Files.remove() causes a 5 seconds delay instead of 500ms as was intended&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6236&quot;&gt;&lt;del&gt;WICKET-6236&lt;/del&gt;&lt;/a&gt; honoring the javadoc by putting a wait only after the 10th failed attempt to delete a file&lt;/p&gt;</comment>
                            <comment id="15464399" author="jira-bot" created="Mon, 5 Sep 2016 08:06:23 +0000"  >&lt;p&gt;Commit 03bacf49dad8371fbf3c935119e29a0b2b5d5b48 in wicket&apos;s branch refs/heads/master from Pedro Henrique Oliveira dos Santos&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=03bacf4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=03bacf4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6236&quot; title=&quot;Files.remove() causes a 5 seconds delay instead of 500ms as was intended&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6236&quot;&gt;&lt;del&gt;WICKET-6236&lt;/del&gt;&lt;/a&gt; honoring the javadoc by putting a wait only after the 10th failed attempt to delete a file&lt;/p&gt;</comment>
                            <comment id="15465676" author="jira-bot" created="Mon, 5 Sep 2016 19:49:10 +0000"  >&lt;p&gt;Commit 5d5af682d061565dbcb8e443e96b515404da7297 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=5d5af68&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=5d5af68&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6236&quot; title=&quot;Files.remove() causes a 5 seconds delay instead of 500ms as was intended&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6236&quot;&gt;&lt;del&gt;WICKET-6236&lt;/del&gt;&lt;/a&gt; honoring the javadoc by putting a wait only after the 10th failed attempt to delete a file&lt;/p&gt;

&lt;p&gt;Scope of Hamcrest must be &apos;test&apos; (inherited).&lt;/p&gt;</comment>
                            <comment id="15469360" author="jira-bot" created="Wed, 7 Sep 2016 03:13:31 +0000"  >&lt;p&gt;Commit 3b42b19973d49141301e9ce79a155968b4111634 in wicket&apos;s branch refs/heads/wicket-7.x from Pedro Henrique Oliveira dos Santos&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=3b42b19&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=3b42b19&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6236&quot; title=&quot;Files.remove() causes a 5 seconds delay instead of 500ms as was intended&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6236&quot;&gt;&lt;del&gt;WICKET-6236&lt;/del&gt;&lt;/a&gt; honoring the javadoc by putting a wait only after the 10th failed attempt to delete a file&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 10 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3376v:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>