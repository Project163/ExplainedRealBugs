<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:21 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6154] Performance bottleneck when using KeyInSessionSunJceCryptFactory</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6154</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;We observed a performance problem in production. As could be seen by thread dumps, many threads were waiting for the same lock, an instance of com.oracle.security.ucrypto.UcryptoProvider.&lt;/p&gt;

&lt;p&gt;The base class java.security.Provider.java extends java.util.Properties and many methos are synchronized(). So calling lots of operations on the provider results in a bottleneck.&lt;/p&gt;

&lt;p&gt;The calls stacks waiting for the lock were the following (line numbers for Wicket 6.0.22, but from looking at the code I expect the same problems should happen even for master).&lt;/p&gt;

&lt;p&gt;First the frames close to the bottom of the stack, they are always the same:&lt;/p&gt;

&lt;p&gt;at org.apache.wicket.core.request.mapper.CryptoMapper.encryptEntireUrl(CryptoMapper.java:313)&lt;br/&gt;
at org.apache.wicket.core.request.mapper.CryptoMapper.encryptUrl(CryptoMapper.java:295)&lt;br/&gt;
at com.mycorp.application.myapp.security.AppCryptoMapper.mapHandler(AppCryptoMapper.java:62)&lt;br/&gt;
at org.apache.wicket.request.cycle.RequestCycle.mapUrlFor(RequestCycle.java:429)&lt;br/&gt;
at org.apache.wicket.request.cycle.RequestCycle.urlFor(RequestCycle.java:529)&lt;br/&gt;
at org.apache.wicket.Component.urlFor(Component.java:3374)&lt;br/&gt;
at org.apache.wicket.markup.html.link.Link.getURL(Link.java:327)&lt;/p&gt;

&lt;p&gt;Now the four most frequent detail stacks which sit above the common stack:&lt;/p&gt;

&lt;p&gt;at java.util.Hashtable.get(Hashtable.java:433)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on (a com.oracle.security.ucrypto.UcryptoProvider@0xHEXADDR)&lt;br/&gt;
at java.util.Properties.getProperty(Properties.java:951)&lt;br/&gt;
at java.security.Provider.getProperty(Provider.java:390)&lt;br/&gt;
at java.security.Security.getProviderProperty(Security.java:262)&lt;br/&gt;
at java.security.Security.isCriterionSatisfied(Security.java:914)&lt;br/&gt;
at java.security.Security.getProvidersNotUsingCache(Security.java:889)&lt;br/&gt;
at java.security.Security.getAllQualifyingCandidates(Security.java:877)&lt;br/&gt;
at java.security.Security.getProviders(Security.java:625)&lt;br/&gt;
at java.security.Security.getProviders(Security.java:552)&lt;br/&gt;
at org.apache.wicket.util.crypt.SunJceCrypt.&amp;lt;init&amp;gt;(SunJceCrypt.java:81)&lt;br/&gt;
at org.apache.wicket.core.util.crypt.KeyInSessionSunJceCryptFactory.createCrypt(KeyInSessionSunJceCryptFactory.java:92)&lt;br/&gt;
at org.apache.wicket.core.util.crypt.KeyInSessionSunJceCryptFactory.newCrypt(KeyInSessionSunJceCryptFactory.java:82)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;at java.security.Provider.getService(Provider.java:680)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on (a com.oracle.security.ucrypto.UcryptoProvider@0xHEXADDR)&lt;br/&gt;
at sun.security.jca.ProviderList.getService(ProviderList.java:331)&lt;br/&gt;
at sun.security.jca.GetInstance.getInstance(GetInstance.java:157)&lt;br/&gt;
at java.security.Security.getImpl(Security.java:695)&lt;br/&gt;
at java.security.MessageDigest.getInstance(MessageDigest.java:167)&lt;br/&gt;
at com.sun.crypto.provider.PBECipherCore.&amp;lt;init&amp;gt;(PBECipherCore.java:75)&lt;br/&gt;
at com.sun.crypto.provider.PBEWithMD5AndDESCipher.&amp;lt;init&amp;gt;(PBEWithMD5AndDESCipher.java:61)&lt;br/&gt;
at sun.reflect.GeneratedConstructorAccessor108.newInstance(Unknown Source)&lt;br/&gt;
at sun.reflect.DelegatingConstructorAccessorImpl.newInstance(DelegatingConstructorAccessorImpl.java:45)&lt;br/&gt;
at java.lang.reflect.Constructor.newInstance(Constructor.java:526)&lt;br/&gt;
at java.security.Provider$Service.newInstance(Provider.java:1240)&lt;br/&gt;
at javax.crypto.Cipher.chooseProvider(Cipher.java:850)&lt;br/&gt;
at javax.crypto.Cipher.init(Cipher.java:1374)&lt;br/&gt;
at javax.crypto.Cipher.init(Cipher.java:1308)&lt;br/&gt;
at org.apache.wicket.util.crypt.SunJceCrypt.createCipher(SunJceCrypt.java:133)&lt;br/&gt;
at org.apache.wicket.util.crypt.SunJceCrypt.crypt(SunJceCrypt.java:114)&lt;br/&gt;
at org.apache.wicket.util.crypt.AbstractCrypt.encryptStringToByteArray(AbstractCrypt.java:172)&lt;br/&gt;
at org.apache.wicket.util.crypt.AbstractCrypt.encryptUrlSafe(AbstractCrypt.java:87)&lt;br/&gt;
at org.apache.wicket.core.request.mapper.CryptoMapper.encryptEntireUrl(CryptoMapper.java:313)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;at java.security.Provider.getService(Provider.java:680)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on (a com.oracle.security.ucrypto.UcryptoProvider@0xHEXADDR)&lt;br/&gt;
at sun.security.jca.ProviderList$ServiceList.tryGet(ProviderList.java:443)&lt;br/&gt;
at sun.security.jca.ProviderList$ServiceList.access$200(ProviderList.java:375)&lt;br/&gt;
at sun.security.jca.ProviderList$ServiceList$1.hasNext(ProviderList.java:485)&lt;br/&gt;
at javax.crypto.Cipher.getInstance(Cipher.java:502)&lt;br/&gt;
at org.apache.wicket.util.crypt.SunJceCrypt.createCipher(SunJceCrypt.java:132)&lt;br/&gt;
at org.apache.wicket.util.crypt.SunJceCrypt.crypt(SunJceCrypt.java:114)&lt;br/&gt;
at org.apache.wicket.util.crypt.AbstractCrypt.encryptStringToByteArray(AbstractCrypt.java:172)&lt;br/&gt;
at org.apache.wicket.util.crypt.AbstractCrypt.encryptUrlSafe(AbstractCrypt.java:87)&lt;br/&gt;
at org.apache.wicket.core.request.mapper.CryptoMapper.encryptEntireUrl(CryptoMapper.java:313)&lt;/li&gt;
&lt;/ul&gt;



&lt;p&gt;at java.security.Provider.getService(Provider.java:680)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;waiting on (a com.oracle.security.ucrypto.UcryptoProvider@0xHEXADDR)&lt;br/&gt;
at sun.security.jca.ProviderList$ServiceList.tryGet(ProviderList.java:436)&lt;br/&gt;
at sun.security.jca.ProviderList$ServiceList.access$200(ProviderList.java:375)&lt;br/&gt;
at sun.security.jca.ProviderList$ServiceList$1.hasNext(ProviderList.java:485)&lt;br/&gt;
at javax.crypto.SecretKeyFactory.nextSpi(SecretKeyFactory.java:292)&lt;br/&gt;
at javax.crypto.SecretKeyFactory.&amp;lt;init&amp;gt;(SecretKeyFactory.java:120)&lt;br/&gt;
at javax.crypto.SecretKeyFactory.getInstance(SecretKeyFactory.java:159)&lt;br/&gt;
at org.apache.wicket.util.crypt.SunJceCrypt.generateSecretKey(SunJceCrypt.java:152)&lt;br/&gt;
at org.apache.wicket.util.crypt.SunJceCrypt.crypt(SunJceCrypt.java:112)&lt;br/&gt;
at org.apache.wicket.util.crypt.AbstractCrypt.encryptStringToByteArray(AbstractCrypt.java:172)&lt;br/&gt;
at org.apache.wicket.util.crypt.AbstractCrypt.encryptUrlSafe(AbstractCrypt.java:87)&lt;br/&gt;
at org.apache.wicket.core.request.mapper.CryptoMapper.encryptEntireUrl(CryptoMapper.java:313)&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;There&apos;s a couple of possible improvements/solutions:&lt;/p&gt;

&lt;p&gt;In SunJceCrypt.java when creating a new instance there&apos;s a check&lt;/p&gt;

&lt;p&gt;Security.getProviders(&quot;Cipher.&quot; + cryptMethod).length &amp;gt; 0&lt;/p&gt;

&lt;p&gt;The result of the check could be cached in a static ConcurrentSkipListSet&amp;lt;String&amp;gt;. Note that the method Security.getProviders() is in one of the synchronized stacks above.&lt;/p&gt;

&lt;p&gt;The SecretKey derived from the string types session key is created in SunJceCrypt using method generateSecretKey() every time a crypt() call is executed. Since the SecretKey only depends on the cryptMethod and the string key, and furthermore it is serializable and should be thread-safe (read-only) it could be generated once and cached in the session. Creation of the SecretKey is another of the synchronized stacks above.&lt;/p&gt;

&lt;p&gt;Furthemore one could cache the cipher per session, more precisely one instance created for encrypt mode and one for decrypt mode. Unfortunately the MetaDataKey based way of putting stuff into the session only allows serializable objects and Cipher is not serializable. The use of such cached ciphers per session would need to be synchronized on the cipher object, but that looks much better than stressing the global provider lock.&lt;/p&gt;

&lt;p&gt;Regards,&lt;/p&gt;

&lt;p&gt;Rainer&lt;/p&gt;</description>
                <environment></environment>
        <key id="12964152">WICKET-6154</key>
            <summary>Performance bottleneck when using KeyInSessionSunJceCryptFactory</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="rainer.jung@kippdata.de">Rainer Jung</reporter>
                        <labels>
                    </labels>
                <created>Sun, 1 May 2016 15:32:42 +0000</created>
                <updated>Thu, 26 May 2016 16:56:47 +0000</updated>
                            <resolved>Thu, 26 May 2016 16:56:47 +0000</resolved>
                                                    <fixVersion>8.0.0-M1</fixVersion>
                    <fixVersion>7.4.0</fixVersion>
                    <fixVersion>6.24.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="15267519" author="jira-bot" created="Mon, 2 May 2016 21:12:32 +0000"  >&lt;p&gt;Commit 051e294ab6159ec4054bbd1a5d305253093d1661 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt;-jce-crypt-performance from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=051e294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=051e294&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; move provider registration to factory, so the check for the cipher&apos;s availability is done once only&lt;/p&gt;</comment>
                            <comment id="15275701" author="mgrigorov" created="Sun, 8 May 2016 20:09:15 +0000"  >&lt;p&gt;Thank you for the detailed description, Rainer!&lt;br/&gt;
We will try to improve it for 6.24.0/7.4.0!&lt;/p&gt;

&lt;p&gt;Did you mean &quot; but that looks much &lt;b&gt;better&lt;/b&gt; than stressing the global provider lock&quot; ?&lt;/p&gt;</comment>
                            <comment id="15275728" author="rainer.jung@kippdata.de" created="Sun, 8 May 2016 20:45:29 +0000"  >&lt;p&gt;Yes, sorry for the slight confusion. Stressing a synchronized cipher per session IMHO would be better than stressing the global provider lock. Caching the SecretKey in the session would be an even easier quick win though.&lt;/p&gt;</comment>
                            <comment id="15276221" author="rainer.jung@kippdata.de" created="Mon, 9 May 2016 11:00:29 +0000"  >&lt;p&gt;The patch contains two parts which can be applied individually:&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;reusing the PBEParameterSpec (new static member &quot;aspec&quot;).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;You might want to deprecate method createParameterSpec() which is no longer in use after the patch but marked as protected.&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Caching the SecretKey in the Session.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;What the patch does not implement is reusing the Cipher object in the same session.&lt;/p&gt;

&lt;p&gt;I must confess, that I have not yet tested the patch.&lt;/p&gt;</comment>
                            <comment id="15295478" author="jira-bot" created="Sun, 22 May 2016 08:53:59 +0000"  >&lt;p&gt;Commit a338eb9df15f3609d3fab78fc2d51cf1afacbb10 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt;-jce-crypt-performance from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a338eb9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a338eb9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Reduce the complexity of the method by removing a conditional branch that is not really needed.&lt;/p&gt;

&lt;p&gt;Note: Security#getProviders() javadoc states that it may return null but the implementation (and the years in usage) show that it actually returns empty array&lt;/p&gt;</comment>
                            <comment id="15295479" author="jira-bot" created="Sun, 22 May 2016 08:54:00 +0000"  >&lt;p&gt;Commit b1f21a399bb0b3f66fff15dd5c502786591ca640 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt;-jce-crypt-performance from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b1f21a3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b1f21a3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Extract PARAMETER_SPEC constant - a PBEParameterSpec that is used by default.&lt;/p&gt;</comment>
                            <comment id="15295480" author="jira-bot" created="Sun, 22 May 2016 08:54:01 +0000"  >&lt;p&gt;Commit 21bd7a42192a0e454ecac4b63799c462a4c6b376 in wicket&apos;s branch refs/heads/&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt;-jce-crypt-performance from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=21bd7a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=21bd7a4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Fix typo in javadoc&lt;/p&gt;</comment>
                            <comment id="15295482" author="mgrigorov" created="Sun, 22 May 2016 08:56:10 +0000"  >&lt;p&gt;I&apos;ve made some small improvements.&lt;br/&gt;
Saving the SecretKey as suggested in the patch is not possible because we could not use Session class in wicket-util.&lt;/p&gt;

&lt;p&gt;For this we should introduce some more specialization classes in wicket-core.&lt;br/&gt;
I&apos;m going to investigate this idea.&lt;/p&gt;</comment>
                            <comment id="15295537" author="mgrigorov" created="Sun, 22 May 2016 12:00:33 +0000"  >&lt;p&gt;Attaching a mini/demo application that stores the created SunJceCrypt instances in the Application metadata and reuses the ciphers/keys/specs.&lt;/p&gt;

&lt;p&gt;Note: this will break as soon as non-sticky sessions are used!&lt;/p&gt;

&lt;p&gt;Another solution would be to make com.mycompany.CachingSunJceCrypt serializable, just to make it possible to put it in Session metatada, but it will fail as soon as session replication is used.&lt;/p&gt;

&lt;p&gt;At the moment I don&apos;t see a generic solution that will work in all environments.&lt;/p&gt;

&lt;p&gt;The earlier commits improved two out of the three described problems. Maybe this is enough for now ?&lt;br/&gt;
If further optimizations are needed then the application developer could do something like in the demo app that will take into account the requirements for his/her particular application.&lt;br/&gt;
WDYT ?&lt;/p&gt;</comment>
                            <comment id="15295694" author="rainer.jung@kippdata.de" created="Sun, 22 May 2016 19:35:34 +0000"  >&lt;p&gt;Thanks a bunch Martin. I think you&apos;ve gone pretty far and especially your demo app is a helpful addition for further app specific optimization. We&apos;ll have a closer look, but it looks ery promising to me.&lt;/p&gt;</comment>
                            <comment id="15302402" author="jira-bot" created="Thu, 26 May 2016 16:52:26 +0000"  >&lt;p&gt;Commit 051e294ab6159ec4054bbd1a5d305253093d1661 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=051e294&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=051e294&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; move provider registration to factory, so the check for the cipher&apos;s availability is done once only&lt;/p&gt;</comment>
                            <comment id="15302403" author="jira-bot" created="Thu, 26 May 2016 16:52:27 +0000"  >&lt;p&gt;Commit a338eb9df15f3609d3fab78fc2d51cf1afacbb10 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a338eb9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=a338eb9&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Reduce the complexity of the method by removing a conditional branch that is not really needed.&lt;/p&gt;

&lt;p&gt;Note: Security#getProviders() javadoc states that it may return null but the implementation (and the years in usage) show that it actually returns empty array&lt;/p&gt;</comment>
                            <comment id="15302404" author="jira-bot" created="Thu, 26 May 2016 16:52:27 +0000"  >&lt;p&gt;Commit b1f21a399bb0b3f66fff15dd5c502786591ca640 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b1f21a3&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=b1f21a3&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Extract PARAMETER_SPEC constant - a PBEParameterSpec that is used by default.&lt;/p&gt;</comment>
                            <comment id="15302405" author="jira-bot" created="Thu, 26 May 2016 16:52:28 +0000"  >&lt;p&gt;Commit 21bd7a42192a0e454ecac4b63799c462a4c6b376 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=21bd7a4&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=21bd7a4&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Fix typo in javadoc&lt;/p&gt;</comment>
                            <comment id="15302406" author="jira-bot" created="Thu, 26 May 2016 16:52:29 +0000"  >&lt;p&gt;Commit 0c4b417ffce6ebab4977a3d1bf777b5305acfe68 in wicket&apos;s branch refs/heads/wicket-6.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=0c4b417&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=0c4b417&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Merge branch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt;-jce-crypt-performance&apos; into wicket-6.x&lt;/p&gt;</comment>
                            <comment id="15302413" author="jira-bot" created="Thu, 26 May 2016 16:53:37 +0000"  >&lt;p&gt;Commit 8f5281dd2cb122b7d9e9f27b6837f03448ff53bc in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=8f5281d&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=8f5281d&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; move provider registration to factory, so the check for the cipher&apos;s availability is done once only&lt;/p&gt;</comment>
                            <comment id="15302414" author="jira-bot" created="Thu, 26 May 2016 16:53:38 +0000"  >&lt;p&gt;Commit 1b649ffa0b3cd517a196fd7ba3cedab3efdef290 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=1b649ff&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=1b649ff&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Reduce the complexity of the method by removing a conditional branch that is not really needed.&lt;/p&gt;

&lt;p&gt;Note: Security#getProviders() javadoc states that it may return null but the implementation (and the years in usage) show that it actually returns empty array&lt;/p&gt;</comment>
                            <comment id="15302415" author="jira-bot" created="Thu, 26 May 2016 16:53:39 +0000"  >&lt;p&gt;Commit 463dfda1ed6d1858781c2adbe04dafa4d0397a9a in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=463dfda&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=463dfda&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Extract PARAMETER_SPEC constant - a PBEParameterSpec that is used by default.&lt;/p&gt;</comment>
                            <comment id="15302416" author="jira-bot" created="Thu, 26 May 2016 16:53:40 +0000"  >&lt;p&gt;Commit 633bc2875fbf2614deb1bd8b12a2a8445b0fec77 in wicket&apos;s branch refs/heads/wicket-7.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=633bc28&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=633bc28&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Fix typo in javadoc&lt;/p&gt;</comment>
                            <comment id="15302419" author="jira-bot" created="Thu, 26 May 2016 16:54:37 +0000"  >&lt;p&gt;Commit 5546b62d458538196528d20d36ac8e4197b5044c in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=svenmeier&quot; class=&quot;user-hover&quot; rel=&quot;svenmeier&quot;&gt;svenmeier&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=5546b62&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=5546b62&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; move provider registration to factory, so the check for the cipher&apos;s availability is done once only&lt;/p&gt;</comment>
                            <comment id="15302420" author="jira-bot" created="Thu, 26 May 2016 16:54:38 +0000"  >&lt;p&gt;Commit 21a5a7c779112b42d4488a3214f5b2aa4d0ed74f in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=21a5a7c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=21a5a7c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Reduce the complexity of the method by removing a conditional branch that is not really needed.&lt;/p&gt;

&lt;p&gt;Note: Security#getProviders() javadoc states that it may return null but the implementation (and the years in usage) show that it actually returns empty array&lt;/p&gt;</comment>
                            <comment id="15302421" author="jira-bot" created="Thu, 26 May 2016 16:54:39 +0000"  >&lt;p&gt;Commit c4fc8d50a34c152acfd1b67eca8a71a946236ed0 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=c4fc8d5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=c4fc8d5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Extract PARAMETER_SPEC constant - a PBEParameterSpec that is used by default.&lt;/p&gt;</comment>
                            <comment id="15302422" author="jira-bot" created="Thu, 26 May 2016 16:54:40 +0000"  >&lt;p&gt;Commit 2f1c14a546efd96f0ef5c92396d80d63d6ed1714 in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2f1c14a&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2f1c14a&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6154&quot; title=&quot;Performance bottleneck when using KeyInSessionSunJceCryptFactory&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6154&quot;&gt;&lt;del&gt;WICKET-6154&lt;/del&gt;&lt;/a&gt; Performance bottleneck when using KeyInSessionSunJceCryptFactory&lt;/p&gt;

&lt;p&gt;Fix typo in javadoc&lt;/p&gt;</comment>
                            <comment id="15302428" author="mgrigorov" created="Thu, 26 May 2016 16:56:47 +0000"  >&lt;p&gt;The improvements are merged to 6.x, 7.x and 8.x branches.&lt;/p&gt;

&lt;p&gt;Please let us know if you face any problems or if you see more room for improvements!&lt;/p&gt;

&lt;p&gt;Thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12805521" name="WICKET-6154-caching-demo.tgz" size="27594" author="mgrigorov" created="Sun, 22 May 2016 12:00:33 +0000"/>
                            <attachment id="12802967" name="crypt-reuse.patch" size="1868" author="rainer.jung@kippdata.de" created="Mon, 9 May 2016 11:00:29 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2x0lr:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>