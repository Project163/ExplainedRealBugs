<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:28:10 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-3753] PropertyVariableInterpolator add support for IConverterLocator (patch included)</title>
                <link>https://issues.apache.org/jira/browse/WICKET-3753</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;Add support for IConverterLocator to PropertyVariableInterpolator (see patch) to work with known IConverter for properties.&lt;/p&gt;

&lt;p&gt;Sample code:&lt;br/&gt;
getString(&quot;created&quot;, Model.of(item));&lt;/p&gt;

&lt;p&gt;properties:&lt;br/&gt;
created=Item created at ${createDate} by ${user}.&lt;/p&gt;

&lt;p&gt;Currently createDate (and any other property) is always converted by toString() instead of respecting IConverter to get properties localized.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12508810">WICKET-3753</key>
            <summary>PropertyVariableInterpolator add support for IConverterLocator (patch included)</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="svenmeier">Sven Meier</assignee>
                                    <reporter username="manthos">manthos</reporter>
                        <labels>
                    </labels>
                <created>Tue, 31 May 2011 09:39:20 +0000</created>
                <updated>Tue, 24 Jul 2012 18:01:00 +0000</updated>
                            <resolved>Thu, 19 Jul 2012 19:14:38 +0000</resolved>
                                    <version>1.5-RC4</version>
                                    <fixVersion>1.5-RC5</fixVersion>
                    <fixVersion>1.5.8</fixVersion>
                    <fixVersion>6.0.0</fixVersion>
                                    <component>wicket</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="13043180" author="ivaynberg" created="Fri, 3 Jun 2011 02:24:37 +0000"  >&lt;p&gt;thanks for the patch, but in the future make sure the tests pass &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="13044478" author="manthos" created="Sun, 5 Jun 2011 09:38:38 +0000"  >&lt;p&gt;oops, I think had run the tests successfully... apparently  not... sorry...&lt;br/&gt;
thanks for applying&lt;/p&gt;</comment>
                            <comment id="13417746" author="svenmeier" created="Wed, 18 Jul 2012 22:14:42 +0000"  >&lt;p&gt;This change break property substitution in StringResourceModel&apos;s resource keys, which should &lt;b&gt;not&lt;/b&gt; be converted according to the current locale.&lt;/p&gt;</comment>
                            <comment id="13418157" author="manthos" created="Thu, 19 Jul 2012 08:10:22 +0000"  >&lt;p&gt;IMO using Localizer.getString with a model (to use for property substitutions in the strings) should honor converter and locale... &lt;br/&gt;
Any ideas how we can deal with it? &lt;/p&gt;</comment>
                            <comment id="13418194" author="tapter" created="Thu, 19 Jul 2012 10:04:02 +0000"  >&lt;p&gt;Using converters to replace properties in KEYS should never happen as this leads to totally strange resource keys which cannot be handled anymore. For example:&lt;br/&gt;
new StringResourceModel(&quot;details.disabled.${disabled}&quot;, this.model) &lt;br/&gt;
will result in keys like &quot;details.disabled.yes&quot; or &quot;details.disabled.nein&quot; since we&apos;re using a default boolean converter to display various booleans throughout the application.&lt;br/&gt;
The culprit is StringResourceModel.getResourceKey() which calls.  return PropertyVariableInterpolator.interpolate(resourceKey, model.getObject());  which results in  PropertyVariableInterpolator.getValue() being called which does the conversion. Maybe there should be a flag on the interpolator whether or not to use converters?&lt;/p&gt;</comment>
                            <comment id="13418212" author="manthos" created="Thu, 19 Jul 2012 10:55:47 +0000"  >&lt;p&gt;This sounds good to me. One thing: Instead of a new parameter flag we could also extract into a KeyVariableInterpolator class, just for a clearer separation. If you agree I will contribute a patch for this.&lt;/p&gt;</comment>
                            <comment id="13418213" author="svenmeier" created="Thu, 19 Jul 2012 11:02:46 +0000"  >&lt;p&gt;Please see my changes in Wicket master. Values are now converted automatically in Localizer. This is much better than the previous solution, because the component&apos;s #getConverter() is taken into account.&lt;/p&gt;

&lt;p&gt;PropertyVariableInterpolator is reverted to it&apos;s 1.4.x state, I.e. no usage of converters.&lt;br/&gt;
Interpolation in resource keys happens without converter.&lt;/p&gt;

&lt;p&gt;Question is: What to do with 1.5.x without stepping on someone&apos;s feet?&lt;/p&gt;</comment>
                            <comment id="13418222" author="manthos" created="Thu, 19 Jul 2012 11:34:06 +0000"  >&lt;p&gt;Thank you. Agree, using components getConverter is much better (btw: correctly also Locale should taken from component).&lt;/p&gt;

&lt;p&gt;Porting to 1.5 shouldn&apos;t break implementations, or have I overlook something?&lt;/p&gt;</comment>
                            <comment id="13418242" author="tapter" created="Thu, 19 Jul 2012 11:58:20 +0000"  >&lt;p&gt;I see no documentation mentioning that StringResourceModels will also convert the variables in the keys and I also see no applications for such a behaviour.&lt;br/&gt;
I do not know what effect those changes of Sven have but replacements in keys should never be let through a converter anyway, that was the only isse I have with localization.&lt;/p&gt;</comment>
                            <comment id="13421294" author="tapter" created="Tue, 24 Jul 2012 09:41:05 +0000"  >&lt;p&gt;I need to backport this to 1.5.7 for the time being. Could you lead me to the file(s) changed by this fix? I don&apos;t see any changes attached to this issue... Thanks!&lt;/p&gt;</comment>
                            <comment id="13421592" author="svenmeier" created="Tue, 24 Jul 2012 18:01:00 +0000"  >&lt;p&gt;Do you have a clone of Wicket&apos;s source?&lt;/p&gt;

&lt;p&gt;git checkout wicket-1.5.x&lt;br/&gt;
git show be9300fe2b1215044721e95eb2318356b2f21311&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="12599514">WICKET-4662</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="12480921" name="converter.patch" size="1659" author="manthos" created="Tue, 31 May 2011 09:39:39 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>71927</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            13 years, 17 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i0ka53:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>116460</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>