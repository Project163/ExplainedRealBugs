diff --git a/wicket-util/src/main/java/org/apache/wicket/util/file/Files.java b/wicket-util/src/main/java/org/apache/wicket/util/file/Files.java
index 9a2204c714..ca61c6fe51 100644
--- a/wicket-util/src/main/java/org/apache/wicket/util/file/Files.java
+++ b/wicket-util/src/main/java/org/apache/wicket/util/file/Files.java
@@ -128,15 +128,14 @@ public class Files
 					{
 						return true;
 					}
-
-					try
-					{
-						Thread.sleep(100);
-					}
-					catch (InterruptedException ix)
-					{
-						Thread.currentThread().interrupt();
-					}
+				}
+				try
+				{
+					Thread.sleep(100);
+				}
+				catch (InterruptedException ix)
+				{
+					Thread.currentThread().interrupt();
 				}
 			}
 		}
diff --git a/wicket-util/src/test/java/org/apache/wicket/util/file/FilesTest.java b/wicket-util/src/test/java/org/apache/wicket/util/file/FilesTest.java
index 2884c300c9..75fdab87f8 100644
--- a/wicket-util/src/test/java/org/apache/wicket/util/file/FilesTest.java
+++ b/wicket-util/src/test/java/org/apache/wicket/util/file/FilesTest.java
@@ -16,6 +16,11 @@
  */
 package org.apache.wicket.util.file;
 
+import static java.lang.System.currentTimeMillis;
+import static org.hamcrest.Matchers.lessThan;
+import static org.mockito.Mockito.mock;
+import static org.mockito.Mockito.when;
+
 import java.io.IOException;
 import java.net.URL;
 
@@ -62,6 +67,21 @@ public class FilesTest extends Assert
 		assertTrue("Should not be able to delete a folder.", Files.removeFolder(folder));
 	}
 
+	/**
+	 * WICKET-6236 - honoring the javadoc by putting a wait only after the 10th failed attempt to delete a file
+	 */
+	@Test
+	public void dontWaitTooMuchIfCantDelete(){
+		java.io.File f = mock(java.io.File.class);
+		when(f.isFile()).thenReturn(true);
+		when(f.delete()).thenReturn(false);
+		long start = currentTimeMillis();
+		Files.remove(f);
+		long end = currentTimeMillis();
+		assertThat(end - start,  lessThan(5000l));
+	}
+
+
 	/**
 	 * Tests for {@link Files#removeFolder(java.io.File)}
 	 * 
