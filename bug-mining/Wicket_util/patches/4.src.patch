diff --git a/wicket-util/src/main/java/org/apache/wicket/util/file/WebXmlFile.java b/wicket-util/src/main/java/org/apache/wicket/util/file/WebXmlFile.java
index bc24014507..3dfd04486f 100644
--- a/wicket-util/src/main/java/org/apache/wicket/util/file/WebXmlFile.java
+++ b/wicket-util/src/main/java/org/apache/wicket/util/file/WebXmlFile.java
@@ -52,29 +52,35 @@ public class WebXmlFile
 	/**
 	 * Gets Wicket filter path via FilterConfig
 	 * 
+	 * @param isServlet
+	 *            true if Servlet, false if Filter
 	 * @param filterConfig
 	 * @return Filter path retrieved from "url-pattern". Null if not found or error occured
 	 */
-	public final String getFilterPath(final FilterConfig filterConfig)
+	public final String getFilterPath(final boolean isServlet, final FilterConfig filterConfig)
 	{
-		return getFilterPath(filterConfig.getServletContext(), filterConfig.getFilterName());
+		return getFilterPath(isServlet, filterConfig.getServletContext(),
+			filterConfig.getFilterName());
 	}
 
 	/**
 	 * Gets Wicket filter path via ServletContext and the filter name
 	 * 
+	 * @param isServlet
+	 *            true if Servlet, false if Filter
 	 * @param servletContext
 	 * @param filterName
 	 * @return Filter path retrieved from "url-pattern". Null if not found or error occured
 	 */
-	public final String getFilterPath(final ServletContext servletContext, final String filterName)
+	public final String getFilterPath(final boolean isServlet, final ServletContext servletContext,
+		final String filterName)
 	{
 		InputStream is = servletContext.getResourceAsStream("/WEB-INF/web.xml");
 		if (is != null)
 		{
 			try
 			{
-				return getFilterPath(filterName, is);
+				return getFilterPath(isServlet, filterName, is);
 			}
 			catch (ParserConfigurationException ex)
 			{
@@ -124,6 +130,8 @@ public class WebXmlFile
 	 * </code>
 	 * </pre>
 	 * 
+	 * @param isServlet
+	 *            true if Servlet, false if Filter
 	 * @param filterName
 	 * @param is
 	 *            The web.xml file
@@ -132,17 +140,31 @@ public class WebXmlFile
 	 * @throws IOException
 	 * @throws SAXException
 	 */
-	public final String getFilterPath(final String filterName, final InputStream is)
-		throws ParserConfigurationException, SAXException, IOException
+	public final String getFilterPath(final boolean isServlet, final String filterName,
+		final InputStream is) throws ParserConfigurationException, SAXException, IOException
 	{
 		DocumentBuilderFactory factory = DocumentBuilderFactory.newInstance();
 		DocumentBuilder builder = factory.newDocumentBuilder();
 		Document document = builder.parse(is);
 
-		String mapping = "filter-mapping";
-		String name = "filter-name";
+		String tag = (isServlet ? "servlet" : "filter");
+		String mapping = tag + "-mapping";
+		String name = tag + "-name";
 
 		String urlPattern = getFilterPath(filterName, mapping, name, document.getChildNodes());
+		if (urlPattern == null)
+		{
+			if (log.isWarnEnabled())
+			{
+				log.warn("web.xml: No url-pattern found for " + tag + " with name " + filterName);
+			}
+			return null;
+		}
+		else if (log.isInfoEnabled())
+		{
+			log.info("web.xml: found " + tag + " with name " + filterName + ". url-pattern=" +
+				urlPattern);
+		}
 
 		// remove leading "/" and trailing "*"
 		return urlPattern.substring(1, urlPattern.length() - 1);
diff --git a/wicket-util/src/test/java/org/apache/wicket/util/file/WebXmlFileTest.java b/wicket-util/src/test/java/org/apache/wicket/util/file/WebXmlFileTest.java
index 7e40cdac21..2b6003e118 100644
--- a/wicket-util/src/test/java/org/apache/wicket/util/file/WebXmlFileTest.java
+++ b/wicket-util/src/test/java/org/apache/wicket/util/file/WebXmlFileTest.java
@@ -31,29 +31,87 @@ import org.xml.sax.SAXException;
  */
 public class WebXmlFileTest extends TestCase
 {
-	public void test_1() throws ParserConfigurationException, SAXException, IOException
+	/**
+	 * 
+	 * @throws ParserConfigurationException
+	 * @throws SAXException
+	 * @throws IOException
+	 */
+	public void test_filter() throws ParserConfigurationException, SAXException, IOException
+	{
+		filterOrServlet(false);
+	}
+
+	/**
+	 * 
+	 * @throws ParserConfigurationException
+	 * @throws SAXException
+	 * @throws IOException
+	 */
+	public void test_servlet() throws ParserConfigurationException, SAXException, IOException
+	{
+		filterOrServlet(true);
+	}
+
+	/**
+	 * 
+	 * @param servlet
+	 * @throws ParserConfigurationException
+	 * @throws SAXException
+	 * @throws IOException
+	 */
+	public void filterOrServlet(boolean servlet) throws ParserConfigurationException, SAXException,
+		IOException
+	{
+		String tag = servlet ? "servlet" : "filter";
+
+		String webxml = getWebXml(tag, "/*");
+		String path = new WebXmlFile().getFilterPath(servlet, "HelloWorldApplication",
+			new ByteArrayInputStream(webxml.toString().getBytes()));
+		assertEquals("", path);
+
+		webxml = getWebXml(tag, "/test/*");
+		path = new WebXmlFile().getFilterPath(servlet, "HelloWorldApplication",
+			new ByteArrayInputStream(webxml.toString().getBytes()));
+		assertEquals("test/", path);
+
+		path = new WebXmlFile().getFilterPath(servlet, "xxx", new ByteArrayInputStream(
+			webxml.toString().getBytes()));
+		assertNull(path);
+
+		path = new WebXmlFile().getFilterPath(!servlet, "HelloWorldApplication",
+			new ByteArrayInputStream(webxml.toString().getBytes()));
+		assertNull(path);
+	}
+
+	/**
+	 * 
+	 * @param filter
+	 * @param url
+	 * @return webxml
+	 */
+	private String getWebXml(String filter, String url)
 	{
 		StringBuffer webxml = new StringBuffer();
 		webxml.append("<web-app>");
-		webxml.append("<filter>");
-		webxml.append(" <filter-name>HelloWorldApplication</filter-name>");
-		webxml.append(" <filter-class>org.apache.wicket.protocol.http.WicketFilter</filter-class>");
+		webxml.append("<" + filter + ">");
+		webxml.append(" <" + filter + "-name>HelloWorldApplication</" + filter + "-name>");
+		webxml.append(" <" + filter + "-class>org.apache.wicket.protocol.http.WicketFilter</" +
+			filter + "-class>");
 		webxml.append(" <init-param>");
 		webxml.append("  <param-name>applicationClassName</param-name>");
 		webxml.append("  <param-value>org.apache.wicket.examples.helloworld.HelloWorldApplication</param-value>");
 		webxml.append(" </init-param>");
-		webxml.append("</filter>");
+		webxml.append("</" + filter + ">");
 		webxml.append("");
-		webxml.append("<filter-mapping>");
-		webxml.append(" <filter-name>HelloWorldApplication</filter-name>");
-		webxml.append(" <url-pattern>/*</url-pattern>");
+		webxml.append("<" + filter + "-mapping>");
+		webxml.append(" <" + filter + "-name>HelloWorldApplication</" + filter + "-name>");
+		webxml.append(" <url-pattern>" + url + "</url-pattern>");
 		webxml.append(" <dispatcher>REQUEST</dispatcher>");
 		webxml.append(" <dispatcher>INCLUDE</dispatcher>");
-		webxml.append("</filter-mapping>");
+		webxml.append("</" + filter + "-mapping>");
 		webxml.append("</web-app>");
 
-		String path = new WebXmlFile().getFilterPath("HelloWorldApplication",
-			new ByteArrayInputStream(webxml.toString().getBytes()));
-		assertEquals("", path);
+		return webxml.toString();
 	}
 }
