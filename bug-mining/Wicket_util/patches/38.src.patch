diff --git a/wicket-util/src/main/java/org/apache/wicket/util/string/StringValue.java b/wicket-util/src/main/java/org/apache/wicket/util/string/StringValue.java
index de5206cedb..fa5ba542fc 100755
--- a/wicket-util/src/main/java/org/apache/wicket/util/string/StringValue.java
+++ b/wicket-util/src/main/java/org/apache/wicket/util/string/StringValue.java
@@ -592,69 +592,69 @@ public class StringValue implements IClusterable
 	}
 
 	/**
-	 * Convert to object types, returning null if text is null.
+	 * Convert to object types, returning null if text is null or empty.
 	 * 
 	 * @return converted
 	 * @throws StringValueConversionException
 	 */
 	public final Boolean toOptionalBoolean() throws StringValueConversionException
 	{
-		return (text == null) ? null : toBooleanObject();
+		return Strings.isEmpty(text) ? null : toBooleanObject();
 	}
 
 	/**
-	 * Convert to object types, returning null if text is null.
+	 * Convert to object types, returning null if text is null or empty.
 	 * 
 	 * @return converted
 	 * @throws StringValueConversionException
 	 */
 	public final Character toOptionalCharacter() throws StringValueConversionException
 	{
-		return (text == null) ? null : toCharacter();
+		return Strings.isEmpty(text) ? null : toCharacter();
 	}
 
 	/**
-	 * Convert to object types, returning null if text is null.
+	 * Convert to object types, returning null if text is null or empty.
 	 * 
 	 * @return converted
 	 * @throws StringValueConversionException
 	 */
 	public final Double toOptionalDouble() throws StringValueConversionException
 	{
-		return (text == null) ? null : toDoubleObject();
+		return Strings.isEmpty(text) ? null : toDoubleObject();
 	}
 
 	/**
-	 * Convert to object types, returning null if text is null.
+	 * Convert to object types, returning null if text is null or empty.
 	 * 
 	 * @return converted
 	 * @throws StringValueConversionException
 	 */
 	public final Duration toOptionalDuration() throws StringValueConversionException
 	{
-		return (text == null) ? null : toDuration();
+		return Strings.isEmpty(text) ? null : toDuration();
 	}
 
 	/**
-	 * Convert to object types, returning null if text is null.
+	 * Convert to object types, returning null if text is null or empty.
 	 * 
 	 * @return converted
 	 * @throws StringValueConversionException
 	 */
 	public final Integer toOptionalInteger() throws StringValueConversionException
 	{
-		return (text == null) ? null : toInteger();
+		return Strings.isEmpty(text) ? null : toInteger();
 	}
 
 	/**
-	 * Convert to object types, returning null if text is null.
+	 * Convert to object types, returning null if text is null or empty.
 	 * 
 	 * @return converted
 	 * @throws StringValueConversionException
 	 */
 	public final Long toOptionalLong() throws StringValueConversionException
 	{
-		return (text == null) ? null : toLongObject();
+		return Strings.isEmpty(text) ? null : toLongObject();
 	}
 
 	/**
@@ -668,14 +668,14 @@ public class StringValue implements IClusterable
 	}
 
 	/**
-	 * Convert to object types, returning null if text is null.
+	 * Convert to object types, returning null if text is null or empty.
 	 * 
 	 * @return converted
 	 * @throws StringValueConversionException
 	 */
 	public final Time toOptionalTime() throws StringValueConversionException
 	{
-		return (text == null) ? null : toTime();
+		return Strings.isEmpty(text) ? null : toTime();
 	}
 
 	/**
diff --git a/wicket-util/src/test/java/org/apache/wicket/util/string/StringValueTest.java b/wicket-util/src/test/java/org/apache/wicket/util/string/StringValueTest.java
new file mode 100644
index 0000000000..b865a49078
--- /dev/null
+++ b/wicket-util/src/test/java/org/apache/wicket/util/string/StringValueTest.java
@@ -0,0 +1,44 @@
+package org.apache.wicket.util.string;
+
+import org.junit.Assert;
+import org.junit.Test;
+
+/**
+ *
+ */
+public class StringValueTest extends Assert
+{
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-4309
+	 */
+	@Test
+	public void toOptionalXyzWithEmptyString()
+	{
+		StringValue sv = new StringValue("");
+		assertNull(sv.toOptionalBoolean());
+		assertNull(sv.toOptionalCharacter());
+		assertNull(sv.toOptionalDouble());
+		assertNull(sv.toOptionalDuration());
+		assertNull(sv.toOptionalInteger());
+		assertNull(sv.toOptionalLong());
+		assertEquals("", sv.toOptionalString());
+		assertNull(sv.toOptionalTime());
+	}
+
+	/**
+	 * https://issues.apache.org/jira/browse/WICKET-4309
+	 */
+	@Test
+	public void toOptionalXyzWithNull()
+	{
+		StringValue sv = new StringValue(null);
+		assertNull(sv.toOptionalBoolean());
+		assertNull(sv.toOptionalCharacter());
+		assertNull(sv.toOptionalDouble());
+		assertNull(sv.toOptionalDuration());
+		assertNull(sv.toOptionalInteger());
+		assertNull(sv.toOptionalLong());
+		assertNull(sv.toOptionalString());
+		assertNull(sv.toOptionalTime());
+	}
+}
