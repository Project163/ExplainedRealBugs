{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4617","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4617/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4617/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4617/events","html_url":"https://github.com/tauri-apps/tauri/issues/4617","id":1297174299,"node_id":"I_kwDOC7lts85NUU8b","number":4617,"title":"[feat] Add .taurignore and turn off the default behavior of watching all workspace members","user":{"login":"simonhyll","id":79983560,"node_id":"MDQ6VXNlcjc5OTgzNTYw","avatar_url":"https://avatars.githubusercontent.com/u/79983560?v=4","gravatar_id":"","url":"https://api.github.com/users/simonhyll","html_url":"https://github.com/simonhyll","followers_url":"https://api.github.com/users/simonhyll/followers","following_url":"https://api.github.com/users/simonhyll/following{/other_user}","gists_url":"https://api.github.com/users/simonhyll/gists{/gist_id}","starred_url":"https://api.github.com/users/simonhyll/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/simonhyll/subscriptions","organizations_url":"https://api.github.com/users/simonhyll/orgs","repos_url":"https://api.github.com/users/simonhyll/repos","events_url":"https://api.github.com/users/simonhyll/events{/privacy}","received_events_url":"https://api.github.com/users/simonhyll/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3176728874,"node_id":"MDU6TGFiZWwzMTc2NzI4ODc0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/scope:%20cli.rs","name":"scope: cli.rs","color":"D4C5F9","default":false,"description":"The tauri-cli rust crate"},{"id":3307089819,"node_id":"MDU6TGFiZWwzMzA3MDg5ODE5","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20feature%20request","name":"type: feature request","color":"446DBA","default":false,"description":""},{"id":3307098206,"node_id":"MDU6TGFiZWwzMzA3MDk4MjA2","url":"https://api.github.com/repos/tauri-apps/tauri/labels/priority:%202%20medium","name":"priority: 2 medium","color":"E844A1","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":49,"created_at":"2022-07-07T10:35:27Z","updated_at":"2024-08-23T05:32:05Z","closed_at":"2022-07-29T21:34:45Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the problem\r\n\r\nI use a monolithic style repository. Crates in my repository can be completely unrelated to the Tauri app, such as the REST API. But even if it's related to the app, for example the frontend resides in a separate workspace member than the Tauri source code. The result of watching all workspace members then is that rather than having hot reloading for my frontend, any change to the frontend results in the Tauri app being rebuilt as well. If I update the API, Tauri rebuilds, for absolutely no good reason. Even if I just change the README in another project, it triggers a rebuild of the Tauri app.\r\n\r\nThe only solution right now for me that sort of works is by passing an ignore file as an environment variable in the format of `TAURI_DEV_WATCHER_IGNORE_FILE=.taurignore`. It works, but passing that environment variable is incredibly annoying.\r\n\r\n### Describe the solution you'd like\r\n\r\n- Disable watching all workspace members by default. Add a CLI flag such as `--watch-members` to enable it. It's a good feature but I highly doubt most people using workspaces are using every single crate in their workspace for the Tauri project. If you disagree, at least add the reverse option, e.g. `--no-watch-members`\r\n- Support reading files in the workspace called `.taurignore` that disable watchers for ignored files\r\n\r\n### Alternatives considered\r\n\r\nNone really. I'll use my workaround until either of the above solutions are implemented, or until someone else suggests something better.\r\n\r\nOne potential improvement to the watched files could be only watching for changes in `*.rs` files in other workspace members, since it's pretty much guaranteed that the only reason you want to rebuild your Tauri app based on a workspace member change is when you've updated the Rust code. Icons and such most likely reside in the Tauri project itself so watching the entire Tauri project makes sense, but watching all files in all workspace members is almost guaranteed to be unnecessary and unwanted behavior, watching all Rust files should be the only thing people really need. Ignore files would still be required because again, if I have a REST API, I don't want those Rust source files to rebuild my Tauri app as well, but it'd be a start.\r\n\r\n### Additional context\r\n\r\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4617/reactions","total_count":8,"+1":8,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4617/timeline","performed_via_github_app":null,"state_reason":"completed"}