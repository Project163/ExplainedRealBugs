{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2509","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2509/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2509/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2509/events","html_url":"https://github.com/tauri-apps/tauri/issues/2509","id":976241993,"node_id":"MDU6SXNzdWU5NzYyNDE5OTM=","number":2509,"title":"pnpm tauri info exits with error code 101","user":{"login":"linuxuser586","id":1167454,"node_id":"MDQ6VXNlcjExNjc0NTQ=","avatar_url":"https://avatars.githubusercontent.com/u/1167454?v=4","gravatar_id":"","url":"https://api.github.com/users/linuxuser586","html_url":"https://github.com/linuxuser586","followers_url":"https://api.github.com/users/linuxuser586/followers","following_url":"https://api.github.com/users/linuxuser586/following{/other_user}","gists_url":"https://api.github.com/users/linuxuser586/gists{/gist_id}","starred_url":"https://api.github.com/users/linuxuser586/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/linuxuser586/subscriptions","organizations_url":"https://api.github.com/users/linuxuser586/orgs","repos_url":"https://api.github.com/users/linuxuser586/repos","events_url":"https://api.github.com/users/linuxuser586/events{/privacy}","received_events_url":"https://api.github.com/users/linuxuser586/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2021-08-21T23:26:18Z","updated_at":"2021-09-24T14:56:03Z","closed_at":"2021-09-24T14:56:03Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- BEFORE YOU FILE A NEW ISSUE-->\r\n<!--\r\n\r\n0. Please search open issues before duplicating a new one.\r\n1. Make sure you are using the latest version of everything including: \r\n  - rustc \r\n  - ALL relevant Tauri Libs\r\n2. You must attach the results of cargo tauri info or yarn tauri info to your issue.\r\n3. Make sure it is an issue with Tauri, and not something to do with your side of the stack.\r\n4. Consider starting a discussion. Speaking of which, have you looked there? Maybe your question has been answered.\r\n5. Remember to follow our community guidelines and be friendly.\r\n6. Is this an issue or a feature request? If the latter, please use the other template.\r\n\r\n-->\r\n\r\n### **Describe the bug**\r\nRunning `pnpm tauri info` exits with code 101\r\n\r\n### **To Reproduce**\r\nSteps to reproduce the behavior:\r\n1. `pnpm init`\r\n2. `pnpm add -D @tauri-apps/cli`\r\n2. `pnpm add @tauri-apps/api`\r\n3. `tauri init`\r\n4. `pnpm tauri info`\r\n5. Observe error\r\n\r\n### **Expected behavior**\r\nDisplay the correct versions and exit with no error. Also note that the incorrect version for `@tauri-apps/cli` is reported when using pnpm before my proposed fix.\r\n\r\n### **Screenshots**\r\n```sh\r\npnpm tauri info\r\nDownloading Rust CLI...\r\nDownload Complete\r\n app:spawn Running \"/home/barry/experiment/tauri/demo-1/node_modules/.pnpm/@tauri-apps+cli@1.0.0-beta.9/node_modules/@tauri-apps/cli/bin/tauri-cli tauri info\" +0ms\r\n\r\n\r\nOperating System - Ubuntu, version 20.04 X64\r\n\r\nNode.js environment\r\n  Node.js - 14.17.4\r\n  @tauri-apps/cli - 1.0.0-beta.7 (outdated, latest: 1.0.0-beta.9)\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Error(\"unexpected character 't' while parsing major version number\")', src/info.rs:323:53\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\n  @tauri-apps/api - tauri-apps\r\n app:spawn Command \"/home/barry/experiment/tauri/demo-1/node_modules/.pnpm/@tauri-apps+cli@1.0.0-beta.9/node_modules/@tauri-apps/cli/bin/tauri-cli\" failed with exit code: 101 +0ms\r\n```\r\n\r\n### **Platform and Versions (required):**\r\n<!-- Use `yarn tauri info` or `cargo tauri info` command to get this information, and paste it here: -->\r\n```\r\nOperating System - Ubuntu, version 20.04 X64\r\n\r\nNode.js environment\r\n  Node.js - 14.17.4\r\n  @tauri-apps/cli - 1.0.0-beta.9\r\n  @tauri-apps/api - 1.0.0-beta.6\r\n\r\nGlobal packages\r\n  npm - 7.20.3\r\n  pnpm - 6.13.0\r\n  yarn - 1.22.4\r\n\r\nRust environment\r\n  rustc - 1.54.0\r\n  cargo - 1.54.0\r\n\r\nApp directory structure\r\n/src-tauri\r\n/node_modules\r\n\r\nApp\r\n  tauri.rs - 1.0.0-beta.7\r\n  build-type - bundle\r\n  CSP - default-src blob: data: filesystem: ws: wss: http: https: tauri: 'unsafe-eval' 'unsafe-inline' 'self' img-src: 'self'\r\n  distDir - src-tauri/tauri.conf.json\r\n  devPath - http://localhost:3000\r\n```\r\n\r\n### **Additional context**\r\nMy suggested fix produces the above output\r\n\r\n### **Stack Trace**\r\n<!-- add if applicable -->\r\n","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2509/reactions","total_count":6,"+1":5,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2509/timeline","performed_via_github_app":null,"state_reason":"completed"}