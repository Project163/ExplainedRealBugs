{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2791","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2791/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2791/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2791/events","html_url":"https://github.com/tauri-apps/tauri/issues/2791","id":1034096320,"node_id":"I_kwDOC7lts849ow7A","number":2791,"title":"event.preventDefault() not working when clicks <a> elements","user":{"login":"xuchaoqian","id":1064052,"node_id":"MDQ6VXNlcjEwNjQwNTI=","avatar_url":"https://avatars.githubusercontent.com/u/1064052?v=4","gravatar_id":"","url":"https://api.github.com/users/xuchaoqian","html_url":"https://github.com/xuchaoqian","followers_url":"https://api.github.com/users/xuchaoqian/followers","following_url":"https://api.github.com/users/xuchaoqian/following{/other_user}","gists_url":"https://api.github.com/users/xuchaoqian/gists{/gist_id}","starred_url":"https://api.github.com/users/xuchaoqian/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xuchaoqian/subscriptions","organizations_url":"https://api.github.com/users/xuchaoqian/orgs","repos_url":"https://api.github.com/users/xuchaoqian/repos","events_url":"https://api.github.com/users/xuchaoqian/events{/privacy}","received_events_url":"https://api.github.com/users/xuchaoqian/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-10-23T06:55:53Z","updated_at":"2024-05-15T07:36:07Z","closed_at":"2021-10-30T06:01:38Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### **Describe the bug**\r\nWe want to capture all click events on < a > elements, and then open link in new tauri window or custom tab(just like chrome tab), instead of opening link in the default browser.\r\n\r\nIt works fine in the default browser, but gets unexpected result in tauri windows: event.preventDefault() does NOT work anymore, tauri always open it in the default browser. \r\n\r\n### **To Reproduce**\r\nSteps to reproduce the behavior:\r\n\r\nCode sample as following(See it online: [https://jsfiddle.net/uvrt0ajd/5/](https://jsfiddle.net/uvrt0ajd/5/)):\r\n\r\n```\r\n<a href=\"http://stackoverflow.com/q/8614438/1366033\" \r\n   onclick=\"event.preventDefault()\" \r\n   target=\"_blank\">click</a>\r\n<a href=\"http://stackoverflow.com/q/8614438/1366033\" target=\"_blank\" >click2</a>\r\n<a href=\"http://stackoverflow.com/q/8614438/1366033\" target=\"_blank\" >click3</a>\r\n<script>\r\n  const links = document.links;\r\n  for (let i = 0, n = links.length; i < n; i++) {\r\n    links[i].onclick = function (event) {\r\n      event.preventDefault();\r\n      return false;\r\n    };\r\n  }\r\n</script>\r\n```\r\n\r\n### **Expected behavior**\r\nShould NOT open the link in the default browser.\r\n\r\n### **Platform and Versions (required):**\r\n```\r\nOperating System - Mac OS, version 11.6.0 X64\r\n\r\nNode.js environment\r\n  Node.js - 14.18.1\r\n  @tauri-apps/cli - 1.0.0-beta.10\r\n  @tauri-apps/api - 1.0.0-beta.8\r\n\r\nGlobal packages\r\n  npm - 6.14.15\r\n  yarn - 1.22.17\r\n\r\nRust environment\r\n  rustc - 1.56.0\r\n  cargo - 1.56.0\r\n\r\nApp directory structure\r\n/bin\r\n/node_modules\r\n/webpack\r\n/public\r\n/src-tauri\r\n/build\r\n/.git\r\n/.vscode\r\n/src\r\n\r\nApp\r\n  tauri.rs - 1.0.0-beta.8\r\n  build-type - bundle\r\n  CSP - default-src blob: data: filesystem: ws: wss: http: https: tauri: 'unsafe-eval' 'unsafe-inline' 'self' img-src: 'self'\r\n  distDir - ../build\r\n  devPath - http://localhost:9091\r\n  framework - React\r\n  bundler - Webpack\r\n```\r\n","closed_by":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2791/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2791/timeline","performed_via_github_app":null,"state_reason":"completed"}