{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/6427","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/6427/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/6427/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/6427/events","html_url":"https://github.com/tauri-apps/tauri/issues/6427","id":1620382248,"node_id":"I_kwDOC7lts85glRIo","number":6427,"title":"[bug] cli.js failing to detect NodeJS binary named `node-18`","user":{"login":"brxken128","id":77554505,"node_id":"MDQ6VXNlcjc3NTU0NTA1","avatar_url":"https://avatars.githubusercontent.com/u/77554505?v=4","gravatar_id":"","url":"https://api.github.com/users/brxken128","html_url":"https://github.com/brxken128","followers_url":"https://api.github.com/users/brxken128/followers","following_url":"https://api.github.com/users/brxken128/following{/other_user}","gists_url":"https://api.github.com/users/brxken128/gists{/gist_id}","starred_url":"https://api.github.com/users/brxken128/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/brxken128/subscriptions","organizations_url":"https://api.github.com/users/brxken128/orgs","repos_url":"https://api.github.com/users/brxken128/repos","events_url":"https://api.github.com/users/brxken128/events{/privacy}","received_events_url":"https://api.github.com/users/brxken128/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":4288483270,"node_id":"LA_kwDOC7lts87_nQ_G","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20needs%20triage","name":"status: needs triage","color":"059372","default":false,"description":"This issue needs to triage, applied to new issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-03-12T14:17:34Z","updated_at":"2023-07-21T22:18:07Z","closed_at":"2023-03-16T12:01:45Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nOn Fedora 38, the package manager's Node binary is named `node-18` (located in `/usr/bin/node-18`).\r\n\r\nThis seems to be incompatible with [this commit](https://github.com/tauri-apps/tauri/pull/5345/commits/017fc705067cc55d7a56c664e87bb34a3cb58c0f), and running any command (such as `pnpm tauri dev`) will fail.\r\n\r\n### Reproduction\r\n\r\n1. Install `nodejs` via `sudo dnf install nodejs`\r\n2. Go to any project that uses Tauri\r\n3. Call any Tauri command that uses the JS-CLI wrapper, e.g. `pnpm tauri dev`\r\n\r\n### Expected behavior\r\n\r\nThe `node-18` binary name should be considered valid, and not cause an error.\r\n\r\n### Platform and versions\r\n\r\n```text\r\nEnvironment\r\n  › OS: Fedora 38.0.0 X64\r\n  › Node.js: 19.7.0\r\n  › npm: 9.5.0\r\n  › pnpm: 7.29.1\r\n  › yarn: Not installed!\r\n  › rustup: 1.25.2\r\n  › rustc: 1.68.0\r\n  › cargo: 1.68.0\r\n  › Rust toolchain: stable-x86_64-unknown-linux-gnu \r\n\r\nPackages\r\n  › @tauri-apps/cli [NPM]: 2.0.0-alpha.2\r\n  › @tauri-apps/api [NPM]: Not installed! (2.0.0-alpha.0)\r\n  › tauri [RUST]: git+https://github.com/tauri-apps/tauri?rev=d1752fb1f6223fa47d224cb6c62df9b74944a507#d1752fb1f6223fa47d224cb6c62df9b74944a507 (2.0.0-alpha.3),\r\n  › tauri-build [RUST]: git+https://github.com/tauri-apps/tauri?rev=d1752fb1f6223fa47d224cb6c62df9b74944a507#d1752fb1f6223fa47d224cb6c62df9b74944a507 (2.0.0-alpha.1),\r\n  › tao [RUST]: 0.18.1,\r\n  › wry [RUST]: git+https://github.com/tauri-apps/wry?branch=dev#db6618b560b9fbaed7e333bb6bb2463f5196ca17 (0.27.0),\r\n\r\nApp\r\n  › build-type: bundle\r\n  › CSP: unset\r\n  › distDir: ../dist\r\n  › devPath: http://localhost:1420/\r\n  › framework: React\r\n  › bundler: Vite\r\n\r\nApp directory structure\r\n  ├─ src-tauri\r\n  ├─ .vscode\r\n  ├─ src\r\n  ├─ public\r\n  ├─ node_modules\r\n  └─ dist\r\n```\r\n\r\n\r\n### Stack trace\r\n\r\n```text\r\n> tauri \"dev\"\r\n\r\nerror: The subcommand '/usr/bin/node-18' wasn't recognized\r\n\r\nUsage: cargo-tauri [OPTIONS] <COMMAND>\r\n\r\nFor more information try '--help'\r\n ELIFECYCLE  Command failed with exit code 2.\r\n```\r\n\r\n\r\n### Additional context\r\n\r\nThe Node version mentioned in `Platforms and versions` was installed via `fnm`, and is not a binary that produces this error.\r\n\r\nAdditionally, `pnpm tauri info` (or any other variation) panics unless `@tauri-apps/api` is manually removed from the local `package.json` - I've attached the actual version number next to it.","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/6427/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/6427/timeline","performed_via_github_app":null,"state_reason":"completed"}