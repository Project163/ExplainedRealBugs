{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/7519","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7519/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7519/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7519/events","html_url":"https://github.com/tauri-apps/tauri/issues/7519","id":1827491222,"node_id":"I_kwDOC7lts85s7U2W","number":7519,"title":"[bug] Windows do not respect \"focus\" property","user":{"login":"Jackson0ne","id":73694667,"node_id":"MDQ6VXNlcjczNjk0NjY3","avatar_url":"https://avatars.githubusercontent.com/u/73694667?v=4","gravatar_id":"","url":"https://api.github.com/users/Jackson0ne","html_url":"https://github.com/Jackson0ne","followers_url":"https://api.github.com/users/Jackson0ne/followers","following_url":"https://api.github.com/users/Jackson0ne/following{/other_user}","gists_url":"https://api.github.com/users/Jackson0ne/gists{/gist_id}","starred_url":"https://api.github.com/users/Jackson0ne/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Jackson0ne/subscriptions","organizations_url":"https://api.github.com/users/Jackson0ne/orgs","repos_url":"https://api.github.com/users/Jackson0ne/repos","events_url":"https://api.github.com/users/Jackson0ne/events{/privacy}","received_events_url":"https://api.github.com/users/Jackson0ne/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":4288483270,"node_id":"LA_kwDOC7lts87_nQ_G","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20needs%20triage","name":"status: needs triage","color":"059372","default":false,"description":"This issue needs to triage, applied to new issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":5,"created_at":"2023-07-29T13:42:51Z","updated_at":"2025-06-04T12:51:04Z","closed_at":"2023-09-11T20:00:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nHi all,\r\n\r\nFirst off, just wanted to say that I'm really enjoying using Tauri and have had great feedback from users so far!\r\n\r\nI seem to be having an issue with focus behaviour on all windows on the Windows platform. I've noticed it in quite a few different scenarios, and my app's users are also seeing the same behaviour, so thought I would report it!\r\n\r\nIt seems that because the default focus of all windows is set to `true`, this will always either override a `\"focus\"` setting of `false` in newly created windows at runtime, or will be just be ignored.\r\n\r\nAdditionally, I've found through testing that the focus state of new windows appears to be linked to the initial focus state of the main window, which can be seen in the linked reproduction.\r\n\r\nHowever, I've noticed caveats to this behaviour - if running `npm run tauri dev` from Command Prompt and unfocusing the console window before the app starts, the app window will follow the focus state of the Command Prompt window - i.e. if it is unfocused before starting, the main app window will be unfocused too. Conversely, if the Command Prompt window is focused, the main window will then be focused.\r\n\r\nThis causes an issue for my app in particular. I have a background process that triggers new \"notification\" windows to be spawned on an event, and these windows are meant to overlay a currently running game. But upon spawning, will take focus away from the game to focus themselves, which is obviously not intended behaviour, as these \"notification\" windows should never be intended to focus in the first place with `\"focus\": false` set in the Window Options.\r\n\r\nI believe a fair workaround to this issue would be to reset the default focus state of all windows to be `false` instead of `true`, as windows have methods to focus themselves (via `setFocus`), but no methods to unfocus them from what I have seen (although I'm happy to be wrong if there is!). If this is not possible, a method to unfocus the window before spawning would be massively beneficial, or to incorporate the `focusable` property from Electron as a new Window Option, which specifies that the spawned window may never take focus if set to `false`.\n\n### Reproduction\n\nI've created a [reproduction](https://github.com/Jackson0ne/tauri-focus-bug/tree/main) that demonstrates at least some of these issues.\r\n\r\nIf the first window is initially unfocused before the second window appears, the second window's focus property will be reported as `false` in the DevTools Console. But if the first window **is** focused when the second window is spawned, its focus will then be reported as `true`.\n\n### Expected behavior\n\nThe `\"focus\"` property in both `tauri.conf.json` and via window creation in Rust and JS will be followed and applied independently to any other window's focus state.\n\n### Platform and versions\n\n```text\n[✔] Environment\r\n    - OS: Windows 10.0.19045 X64\r\n    ✔ WebView2: 115.0.1901.183\r\n    ✔ MSVC:\r\n        - Visual Studio Community 2017\r\n        - Visual Studio Community 2019\r\n    ✔ rustc: 1.66.1 (90743e729 2023-01-10)\r\n    ✔ Cargo: 1.66.1 (ad779e08b 2023-01-10)\r\n    ✔ rustup: 1.25.1 (bb60b1e89 2022-07-12)\r\n    ✔ Rust toolchain: stable-x86_64-pc-windows-msvc (default)\r\n    - node: 14.18.1\r\n    - npm: 6.14.15\r\n\r\n[-] Packages\r\n    - tauri [RUST]: 1.4.1\r\n    - tauri-build [RUST]: 1.4.0\r\n    - wry [RUST]: 0.24.3\r\n    - tao [RUST]: 0.16.2\r\n    - @tauri-apps/api [NPM]: not installed!\r\n    - @tauri-apps/cli [NPM]: 1.4.0\r\n\r\n[-] App\r\n    - build-type: bundle\r\n    - CSP: unset\r\n    - distDir: ../src\r\n    - devPath: ../src\n```\n\n\n### Stack trace\n\n_No response_\n\n### Additional context\n\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/7519/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7519/timeline","performed_via_github_app":null,"state_reason":"completed"}