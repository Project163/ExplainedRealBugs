{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2805","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2805/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2805/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2805/events","html_url":"https://github.com/tauri-apps/tauri/issues/2805","id":1036392802,"node_id":"I_kwDOC7lts849xhli","number":2805,"title":"Github Action AppImage build only works on Ubuntu","user":{"login":"xyzshantaram","id":22570968,"node_id":"MDQ6VXNlcjIyNTcwOTY4","avatar_url":"https://avatars.githubusercontent.com/u/22570968?v=4","gravatar_id":"","url":"https://api.github.com/users/xyzshantaram","html_url":"https://github.com/xyzshantaram","followers_url":"https://api.github.com/users/xyzshantaram/followers","following_url":"https://api.github.com/users/xyzshantaram/following{/other_user}","gists_url":"https://api.github.com/users/xyzshantaram/gists{/gist_id}","starred_url":"https://api.github.com/users/xyzshantaram/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/xyzshantaram/subscriptions","organizations_url":"https://api.github.com/users/xyzshantaram/orgs","repos_url":"https://api.github.com/users/xyzshantaram/repos","events_url":"https://api.github.com/users/xyzshantaram/events{/privacy}","received_events_url":"https://api.github.com/users/xyzshantaram/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2021-10-26T14:45:46Z","updated_at":"2022-04-28T13:41:00Z","closed_at":"2021-12-09T21:38:02Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### **Description**\r\nThe current AppImage build (using the GitHub Action) only works on Ubuntu. It seems to be looking for WebKit-related binaries in `/usr/lib/x86_64-linux-gnu/webkit2gtk-4.0/`, which only exists on Ubuntu.\r\n\r\nThis defeats the point of an AppImage, and in the nominal case it shouldn't be looking for any dependencies at all.\r\n\r\nAttempting to launch it on Arch Linux fails with:\r\n```\r\nGtk-Message: 20:10:51.793: Failed to load module \"xapp-gtk3-module\"\r\nGtk-Message: 20:10:51.793: Failed to load module \"appmenu-gtk-module\"\r\nGtk-Message: 20:10:51.850: Failed to load module \"canberra-gtk-module\"\r\nGtk-Message: 20:10:51.851: Failed to load module \"canberra-gtk-module\"\r\n\r\n** (rite:400327): ERROR **: 20:10:52.013: Unable to fork a new child process: Failed to execute child process “/usr/lib/x86_64-linux-gnu/webkit2gtk-4.0/WebKitNetworkProcess” (No such file or directory)\r\n```\r\n\r\n### **Steps to reproduce**\r\n1. Build an AppImage with the Tauri GitHub Action. [Sample AppImage](https://github.com/xyzshantaram/rite/releases/download/rite-v0.2.11/rite_0.2.11_amd64.AppImage).\r\n2. Try to run it on a non-Ubuntu distro. I've tested on Arch and Fedora, it doesn't work on either.\r\n\r\n### **Expected behavior**\r\nApp launches and works normally.\r\n\r\n### **Output of `cargo tauri info`**\r\n```\r\nOperating System - Arch Linux, version Unknown X64\r\n\r\nNode.js environment\r\n  Node.js - 14.18.1\r\n  @tauri-apps/cli - 1.0.0-beta.10\r\n\r\nGlobal packages\r\n  npm - 8.1.0\r\n  yarn - 1.22.17\r\n\r\nRust environment\r\n  rustc - 1.55.0\r\n  cargo - 1.55.0\r\n```\r\n\r\nOthers on the Discord (`KaKi87#2368`, `Karar#0413`) have reported this too.\r\n\r\nPossibly related to #2689.","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2805/reactions","total_count":3,"+1":3,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2805/timeline","performed_via_github_app":null,"state_reason":"completed"}