{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4004","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4004/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4004/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4004/events","html_url":"https://github.com/tauri-apps/tauri/issues/4004","id":1221156550,"node_id":"I_kwDOC7lts85IyV7G","number":4004,"title":"[bug] http.fetch with timeout integer config cause error","user":{"login":"rming","id":1621419,"node_id":"MDQ6VXNlcjE2MjE0MTk=","avatar_url":"https://avatars.githubusercontent.com/u/1621419?v=4","gravatar_id":"","url":"https://api.github.com/users/rming","html_url":"https://github.com/rming","followers_url":"https://api.github.com/users/rming/followers","following_url":"https://api.github.com/users/rming/following{/other_user}","gists_url":"https://api.github.com/users/rming/gists{/gist_id}","starred_url":"https://api.github.com/users/rming/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rming/subscriptions","organizations_url":"https://api.github.com/users/rming/orgs","repos_url":"https://api.github.com/users/rming/repos","events_url":"https://api.github.com/users/rming/events{/privacy}","received_events_url":"https://api.github.com/users/rming/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":3175211457,"node_id":"MDU6TGFiZWwzMTc1MjExNDU3","url":"https://api.github.com/repos/tauri-apps/tauri/labels/scope:%20api.js","name":"scope: api.js","color":"D4C5F9","default":false,"description":"The @tauri-apps/api npm package"}],"state":"closed","locked":false,"assignee":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":4,"created_at":"2022-04-29T16:02:20Z","updated_at":"2022-04-30T00:26:47Z","closed_at":"2022-04-30T00:26:47Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nhttp.fetch with  config `{timeout: 12} ` cause Error\r\n\r\n```\r\ninvalid type: integer `12`, expected struct Duration\r\n```\r\n\r\ntest code :  https://github.com/Rming/tauri-example\n\n### Reproduction\n\n1. clone test code and run `cargo tauri dev`\r\n2. error will output in the console\n\n### Expected behavior\n\nhttps://tauri.studio/docs/api/js/interfaces/http.HttpOptions#timeout\r\nmay be a bug or doc needs to be updated\n\n### Platform and versions\n\n```shell\nEnvironment\r\n  › OS: Mac OS 12.3.1 X64\r\n  › Node.js: 17.6.0\r\n  › npm: 8.5.1\r\n  › pnpm: Not installed!\r\n  › yarn: 1.22.17\r\n  › rustup: 1.24.3\r\n  › rustc: 1.59.0\r\n  › cargo: 1.59.0\r\n  › Rust toolchain: stable-aarch64-apple-darwin\r\n\r\nPackages\r\nWARNING: no lock files found, defaulting to npm\r\n  › @tauri-apps/cli [NPM]: 1.0.0-rc.9\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: Error(\"unexpected end of input while parsing major version number\")', /Users/afa/.cargo/registry/src/mirrors.ustc.edu.cn-12df342d903acd47/tauri-cli-1.0.0-rc.9/src/info.rs:535:67\r\nstack backtrace:\r\n   0:        0x104a78314 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::h58c637f9e30d1b8a\r\n   1:        0x104832504 - core::fmt::write::hc16ca97d9f5e0acd\r\n   2:        0x104a731dc - std::io::Write::write_fmt::hd53dc7153ccce04d\r\n   3:        0x104a7d734 - std::panicking::default_hook::{{closure}}::ha41f2cf175ca93cf\r\n   4:        0x104a7d374 - std::panicking::default_hook::h838498b157804a1a\r\n   5:        0x104a7e398 - std::panicking::rust_panic_with_hook::h7722806c30430655\r\n   6:        0x104a7e0bc - std::panicking::begin_panic_handler::{{closure}}::h265229fa7cad6de7\r\n   7:        0x104a7e028 - std::sys_common::backtrace::__rust_end_short_backtrace::hfa83d61d0ed14557\r\n   8:        0x104a7dff4 - _rust_begin_unwind\r\n   9:        0x104ca6048 - core::panicking::panic_fmt::hd3f68d55261c2af0\r\n  10:        0x104ca6220 - core::result::unwrap_failed::hc1b85f369312af72\r\n  11:        0x104bab590 - tauri_cli::info::VersionBlock::display::h600532245a508e80\r\n  12:        0x104ba5578 - tauri_cli::info::command::hba1cf1976b5f6b66\r\n  13:        0x1047e8730 - tauri_cli::run::h77dad4afa2b4e229\r\n  14:        0x1047f2bfc - cargo_tauri::main::hfb371fa95b68fdc0\r\n  15:        0x1047f2030 - std::sys_common::backtrace::__rust_begin_short_backtrace::h675900a9f970608c\r\n  16:        0x1047f239c - _main\r\n  › @tauri-apps/api\n```\n\n\n### Stack trace\n\n_No response_\n\n### Additional context\n\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4004/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4004/timeline","performed_via_github_app":null,"state_reason":"completed"}