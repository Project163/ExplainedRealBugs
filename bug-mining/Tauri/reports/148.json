{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/3062","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3062/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3062/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3062/events","html_url":"https://github.com/tauri-apps/tauri/issues/3062","id":1078690197,"node_id":"I_kwDOC7lts85AS4GV","number":3062,"title":"tauri build cli.js fails with empty error","user":{"login":"fogine","id":7884288,"node_id":"MDQ6VXNlcjc4ODQyODg=","avatar_url":"https://avatars.githubusercontent.com/u/7884288?v=4","gravatar_id":"","url":"https://api.github.com/users/fogine","html_url":"https://github.com/fogine","followers_url":"https://api.github.com/users/fogine/followers","following_url":"https://api.github.com/users/fogine/following{/other_user}","gists_url":"https://api.github.com/users/fogine/gists{/gist_id}","starred_url":"https://api.github.com/users/fogine/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/fogine/subscriptions","organizations_url":"https://api.github.com/users/fogine/orgs","repos_url":"https://api.github.com/users/fogine/repos","events_url":"https://api.github.com/users/fogine/events{/privacy}","received_events_url":"https://api.github.com/users/fogine/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3505337505,"node_id":"LA_kwDOC7lts87Q7zSh","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20invalid","name":"status: invalid","color":"059372","default":false,"description":"This is not a valid issue"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":13,"created_at":"2021-12-13T15:49:02Z","updated_at":"2022-08-26T16:33:06Z","closed_at":"2022-04-30T13:53:30Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- BEFORE YOU FILE A NEW ISSUE-->\r\n<!--\r\n\r\n0. Please search open issues before duplicating a new one.\r\n1. Make sure you are using the latest version of everything including:\r\n  - rustc\r\n  - ALL relevant Tauri Libs\r\n2. You must attach the results of cargo tauri info or yarn tauri info to your issue.\r\n3. Make sure it is an issue with Tauri, and not something to do with your side of the stack.\r\n4. Consider starting a discussion. Speaking of which, have you looked there? Maybe your question has been answered.\r\n5. Remember to follow our community guidelines and be friendly.\r\n6. Is this an issue or a feature request? If the latter, please use the other template.\r\n\r\n-->\r\n\r\n### **Describe the bug**\r\nThe build command `yarn tauri:build` fails while bundling files after successful compilation.\r\nI tracked it down to line\r\n[https://github.com/tauri-apps/tauri/blob/c4bb305daeecaf4425eb63559a0ec85e0afd9a64/tooling/cli.js/src/helpers/rust-cli.ts#L31](https://github.com/tauri-apps/tauri/blob/c4bb305daeecaf4425eb63559a0ec85e0afd9a64/tooling/cli.js/src/helpers/rust-cli.ts#L31)\r\nwhich throws empty error when a shell spawn command returns none zero exit code..\r\n`Â yarn tauri:build --verbose` doesnt print any more information..\r\n\r\n\r\n### **Expected behavior**\r\nThe error should say something as it currently dooesnt say anything and I dont know whats going on. \r\n\r\n### **Platform and Versions (required):**\r\n<!-- Use `yarn tauri info` or `cargo tauri info` command to get this information, and paste it here: -->\r\n```\r\nOperating System - Arch Linux, version Unknown X64\r\n\r\nNode.js environment\r\n  Node.js - 16.13.1\r\n  @tauri-apps/cli - 1.0.0-beta.6\r\n  @tauri-apps/api - 1.0.0-beta.8\r\n\r\nGlobal packages\r\n  npm - 8.1.2\r\n  yarn - 1.22.17\r\n\r\nRust environment\r\n  rustc - 1.53.0\r\n  cargo - 1.53.0\r\n\r\nApp directory structure\r\n/src\r\n/dist\r\n/bdscli\r\n/public\r\n/.git\r\n/bds\r\n/node_modules\r\n/src-tauri\r\n\r\nApp\r\n  tauri.rs - 1.0.0-beta.8\r\n  build-type - bundle\r\n  CSP - default-src blob: data: filesystem: ws: wss: http: https: tauri: 'unsafe-eval' 'unsafe-inline' 'self' img-src: 'self'\r\n  distDir - Set automatically by Vue CLI plugin\r\n  devPath - Set automatically by Vue CLI plugin\r\n  framework - Vue.js (Vue CLI)\r\n  bundler - Webpack\r\n\r\n\r\n```\r\n\r\n### **Additional context**\r\nAdd any other context about the problem here.\r\n\r\n### **Stack Trace**\r\n\r\n \r\n\r\n> DONE  Build complete. The src-tauri/target/webpack_dist directory is ready to be deployed.                                                                                                                                                    \r\n>  INFO  Check out deployment instructions at https://cli.vuejs.org/guide/deployment.html                                                                                                                                                        \r\n>                                                                                                                                                                                                                                                \r\n>  app:spawn Running \"node_modules/@tauri-apps/cli/bin/tauri-cli tauri build --config {\"build\":{\"distDir\":\"./target/webpack_dist\"}} --verbose\" +0ms                            \r\n>                                                                                                                                                                                                                                                \r\n>    Compiling app v0.1.0 (/path/to/app)                                                                                                                                          \r\n>     Finished release [optimized] target(s) in 52.71s                                                                                                                                                                                           \r\n>     Bundling bdsgui_0.4.0_amd64.deb                                                                                                                                                                                                            \r\n> Error: failed to bundle project                                                                                                                                                                                                                \r\n>                                                                                                                                                                                                                                                \r\n> Caused by:                                                                                                                                                                                                                                     \r\n>     0: Failed to build data folders and files                                                                                                                                                                                                  \r\n>     1: Failed to build data folders and files                                                                                                                                                                                                  \r\n>     2: Failed to create icon files                                                                                                                                                                                                             \r\n>     3: Failed to create icon files                                                                                                                                                                                                             \r\n>     4: `invalid RLE-compressed data`                                                                                                                                                                                                           \r\n>     5: invalid RLE-compressed data                                                                                                                                                                                                             \r\n>                                                                                                                                                                                                                                                \r\n>  app:spawn Command \"node_modules/@tauri-apps/cli/bin/tauri-cli\" failed with exit code: 1 +0ms                           \r\n\r\n>Error\r\n    at d (node_modules/@tauri-apps/cli/dist/api/cli.js:1:9522)\r\n    at v (node_modules/@tauri-apps/cli/dist/api/cli.js:1:9563)\r\n    at ChildProcess.<anonymous> (node_modules/@tauri-apps/cli/dist/api/cli.js:1:10706)\r\n    at ChildProcess.emit (node:events:390:28)\r\n    at maybeClose (node:internal/child_process:1064:16)\r\n    at Process.ChildProcess._handle.onexit (node:internal/child_process:301:5)\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n\r\n","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/3062/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3062/timeline","performed_via_github_app":null,"state_reason":"completed"}