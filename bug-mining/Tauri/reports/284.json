{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/5173","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/5173/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/5173/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/5173/events","html_url":"https://github.com/tauri-apps/tauri/issues/5173","id":1368958177,"node_id":"I_kwDOC7lts85RmKTh","number":5173,"title":"[bug] Error in tauri.conf.json crashes dev server","user":{"login":"madflow","id":183248,"node_id":"MDQ6VXNlcjE4MzI0OA==","avatar_url":"https://avatars.githubusercontent.com/u/183248?v=4","gravatar_id":"","url":"https://api.github.com/users/madflow","html_url":"https://github.com/madflow","followers_url":"https://api.github.com/users/madflow/followers","following_url":"https://api.github.com/users/madflow/following{/other_user}","gists_url":"https://api.github.com/users/madflow/gists{/gist_id}","starred_url":"https://api.github.com/users/madflow/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/madflow/subscriptions","organizations_url":"https://api.github.com/users/madflow/orgs","repos_url":"https://api.github.com/users/madflow/repos","events_url":"https://api.github.com/users/madflow/events{/privacy}","received_events_url":"https://api.github.com/users/madflow/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":3176728874,"node_id":"MDU6TGFiZWwzMTc2NzI4ODc0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/scope:%20cli.rs","name":"scope: cli.rs","color":"D4C5F9","default":false,"description":"The tauri-cli rust crate"},{"id":3307096872,"node_id":"MDU6TGFiZWwzMzA3MDk2ODcy","url":"https://api.github.com/repos/tauri-apps/tauri/labels/priority:%201%20high","name":"priority: 1 high","color":"E844A1","default":false,"description":""},{"id":3410829358,"node_id":"LA_kwDOC7lts87LTSAu","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20backlog","name":"status: backlog","color":"059372","default":false,"description":"Issue is ready and we can work on it"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2022-09-11T14:11:12Z","updated_at":"2022-10-27T22:47:52Z","closed_at":"2022-10-27T22:47:52Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nAn invalid value  `tauri.conf.json`  when running `yarn run tauri dev`crashes the dev server.\r\n\r\n```\r\nthing ➜ yarn run tauri dev\r\nyarn run v1.22.19\r\n$ tauri dev\r\n`tauri.conf.json` error on `tauri > windows > 0 > height`: The value must be number\r\nerror Command failed with exit code 1.\r\ninfo Visit https://yarnpkg.com/en/docs/cli/run for documentation about this command.\r\n```\r\n\r\nWhen trying to run `yarn run tauri dev` again - there is still a process running.\r\n\r\n```\r\n➜  yarn run tauri dev\r\nyarn run v1.22.19\r\n$ tauri dev\r\n     Running BeforeDevCommand (`yarn dev`)\r\n        Info Watching /xxx/src-tauri for changes...\r\n$ vite\r\n   Compiling xxx v0.0.0 (/src-tauri)\r\nerror when starting dev server:======> ] 325/326: xxx(bin)\r\nError: Port 1420 is already in use\r\n    at Server.onError (file:////xxx/node_modules/vite/dist/node/chunks/dep-665b0112.js:52451:28)\r\n    at Server.emit (node:events:527:28)\r\n    at emitErrorNT (node:net:1399:8)\r\n    at processTicksAndRejections (node:internal/process/task_queues:83:21)\r\n```\r\n\r\nThe current fix is `ps aux` and `kill`.\r\n\r\n\r\n### Reproduction\r\n\r\n* I have create a new project with `yarn create tauri-app`. \r\n* I have selected the vanilla-ts template\r\n* I have installed all deps with yarn\r\n* Start `yarn run tauri dev`\r\n* Change the windows height in `tauri.conf.json` to an invalid value (\"abc\") and save\r\n\r\n### Expected behavior\r\n\r\nI would expect a better developer experience. Either the dev server should exit cleanly or I should be able to kill all running processes with \"tauri\"\r\n\r\n### Platform and versions\r\n\r\n```\r\nEnvironment\r\n  › OS: Mac OS 12.5.0 X64\r\n  › Node.js: 16.15.1\r\n  › npm: 8.13.1\r\n  › pnpm: 7.5.2\r\n  › yarn: 1.22.19\r\n  › rustup: Not installed!\r\n  › rustc: 1.63.0\r\n  › cargo: 1.63.0\r\n  › Rust toolchain:\r\n\r\nPackages\r\n  › @tauri-apps/cli [NPM]: 1.0.5\r\n  › @tauri-apps/api [NPM]: 1.0.2\r\n  › tauri [RUST]: 1.0.5,\r\n  › tauri-build [RUST]: 1.0.4,\r\n  › tao [RUST]: 0.12.2,\r\n  › wry [RUST]: 0.19.0,\r\n\r\nApp\r\n  › build-type: bundle\r\n  › CSP: unset\r\n  › distDir: ../dist\r\n  › devPath: http://localhost:1420/\r\n\r\nApp directory structure\r\n  ├─ node_modules\r\n  ├─ src-tauri\r\n  ├─ .vscode\r\n  └─ src\r\n✨  Done in 8.67s.\r\n```\r\n\r\n### Stack trace\r\n\r\n_No response_\r\n\r\n### Additional context\r\n\r\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/5173/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/5173/timeline","performed_via_github_app":null,"state_reason":"completed"}