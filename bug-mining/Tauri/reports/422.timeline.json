[{"id":10524830443,"node_id":"LE_lADOC7lts85yivluzwAAAAJzVCrr","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10524830443","actor":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-10-02T11:11:58Z","label":{"name":"status: needs triage","color":"059372"},"performed_via_github_app":null},{"id":10524830450,"node_id":"LE_lADOC7lts85yivluzwAAAAJzVCry","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10524830450","actor":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-10-02T11:11:58Z","label":{"name":"type: bug","color":"B60205"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1742953026","html_url":"https://github.com/tauri-apps/tauri/issues/7935#issuecomment-1742953026","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7935","id":1742953026,"node_id":"IC_kwDOC7lts85n41pC","user":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-02T12:47:53Z","updated_at":"2023-10-02T12:48:09Z","body":"Seems like a regression but are you using the `mocks` module?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1742953026/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1742994150","html_url":"https://github.com/tauri-apps/tauri/issues/7935#issuecomment-1742994150","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7935","id":1742994150,"node_id":"IC_kwDOC7lts85n4_rm","user":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-02T13:13:23Z","updated_at":"2023-10-02T13:17:16Z","body":"I'm not using the `mocks` module no.\r\n\r\nEdit: @amrbashir , I tried running `mockWindows` inside my vitest, and it also gives the same `ReferenceError: window is not defined` but then inside the `mockWindows` function.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1742994150/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10525989473,"node_id":"MEE_lADOC7lts85yivluzwAAAAJzZdph","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10525989473","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-02T13:17:16Z","performed_via_github_app":null},{"id":10525989492,"node_id":"SE_lADOC7lts85yivluzwAAAAJzZdp0","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10525989492","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-02T13:17:16Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1743018497","html_url":"https://github.com/tauri-apps/tauri/issues/7935#issuecomment-1743018497","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7935","id":1743018497,"node_id":"IC_kwDOC7lts85n5FoB","user":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-02T13:28:22Z","updated_at":"2023-10-02T13:36:05Z","body":"I compared `tauri-v1.4.0` and `tauri-v1.5.0` tags and noticed the following:\r\n\r\n<img width=\"1706\" alt=\"image\" src=\"https://github.com/tauri-apps/tauri/assets/10177148/d86c9ebb-3c9e-4447-ace4-e48b182b4392\">\r\n\r\n<img width=\"1709\" alt=\"image\" src=\"https://github.com/tauri-apps/tauri/assets/10177148/e79599e6-4ede-4569-a0cc-5647e8db7d0d\">\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1743018497/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1743041882","html_url":"https://github.com/tauri-apps/tauri/issues/7935#issuecomment-1743041882","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7935","id":1743041882,"node_id":"IC_kwDOC7lts85n5LVa","user":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-02T13:42:23Z","updated_at":"2023-10-02T13:42:23Z","body":"alright, so for unit testing, you need to use the mocks module, I will update the `mocks` module to properly mock the `window.__TAURI__.convertFileSrc`","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1743041882/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1746320306","html_url":"https://github.com/tauri-apps/tauri/issues/7935#issuecomment-1746320306","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7935","id":1746320306,"node_id":"IC_kwDOC7lts85oFruy","user":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-04T07:45:43Z","updated_at":"2023-10-04T07:45:43Z","body":"I looked at the `mocks` module, but I don't immediately see how I should use it to mock the `convertSrcUrl`, or did you mean that you will add a new function to do so?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1746320306/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1746747536","html_url":"https://github.com/tauri-apps/tauri/issues/7935#issuecomment-1746747536","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7935","id":1746747536,"node_id":"IC_kwDOC7lts85oHUCQ","user":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-04T12:10:04Z","updated_at":"2023-10-04T12:10:04Z","body":"yeah, we need to add mock for it in the npm pacakge. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1746747536/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10557062149,"node_id":"REFE_lADOC7lts85yivluzwAAAAJ1P_wF","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10557062149","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a5f75ed9c5c34e8510f20be62851af983c5bb972","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/a5f75ed9c5c34e8510f20be62851af983c5bb972","created_at":"2023-10-05T00:47:43Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1747861624","html_url":"https://github.com/tauri-apps/tauri/issues/7935#issuecomment-1747861624","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7935","id":1747861624,"node_id":"IC_kwDOC7lts85oLkB4","user":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T00:48:33Z","updated_at":"2023-10-05T00:48:33Z","body":"btw, you can include this mock in your tests until the next release\r\n```js\r\nfunction mockConvertFileSrc(\r\n  osName: string,\r\n  windowsProtocolScheme = 'https'\r\n) {\r\n  window.__TAURI__.convertFileSrc = function (filePath, protocol = 'asset') {\r\n    const path = encodeURIComponent(filePath)\r\n    return osName === 'windows'\r\n      ? `${windowsProtocolScheme}://${protocol}.localhost/${path}`\r\n      : `${protocol}://localhost/${path}`\r\n  }\r\n}\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1747861624/reactions","total_count":2,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1748320601","html_url":"https://github.com/tauri-apps/tauri/issues/7935#issuecomment-1748320601","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/7935","id":1748320601,"node_id":"IC_kwDOC7lts85oNUFZ","user":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-10-05T07:58:51Z","updated_at":"2023-10-05T07:58:51Z","body":"I also had to add ` window.__TAURI__ = window.__TAURI__ || {};` before assigning `convertFileSrc` like so:\r\n\r\n```typescript\r\nfunction mockConvertFileSrc(\r\n  osName: string,\r\n  windowsProtocolScheme = 'https',\r\n) {\r\n  window.__TAURI__ = window.__TAURI__ || {};\r\n  window.__TAURI__.convertFileSrc = function (filePath, protocol = 'asset') {\r\n    const path = encodeURIComponent(filePath);\r\n    return osName === 'windows'\r\n      ? `${windowsProtocolScheme}://${protocol}.localhost/${path}`\r\n      : `${protocol}://localhost/${path}`;\r\n  };\r\n}\r\n```\r\n\r\nAnd then for my test environment (I use vitest), I also had to configure it to use `jsdom` instead of the default:\r\n\r\n```typescript\r\nimport { defineConfig } from 'vitest/config';\r\n\r\nexport default defineConfig({\r\n  test: {\r\n    environment: 'jsdom',\r\n  },\r\n});\r\n```\r\n\r\nI just added this for completeness when other people are also try to look up something simular ðŸ˜„ \r\n\r\n\r\nThanks, @amrbashir!\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1748320601/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"jclaessens97","id":10177148,"node_id":"MDQ6VXNlcjEwMTc3MTQ4","avatar_url":"https://avatars.githubusercontent.com/u/10177148?v=4","gravatar_id":"","url":"https://api.github.com/users/jclaessens97","html_url":"https://github.com/jclaessens97","followers_url":"https://api.github.com/users/jclaessens97/followers","following_url":"https://api.github.com/users/jclaessens97/following{/other_user}","gists_url":"https://api.github.com/users/jclaessens97/gists{/gist_id}","starred_url":"https://api.github.com/users/jclaessens97/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jclaessens97/subscriptions","organizations_url":"https://api.github.com/users/jclaessens97/orgs","repos_url":"https://api.github.com/users/jclaessens97/repos","events_url":"https://api.github.com/users/jclaessens97/events{/privacy}","received_events_url":"https://api.github.com/users/jclaessens97/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":10559749752,"node_id":"MEE_lADOC7lts85yivluzwAAAAJ1aP54","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10559749752","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2023-10-05T07:58:51Z","performed_via_github_app":null},{"id":10559749790,"node_id":"SE_lADOC7lts85yivluzwAAAAJ1aP6e","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10559749790","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2023-10-05T07:58:51Z","performed_via_github_app":null},{"id":10677910149,"node_id":"REFE_lADOC7lts85yivluzwAAAAJ8c_qF","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10677910149","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2b0212af49c386e52bb2357381813d6d435ec4af","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/2b0212af49c386e52bb2357381813d6d435ec4af","created_at":"2023-10-17T12:33:46Z","performed_via_github_app":null},{"id":10677911973,"node_id":"CE_lADOC7lts85yivluzwAAAAJ8dAGl","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/10677911973","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2023-10-17T12:33:56Z","state_reason":null,"performed_via_github_app":null}]