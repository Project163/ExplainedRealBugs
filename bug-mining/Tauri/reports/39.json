{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2831","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2831/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2831/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2831/events","html_url":"https://github.com/tauri-apps/tauri/issues/2831","id":1042675040,"node_id":"I_kwDOC7lts84-JfVg","number":2831,"title":"http.fetch always expects a reponse body","user":{"login":"KaKi87","id":21284089,"node_id":"MDQ6VXNlcjIxMjg0MDg5","avatar_url":"https://avatars.githubusercontent.com/u/21284089?v=4","gravatar_id":"","url":"https://api.github.com/users/KaKi87","html_url":"https://github.com/KaKi87","followers_url":"https://api.github.com/users/KaKi87/followers","following_url":"https://api.github.com/users/KaKi87/following{/other_user}","gists_url":"https://api.github.com/users/KaKi87/gists{/gist_id}","starred_url":"https://api.github.com/users/KaKi87/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/KaKi87/subscriptions","organizations_url":"https://api.github.com/users/KaKi87/orgs","repos_url":"https://api.github.com/users/KaKi87/repos","events_url":"https://api.github.com/users/KaKi87/events{/privacy}","received_events_url":"https://api.github.com/users/KaKi87/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":6,"created_at":"2021-11-02T18:19:01Z","updated_at":"2021-12-09T02:39:43Z","closed_at":"2021-12-09T02:39:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- BEFORE YOU FILE A NEW ISSUE-->\r\n\r\n<!--\r\n0. Please search open issues before duplicating a new one.\r\n1. Make sure you are using the latest version of everything including:\r\n  - rustc\r\n  - ALL relevant Tauri Libs\r\n2. You must attach the results of cargo tauri info or yarn tauri info to your issue.\r\n3. Make sure it is an issue with Tauri, and not something to do with your side of the stack.\r\n4. Consider starting a discussion. Speaking of which, have you looked there? Maybe your question has been answered.\r\n5. Remember to follow our community guidelines and be friendly.\r\n6. Is this an issue or a feature request? If the latter, please use the other template.\r\n-->\r\n\r\n### **Describe the bug**\r\n\r\n`http.fetch` always expects a reponse body, therefore throws an error when there is none.\r\n\r\n### **To Reproduce**\r\n\r\nSteps to reproduce the behavior:\r\n\r\n1. Run an `http.fetch` request that will return no response body and without defining `responseType` ;\r\n2. See the following error : `Failed to parse response as JSON: SyntaxError: JSON Parse error: Unexpected EOF; try setting the responseType option to ResponseType.Text or ResponseType.Binary if the API does not return a JSON response`.\r\n\r\n### **Expected behavior**\r\n\r\nThe request succeeds.\r\n\r\n### **Platform and Versions (required):**\r\n\r\n<!-- Use `yarn tauri info` or `cargo tauri info` command to get this information, and paste it here: -->\r\n\r\n```\r\nOperating System - Linux, version 19.3 X64\r\n\r\nNode.js environment\r\n  Node.js - 14.18.1\r\n  @tauri-apps/cli - 1.0.0-beta.10\r\n  @tauri-apps/api - 1.0.0-beta.8\r\n\r\nGlobal packages\r\n  npm - 8.1.0\r\n  yarn - 1.22.15\r\n\r\nRust environment\r\n  rustc - 1.53.0\r\n  cargo - 1.53.0\r\n\r\nApp directory structure\r\n/dist\r\n/node_modules\r\n/.idea\r\n/src\r\n/src-tauri\r\n/.git\r\n/.parcel-cache\r\n\r\nApp\r\n  tauri.rs - 1.0.0-beta.8\r\n  build-type - bundle\r\n  CSP - default-src blob: data: filesystem: ws: wss: http: https: tauri: 'unsafe-eval' 'unsafe-inline' 'self' img-src: 'self'\r\n  distDir - ../dist\r\n  devPath - http://localhost:1234\r\n```\r\n\r\n### **Additional context**\r\n\r\nThis error was spotted during the development of [`axios-tauri-adapter-test`](https://git.kaki87.net/KaKi87/axios-tauri-adapter-test), the unit test project for [`axios-tauri-adapter`](https://git.kaki87.net/KaKi87/axios-tauri-adapter).\r\n\r\n### **Stack Trace**\r\n\r\n<!-- add if applicable -->\r\n\r\nNot applicable","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2831/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2831/timeline","performed_via_github_app":null,"state_reason":"completed"}