[{"id":6121800353,"node_id":"LE_lADOC7lts85EZYh-zwAAAAFs40Kh","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/6121800353","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-02-23T00:32:13Z","label":{"name":"type: feature request","color":"446DBA"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1048866981","html_url":"https://github.com/tauri-apps/tauri/issues/3533#issuecomment-1048866981","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3533","id":1048866981,"node_id":"IC_kwDOC7lts84-hHCl","user":{"login":"tweidinger","id":28728469,"node_id":"MDQ6VXNlcjI4NzI4NDY5","avatar_url":"https://avatars.githubusercontent.com/u/28728469?v=4","gravatar_id":"","url":"https://api.github.com/users/tweidinger","html_url":"https://github.com/tweidinger","followers_url":"https://api.github.com/users/tweidinger/followers","following_url":"https://api.github.com/users/tweidinger/following{/other_user}","gists_url":"https://api.github.com/users/tweidinger/gists{/gist_id}","starred_url":"https://api.github.com/users/tweidinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tweidinger/subscriptions","organizations_url":"https://api.github.com/users/tweidinger/orgs","repos_url":"https://api.github.com/users/tweidinger/repos","events_url":"https://api.github.com/users/tweidinger/events{/privacy}","received_events_url":"https://api.github.com/users/tweidinger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-23T14:53:48Z","updated_at":"2022-02-23T14:53:48Z","body":"This feature has a lot of implications security wise. \r\nIf we allow to change the CSP at runtime by calling APIs from the frontend, the security boundary will become no longer clear.\r\nThis probably relates to similar changes required to allow user defined paths to be accessible for the `fs` endpoints.\r\nImho creating a configuration file, where additional paths/domains can be modified should be investigated.\r\n\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1048866981/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tweidinger","id":28728469,"node_id":"MDQ6VXNlcjI4NzI4NDY5","avatar_url":"https://avatars.githubusercontent.com/u/28728469?v=4","gravatar_id":"","url":"https://api.github.com/users/tweidinger","html_url":"https://github.com/tweidinger","followers_url":"https://api.github.com/users/tweidinger/followers","following_url":"https://api.github.com/users/tweidinger/following{/other_user}","gists_url":"https://api.github.com/users/tweidinger/gists{/gist_id}","starred_url":"https://api.github.com/users/tweidinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tweidinger/subscriptions","organizations_url":"https://api.github.com/users/tweidinger/orgs","repos_url":"https://api.github.com/users/tweidinger/repos","events_url":"https://api.github.com/users/tweidinger/events{/privacy}","received_events_url":"https://api.github.com/users/tweidinger/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1049119865","html_url":"https://github.com/tauri-apps/tauri/issues/3533#issuecomment-1049119865","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3533","id":1049119865,"node_id":"IC_kwDOC7lts84-iEx5","user":{"login":"JonasKruckenberg","id":25329995,"node_id":"MDQ6VXNlcjI1MzI5OTk1","avatar_url":"https://avatars.githubusercontent.com/u/25329995?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasKruckenberg","html_url":"https://github.com/JonasKruckenberg","followers_url":"https://api.github.com/users/JonasKruckenberg/followers","following_url":"https://api.github.com/users/JonasKruckenberg/following{/other_user}","gists_url":"https://api.github.com/users/JonasKruckenberg/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasKruckenberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasKruckenberg/subscriptions","organizations_url":"https://api.github.com/users/JonasKruckenberg/orgs","repos_url":"https://api.github.com/users/JonasKruckenberg/repos","events_url":"https://api.github.com/users/JonasKruckenberg/events{/privacy}","received_events_url":"https://api.github.com/users/JonasKruckenberg/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-23T19:09:30Z","updated_at":"2022-02-23T19:09:30Z","body":"> If we allow to change the CSP at runtime by calling APIs from the frontend, the security boundary will become no longer clear.\n\nThis is a good concern, but changing the CSP at runtime is a no-go IMO. \nWe can make it a method on the `AppBuilder` struct (maybe `once_cell`?) that would still allow dynamic CSPs, while not giving up security in the process.\n\n> Imho creating a configuration file, where additional paths/domains can be modified should be investigated.\n\nWdym by this exactly?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1049119865/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"JonasKruckenberg","id":25329995,"node_id":"MDQ6VXNlcjI1MzI5OTk1","avatar_url":"https://avatars.githubusercontent.com/u/25329995?v=4","gravatar_id":"","url":"https://api.github.com/users/JonasKruckenberg","html_url":"https://github.com/JonasKruckenberg","followers_url":"https://api.github.com/users/JonasKruckenberg/followers","following_url":"https://api.github.com/users/JonasKruckenberg/following{/other_user}","gists_url":"https://api.github.com/users/JonasKruckenberg/gists{/gist_id}","starred_url":"https://api.github.com/users/JonasKruckenberg/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/JonasKruckenberg/subscriptions","organizations_url":"https://api.github.com/users/JonasKruckenberg/orgs","repos_url":"https://api.github.com/users/JonasKruckenberg/repos","events_url":"https://api.github.com/users/JonasKruckenberg/events{/privacy}","received_events_url":"https://api.github.com/users/JonasKruckenberg/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1049198850","html_url":"https://github.com/tauri-apps/tauri/issues/3533#issuecomment-1049198850","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3533","id":1049198850,"node_id":"IC_kwDOC7lts84-iYEC","user":{"login":"tweidinger","id":28728469,"node_id":"MDQ6VXNlcjI4NzI4NDY5","avatar_url":"https://avatars.githubusercontent.com/u/28728469?v=4","gravatar_id":"","url":"https://api.github.com/users/tweidinger","html_url":"https://github.com/tweidinger","followers_url":"https://api.github.com/users/tweidinger/followers","following_url":"https://api.github.com/users/tweidinger/following{/other_user}","gists_url":"https://api.github.com/users/tweidinger/gists{/gist_id}","starred_url":"https://api.github.com/users/tweidinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tweidinger/subscriptions","organizations_url":"https://api.github.com/users/tweidinger/orgs","repos_url":"https://api.github.com/users/tweidinger/repos","events_url":"https://api.github.com/users/tweidinger/events{/privacy}","received_events_url":"https://api.github.com/users/tweidinger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-23T20:42:59Z","updated_at":"2022-02-23T20:44:27Z","body":">This is a good concern, but changing the CSP at runtime is a no-go IMO.\r\n\r\nFully agree at the current state.\r\n\r\n>Wdym by this exactly?\r\n\r\nWe currently face multiple issues where the allowlist is configured at compile time but cannot be changed by user interaction during use/runtime.\r\n\r\nFor example the `fs` scoping needs to be aware of user defined paths (example: image library with user defined library paths).  The `http` scope also has some usability issues, where in certain cases it is required to let the application user define domains after installation (example: federated web application with unknown server domains at compile time).\r\n\r\nThe same goes for the CSP but imho the CSP should be the last thing to improve, as this (fetching data from user defined sources) should ideally be handled by the rust backend.\r\n\r\nSo having an inbuilt configuration storage (some kind of authenticated and/or encrypted file/db), which is persistent in the filesystem, could improve the above uses cases, where application users would be able to \"safely\" extend allow functions, depending on their use case.\r\n\r\nI think this is just a possible solution and more discussion around this topic would be awesome. \r\nThe approach of having a security relevant configuration introduces additional attack surface but could\r\nencourage the proper usage of the allow list scoping.\r\nFor example the proposed security model would easily break if the `fs` api could write to the configuration.\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1049198850/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tweidinger","id":28728469,"node_id":"MDQ6VXNlcjI4NzI4NDY5","avatar_url":"https://avatars.githubusercontent.com/u/28728469?v=4","gravatar_id":"","url":"https://api.github.com/users/tweidinger","html_url":"https://github.com/tweidinger","followers_url":"https://api.github.com/users/tweidinger/followers","following_url":"https://api.github.com/users/tweidinger/following{/other_user}","gists_url":"https://api.github.com/users/tweidinger/gists{/gist_id}","starred_url":"https://api.github.com/users/tweidinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tweidinger/subscriptions","organizations_url":"https://api.github.com/users/tweidinger/orgs","repos_url":"https://api.github.com/users/tweidinger/repos","events_url":"https://api.github.com/users/tweidinger/events{/privacy}","received_events_url":"https://api.github.com/users/tweidinger/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1049228253","html_url":"https://github.com/tauri-apps/tauri/issues/3533#issuecomment-1049228253","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3533","id":1049228253,"node_id":"IC_kwDOC7lts84-ifPd","user":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-23T21:22:31Z","updated_at":"2022-02-23T21:22:31Z","body":"> This feature has a lot of implications security wise. If we allow to change the CSP at runtime by calling APIs from the frontend, the security boundary will become no longer clear. This probably relates to similar changes required to allow user defined paths to be accessible for the `fs` endpoints. Imho creating a configuration file, where additional paths/domains can be modified should be investigated.\r\n\r\nWe won't allow changing it from the frontend, just on the Rust side on initialization.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1049228253/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1049289778","html_url":"https://github.com/tauri-apps/tauri/issues/3533#issuecomment-1049289778","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3533","id":1049289778,"node_id":"IC_kwDOC7lts84-iuQy","user":{"login":"tweidinger","id":28728469,"node_id":"MDQ6VXNlcjI4NzI4NDY5","avatar_url":"https://avatars.githubusercontent.com/u/28728469?v=4","gravatar_id":"","url":"https://api.github.com/users/tweidinger","html_url":"https://github.com/tweidinger","followers_url":"https://api.github.com/users/tweidinger/followers","following_url":"https://api.github.com/users/tweidinger/following{/other_user}","gists_url":"https://api.github.com/users/tweidinger/gists{/gist_id}","starred_url":"https://api.github.com/users/tweidinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tweidinger/subscriptions","organizations_url":"https://api.github.com/users/tweidinger/orgs","repos_url":"https://api.github.com/users/tweidinger/repos","events_url":"https://api.github.com/users/tweidinger/events{/privacy}","received_events_url":"https://api.github.com/users/tweidinger/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-02-23T22:47:29Z","updated_at":"2022-02-23T22:47:29Z","body":"That sounds like a reasonable trade off for now, as it doesn't break the current security assumptions (you are not constrained by the tauri config on the rust side at all). ","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1049289778/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"tweidinger","id":28728469,"node_id":"MDQ6VXNlcjI4NzI4NDY5","avatar_url":"https://avatars.githubusercontent.com/u/28728469?v=4","gravatar_id":"","url":"https://api.github.com/users/tweidinger","html_url":"https://github.com/tweidinger","followers_url":"https://api.github.com/users/tweidinger/followers","following_url":"https://api.github.com/users/tweidinger/following{/other_user}","gists_url":"https://api.github.com/users/tweidinger/gists{/gist_id}","starred_url":"https://api.github.com/users/tweidinger/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tweidinger/subscriptions","organizations_url":"https://api.github.com/users/tweidinger/orgs","repos_url":"https://api.github.com/users/tweidinger/repos","events_url":"https://api.github.com/users/tweidinger/events{/privacy}","received_events_url":"https://api.github.com/users/tweidinger/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T00:19:07Z","updated_at":"2022-03-03T00:19:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/3598","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3598/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3598/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3598/events","html_url":"https://github.com/tauri-apps/tauri/pull/3598","id":1157828151,"node_id":"PR_kwDOC7lts84z3JbO","number":3598,"title":"feat(core): add WindowBuilder type","user":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-03-03T00:19:07Z","updated_at":"2023-05-07T18:34:33Z","closed_at":"2022-03-05T00:18:22Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":196701619,"node_id":"MDEwOlJlcG9zaXRvcnkxOTY3MDE2MTk=","name":"tauri","full_name":"tauri-apps/tauri","private":false,"owner":{"login":"tauri-apps","id":54536011,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU0NTM2MDEx","avatar_url":"https://avatars.githubusercontent.com/u/54536011?v=4","gravatar_id":"","url":"https://api.github.com/users/tauri-apps","html_url":"https://github.com/tauri-apps","followers_url":"https://api.github.com/users/tauri-apps/followers","following_url":"https://api.github.com/users/tauri-apps/following{/other_user}","gists_url":"https://api.github.com/users/tauri-apps/gists{/gist_id}","starred_url":"https://api.github.com/users/tauri-apps/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tauri-apps/subscriptions","organizations_url":"https://api.github.com/users/tauri-apps/orgs","repos_url":"https://api.github.com/users/tauri-apps/repos","events_url":"https://api.github.com/users/tauri-apps/events{/privacy}","received_events_url":"https://api.github.com/users/tauri-apps/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/tauri-apps/tauri","description":"Build smaller, faster, and more secure desktop and mobile applications with a web frontend.","fork":false,"url":"https://api.github.com/repos/tauri-apps/tauri","forks_url":"https://api.github.com/repos/tauri-apps/tauri/forks","keys_url":"https://api.github.com/repos/tauri-apps/tauri/keys{/key_id}","collaborators_url":"https://api.github.com/repos/tauri-apps/tauri/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/tauri-apps/tauri/teams","hooks_url":"https://api.github.com/repos/tauri-apps/tauri/hooks","issue_events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/events{/number}","events_url":"https://api.github.com/repos/tauri-apps/tauri/events","assignees_url":"https://api.github.com/repos/tauri-apps/tauri/assignees{/user}","branches_url":"https://api.github.com/repos/tauri-apps/tauri/branches{/branch}","tags_url":"https://api.github.com/repos/tauri-apps/tauri/tags","blobs_url":"https://api.github.com/repos/tauri-apps/tauri/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/tauri-apps/tauri/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/tauri-apps/tauri/git/refs{/sha}","trees_url":"https://api.github.com/repos/tauri-apps/tauri/git/trees{/sha}","statuses_url":"https://api.github.com/repos/tauri-apps/tauri/statuses/{sha}","languages_url":"https://api.github.com/repos/tauri-apps/tauri/languages","stargazers_url":"https://api.github.com/repos/tauri-apps/tauri/stargazers","contributors_url":"https://api.github.com/repos/tauri-apps/tauri/contributors","subscribers_url":"https://api.github.com/repos/tauri-apps/tauri/subscribers","subscription_url":"https://api.github.com/repos/tauri-apps/tauri/subscription","commits_url":"https://api.github.com/repos/tauri-apps/tauri/commits{/sha}","git_commits_url":"https://api.github.com/repos/tauri-apps/tauri/git/commits{/sha}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/comments{/number}","issue_comment_url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments{/number}","contents_url":"https://api.github.com/repos/tauri-apps/tauri/contents/{+path}","compare_url":"https://api.github.com/repos/tauri-apps/tauri/compare/{base}...{head}","merges_url":"https://api.github.com/repos/tauri-apps/tauri/merges","archive_url":"https://api.github.com/repos/tauri-apps/tauri/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/tauri-apps/tauri/downloads","issues_url":"https://api.github.com/repos/tauri-apps/tauri/issues{/number}","pulls_url":"https://api.github.com/repos/tauri-apps/tauri/pulls{/number}","milestones_url":"https://api.github.com/repos/tauri-apps/tauri/milestones{/number}","notifications_url":"https://api.github.com/repos/tauri-apps/tauri/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/tauri-apps/tauri/labels{/name}","releases_url":"https://api.github.com/repos/tauri-apps/tauri/releases{/id}","deployments_url":"https://api.github.com/repos/tauri-apps/tauri/deployments","created_at":"2019-07-13T09:09:37Z","updated_at":"2025-11-10T01:06:22Z","pushed_at":"2025-11-09T12:12:52Z","git_url":"git://github.com/tauri-apps/tauri.git","ssh_url":"git@github.com:tauri-apps/tauri.git","clone_url":"https://github.com/tauri-apps/tauri.git","svn_url":"https://github.com/tauri-apps/tauri","homepage":"https://tauri.app","size":99732,"stargazers_count":98712,"watchers_count":98712,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":3155,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":1224,"license":{"key":"apache-2.0","name":"Apache License 2.0","spdx_id":"Apache-2.0","url":"https://api.github.com/licenses/apache-2.0","node_id":"MDc6TGljZW5zZTI="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["desktop-app","high-performance","mobile-app","native-app","rust","web-frontend","webview"],"visibility":"public","forks":3155,"open_issues":1224,"watchers":98712,"default_branch":"dev","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/tauri-apps/tauri/pulls/3598","html_url":"https://github.com/tauri-apps/tauri/pull/3598","diff_url":"https://github.com/tauri-apps/tauri/pull/3598.diff","patch_url":"https://github.com/tauri-apps/tauri/pull/3598.patch","merged_at":"2022-03-05T00:18:22Z"},"body":"<!--\r\nUpdate \"[ ]\" to \"[x]\" to check a box\r\n\r\nPlease make sure to read the Pull Request Guidelines: https://github.com/tauri-apps/tauri/blob/dev/.github/CONTRIBUTING.md#pull-request-guidelines\r\n-->\r\n\r\n### What kind of change does this PR introduce?\r\n<!-- Check at least one. If you are introducing a new binding, you must reference an issue where this binding has been proposed, discussed and approved by the maintainers. -->\r\n\r\n- [ ] Bugfix\r\n- [x] Feature\r\n- [ ] Docs\r\n- [ ] New Binding issue #___\r\n- [ ] Code style update\r\n- [ ] Refactor\r\n- [ ] Build-related changes\r\n- [ ] Other, please describe:\r\n\r\n### Does this PR introduce a breaking change?\r\n<!-- If yes, please describe the impact and migration path for existing applications in an attached issue. -->\r\n\r\n- [ ] Yes, and the changes were approved in issue #___\r\n- [ ] No\r\n\r\n### Checklist\r\n- [ ] When resolving issues, they are referenced in the PR's title (e.g `fix: remove a typo, closes #___, #___`)\r\n- [x] A change file is added if any packages will require a version bump due to this PR per [the instructions in the readme](https://github.com/tauri-apps/tauri/blob/dev/.changes/readme.md).\r\n- [ ] I have added a convincing reason for adding this feature, if necessary\r\n\r\n### Other information\r\n\r\nThis is the first step to allow customizing the CSP #3533\r\n","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/3598/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3598/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6178855125,"node_id":"REFE_lADOC7lts85EZYh-zwAAAAFwSdjV","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/6178855125","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"962c288c7e21a83b30584f3a39514e0dca008ec0","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/962c288c7e21a83b30584f3a39514e0dca008ec0","created_at":"2022-03-03T15:11:39Z","performed_via_github_app":null},{"id":6188379428,"node_id":"REFE_lADOC7lts85EZYh-zwAAAAFw2y0k","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/6188379428","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"3fe0260f4c7f47dba28b0d049c741d885bc6d356","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/3fe0260f4c7f47dba28b0d049c741d885bc6d356","created_at":"2022-03-05T00:18:40Z","performed_via_github_app":null},{"id":6189771515,"node_id":"REFE_lADOC7lts85EZYh-zwAAAAFw8Gr7","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/6189771515","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"2c7b6098a6faa6e813920ecf727d4bfef1b32de6","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/2c7b6098a6faa6e813920ecf727d4bfef1b32de6","created_at":"2022-03-05T19:07:30Z","performed_via_github_app":null},{"id":6190586220,"node_id":"CE_lADOC7lts85EZYh-zwAAAAFw_Nls","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/6190586220","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"3b13fda56f515c708014c0396ed5ca295faaef84","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/3b13fda56f515c708014c0396ed5ca295faaef84","created_at":"2022-03-06T13:15:46Z","state_reason":null,"performed_via_github_app":null},{"actor":{"login":"krlvi","id":4030927,"node_id":"MDQ6VXNlcjQwMzA5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4030927?v=4","gravatar_id":"","url":"https://api.github.com/users/krlvi","html_url":"https://github.com/krlvi","followers_url":"https://api.github.com/users/krlvi/followers","following_url":"https://api.github.com/users/krlvi/following{/other_user}","gists_url":"https://api.github.com/users/krlvi/gists{/gist_id}","starred_url":"https://api.github.com/users/krlvi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krlvi/subscriptions","organizations_url":"https://api.github.com/users/krlvi/orgs","repos_url":"https://api.github.com/users/krlvi/repos","events_url":"https://api.github.com/users/krlvi/events{/privacy}","received_events_url":"https://api.github.com/users/krlvi/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-08-16T20:33:33Z","updated_at":"2024-08-16T20:33:33Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues/4714","repository_url":"https://api.github.com/repos/gitbutlerapp/gitbutler","labels_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues/4714/labels{/name}","comments_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues/4714/comments","events_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues/4714/events","html_url":"https://github.com/gitbutlerapp/gitbutler/issues/4714","id":2470953630,"node_id":"I_kwDOI4EVGc6TR8Ke","number":4714,"title":"Support configuring the CSP","user":{"login":"krlvi","id":4030927,"node_id":"MDQ6VXNlcjQwMzA5Mjc=","avatar_url":"https://avatars.githubusercontent.com/u/4030927?v=4","gravatar_id":"","url":"https://api.github.com/users/krlvi","html_url":"https://github.com/krlvi","followers_url":"https://api.github.com/users/krlvi/followers","following_url":"https://api.github.com/users/krlvi/following{/other_user}","gists_url":"https://api.github.com/users/krlvi/gists{/gist_id}","starred_url":"https://api.github.com/users/krlvi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/krlvi/subscriptions","organizations_url":"https://api.github.com/users/krlvi/orgs","repos_url":"https://api.github.com/users/krlvi/repos","events_url":"https://api.github.com/users/krlvi/events{/privacy}","received_events_url":"https://api.github.com/users/krlvi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":6519781766,"node_id":"LA_kwDOI4EVGc8AAAABhJv5hg","url":"https://api.github.com/repos/gitbutlerapp/gitbutler/labels/new%20feature","name":"new feature","color":"035AF7","default":false,"description":"An entirely new featuer"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":2,"created_at":"2024-08-16T20:33:32Z","updated_at":"2025-04-14T15:46:01Z","closed_at":"2025-04-14T15:45:59Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":595662105,"node_id":"R_kgDOI4EVGQ","name":"gitbutler","full_name":"gitbutlerapp/gitbutler","private":false,"owner":{"login":"gitbutlerapp","id":123460877,"node_id":"O_kgDOB1vdDQ","avatar_url":"https://avatars.githubusercontent.com/u/123460877?v=4","gravatar_id":"","url":"https://api.github.com/users/gitbutlerapp","html_url":"https://github.com/gitbutlerapp","followers_url":"https://api.github.com/users/gitbutlerapp/followers","following_url":"https://api.github.com/users/gitbutlerapp/following{/other_user}","gists_url":"https://api.github.com/users/gitbutlerapp/gists{/gist_id}","starred_url":"https://api.github.com/users/gitbutlerapp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gitbutlerapp/subscriptions","organizations_url":"https://api.github.com/users/gitbutlerapp/orgs","repos_url":"https://api.github.com/users/gitbutlerapp/repos","events_url":"https://api.github.com/users/gitbutlerapp/events{/privacy}","received_events_url":"https://api.github.com/users/gitbutlerapp/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/gitbutlerapp/gitbutler","description":"The GitButler version control client, backed by Git, powered by Tauri/Rust/Svelte","fork":false,"url":"https://api.github.com/repos/gitbutlerapp/gitbutler","forks_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/forks","keys_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/keys{/key_id}","collaborators_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/teams","hooks_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/hooks","issue_events_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues/events{/number}","events_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/events","assignees_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/assignees{/user}","branches_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/branches{/branch}","tags_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/tags","blobs_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/git/refs{/sha}","trees_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/git/trees{/sha}","statuses_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/statuses/{sha}","languages_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/languages","stargazers_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/stargazers","contributors_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/contributors","subscribers_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/subscribers","subscription_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/subscription","commits_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/commits{/sha}","git_commits_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/git/commits{/sha}","comments_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/comments{/number}","issue_comment_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues/comments{/number}","contents_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/contents/{+path}","compare_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/compare/{base}...{head}","merges_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/merges","archive_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/downloads","issues_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues{/number}","pulls_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/pulls{/number}","milestones_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/milestones{/number}","notifications_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/labels{/name}","releases_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/releases{/id}","deployments_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/deployments","created_at":"2023-01-31T14:56:22Z","updated_at":"2025-11-09T21:57:13Z","pushed_at":"2025-11-10T00:19:15Z","git_url":"git://github.com/gitbutlerapp/gitbutler.git","ssh_url":"git@github.com:gitbutlerapp/gitbutler.git","clone_url":"https://github.com/gitbutlerapp/gitbutler.git","svn_url":"https://github.com/gitbutlerapp/gitbutler","homepage":"https://gitbutler.com","size":150280,"stargazers_count":17034,"watchers_count":17034,"language":"Rust","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":true,"forks_count":719,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":618,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["git","github","tauri"],"visibility":"public","forks":719,"open_issues":618,"watchers":17034,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Background: In the interest of security, Tauri [restricts]( https://tauri.app/v1/references/security/#secure-content-loading) the [Content Security Policy](https://developer.mozilla.org/en-US/docs/Web/HTTP/CSP) (CSP) of the pages it renders.\r\n\r\nThe CSP is statically configured here - https://github.com/gitbutlerapp/gitbutler/blob/master/crates/gitbutler-tauri/tauri.conf.release.json#L35 \r\n\r\nThere are use cases for which it is desirable to modify the list of allowed domains. For example:\r\n- connecting to a self hosted Ollama server (non-localhost)\r\n- connecting to the API of a self hosted Git(Hub/Lab/Ea) (for UI integrations)\r\n\r\nWe want to be able to do this in a safe, non-dynamic way, outside of JavaScript land. It appears that this use case has been brought up previously https://github.com/tauri-apps/tauri/issues/3533 and the consensus is that doing so with a hook within rust is appropriate - implemented here: https://github.com/tauri-apps/tauri/pull/3618\r\n\r\nFor GitButler, we could introduce a config file with additional allowed hosts that a user can provide and have GitButler read and implement those on start via the `tauri::WindowBuilder`'s `on_web_resource_request` hook","reactions":{"url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues/4714/reactions","total_count":2,"+1":2,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/gitbutlerapp/gitbutler/issues/4714/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2488808866","html_url":"https://github.com/tauri-apps/tauri/issues/3533#issuecomment-2488808866","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3533","id":2488808866,"node_id":"IC_kwDOC7lts86UWDWi","user":{"login":"gknapp","id":143027,"node_id":"MDQ6VXNlcjE0MzAyNw==","avatar_url":"https://avatars.githubusercontent.com/u/143027?v=4","gravatar_id":"","url":"https://api.github.com/users/gknapp","html_url":"https://github.com/gknapp","followers_url":"https://api.github.com/users/gknapp/followers","following_url":"https://api.github.com/users/gknapp/following{/other_user}","gists_url":"https://api.github.com/users/gknapp/gists{/gist_id}","starred_url":"https://api.github.com/users/gknapp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gknapp/subscriptions","organizations_url":"https://api.github.com/users/gknapp/orgs","repos_url":"https://api.github.com/users/gknapp/repos","events_url":"https://api.github.com/users/gknapp/events{/privacy}","received_events_url":"https://api.github.com/users/gknapp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T14:58:20Z","updated_at":"2024-11-20T14:58:20Z","body":"Where does this stand in V2 at present? I thought there might be a way to do this via the `tauri::Builder` but I've not come across any example code. I'd like to add the machine hostname, and users of my app can add trusted server locations to fetch resources.\r\n\r\nAt present this is blocked by the CSP. I do not know the hostnames at compile time, when installed the machine hostname will change and the user should be able to use trusted hosts.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2488808866/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gknapp","id":143027,"node_id":"MDQ6VXNlcjE0MzAyNw==","avatar_url":"https://avatars.githubusercontent.com/u/143027?v=4","gravatar_id":"","url":"https://api.github.com/users/gknapp","html_url":"https://github.com/gknapp","followers_url":"https://api.github.com/users/gknapp/followers","following_url":"https://api.github.com/users/gknapp/following{/other_user}","gists_url":"https://api.github.com/users/gknapp/gists{/gist_id}","starred_url":"https://api.github.com/users/gknapp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gknapp/subscriptions","organizations_url":"https://api.github.com/users/gknapp/orgs","repos_url":"https://api.github.com/users/gknapp/repos","events_url":"https://api.github.com/users/gknapp/events{/privacy}","received_events_url":"https://api.github.com/users/gknapp/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2488842980","html_url":"https://github.com/tauri-apps/tauri/issues/3533#issuecomment-2488842980","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3533","id":2488842980,"node_id":"IC_kwDOC7lts86UWLrk","user":{"login":"FabianLars","id":30730186,"node_id":"MDQ6VXNlcjMwNzMwMTg2","avatar_url":"https://avatars.githubusercontent.com/u/30730186?v=4","gravatar_id":"","url":"https://api.github.com/users/FabianLars","html_url":"https://github.com/FabianLars","followers_url":"https://api.github.com/users/FabianLars/followers","following_url":"https://api.github.com/users/FabianLars/following{/other_user}","gists_url":"https://api.github.com/users/FabianLars/gists{/gist_id}","starred_url":"https://api.github.com/users/FabianLars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FabianLars/subscriptions","organizations_url":"https://api.github.com/users/FabianLars/orgs","repos_url":"https://api.github.com/users/FabianLars/repos","events_url":"https://api.github.com/users/FabianLars/events{/privacy}","received_events_url":"https://api.github.com/users/FabianLars/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T15:12:08Z","updated_at":"2024-11-20T15:12:08Z","body":"i can't answer your actual question, but for a workaround you could modify the tauri config _before_ the tauri::Builder line like this https://github.com/tauri-apps/tauri-plugin-localhost?tab=readme-ov-file#usage (v1 example but should be roughly the same for v2)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2488842980/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"FabianLars","id":30730186,"node_id":"MDQ6VXNlcjMwNzMwMTg2","avatar_url":"https://avatars.githubusercontent.com/u/30730186?v=4","gravatar_id":"","url":"https://api.github.com/users/FabianLars","html_url":"https://github.com/FabianLars","followers_url":"https://api.github.com/users/FabianLars/followers","following_url":"https://api.github.com/users/FabianLars/following{/other_user}","gists_url":"https://api.github.com/users/FabianLars/gists{/gist_id}","starred_url":"https://api.github.com/users/FabianLars/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FabianLars/subscriptions","organizations_url":"https://api.github.com/users/FabianLars/orgs","repos_url":"https://api.github.com/users/FabianLars/repos","events_url":"https://api.github.com/users/FabianLars/events{/privacy}","received_events_url":"https://api.github.com/users/FabianLars/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2489166275","html_url":"https://github.com/tauri-apps/tauri/issues/3533#issuecomment-2489166275","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3533","id":2489166275,"node_id":"IC_kwDOC7lts86UXanD","user":{"login":"gknapp","id":143027,"node_id":"MDQ6VXNlcjE0MzAyNw==","avatar_url":"https://avatars.githubusercontent.com/u/143027?v=4","gravatar_id":"","url":"https://api.github.com/users/gknapp","html_url":"https://github.com/gknapp","followers_url":"https://api.github.com/users/gknapp/followers","following_url":"https://api.github.com/users/gknapp/following{/other_user}","gists_url":"https://api.github.com/users/gknapp/gists{/gist_id}","starred_url":"https://api.github.com/users/gknapp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gknapp/subscriptions","organizations_url":"https://api.github.com/users/gknapp/orgs","repos_url":"https://api.github.com/users/gknapp/repos","events_url":"https://api.github.com/users/gknapp/events{/privacy}","received_events_url":"https://api.github.com/users/gknapp/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-11-20T17:23:19Z","updated_at":"2024-11-20T17:23:19Z","body":"Thanks, I was able to insert the machine name using that method.\r\n\r\nAs for user specified hosts, I may end up doing something clunky, requiring an app restart. Writing the hosts to disk, reading that on app start and add those in at this point too.\r\n\r\nHere's how I went about the former:\r\n\r\nNew `csp.rs` module:\r\n\r\n```rust\r\nuse tauri::Config;\r\n\r\npub fn get_system_hostname() -> Result<String, String> {\r\n  hostname::get()\r\n    .map_err(|e| format!(\"Failed to get hostname: {}\", e))?\r\n    .into_string()\r\n    .map_err(|_| \"Hostname contains invalid UTF-8\".to_string())\r\n}\r\n\r\npub fn update_csp_with_hostname(config: &Config, hostname: &str) -> Result<String, String> {\r\n  let base_csp = config.app.security.csp.as_ref()\r\n    .ok_or(\"No CSP found in config\")?.to_string();\r\n\r\n  let host_directives = [\"connect-src\", \"script-src\", \"frame-src\"];\r\n  let host_pattern = format!(\" http://{}:* https://{}:*\", hostname, hostname);\r\n  \r\n  let updated_csp = base_csp.split(';')\r\n    .map(|d| {\r\n      let d = d.trim();\r\n      if host_directives.iter().any(|&prefix| d.starts_with(prefix)) {\r\n        format!(\"{}{}\", d, host_pattern)\r\n      } else {\r\n        d.to_string()\r\n      }\r\n    })\r\n    .collect::<Vec<_>>()\r\n    .join(\"; \");\r\n\r\n  Ok(updated_csp)\r\n}\r\n```\r\n\r\nModifications to `main.rs`:\r\n\r\n```rust\r\nuse tauri::utils::config::Csp;\r\n\r\nmod csp;\r\n\r\n// tauri commands ...\r\n\r\nfn main() {\r\n  let hostname = match csp::get_system_hostname() {\r\n    Ok(h) => h,\r\n    Err(e) => {\r\n        eprintln!(\"Warning: Failed to get hostname: {}\", e);\r\n        \"localhost\".to_string()\r\n    }\r\n  };\r\n\r\n  let mut context = tauri::generate_context!();\r\n    \r\n  if let Ok(new_csp) = csp::update_csp_with_hostname(context.config(), &hostname) {\r\n    println!(\"Dynamic CSP: {}\", new_csp);\r\n    context.config_mut().app.security.csp = Some(Csp::Policy(new_csp));\r\n  }\r\n\r\n  tauri::Builder::default()\r\n    // register plugins, invoke_handler, setup ...\r\n    .run(context)\r\n    .expect(\"error while running tauri application\");\r\n}","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2489166275/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gknapp","id":143027,"node_id":"MDQ6VXNlcjE0MzAyNw==","avatar_url":"https://avatars.githubusercontent.com/u/143027?v=4","gravatar_id":"","url":"https://api.github.com/users/gknapp","html_url":"https://github.com/gknapp","followers_url":"https://api.github.com/users/gknapp/followers","following_url":"https://api.github.com/users/gknapp/following{/other_user}","gists_url":"https://api.github.com/users/gknapp/gists{/gist_id}","starred_url":"https://api.github.com/users/gknapp/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gknapp/subscriptions","organizations_url":"https://api.github.com/users/gknapp/orgs","repos_url":"https://api.github.com/users/gknapp/repos","events_url":"https://api.github.com/users/gknapp/events{/privacy}","received_events_url":"https://api.github.com/users/gknapp/received_events","type":"User","user_view_type":"public","site_admin":false}}]