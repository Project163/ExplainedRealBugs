{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/3417","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3417/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3417/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3417/events","html_url":"https://github.com/tauri-apps/tauri/issues/3417","id":1133666426,"node_id":"I_kwDOC7lts85DkmB6","number":3417,"title":"[bug] create-tauri-app on Linux with React fails","user":{"login":"dArignac","id":106409,"node_id":"MDQ6VXNlcjEwNjQwOQ==","avatar_url":"https://avatars.githubusercontent.com/u/106409?v=4","gravatar_id":"","url":"https://api.github.com/users/dArignac","html_url":"https://github.com/dArignac","followers_url":"https://api.github.com/users/dArignac/followers","following_url":"https://api.github.com/users/dArignac/following{/other_user}","gists_url":"https://api.github.com/users/dArignac/gists{/gist_id}","starred_url":"https://api.github.com/users/dArignac/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/dArignac/subscriptions","organizations_url":"https://api.github.com/users/dArignac/orgs","repos_url":"https://api.github.com/users/dArignac/repos","events_url":"https://api.github.com/users/dArignac/events{/privacy}","received_events_url":"https://api.github.com/users/dArignac/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-02-12T07:16:11Z","updated_at":"2022-02-14T09:48:08Z","closed_at":"2022-02-12T09:04:25Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nWhen I run `pnpx create-tauri-app` and choose React als library, then the installation fails. There are 2 errors, on with Git and one with the installation of `@tauri-apps/cli@latest`, see below.\r\n\r\nNotes:\r\n- Installing choosing vanillajs works.\r\n- using `npx` has the same result\r\n\r\n### Reproduction\r\n\r\n1. run `pnpx create-tauri-app` and choose React with Typescript\r\n\r\n### Expected behavior\r\n\r\nInstallation completes without any errors.\r\n\r\n### Platform and versions\r\n\r\n```shell\r\nUbuntu 21.04\r\ntauri 1.0.0-rc.1\r\n```\r\n\r\n\r\n### Stack trace\r\n\r\n```\r\n$ pnpx create-tauri-app                                                                                                                                           [~/projects/tmp][22-02-12/8:11:43][R-0][!8894]\r\n✔ Install the following package: create-tauri-app@latest? (Y/n) · true\r\nPackages: +99\r\n+++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++\r\nPackages are hard linked from the content-addressable store to the virtual store.\r\n  Content-addressable store is at: /home/alex/.pnpm-store/v3\r\n  Virtual store is at:             node_modules/.pnpm\r\nProgress: resolved 99, reused 99, downloaded 0, added 99, done\r\n\r\n/home/alex/.pnpm-store/v3/tmp/_npx/29351/5:\r\n+ create-tauri-app 1.0.0-rc.1\r\n\r\nWe hope to help you create something special with Tauri!\r\nYou will have a choice of one of the UI frameworks supported by the greater web tech community.\r\nThis tool should get you quickly started. See our docs at https://tauri.studio/\r\n\r\nIf you haven't already, please take a moment to setup your system.\r\nYou may find the requirements here: https://tauri.studio/en/docs/get-started/setup-linux/\r\n    \r\nPress any key to continue...\r\n? What is your app name? tauri-app\r\n? What should the window title be? Tauri App\r\n? What UI recipe would you like to add? create-react-app (https://create-react-app.dev/)\r\n? Add \"@tauri-apps/api\" npm package? Yes\r\n? Which create-react-app template would you like to use? create-react-app (Typescript)\r\n>> Running initial command(s)\r\n\r\nCreating a new React app in /home/alex/projects/tmp/tauri-app.\r\n\r\nInstalling packages. This might take a couple of minutes.\r\nInstalling react, react-dom, and react-scripts with cra-template-typescript...\r\n\r\n\r\nadded 1366 packages in 9s\r\n\r\n169 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\nInitialized a git repository.\r\n\r\nInstalling template dependencies using npm...\r\nnpm WARN deprecated source-map-resolve@0.6.0: See https://github.com/lydell/source-map-resolve#deprecated\r\n\r\nadded 38 packages, and changed 1 package in 2s\r\n\r\n169 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\nWe detected TypeScript in your project (src/App.test.tsx) and created a tsconfig.json file for you.\r\n\r\nYour tsconfig.json has been populated with default values.\r\n\r\nRemoving template package using npm...\r\n\r\n\r\nremoved 1 package, and audited 1404 packages in 2s\r\n\r\n169 packages are looking for funding\r\n  run `npm fund` for details\r\n\r\n8 moderate severity vulnerabilities\r\n\r\nTo address all issues (including breaking changes), run:\r\n  npm audit fix --force\r\n\r\nRun `npm audit` for details.\r\nGit commit not created Error: Command failed: git commit -m \"Initialize project using Create React App\"\r\n    at checkExecSyncError (node:child_process:828:11)\r\n    at execSync (node:child_process:902:15)\r\n    at tryGitCommit (/home/alex/projects/tmp/tauri-app/node_modules/react-scripts/scripts/init.js:62:5)\r\n    at module.exports (/home/alex/projects/tmp/tauri-app/node_modules/react-scripts/scripts/init.js:350:25)\r\n    at [eval]:3:14\r\n    at Script.runInThisContext (node:vm:129:12)\r\n    at Object.runInThisContext (node:vm:305:38)\r\n    at node:internal/process/execution:75:19\r\n    at [eval]-wrapper:6:22\r\n    at evalScript (node:internal/process/execution:74:60) {\r\n  status: 128,\r\n  signal: null,\r\n  output: [ null, null, null ],\r\n  pid: 29809,\r\n  stdout: null,\r\n  stderr: null\r\n}\r\nRemoving .git directory...\r\n\r\nSuccess! Created tauri-app at /home/alex/projects/tmp/tauri-app\r\nInside that directory, you can run several commands:\r\n\r\n  npm start\r\n    Starts the development server.\r\n\r\n  npm run build\r\n    Bundles the app into static files for production.\r\n\r\n  npm test\r\n    Starts the test runner.\r\n\r\n  npm run eject\r\n    Removes this tool and copies build dependencies, configuration files\r\n    and scripts into the app directory. If you do this, you can’t go back!\r\n\r\nWe suggest that you begin by typing:\r\n\r\n  cd tauri-app\r\n  npm start\r\n\r\nHappy hacking!\r\n>> Installing any additional needed dependencies\r\n- Installing @tauri-apps/cli@latest, cross-env...\r\nnpm ERR! code EINVALIDTAGNAME\r\nnpm ERR! Invalid tag name \"latest cross-env\": Tags may not have any characters that encodeURIComponent encodes.\r\n\r\nnpm ERR! A complete log of this run can be found in:\r\nnpm ERR!     /home/alex/.npm/_logs/2022-02-12T07_12_16_206Z-debug-0.log\r\nError with command: npm\r\nError: Error: Command failed with exit code 1: npm install --save-dev --ignore-scripts @tauri-apps/cli@latest cross-env\r\n    at /home/alex/.pnpm-store/v3/tmp/_npx/29351/5/node_modules/.pnpm/create-tauri-app@1.0.0-rc.1/node_modules/create-tauri-app/dist/index.js:62:15\r\n    at Generator.throw (<anonymous>)\r\n    at rejected (/home/alex/.pnpm-store/v3/tmp/_npx/29351/5/node_modules/.pnpm/create-tauri-app@1.0.0-rc.1/node_modules/create-tauri-app/dist/index.js:39:65)\r\n    at processTicksAndRejections (node:internal/process/task_queues:96:5)\r\n```\r\n\r\n### Additional context\r\n\r\n_No response_","closed_by":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/3417/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3417/timeline","performed_via_github_app":null,"state_reason":"completed"}