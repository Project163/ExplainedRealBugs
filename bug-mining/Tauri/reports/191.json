{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2398","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2398/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2398/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2398/events","html_url":"https://github.com/tauri-apps/tauri/issues/2398","id":967530073,"node_id":"MDU6SXNzdWU5Njc1MzAwNzM=","number":2398,"title":"feat: add a default menu for tauri apps","user":{"login":"probablykasper","id":11315492,"node_id":"MDQ6VXNlcjExMzE1NDky","avatar_url":"https://avatars.githubusercontent.com/u/11315492?v=4","gravatar_id":"","url":"https://api.github.com/users/probablykasper","html_url":"https://github.com/probablykasper","followers_url":"https://api.github.com/users/probablykasper/followers","following_url":"https://api.github.com/users/probablykasper/following{/other_user}","gists_url":"https://api.github.com/users/probablykasper/gists{/gist_id}","starred_url":"https://api.github.com/users/probablykasper/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/probablykasper/subscriptions","organizations_url":"https://api.github.com/users/probablykasper/orgs","repos_url":"https://api.github.com/users/probablykasper/repos","events_url":"https://api.github.com/users/probablykasper/events{/privacy}","received_events_url":"https://api.github.com/users/probablykasper/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3307098206,"node_id":"MDU6TGFiZWwzMzA3MDk4MjA2","url":"https://api.github.com/repos/tauri-apps/tauri/labels/priority:%202%20medium","name":"priority: 2 medium","color":"E844A1","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":18,"created_at":"2021-08-11T21:54:23Z","updated_at":"2022-06-27T10:55:38Z","closed_at":"2022-06-15T13:51:43Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"On macOS, it's pretty much standard for every app to have a menu. Not having one looks very unusual, and basic shortcuts like copy/paste don't work (https://github.com/tauri-apps/tauri/issues/2397). This could result in future issues being created, and unexpected surprises for people who develop on Windows/Linux.\r\n\r\nTo prevent that, I think it would make sense to have a default macOS menu.\r\n\r\nSuggestion for what the default menu should be, and API for it:\r\n```rust\r\nimpl Menu {\r\n  pub fn default() -> Menu {\r\n    Menu::new()\r\n      .add_default_submenu(Submenu::App)\r\n      .add_default_submenu(Submenu::File)\r\n      .add_default_submenu(Submenu::Edit)\r\n      .add_default_submenu(Submenu::View)\r\n      .add_default_submenu(Submenu::Window)\r\n      .add_default_submenu(Submenu::Help(\"https://tauri.studio\"))\r\n  }\r\n\r\n  pub fn add_default_submenu(&mut self, submenu: Submenu) {\r\n    match submenu {\r\n      Submenu::App => {\r\n        #[cfg(target_os = \"macos\")]\r\n        self.add_submenu(Submenu::new(\r\n          app_name,\r\n          Menu::new()\r\n            .add_native_item(MenuItem::About(app_name))\r\n            .add_native_item(MenuItem::Separator)\r\n            .add_native_item(MenuItem::Services)\r\n            .add_native_item(MenuItem::Separator)\r\n            .add_native_item(MenuItem::Hide)\r\n            .add_native_item(MenuItem::HideOthers)\r\n            .add_native_item(MenuItem::ShowAll)\r\n            .add_native_item(MenuItem::Separator)\r\n            .add_native_item(MenuItem::Quit),\r\n        ));\r\n      }\r\n\r\n      Submenu::File => {\r\n        self.add_submenu(Submenu::new(\r\n          \"File\",\r\n          if cfg!(target_os == \"macos\") {\r\n            Menu::new().add_native_item(MenuItem::CloseWindow)\r\n          } else {\r\n            Menu::new().add_native_item(MenuItem::Quit)\r\n          },\r\n        ));\r\n      }\r\n\r\n      Submenu::Edit => {\r\n        self.add_submenu(Submenu::new(\"Edit\", {\r\n          let mut menu = Menu::new();\r\n          menu = menu.add_native_item(MenuItem::Undo);\r\n          menu = menu.add_native_item(MenuItem::Redo);\r\n          menu = menu.add_native_item(MenuItem::Separator);\r\n          menu = menu.add_native_item(MenuItem::Cut);\r\n          menu = menu.add_native_item(MenuItem::Copy);\r\n          menu = menu.add_native_item(MenuItem::Paste);\r\n          #[cfg(not(target_os = \"macos\"))]\r\n          {\r\n            menu = menu.add_native_item(MenuItem::Separator);\r\n          }\r\n          menu = menu.add_native_item(MenuItem::SelectAll);\r\n          menu\r\n        }));\r\n      }\r\n\r\n      Submenu::View => {\r\n        self.add_submenu(Submenu::new(\r\n          \"View\",\r\n          Menu::new().add_native_item(MenuItem::EnterFullScreen),\r\n        ));\r\n      }\r\n\r\n      Submenu::Window => {\r\n        self.add_submenu(Submenu::new(\"Window\", {\r\n          let menu = Menu::new()\r\n            .add_native_item(MenuItem::Minimize)\r\n            .add_native_item(MenuItem::Zoom);\r\n          if cfg!(target_os == \"macos\") {\r\n            menu.add_native_item(MenuItem::Separator);\r\n            // not yet supported:\r\n            menu.add_native_item(MenuItem::BringAllToFront);\r\n            // not yet supported (window selector):\r\n            menu.add_native_item(MenuItem::Window);\r\n          } else {\r\n            menu.add_native_item(MenuItem::CloseWindow);\r\n          }\r\n        }));\r\n      }\r\n\r\n      Submenu::Help(url) => {\r\n        self.add_submenu(Submenu::new(\r\n          \"Help\",\r\n          Menu::new()\r\n            // should open url when clicked:\r\n            .add_item(MenuItem::Url(\"Learn More\", url)),\r\n        ))\r\n      }\r\n    }\r\n  }\r\n}\r\n```","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2398/reactions","total_count":30,"+1":30,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2398/timeline","performed_via_github_app":null,"state_reason":"completed"}