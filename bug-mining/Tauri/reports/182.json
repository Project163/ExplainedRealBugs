{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4260","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4260/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4260/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4260/events","html_url":"https://github.com/tauri-apps/tauri/issues/4260","id":1258415942,"node_id":"I_kwDOC7lts85LAedG","number":4260,"title":"[bug] linuxdeploy-i686.AppImage not exists on https://github.com/linuxdeploy/linuxdeploy/releases","user":{"login":"liudonghua123","id":2276718,"node_id":"MDQ6VXNlcjIyNzY3MTg=","avatar_url":"https://avatars.githubusercontent.com/u/2276718?v=4","gravatar_id":"","url":"https://api.github.com/users/liudonghua123","html_url":"https://github.com/liudonghua123","followers_url":"https://api.github.com/users/liudonghua123/followers","following_url":"https://api.github.com/users/liudonghua123/following{/other_user}","gists_url":"https://api.github.com/users/liudonghua123/gists{/gist_id}","starred_url":"https://api.github.com/users/liudonghua123/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/liudonghua123/subscriptions","organizations_url":"https://api.github.com/users/liudonghua123/orgs","repos_url":"https://api.github.com/users/liudonghua123/repos","events_url":"https://api.github.com/users/liudonghua123/events{/privacy}","received_events_url":"https://api.github.com/users/liudonghua123/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":3307096872,"node_id":"MDU6TGFiZWwzMzA3MDk2ODcy","url":"https://api.github.com/repos/tauri-apps/tauri/labels/priority:%201%20high","name":"priority: 1 high","color":"E844A1","default":false,"description":""},{"id":3310698084,"node_id":"MDU6TGFiZWwzMzEwNjk4MDg0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/platform:%20Linux","name":"platform: Linux","color":"fef2c0","default":false,"description":""},{"id":3413949527,"node_id":"LA_kwDOC7lts87LfLxX","url":"https://api.github.com/repos/tauri-apps/tauri/labels/scope:%20bundler","name":"scope: bundler","color":"D4C5F9","default":false,"description":"The bundler used in our cli to make installers"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-06-02T16:21:11Z","updated_at":"2022-06-04T20:55:20Z","closed_at":"2022-06-04T20:55:20Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nI tried to build and bundle a tauri app on linux use `i686-unknown-linux-gnu` target. But I find that the generated `src-tauri\\target\\i686-unknown-linux-gnu\\release\\bundle\\appimage\\build_appimage.sh` as belows. The script tried to download https://github.com/linuxdeploy/linuxdeploy/releases/download/continuous/linuxdeploy-i686.AppImage which is 404, and maybe the correct one is https://github.com/linuxdeploy/linuxdeploy/releases/download/continuous/linuxdeploy-i386.AppImage.\r\n\r\nMaybe the correct location for this issue is on https://github.com/linuxdeploy/linuxdeploy.\r\n\r\n```shell\r\n#!/usr/bin/env bash\r\n# Copyright 2019-2021 Tauri Programme within The Commons Conservancy\r\n# SPDX-License-Identifier: Apache-2.0\r\n# SPDX-License-Identifier: MIT\r\n\r\nset -euxo pipefail\r\n\r\nexport ARCH=i686\r\n\r\nmkdir -p \"hoppscotch-app.AppDir\"\r\ncp -r ../appimage_deb/data/usr \"hoppscotch-app.AppDir\"\r\n\r\ncd \"hoppscotch-app.AppDir\"\r\n\r\n# Copy WebKit files.\r\nfind /usr/lib* -name WebKitNetworkProcess -exec mkdir -p \"$(dirname '{}')\" \\; -exec cp --parents '{}' \".\" \\; || true\r\nfind /usr/lib* -name WebKitWebProcess -exec mkdir -p \"$(dirname '{}')\" \\; -exec cp --parents '{}' \".\" \\; || true\r\nfind /usr/lib* -name libwebkit2gtkinjectedbundle.so -exec mkdir -p \"$(dirname '{}')\" \\; -exec cp --parents '{}' \".\" \\; || true\r\n\r\nwget -q -4 -O AppRun https://github.com/AppImage/AppImageKit/releases/download/continuous/AppRun-${ARCH} || wget -q -4 -O AppRun https://github.com/AppImage/AppImageKit/releases/download/12/AppRun-${ARCH}\r\nchmod +x AppRun\r\n\r\ncp \"usr/share/icons/hicolor/512x512@2x/apps/hoppscotch-app.png\" .DirIcon\r\nln -s \"usr/share/icons/hicolor/512x512@2x/apps/hoppscotch-app.png\" \"hoppscotch-app.png\"\r\n\r\nln -s \"usr/share/applications/hoppscotch-app.desktop\" \"hoppscotch-app.desktop\"\r\n\r\ncd ..\r\n\r\nwget -q -4 -O linuxdeploy-plugin-gtk.sh \"https://raw.githubusercontent.com/tauri-apps/linuxdeploy-plugin-gtk/master/linuxdeploy-plugin-gtk.sh\"\r\nwget -q -4 -O linuxdeploy-${ARCH}.AppImage https://github.com/linuxdeploy/linuxdeploy/releases/download/continuous/linuxdeploy-${ARCH}.AppImage\r\n\r\nchmod +x linuxdeploy-plugin-gtk.sh\r\nchmod +x linuxdeploy-${ARCH}.AppImage\r\n\r\nOUTPUT=\"hoppscotch-app_2.1.0_i386.AppImage\" ./linuxdeploy-${ARCH}.AppImage --appimage-extract-and-run --appdir \"hoppscotch-app.AppDir\" --plugin gtk --output appimage\r\n\r\n```\r\n\r\n### Reproduction\r\n\r\n1. install the tauri prerequisites, maybe like the followings, if you are on 32-bit ubuntu, the `:i386` packages are not required.\r\n    ```bash\r\n    sudo apt update\r\n    sudo add-apt-repository universe\r\n    sudo dpkg --add-architecture i386 \r\n    sudo apt update\r\n    sudo apt upgrade\r\n    # install both 32-bit and 64-bit prerequisites of tauri\r\n    # libayatana-appindicator3-dev is the successor of libappindicator3-dev and 64-bit only\r\n    # https://tauri.studio/v1/guides/getting-started/prerequisites/\r\n    sudo apt install -y \\\r\n      libwebkit2gtk-4.0-dev \\\r\n      libwebkit2gtk-4.0-dev:i386 \\\r\n      build-essential \\\r\n      curl \\\r\n      wget \\\r\n      libssl-dev \\\r\n      libssl-dev:i386 \\\r\n      libgtk-3-dev \\\r\n      libgtk-3-dev:i386 \\\r\n      patchelf \\\r\n      librsvg2-dev \\\r\n      librsvg2-dev:i386 \\\r\n      libayatana-appindicator3-dev \\\r\n      gcc-multilib \\\r\n      g++-multilib\r\n    ```\r\n3. execute the following commands, if you are on 32-bit ubuntu, the `PKG_CONFIG_` is not needed.\r\n    ```\r\n    export PKG_CONFIG_PATH=/usr/lib/x86_64-linux-gnu/pkgconfig/:$PKG_CONFIG_PATH\r\n    export PKG_CONFIG_SYSROOT_DIR=/\r\n    yarn tauri build -t i686-unknown-linux-gnu -v\r\n    ```\r\n\r\n### Expected behavior\r\n\r\n_No response_\r\n\r\n### Platform and versions\r\n\r\n```shell\r\nliudonghua@DESKTOP-DELL:/mnt/d/code/rust/hoppscotch-app$ npm run tauri info\r\n\r\n> tauri\r\n> tauri \"info\"\r\n\r\n\r\nEnvironment\r\n  › OS: Ubuntu 22.04 X64\r\n  › Node.js: 18.2.0\r\n  › npm: 8.9.0\r\n  › pnpm: 7.1.7\r\n  › yarn: 1.22.18\r\n  › rustup: 1.24.3\r\n  › rustc: 1.61.0\r\n  › cargo: 1.61.0\r\n  › Rust toolchain: stable-x86_64-unknown-linux-gnu\r\n\r\nPackages\r\n  › @tauri-apps/cli [NPM]: 1.0.0-rc.13\r\n  › @tauri-apps/api [NPM]: 1.0.0-rc.6\r\n  › tauri [RUST]: 1.0.0-rc.14,\r\n  › tauri-build [RUST]: 1.0.0-rc.12,\r\n  › tao [RUST]: 0.9.1,\r\n  › wry [RUST]: 0.17.0,\r\n\r\nApp\r\n  › build-type: bundle\r\n  › CSP: default-src blob: data: filesystem: ws: wss: http: https: tauri: 'unsafe-eval' 'unsafe-inline' 'self' img-src: 'self'\r\n  › distDir: dist\r\n  › devPath: dist\r\n\r\nApp directory structure\r\n  ├─ .git\r\n  ├─ .github\r\n  ├─ dist\r\n  ├─ hoppscotch\r\n  ├─ node_modules\r\n  └─ src-tauri\r\nnpm notice\r\nnpm notice New minor version of npm available! 8.9.0 -> 8.12.0\r\nnpm notice Changelog: https://github.com/npm/cli/releases/tag/v8.12.0\r\nnpm notice Run npm install -g npm@8.12.0 to update!\r\nnpm notice\r\nliudonghua@DESKTOP-DELL:/mnt/d/code/rust/hoppscotch-app$\r\n```\r\n\r\n\r\n### Stack trace\r\n\r\n_No response_\r\n\r\n### Additional context\r\n\r\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4260/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4260/timeline","performed_via_github_app":null,"state_reason":"completed"}