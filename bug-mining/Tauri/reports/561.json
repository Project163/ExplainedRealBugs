{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/11089","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/11089/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/11089/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/11089/events","html_url":"https://github.com/tauri-apps/tauri/issues/11089","id":2541240787,"node_id":"I_kwDOC7lts86XeEHT","number":11089,"title":"[bug] [v2] [ios] Build of iOS does not add the correct capabilities to entitlements","user":{"login":"rtmotiondev","id":54023781,"node_id":"MDQ6VXNlcjU0MDIzNzgx","avatar_url":"https://avatars.githubusercontent.com/u/54023781?v=4","gravatar_id":"","url":"https://api.github.com/users/rtmotiondev","html_url":"https://github.com/rtmotiondev","followers_url":"https://api.github.com/users/rtmotiondev/followers","following_url":"https://api.github.com/users/rtmotiondev/following{/other_user}","gists_url":"https://api.github.com/users/rtmotiondev/gists{/gist_id}","starred_url":"https://api.github.com/users/rtmotiondev/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rtmotiondev/subscriptions","organizations_url":"https://api.github.com/users/rtmotiondev/orgs","repos_url":"https://api.github.com/users/rtmotiondev/repos","events_url":"https://api.github.com/users/rtmotiondev/events{/privacy}","received_events_url":"https://api.github.com/users/rtmotiondev/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":4288483270,"node_id":"LA_kwDOC7lts87_nQ_G","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20needs%20triage","name":"status: needs triage","color":"059372","default":false,"description":"This issue needs to triage, applied to new issues"},{"id":4901406421,"node_id":"LA_kwDOC7lts88AAAABJCWG1Q","url":"https://api.github.com/repos/tauri-apps/tauri/labels/platform:%20iOS","name":"platform: iOS","color":"fef2c0","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":1,"created_at":"2024-09-22T20:15:16Z","updated_at":"2024-10-01T13:15:44Z","closed_at":"2024-10-01T13:15:43Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nI added the â€œSign in with Appleâ€ capability to Xcode (for all targets - automatic signing), but this capability is not included in the entitlements of the final IPA.\r\n\r\nFor some reason, it works on the iOS Simulator but not on TestFlight. The device logs show: â€œAuthorization failed: Error Domain=AKAuthenticationError Code=-7026 UserInfo={AKClientBundleID=}.â€\r\n\r\nI think the issue is due to the release build not having the correct capability in the entitlements, even though itâ€™s clearly set in Xcode. I can provide images if that helps.\r\n\r\n### Reproduction\r\n\r\nAdd a capability in Xcode and build an iOS App then verify the release IPA entitlements with:\r\nUnzip the IPA file\r\ncodesign -d --entitlements :- Payload/Name of App.app\r\n\r\n### Expected behavior\r\n\r\nExpected the IPA entitlements to show the added capability. \r\n\r\n\r\n### Full `tauri info` output\r\n\r\n```text\r\n> tauri info\r\n\r\n\r\n[âœ”] Environment\r\n    - OS: Mac OS 14.7.0 arm64 (X64)\r\n    âœ” Xcode Command Line Tools: installed\r\n    âœ” rustc: 1.81.0 (eeb90cda1 2024-09-04)\r\n    âœ” cargo: 1.81.0 (2dbb1af80 2024-08-20)\r\n    âœ” rustup: 1.27.1 (54dd3d00f 2024-04-24)\r\n    âœ” Rust toolchain: stable-aarch64-apple-darwin (default)\r\n    - node: 20.17.0\r\n    - npm: 10.8.2\r\n\r\n[-] Packages\r\n    - tauri ðŸ¦€: 2.0.0-rc.15\r\n    - tauri-build ðŸ¦€: 2.0.0-rc.12\r\n    - wry ðŸ¦€: 0.43.1\r\n    - tao ðŸ¦€: 0.30.0\r\n    - @tauri-apps/api îœ˜: 2.0.0-rc.5\r\n    - @tauri-apps/cli îœ˜: 2.0.0-rc.16\r\n\r\n[-] Plugins\r\n    - tauri-plugin-window-state ðŸ¦€: 2.0.0-rc.5\r\n    - @tauri-apps/plugin-window-state îœ˜: not installed!\r\n    - tauri-plugin-store ðŸ¦€: 2.0.0-rc.3\r\n    - @tauri-apps/plugin-store îœ˜: not installed!\r\n    - tauri-plugin-log ðŸ¦€: 2.0.0-rc.2\r\n    - @tauri-apps/plugin-log îœ˜: not installed!\r\n    - tauri-plugin-shell ðŸ¦€: 2.0.0-rc.3\r\n    - @tauri-apps/plugin-shell îœ˜: not installed!\r\n    - tauri-plugin-dialog ðŸ¦€: 2.0.0-rc.7\r\n    - @tauri-apps/plugin-dialog îœ˜: not installed!\r\n    - tauri-plugin-notification ðŸ¦€: 2.0.0-rc.5\r\n    - @tauri-apps/plugin-notification îœ˜: not installed!\r\n    - tauri-plugin-fs ðŸ¦€: 2.0.0-rc.5\r\n    - @tauri-apps/plugin-fs îœ˜: not installed!\r\n\r\n[-] App\r\n    - build-type: bundle\r\n    - frontendDist: ../src\r\n\r\n[-] iOS\r\n    - Developer Teams: <Redacted>\r\n```\r\n\r\n\r\n### Stack trace\r\n\r\n_No response_\r\n\r\n### Additional context\r\n\r\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/11089/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/11089/timeline","performed_via_github_app":null,"state_reason":"completed"}