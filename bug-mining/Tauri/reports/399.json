{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/6388","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/6388/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/6388/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/6388/events","html_url":"https://github.com/tauri-apps/tauri/issues/6388","id":1606853484,"node_id":"I_kwDOC7lts85fxqNs","number":6388,"title":"[bug] Missing newline character for (\"on\", \"data\") callback on js api","user":{"login":"GabrieleRoncolato","id":64737247,"node_id":"MDQ6VXNlcjY0NzM3MjQ3","avatar_url":"https://avatars.githubusercontent.com/u/64737247?v=4","gravatar_id":"","url":"https://api.github.com/users/GabrieleRoncolato","html_url":"https://github.com/GabrieleRoncolato","followers_url":"https://api.github.com/users/GabrieleRoncolato/followers","following_url":"https://api.github.com/users/GabrieleRoncolato/following{/other_user}","gists_url":"https://api.github.com/users/GabrieleRoncolato/gists{/gist_id}","starred_url":"https://api.github.com/users/GabrieleRoncolato/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GabrieleRoncolato/subscriptions","organizations_url":"https://api.github.com/users/GabrieleRoncolato/orgs","repos_url":"https://api.github.com/users/GabrieleRoncolato/repos","events_url":"https://api.github.com/users/GabrieleRoncolato/events{/privacy}","received_events_url":"https://api.github.com/users/GabrieleRoncolato/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":4288483270,"node_id":"LA_kwDOC7lts87_nQ_G","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20needs%20triage","name":"status: needs triage","color":"059372","default":false,"description":"This issue needs to triage, applied to new issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":4,"created_at":"2023-03-02T13:56:42Z","updated_at":"2023-08-08T21:48:06Z","closed_at":"2023-08-08T21:48:05Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\r\n\r\nI'm experiencing an issue with the on data callback for the stdout pipeline when spawning a child process.\r\nThe child process spawned by Tauri is written in C: it prints a string which might terminate with a newline character or not, and a fflush is called right after this print.\r\nThe issue is that Tauri never includes the newline character when the on data listener is called, but I need to know if that newline character was present or not in the stdout.\r\n\r\n### Reproduction\r\n\r\nI have prepared a Tauri application to showcase this error: https://github.com/TALCo-Team/tauri-issue-newline-stdout\r\n\r\nIn order to reproduce the error, simply build and run the test application and observe the results reported inside the main page: the stdout outputs of the executed program will be missing the expected newline characters.\r\nYou can also check the C source code and try to run the launched executable using the shell instead: you'll see that the newline characters should indeed be present.\r\n\r\n### Expected behavior\r\n\r\nThe Tauri interface should be able to report all newline characters from the stdout of its child processes, but it looks like all trailing newline characters are instead cutoff.\r\n\r\n### Platform and versions\r\n\r\nyarn tauri dev\r\n\r\nThe test application has been run on Ubuntu 20.04 and Windows 10 using the latest available version for Tauri, the issue only seems to happen on Ubuntu 20.04.\r\n\r\n### Stack trace\r\n\r\n_No response_\r\n\r\n### Additional context\r\n\r\n_No response_","closed_by":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/6388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/6388/timeline","performed_via_github_app":null,"state_reason":"completed"}