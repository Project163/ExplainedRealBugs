{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2733","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2733/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2733/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2733/events","html_url":"https://github.com/tauri-apps/tauri/issues/2733","id":1023357518,"node_id":"I_kwDOC7lts848_zJO","number":2733,"title":"The event module is private despite being exposed in the public API","user":{"login":"anna-is-cute","id":955250,"node_id":"MDQ6VXNlcjk1NTI1MA==","avatar_url":"https://avatars.githubusercontent.com/u/955250?v=4","gravatar_id":"","url":"https://api.github.com/users/anna-is-cute","html_url":"https://github.com/anna-is-cute","followers_url":"https://api.github.com/users/anna-is-cute/followers","following_url":"https://api.github.com/users/anna-is-cute/following{/other_user}","gists_url":"https://api.github.com/users/anna-is-cute/gists{/gist_id}","starred_url":"https://api.github.com/users/anna-is-cute/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/anna-is-cute/subscriptions","organizations_url":"https://api.github.com/users/anna-is-cute/orgs","repos_url":"https://api.github.com/users/anna-is-cute/repos","events_url":"https://api.github.com/users/anna-is-cute/events{/privacy}","received_events_url":"https://api.github.com/users/anna-is-cute/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":3306923091,"node_id":"MDU6TGFiZWwzMzA2OTIzMDkx","url":"https://api.github.com/repos/tauri-apps/tauri/labels/scope:%20core","name":"scope: core","color":"D4C5F9","default":false,"description":"Core packages of Tauri"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2021-10-12T04:44:15Z","updated_at":"2022-02-04T20:44:13Z","closed_at":"2022-02-04T20:44:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"<!-- BEFORE YOU FILE A NEW ISSUE-->\r\n<!--\r\n\r\n0. Please search open issues before duplicating a new one.\r\n1. Make sure you are using the latest version of everything including:\r\n  - rustc\r\n  - ALL relevant Tauri Libs\r\n2. You must attach the results of cargo tauri info or yarn tauri info to your issue.\r\n3. Make sure it is an issue with Tauri, and not something to do with your side of the stack.\r\n4. Consider starting a discussion. Speaking of which, have you looked there? Maybe your question has been answered.\r\n5. Remember to follow our community guidelines and be friendly.\r\n6. Is this an issue or a feature request? If the latter, please use the other template.\r\n\r\n-->\r\n\r\n### **Describe the bug**\r\nThe event module is private, making it impossible to reference `Event` or `EventHandler`.\r\n\r\n### **To Reproduce**\r\n1. Try to import `tauri::event::{Event, EventHandler}`\r\n\r\n### **Expected behavior**\r\nThe module is not private.\r\n\r\n### **Platform and Versions (required):**\r\n<!-- Use `yarn tauri info` or `cargo tauri info` command to get this information, and paste it here: -->\r\n```\r\nOperating System - Windows, version 10.0.19042 X64\r\nWebview2 - 94.0.992.38\r\n\r\nNode.js environment\r\n  Node.js - 16.11.0\r\n  @tauri-apps/cli - 1.0.0-beta.10\r\n  @tauri-apps/api - 1.0.0-beta.8\r\n\r\nGlobal packages\r\n  npm - 8.0.0\r\n  yarn - 1.22.15\r\n\r\nRust environment\r\n  rustc - 1.57.0-nightly\r\n  cargo - 1.57.0-nightly\r\n\r\nApp directory structure\r\n/.git\r\n/.idea\r\n/node_modules\r\n/public\r\n/src\r\n/src-tauri\r\n\r\nApp\r\n  tauri.rs - 1.0.0-beta.8\r\n  build-type - bundle\r\n  CSP - default-src blob: data: filesystem: ws: wss: http: https: tauri: 'unsafe-eval' 'unsafe-inline' 'self' img-src: 'self'\r\n  distDir - Set automatically by Vue CLI plugin\r\n  devPath - Set automatically by Vue CLI plugin\r\n  framework - Vue.js (Vue CLI)\r\n  bundler - Webpack\r\n```\r\n\r\n### **Additional context**\r\nI would like to do this:\r\n```rs\r\nfn some_func(&self) {\r\n    self.handle.listen_global(\"send-packet\", listener);\r\n}\r\n\r\nfn listener(event: Event) {\r\n    // ...\r\n}\r\n```\r\n\r\nUnfortunately, there is no way for me to `use` the necessary type, so this is impossible.\r\n\r\nIn addition, it is impossible to store the result of `listen_global` to be `unlisten`ed later, since there's no way to reference `EventHandler` in a struct.\r\n\r\nI wonder if it's a Rust bug that the API is even allowed to do this. It's essentially exposing a private type in the public API, which you can't do normally.","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2733/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2733/timeline","performed_via_github_app":null,"state_reason":"completed"}