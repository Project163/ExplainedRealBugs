{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2871","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2871/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2871/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2871/events","html_url":"https://github.com/tauri-apps/tauri/issues/2871","id":1050215198,"node_id":"I_kwDOC7lts84-mQMe","number":2871,"title":"Cannot run a new app on Windows","user":{"login":"SyntaxRules","id":4117657,"node_id":"MDQ6VXNlcjQxMTc2NTc=","avatar_url":"https://avatars.githubusercontent.com/u/4117657?v=4","gravatar_id":"","url":"https://api.github.com/users/SyntaxRules","html_url":"https://github.com/SyntaxRules","followers_url":"https://api.github.com/users/SyntaxRules/followers","following_url":"https://api.github.com/users/SyntaxRules/following{/other_user}","gists_url":"https://api.github.com/users/SyntaxRules/gists{/gist_id}","starred_url":"https://api.github.com/users/SyntaxRules/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SyntaxRules/subscriptions","organizations_url":"https://api.github.com/users/SyntaxRules/orgs","repos_url":"https://api.github.com/users/SyntaxRules/repos","events_url":"https://api.github.com/users/SyntaxRules/events{/privacy}","received_events_url":"https://api.github.com/users/SyntaxRules/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":3306923091,"node_id":"MDU6TGFiZWwzMzA2OTIzMDkx","url":"https://api.github.com/repos/tauri-apps/tauri/labels/scope:%20core","name":"scope: core","color":"D4C5F9","default":false,"description":"Core packages of Tauri"},{"id":3307104734,"node_id":"MDU6TGFiZWwzMzA3MTA0NzM0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20needs%20more%20info","name":"status: needs more info","color":"059372","default":false,"description":"Issue needs more information, discussion or reproducible example"},{"id":3310697304,"node_id":"MDU6TGFiZWwzMzEwNjk3MzA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/platform:%20Windows","name":"platform: Windows","color":"fef2c0","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":29,"created_at":"2021-11-10T19:22:11Z","updated_at":"2023-11-08T20:13:08Z","closed_at":"2021-11-16T14:18:13Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### **Describe the bug**\r\nA clear and concise description of what the bug is. This is probably the same thing happening in #2867\r\n\r\n### **To Reproduce**\r\nSteps to reproduce the behavior: **TLDR; follow the tauri [website](https://tauri.studio/en/docs/usage/development/integration)**\r\n1. Run `yarn create tauri-app`\r\n2. `cd tauri-app` (or whatever you called it)\r\n2. Run `yarn tauri info`\r\n3. Run `yarn tauri dev`  <- errors\r\n4.  Try it again... fails again\r\n\r\n### **Expected behavior**\r\nTauri app compiles & runs\r\n\r\n\r\n### **Platform and Versions (required):**\r\n```\r\ntauri-app> yarn tauri info\r\nyarn run v1.22.17\r\n$ tauri info\r\n app:spawn Running \"C:\\...\\tauri-app\\node_modules\\@tauri-apps\\cli\\bin\\tauri-cli.exe tauri info\" +0ms\r\n\r\n\r\nOperating System - Windows, version 10.0.19042 X64\r\nWebview2 - 95.0.1020.44\r\n\r\nNode.js environment\r\n  Node.js - 16.13.0\r\n  @tauri-apps/cli - 1.0.0-beta.10\r\n  @tauri-apps/api - 1.0.0-beta.8\r\n\r\nGlobal packages\r\n  npm - 8.1.2\r\n  yarn - 1.22.17\r\n\r\nRust environment\r\n  rustc - 1.56.1\r\n  cargo - 1.56.0\r\n\r\nApp directory structure\r\n/.vscode\r\n/node_modules\r\n/public\r\n/src\r\n/src-tauri\r\n\r\nApp\r\n  tauri.rs - 1.0.0-beta.8 (no lockfile)\r\n  build-type - bundle\r\n  CSP - default-src blob: data: filesystem: ws: wss: http: https: tauri: 'unsafe-eval' 'unsafe-inline' 'self' img-src: 'self'\r\n  distDir - ../public\r\n  devPath - http://localhost:5000\r\n  framework - Svelte\r\n  bundler - Rollup\r\n\r\nDone in 10.38s.\r\n```\r\n\r\n### **Additional context**\r\nFresh install\r\n\r\n### **Stack Trace**\r\n```\r\n> yarn tauri dev\r\nyarn run v1.22.17\r\n$ tauri dev\r\n app:spawn Running \"C:\\...\\tauri-app\\node_modules\\@tauri-apps\\cli\\bin\\tauri-cli.exe tauri dev\" +0ms\r\n\r\n[tauri:dev] Running `npm run dev`\r\n\r\n> tauri-app@1.0.0 dev\r\n> rollup -c -w\r\n\r\n    Updating crates.io index\r\nrollup v2.59.0\r\nbundles src/main.ts â†’ public\\build\\bundle.js...\r\nLiveReload enabled\r\ncreated public\\build\\bundle.js in 1.4s\r\n\r\n[2021-11-10 12:04:44] waiting for changes...\r\n\r\n> tauri-app@1.0.0 start\r\n> sirv public --no-clear \"--dev\"\r\n\r\n\r\n  Your application is ready~! ðŸš€\r\n\r\n  âž¡ Port 5000 is taken; using 61291 instead\r\n\r\n  - Local:      http://localhost:61291\r\n  - Network:    Add `--host` to expose\r\n\r\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ LOGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n\r\n   Compiling cfg-if v1.0.0\r\n   Compiling proc-macro2 v1.0.32\r\n   Compiling unicode-xid v0.2.2\r\n  \r\n   ...snip...\r\n\r\n   Compiling tauri-utils v1.0.0-beta.3\r\n   Compiling tauri-build v1.0.0-beta.4\r\n   Compiling tauri-codegen v1.0.0-beta.4\r\n   Compiling tauri-runtime v0.2.1\r\n   Compiling tauri-runtime-wry v0.2.1\r\n   Compiling app v0.1.0 (C:\\...\\tauri-app\\src-tauri)\r\n   Compiling tauri-macros v1.0.0-beta.5\r\nerror: failed to run custom build command for `app v0.1.0 (C:\\...\\tauri-app\\src-tauri)`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `C:\\...\\tauri-app\\src-tauri\\target\\debug\\build\\app-2b5a73ef3a83e3f7\\build-script-build` (exit code: 101)\r\n  --- stdout\r\n  package.metadata does not exist\r\n  Selected RC path: 'bin\\x64\\rc.exe'\r\n\r\n  --- stderr\r\n  thread 'main' panicked at 'error found during tauri-build: failed to compile `icons/icon.ico` into a Windows Resource file during tauri-build', C:\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\tauri-build-1.0.0-beta.4\\src\\lib.rs:88:5\r\n  stack backtrace:\r\n     0: std::panicking::begin_panic_handler\r\n               at /rustc/59eed8a2aac0230a8b53e89d4e99d55912ba6b35\\/library\\std\\src\\panicking.rs:517\r\n     1: std::panicking::begin_panic_fmt\r\n               at /rustc/59eed8a2aac0230a8b53e89d4e99d55912ba6b35\\/library\\std\\src\\panicking.rs:460\r\n     2: tauri_build::build\r\n               at C:\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\tauri-build-1.0.0-beta.4\\src\\lib.rs:88\r\n     3: build_script_build::main\r\n               at .\\src\\build.rs:2\r\n     4: core::ops::function::FnOnce::call_once<void (*)(),tuple$<> >\r\n               at /rustc/59eed8a2aac0230a8b53e89d4e99d55912ba6b35\\library\\core\\src\\ops\\function.rs:227\r\n  note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\nwarning: build failed, waiting for other jobs to finish...\r\nerror: build failed\r\n```\r\n\r\nTry 2:\r\n```\r\n> yarn tauri dev\r\nyarn run v1.22.17\r\n$ tauri dev\r\n app:spawn Running \"C:\\...\\tauri-app\\node_modules\\@tauri-apps\\cli\\bin\\tauri-cli.exe tauri dev\" +0ms\r\n\r\n[tauri:dev] Running `npm run dev`\r\n\r\n> tauri-app@1.0.0 dev\r\n> rollup -c -w\r\n\r\n   Compiling app v0.1.0 (C:\\...\\tauri-app\\src-tauri)\r\nerror: failed to run custom build command for `app v0.1.0 (C:\\...\\tauri-app\\src-tauri)`\r\n\r\nCaused by:\r\n  process didn't exit successfully: `C:\\...\\tauri-app\\src-tauri\\target\\debug\\build\\app-2b5a73ef3a83e3f7\\build-script-build` (exit code: 101)\r\n  --- stdout\r\n  package.metadata does not exist\r\n  Selected RC path: 'bin\\x64\\rc.exe'\r\n\r\n  --- stderr\r\n  thread 'main' panicked at 'error found during tauri-build: failed to compile `icons/icon.ico` into a Windows Resource file during tauri-build', C:\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\tauri-build-1.0.0-beta.4\\src\\lib.rs:88:5\r\n  stack backtrace:\r\n     0: std::panicking::begin_panic_handler\r\n               at /rustc/59eed8a2aac0230a8b53e89d4e99d55912ba6b35\\/library\\std\\src\\panicking.rs:517\r\n     1: std::panicking::begin_panic_fmt\r\n               at /rustc/59eed8a2aac0230a8b53e89d4e99d55912ba6b35\\/library\\std\\src\\panicking.rs:460\r\n     2: tauri_build::build\r\n               at C:\\...\\.cargo\\registry\\src\\github.com-1ecc6299db9ec823\\tauri-build-1.0.0-beta.4\\src\\lib.rs:88\r\n     3: build_script_build::main\r\n               at .\\src\\build.rs:2\r\n     4: core::ops::function::FnOnce::call_once<void (*)(),tuple$<> >\r\n               at /rustc/59eed8a2aac0230a8b53e89d4e99d55912ba6b35\\library\\core\\src\\ops\\function.rs:227\r\n  note: Some details are omitted, run with `RUST_BACKTRACE=full` for a verbose backtrace.\r\nrollup v2.59.0\r\nbundles src/main.ts â†’ public\\build\\bundle.js...\r\nLiveReload enabled\r\ncreated public\\build\\bundle.js in 1.3s\r\n\r\n[2021-11-10 12:18:23] waiting for changes...\r\n\r\n> tauri-app@1.0.0 start\r\n> sirv public --no-clear \"--dev\"\r\n\r\n\r\n  Your application is ready~! ðŸš€\r\n\r\n  âž¡ Port 5000 is taken; using 54591 instead\r\n\r\n  - Local:      http://localhost:54591\r\n  - Network:    Add `--host` to expose\r\n\r\nâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€ LOGS â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€\r\n```\r\n","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/2871/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2871/timeline","performed_via_github_app":null,"state_reason":"completed"}