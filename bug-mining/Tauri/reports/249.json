{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4875","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4875/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4875/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4875/events","html_url":"https://github.com/tauri-apps/tauri/issues/4875","id":1330964228,"node_id":"I_kwDOC7lts85PVOcE","number":4875,"title":"[bug] naming an argument `cmd` causes unexpected and undocumented error","user":{"login":"stevepryde","id":16758000,"node_id":"MDQ6VXNlcjE2NzU4MDAw","avatar_url":"https://avatars.githubusercontent.com/u/16758000?v=4","gravatar_id":"","url":"https://api.github.com/users/stevepryde","html_url":"https://github.com/stevepryde","followers_url":"https://api.github.com/users/stevepryde/followers","following_url":"https://api.github.com/users/stevepryde/following{/other_user}","gists_url":"https://api.github.com/users/stevepryde/gists{/gist_id}","starred_url":"https://api.github.com/users/stevepryde/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/stevepryde/subscriptions","organizations_url":"https://api.github.com/users/stevepryde/orgs","repos_url":"https://api.github.com/users/stevepryde/repos","events_url":"https://api.github.com/users/stevepryde/events{/privacy}","received_events_url":"https://api.github.com/users/stevepryde/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":3410829358,"node_id":"LA_kwDOC7lts87LTSAu","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20backlog","name":"status: backlog","color":"059372","default":false,"description":"Issue is ready and we can work on it"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-08-07T09:35:48Z","updated_at":"2023-08-10T13:12:40Z","closed_at":"2023-08-10T13:12:40Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nI named an argument for a custom command `cmd`, which used to work previously but now it seems to be a special name that gets treated differently by tauri. In fact it seems to override the command specified as the first parameter to `invoke()`.\r\n\r\n```rust\r\n#[tauri::command]\r\npub fn my_command(\r\n  cmd: String\r\n) -> Result<String, String> {\r\n    info!(\"This never gets logged\");\r\n    Ok(String::new())\r\n}\r\n```\r\nI invoked it from JS like this:\r\n```\r\nwindow.__TAURI__.invoke(\"my_command\", {cmd: \"test\"})\r\n```\r\nand instead of calling my_command and passing that argument, it returns the error message `command \"test\" not found` in the frontend and the backend command was never executed.\r\n\r\nThis seems really strange to me. Why would certain argument names be considered special?\r\nIs this documented anywhere?\r\n\r\nGiven that there are such special argument names, could these please be documented here? or at least somewhere prominent?\r\nhttps://tauri.app/v1/guides/features/command\r\n\r\nEven better, I'd argue that any \"special\" args internal to tauri should be an optional 3rd parameter to invoke() rather than overloading the user-supplied args list.\n\n### Reproduction\n\n```rust\r\n#[tauri::command]\r\npub fn my_command(\r\n  cmd: String\r\n) -> Result<String, String> {\r\n    info!(\"This never gets logged\");\r\n    Ok(String::new())\r\n}\r\n```\r\n\r\nNow try to invoke the above command. This doesn't work:\r\n```\r\nwindow.__TAURI__.invoke(\"my_command\", {cmd: \"test\"})\r\n```\r\nInstead it gives the error `Uncaught command test not found`\n\n### Expected behavior\n\nI'd expect all of the arguments given in the 2nd parameter to `invoke()` to be delivered to my function regardless, and not to have any \"magic\" args that are treated differently. Any such special internal args should be in a separate parameter given to `invoke()`\n\n### Platform and versions\n\nEnvironment\r\n  › OS: Windows 10.0.22000 X64\r\n  › Webview2: 103.0.1264.77\r\n  › MSVC:\r\n  › Node.js: 16.13.0\r\n  › npm: 8.1.0\r\n  › pnpm: Not installed!\r\n  › yarn: Not installed!\r\n  › rustup: 1.25.1\r\n  › rustc: 1.62.0\r\n  › cargo: 1.62.0\r\n  › Rust toolchain: stable-x86_64-pc-windows-msvc\n\n### Stack trace\n\n_No response_\n\n### Additional context\n\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4875/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4875/timeline","performed_via_github_app":null,"state_reason":"completed"}