{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/5342","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/5342/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/5342/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/5342/events","html_url":"https://github.com/tauri-apps/tauri/issues/5342","id":1395623714,"node_id":"I_kwDOC7lts85TL4ci","number":5342,"title":"[bug] msi installer language setting, Japanese is ja-JP but jp-JP","user":{"login":"santmove","id":76935353,"node_id":"MDQ6VXNlcjc2OTM1MzUz","avatar_url":"https://avatars.githubusercontent.com/u/76935353?v=4","gravatar_id":"","url":"https://api.github.com/users/santmove","html_url":"https://github.com/santmove","followers_url":"https://api.github.com/users/santmove/followers","following_url":"https://api.github.com/users/santmove/following{/other_user}","gists_url":"https://api.github.com/users/santmove/gists{/gist_id}","starred_url":"https://api.github.com/users/santmove/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/santmove/subscriptions","organizations_url":"https://api.github.com/users/santmove/orgs","repos_url":"https://api.github.com/users/santmove/repos","events_url":"https://api.github.com/users/santmove/events{/privacy}","received_events_url":"https://api.github.com/users/santmove/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":4288483270,"node_id":"LA_kwDOC7lts87_nQ_G","url":"https://api.github.com/repos/tauri-apps/tauri/labels/status:%20needs%20triage","name":"status: needs triage","color":"059372","default":false,"description":"This issue needs to triage, applied to new issues"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-10-04T03:49:28Z","updated_at":"2022-10-04T16:26:01Z","closed_at":"2022-10-04T16:26:01Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nExcuse me for my poor English.\r\n\r\nhttps://github.com/tauri-apps/tauri/blob/a4aec9f0a864ec6d7712db8bd50989d9c2e2fd2e/tooling/bundler/src/bundle/windows/msi/languages.json#L66\r\n\r\nIf you put \"jp-JP\" in the language of tauri.conf.json and build, the msi will not be in Japanese, \r\nand if you put \"ja-JP\", you will get a panicked error and you can't build.\r\n\n\n### Reproduction\n\n1. Put \"jp-JP\" in the language of tauri.conf.json\r\n`\"wix\": {\r\n          \"language\":{\r\n            \"jp-JP\":{\r\n              \"localePath\":\"./path/to/jp-JP.wxl\"\r\n            }\r\n          },`\r\n\r\n2. Put 'jp-JP.wxl' in ./path/to/jp-JP.wxl\r\n\r\n`<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<WixLocalization Codepage=\"932\" Culture=\"jp-JP\" xmlns=\"http://schemas.microsoft.com/wix/2006/localization\">\r\n<String Id=\"TauriLanguage\">1041</String>\r\n<String Id=\"TauriCodepage\">932</String>\r\n...`\r\n\r\n3. yarn tauri build\r\nthe msi will not be in Japanese.\r\n\r\n\r\n4. Put \"ja-JP\" in the language of tauri.conf.json\r\n`\"wix\": {\r\n          \"language\":{\r\n            \"ja-JP\":{\r\n              \"localePath\":\"./path/to/ja-JP.wxl\"\r\n            }\r\n          },`\r\n\r\n2. Put 'ja-JP.wxl' in ./path/to/ja-JP.wxl\r\n\r\n`<?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<WixLocalization Codepage=\"932\" Culture=\"ja-JP\" xmlns=\"http://schemas.microsoft.com/wix/2006/localization\">\r\n<String Id=\"TauriLanguage\">1041</String>\r\n<String Id=\"TauriCodepage\">932</String>\r\n...`\r\n\r\n3. yarn tauri build\r\ncan't build\r\n```\r\nmain.wxs\r\nthread '<unnamed>' panicked at 'Language ja-JP not found. It must be one of ro-R\r\nO, en-US, es-ES, lt-LT, el-GR, sv-SE, tr-TR, et-EE, nl-NL, nb-NO, bg-BG, zh-CN,\r\njp-JP, pt-BR, vi-VN, pl-PL, da-DK, pt-PT, lv-LV, fr-FR, zh-TW, he-IL, de-DE, ca-\r\nES, ru-RU, sk-SK, ko-KR, cs-CZ, eu-ES, sr-Latn-CS, uk-UA, th-TH, hu-HU, it-IT, s\r\nl-SI, ar-SA, hr-HR, fi-FI', D:\\a\\tauri\\tauri\\tooling\\bundler\\src\\bundle\\windows\\\r\nmsi\\wix.rs:780:7\r\nnote: run with `RUST_BACKTRACE=1` environment variable to display a backtrace\r\nDone in 3.72s.\r\n```\r\n\r\n\n\n### Expected behavior\n\nLooking at the specifications below, I think ja-JP is probably correct.\r\nhttps://learn.microsoft.com/en-us/openspecs/office_standards/ms-oe376/6c085406-a698-4e12-9d4d-c3b0ee3dbc4a\r\nOn this page, Japanese is written as \"ja-JP\"\n\n### Platform and versions\n\nEnvironment\r\n  › OS: Windows 10.0.19044 X64\r\n  › Webview2: 105.0.1343.53\r\n  › MSVC:\r\n      - Visual Studio Community 2019\r\n      - Visual Studio Build Tools 2022\r\n  › Node.js: 16.17.0\r\n  › npm: 8.15.0\r\n  › pnpm: Not installed!\r\n  › yarn: 1.22.5\r\n  › rustup: 1.25.1\r\n  › rustc: 1.63.0\r\n  › cargo: 1.63.0\r\n  › Rust toolchain: stable-x86_64-pc-windows-msvc\r\n\r\nPackages\r\n  › @tauri-apps/cli [NPM]: 1.1.1\r\n  › @tauri-apps/api [NPM]: Not installed!\r\n  › tauri [RUST]: 1.1.1,\r\n  › tauri-build [RUST]: 1.1.1,\r\n  › tao [RUST]: 0.14.0,\r\n  › wry [RUST]: 0.21.1,\r\n\r\nApp\r\n  › build-type: bundle\r\n  › CSP: unset\r\n  › distDir: ../src\r\n  › devPath: ../src\r\n\r\nApp directory structure\r\n  ├─ .vscode\r\n  ├─ node_modules\r\n  ├─ src\r\n  └─ src-tauri\r\nnpm notice\r\nnpm notice New minor version of npm available! 8.15.0 -> 8.19.2\r\nnpm notice Changelog: <https://github.com/npm/cli/releases/tag/v8.19.2>\r\nnpm notice Run `npm install -g npm@8.19.2` to update!\r\nnpm notice\r\n\n\n### Stack trace\n\n_No response_\n\n### Additional context\n\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/5342/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/5342/timeline","performed_via_github_app":null,"state_reason":"completed"}