[{"id":5696357048,"node_id":"LE_lADOC7lts84_p8KQzwAAAAFTh4K4","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/5696357048","actor":{"login":"lity","id":3319045,"node_id":"MDQ6VXNlcjMzMTkwNDU=","avatar_url":"https://avatars.githubusercontent.com/u/3319045?v=4","gravatar_id":"","url":"https://api.github.com/users/lity","html_url":"https://github.com/lity","followers_url":"https://api.github.com/users/lity/followers","following_url":"https://api.github.com/users/lity/following{/other_user}","gists_url":"https://api.github.com/users/lity/gists{/gist_id}","starred_url":"https://api.github.com/users/lity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lity/subscriptions","organizations_url":"https://api.github.com/users/lity/orgs","repos_url":"https://api.github.com/users/lity/repos","events_url":"https://api.github.com/users/lity/events{/privacy}","received_events_url":"https://api.github.com/users/lity/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-12-01T04:52:51Z","label":{"name":"type: bug","color":"B60205"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/983290249","html_url":"https://github.com/tauri-apps/tauri/issues/2996#issuecomment-983290249","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2996","id":983290249,"node_id":"IC_kwDOC7lts846m9GJ","user":{"login":"lity","id":3319045,"node_id":"MDQ6VXNlcjMzMTkwNDU=","avatar_url":"https://avatars.githubusercontent.com/u/3319045?v=4","gravatar_id":"","url":"https://api.github.com/users/lity","html_url":"https://github.com/lity","followers_url":"https://api.github.com/users/lity/followers","following_url":"https://api.github.com/users/lity/following{/other_user}","gists_url":"https://api.github.com/users/lity/gists{/gist_id}","starred_url":"https://api.github.com/users/lity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lity/subscriptions","organizations_url":"https://api.github.com/users/lity/orgs","repos_url":"https://api.github.com/users/lity/repos","events_url":"https://api.github.com/users/lity/events{/privacy}","received_events_url":"https://api.github.com/users/lity/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-01T05:01:13Z","updated_at":"2021-12-01T05:01:13Z","body":"![1](https://user-images.githubusercontent.com/3319045/144174446-ef0ef116-abc2-4683-a19d-983fcfa4563e.jpg)\r\n\r\nListening events in setup method in Rust layer is OK, but I just wanna make it simple in Javascript layer.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/983290249/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lity","id":3319045,"node_id":"MDQ6VXNlcjMzMTkwNDU=","avatar_url":"https://avatars.githubusercontent.com/u/3319045?v=4","gravatar_id":"","url":"https://api.github.com/users/lity","html_url":"https://github.com/lity","followers_url":"https://api.github.com/users/lity/followers","following_url":"https://api.github.com/users/lity/following{/other_user}","gists_url":"https://api.github.com/users/lity/gists{/gist_id}","starred_url":"https://api.github.com/users/lity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lity/subscriptions","organizations_url":"https://api.github.com/users/lity/orgs","repos_url":"https://api.github.com/users/lity/repos","events_url":"https://api.github.com/users/lity/events{/privacy}","received_events_url":"https://api.github.com/users/lity/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5728642375,"node_id":"AE_lADOC7lts84_p8KQzwAAAAFVdCVH","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/5728642375","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2021-12-07T16:16:21Z","assignee":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":5728868094,"node_id":"REFE_lADOC7lts84_p8KQzwAAAAFVd5b-","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/5728868094","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"a4bb627819458ad22aedd914ffaad26b6dc89e27","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/a4bb627819458ad22aedd914ffaad26b6dc89e27","created_at":"2021-12-07T16:55:52Z","performed_via_github_app":null},{"id":5741614625,"node_id":"CE_lADOC7lts84_p8KQzwAAAAFWOhYh","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/5741614625","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"74dff536d4757820e68ab05301be83c0870c22ed","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/74dff536d4757820e68ab05301be83c0870c22ed","created_at":"2021-12-09T15:22:13Z","state_reason":null,"performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/990542186","html_url":"https://github.com/tauri-apps/tauri/issues/2996#issuecomment-990542186","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2996","id":990542186,"node_id":"IC_kwDOC7lts847Cnlq","user":{"login":"lity","id":3319045,"node_id":"MDQ6VXNlcjMzMTkwNDU=","avatar_url":"https://avatars.githubusercontent.com/u/3319045?v=4","gravatar_id":"","url":"https://api.github.com/users/lity","html_url":"https://github.com/lity","followers_url":"https://api.github.com/users/lity/followers","following_url":"https://api.github.com/users/lity/following{/other_user}","gists_url":"https://api.github.com/users/lity/gists{/gist_id}","starred_url":"https://api.github.com/users/lity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lity/subscriptions","organizations_url":"https://api.github.com/users/lity/orgs","repos_url":"https://api.github.com/users/lity/repos","events_url":"https://api.github.com/users/lity/events{/privacy}","received_events_url":"https://api.github.com/users/lity/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-10T02:19:59Z","updated_at":"2021-12-10T02:19:59Z","body":"looking forward to next version","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/990542186/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lity","id":3319045,"node_id":"MDQ6VXNlcjMzMTkwNDU=","avatar_url":"https://avatars.githubusercontent.com/u/3319045?v=4","gravatar_id":"","url":"https://api.github.com/users/lity","html_url":"https://github.com/lity","followers_url":"https://api.github.com/users/lity/followers","following_url":"https://api.github.com/users/lity/following{/other_user}","gists_url":"https://api.github.com/users/lity/gists{/gist_id}","starred_url":"https://api.github.com/users/lity/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lity/subscriptions","organizations_url":"https://api.github.com/users/lity/orgs","repos_url":"https://api.github.com/users/lity/repos","events_url":"https://api.github.com/users/lity/events{/privacy}","received_events_url":"https://api.github.com/users/lity/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1013342648","html_url":"https://github.com/tauri-apps/tauri/issues/2996#issuecomment-1013342648","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2996","id":1013342648,"node_id":"IC_kwDOC7lts848ZmG4","user":{"login":"barbalex","id":669783,"node_id":"MDQ6VXNlcjY2OTc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/669783?v=4","gravatar_id":"","url":"https://api.github.com/users/barbalex","html_url":"https://github.com/barbalex","followers_url":"https://api.github.com/users/barbalex/followers","following_url":"https://api.github.com/users/barbalex/following{/other_user}","gists_url":"https://api.github.com/users/barbalex/gists{/gist_id}","starred_url":"https://api.github.com/users/barbalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barbalex/subscriptions","organizations_url":"https://api.github.com/users/barbalex/orgs","repos_url":"https://api.github.com/users/barbalex/repos","events_url":"https://api.github.com/users/barbalex/events{/privacy}","received_events_url":"https://api.github.com/users/barbalex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-14T18:05:47Z","updated_at":"2022-01-14T18:06:06Z","body":"me too (somehow these words sound inapropriate lately...)","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1013342648/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":1,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"barbalex","id":669783,"node_id":"MDQ6VXNlcjY2OTc4Mw==","avatar_url":"https://avatars.githubusercontent.com/u/669783?v=4","gravatar_id":"","url":"https://api.github.com/users/barbalex","html_url":"https://github.com/barbalex","followers_url":"https://api.github.com/users/barbalex/followers","following_url":"https://api.github.com/users/barbalex/following{/other_user}","gists_url":"https://api.github.com/users/barbalex/gists{/gist_id}","starred_url":"https://api.github.com/users/barbalex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/barbalex/subscriptions","organizations_url":"https://api.github.com/users/barbalex/orgs","repos_url":"https://api.github.com/users/barbalex/repos","events_url":"https://api.github.com/users/barbalex/events{/privacy}","received_events_url":"https://api.github.com/users/barbalex/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1304656561","html_url":"https://github.com/tauri-apps/tauri/issues/2996#issuecomment-1304656561","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2996","id":1304656561,"node_id":"IC_kwDOC7lts85Nw3qx","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-05T22:55:29Z","updated_at":"2022-11-12T12:23:57Z","body":"For those who still struggle\r\n```ts\r\nimport { window } from \"@tauri-apps/api\"\r\nimport { TauriEvent } from \"@tauri-apps/api/event\"\r\n\r\nwindow.getCurrent().listen(TauriEvent.WINDOW_CLOSE_REQUESTED, () => {\r\n  alert(\"Closing window and maybe saving some data :)\")\r\n})\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1304656561/reactions","total_count":6,"+1":6,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1312332388","html_url":"https://github.com/tauri-apps/tauri/issues/2996#issuecomment-1312332388","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2996","id":1312332388,"node_id":"IC_kwDOC7lts85OOJpk","user":{"login":"gugiserman","id":4623123,"node_id":"MDQ6VXNlcjQ2MjMxMjM=","avatar_url":"https://avatars.githubusercontent.com/u/4623123?v=4","gravatar_id":"","url":"https://api.github.com/users/gugiserman","html_url":"https://github.com/gugiserman","followers_url":"https://api.github.com/users/gugiserman/followers","following_url":"https://api.github.com/users/gugiserman/following{/other_user}","gists_url":"https://api.github.com/users/gugiserman/gists{/gist_id}","starred_url":"https://api.github.com/users/gugiserman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gugiserman/subscriptions","organizations_url":"https://api.github.com/users/gugiserman/orgs","repos_url":"https://api.github.com/users/gugiserman/repos","events_url":"https://api.github.com/users/gugiserman/events{/privacy}","received_events_url":"https://api.github.com/users/gugiserman/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T02:56:22Z","updated_at":"2022-11-12T02:56:22Z","body":"> For those who still struggle\r\n> \r\n> ```ts\r\n> import { window } from \"@tauri-apps/api\"\r\n> \r\n> window.getCurrent().listen(TauriEvent.WINDOW_CLOSE_REQUESTED, () => {\r\n>   alert(\"Closing window and maybe saving some data :)\")\r\n> })\r\n> ```\r\n\r\nUnfortunately this is also not working for me. I have tried pretty much everything I could find in any of the docs and examples ðŸ˜¢ \r\n\r\nI don't get any `WINDOW_CLOSE_REQUESTED`, `WINDOW_DESTROYED` or `beforeunload` when I run my app in fullscreen, for some reason.\r\n\r\nIf I make it windowed, it will trigger both from Cmd+W or by clicking at the red X button just fine.\r\n\r\nI'm testing it fullscreen on macOS Big Sur. Any ideas?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1312332388/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"gugiserman","id":4623123,"node_id":"MDQ6VXNlcjQ2MjMxMjM=","avatar_url":"https://avatars.githubusercontent.com/u/4623123?v=4","gravatar_id":"","url":"https://api.github.com/users/gugiserman","html_url":"https://github.com/gugiserman","followers_url":"https://api.github.com/users/gugiserman/followers","following_url":"https://api.github.com/users/gugiserman/following{/other_user}","gists_url":"https://api.github.com/users/gugiserman/gists{/gist_id}","starred_url":"https://api.github.com/users/gugiserman/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/gugiserman/subscriptions","organizations_url":"https://api.github.com/users/gugiserman/orgs","repos_url":"https://api.github.com/users/gugiserman/repos","events_url":"https://api.github.com/users/gugiserman/events{/privacy}","received_events_url":"https://api.github.com/users/gugiserman/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1312468185","html_url":"https://github.com/tauri-apps/tauri/issues/2996#issuecomment-1312468185","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2996","id":1312468185,"node_id":"IC_kwDOC7lts85OOqzZ","user":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-11-12T12:26:36Z","updated_at":"2022-11-12T12:26:36Z","body":"> > For those who still struggle\r\n> > ```ts\r\n> > import { window } from \"@tauri-apps/api\"\r\n> > \r\n> > window.getCurrent().listen(TauriEvent.WINDOW_CLOSE_REQUESTED, () => {\r\n> >   alert(\"Closing window and maybe saving some data :)\")\r\n> > })\r\n> > ```\r\n> \r\n> Unfortunately this is also not working for me. I have tried pretty much everything I could find in any of the docs and examples cry\r\n> \r\n> I don't get any `WINDOW_CLOSE_REQUESTED`, `WINDOW_DESTROYED` or `beforeunload` when I run my app in fullscreen, for some reason.\r\n> \r\n> If I make it windowed, it will trigger both from Cmd+W or by clicking at the red X button just fine.\r\n> \r\n> I'm testing it fullscreen on macOS Big Sur. Any ideas?\r\n\r\nI'm on linux. Most likely you are listening to wrong window","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1312468185/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"ghost","id":10137,"node_id":"MDQ6VXNlcjEwMTM3","avatar_url":"https://avatars.githubusercontent.com/u/10137?v=4","gravatar_id":"","url":"https://api.github.com/users/ghost","html_url":"https://github.com/ghost","followers_url":"https://api.github.com/users/ghost/followers","following_url":"https://api.github.com/users/ghost/following{/other_user}","gists_url":"https://api.github.com/users/ghost/gists{/gist_id}","starred_url":"https://api.github.com/users/ghost/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/ghost/subscriptions","organizations_url":"https://api.github.com/users/ghost/orgs","repos_url":"https://api.github.com/users/ghost/repos","events_url":"https://api.github.com/users/ghost/events{/privacy}","received_events_url":"https://api.github.com/users/ghost/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2357227621","html_url":"https://github.com/tauri-apps/tauri/issues/2996#issuecomment-2357227621","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2996","id":2357227621,"node_id":"IC_kwDOC7lts86MgHBl","user":{"login":"achamas-playco","id":91103690,"node_id":"MDQ6VXNlcjkxMTAzNjkw","avatar_url":"https://avatars.githubusercontent.com/u/91103690?v=4","gravatar_id":"","url":"https://api.github.com/users/achamas-playco","html_url":"https://github.com/achamas-playco","followers_url":"https://api.github.com/users/achamas-playco/followers","following_url":"https://api.github.com/users/achamas-playco/following{/other_user}","gists_url":"https://api.github.com/users/achamas-playco/gists{/gist_id}","starred_url":"https://api.github.com/users/achamas-playco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achamas-playco/subscriptions","organizations_url":"https://api.github.com/users/achamas-playco/orgs","repos_url":"https://api.github.com/users/achamas-playco/repos","events_url":"https://api.github.com/users/achamas-playco/events{/privacy}","received_events_url":"https://api.github.com/users/achamas-playco/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2024-09-18T00:03:49Z","updated_at":"2024-09-18T00:03:49Z","body":"I'm using tauri 1.x and could not get the close request event to fire using any of the tauri api, so I found a work around:\r\n\r\nAdd this to your javascript side (mac):\r\n\r\n```js\r\n window.addEventListener('keydown', (e) => {\r\n    if (e.key === 'q' && e.metaKey) {\r\n      e.preventDefault();\r\n      // do some pre-closing stuff...\r\n    }\r\n  });\r\n```\r\n\r\nWorks on the main window, should work on dynamically created ones too. The browser is good at interrupting keys if you let it.","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2357227621/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"achamas-playco","id":91103690,"node_id":"MDQ6VXNlcjkxMTAzNjkw","avatar_url":"https://avatars.githubusercontent.com/u/91103690?v=4","gravatar_id":"","url":"https://api.github.com/users/achamas-playco","html_url":"https://github.com/achamas-playco","followers_url":"https://api.github.com/users/achamas-playco/followers","following_url":"https://api.github.com/users/achamas-playco/following{/other_user}","gists_url":"https://api.github.com/users/achamas-playco/gists{/gist_id}","starred_url":"https://api.github.com/users/achamas-playco/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/achamas-playco/subscriptions","organizations_url":"https://api.github.com/users/achamas-playco/orgs","repos_url":"https://api.github.com/users/achamas-playco/repos","events_url":"https://api.github.com/users/achamas-playco/events{/privacy}","received_events_url":"https://api.github.com/users/achamas-playco/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2844913731","html_url":"https://github.com/tauri-apps/tauri/issues/2996#issuecomment-2844913731","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/2996","id":2844913731,"node_id":"IC_kwDOC7lts86pkfBD","user":{"login":"maverickchangithub","id":19221598,"node_id":"MDQ6VXNlcjE5MjIxNTk4","avatar_url":"https://avatars.githubusercontent.com/u/19221598?v=4","gravatar_id":"","url":"https://api.github.com/users/maverickchangithub","html_url":"https://github.com/maverickchangithub","followers_url":"https://api.github.com/users/maverickchangithub/followers","following_url":"https://api.github.com/users/maverickchangithub/following{/other_user}","gists_url":"https://api.github.com/users/maverickchangithub/gists{/gist_id}","starred_url":"https://api.github.com/users/maverickchangithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maverickchangithub/subscriptions","organizations_url":"https://api.github.com/users/maverickchangithub/orgs","repos_url":"https://api.github.com/users/maverickchangithub/repos","events_url":"https://api.github.com/users/maverickchangithub/events{/privacy}","received_events_url":"https://api.github.com/users/maverickchangithub/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2025-05-01T14:08:36Z","updated_at":"2025-05-01T14:08:36Z","body":"**Tauri 2.0**\nfor those who encounter the similar problem:\n1. check your permission, make sure you can destroy and close\n```\n{\n  \"$schema\": \"../gen/schemas/desktop-schema.json\",\n  \"identifier\": \"default\",\n  \"description\": \"Capability for the main window\",\n  \"windows\": [\"main\"],\n  \"permissions\": [\n    \"core:default\",\n    \"opener:default\",\n    \"core:window:allow-close\",\n    \"core:window:allow-show\",\n    \"core:window:allow-hide\",\n    \"core:window:allow-destroy\" // must-have, or onCloseRequested will not close the window\n  ]\n}\n```\n2. import the right function, all AI helper such as chagpt, deepseek or gemini are wrong.\n```\nimport { Window } from '@tauri-apps/api/window';//attention captital W\nconst appWindow = new Window('main'); // you can specify the window by label , setting in tauri.conf.json\nappWindow.onCloseRequested((event) => {\n   //do your stuff such as clear data before close window or destroy window\n});\n```\n\ntook me 2 days ( i am new to Tauri, i love it ","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/2844913731/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":1,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"maverickchangithub","id":19221598,"node_id":"MDQ6VXNlcjE5MjIxNTk4","avatar_url":"https://avatars.githubusercontent.com/u/19221598?v=4","gravatar_id":"","url":"https://api.github.com/users/maverickchangithub","html_url":"https://github.com/maverickchangithub","followers_url":"https://api.github.com/users/maverickchangithub/followers","following_url":"https://api.github.com/users/maverickchangithub/following{/other_user}","gists_url":"https://api.github.com/users/maverickchangithub/gists{/gist_id}","starred_url":"https://api.github.com/users/maverickchangithub/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/maverickchangithub/subscriptions","organizations_url":"https://api.github.com/users/maverickchangithub/orgs","repos_url":"https://api.github.com/users/maverickchangithub/repos","events_url":"https://api.github.com/users/maverickchangithub/events{/privacy}","received_events_url":"https://api.github.com/users/maverickchangithub/received_events","type":"User","user_view_type":"public","site_admin":false}}]