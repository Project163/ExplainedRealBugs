{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4280","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4280/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4280/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4280/events","html_url":"https://github.com/tauri-apps/tauri/issues/4280","id":1261252675,"node_id":"I_kwDOC7lts85LLTBD","number":4280,"title":"[bug] Debian icons have mixed sources (png & icns) with tauricon defaults","user":{"login":"betamos","id":135960,"node_id":"MDQ6VXNlcjEzNTk2MA==","avatar_url":"https://avatars.githubusercontent.com/u/135960?v=4","gravatar_id":"","url":"https://api.github.com/users/betamos","html_url":"https://github.com/betamos","followers_url":"https://api.github.com/users/betamos/followers","following_url":"https://api.github.com/users/betamos/following{/other_user}","gists_url":"https://api.github.com/users/betamos/gists{/gist_id}","starred_url":"https://api.github.com/users/betamos/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/betamos/subscriptions","organizations_url":"https://api.github.com/users/betamos/orgs","repos_url":"https://api.github.com/users/betamos/repos","events_url":"https://api.github.com/users/betamos/events{/privacy}","received_events_url":"https://api.github.com/users/betamos/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""},{"id":3310698084,"node_id":"MDU6TGFiZWwzMzEwNjk4MDg0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/platform:%20Linux","name":"platform: Linux","color":"fef2c0","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-06-06T02:06:43Z","updated_at":"2022-06-09T19:45:23Z","closed_at":"2022-06-09T19:45:23Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nWhen using tauricon to generate app icons, the .deb bundle sources its icons from different files. Notably, this includes the .icns file. The docs state that file endings png, ico and icns correspond to Linux, Windows and MacOS respectively.\r\n\r\nIn particular, the files generated include all sizes from the icns file, if it is present. Looking at [the source](https://github.com/tauri-apps/tauri/blob/35f2147161e6697cbd2824681eeaf870b5a991c2/tooling/bundler/src/bundle/linux/debian.rs#L306), it appears possible that also the ico file can be used.\r\n\r\nI am using a different icon source file for MacOS (see reasons below), and when building a .deb, I get icons mixed in from the icns file.\n\n### Reproduction\n\n1. Generate an icon set from a source png using tauricon.\r\n2. Set the default/recommended(?) `tauri.bundle.icon` in `tauri.conf.json`:\r\n    `[icons/32x32.png, icons/128x128.png, icons/128x128@2x.png, icons/icon.icns, icons/icon.ico]`\r\n3. Swap out the icns file for an entirely different icns file.\r\n4. Build the deb\r\n5. Verify the different icons in the `data/usr/share/icons/hicolor` dir. Some are from the icns, some are from the pngs. I see 10 different png files in different sizes and resolutions (compared with the 3 pngs in the `src-tauri/icons` dir).\n\n### Expected behavior\n\nHonestly, it depends. I think the least surprising way is to copy over png files only, without the fallback. A lot of complexity is removed if png, ico and icns are platform-specific, and the fallback is removed. Omitting the fallback also allows power users to customize further, since only pngs are used in the long run. However, this would silently break icons for any user who currently does not have png files set up correctly.\r\n\r\nAnother option is to generate pngs from tauricon in even more resolutions and sizes, in order to prevent the fallback to kick in at all. However, this is quite wasteful and error prone to future changes.\r\n\r\nThat said, I haven't looked into the interactions with other uses of icons, such as the sys tray. Not sure if that changes anything.\n\n### Platform and versions\n\n```shell\nThis is present in dev today.\n```\n\n\n### Stack trace\n\n_No response_\n\n### Additional context\n\nThere are several reasons one would use different icons for different platforms, and even multiple icon sources per platform:\r\n\r\n- In Apple's icon grid, the icon border has an inset from the actual image size (so that certain elements can \"stick out\" of the icon\"). If you create such an image to fit for Mac, it will look too small on Windows and Linux.\r\n- On Mac it is very common with rounded squares, which are less common elsewhere. Discord, for instance, uses a circular unshaded icon on Linux and a shaded squircle on Mac.\r\n- On smaller sizes, details and bevel are often removed to make the icon more distinct and less cluttered.\r\n\r\nI think it's fine with a default that uses a single source file, but it's important that this can be customized if necessary.","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4280/timeline","performed_via_github_app":null,"state_reason":"completed"}