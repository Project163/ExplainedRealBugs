{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4131","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4131/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4131/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4131/events","html_url":"https://github.com/tauri-apps/tauri/issues/4131","id":1236294005,"node_id":"I_kwDOC7lts85JsFl1","number":4131,"title":"[bug] Menu bar is missing on Windows with absolute `tauri.config.windows.url`","user":{"login":"DarrenDanielDay","id":43780355,"node_id":"MDQ6VXNlcjQzNzgwMzU1","avatar_url":"https://avatars.githubusercontent.com/u/43780355?v=4","gravatar_id":"","url":"https://api.github.com/users/DarrenDanielDay","html_url":"https://github.com/DarrenDanielDay","followers_url":"https://api.github.com/users/DarrenDanielDay/followers","following_url":"https://api.github.com/users/DarrenDanielDay/following{/other_user}","gists_url":"https://api.github.com/users/DarrenDanielDay/gists{/gist_id}","starred_url":"https://api.github.com/users/DarrenDanielDay/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/DarrenDanielDay/subscriptions","organizations_url":"https://api.github.com/users/DarrenDanielDay/orgs","repos_url":"https://api.github.com/users/DarrenDanielDay/repos","events_url":"https://api.github.com/users/DarrenDanielDay/events{/privacy}","received_events_url":"https://api.github.com/users/DarrenDanielDay/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":1449401604,"node_id":"MDU6TGFiZWwxNDQ5NDAxNjA0","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20bug","name":"type: bug","color":"B60205","default":false,"description":""}],"state":"closed","locked":false,"assignee":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"assignees":[{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false}],"milestone":null,"comments":0,"created_at":"2022-05-15T13:48:54Z","updated_at":"2022-05-16T13:19:13Z","closed_at":"2022-05-16T13:19:13Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the bug\n\nThe menu bar is missing when `tauri.config.windows.url` is an absolute URL.\n\n### Reproduction\n\nA complete example to reproduce can be found [here](https://github.com/DarrenDanielDay/url-config-menu-bar-issue) ðŸ‘ˆ.\r\n\r\n1. Install dependencies and run `yarn tauri dev` with the example.\r\n2. The menu bar is missing.\n\n### Expected behavior\n\nThe menu bar appears at the top of app with config `tauri.config.windows.url` set to custom absolute URL (especially local server URL).\n\n### Platform and versions\n\n```shell\nEnvironment\r\n  â€º OS: Windows 10.0.19044 X64\r\n  â€º Webview2: 101.0.1210.39\r\n  â€º MSVC:\r\n      - Visual Studio Community 2022\r\n  â€º Node.js: 16.13.1\r\n  â€º npm: 8.9.0\r\n  â€º pnpm: 7.0.1\r\n  â€º yarn: 1.22.10\r\n  â€º rustup: 1.24.3\r\n  â€º rustc: 1.60.0\r\n  â€º cargo: 1.60.0\r\n  â€º Rust toolchain: stable-x86_64-pc-windows-msvc\r\n\r\nPackages\r\n  â€º @tauri-apps/cli [NPM]: 1.0.0-rc.10\r\n  â€º @tauri-apps/api [NPM]: 1.0.0-rc.5\r\n  â€º tauri [RUST]: 1.0.0-rc.10,\r\n  â€º tauri-build [RUST]: 1.0.0-rc.8,\r\n  â€º tao [RUST]: 0.8.4,\r\n  â€º wry [RUST]: 0.16.2,\r\n\r\nApp\r\n  â€º build-type: bundle\r\n  â€º CSP: unset\r\n  â€º distDir: ../dist\r\n  â€º devPath: ../dist\r\n\r\nApp directory structure\r\n  â”œâ”€ .git\r\n  â”œâ”€ dist\r\n  â”œâ”€ node_modules\r\n  â””â”€ src-tauri\n```\n\n\n### Stack trace\n\n```shell\nNo error stack trace.\n```\n\n\n### Additional context\n\nIn my case, I have an existing Angular project and I want to build a tauri desktop app for a trial. But the project depends on a lot of backend APIs with **http** protocol (not **https**) to work, which resulted in \"Mixed Content\" errors in release mode (tauri's `https://tauri.localhost` by default, ref #3007). So I tried to use [tauri-plugin-localhost](https://github.com/tauri-apps/tauri-plugin-localhost) to start a local **http** server on port 4200, serving the front end build.  Then I changed `tauri.config.windows.url` in `tauri.conf.json` to `http://localhost:4200`. It worked, but I also got to this issue, that the menu bar disappeared unexpectedly. I'm also looking for other solutions for my case (instead of starting an local http server to avoid \"Mixed Content\" errors).\r\n","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/4131/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/4131/timeline","performed_via_github_app":null,"state_reason":"completed"}