[{"id":5829670781,"node_id":"LE_lADOC7lts85BDZcqzwAAAAFbebd9","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/5829670781","actor":{"login":"conanchen","id":1233799,"node_id":"MDQ6VXNlcjEyMzM3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1233799?v=4","gravatar_id":"","url":"https://api.github.com/users/conanchen","html_url":"https://github.com/conanchen","followers_url":"https://api.github.com/users/conanchen/followers","following_url":"https://api.github.com/users/conanchen/following{/other_user}","gists_url":"https://api.github.com/users/conanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/conanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conanchen/subscriptions","organizations_url":"https://api.github.com/users/conanchen/orgs","repos_url":"https://api.github.com/users/conanchen/repos","events_url":"https://api.github.com/users/conanchen/events{/privacy}","received_events_url":"https://api.github.com/users/conanchen/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2021-12-31T04:20:46Z","label":{"name":"type: bug","color":"B60205"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1003265239","html_url":"https://github.com/tauri-apps/tauri/issues/3143#issuecomment-1003265239","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3143","id":1003265239,"node_id":"IC_kwDOC7lts847zJzX","user":{"login":"conanchen","id":1233799,"node_id":"MDQ6VXNlcjEyMzM3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1233799?v=4","gravatar_id":"","url":"https://api.github.com/users/conanchen","html_url":"https://github.com/conanchen","followers_url":"https://api.github.com/users/conanchen/followers","following_url":"https://api.github.com/users/conanchen/following{/other_user}","gists_url":"https://api.github.com/users/conanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/conanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conanchen/subscriptions","organizations_url":"https://api.github.com/users/conanchen/orgs","repos_url":"https://api.github.com/users/conanchen/repos","events_url":"https://api.github.com/users/conanchen/events{/privacy}","received_events_url":"https://api.github.com/users/conanchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-31T04:30:26Z","updated_at":"2021-12-31T04:30:26Z","body":"I am using the latest tauri @next , \r\n\r\nâ¯ git log\r\ncommit e784ebca9f5513ce07b63c15ccac4f51c14efe2f (HEAD -> next, origin/next, origin/HEAD)\r\nAuthor: Lucas Fernandes Nogueira <lucasfernandesnog@gmail.com>\r\nDate:   Thu Dec 30 13:46:05 2021 -0300\r\n\r\n    fix(core): Send+Sync for Window, closes #3135 (#3140)\r\n\r\ncommit efbf236f35a1dd4064c0615b56881e4132a249f4\r\nAuthor: Lucas Fernandes Nogueira <lucasfernandesnog@gmail.com>\r\nDate:   Thu Dec 30 11:28:41 2021 -0300\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1003265239/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"conanchen","id":1233799,"node_id":"MDQ6VXNlcjEyMzM3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1233799?v=4","gravatar_id":"","url":"https://api.github.com/users/conanchen","html_url":"https://github.com/conanchen","followers_url":"https://api.github.com/users/conanchen/followers","following_url":"https://api.github.com/users/conanchen/following{/other_user}","gists_url":"https://api.github.com/users/conanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/conanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conanchen/subscriptions","organizations_url":"https://api.github.com/users/conanchen/orgs","repos_url":"https://api.github.com/users/conanchen/repos","events_url":"https://api.github.com/users/conanchen/events{/privacy}","received_events_url":"https://api.github.com/users/conanchen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5829682634,"node_id":"MEE_lADOC7lts85BDZcqzwAAAAFbeeXK","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/5829682634","actor":null,"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2021-12-31T04:30:26Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1003433538","html_url":"https://github.com/tauri-apps/tauri/issues/3143#issuecomment-1003433538","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3143","id":1003433538,"node_id":"IC_kwDOC7lts847zy5C","user":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-12-31T18:39:29Z","updated_at":"2021-12-31T18:39:29Z","body":"Thanks for the report. I'll look into this over the weekend.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1003433538/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5831655688,"node_id":"LE_lADOC7lts85BDZcqzwAAAAFbmAEI","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/5831655688","actor":{"login":"amrbashir","id":48618675,"node_id":"MDQ6VXNlcjQ4NjE4Njc1","avatar_url":"https://avatars.githubusercontent.com/u/48618675?v=4","gravatar_id":"","url":"https://api.github.com/users/amrbashir","html_url":"https://github.com/amrbashir","followers_url":"https://api.github.com/users/amrbashir/followers","following_url":"https://api.github.com/users/amrbashir/following{/other_user}","gists_url":"https://api.github.com/users/amrbashir/gists{/gist_id}","starred_url":"https://api.github.com/users/amrbashir/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/amrbashir/subscriptions","organizations_url":"https://api.github.com/users/amrbashir/orgs","repos_url":"https://api.github.com/users/amrbashir/repos","events_url":"https://api.github.com/users/amrbashir/events{/privacy}","received_events_url":"https://api.github.com/users/amrbashir/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-01-01T12:40:59Z","label":{"name":"core","color":"D4C5F9"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1003714905","html_url":"https://github.com/tauri-apps/tauri/issues/3143#issuecomment-1003714905","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3143","id":1003714905,"node_id":"IC_kwDOC7lts84703lZ","user":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-02T13:18:44Z","updated_at":"2022-01-02T13:18:44Z","body":"I don't think the webview supports loading m3u8 files directly. I also tried on Chrome and on Safari and it didn't work. Do you see any evidence this might work?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1003714905/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1004578555","html_url":"https://github.com/tauri-apps/tauri/issues/3143#issuecomment-1004578555","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3143","id":1004578555,"node_id":"IC_kwDOC7lts8474Kb7","user":{"login":"conanchen","id":1233799,"node_id":"MDQ6VXNlcjEyMzM3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1233799?v=4","gravatar_id":"","url":"https://api.github.com/users/conanchen","html_url":"https://github.com/conanchen","followers_url":"https://api.github.com/users/conanchen/followers","following_url":"https://api.github.com/users/conanchen/following{/other_user}","gists_url":"https://api.github.com/users/conanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/conanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conanchen/subscriptions","organizations_url":"https://api.github.com/users/conanchen/orgs","repos_url":"https://api.github.com/users/conanchen/repos","events_url":"https://api.github.com/users/conanchen/events{/privacy}","received_events_url":"https://api.github.com/users/conanchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T07:21:39Z","updated_at":"2022-01-04T07:53:15Z","body":"asset::// protocol works with local m3u8 file. \r\nI added println! to manager.rs to check the range parsing \r\n```\r\n\r\n        // handle 206 (partial range) http request\r\n        if let Some(range) = request.headers().get(\"range\").cloned() {\r\n          let mut status_code = 200;\r\n          let path_for_data = path_for_data.clone();\r\n          println!(\"path_for_data={}\",path_for_data);\r\n          let (headers, status_code, data) = crate::async_runtime::safe_block_on(async move {\r\n            let mut headers = HashMap::new();\r\n            let mut buf = Vec::new();\r\n            let mut file = tokio::fs::File::open(path_for_data.clone()).await.unwrap();\r\n            // Get the file size\r\n            let file_size = file.metadata().await.unwrap().len();\r\n            // parse the range\r\n            let range_ = HttpRange::parse(range.to_str().unwrap(), file_size);\r\n\r\n\r\n            println!(\"path_for_data file_size={} {:?} range_={:?}\",file_size , range.to_str(), range_);\r\n          \r\n            let range = range_.unwrap();\r\n\r\n            // FIXME: Support multiple ranges\r\n\r\n```\r\nand found it return an invalid range:\r\n```\r\npath_for_data file_size=375 Ok(\"bytes=0-*\") range_=Err(InvalidRange)\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: InvalidRange', /Users/CC/github/tauri-apps/tauri/core/tauri/src/manager.rs:352:32\r\n```\r\n\r\n# 1. test with correct local  m3u8 master and sub files , the player can play local m3u8 files\r\n\r\n2022-01-04 14:57:47.177643 UTC INFO may::io::sys::select - got wakeup event in select, id=0\r\npath_for_data=/Users/CC/xxxx/bipbop-advanced/gear1/main.ts\r\npath_for_data file_size=59366640 Ok(\"bytes=0-326743\") range_=Ok([HttpRange { start: 0, length: 326744 }])\r\npath_for_data=/Users/CC/xxxx/bipbop-advanced/gear1/main.ts\r\npath_for_data file_size=59366640 Ok(\"bytes=326744-653111\") range_=Ok([HttpRange { start: 326744, length: 326368 }])\r\npath_for_data=/Users/CC/xxxx/bipbop-advanced/gear1/main.ts\r\npath_for_data file_size=59366640 Ok(\"bytes=653112-980231\") range_=Ok([HttpRange { start: 653112, length: 327120 }])\r\npath_for_data=/Users/CC/xxxx/bipbop-advanced/gear1/main.ts\r\npath_for_data file_size=59366640 Ok(\"bytes=980232-1306787\") range_=Ok([HttpRange { start: 980232, length: 326556 }])\r\npath_for_data=/Users/CC/xxxx/bipbop-advanced/gear1/main.ts\r\npath_for_data file_size=59366640 Ok(\"bytes=1306788-1633155\") range_=Ok([HttpRange { start: 1306788, length: 326368 }])\r\npath_for_data=/Users/CC/xxxx/bipbop-advanced/gear1/main.ts\r\npath_for_data file_size=59366640 Ok(\"bytes=1633156-1960839\") range_=Ok([HttpRange { start: 1633156, length: 327684 }])\r\n\r\n# 2. same as step 1, if I switch the player page to another page , corrupt:\r\n```\r\npath_for_data=/Users/CC/xxxx/bipbop-advanced/bipbop_16x9_variant.m3u8\r\npath_for_data file_size=2326 Ok(\"bytes=0-*\") range_=Err(InvalidRange)\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: InvalidRange', /Users/CC/github/tauri-apps/tauri/core/tauri/src/manager.rs:352:32\r\nstack backtrace:\r\n   0:        0x110d82001 - std::backtrace_rs::backtrace::libunwind::trace::hd1f3f27a0ce98cd1\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\r\n```\r\n\r\n# 3.  test with correct local  m3u8 master files, if open the introspection tab, corrupt:\r\n\r\n2022-01-04 14:54:19.659310 UTC INFO may::io::sys::select - got wakeup event in select, id=0\r\npath_for_data=/Users/CC/xxxxx/master.m3u8\r\npath_for_data file_size=375 Ok(\"bytes=0-*\") range_=Err(InvalidRange)\r\nthread 'main' panicked at 'called `Result::unwrap()` on an `Err` value: InvalidRange', /Users/CC/github/tauri-apps/tauri/core/tauri/src/manager.rs:352:32\r\nstack backtrace:\r\n   0:        0x1064e7001 - std::backtrace_rs::backtrace::libunwind::trace::hd1f3f27a0ce98cd1\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/../../backtrace/src/backtrace/libunwind.rs:93:5\r\n   1:        0x1064e7001 - std::backtrace_rs::backtrace::trace_unsynchronized::hd569a01ac3d00854\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/../../backtrace/src/backtrace/mod.rs:66:5\r\n   2:        0x1064e7001 - std::sys_common::backtrace::_print_fmt::h996dd958d6ad6e0c\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/sys_common/backtrace.rs:67:5\r\n   3:        0x1064e7001 - <std::sys_common::backtrace::_print::DisplayBacktrace as core::fmt::Display>::fmt::hd97b45925762f035\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/sys_common/backtrace.rs:46:22\r\n   4:        0x10650a10b - core::fmt::write::h2d5ecb4b9764759c\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/core/src/fmt/mod.rs:1149:17\r\n   5:        0x1064de5ea - std::io::Write::write_fmt::h80cfd69766515533\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/io/mod.rs:1697:15\r\n   6:        0x1064e8e35 - std::sys_common::backtrace::_print::h811beb019f458a3f\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/sys_common/backtrace.rs:49:5\r\n   7:        0x1064e8e35 - std::sys_common::backtrace::print::h2568609b53248111\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/sys_common/backtrace.rs:36:9\r\n   8:        0x1064e8e35 - std::panicking::default_hook::{{closure}}::h726902fd3b2e524f\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:211:50\r\n   9:        0x1064e8a1f - std::panicking::default_hook::h8c88a86349ae0d96\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:228:9\r\n  10:        0x105108c44 - <alloc::boxed::Box<F,A> as core::ops::function::Fn<Args>>::call::h7e7d0fa5d9b607e1\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/alloc/src/boxed.rs:1825:9\r\n  11:        0x105127139 - may::scheduler::filter_cancel_panic::{{closure}}::haac0632072a8a8ba\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/may-0.3.19/src/scheduler.rs:49:9\r\n  12:        0x1064e9546 - std::panicking::rust_panic_with_hook::h5cbc51010430491b\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:610:17\r\n  13:        0x1064e8fbe - std::panicking::begin_panic_handler::{{closure}}::hf90c83b4ac2013ae\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:502:13\r\n  14:        0x1064e7487 - std::sys_common::backtrace::__rust_end_short_backtrace::hca90c3f3f4640bf8\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/sys_common/backtrace.rs:139:18\r\n  15:        0x1064e8f2a - rust_begin_unwind\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:498:5\r\n  16:        0x1065301df - core::panicking::panic_fmt::h88a1b6fbb9084d2c\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/core/src/panicking.rs:107:14\r\n  17:        0x1065302c5 - core::result::unwrap_failed::h8abe20a396a5e82a\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/core/src/result.rs:1660:5\r\n  18:        0x1049f7218 - core::result::Result<T,E>::unwrap::h86599c529547f483\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/core/src/result.rs:1342:23\r\n  19:        0x104c22176 - tauri::manager::WindowManager<R>::prepare_pending_window::{{closure}}::{{closure}}::h93751dfb06a1f688\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri/src/manager.rs:352:25\r\n  20:        0x10494c867 - <core::future::from_generator::GenFuture<T> as core::future::future::Future>::poll::h859cfd0e737d69de\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/core/src/future/mod.rs:80:19\r\n  21:        0x104b4df41 - tokio::park::thread::CachedParkThread::block_on::{{closure}}::hc9e12b6521cdb66a\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.15.0/src/park/thread.rs:263:54\r\n  22:        0x104c26221 - tokio::coop::with_budget::{{closure}}::h6e86ad383d957e89\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.15.0/src/coop.rs:102:9\r\n  23:        0x104a95470 - std::thread::local::LocalKey<T>::try_with::h7122500f888f1766\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/thread/local.rs:413:16\r\n  24:        0x104a93d9e - std::thread::local::LocalKey<T>::with::h06ef627babb43fbd\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/thread/local.rs:389:9\r\n  25:        0x104b4d03c - tokio::coop::with_budget::h01f3ddee18ae41e6\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.15.0/src/coop.rs:95:5\r\n  26:        0x104b4d03c - tokio::coop::budget::h808b020f31d28576\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.15.0/src/coop.rs:72:5\r\n  27:        0x104b4d03c - tokio::park::thread::CachedParkThread::block_on::h0a0b40063fa04d4d\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.15.0/src/park/thread.rs:263:31\r\n  28:        0x104a3c080 - tokio::runtime::enter::Enter::block_on::hfe817823673d12cd\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.15.0/src/runtime/enter.rs:151:13\r\n  29:        0x104c17a55 - tokio::runtime::thread_pool::ThreadPool::block_on::h9f0f3ad4ae3adf00\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.15.0/src/runtime/thread_pool/mod.rs:77:9\r\n  30:        0x1047ce5f8 - tokio::runtime::Runtime::block_on::he66486c04ac7b930\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/tokio-1.15.0/src/runtime/mod.rs:463:43\r\n  31:        0x104a1c0fb - tauri::async_runtime::Runtime::block_on::h4c99e8f8294ccb66\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri/src/async_runtime.rs:124:25\r\n  32:        0x104a18c95 - tauri::async_runtime::GlobalRuntime::block_on::h83b580e1eed98f33\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri/src/async_runtime.rs:72:7\r\n  33:        0x104a1c2d5 - tauri::async_runtime::block_on::hb17e62cdb37da0ae\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri/src/async_runtime.rs:259:3\r\n  34:        0x104a199a7 - tauri::async_runtime::safe_block_on::h2e8b0646865939a6\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri/src/async_runtime.rs:294:5\r\n  35:        0x104c20d0f - tauri::manager::WindowManager<R>::prepare_pending_window::{{closure}}::hd8620bfbf08a8ea1\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri/src/manager.rs:340:46\r\n  36:        0x1048e5794 - tauri_runtime::window::PendingWindow<R>::register_uri_scheme_protocol::{{closure}}::h373639f3e7c7ca2b\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri-runtime/src/window.rs:179:48\r\n  37:        0x105dbe85b - <alloc::boxed::Box<F,A> as core::ops::function::Fn<Args>>::call::h08045e6cc89def8c\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/alloc/src/boxed.rs:1825:9\r\n  38:        0x105d499bd - tauri_runtime_wry::create_webview::{{closure}}::h91f599a551649051\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri-runtime-wry/src/lib.rs:2628:7\r\n  39:        0x105e6ea5b - <alloc::boxed::Box<F,A> as core::ops::function::Fn<Args>>::call::hef627901c13d9e48\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/alloc/src/boxed.rs:1825:9\r\n  40:        0x105e4976b - wry::webview::wkwebview::InnerWebView::new::start_task::ha2dcfe551dd04304\r\n                               at /Users/CC/.cargo/git/checkouts/wry-0ba07c7b81cd1a87/3284f8d/src/webview/wkwebview/mod.rs:164:38\r\n  41:     0x7ff90458bc61 - <unknown>\r\n  42:     0x7ff90467bbbc - <unknown>\r\n  43:     0x7ff904640c0f - <unknown>\r\n  44:     0x7ff904640b79 - <unknown>\r\n  45:     0x7ff90496bd7b - <unknown>\r\n  46:     0x7ff90427c959 - <unknown>\r\n  47:     0x7ff90467670b - <unknown>\r\n  48:     0x7ff90425a3ce - <unknown>\r\n  49:     0x7ff904259ba0 - <unknown>\r\n  50:     0x7ff819b17f3f - <unknown>\r\n  51:     0x7ff819b18e9a - <unknown>\r\n  52:     0x7ff80054c8fd - <unknown>\r\n  53:     0x7ff80054c865 - <unknown>\r\n  54:     0x7ff80054c5e4 - <unknown>\r\n  55:     0x7ff80054b01b - <unknown>\r\n  56:     0x7ff80054a5dd - <unknown>\r\n  57:     0x7ff80917d4f1 - <unknown>\r\n  58:     0x7ff80917d247 - <unknown>\r\n  59:     0x7ff80917cfe5 - <unknown>\r\n  60:     0x7ff802f79b4c - <unknown>\r\n  61:     0x7ff802f781b8 - <unknown>\r\n  62:     0x7ff802f6a5a9 - <unknown>\r\n  63:        0x105d33586 - <() as objc::message::MessageArguments>::invoke::h4996b229a6f0ffb8\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/objc-0.2.7/src/message/mod.rs:128:17\r\n  64:        0x105d3749c - objc::message::platform::send_unverified::h86c989ac1f33cd2a\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/objc-0.2.7/src/message/apple/mod.rs:27:9\r\n  65:        0x104b3e19f - objc::message::send_message::h172ab26c98d9cc77\r\n                               at /Users/CC/.cargo/registry/src/github.com-1ecc6299db9ec823/objc-0.2.7/src/message/mod.rs:178:5\r\n  66:        0x104b3e19f - tao::platform_impl::platform::event_loop::EventLoop<T>::run_return::hf74d0f95e38adf7f\r\n                               at /Users/CC/.cargo/git/checkouts/tao-b2c91e21b396bd53/d380100/src/platform_impl/macos/event_loop.rs:180:16\r\n  67:        0x104b3e44d - tao::platform_impl::platform::event_loop::EventLoop<T>::run::h0e9fd94ea6de5aca\r\n                               at /Users/CC/.cargo/git/checkouts/tao-b2c91e21b396bd53/d380100/src/platform_impl/macos/event_loop.rs:147:5\r\n  68:        0x10489b13c - tao::event_loop::EventLoop<T>::run::hdf59594d175bf82e\r\n                               at /Users/CC/.cargo/git/checkouts/tao-b2c91e21b396bd53/d380100/src/event_loop.rs:152:5\r\n  69:        0x104b987b4 - <tauri_runtime_wry::Wry as tauri_runtime::Runtime>::run::h2114e098c156cddf\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri-runtime-wry/src/lib.rs:1881:5\r\n  70:        0x104a35b6c - tauri::app::App<R>::run::hc86b6175d9b11cc7\r\n                               at /Users/CC/github/tauri-apps/tauri/core/tauri/src/app.rs:480:5\r\n  71:        0x1048eb963 - ebmaster::main::ha0b218c1f73fe4bb\r\n                               at /Users/CC/xxxx/src-tauri/src/main.rs:260:3\r\n  72:        0x104791b9e - core::ops::function::FnOnce::call_once::h0399af985b26312e\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/core/src/ops/function.rs:227:5\r\n  73:        0x104bac291 - std::sys_common::backtrace::__rust_begin_short_backtrace::ha15d4f9d5077d1dd\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/sys_common/backtrace.rs:123:18\r\n  74:        0x104a868b4 - std::rt::lang_start::{{closure}}::hc03cf426bc4b8680\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/rt.rs:145:18\r\n  75:        0x1064e6864 - core::ops::function::impls::<impl core::ops::function::FnOnce<A> for &F>::call_once::he64439ea80c91c04\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/core/src/ops/function.rs:259:13\r\n  76:        0x1064e6864 - std::panicking::try::do_call::h66ad3d2da0471c01\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:406:40\r\n  77:        0x1064e6864 - std::panicking::try::h355714f8158880bc\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:370:19\r\n  78:        0x1064e6864 - std::panic::catch_unwind::hf52738c273a0e724\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panic.rs:133:14\r\n  79:        0x1064e6864 - std::rt::lang_start_internal::{{closure}}::hc160f80a2e430575\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/rt.rs:128:48\r\n  80:        0x1064e6864 - std::panicking::try::do_call::hf89d9db6874b51b7\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:406:40\r\n  81:        0x1064e6864 - std::panicking::try::hbf22e3fb725f11ab\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panicking.rs:370:19\r\n  82:        0x1064e6864 - std::panic::catch_unwind::h70212148c0e249ee\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/panic.rs:133:14\r\n  83:        0x1064e6864 - std::rt::lang_start_internal::he76135267df4563a\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/rt.rs:128:20\r\n  84:        0x104a8688e - std::rt::lang_start::hbf8d4b087bbfbd1f\r\n                               at /rustc/efec545293b9263be9edfb283a7aa66350b3acbf/library/std/src/rt.rs:144:17\r\n  85:        0x1048ebb16 - <unknown>\r\n                               at /Users/CC/xxxx/src-tauri/src/main.rs:33:39\r\n\r\n","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1004578555/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"conanchen","id":1233799,"node_id":"MDQ6VXNlcjEyMzM3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1233799?v=4","gravatar_id":"","url":"https://api.github.com/users/conanchen","html_url":"https://github.com/conanchen","followers_url":"https://api.github.com/users/conanchen/followers","following_url":"https://api.github.com/users/conanchen/following{/other_user}","gists_url":"https://api.github.com/users/conanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/conanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conanchen/subscriptions","organizations_url":"https://api.github.com/users/conanchen/orgs","repos_url":"https://api.github.com/users/conanchen/repos","events_url":"https://api.github.com/users/conanchen/events{/privacy}","received_events_url":"https://api.github.com/users/conanchen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1004631409","html_url":"https://github.com/tauri-apps/tauri/issues/3143#issuecomment-1004631409","issue_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3143","id":1004631409,"node_id":"IC_kwDOC7lts8474XVx","user":{"login":"conanchen","id":1233799,"node_id":"MDQ6VXNlcjEyMzM3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1233799?v=4","gravatar_id":"","url":"https://api.github.com/users/conanchen","html_url":"https://github.com/conanchen","followers_url":"https://api.github.com/users/conanchen/followers","following_url":"https://api.github.com/users/conanchen/following{/other_user}","gists_url":"https://api.github.com/users/conanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/conanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conanchen/subscriptions","organizations_url":"https://api.github.com/users/conanchen/orgs","repos_url":"https://api.github.com/users/conanchen/repos","events_url":"https://api.github.com/users/conanchen/events{/privacy}","received_events_url":"https://api.github.com/users/conanchen/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-01-04T09:00:50Z","updated_at":"2022-01-04T09:00:50Z","body":"test with below updated manager.rs by checking file/range before unwrap(), works now.\r\n```\r\n\r\n        // handle 206 (partial range) http request\r\n        if let Some(range) = request.headers().get(\"range\").cloned() {\r\n          let mut status_code = 200;\r\n          let path_for_data = path_for_data.clone();\r\n          println!(\"path_for_data={}\", path_for_data);\r\n          let (headers, status_code, data) = crate::async_runtime::safe_block_on(async move {\r\n            let mut headers = HashMap::new();\r\n            let mut buf = Vec::new();\r\n            let mut file = tokio::fs::File::open(path_for_data.clone()).await;\r\n\r\n            if file.is_ok() {\r\n              let mut file_ = file.unwrap();\r\n              // Get the file size\r\n              let file_size = file_.metadata().await.unwrap().len();\r\n              let file_size_ = format!(\"{}\", file_size);\r\n              let ss = range.to_str().unwrap();\r\n              // parse the range\r\n              let range_ = HttpRange::parse(&ss.replace(\"*\", &file_size_), file_size);\r\n\r\n              println!(\r\n                \"path_for_data file_size={} {:?} range_={:?}\",\r\n                file_size,\r\n                range.to_str(),\r\n                range_\r\n              );\r\n\r\n              let range = range_.unwrap();\r\n\r\n              // FIXME: Support multiple ranges\r\n```","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/comments/1004631409/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"conanchen","id":1233799,"node_id":"MDQ6VXNlcjEyMzM3OTk=","avatar_url":"https://avatars.githubusercontent.com/u/1233799?v=4","gravatar_id":"","url":"https://api.github.com/users/conanchen","html_url":"https://github.com/conanchen","followers_url":"https://api.github.com/users/conanchen/followers","following_url":"https://api.github.com/users/conanchen/following{/other_user}","gists_url":"https://api.github.com/users/conanchen/gists{/gist_id}","starred_url":"https://api.github.com/users/conanchen/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/conanchen/subscriptions","organizations_url":"https://api.github.com/users/conanchen/orgs","repos_url":"https://api.github.com/users/conanchen/repos","events_url":"https://api.github.com/users/conanchen/events{/privacy}","received_events_url":"https://api.github.com/users/conanchen/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":5839398291,"node_id":"RTE_lADOC7lts85BDZcqzwAAAAFcDiWT","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/5839398291","actor":{"login":"nothingismagick","id":35242872,"node_id":"MDQ6VXNlcjM1MjQyODcy","avatar_url":"https://avatars.githubusercontent.com/u/35242872?v=4","gravatar_id":"","url":"https://api.github.com/users/nothingismagick","html_url":"https://github.com/nothingismagick","followers_url":"https://api.github.com/users/nothingismagick/followers","following_url":"https://api.github.com/users/nothingismagick/following{/other_user}","gists_url":"https://api.github.com/users/nothingismagick/gists{/gist_id}","starred_url":"https://api.github.com/users/nothingismagick/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/nothingismagick/subscriptions","organizations_url":"https://api.github.com/users/nothingismagick/orgs","repos_url":"https://api.github.com/users/nothingismagick/repos","events_url":"https://api.github.com/users/nothingismagick/events{/privacy}","received_events_url":"https://api.github.com/users/nothingismagick/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2022-01-04T09:59:53Z","rename":{"from":"[bug] currupt when loading local hls files with asset protocol","to":"[bug] corrupt when loading local hls files with asset protocol"},"performed_via_github_app":null},{"id":6106362893,"node_id":"AE_lADOC7lts85BDZcqzwAAAAFr97QN","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/6106362893","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2022-02-19T19:57:37Z","assignee":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":6106379184,"node_id":"REFE_lADOC7lts85BDZcqzwAAAAFr9_Ow","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/6106379184","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"dfddf363758d7872a4f101ee93a504271534ef5d","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/dfddf363758d7872a4f101ee93a504271534ef5d","created_at":"2022-02-19T20:14:37Z","performed_via_github_app":null},{"id":6132052346,"node_id":"CE_lADOC7lts85BDZcqzwAAAAFtf7F6","url":"https://api.github.com/repos/tauri-apps/tauri/issues/events/6132052346","actor":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"d06efc7704092a549c886be701122ad420db5543","commit_url":"https://api.github.com/repos/tauri-apps/tauri/commits/d06efc7704092a549c886be701122ad420db5543","created_at":"2022-02-24T13:05:52Z","state_reason":null,"performed_via_github_app":null}]