{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/3605","repository_url":"https://api.github.com/repos/tauri-apps/tauri","labels_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3605/labels{/name}","comments_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3605/comments","events_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3605/events","html_url":"https://github.com/tauri-apps/tauri/issues/3605","id":1158733843,"node_id":"I_kwDOC7lts85FEOAT","number":3605,"title":"[feat] More event or api for updater","user":{"login":"zzzgydi","id":27361820,"node_id":"MDQ6VXNlcjI3MzYxODIw","avatar_url":"https://avatars.githubusercontent.com/u/27361820?v=4","gravatar_id":"","url":"https://api.github.com/users/zzzgydi","html_url":"https://github.com/zzzgydi","followers_url":"https://api.github.com/users/zzzgydi/followers","following_url":"https://api.github.com/users/zzzgydi/following{/other_user}","gists_url":"https://api.github.com/users/zzzgydi/gists{/gist_id}","starred_url":"https://api.github.com/users/zzzgydi/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/zzzgydi/subscriptions","organizations_url":"https://api.github.com/users/zzzgydi/orgs","repos_url":"https://api.github.com/users/zzzgydi/repos","events_url":"https://api.github.com/users/zzzgydi/events{/privacy}","received_events_url":"https://api.github.com/users/zzzgydi/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":3307089819,"node_id":"MDU6TGFiZWwzMzA3MDg5ODE5","url":"https://api.github.com/repos/tauri-apps/tauri/labels/type:%20feature%20request","name":"type: feature request","color":"446DBA","default":false,"description":""}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":3,"created_at":"2022-03-03T18:03:39Z","updated_at":"2022-03-05T02:30:01Z","closed_at":"2022-03-05T00:19:02Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### Describe the problem\n\nI want to kill the sidecar when the app has been downloaded and is going to be installed. Because I noticed that the sidecar does not quit when the app exit.\r\n\r\nIf I write my code below. I should restart my sidecar when the installer failed. Not only that, when my sidecar is providing some kind of service, and the service has to be stopped during the app update.\r\n\r\n```javascript\r\nawait killSidecars();\r\nawait installUpdate();\r\nawait relaunch();\r\n```\r\n\r\nIf I do this like below. The sidecar does not be killed... \r\n\r\n```javascript\r\nawait installUpdate();\r\nawait killSidecars();\r\nawait relaunch();\r\n```\r\n\n\n### Describe the solution you'd like\n\nI see a todo tag in the code [here](https://github.com/tauri-apps/tauri/blob/0f1558980a0fb1d6c042988e173047f0590b6574/core/tauri/src/updater/core.rs#L418). It will be helpful for me if done.\r\n\r\nOr if there is a event like `tauri://update-download`, maybe this will work too. (But this may have a problem)\r\n\r\nFurther considerations, will it support to get the download progress, it only support the `update-status: [ERROR/PENDING/DONE]` right now.\n\n### Alternatives considered\n\n_No response_\n\n### Additional context\n\n_No response_","closed_by":{"login":"lucasfernog","id":20051258,"node_id":"MDQ6VXNlcjIwMDUxMjU4","avatar_url":"https://avatars.githubusercontent.com/u/20051258?v=4","gravatar_id":"","url":"https://api.github.com/users/lucasfernog","html_url":"https://github.com/lucasfernog","followers_url":"https://api.github.com/users/lucasfernog/followers","following_url":"https://api.github.com/users/lucasfernog/following{/other_user}","gists_url":"https://api.github.com/users/lucasfernog/gists{/gist_id}","starred_url":"https://api.github.com/users/lucasfernog/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lucasfernog/subscriptions","organizations_url":"https://api.github.com/users/lucasfernog/orgs","repos_url":"https://api.github.com/users/lucasfernog/repos","events_url":"https://api.github.com/users/lucasfernog/events{/privacy}","received_events_url":"https://api.github.com/users/lucasfernog/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/tauri-apps/tauri/issues/3605/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/tauri-apps/tauri/issues/3605/timeline","performed_via_github_app":null,"state_reason":"completed"}