<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:11:36 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-1675] RemoteStep#processNextStart() throws CompletionException instead of underlying exception</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-1675</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;There is a slight behavior change in TinkerPop 3.2.4 as it pertains to an exception thrown when processing a traversal on a remote traversal source.&lt;/p&gt;

&lt;p&gt;In 3.2.3, if an unchecked exception is thrown, it is propagated directly to the user.&lt;/p&gt;

&lt;p&gt;However, in 3.2.4, since RemoteStep#processNextStart() now calls RemoteStep#promise() and joins on the returning futures result, if the future fails a &lt;tt&gt;CompletionException&lt;/tt&gt; is thrown wrapping the cause, instead of the cause itself.&lt;/p&gt;

&lt;p&gt;For consistency, if that exception is an unchecked exception, it should be thrown directly, otherwise it should be wrapped in an &lt;tt&gt;IllegalStateException&lt;/tt&gt; as it did before.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13073931">TINKERPOP-1675</key>
            <summary>RemoteStep#processNextStart() throws CompletionException instead of underlying exception</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spmallette">Stephen Mallette</assignee>
                                    <reporter username="andrew.tolbert">Andy Tolbert</reporter>
                        <labels>
                    </labels>
                <created>Mon, 22 May 2017 16:55:27 +0000</created>
                <updated>Thu, 25 May 2017 13:55:31 +0000</updated>
                            <resolved>Thu, 25 May 2017 13:55:31 +0000</resolved>
                                    <version>3.2.4</version>
                                    <fixVersion>3.2.5</fixVersion>
                                    <component>process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="16019816" author="andrew.tolbert" created="Mon, 22 May 2017 16:55:43 +0000"  >&lt;p&gt;I have a fix for this that i&apos;ll open up a PR for shortly.&lt;/p&gt;</comment>
                            <comment id="16019840" author="andrew.tolbert" created="Mon, 22 May 2017 17:11:30 +0000"  >&lt;p&gt;Now that I think about this some more, this would not happen on 3.2.4 unless someone implemented their own RemoteConnection and overrode &lt;tt&gt;submitAsync&lt;/tt&gt; to set an exception on the Future instead of throwing it.   In 3.2.4, RemoteConnection#submitAsync would throw the exception on the calling thread instead of setting it on the future, that is until the change I made in &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1671&quot; title=&quot;Default method for RemoteConnection.submitAsync throws exception from submit on calling thread instead of failing the future&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1671&quot;&gt;&lt;del&gt;TINKERPOP-1671&lt;/del&gt;&lt;/a&gt; which is why it is currently unlikely anyone would run into this.  However, with the 1671 change, we should also fix this here on 3.2.5. &lt;/p&gt;</comment>
                            <comment id="16019850" author="githubbot" created="Mon, 22 May 2017 17:17:26 +0000"  >&lt;p&gt;GitHub user tolbertam opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1675&quot; title=&quot;RemoteStep#processNextStart() throws CompletionException instead of underlying exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1675&quot;&gt;&lt;del&gt;TINKERPOP-1675&lt;/del&gt;&lt;/a&gt; Throw underlying unchecked exception in processNextStart&lt;/p&gt;

&lt;p&gt;    For consistency with previous behavior, if an unchecked exception is set on the returned future throw that instead of the wrapped CompletionException.&lt;/p&gt;

&lt;p&gt;    For &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1675&quot; title=&quot;RemoteStep#processNextStart() throws CompletionException instead of underlying exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1675&quot;&gt;&lt;del&gt;TINKERPOP-1675&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1675&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-1675&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/tolbertam/tinkerpop&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/tolbertam/tinkerpop&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1675&quot; title=&quot;RemoteStep#processNextStart() throws CompletionException instead of underlying exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1675&quot;&gt;&lt;del&gt;TINKERPOP-1675&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/609.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/609.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #609&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 916ba148cf358f531629efa30c6174e85c676001&lt;br/&gt;
Author: Andrew Tolbert &amp;lt;andrew.tolbert@datastax.com&amp;gt;&lt;br/&gt;
Date:   2017-05-22T17:14:15Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1675&quot; title=&quot;RemoteStep#processNextStart() throws CompletionException instead of underlying exception&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1675&quot;&gt;&lt;del&gt;TINKERPOP-1675&lt;/del&gt;&lt;/a&gt; Throw underlying unchecked exception in processNextStart&lt;/p&gt;

&lt;p&gt;    For consistency with previous behavior, if an unchecked exception is&lt;br/&gt;
    set on the returned future throw that instead of the wrapped&lt;br/&gt;
    CompletionException.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16022082" author="githubbot" created="Tue, 23 May 2017 23:31:37 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    All tests pass with `docker/build.sh -t -n -i`&lt;/p&gt;

&lt;p&gt;    VOTE +1&lt;/p&gt;</comment>
                            <comment id="16022732" author="githubbot" created="Wed, 24 May 2017 11:30:10 +0000"  >&lt;p&gt;Github user robertdale commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    VOTE +1&lt;/p&gt;</comment>
                            <comment id="16023638" author="githubbot" created="Wed, 24 May 2017 20:32:24 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/609&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    VOTE +1.&lt;/p&gt;</comment>
                            <comment id="16024754" author="githubbot" created="Thu, 25 May 2017 13:54:20 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/609&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/609&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 25 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3fb3z:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>