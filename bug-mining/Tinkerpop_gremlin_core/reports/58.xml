<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:11:52 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-2199] within step does not work with more than two parameters with python</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-2199</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;When there are more than two elements in &apos;within&apos;, the query return an TypeError. The same query is working as expected with gremlin console:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&amp;gt; g.E().hasLabel(within(&apos;nephew&apos;, &apos;uncle&apos;, &apos;cousin&apos;)).drop().toList()&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Gave the error:&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#e75c58&quot;&gt;---------------------------------------------------------------------------&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#e75c58&quot;&gt;TypeError&lt;/font&gt; Traceback (most recent call last)&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#00a250&quot;&gt;&amp;lt;ipython-input-63-074429099c0c&amp;gt;&lt;/font&gt; in &lt;font color=&quot;#60c6c8&quot;&gt;&amp;lt;module&amp;gt;&lt;/font&gt; &lt;font color=&quot;#00a250&quot;&gt;----&amp;gt; &lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#00a250&quot;&gt;1&lt;/font&gt; g&lt;font color=&quot;#208ffb&quot;&gt;.&lt;/font&gt;E&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;.&lt;/font&gt;hasLabel&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;within&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;&apos;nepheu&apos;&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;,&lt;/font&gt; &lt;font color=&quot;#208ffb&quot;&gt;&apos;uncle&apos;&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;,&lt;/font&gt; &lt;font color=&quot;#208ffb&quot;&gt;&apos;cousin&apos;&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;.&lt;/font&gt;drop&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;.&lt;/font&gt;toList&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;font color=&quot;#e75c58&quot;&gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt; 2&lt;/font&gt; &lt;font color=&quot;#e75c58&quot;&gt;#g.E().hasLabel(&apos;neveu&apos;).drop().toList()&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt; 3&lt;/font&gt; &lt;font color=&quot;#e75c58&quot;&gt;#g.E().hasLabel(&apos;oncle&apos;).drop().toList()&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt;4&lt;/font&gt; &lt;font color=&quot;#e75c58&quot;&gt;#g.E().hasLabel(&apos;cousin&apos;).drop().toList()&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#00a250&quot;&gt;~/.local/lib/python3.7/site-packages/gremlin_python/process/traversal.py&lt;/font&gt; in &lt;font color=&quot;#60c6c8&quot;&gt;within&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;(*args)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt;316&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt;317&lt;/font&gt; &lt;font color=&quot;#00a250&quot;&gt;def&lt;/font&gt; within&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;*&lt;/font&gt;args&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;:&lt;/font&gt; &lt;font color=&quot;#00a250&quot;&gt;--&amp;gt; &lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#00a250&quot;&gt;318&lt;/font&gt;&#160;&#160;&#160;&#160; &lt;font color=&quot;#00a250&quot;&gt;return&lt;/font&gt; P&lt;font color=&quot;#208ffb&quot;&gt;.&lt;/font&gt;within&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;*&lt;/font&gt;args&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt; 319&lt;/font&gt; statics&lt;font color=&quot;#208ffb&quot;&gt;.&lt;/font&gt;add_static&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;&apos;within&apos;&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;,&lt;/font&gt;within&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt;320&lt;/font&gt; &lt;font color=&quot;#00a250&quot;&gt;~/.local/lib/python3.7/site-packages/gremlin_python/process/traversal.py&lt;/font&gt; in &lt;font color=&quot;#60c6c8&quot;&gt;within&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;(*args)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt; 253&lt;/font&gt; &lt;font color=&quot;#208ffb&quot;&gt;@&lt;/font&gt;staticmethod &lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt;254&lt;/font&gt; &lt;font color=&quot;#00a250&quot;&gt;def&lt;/font&gt; within&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;*&lt;/font&gt;args&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;:&lt;/font&gt; &lt;font color=&quot;#00a250&quot;&gt;--&amp;gt;&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#00a250&quot;&gt; 255&lt;/font&gt;&#160;&#160;&#160;&#160;&#160; &lt;font color=&quot;#00a250&quot;&gt;return&lt;/font&gt; P&lt;font color=&quot;#208ffb&quot;&gt;(&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;&quot;within&quot;&lt;/font&gt;&lt;font color=&quot;#208ffb&quot;&gt;,&lt;/font&gt; &lt;font color=&quot;#208ffb&quot;&gt;*&lt;/font&gt;args&lt;font color=&quot;#208ffb&quot;&gt;)&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt; 256&lt;/font&gt;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#007427&quot;&gt; 257&lt;/font&gt; &lt;font color=&quot;#208ffb&quot;&gt;@&lt;/font&gt;staticmethod&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&lt;font color=&quot;#e75c58&quot;&gt;TypeError&lt;/font&gt;: _&lt;em&gt;init&lt;/em&gt;_() takes from 3 to 4 positional arguments but 5 were given&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;</description>
                <environment>Linux</environment>
        <key id="13228770">TINKERPOP-2199</key>
            <summary>within step does not work with more than two parameters with python</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spmallette">Stephen Mallette</assignee>
                                    <reporter username="gruel">Nicolas Gruel</reporter>
                        <labels>
                    </labels>
                <created>Thu, 18 Apr 2019 07:19:55 +0000</created>
                <updated>Thu, 9 May 2019 14:04:54 +0000</updated>
                            <resolved>Thu, 9 May 2019 14:04:54 +0000</resolved>
                                    <version>3.4.1</version>
                                    <fixVersion>3.3.7</fixVersion>
                    <fixVersion>3.4.2</fixVersion>
                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16831211" author="spmallette" created="Wed, 1 May 2019 19:39:49 +0000"  >&lt;p&gt;The workaround for this issue is to pass the arguments as a collection, thus &lt;tt&gt;P.within(&lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;nephew&amp;quot;,&amp;quot;uncle&amp;quot;,&amp;quot;cousin&amp;quot;&amp;#93;&lt;/span&gt;)&lt;/tt&gt; - that should work. Upon digging deeper into the actual issue I was reminded that we were never really sure how to make this consistent but for some reason it dawned on me that it wasn&apos;t a big deal:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/tinkerpop/commit/7abc8b8ffb0a9a9a4a40b079fb10b3dd978be872&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/commit/7abc8b8ffb0a9a9a4a40b079fb10b3dd978be872&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;That change makes Python behave the same way that Java does in dealing with &lt;tt&gt;P.within()&lt;/tt&gt; and &lt;tt&gt;P.without()&lt;/tt&gt; - I&apos;d expect it to be a non-breaking change too I guess, because most people who have run into this would be using the collection workaround i mentioned prior and that will have the same behavior before and after the change.&lt;/p&gt;

&lt;p&gt;A pull request will be forthcoming but noticed weirdness in the other GLVs around this that should probably get resolved. Unsure if I&apos;ll do it as part of this issue or not as of right now.&lt;/p&gt;</comment>
                            <comment id="16831230" author="githubbot" created="Wed, 1 May 2019 20:23:36 +0000"  >&lt;p&gt;spmallette commented on pull request #1106: &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2199&quot; title=&quot;within step does not work with more than two parameters with python&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2199&quot;&gt;&lt;del&gt;TINKERPOP-2199&lt;/del&gt;&lt;/a&gt; Fixed P.within()/without() behavior in gremlin-python&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1106&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2199&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-2199&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Made behavior for varags usage consistent with what Java does. Was never really sure what to do with this, but after reviewing the Java implementation it prefers a Collection as a single argument and basically converts the varargs to Collection, so basically just doing the same thing here.&lt;/p&gt;

&lt;p&gt;   builds with `mvn clean install`&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16836407" author="githubbot" created="Thu, 9 May 2019 14:00:48 +0000"  >&lt;p&gt;spmallette commented on pull request #1106: &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2199&quot; title=&quot;within step does not work with more than two parameters with python&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2199&quot;&gt;&lt;del&gt;TINKERPOP-2199&lt;/del&gt;&lt;/a&gt; Fixed P.within()/without() behavior in gremlin-python&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1106&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 27 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z01wsg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>