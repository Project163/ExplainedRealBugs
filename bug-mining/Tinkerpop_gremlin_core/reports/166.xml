<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:12:39 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-3155] Operator.addAll checks for instanceof on the wrong parameter</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-3155</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;Hi,&lt;/p&gt;

&lt;p&gt;I was experimenting with &quot;sack(...)&quot; today and noticed a weirdness in the gremlin source code for Operator. Here&apos;s the &quot;addAll&quot; literal, as defined in the gremlin source code:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
addAll {
    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; apply(&lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; a, &lt;span class=&quot;code-keyword&quot;&gt;final&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; b) {
        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == a || &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == b) {
            &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (&lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == a &amp;amp;&amp;amp; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == b)
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt;;
            &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
                &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;null&lt;/span&gt; == b ? a : b;
        }

        &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Map &amp;amp;&amp;amp; b &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Map)
            ((Map&amp;lt;?,?&amp;gt;) a).putAll((Map) b);
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Collection &amp;amp;&amp;amp; a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Collection)
            ((Collection&amp;lt;?&amp;gt;) a).addAll((Collection) b);
        &lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt;
            &lt;span class=&quot;code-keyword&quot;&gt;throw&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; IllegalArgumentException(&lt;span class=&quot;code-object&quot;&gt;String&lt;/span&gt;.format(&lt;span class=&quot;code-quote&quot;&gt;&quot;Objects must be both of Map or Collection: a=%s b=%s&quot;&lt;/span&gt;,
                    a.getClass().getSimpleName(), b.getClass().getSimpleName()));
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; a;
    }
}, &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;Note the line&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
&lt;span class=&quot;code-keyword&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; (a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Collection &amp;amp;&amp;amp; a &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Collection) &lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;That&apos;s weird. We&apos;re checking twice if &quot;a&quot; is a Collection. Not only is that pointless, but it also ignores parameter b. Shouldn&apos;t the second part of the condition be:&lt;/p&gt;

&lt;p&gt;&#160;&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
b &lt;span class=&quot;code-keyword&quot;&gt;instanceof&lt;/span&gt; Collection&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;&#160;&lt;/p&gt;

&lt;p&gt;... since we&apos;re downcasting b into a Collection afterwards?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13615532">TINKERPOP-3155</key>
            <summary>Operator.addAll checks for instanceof on the wrong parameter</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="xiazcy">Yang Xia</assignee>
                                    <reporter username="martin.haeusler">Martin H&#228;usler</reporter>
                        <labels>
                    </labels>
                <created>Wed, 16 Apr 2025 15:51:02 +0000</created>
                <updated>Tue, 20 May 2025 17:14:03 +0000</updated>
                            <resolved>Tue, 20 May 2025 17:14:03 +0000</resolved>
                                    <version>3.7.3</version>
                                    <fixVersion>3.7.4</fixVersion>
                                    <component>process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17945124" author="JIRAUSER308356" created="Wed, 16 Apr 2025 16:26:33 +0000"  >&lt;p&gt;Good catch! That is most likely a typo and should not be difficult to fix and add unit tests to validate.&lt;/p&gt;</comment>
                            <comment id="17945132" author="githubbot" created="Wed, 16 Apr 2025 16:43:39 +0000"  >&lt;p&gt;andreachild opened a new pull request, #3095:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3095&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3095&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-3155&quot; title=&quot;Operator.addAll checks for instanceof on the wrong parameter&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-3155&quot;&gt;&lt;del&gt;TINKERPOP-3155&lt;/del&gt;&lt;/a&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-3155&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-3155&lt;/a&gt;) &lt;/p&gt;

&lt;p&gt;   Fixed typo for Operator.addAll to check that all args are collections instead of just the first and added unit test.&lt;/p&gt;


</comment>
                            <comment id="17945135" author="githubbot" created="Wed, 16 Apr 2025 16:55:35 +0000"  >&lt;p&gt;codecov-commenter commented on PR #3095:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3095#issuecomment-2810172194&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3095#issuecomment-2810172194&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Codecov&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/3095?dropdown=coverage&amp;amp;src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/3095?dropdown=coverage&amp;amp;src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) Report&lt;br/&gt;
   All modified and coverable lines are covered by tests :white_check_mark:&lt;br/&gt;
   &amp;gt; Project coverage is 74.22%. Comparing base &lt;span class=&quot;error&quot;&gt;&amp;#91;(`9b46b67`)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/commit/9b46b6777d2fa250e41daacf2fa4554605aff53a?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/commit/9b46b6777d2fa250e41daacf2fa4554605aff53a?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) to head &lt;span class=&quot;error&quot;&gt;&amp;#91;(`008cf0f`)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/commit/008cf0feaec3fb8376c1fcaea2f9b3337b9d703f?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/commit/008cf0feaec3fb8376c1fcaea2f9b3337b9d703f?dropdown=coverage&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;).&lt;br/&gt;
   &amp;gt; Report is 329 commits behind head on 3.7-dev.&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   &amp;lt;details&amp;gt;&amp;lt;summary&amp;gt;Additional details and impacted files&amp;lt;/summary&amp;gt;&lt;/p&gt;


&lt;p&gt;   ```diff&lt;br/&gt;
   @@              Coverage Diff              @@&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;3.7-dev    #3095      +/-   ##&lt;br/&gt;
   =============================================&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Coverage      76.14%   74.22%   -1.92%&lt;br/&gt;
   =============================================&lt;br/&gt;
     Files           1084       28    -1056     &lt;br/&gt;
     Lines          65160     5913   -59247     &lt;br/&gt;
     Branches        7285        0    -7285     &lt;br/&gt;
   =============================================&lt;/li&gt;
	&lt;li&gt;Hits           49616     4389   -45227&lt;br/&gt;
   + Misses         12839     1322   -11517     &lt;br/&gt;
   + Partials        2705      202    -2503     &lt;br/&gt;
   ```&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;   &amp;lt;/details&amp;gt;&lt;/p&gt;

&lt;p&gt;   &lt;span class=&quot;error&quot;&gt;&amp;#91;:umbrella: View full report in Codecov by Sentry&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/3095?dropdown=coverage&amp;amp;src=pr&amp;amp;el=continue&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/3095?dropdown=coverage&amp;amp;src=pr&amp;amp;el=continue&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;).   &lt;br/&gt;
   :loudspeaker: Have feedback on the report? &lt;span class=&quot;error&quot;&gt;&amp;#91;Share it here&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;   &amp;lt;details&amp;gt;&amp;lt;summary&amp;gt; :rocket: New features to boost your workflow: &amp;lt;/summary&amp;gt;&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;:snowflake: &lt;span class=&quot;error&quot;&gt;&amp;#91;Test Analytics&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://docs.codecov.com/docs/test-analytics):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.codecov.com/docs/test-analytics):&lt;/a&gt; Detect flaky tests, report on failures, and find test suite problems.&lt;/li&gt;
	&lt;li&gt;:package: &lt;span class=&quot;error&quot;&gt;&amp;#91;JS Bundle Analysis&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://docs.codecov.com/docs/javascript-bundle-analysis):&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.codecov.com/docs/javascript-bundle-analysis):&lt;/a&gt; Save yourself from yourself by tracking and limiting bundle sizes in JS merges.&lt;br/&gt;
   &amp;lt;/details&amp;gt;&lt;/li&gt;
&lt;/ul&gt;


</comment>
                            <comment id="17945153" author="githubbot" created="Wed, 16 Apr 2025 18:37:08 +0000"  >&lt;p&gt;kenhuuu commented on PR #3095:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3095#issuecomment-2810407084&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3095#issuecomment-2810407084&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17945157" author="githubbot" created="Wed, 16 Apr 2025 19:08:51 +0000"  >&lt;p&gt;Cole-Greer commented on PR #3095:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3095#issuecomment-2810508088&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3095#issuecomment-2810508088&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17945469" author="githubbot" created="Thu, 17 Apr 2025 17:27:28 +0000"  >&lt;p&gt;xiazcy commented on PR #3095:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3095#issuecomment-2813614594&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3095#issuecomment-2813614594&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17945504" author="githubbot" created="Thu, 17 Apr 2025 20:12:42 +0000"  >&lt;p&gt;xiazcy merged PR #3095:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3095&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3095&lt;/a&gt;&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            29 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1veqg:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>