<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:12:00 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-2384] Inject and withSideEffect causing different outcomes in order step</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-2384</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;I tried creating the following query two different ways. One using &lt;em&gt;&lt;b&gt;inject&lt;/b&gt;&lt;/em&gt;&#160;and the other using &lt;em&gt;&lt;b&gt;withSideEffect&lt;/b&gt;&lt;/em&gt;. The version using &lt;em&gt;&lt;b&gt;inject&lt;/b&gt;&lt;/em&gt;&#160;works as expected and the version using &lt;em&gt;&lt;b&gt;withSideEffect&lt;/b&gt;&lt;/em&gt;&#160;causes an exception. As I understand it, in this case the two should be equivalent. When used outside of an &lt;b&gt;&lt;em&gt;order().by()&lt;/em&gt;&lt;/b&gt; the &lt;em&gt;&lt;b&gt;select&lt;/b&gt;&lt;/em&gt; steps work fine in my testing&lt;/p&gt;

&lt;p&gt;&#160;&lt;br/&gt;
gremlin&amp;gt; g.inject(&apos;name&apos;).as(&apos;key&apos;).V().order().by(valueMap().select(select(&apos;key&apos;)).unfold()).values(&apos;name&apos;)&lt;/p&gt;

&lt;p&gt;==&amp;gt;josh&lt;br/&gt;
==&amp;gt;lop&lt;br/&gt;
==&amp;gt;marko&lt;br/&gt;
==&amp;gt;peter&lt;br/&gt;
==&amp;gt;ripple&lt;br/&gt;
==&amp;gt;vadas&lt;/p&gt;

&lt;p&gt;gremlin&amp;gt; g.withSideEffect(&apos;key&apos;,&apos;name&apos;).V().order().by(valueMap().select(select(&apos;key&apos;)).unfold()).values(&apos;name&apos;)&lt;br/&gt;
The provided traverser does not map to a value: v&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;-&amp;gt;[PropertyMapStep(value), TraversalSelectStep([SelectOneStep(last,ke&lt;br/&gt;
y)]), UnfoldStep]&lt;br/&gt;
Type &apos;:help&apos; or &apos;:h&apos; for help.    &lt;/p&gt;

&lt;p&gt;gremlin&amp;gt; g.withSideEffect(&apos;key&apos;,&apos;name&apos;).V().valueMap().select(select(&apos;key&apos;)).unfold()&lt;br/&gt;
==&amp;gt;marko&lt;br/&gt;
==&amp;gt;vadas&lt;br/&gt;
==&amp;gt;lop&lt;br/&gt;
==&amp;gt;josh&lt;br/&gt;
==&amp;gt;ripple&lt;br/&gt;
==&amp;gt;peter&lt;/p&gt;</description>
                <environment>TinkerGraph @ 3.4.6 , TinkerFactory.createModern() , Gremlin Console</environment>
        <key id="13311741">TINKERPOP-2384</key>
            <summary>Inject and withSideEffect causing different outcomes in order step</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spmallette">Stephen Mallette</assignee>
                                    <reporter username="gfxman">Kelvin R. Lawrence</reporter>
                        <labels>
                    </labels>
                <created>Tue, 16 Jun 2020 14:38:58 +0000</created>
                <updated>Mon, 6 Jul 2020 17:37:04 +0000</updated>
                            <resolved>Mon, 6 Jul 2020 17:37:04 +0000</resolved>
                                    <version>3.4.6</version>
                                    <fixVersion>3.5.0</fixVersion>
                    <fixVersion>3.4.8</fixVersion>
                                    <component>process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17137898" author="spmallette" created="Tue, 16 Jun 2020 20:06:01 +0000"  >&lt;p&gt;This seems to have opened a bag of worms a bit. It seems that the problem is that &lt;tt&gt;select(Traversal)&lt;/tt&gt; was not treating that argument as a local child so side-effects were not properly propagating to it. If I &quot;fix&quot; that then problems start to occur with &lt;tt&gt;GraphComputer&lt;/tt&gt; tests where it thinks that verifications are being violated with respect to &lt;tt&gt;PathProcessor&lt;/tt&gt; max requirements. Not sure how to fix this one immediately.&lt;/p&gt;</comment>
                            <comment id="17140572" author="githubbot" created="Fri, 19 Jun 2020 13:57:04 +0000"  >&lt;p&gt;spmallette opened a new pull request #1300:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1300&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2384&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-2384&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Without this change side-effects don&apos;t propogate to the key traversal and they can&apos;t be accessed. Generalized VerificationException errors for remote tests so that the Ignore list didn&apos;t have to be so long for those tests.&lt;/p&gt;

&lt;p&gt;   All tests pass with `docker/build.sh -t -n -i`&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;


&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="17152201" author="githubbot" created="Mon, 6 Jul 2020 17:36:37 +0000"  >&lt;p&gt;spmallette merged pull request #1300:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1300&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1300&lt;/a&gt;&lt;/p&gt;





&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 18 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0fwgw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>