<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:11:40 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-1867] union() can produce extra traversers </title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-1867</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;Hard to say where this bug is coming from but basically the most simple representation is:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
gremlin&amp;gt; g.V(1,2).local(__.union(__.constant(1).count()))
==&amp;gt;1
==&amp;gt;0
==&amp;gt;1
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Similar problems occur with &lt;tt&gt;sum()&lt;/tt&gt; and other reducing barriers when used in this context.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13129360">TINKERPOP-1867</key>
            <summary>union() can produce extra traversers </summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkuppitz">Daniel Kuppitz</assignee>
                                    <reporter username="spmallette">Stephen Mallette</reporter>
                        <labels>
                    </labels>
                <created>Mon, 8 Jan 2018 21:31:19 +0000</created>
                <updated>Sun, 21 Jan 2018 01:12:34 +0000</updated>
                            <resolved>Sun, 21 Jan 2018 01:12:34 +0000</resolved>
                                    <version>3.2.7</version>
                                    <fixVersion>3.2.8</fixVersion>
                    <fixVersion>3.3.2</fixVersion>
                                    <component>process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16317607" author="dkuppitz" created="Tue, 9 Jan 2018 03:19:52 +0000"  >&lt;p&gt;It looks similar to what we saw in &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1629&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;TINKERPOP-1629&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;gremlin&amp;gt; __.inject(1,2).map(union(fold()).fold())
==&amp;gt;[[1]]
==&amp;gt;[[],[2]]
gremlin&amp;gt; __.inject(1,2).map(union(mean()).fold())
==&amp;gt;[1.0]
==&amp;gt;[NaN,2.0]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Marko tried hard to solve &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1629&quot; title=&quot;Allow reducing barriers in repeat()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1629&quot;&gt;TINKERPOP-1629&lt;/a&gt;, but ultimately we decided to allow reducing barriers despite the few issues that can occur.  It&apos;s probably the same thing for &lt;tt&gt;union()&lt;/tt&gt;. We could write a simple strategy though, that would wrap all reducing child traversals in a &lt;tt&gt;map()&lt;/tt&gt;.&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;gremlin&amp;gt; __.inject(1,2).map(union(map(fold())).fold())
==&amp;gt;[[1]]
==&amp;gt;[[2]]
gremlin&amp;gt; __.inject(1,2).map(union(map(mean())).fold())
==&amp;gt;[1.0]
==&amp;gt;[2.0]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="16318400" author="spmallette" created="Tue, 9 Jan 2018 13:28:09 +0000"  >&lt;p&gt;I don&apos;t get the full picture from &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1629&quot; title=&quot;Allow reducing barriers in repeat()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1629&quot;&gt;TINKERPOP-1629&lt;/a&gt;. The issue is still open and I don&apos;t see any code tied to it - does that mean nothing changed (or did he CTR some changes in)? Also, do you understand what part of the reducing barrier causes the extra traverser to show up in the output (i&apos;m still trying to understand that more fully)?&lt;/p&gt;

&lt;p&gt;Also, this problem was found as a result of a standard TinkerPop test behaving differently for TinkerGraph than it did for another graph implementation - specifically this test:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/tinkerpop/blob/2f1a9d09c4d41ad35e9c6fabdeec3c0db1a37e34/gremlin-test/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/step/branch/UnionTest.java#L193&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/blob/2f1a9d09c4d41ad35e9c6fabdeec3c0db1a37e34/gremlin-test/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/step/branch/UnionTest.java#L193&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Any clue on why it would behave differently for different graphs?&lt;/p&gt;</comment>
                            <comment id="16318728" author="dkuppitz" created="Tue, 9 Jan 2018 16:50:51 +0000"  >&lt;p&gt;Hmm, at some point we allowed reducing barriers in &lt;tt&gt;repeat()&lt;/tt&gt;, but seems it&apos;s disallowed again in both main branches. However, allowing it produced the same problem - empty traversers. The interesting thing about the test you&apos;ve mentioned is that it breaks if you remove just one of union&apos;s child traversals.&lt;/p&gt;</comment>
                            <comment id="16319538" author="githubbot" created="Wed, 10 Jan 2018 01:46:41 +0000"  >&lt;p&gt;GitHub user dkuppitz opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1867&quot; title=&quot;union() can produce extra traversers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1867&quot;&gt;&lt;del&gt;TINKERPOP-1867&lt;/del&gt;&lt;/a&gt; union() can produce extra traversers &lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1867&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-1867&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Implemented `reset()` in `ComputerAwareStep` to reset the `previousIterator`, and reset the `finalStep` in `DefaultTraversal`.&lt;/p&gt;

&lt;p&gt;    This fixes the false behavior, mainly seen in reducing barrier steps.&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    $ docker/build.sh -t -i&lt;br/&gt;
    ...&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Reactor Summary:&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; &lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop .................................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;1:45.623s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Shaded ................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;21.575s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Core .................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;57.690s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Test .................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;6.146s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Groovy ................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;3:03.207s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Groovy Test ........... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;4.203s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: TinkerGraph Gremlin ........... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2:59.389s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Benchmark ............. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;7.549s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Driver ................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;1:31.627s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Neo4j Gremlin ................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;0.936s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Server ................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;15:29.995s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Python ................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2:40.883s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin.Net ................... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2.247s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin.Net - Source .......... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;44.422s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin.Net - Tests ........... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;44.304s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Hadoop Gremlin ................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;6:30.134s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Spark Gremlin ................. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;15:04.061s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Giraph Gremlin ................ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;2:23:46.498s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Console ............... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;4:00.598s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Gremlin Archetype ............. SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;0.080s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Archetype - TinkerGraph ....... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;33.522s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Archetype - Server ............ SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;15.100s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Apache TinkerPop :: Archetype - DSL ............... SUCCESS &lt;span class=&quot;error&quot;&gt;&amp;#91;3.588s&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 3:21:02.647s&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: Wed Jan 10 01:21:22 UTC 2018&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 173M/631M&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    VOTE: +1&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/apache/tinkerpop&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1867&quot; title=&quot;union() can produce extra traversers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1867&quot;&gt;&lt;del&gt;TINKERPOP-1867&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #775&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 2d4a4f8c19bd92625e414f41c6ceafc70862da87&lt;br/&gt;
Author: Daniel Kuppitz &amp;lt;daniel_kuppitz@...&amp;gt;&lt;br/&gt;
Date:   2018-01-10T01:40:48Z&lt;/p&gt;

&lt;p&gt;    Implemented `reset()` in `ComputerAwareStep` to reset the `previousIterator` and reset the `finalStep` in `DefaultTraversal`.&lt;br/&gt;
    This fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1867&quot; title=&quot;union() can produce extra traversers &quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1867&quot;&gt;&lt;del&gt;TINKERPOP-1867&lt;/del&gt;&lt;/a&gt;, a falsy behavior, mainly seen in reducing barrier steps.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16320127" author="githubbot" created="Wed, 10 Jan 2018 11:49:59 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Nice job. Does this also fix &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1629&quot; title=&quot;Allow reducing barriers in repeat()&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1629&quot;&gt;TINKERPOP-1629&lt;/a&gt;?&lt;/p&gt;</comment>
                            <comment id="16320292" author="githubbot" created="Wed, 10 Jan 2018 14:05:44 +0000"  >&lt;p&gt;Github user dkuppitz commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I was hoping so, but no, it doesn&apos;t. At least not in `tp32/`. Maybe we&apos;re gonna be surprised once it&apos;s merged into `master/`.&lt;/p&gt;</comment>
                            <comment id="16320323" author="githubbot" created="Wed, 10 Jan 2018 14:29:27 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    that sorta seems worrisome - i was thinking those two were highly related.....&lt;/p&gt;</comment>
                            <comment id="16320432" author="githubbot" created="Wed, 10 Jan 2018 15:27:49 +0000"  >&lt;p&gt;Github user dkuppitz commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I&apos;ve merged this branch into `master/` (locally), but it didn&apos;t change anything (which is actually a good thing, as I don&apos;t like surprises after a merge &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;). We still get the kinda unexpected empty list in OLTP and the whole bunch of empty lists in OLAP:&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    gremlin&amp;gt; g = TinkerFactory.createModern().traversal().withoutStrategies(StandardVerificationStrategy)&lt;br/&gt;
    ==&amp;gt;graphtraversalsource[tinkergraph&lt;span class=&quot;error&quot;&gt;&amp;#91;vertices:6 edges:6&amp;#93;&lt;/span&gt;, standard]&lt;br/&gt;
    gremlin&amp;gt; g.V(1).repeat(aggregate(&quot;a&quot;).fold().store(&quot;x&quot;).unfold().both().where(without(&quot;a&quot;)).dedup()).cap(&quot;x&quot;).next()&lt;br/&gt;
    ==&amp;gt;[]&lt;br/&gt;
    ==&amp;gt;[v&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;]&lt;br/&gt;
    ==&amp;gt;[v&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;,v&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;,v&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;]&lt;br/&gt;
    ==&amp;gt;[v&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;,v&lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt;]&lt;br/&gt;
    gremlin&amp;gt; g = TinkerFactory.createModern().traversal().withComputer().withoutStrategies(StandardVerificationStrategy)&lt;br/&gt;
    ==&amp;gt;graphtraversalsource[tinkergraph&lt;span class=&quot;error&quot;&gt;&amp;#91;vertices:6 edges:6&amp;#93;&lt;/span&gt;, graphcomputer]&lt;br/&gt;
    gremlin&amp;gt; g.V(1).repeat(aggregate(&quot;a&quot;).fold().store(&quot;x&quot;).unfold().both().where(without(&quot;a&quot;)).dedup()).cap(&quot;x&quot;).next()&lt;br/&gt;
    ==&amp;gt;[v&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;]&lt;br/&gt;
    ==&amp;gt;[]&lt;br/&gt;
    ==&amp;gt;[]&lt;br/&gt;
    ==&amp;gt;[]&lt;br/&gt;
    ==&amp;gt;[]&lt;br/&gt;
    ==&amp;gt;[]&lt;br/&gt;
    ==&amp;gt;[v&lt;span class=&quot;error&quot;&gt;&amp;#91;2&amp;#93;&lt;/span&gt;,v&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;,v&lt;span class=&quot;error&quot;&gt;&amp;#91;3&amp;#93;&lt;/span&gt;]&lt;br/&gt;
    ==&amp;gt;[v&lt;span class=&quot;error&quot;&gt;&amp;#91;5&amp;#93;&lt;/span&gt;,v&lt;span class=&quot;error&quot;&gt;&amp;#91;6&amp;#93;&lt;/span&gt;]&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    The results are the same in `tp32/` and `master/`, nothing&apos;s changed.&lt;/p&gt;

&lt;p&gt;    So, although the issue looks similar, it&apos;s probably a whole different thing that just happens to produce the same kind of unexpected result entries.&lt;/p&gt;</comment>
                            <comment id="16327780" author="githubbot" created="Tue, 16 Jan 2018 20:49:20 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I was hoping I could come up with some other form of testing for this change, but I can&apos;t seem to think of anything...........&lt;/p&gt;

&lt;p&gt;    VOTE +1 (pending changelog entry)&lt;/p&gt;</comment>
                            <comment id="16331595" author="githubbot" created="Fri, 19 Jan 2018 01:50:28 +0000"  >&lt;p&gt;Github user robertdale commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    VOTE +1&lt;/p&gt;</comment>
                            <comment id="16333360" author="githubbot" created="Sun, 21 Jan 2018 01:11:41 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/775&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/775&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 42 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3onmv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>