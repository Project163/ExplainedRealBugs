<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:12:38 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-3047] Grammar does not parse keywords into Map keys</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-3047</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;&lt;tt&gt;[keys: &lt;span class=&quot;error&quot;&gt;&amp;#91;&amp;quot;a&amp;quot;,&amp;quot;b&amp;quot;&amp;#93;&lt;/span&gt;&lt;/tt&gt; won&apos;t work because &quot;keys&quot; ends up being parsed to &lt;tt&gt;Column.keys&lt;/tt&gt;. another issue at play is the use of parens to wrap certain key definitions but not others. it doesn&apos;t feel consistent. like, it will work for &lt;tt&gt;T&lt;/tt&gt; values but not for something like &quot;edges&quot; which is just a keyword token. Not sure it&apos;s wrong but it requires some examination.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13567205">TINKERPOP-3047</key>
            <summary>Grammar does not parse keywords into Map keys</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spmallette">Stephen Mallette</assignee>
                                    <reporter username="spmallette">Stephen Mallette</reporter>
                        <labels>
                    </labels>
                <created>Fri, 2 Feb 2024 14:49:52 +0000</created>
                <updated>Thu, 10 Apr 2025 16:47:10 +0000</updated>
                            <resolved>Thu, 10 Apr 2025 16:47:10 +0000</resolved>
                                    <version>3.7.1</version>
                                    <fixVersion>4.0.0</fixVersion>
                    <fixVersion>3.8.0</fixVersion>
                                    <component>language</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17941713" author="githubbot" created="Mon, 7 Apr 2025 20:57:32 +0000"  >&lt;p&gt;spmallette opened a new pull request, #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-3047&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-3047&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Major refactoring to the grammar itself, translators. Removed a few gherkin tests that tested lambdas which weren&apos;t really necessary given they will be reserved for embedded cases. Changed infinity/nan to be able to parse to float.&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17941737" author="githubbot" created="Mon, 7 Apr 2025 23:43:38 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2032156851&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2032156851&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/java/org/apache/tinkerpop/gremlin/language/corpus/GrammarReader.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,63 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ * &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.tinkerpop.gremlin.language.corpus;&lt;br/&gt;
+&lt;br/&gt;
+import java.io.IOException;&lt;br/&gt;
+import java.nio.charset.StandardCharsets;&lt;br/&gt;
+import java.nio.file.Files;&lt;br/&gt;
+import java.nio.file.Path;&lt;br/&gt;
+import java.nio.file.Paths;&lt;br/&gt;
+import java.util.LinkedHashSet;&lt;br/&gt;
+import java.util.List;&lt;br/&gt;
+import java.util.Set;&lt;br/&gt;
+import java.util.regex.Matcher;&lt;br/&gt;
+import java.util.regex.Pattern;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Reads ANTLR grammar file to extract Gremlin keyword string representations.&lt;br/&gt;
+ */&lt;br/&gt;
+public class GrammarReader {&lt;br/&gt;
+&lt;br/&gt;
+    // Pattern to match token definitions like: TADDALL: &apos;addAll&apos;;&lt;br/&gt;
+    private static final Pattern tokenPattern = Pattern.compile(&quot;T&lt;span class=&quot;error&quot;&gt;&amp;#91;A-Z0-9_&amp;#93;&lt;/span&gt;&lt;ins&gt;:\\s*&apos;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^&amp;#39;&amp;#93;&lt;/span&gt;&lt;/ins&gt;)&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;s*;&quot;);&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Is this meant to match the new keyword tokens? Should it be updated to &lt;br/&gt;
   ```suggestion&lt;br/&gt;
       private static final Pattern tokenPattern = Pattern.compile(&quot;K_&lt;span class=&quot;error&quot;&gt;&amp;#91;A-Z0-9_&amp;#93;&lt;/span&gt;&lt;ins&gt;:\\s*&apos;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^&amp;#39;&amp;#93;&lt;/span&gt;&lt;/ins&gt;)&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;s*;&quot;);&lt;br/&gt;
   ```&lt;/p&gt;


</comment>
                            <comment id="17941739" author="githubbot" created="Tue, 8 Apr 2025 00:09:51 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2032174244&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2032174244&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/java/org/apache/tinkerpop/gremlin/language/corpus/GrammarReader.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,63 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ * &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.tinkerpop.gremlin.language.corpus;&lt;br/&gt;
+&lt;br/&gt;
+import java.io.IOException;&lt;br/&gt;
+import java.nio.charset.StandardCharsets;&lt;br/&gt;
+import java.nio.file.Files;&lt;br/&gt;
+import java.nio.file.Path;&lt;br/&gt;
+import java.nio.file.Paths;&lt;br/&gt;
+import java.util.LinkedHashSet;&lt;br/&gt;
+import java.util.List;&lt;br/&gt;
+import java.util.Set;&lt;br/&gt;
+import java.util.regex.Matcher;&lt;br/&gt;
+import java.util.regex.Pattern;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Reads ANTLR grammar file to extract Gremlin keyword string representations.&lt;br/&gt;
+ */&lt;br/&gt;
+public class GrammarReader {&lt;br/&gt;
+&lt;br/&gt;
+    // Pattern to match token definitions like: TADDALL: &apos;addAll&apos;;&lt;br/&gt;
+    private static final Pattern tokenPattern = Pattern.compile(&quot;T&lt;span class=&quot;error&quot;&gt;&amp;#91;A-Z0-9_&amp;#93;&lt;/span&gt;&lt;ins&gt;:\\s*&apos;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^&amp;#39;&amp;#93;&lt;/span&gt;&lt;/ins&gt;)&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;s*;&quot;);&lt;br/&gt;
+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Parse a grammar file to extract all keyword string representations.&lt;br/&gt;
+     *&lt;br/&gt;
+     * @param grammarFilePath The path to the ANTLR grammar file&lt;br/&gt;
+     * @return A set of keyword string representations&lt;br/&gt;
+     * @throws IOException If there&apos;s an error reading the file&lt;br/&gt;
+     */&lt;br/&gt;
+    public static Set&amp;lt;String&amp;gt; parse(final String grammarFilePath) throws IOException {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   I&apos;m not entirely sure on the purpose of this method yet, but I&apos;m worried that the regex-based approach may be fragile if there are any keyword definitions in the grammar which are split over multiple lines. If the goal is simply to obtain a list of all keyword tokens from the grammar, it may be more robust to parse this out of the gremlin-language generated sources such as `gremlin-language/target/generated-sources/antlr4/org/apache/tinkerpop/gremlin/language/grammar/Gremlin.tokens`.&lt;/p&gt;


</comment>
                            <comment id="17941870" author="githubbot" created="Tue, 8 Apr 2025 12:24:25 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033077271&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033077271&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/java/org/apache/tinkerpop/gremlin/language/corpus/GrammarReader.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,63 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ * &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.tinkerpop.gremlin.language.corpus;&lt;br/&gt;
+&lt;br/&gt;
+import java.io.IOException;&lt;br/&gt;
+import java.nio.charset.StandardCharsets;&lt;br/&gt;
+import java.nio.file.Files;&lt;br/&gt;
+import java.nio.file.Path;&lt;br/&gt;
+import java.nio.file.Paths;&lt;br/&gt;
+import java.util.LinkedHashSet;&lt;br/&gt;
+import java.util.List;&lt;br/&gt;
+import java.util.Set;&lt;br/&gt;
+import java.util.regex.Matcher;&lt;br/&gt;
+import java.util.regex.Pattern;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Reads ANTLR grammar file to extract Gremlin keyword string representations.&lt;br/&gt;
+ */&lt;br/&gt;
+public class GrammarReader {&lt;br/&gt;
+&lt;br/&gt;
+    // Pattern to match token definitions like: TADDALL: &apos;addAll&apos;;&lt;br/&gt;
+    private static final Pattern tokenPattern = Pattern.compile(&quot;T&lt;span class=&quot;error&quot;&gt;&amp;#91;A-Z0-9_&amp;#93;&lt;/span&gt;&lt;ins&gt;:\\s*&apos;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^&amp;#39;&amp;#93;&lt;/span&gt;&lt;/ins&gt;)&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;s*;&quot;);&lt;br/&gt;
+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Parse a grammar file to extract all keyword string representations.&lt;br/&gt;
+     *&lt;br/&gt;
+     * @param grammarFilePath The path to the ANTLR grammar file&lt;br/&gt;
+     * @return A set of keyword string representations&lt;br/&gt;
+     * @throws IOException If there&apos;s an error reading the file&lt;br/&gt;
+     */&lt;br/&gt;
+    public static Set&amp;lt;String&amp;gt; parse(final String grammarFilePath) throws IOException {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   what would be an example of a a keyword split over multiple lines?&lt;/p&gt;


</comment>
                            <comment id="17941872" author="githubbot" created="Tue, 8 Apr 2025 12:25:20 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033078798&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033078798&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/java/org/apache/tinkerpop/gremlin/language/corpus/GrammarReader.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,63 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ * &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.tinkerpop.gremlin.language.corpus;&lt;br/&gt;
+&lt;br/&gt;
+import java.io.IOException;&lt;br/&gt;
+import java.nio.charset.StandardCharsets;&lt;br/&gt;
+import java.nio.file.Files;&lt;br/&gt;
+import java.nio.file.Path;&lt;br/&gt;
+import java.nio.file.Paths;&lt;br/&gt;
+import java.util.LinkedHashSet;&lt;br/&gt;
+import java.util.List;&lt;br/&gt;
+import java.util.Set;&lt;br/&gt;
+import java.util.regex.Matcher;&lt;br/&gt;
+import java.util.regex.Pattern;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Reads ANTLR grammar file to extract Gremlin keyword string representations.&lt;br/&gt;
+ */&lt;br/&gt;
+public class GrammarReader {&lt;br/&gt;
+&lt;br/&gt;
+    // Pattern to match token definitions like: TADDALL: &apos;addAll&apos;;&lt;br/&gt;
+    private static final Pattern tokenPattern = Pattern.compile(&quot;T&lt;span class=&quot;error&quot;&gt;&amp;#91;A-Z0-9_&amp;#93;&lt;/span&gt;&lt;ins&gt;:\\s*&apos;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^&amp;#39;&amp;#93;&lt;/span&gt;&lt;/ins&gt;)&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;s*;&quot;);&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   good find - glad you took an interest in that test. i added some better asserts to try to catch future issues like that.&lt;/p&gt;


</comment>
                            <comment id="17941954" author="githubbot" created="Tue, 8 Apr 2025 17:19:38 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033694455&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033694455&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/java/org/apache/tinkerpop/gremlin/language/corpus/GrammarReader.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,63 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ * &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.tinkerpop.gremlin.language.corpus;&lt;br/&gt;
+&lt;br/&gt;
+import java.io.IOException;&lt;br/&gt;
+import java.nio.charset.StandardCharsets;&lt;br/&gt;
+import java.nio.file.Files;&lt;br/&gt;
+import java.nio.file.Path;&lt;br/&gt;
+import java.nio.file.Paths;&lt;br/&gt;
+import java.util.LinkedHashSet;&lt;br/&gt;
+import java.util.List;&lt;br/&gt;
+import java.util.Set;&lt;br/&gt;
+import java.util.regex.Matcher;&lt;br/&gt;
+import java.util.regex.Pattern;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Reads ANTLR grammar file to extract Gremlin keyword string representations.&lt;br/&gt;
+ */&lt;br/&gt;
+public class GrammarReader {&lt;br/&gt;
+&lt;br/&gt;
+    // Pattern to match token definitions like: TADDALL: &apos;addAll&apos;;&lt;br/&gt;
+    private static final Pattern tokenPattern = Pattern.compile(&quot;T&lt;span class=&quot;error&quot;&gt;&amp;#91;A-Z0-9_&amp;#93;&lt;/span&gt;&lt;ins&gt;:\\s*&apos;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^&amp;#39;&amp;#93;&lt;/span&gt;&lt;/ins&gt;)&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;s*;&quot;);&lt;br/&gt;
+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Parse a grammar file to extract all keyword string representations.&lt;br/&gt;
+     *&lt;br/&gt;
+     * @param grammarFilePath The path to the ANTLR grammar file&lt;br/&gt;
+     * @return A set of keyword string representations&lt;br/&gt;
+     * @throws IOException If there&apos;s an error reading the file&lt;br/&gt;
+     */&lt;br/&gt;
+    public static Set&amp;lt;String&amp;gt; parse(final String grammarFilePath) throws IOException {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Just something like this:&lt;br/&gt;
   ```&lt;br/&gt;
   K_ALL&lt;br/&gt;
       : &apos;all&apos;&lt;br/&gt;
       ;&lt;br/&gt;
   ```&lt;br/&gt;
   It&apos;s a bit odd to break such a short definition over multiple lines but it is completely valid antlr syntax.&lt;/p&gt;


</comment>
                            <comment id="17941955" author="githubbot" created="Tue, 8 Apr 2025 17:25:33 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033706074&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033706074&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-test/src/main/resources/org/apache/tinkerpop/gremlin/test/features/map/Order.feature:&lt;br/&gt;
##########&lt;br/&gt;
@@ -34,24 +34,6 @@ Feature: Step - order()&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ripple &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; vadas  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Scenario: g_V_name_order_byXa1_b1X_byXb2_a2X&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Were these scenarios removed because of an issue with the lambda? Was there something about the changes in this PR which causes them to fail where they previously passed?&lt;/p&gt;


</comment>
                            <comment id="17941968" author="githubbot" created="Tue, 8 Apr 2025 18:18:08 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033793442&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033793442&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -22,6 +22,12 @@ grammar Gremlin;&lt;br/&gt;
     PARSER RULES&lt;br/&gt;
 **********************************************/&lt;/p&gt;

&lt;p&gt;+gremlinValue&lt;br/&gt;
+    : (numericLiteral | booleanLiteral | stringLiteral | dateLiteral | nullLiteral | nanLiteral | infLiteral |&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   `nanLiteral` and `infLiteral` are now captured by `numericLiteral`&lt;br/&gt;
   ```suggestion&lt;br/&gt;
       : (numericLiteral | booleanLiteral | stringLiteral | dateLiteral | nullLiteral |&lt;br/&gt;
   ```&lt;/p&gt;


</comment>
                            <comment id="17941969" author="githubbot" created="Tue, 8 Apr 2025 18:21:51 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033798312&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033798312&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -22,6 +22,12 @@ grammar Gremlin;&lt;br/&gt;
     PARSER RULES&lt;br/&gt;
 **********************************************/&lt;/p&gt;

&lt;p&gt;+gremlinValue&lt;br/&gt;
+    : (numericLiteral | booleanLiteral | stringLiteral | dateLiteral | nullLiteral | nanLiteral | infLiteral |&lt;br/&gt;
+       traversalT | traversalCardinality | traversalDirection | traversalMerge |&lt;br/&gt;
+       structureVertex | genericLiteralSet | genericLiteralCollection | genericLiteralMap) EOF&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   I&apos;m wondering if we need some sort of `gremlinValueSet`, `gremlinValueCollection`, and `gremlinValueMap`. It&apos;s a bit weird that `DT.hour` is not a valid gremlinValue, but `&lt;span class=&quot;error&quot;&gt;&amp;#91;DT.hour&amp;#93;&lt;/span&gt;` is a gremlinValue.&lt;/p&gt;


</comment>
                            <comment id="17941972" author="githubbot" created="Tue, 8 Apr 2025 18:23:18 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033798312&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033798312&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -22,6 +22,12 @@ grammar Gremlin;&lt;br/&gt;
     PARSER RULES&lt;br/&gt;
 **********************************************/&lt;/p&gt;

&lt;p&gt;+gremlinValue&lt;br/&gt;
+    : (numericLiteral | booleanLiteral | stringLiteral | dateLiteral | nullLiteral | nanLiteral | infLiteral |&lt;br/&gt;
+       traversalT | traversalCardinality | traversalDirection | traversalMerge |&lt;br/&gt;
+       structureVertex | genericLiteralSet | genericLiteralCollection | genericLiteralMap) EOF&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   I&apos;m wondering if we need some sort of `gremlinValueSet`, `gremlinValueCollection`, and `gremlinValueMap`. It&apos;s a bit weird that `DT.hour` is not a valid gremlinValue, but `&lt;span class=&quot;error&quot;&gt;&amp;#91;DT.hour&amp;#93;&lt;/span&gt;` is a gremlinValue. Further, these collection types currently allow `nestedTraversal` and `terminatedTraversal` to leak into `gremlinValue` which I assume is not desired.&lt;/p&gt;


</comment>
                            <comment id="17941979" author="githubbot" created="Tue, 8 Apr 2025 18:38:55 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033829193&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033829193&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/java/org/apache/tinkerpop/gremlin/language/corpus/GrammarReader.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,63 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ * &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.tinkerpop.gremlin.language.corpus;&lt;br/&gt;
+&lt;br/&gt;
+import java.io.IOException;&lt;br/&gt;
+import java.nio.charset.StandardCharsets;&lt;br/&gt;
+import java.nio.file.Files;&lt;br/&gt;
+import java.nio.file.Path;&lt;br/&gt;
+import java.nio.file.Paths;&lt;br/&gt;
+import java.util.LinkedHashSet;&lt;br/&gt;
+import java.util.List;&lt;br/&gt;
+import java.util.Set;&lt;br/&gt;
+import java.util.regex.Matcher;&lt;br/&gt;
+import java.util.regex.Pattern;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * Reads ANTLR grammar file to extract Gremlin keyword string representations.&lt;br/&gt;
+ */&lt;br/&gt;
+public class GrammarReader {&lt;br/&gt;
+&lt;br/&gt;
+    // Pattern to match token definitions like: TADDALL: &apos;addAll&apos;;&lt;br/&gt;
+    private static final Pattern tokenPattern = Pattern.compile(&quot;T&lt;span class=&quot;error&quot;&gt;&amp;#91;A-Z0-9_&amp;#93;&lt;/span&gt;&lt;ins&gt;:\\s*&apos;(&lt;span class=&quot;error&quot;&gt;&amp;#91;^&amp;#39;&amp;#93;&lt;/span&gt;&lt;/ins&gt;)&apos;&lt;br class=&quot;atl-forced-newline&quot; /&gt;s*;&quot;);&lt;br/&gt;
+&lt;br/&gt;
+    /**&lt;br/&gt;
+     * Parse a grammar file to extract all keyword string representations.&lt;br/&gt;
+     *&lt;br/&gt;
+     * @param grammarFilePath The path to the ANTLR grammar file&lt;br/&gt;
+     * @return A set of keyword string representations&lt;br/&gt;
+     * @throws IOException If there&apos;s an error reading the file&lt;br/&gt;
+     */&lt;br/&gt;
+    public static Set&amp;lt;String&amp;gt; parse(final String grammarFilePath) throws IOException {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   oh....we shouldn&apos;t do that &#128578;  i was shooting for just some basic good faith testing here rather than complete coverage. i cant say i feel like we need the latter for this.&lt;/p&gt;


</comment>
                            <comment id="17941980" author="githubbot" created="Tue, 8 Apr 2025 18:41:10 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033832236&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033832236&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-test/src/main/resources/org/apache/tinkerpop/gremlin/test/features/map/Order.feature:&lt;br/&gt;
##########&lt;br/&gt;
@@ -34,24 +34,6 @@ Feature: Step - order()&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; ripple &lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; vadas  &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Scenario: g_V_name_order_byXa1_b1X_byXb2_a2X&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   removed for lambdas. given &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-3136&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-3136&lt;/a&gt; it was more trouble to figure out the problem than to just get a head start on that issue. these tests already exist in embedded.&lt;/p&gt;


</comment>
                            <comment id="17941989" author="githubbot" created="Tue, 8 Apr 2025 20:03:32 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033939903&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033939903&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/java/org/apache/tinkerpop/gremlin/language/grammar/ReferenceGrammarTest.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -48,6 +52,7 @@&lt;br/&gt;
 public class ReferenceGrammarTest extends AbstractGrammarTest {&lt;br/&gt;
     private static final String featureDir = Paths.get(&quot;..&quot;, &quot;gremlin-test&quot;, &quot;src&quot;, &quot;main&quot;, &quot;resources&quot;, &quot;org&quot;, &quot;apache&quot;, &quot;tinkerpop&quot;, &quot;gremlin&quot;, &quot;test&quot;, &quot;features&quot;).toString();&lt;br/&gt;
     private static final String docsDir = Paths.get(&quot;..&quot;, &quot;docs&quot;, &quot;src&quot;).toString();&lt;br/&gt;
+    private static final String grammarFile = Paths.get(&quot;src&quot;, &quot;main&quot;, &quot;antlr4&quot;,&quot;Gremlin.g4&quot;).toString();&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   This appears to be unused&lt;/p&gt;


</comment>
                            <comment id="17941991" author="githubbot" created="Tue, 8 Apr 2025 20:18:49 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033958043&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033958043&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/java/org/apache/tinkerpop/gremlin/language/grammar/ReferenceGrammarTest.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -89,29 +94,73 @@ public class ReferenceGrammarTest extends AbstractGrammarTest {&lt;br/&gt;
     }};&lt;/p&gt;

&lt;p&gt;     @Parameterized.Parameters(name = &quot;&lt;/p&gt;
{0}
&lt;p&gt;&quot;)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static Iterable&amp;lt;String&amp;gt; queries() throws IOException {&lt;/li&gt;
	&lt;li&gt;final Set&amp;lt;String&amp;gt; gremlins = new LinkedHashSet&amp;lt;&amp;gt;(DocumentationReader.parse(docsDir));&lt;/li&gt;
	&lt;li&gt;gremlins.addAll(FeatureReader.parseGrouped(featureDir, stringMatcherConverters).values().stream().flatMap(Collection::stream).collect(Collectors.toList()));&lt;/li&gt;
	&lt;li&gt;return gremlins;&lt;br/&gt;
+    public static Iterable&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; parseTestItems() throws IOException {&lt;br/&gt;
+        // gremlin scripts from docs&lt;br/&gt;
+        final Set&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; scripts = DocumentationReader.parse(docsDir).&lt;br/&gt;
+                stream().map(g -&amp;gt; Pair.with(g, ParserRule.QUERY_LIST)).&lt;br/&gt;
+                collect(Collectors.toCollection(LinkedHashSet::new));&lt;br/&gt;
+&lt;br/&gt;
+        // helps make sure we&apos;re actually adding test scripts for each load. there are well over 500 gremlin&lt;br/&gt;
+        // examples in the docs so we should have at least that much&lt;br/&gt;
+        int size = scripts.size();&lt;br/&gt;
+        assert size &amp;gt; 500;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Nit: Is there a reason to prefer Java assertions over JUnit assertions?&lt;/p&gt;


</comment>
                            <comment id="17941992" author="githubbot" created="Tue, 8 Apr 2025 20:19:20 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033958811&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033958811&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/java/org/apache/tinkerpop/gremlin/language/grammar/ReferenceGrammarTest.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -89,29 +94,73 @@ public class ReferenceGrammarTest extends AbstractGrammarTest {&lt;br/&gt;
     }};&lt;/p&gt;

&lt;p&gt;     @Parameterized.Parameters(name = &quot;&lt;/p&gt;
{0}
&lt;p&gt;&quot;)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static Iterable&amp;lt;String&amp;gt; queries() throws IOException {&lt;/li&gt;
	&lt;li&gt;final Set&amp;lt;String&amp;gt; gremlins = new LinkedHashSet&amp;lt;&amp;gt;(DocumentationReader.parse(docsDir));&lt;/li&gt;
	&lt;li&gt;gremlins.addAll(FeatureReader.parseGrouped(featureDir, stringMatcherConverters).values().stream().flatMap(Collection::stream).collect(Collectors.toList()));&lt;/li&gt;
	&lt;li&gt;return gremlins;&lt;br/&gt;
+    public static Iterable&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; parseTestItems() throws IOException {&lt;br/&gt;
+        // gremlin scripts from docs&lt;br/&gt;
+        final Set&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; scripts = DocumentationReader.parse(docsDir).&lt;br/&gt;
+                stream().map(g -&amp;gt; Pair.with(g, ParserRule.QUERY_LIST)).&lt;br/&gt;
+                collect(Collectors.toCollection(LinkedHashSet::new));&lt;br/&gt;
+&lt;br/&gt;
+        // helps make sure we&apos;re actually adding test scripts for each load. there are well over 500 gremlin&lt;br/&gt;
+        // examples in the docs so we should have at least that much&lt;br/&gt;
+        int size = scripts.size();&lt;br/&gt;
+        assert size &amp;gt; 500;&lt;br/&gt;
+&lt;br/&gt;
+        // gremlin scripts from feature tests&lt;br/&gt;
+        scripts.addAll(FeatureReader.parseGrouped(featureDir, stringMatcherConverters).values().stream().&lt;br/&gt;
+                flatMap(Collection::stream).&lt;br/&gt;
+                map(g -&amp;gt; Pair.with(g, ParserRule.QUERY_LIST)).&lt;br/&gt;
+                collect(Collectors.toList()));&lt;br/&gt;
+&lt;br/&gt;
+        // there are well over 1000 tests so make sure we parsed something sensible&lt;br/&gt;
+        assert size &amp;lt; scripts.size() + 1000;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   ```suggestion&lt;br/&gt;
           assert size + 1000 &amp;lt; scripts.size();&lt;br/&gt;
   ```&lt;/p&gt;


</comment>
                            <comment id="17941995" author="githubbot" created="Tue, 8 Apr 2025 20:28:40 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033971474&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033971474&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/java/org/apache/tinkerpop/gremlin/language/grammar/ReferenceGrammarTest.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -89,29 +94,73 @@ public class ReferenceGrammarTest extends AbstractGrammarTest {&lt;br/&gt;
     }};&lt;/p&gt;

&lt;p&gt;     @Parameterized.Parameters(name = &quot;&lt;/p&gt;
{0}
&lt;p&gt;&quot;)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static Iterable&amp;lt;String&amp;gt; queries() throws IOException {&lt;/li&gt;
	&lt;li&gt;final Set&amp;lt;String&amp;gt; gremlins = new LinkedHashSet&amp;lt;&amp;gt;(DocumentationReader.parse(docsDir));&lt;/li&gt;
	&lt;li&gt;gremlins.addAll(FeatureReader.parseGrouped(featureDir, stringMatcherConverters).values().stream().flatMap(Collection::stream).collect(Collectors.toList()));&lt;/li&gt;
	&lt;li&gt;return gremlins;&lt;br/&gt;
+    public static Iterable&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; parseTestItems() throws IOException {&lt;br/&gt;
+        // gremlin scripts from docs&lt;br/&gt;
+        final Set&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; scripts = DocumentationReader.parse(docsDir).&lt;br/&gt;
+                stream().map(g -&amp;gt; Pair.with(g, ParserRule.QUERY_LIST)).&lt;br/&gt;
+                collect(Collectors.toCollection(LinkedHashSet::new));&lt;br/&gt;
+&lt;br/&gt;
+        // helps make sure we&apos;re actually adding test scripts for each load. there are well over 500 gremlin&lt;br/&gt;
+        // examples in the docs so we should have at least that much&lt;br/&gt;
+        int size = scripts.size();&lt;br/&gt;
+        assert size &amp;gt; 500;&lt;br/&gt;
+&lt;br/&gt;
+        // gremlin scripts from feature tests&lt;br/&gt;
+        scripts.addAll(FeatureReader.parseGrouped(featureDir, stringMatcherConverters).values().stream().&lt;br/&gt;
+                flatMap(Collection::stream).&lt;br/&gt;
+                map(g -&amp;gt; Pair.with(g, ParserRule.QUERY_LIST)).&lt;br/&gt;
+                collect(Collectors.toList()));&lt;br/&gt;
+&lt;br/&gt;
+        // there are well over 1000 tests so make sure we parsed something sensible&lt;br/&gt;
+        assert size &amp;lt; scripts.size() + 1000;&lt;br/&gt;
+        size = scripts.size();&lt;br/&gt;
+&lt;br/&gt;
+        // validate that every keyword is parseable as a map key&lt;br/&gt;
+        scripts.addAll(GrammarReader.parse(&quot;src/main/antlr4/Gremlin.g4&quot;).stream().&lt;br/&gt;
+                map(g -&amp;gt; Pair.with(String.format(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;%s:123&amp;#93;&lt;/span&gt;&quot;, g), ParserRule.GREMLIN_VALUE)).&lt;br/&gt;
+                collect(Collectors.toList()));&lt;br/&gt;
+&lt;br/&gt;
+        // there have to be at least 200 tokens parsed from the grammar. just picked a big number to help validate&lt;br/&gt;
+        // that the GrammarReader is doing smart things.&lt;br/&gt;
+        assert size &amp;lt; scripts.size() + 200;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   ```suggestion&lt;br/&gt;
           assert size +200 &amp;lt; scripts.size();&lt;br/&gt;
   ```&lt;/p&gt;


</comment>
                            <comment id="17941996" author="githubbot" created="Tue, 8 Apr 2025 20:28:55 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033971474&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033971474&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/java/org/apache/tinkerpop/gremlin/language/grammar/ReferenceGrammarTest.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -89,29 +94,73 @@ public class ReferenceGrammarTest extends AbstractGrammarTest {&lt;br/&gt;
     }};&lt;/p&gt;

&lt;p&gt;     @Parameterized.Parameters(name = &quot;&lt;/p&gt;
{0}
&lt;p&gt;&quot;)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static Iterable&amp;lt;String&amp;gt; queries() throws IOException {&lt;/li&gt;
	&lt;li&gt;final Set&amp;lt;String&amp;gt; gremlins = new LinkedHashSet&amp;lt;&amp;gt;(DocumentationReader.parse(docsDir));&lt;/li&gt;
	&lt;li&gt;gremlins.addAll(FeatureReader.parseGrouped(featureDir, stringMatcherConverters).values().stream().flatMap(Collection::stream).collect(Collectors.toList()));&lt;/li&gt;
	&lt;li&gt;return gremlins;&lt;br/&gt;
+    public static Iterable&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; parseTestItems() throws IOException {&lt;br/&gt;
+        // gremlin scripts from docs&lt;br/&gt;
+        final Set&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; scripts = DocumentationReader.parse(docsDir).&lt;br/&gt;
+                stream().map(g -&amp;gt; Pair.with(g, ParserRule.QUERY_LIST)).&lt;br/&gt;
+                collect(Collectors.toCollection(LinkedHashSet::new));&lt;br/&gt;
+&lt;br/&gt;
+        // helps make sure we&apos;re actually adding test scripts for each load. there are well over 500 gremlin&lt;br/&gt;
+        // examples in the docs so we should have at least that much&lt;br/&gt;
+        int size = scripts.size();&lt;br/&gt;
+        assert size &amp;gt; 500;&lt;br/&gt;
+&lt;br/&gt;
+        // gremlin scripts from feature tests&lt;br/&gt;
+        scripts.addAll(FeatureReader.parseGrouped(featureDir, stringMatcherConverters).values().stream().&lt;br/&gt;
+                flatMap(Collection::stream).&lt;br/&gt;
+                map(g -&amp;gt; Pair.with(g, ParserRule.QUERY_LIST)).&lt;br/&gt;
+                collect(Collectors.toList()));&lt;br/&gt;
+&lt;br/&gt;
+        // there are well over 1000 tests so make sure we parsed something sensible&lt;br/&gt;
+        assert size &amp;lt; scripts.size() + 1000;&lt;br/&gt;
+        size = scripts.size();&lt;br/&gt;
+&lt;br/&gt;
+        // validate that every keyword is parseable as a map key&lt;br/&gt;
+        scripts.addAll(GrammarReader.parse(&quot;src/main/antlr4/Gremlin.g4&quot;).stream().&lt;br/&gt;
+                map(g -&amp;gt; Pair.with(String.format(&quot;&lt;span class=&quot;error&quot;&gt;&amp;#91;%s:123&amp;#93;&lt;/span&gt;&quot;, g), ParserRule.GREMLIN_VALUE)).&lt;br/&gt;
+                collect(Collectors.toList()));&lt;br/&gt;
+&lt;br/&gt;
+        // there have to be at least 200 tokens parsed from the grammar. just picked a big number to help validate&lt;br/&gt;
+        // that the GrammarReader is doing smart things.&lt;br/&gt;
+        assert size &amp;lt; scripts.size() + 200;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   ```suggestion&lt;br/&gt;
           assert size + 200 &amp;lt; scripts.size();&lt;br/&gt;
   ```&lt;/p&gt;


</comment>
                            <comment id="17941998" author="githubbot" created="Tue, 8 Apr 2025 20:34:51 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033980029&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033980029&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/java/org/apache/tinkerpop/gremlin/language/grammar/ReferenceGrammarTest.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -89,29 +94,73 @@ public class ReferenceGrammarTest extends AbstractGrammarTest {&lt;br/&gt;
     }};&lt;/p&gt;

&lt;p&gt;     @Parameterized.Parameters(name = &quot;&lt;/p&gt;
{0}
&lt;p&gt;&quot;)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public static Iterable&amp;lt;String&amp;gt; queries() throws IOException {&lt;/li&gt;
	&lt;li&gt;final Set&amp;lt;String&amp;gt; gremlins = new LinkedHashSet&amp;lt;&amp;gt;(DocumentationReader.parse(docsDir));&lt;/li&gt;
	&lt;li&gt;gremlins.addAll(FeatureReader.parseGrouped(featureDir, stringMatcherConverters).values().stream().flatMap(Collection::stream).collect(Collectors.toList()));&lt;/li&gt;
	&lt;li&gt;return gremlins;&lt;br/&gt;
+    public static Iterable&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; parseTestItems() throws IOException {&lt;br/&gt;
+        // gremlin scripts from docs&lt;br/&gt;
+        final Set&amp;lt;Pair&amp;lt;String, ParserRule&amp;gt;&amp;gt; scripts = DocumentationReader.parse(docsDir).&lt;br/&gt;
+                stream().map(g -&amp;gt; Pair.with(g, ParserRule.QUERY_LIST)).&lt;br/&gt;
+                collect(Collectors.toCollection(LinkedHashSet::new));&lt;br/&gt;
+&lt;br/&gt;
+        // helps make sure we&apos;re actually adding test scripts for each load. there are well over 500 gremlin&lt;br/&gt;
+        // examples in the docs so we should have at least that much&lt;br/&gt;
+        int size = scripts.size();&lt;br/&gt;
+        assert size &amp;gt; 500;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   yep - making sure scripts increment in size is not what this test is about.  the java asserts simply validate that our test is setup as we expect it to be.&lt;/p&gt;


</comment>
                            <comment id="17941999" author="githubbot" created="Tue, 8 Apr 2025 20:37:51 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033983487&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033983487&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/resources/gremlin-values.txt:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,419 @@&lt;br/&gt;
+# numericLiteral&lt;br/&gt;
+0&lt;br/&gt;
+1&lt;br/&gt;
+123&lt;br/&gt;
+9999&lt;br/&gt;
++1&lt;br/&gt;
+-1&lt;br/&gt;
++123&lt;br/&gt;
+-123&lt;br/&gt;
+1_000&lt;br/&gt;
+1_000_000&lt;br/&gt;
+123L&lt;br/&gt;
+123l&lt;br/&gt;
+123B&lt;br/&gt;
+123b&lt;br/&gt;
+123S&lt;br/&gt;
+123s&lt;br/&gt;
+123N&lt;br/&gt;
+123n&lt;br/&gt;
+123I&lt;br/&gt;
+123i&lt;br/&gt;
+-123L&lt;br/&gt;
++456S&lt;br/&gt;
+-789b&lt;br/&gt;
+0x0&lt;br/&gt;
+0x1&lt;br/&gt;
+0xA&lt;br/&gt;
+0xFF&lt;br/&gt;
+0x123ABC&lt;br/&gt;
++0x123&lt;br/&gt;
+-0x456&lt;br/&gt;
+0x1_FF&lt;br/&gt;
+0xABCl&lt;br/&gt;
+0xDEFi&lt;br/&gt;
+0x123&lt;br/&gt;
+0X123&lt;br/&gt;
+00&lt;br/&gt;
+01&lt;br/&gt;
+07&lt;br/&gt;
+0123&lt;br/&gt;
++0123&lt;br/&gt;
+-0456&lt;br/&gt;
+0123_456&lt;br/&gt;
+0123l&lt;br/&gt;
+0456s&lt;br/&gt;
+0.0&lt;br/&gt;
+1.0&lt;br/&gt;
+123.456&lt;br/&gt;
++1.0&lt;br/&gt;
+-1.0&lt;br/&gt;
++123.456&lt;br/&gt;
+-123.456&lt;br/&gt;
+1e2&lt;br/&gt;
+1.0e2&lt;br/&gt;
+1e+2&lt;br/&gt;
+1e-2&lt;br/&gt;
+1.23e45&lt;br/&gt;
++1.23e45&lt;br/&gt;
+-1.23e45&lt;br/&gt;
++1.23e+45&lt;br/&gt;
+-1.23e-45&lt;br/&gt;
+1.0f&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   This isn&apos;t directly related to the changes here but I just noticed that something like `.5f` is not parseable as a floatLiteral in the grammar. That&apos;s another subtle difference from groovy.&lt;/p&gt;


</comment>
                            <comment id="17942000" author="githubbot" created="Tue, 8 Apr 2025 20:41:03 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033989389&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033989389&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/resources/gremlin-values.txt:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,419 @@&lt;br/&gt;
+# numericLiteral&lt;br/&gt;
+0&lt;br/&gt;
+1&lt;br/&gt;
+123&lt;br/&gt;
+9999&lt;br/&gt;
++1&lt;br/&gt;
+-1&lt;br/&gt;
++123&lt;br/&gt;
+-123&lt;br/&gt;
+1_000&lt;br/&gt;
+1_000_000&lt;br/&gt;
+123L&lt;br/&gt;
+123l&lt;br/&gt;
+123B&lt;br/&gt;
+123b&lt;br/&gt;
+123S&lt;br/&gt;
+123s&lt;br/&gt;
+123N&lt;br/&gt;
+123n&lt;br/&gt;
+123I&lt;br/&gt;
+123i&lt;br/&gt;
+-123L&lt;br/&gt;
++456S&lt;br/&gt;
+-789b&lt;br/&gt;
+0x0&lt;br/&gt;
+0x1&lt;br/&gt;
+0xA&lt;br/&gt;
+0xFF&lt;br/&gt;
+0x123ABC&lt;br/&gt;
++0x123&lt;br/&gt;
+-0x456&lt;br/&gt;
+0x1_FF&lt;br/&gt;
+0xABCl&lt;br/&gt;
+0xDEFi&lt;br/&gt;
+0x123&lt;br/&gt;
+0X123&lt;br/&gt;
+00&lt;br/&gt;
+01&lt;br/&gt;
+07&lt;br/&gt;
+0123&lt;br/&gt;
++0123&lt;br/&gt;
+-0456&lt;br/&gt;
+0123_456&lt;br/&gt;
+0123l&lt;br/&gt;
+0456s&lt;br/&gt;
+0.0&lt;br/&gt;
+1.0&lt;br/&gt;
+123.456&lt;br/&gt;
++1.0&lt;br/&gt;
+-1.0&lt;br/&gt;
++123.456&lt;br/&gt;
+-123.456&lt;br/&gt;
+1e2&lt;br/&gt;
+1.0e2&lt;br/&gt;
+1e+2&lt;br/&gt;
+1e-2&lt;br/&gt;
+1.23e45&lt;br/&gt;
++1.23e45&lt;br/&gt;
+-1.23e45&lt;br/&gt;
++1.23e+45&lt;br/&gt;
+-1.23e-45&lt;br/&gt;
+1.0f&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   probably should have a JIRA for that i guess.............&lt;/p&gt;


</comment>
                            <comment id="17942001" author="githubbot" created="Tue, 8 Apr 2025 20:41:42 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033991232&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2033991232&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/resources/gremlin-values.txt:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,419 @@&lt;br/&gt;
+# numericLiteral&lt;br/&gt;
+0&lt;br/&gt;
+1&lt;br/&gt;
+123&lt;br/&gt;
+9999&lt;br/&gt;
++1&lt;br/&gt;
+-1&lt;br/&gt;
++123&lt;br/&gt;
+-123&lt;br/&gt;
+1_000&lt;br/&gt;
+1_000_000&lt;br/&gt;
+123L&lt;br/&gt;
+123l&lt;br/&gt;
+123B&lt;br/&gt;
+123b&lt;br/&gt;
+123S&lt;br/&gt;
+123s&lt;br/&gt;
+123N&lt;br/&gt;
+123n&lt;br/&gt;
+123I&lt;br/&gt;
+123i&lt;br/&gt;
+-123L&lt;br/&gt;
++456S&lt;br/&gt;
+-789b&lt;br/&gt;
+0x0&lt;br/&gt;
+0x1&lt;br/&gt;
+0xA&lt;br/&gt;
+0xFF&lt;br/&gt;
+0x123ABC&lt;br/&gt;
++0x123&lt;br/&gt;
+-0x456&lt;br/&gt;
+0x1_FF&lt;br/&gt;
+0xABCl&lt;br/&gt;
+0xDEFi&lt;br/&gt;
+0x123&lt;br/&gt;
+0X123&lt;br/&gt;
+00&lt;br/&gt;
+01&lt;br/&gt;
+07&lt;br/&gt;
+0123&lt;br/&gt;
++0123&lt;br/&gt;
+-0456&lt;br/&gt;
+0123_456&lt;br/&gt;
+0123l&lt;br/&gt;
+0456s&lt;br/&gt;
+0.0&lt;br/&gt;
+1.0&lt;br/&gt;
+123.456&lt;br/&gt;
++1.0&lt;br/&gt;
+-1.0&lt;br/&gt;
++123.456&lt;br/&gt;
+-123.456&lt;br/&gt;
+1e2&lt;br/&gt;
+1.0e2&lt;br/&gt;
+1e+2&lt;br/&gt;
+1e-2&lt;br/&gt;
+1.23e45&lt;br/&gt;
++1.23e45&lt;br/&gt;
+-1.23e45&lt;br/&gt;
++1.23e+45&lt;br/&gt;
+-1.23e-45&lt;br/&gt;
+1.0f&lt;br/&gt;
+1.0F&lt;br/&gt;
+1.0d&lt;br/&gt;
+1.0D&lt;br/&gt;
+1.0m&lt;br/&gt;
+1.0M&lt;br/&gt;
+1_000.5&lt;br/&gt;
+1.234_567&lt;br/&gt;
+1_2.3_4e5_6&lt;br/&gt;
+1e2&lt;br/&gt;
+1E2&lt;br/&gt;
+123f&lt;br/&gt;
+123F&lt;br/&gt;
+123d&lt;br/&gt;
+123D&lt;br/&gt;
+123m&lt;br/&gt;
+123M&lt;br/&gt;
++0&lt;br/&gt;
+-0&lt;br/&gt;
+0.01&lt;br/&gt;
+1.00&lt;br/&gt;
+2147483647&lt;br/&gt;
+-2147483648&lt;br/&gt;
+9999999999&lt;br/&gt;
+0.0000000001&lt;br/&gt;
+# booleanLiteral&lt;br/&gt;
+true&lt;br/&gt;
+false&lt;br/&gt;
+# stringLiteral&lt;br/&gt;
+&quot;&quot;&lt;br/&gt;
+&apos;&apos;&lt;br/&gt;
+&quot;hello&quot;&lt;br/&gt;
+&apos;hello&apos;&lt;br/&gt;
+&quot;hello world&quot;&lt;br/&gt;
+&apos;hello world&apos;&lt;br/&gt;
+&quot;hello\nworld&quot;&lt;br/&gt;
+&apos;hello\nworld&apos;&lt;br/&gt;
+&quot;hello\tworld&quot;&lt;br/&gt;
+&apos;hello\tworld&apos;&lt;br/&gt;
+&quot;hello&lt;br class=&quot;atl-forced-newline&quot; /&gt;world&quot;&lt;br/&gt;
+&apos;hello&lt;br class=&quot;atl-forced-newline&quot; /&gt;world&apos;&lt;br/&gt;
+&quot;hello\&quot;world&quot;&lt;br/&gt;
+&apos;hello\&apos;world&apos;&lt;br/&gt;
+&quot;hello\rworld&quot;&lt;br/&gt;
+&apos;hello\rworld&apos;&lt;br/&gt;
+&quot;hello\fworld&quot;&lt;br/&gt;
+&apos;hello\fworld&apos;&lt;br/&gt;
+&quot;hello\bworld&quot;&lt;br/&gt;
+&apos;hello\bworld&apos;&lt;br/&gt;
+&quot;hello\123world&quot;&lt;br/&gt;
+&apos;hello\123world&apos;&lt;br/&gt;
+&quot;hello\0world&quot;&lt;br/&gt;
+&apos;hello\0world&apos;&lt;br/&gt;
+&quot;hello\07world&quot;&lt;br/&gt;
+&apos;hello\07world&apos;&lt;br/&gt;
+&quot;hello\377world&quot;&lt;br/&gt;
+&apos;hello\377world&apos;&lt;br/&gt;
+&quot;hello\u0041world&quot;&lt;br/&gt;
+&apos;hello\u0041world&apos;&lt;br/&gt;
+&quot;hello\uAAAAworld&quot;&lt;br/&gt;
+&apos;hello\uAAAAworld&apos;&lt;br/&gt;
+&quot;!@#$%^&amp;amp;*()&quot;&lt;br/&gt;
+&apos;!@#$%^&amp;amp;*()&apos;&lt;br/&gt;
+&quot;symbols + special chars: &amp;lt;&amp;gt;,.?/&quot;&lt;br/&gt;
+&apos;symbols + special chars: &amp;lt;&amp;gt;,.?/&apos;&lt;br/&gt;
+&quot;mixed 123 abc !@#&quot;&lt;br/&gt;
+&apos;mixed 123 abc !@#&apos;&lt;br/&gt;
+&quot;line1\&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   I&apos;m a bit surprised that this works at all considering ReferenceGrammarTest only parses a single line at a time. This might not be testing as much as it appears.&lt;/p&gt;


</comment>
                            <comment id="17942004" author="githubbot" created="Tue, 8 Apr 2025 20:53:47 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034013750&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034013750&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/resources/gremlin-values.txt:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,419 @@&lt;br/&gt;
+# numericLiteral&lt;br/&gt;
+0&lt;br/&gt;
+1&lt;br/&gt;
+123&lt;br/&gt;
+9999&lt;br/&gt;
++1&lt;br/&gt;
+-1&lt;br/&gt;
++123&lt;br/&gt;
+-123&lt;br/&gt;
+1_000&lt;br/&gt;
+1_000_000&lt;br/&gt;
+123L&lt;br/&gt;
+123l&lt;br/&gt;
+123B&lt;br/&gt;
+123b&lt;br/&gt;
+123S&lt;br/&gt;
+123s&lt;br/&gt;
+123N&lt;br/&gt;
+123n&lt;br/&gt;
+123I&lt;br/&gt;
+123i&lt;br/&gt;
+-123L&lt;br/&gt;
++456S&lt;br/&gt;
+-789b&lt;br/&gt;
+0x0&lt;br/&gt;
+0x1&lt;br/&gt;
+0xA&lt;br/&gt;
+0xFF&lt;br/&gt;
+0x123ABC&lt;br/&gt;
++0x123&lt;br/&gt;
+-0x456&lt;br/&gt;
+0x1_FF&lt;br/&gt;
+0xABCl&lt;br/&gt;
+0xDEFi&lt;br/&gt;
+0x123&lt;br/&gt;
+0X123&lt;br/&gt;
+00&lt;br/&gt;
+01&lt;br/&gt;
+07&lt;br/&gt;
+0123&lt;br/&gt;
++0123&lt;br/&gt;
+-0456&lt;br/&gt;
+0123_456&lt;br/&gt;
+0123l&lt;br/&gt;
+0456s&lt;br/&gt;
+0.0&lt;br/&gt;
+1.0&lt;br/&gt;
+123.456&lt;br/&gt;
++1.0&lt;br/&gt;
+-1.0&lt;br/&gt;
++123.456&lt;br/&gt;
+-123.456&lt;br/&gt;
+1e2&lt;br/&gt;
+1.0e2&lt;br/&gt;
+1e+2&lt;br/&gt;
+1e-2&lt;br/&gt;
+1.23e45&lt;br/&gt;
++1.23e45&lt;br/&gt;
+-1.23e45&lt;br/&gt;
++1.23e+45&lt;br/&gt;
+-1.23e-45&lt;br/&gt;
+1.0f&lt;br/&gt;
+1.0F&lt;br/&gt;
+1.0d&lt;br/&gt;
+1.0D&lt;br/&gt;
+1.0m&lt;br/&gt;
+1.0M&lt;br/&gt;
+1_000.5&lt;br/&gt;
+1.234_567&lt;br/&gt;
+1_2.3_4e5_6&lt;br/&gt;
+1e2&lt;br/&gt;
+1E2&lt;br/&gt;
+123f&lt;br/&gt;
+123F&lt;br/&gt;
+123d&lt;br/&gt;
+123D&lt;br/&gt;
+123m&lt;br/&gt;
+123M&lt;br/&gt;
++0&lt;br/&gt;
+-0&lt;br/&gt;
+0.01&lt;br/&gt;
+1.00&lt;br/&gt;
+2147483647&lt;br/&gt;
+-2147483648&lt;br/&gt;
+9999999999&lt;br/&gt;
+0.0000000001&lt;br/&gt;
+# booleanLiteral&lt;br/&gt;
+true&lt;br/&gt;
+false&lt;br/&gt;
+# stringLiteral&lt;br/&gt;
+&quot;&quot;&lt;br/&gt;
+&apos;&apos;&lt;br/&gt;
+&quot;hello&quot;&lt;br/&gt;
+&apos;hello&apos;&lt;br/&gt;
+&quot;hello world&quot;&lt;br/&gt;
+&apos;hello world&apos;&lt;br/&gt;
+&quot;hello\nworld&quot;&lt;br/&gt;
+&apos;hello\nworld&apos;&lt;br/&gt;
+&quot;hello\tworld&quot;&lt;br/&gt;
+&apos;hello\tworld&apos;&lt;br/&gt;
+&quot;hello&lt;br class=&quot;atl-forced-newline&quot; /&gt;world&quot;&lt;br/&gt;
+&apos;hello&lt;br class=&quot;atl-forced-newline&quot; /&gt;world&apos;&lt;br/&gt;
+&quot;hello\&quot;world&quot;&lt;br/&gt;
+&apos;hello\&apos;world&apos;&lt;br/&gt;
+&quot;hello\rworld&quot;&lt;br/&gt;
+&apos;hello\rworld&apos;&lt;br/&gt;
+&quot;hello\fworld&quot;&lt;br/&gt;
+&apos;hello\fworld&apos;&lt;br/&gt;
+&quot;hello\bworld&quot;&lt;br/&gt;
+&apos;hello\bworld&apos;&lt;br/&gt;
+&quot;hello\123world&quot;&lt;br/&gt;
+&apos;hello\123world&apos;&lt;br/&gt;
+&quot;hello\0world&quot;&lt;br/&gt;
+&apos;hello\0world&apos;&lt;br/&gt;
+&quot;hello\07world&quot;&lt;br/&gt;
+&apos;hello\07world&apos;&lt;br/&gt;
+&quot;hello\377world&quot;&lt;br/&gt;
+&apos;hello\377world&apos;&lt;br/&gt;
+&quot;hello\u0041world&quot;&lt;br/&gt;
+&apos;hello\u0041world&apos;&lt;br/&gt;
+&quot;hello\uAAAAworld&quot;&lt;br/&gt;
+&apos;hello\uAAAAworld&apos;&lt;br/&gt;
+&quot;!@#$%^&amp;amp;*()&quot;&lt;br/&gt;
+&apos;!@#$%^&amp;amp;*()&apos;&lt;br/&gt;
+&quot;symbols + special chars: &amp;lt;&amp;gt;,.?/&quot;&lt;br/&gt;
+&apos;symbols + special chars: &amp;lt;&amp;gt;,.?/&apos;&lt;br/&gt;
+&quot;mixed 123 abc !@#&quot;&lt;br/&gt;
+&apos;mixed 123 abc !@#&apos;&lt;br/&gt;
+&quot;line1\&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   found a bug. there&apos;s some bad data in gremlin-values.txt. cleaning that up.&lt;/p&gt;


</comment>
                            <comment id="17942006" author="githubbot" created="Tue, 8 Apr 2025 21:00:34 +0000"  >&lt;p&gt;Cole-Greer commented on PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2787651853&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2787651853&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   It might be nice to have some (feature?) tests which `T` and `Direction` remain valid map keys and have precedence over string keys. Other enums remain disallowed as map keys which is why those keywords can be interpreted as Strings.&lt;/p&gt;

&lt;p&gt;   Eg:&lt;br/&gt;
   ```&lt;br/&gt;
   &lt;/p&gt;
{label: &quot;foo&quot;}
&lt;p&gt; -&amp;gt; &lt;/p&gt;
{T.label: &quot;foo&quot;}
&lt;p&gt;   &lt;/p&gt;
{local: &quot;foo&quot;}
&lt;p&gt; -&amp;gt; &lt;/p&gt;
{&quot;local&quot;: &quot;foo&quot;}
&lt;p&gt;   ```&lt;/p&gt;

</comment>
                            <comment id="17942014" author="githubbot" created="Tue, 8 Apr 2025 21:52:37 +0000"  >&lt;p&gt;Cole-Greer commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034087205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034087205&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/test/resources/gremlin-values.txt:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,419 @@&lt;br/&gt;
+# numericLiteral&lt;br/&gt;
+0&lt;br/&gt;
+1&lt;br/&gt;
+123&lt;br/&gt;
+9999&lt;br/&gt;
++1&lt;br/&gt;
+-1&lt;br/&gt;
++123&lt;br/&gt;
+-123&lt;br/&gt;
+1_000&lt;br/&gt;
+1_000_000&lt;br/&gt;
+123L&lt;br/&gt;
+123l&lt;br/&gt;
+123B&lt;br/&gt;
+123b&lt;br/&gt;
+123S&lt;br/&gt;
+123s&lt;br/&gt;
+123N&lt;br/&gt;
+123n&lt;br/&gt;
+123I&lt;br/&gt;
+123i&lt;br/&gt;
+-123L&lt;br/&gt;
++456S&lt;br/&gt;
+-789b&lt;br/&gt;
+0x0&lt;br/&gt;
+0x1&lt;br/&gt;
+0xA&lt;br/&gt;
+0xFF&lt;br/&gt;
+0x123ABC&lt;br/&gt;
++0x123&lt;br/&gt;
+-0x456&lt;br/&gt;
+0x1_FF&lt;br/&gt;
+0xABCl&lt;br/&gt;
+0xDEFi&lt;br/&gt;
+0x123&lt;br/&gt;
+0X123&lt;br/&gt;
+00&lt;br/&gt;
+01&lt;br/&gt;
+07&lt;br/&gt;
+0123&lt;br/&gt;
++0123&lt;br/&gt;
+-0456&lt;br/&gt;
+0123_456&lt;br/&gt;
+0123l&lt;br/&gt;
+0456s&lt;br/&gt;
+0.0&lt;br/&gt;
+1.0&lt;br/&gt;
+123.456&lt;br/&gt;
++1.0&lt;br/&gt;
+-1.0&lt;br/&gt;
++123.456&lt;br/&gt;
+-123.456&lt;br/&gt;
+1e2&lt;br/&gt;
+1.0e2&lt;br/&gt;
+1e+2&lt;br/&gt;
+1e-2&lt;br/&gt;
+1.23e45&lt;br/&gt;
++1.23e45&lt;br/&gt;
+-1.23e45&lt;br/&gt;
++1.23e+45&lt;br/&gt;
+-1.23e-45&lt;br/&gt;
+1.0f&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Opened one up. Should be easy to knock out leading up to the next release. &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-3151&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-3151&lt;/a&gt;&lt;/p&gt;


</comment>
                            <comment id="17942024" author="githubbot" created="Tue, 8 Apr 2025 23:12:00 +0000"  >&lt;p&gt;andreachild commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034152078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034152078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -22,6 +22,12 @@ grammar Gremlin;&lt;br/&gt;
     PARSER RULES&lt;br/&gt;
 **********************************************/&lt;/p&gt;

&lt;p&gt;+gremlinValue&lt;br/&gt;
+    : (numericLiteral | booleanLiteral | stringLiteral | dateLiteral | nullLiteral | nanLiteral | infLiteral |&lt;br/&gt;
+       traversalT | traversalCardinality | traversalDirection | traversalMerge |&lt;br/&gt;
+       structureVertex | genericLiteralSet | genericLiteralCollection | genericLiteralMap) EOF&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   What was the deciding factor when choosing what is considered a `gremlinValue`?&lt;/p&gt;


</comment>
                            <comment id="17942026" author="githubbot" created="Tue, 8 Apr 2025 23:24:31 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034160576&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034160576&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -22,6 +22,12 @@ grammar Gremlin;&lt;br/&gt;
     PARSER RULES&lt;br/&gt;
 **********************************************/&lt;/p&gt;

&lt;p&gt;+gremlinValue&lt;br/&gt;
+    : (numericLiteral | booleanLiteral | stringLiteral | dateLiteral | nullLiteral | nanLiteral | infLiteral |&lt;br/&gt;
+       traversalT | traversalCardinality | traversalDirection | traversalMerge |&lt;br/&gt;
+       structureVertex | genericLiteralSet | genericLiteralCollection | genericLiteralMap) EOF&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   anything that could be conceived of as being passed as a parameter. `Traversal` is not one of those things. &lt;/p&gt;


</comment>
                            <comment id="17942028" author="githubbot" created="Tue, 8 Apr 2025 23:44:41 +0000"  >&lt;p&gt;spmallette commented on PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2787882034&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2787882034&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; It might be nice to have some (feature?) tests which T and Direction remain valid map keys and have precedence over string keys. &lt;/p&gt;

&lt;p&gt;   not sure feature tests will work for this. bytecode and the translator will convert/normalize them to the long form so it won&apos;t actually get tested.  might need a new class of pure &quot;script&quot; tests? either that or make a configuration of the translators that will use the short form? JIRA?&lt;/p&gt;

</comment>
                            <comment id="17942031" author="githubbot" created="Tue, 8 Apr 2025 23:52:19 +0000"  >&lt;p&gt;andreachild commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034180141&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034180141&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -22,6 +22,12 @@ grammar Gremlin;&lt;br/&gt;
     PARSER RULES&lt;br/&gt;
 **********************************************/&lt;/p&gt;

&lt;p&gt;+gremlinValue&lt;br/&gt;
+    : (numericLiteral | booleanLiteral | stringLiteral | dateLiteral | nullLiteral | nanLiteral | infLiteral |&lt;br/&gt;
+       traversalT | traversalCardinality | traversalDirection | traversalMerge |&lt;br/&gt;
+       structureVertex | genericLiteralSet | genericLiteralCollection | genericLiteralMap) EOF&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   To exclude traversals and other non-paramterizables would it make sense to create separate `gremlinValueSet`, `gremlinValueCollection`, `gremlinValueMap` instead of using the `genericLiteralX` rules?&lt;/p&gt;


</comment>
                            <comment id="17942032" author="githubbot" created="Tue, 8 Apr 2025 23:54:44 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034181523&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034181523&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -22,6 +22,12 @@ grammar Gremlin;&lt;br/&gt;
     PARSER RULES&lt;br/&gt;
 **********************************************/&lt;/p&gt;

&lt;p&gt;+gremlinValue&lt;br/&gt;
+    : (numericLiteral | booleanLiteral | stringLiteral | dateLiteral | nullLiteral | nanLiteral | infLiteral |&lt;br/&gt;
+       traversalT | traversalCardinality | traversalDirection | traversalMerge |&lt;br/&gt;
+       structureVertex | genericLiteralSet | genericLiteralCollection | genericLiteralMap) EOF&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   yeah, that is the path under consideration. just would like to do it while maximizing reuse. still thinking...&lt;/p&gt;


</comment>
                            <comment id="17942033" author="githubbot" created="Wed, 9 Apr 2025 00:08:46 +0000"  >&lt;p&gt;andreachild commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034192178&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034192178&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -67,34 +73,34 @@ traversalSourceSelfMethod&lt;br/&gt;
     ;&lt;/p&gt;

&lt;p&gt; traversalSourceSelfMethod_withBulk&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withBulk&apos; LPAREN booleanArgument RPAREN&lt;br/&gt;
+    : K_WITHBULK LPAREN booleanArgument RPAREN&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withPath&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withPath&apos; LPAREN RPAREN&lt;br/&gt;
+    : K_WITHPATH LPAREN RPAREN&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withSack&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withSack&apos; LPAREN genericLiteralArgument RPAREN&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;withSack&apos; LPAREN genericLiteralArgument COMMA traversalBiFunctionArgument RPAREN&lt;br/&gt;
+    : K_WITHSACK LPAREN genericLiteralArgument RPAREN&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; K_WITHSACK LPAREN genericLiteralArgument COMMA traversalBiFunction RPAREN&lt;br/&gt;
     ;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withSideEffect&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withSideEffect&apos; LPAREN stringArgument COMMA genericLiteralArgument RPAREN&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;withSideEffect&apos; LPAREN stringArgument COMMA genericLiteralArgument COMMA traversalBiFunctionArgument RPAREN&lt;br/&gt;
+    : K_WITHSIDEEFFECT LPAREN stringArgument COMMA genericLiteralArgument RPAREN&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; K_WITHSIDEEFFECT LPAREN stringArgument COMMA genericLiteralArgument COMMA traversalBiFunction RPAREN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Is the replacement of `traversalBiFunctionArgument` with `traversalBiFunction` backwards compatible? The `traversalBiFunctionArgument` (prior to its deletion in this PR) used to allow `variable` but `traversalBiFunction` does not.&lt;/p&gt;

&lt;p&gt;   ```&lt;br/&gt;
   traversalBiFunctionArgument&lt;br/&gt;
       : traversalBiFunction&lt;/p&gt;
&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; variable&lt;br/&gt;
       ;&lt;br/&gt;
   ```&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;   ```&lt;br/&gt;
   traversalBiFunction&lt;br/&gt;
       : traversalOperator&lt;br/&gt;
       ;&lt;br/&gt;
   ```&lt;/p&gt;




</comment>
                            <comment id="17942035" author="githubbot" created="Wed, 9 Apr 2025 00:14:38 +0000"  >&lt;p&gt;Cole-Greer commented on PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2787916982&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2787916982&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &amp;gt; &amp;gt; It might be nice to have some (feature?) tests which T and Direction remain valid map keys and have precedence over string keys.&lt;br/&gt;
   &amp;gt; &lt;br/&gt;
   &amp;gt; not sure feature tests will work for this. bytecode and the translator will convert/normalize them to the long form so it won&apos;t actually get tested. might need a new class of pure &quot;script&quot; tests? either that or make a configuration of the translators that will use the short form? JIRA?&lt;/p&gt;

&lt;p&gt;   I didn&apos;t consider that, it can be left out of scope here. I&apos;m not sure that such a test case is enough to motivate a new class of tests or translator config.&lt;/p&gt;

</comment>
                            <comment id="17942036" author="githubbot" created="Wed, 9 Apr 2025 00:16:16 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034196924&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034196924&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -67,34 +73,34 @@ traversalSourceSelfMethod&lt;br/&gt;
     ;&lt;/p&gt;

&lt;p&gt; traversalSourceSelfMethod_withBulk&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withBulk&apos; LPAREN booleanArgument RPAREN&lt;br/&gt;
+    : K_WITHBULK LPAREN booleanArgument RPAREN&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withPath&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withPath&apos; LPAREN RPAREN&lt;br/&gt;
+    : K_WITHPATH LPAREN RPAREN&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withSack&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withSack&apos; LPAREN genericLiteralArgument RPAREN&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;withSack&apos; LPAREN genericLiteralArgument COMMA traversalBiFunctionArgument RPAREN&lt;br/&gt;
+    : K_WITHSACK LPAREN genericLiteralArgument RPAREN&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; K_WITHSACK LPAREN genericLiteralArgument COMMA traversalBiFunction RPAREN&lt;br/&gt;
     ;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withSideEffect&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withSideEffect&apos; LPAREN stringArgument COMMA genericLiteralArgument RPAREN&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;withSideEffect&apos; LPAREN stringArgument COMMA genericLiteralArgument COMMA traversalBiFunctionArgument RPAREN&lt;br/&gt;
+    : K_WITHSIDEEFFECT LPAREN stringArgument COMMA genericLiteralArgument RPAREN&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; K_WITHSIDEEFFECT LPAREN stringArgument COMMA genericLiteralArgument COMMA traversalBiFunction RPAREN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   the intention is to break this (and other places) as we go about using variables more judiciously and just where they make sense. arguments that are enums aren&apos;t one of those places where variables will be used. they don&apos;t really make sense there. the only reason Direction and T are in that case is because of `mergeE/V` and their use inside the `Map` argument as a special situation. &lt;/p&gt;


</comment>
                            <comment id="17942040" author="githubbot" created="Wed, 9 Apr 2025 00:43:38 +0000"  >&lt;p&gt;andreachild commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034224548&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034224548&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -67,34 +73,34 @@ traversalSourceSelfMethod&lt;br/&gt;
     ;&lt;/p&gt;

&lt;p&gt; traversalSourceSelfMethod_withBulk&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withBulk&apos; LPAREN booleanArgument RPAREN&lt;br/&gt;
+    : K_WITHBULK LPAREN booleanArgument RPAREN&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withPath&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withPath&apos; LPAREN RPAREN&lt;br/&gt;
+    : K_WITHPATH LPAREN RPAREN&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withSack&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withSack&apos; LPAREN genericLiteralArgument RPAREN&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;withSack&apos; LPAREN genericLiteralArgument COMMA traversalBiFunctionArgument RPAREN&lt;br/&gt;
+    : K_WITHSACK LPAREN genericLiteralArgument RPAREN&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; K_WITHSACK LPAREN genericLiteralArgument COMMA traversalBiFunction RPAREN&lt;br/&gt;
     ;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withSideEffect&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withSideEffect&apos; LPAREN stringArgument COMMA genericLiteralArgument RPAREN&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;withSideEffect&apos; LPAREN stringArgument COMMA genericLiteralArgument COMMA traversalBiFunctionArgument RPAREN&lt;br/&gt;
+    : K_WITHSIDEEFFECT LPAREN stringArgument COMMA genericLiteralArgument RPAREN&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; K_WITHSIDEEFFECT LPAREN stringArgument COMMA genericLiteralArgument COMMA traversalBiFunction RPAREN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   Should there be a changelog and/or upgrade doc entry to list the scenarios that will no longer accept variables? I also see some scenarios where variable support was added which didn&apos;t have it previously (ex. `traversalMethod_both`). These could also use a changelog entry.&lt;/p&gt;


</comment>
                            <comment id="17942083" author="githubbot" created="Wed, 9 Apr 2025 05:25:30 +0000"  >&lt;p&gt;kenhuuu commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034469182&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2034469182&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/step/sideEffect/AddPropertyStep.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -34,6 +34,7 @@&lt;br/&gt;
 import org.apache.tinkerpop.gremlin.structure.T;&lt;br/&gt;
 import org.apache.tinkerpop.gremlin.structure.Vertex;&lt;br/&gt;
 import org.apache.tinkerpop.gremlin.structure.VertexProperty;&lt;br/&gt;
+import org.apache.tinkerpop.gremlin.structure.io.gryo.kryoshim.shaded.ShadedOutputAdapter;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   Is this import actually used?&lt;/p&gt;


</comment>
                            <comment id="17942097" author="githubbot" created="Wed, 9 Apr 2025 06:26:40 +0000"  >&lt;p&gt;kenhuuu commented on PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2788406750&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2788406750&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Something that I find a bit unintuitive with how map keys are defined in the grammar is that you can&apos;t use fully qualified Enums as keys. If that is the intention then it would be nice to add some tests to let others know this was intentional.&lt;/p&gt;

</comment>
                            <comment id="17942177" author="githubbot" created="Wed, 9 Apr 2025 12:11:39 +0000"  >&lt;p&gt;spmallette commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2035234251&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2035234251&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-language/src/main/antlr4/Gremlin.g4:&lt;br/&gt;
##########&lt;br/&gt;
@@ -67,34 +73,34 @@ traversalSourceSelfMethod&lt;br/&gt;
     ;&lt;/p&gt;

&lt;p&gt; traversalSourceSelfMethod_withBulk&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withBulk&apos; LPAREN booleanArgument RPAREN&lt;br/&gt;
+    : K_WITHBULK LPAREN booleanArgument RPAREN&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withPath&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withPath&apos; LPAREN RPAREN&lt;br/&gt;
+    : K_WITHPATH LPAREN RPAREN&lt;br/&gt;
     ;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withSack&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withSack&apos; LPAREN genericLiteralArgument RPAREN&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;withSack&apos; LPAREN genericLiteralArgument COMMA traversalBiFunctionArgument RPAREN&lt;br/&gt;
+    : K_WITHSACK LPAREN genericLiteralArgument RPAREN&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; K_WITHSACK LPAREN genericLiteralArgument COMMA traversalBiFunction RPAREN&lt;br/&gt;
     ;&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt; traversalSourceSelfMethod_withSideEffect&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;: &apos;withSideEffect&apos; LPAREN stringArgument COMMA genericLiteralArgument RPAREN&lt;/li&gt;
	&lt;li&gt;&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &apos;withSideEffect&apos; LPAREN stringArgument COMMA genericLiteralArgument COMMA traversalBiFunctionArgument RPAREN&lt;br/&gt;
+    : K_WITHSIDEEFFECT LPAREN stringArgument COMMA genericLiteralArgument RPAREN&lt;br/&gt;
+    &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; K_WITHSIDEEFFECT LPAREN stringArgument COMMA genericLiteralArgument COMMA traversalBiFunction RPAREN&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;
&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Review Comment:&lt;br/&gt;
   there are many more changes to come for this, so in this case, i&apos;d say its not necessary because a more general body of changes will sum all of this up before release. i think we just want one CHANGELOG entry to reflect that &quot;variable usage has been narrowed&quot; otherwise we&apos;ll have scores of entries for all the changes to come. i just needed to make some things consistent for the `Map` keys change to work. &lt;/p&gt;


</comment>
                            <comment id="17942266" author="githubbot" created="Wed, 9 Apr 2025 18:30:25 +0000"  >&lt;p&gt;andreachild commented on code in PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#discussion_r2035908288&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#discussion_r2035908288&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/language/grammar/GenericLiteralVisitor.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -331,33 +331,39 @@ public Object visitGenericLiteralMap(final GremlinParser.GenericLiteralMapContex&lt;br/&gt;
             // &lt;span class=&quot;error&quot;&gt;&amp;#91;key : value&amp;#93;&lt;/span&gt; - index 0 is key, index 1 is COLON, index 2 is value&lt;br/&gt;
             // also note that a child count of 5 indicates the key is an expression wrapped&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   This comment should be updated to reference the updated logic for determining if the key is an expression (presence of left parenthesis) or removed. &lt;/p&gt;


</comment>
                            <comment id="17942304" author="githubbot" created="Wed, 9 Apr 2025 20:59:12 +0000"  >&lt;p&gt;Cole-Greer commented on PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2790984372&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2790984372&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Thanks Stephen, everything looks good.&lt;br/&gt;
   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17942305" author="githubbot" created="Wed, 9 Apr 2025 21:02:34 +0000"  >&lt;p&gt;kenhuuu commented on PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2790990386&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091#issuecomment-2790990386&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17943301" author="githubbot" created="Thu, 10 Apr 2025 16:45:07 +0000"  >&lt;p&gt;spmallette merged PR #3091:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/3091&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/3091&lt;/a&gt;&lt;/p&gt;

</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13604909">TINKERPOP-3126</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                            <issuelinktype id="10001">
                    <name>dependent</name>
                                                                <inwardlinks description="is depended upon by">
                                        <issuelink>
            <issuekey id="13563103">TINKERPOP-3028</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            30 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1n6jc:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>