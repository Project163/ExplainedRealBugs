<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:11:47 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-2029] ConcurrentModificationException for InlineFilterStrategy</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-2029</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
gremlin&amp;gt; g.V().has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;).and().has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;).and().has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;)
java.util.ConcurrentModificationException
Type &lt;span class=&quot;code-quote&quot;&gt;&apos;:help&apos;&lt;/span&gt; or &lt;span class=&quot;code-quote&quot;&gt;&apos;:h&apos;&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; help.
Display stack trace? [yN]y
java.util.ConcurrentModificationException
	at java.util.ArrayList$Itr.checkForComodification(ArrayList.java:909)
	at java.util.ArrayList$Itr.next(ArrayList.java:859)
	at java.util.Collections$UnmodifiableCollection$1.next(Collections.java:1042)
	at org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.InlineFilterStrategy.processHasStep(InlineFilterStrategy.java:114)
	at org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.InlineFilterStrategy.apply(InlineFilterStrategy.java:93)
	at org.apache.tinkerpop.gremlin.process.traversal.util.TraversalHelper.applySingleLevelStrategies(TraversalHelper.java:696)
	at org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.InlineFilterStrategy.processAndStep(InlineFilterStrategy.java:248)
	at org.apache.tinkerpop.gremlin.process.traversal.strategy.optimization.InlineFilterStrategy.apply(InlineFilterStrategy.java:96)
	at org.apache.tinkerpop.gremlin.process.traversal.util.DefaultTraversalStrategies.applyStrategies(DefaultTraversalStrategies.java:86)
	at org.apache.tinkerpop.gremlin.process.traversal.util.DefaultTraversal.applyStrategies(DefaultTraversal.java:119)
	at org.apache.tinkerpop.gremlin.process.traversal.util.DefaultTraversal.hasNext(DefaultTraversal.java:191)
	at org.apache.tinkerpop.gremlin.console.Console$_closure3.doCall(Console.groovy:239)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:264)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1034)
	at org.codehaus.groovy.tools.shell.Groovysh.setLastResult(Groovysh.groovy:460)
	at org.codehaus.groovy.tools.shell.Groovysh.execute(Groovysh.groovy:196)
	at org.apache.tinkerpop.gremlin.console.GremlinGroovysh.&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$3$execute(GremlinGroovysh.groovy)
	at sun.reflect.GeneratedMethodAccessor14.invoke(Unknown Source)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1225)
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:145)
	at org.apache.tinkerpop.gremlin.console.GremlinGroovysh.execute(GremlinGroovysh.groovy:72)
	at org.codehaus.groovy.tools.shell.Shell.leftShift(Shell.groovy:122)
	at org.codehaus.groovy.tools.shell.ShellRunner.work(ShellRunner.groovy:95)
	at org.codehaus.groovy.tools.shell.InteractiveShellRunner.&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$2$work(InteractiveShellRunner.groovy)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1225)
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:145)
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuper0(ScriptBytecodeAdapter.java:165)
	at org.codehaus.groovy.tools.shell.InteractiveShellRunner.work(InteractiveShellRunner.groovy:130)
	at org.codehaus.groovy.tools.shell.ShellRunner.run(ShellRunner.groovy:59)
	at org.codehaus.groovy.tools.shell.InteractiveShellRunner.&lt;span class=&quot;code-keyword&quot;&gt;super&lt;/span&gt;$2$run(InteractiveShellRunner.groovy)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:498)
	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:98)
	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)
	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1225)
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuperN(ScriptBytecodeAdapter.java:145)
	at org.codehaus.groovy.runtime.ScriptBytecodeAdapter.invokeMethodOnSuper0(ScriptBytecodeAdapter.java:165)
	at org.codehaus.groovy.tools.shell.InteractiveShellRunner.run(InteractiveShellRunner.groovy:89)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:236)
	at org.apache.tinkerpop.gremlin.console.Console.&amp;lt;init&amp;gt;(Console.groovy:171)
	at org.codehaus.groovy.vmplugin.v7.IndyInterface.selectMethod(IndyInterface.java:236)
	at org.apache.tinkerpop.gremlin.console.Console.main(Console.groovy:483)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13183097">TINKERPOP-2029</key>
            <summary>ConcurrentModificationException for InlineFilterStrategy</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="dkuppitz">Daniel Kuppitz</assignee>
                                    <reporter username="spmallette">Stephen Mallette</reporter>
                        <labels>
                    </labels>
                <created>Wed, 5 Sep 2018 11:02:04 +0000</created>
                <updated>Tue, 18 Sep 2018 14:33:37 +0000</updated>
                            <resolved>Tue, 18 Sep 2018 14:33:37 +0000</resolved>
                                    <version>3.2.9</version>
                                    <fixVersion>3.4.0</fixVersion>
                                    <component>process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16604692" author="spmallette" created="Wed, 5 Sep 2018 17:17:48 +0000"  >&lt;p&gt;I&apos;ve pushed a branch based on tp32 with associated tests that cause the failure:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/apache/tinkerpop/tree/TINKERPOP-2029&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/tree/TINKERPOP-2029&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The process test to &lt;tt&gt;AndTest&lt;/tt&gt; will need to be added as a GLV test still. There are technically two issues to consider. First, it seems that &lt;tt&gt;ConnectiveStrategy&lt;/tt&gt; will transform certain &lt;tt&gt;and()&lt;/tt&gt; and &lt;tt&gt;or()&lt;/tt&gt; combinations to something that &lt;tt&gt;InlineFilterStrategy&lt;/tt&gt; doesn&apos;t properly handle. Specifically, &lt;tt&gt;ConnectiveStrategyTest&lt;/tt&gt; includes test cases that show that&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
__.has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;).and().has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;).and().has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;does not convert to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
__.and(has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;), __.has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;), __.has(&lt;span class=&quot;code-quote&quot;&gt;&quot;name&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;marko&quot;&lt;/span&gt;))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;and instead produces something like this:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
java.lang.AssertionError: 
Expected :[AndStep([[HasStep([name.eq(marko)])], [HasStep([name.eq(marko)])], [HasStep([name.eq(marko)])]])]
Actual   :[HasStep([name.eq(marko)]), AndStep([[], [AndStep([[HasStep([name.eq(marko)])], []]), HasStep([name.eq(marko)])]])]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;That in turn feeds to &lt;tt&gt;InlineFilterStrategy&lt;/tt&gt; which seems to properly deal with the expected output above, but not the actual output that it&apos;s currently producing. I&apos;m not completely sure what &lt;tt&gt;InlineFilterStrategy&lt;/tt&gt; should do with such Gremlin if anything, but we should probably change the flow of it to avoid &lt;tt&gt;ConcurrentModificationException&lt;/tt&gt; irrespective of the situation with &lt;tt&gt;InlineFilterStrategy&lt;/tt&gt;. I&apos;ve not been able to create a standalone scenario to recreate the &lt;tt&gt;ConcurrentModificationException&lt;/tt&gt; so it might be best to deal with that first since it&apos;s currently failing that way. &lt;/p&gt;</comment>
                            <comment id="16610714" author="githubbot" created="Tue, 11 Sep 2018 14:34:08 +0000"  >&lt;p&gt;GitHub user dkuppitz opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2029&quot; title=&quot;ConcurrentModificationException for InlineFilterStrategy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2029&quot;&gt;&lt;del&gt;TINKERPOP-2029&lt;/del&gt;&lt;/a&gt; ConcurrentModificationException for InlineFilterStrategy&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2029&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-2029&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    To fix the original issue, I basically rewrote `ConnectiveStrategy`. The infix notation of `and()` and `or()` now supports an arbitrary number of traversals and `ConnectiveStrategy` produces a traversal with correct `AND` and `OR` semantics.&lt;/p&gt;

&lt;p&gt;    The reason for targeting `master/` is that there were no strict semantics before and thus this needs to be considered a breaking change.&lt;/p&gt;

&lt;p&gt;    ```&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;BEHAVIOR&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Input: a.or.b.and.c.or.d.and.e.or.f.and.g.and.h.or.i&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;BEFORE&lt;br/&gt;
    Output: or(a, or(and(b, c), or(and(d, e), or(and(and(f, g), h), i))))&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;NOW&lt;br/&gt;
    Output: or(a, and(b, c), and(d, e), and(f, g, h), i)&lt;br/&gt;
    ```&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    `docker/build.sh -t -i -n` passed.&lt;/p&gt;

&lt;p&gt;    VOTE +1&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/apache/tinkerpop&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2029&quot; title=&quot;ConcurrentModificationException for InlineFilterStrategy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2029&quot;&gt;&lt;del&gt;TINKERPOP-2029&lt;/del&gt;&lt;/a&gt;-master&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #931&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 46ee42686a875baf123176040b2f341218e02e1a&lt;br/&gt;
Author: Stephen Mallette &amp;lt;spmva@...&amp;gt;&lt;br/&gt;
Date:   2018-09-05T17:08:01Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2029&quot; title=&quot;ConcurrentModificationException for InlineFilterStrategy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2029&quot;&gt;&lt;del&gt;TINKERPOP-2029&lt;/del&gt;&lt;/a&gt; Added tests demonstrating strategy failures&lt;/p&gt;

&lt;p&gt;    Identified potentially two problems, one with ConnectedStrategy and by virtue of its application InlineFilterStrategy.&lt;/p&gt;

&lt;p&gt;commit e518c9af9a4aca56449af2b743f24d35a8a43b50&lt;br/&gt;
Author: Daniel Kuppitz &amp;lt;daniel_kuppitz@...&amp;gt;&lt;br/&gt;
Date:   2018-09-10T18:41:34Z&lt;/p&gt;

&lt;p&gt;    Rewrote `ConnectiveStrategy`. It&apos;s a breaking change as it now behaves slightly differently, but now it&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;produces correct AND and OR semantics.&lt;/li&gt;
	&lt;li&gt;has fewer recursive calls (at most 1).&lt;/li&gt;
	&lt;li&gt;is faster in its own execution and produces fewer steps in the final traversal which should make the processed traversal faster as well.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;commit 2ce9a6def3426b2a2ff89e6b556ae8b2653f6098&lt;br/&gt;
Author: Daniel Kuppitz &amp;lt;daniel_kuppitz@...&amp;gt;&lt;br/&gt;
Date:   2018-09-10T18:47:46Z&lt;/p&gt;

&lt;p&gt;    Merge branch &apos;&lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2029&quot; title=&quot;ConcurrentModificationException for InlineFilterStrategy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2029&quot;&gt;&lt;del&gt;TINKERPOP-2029&lt;/del&gt;&lt;/a&gt;&apos; into &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2029&quot; title=&quot;ConcurrentModificationException for InlineFilterStrategy&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2029&quot;&gt;&lt;del&gt;TINKERPOP-2029&lt;/del&gt;&lt;/a&gt;-master&lt;/p&gt;

&lt;p&gt;commit 9330fcbc477e6a64649b6c6aa22f697756d31140&lt;br/&gt;
Author: Daniel Kuppitz &amp;lt;daniel_kuppitz@...&amp;gt;&lt;br/&gt;
Date:   2018-09-10T18:49:52Z&lt;/p&gt;

&lt;p&gt;    Removed note about infix restriction for `and()` and `or()` as they are no longer existent.&lt;/p&gt;

&lt;p&gt;commit 40b21bbd1361712c7b3cef140773ea87da30dbd0&lt;br/&gt;
Author: Daniel Kuppitz &amp;lt;daniel_kuppitz@...&amp;gt;&lt;br/&gt;
Date:   2018-09-10T19:21:17Z&lt;/p&gt;

&lt;p&gt;    updated docs&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16614924" author="githubbot" created="Fri, 14 Sep 2018 14:31:31 +0000"  >&lt;p&gt;Github user robertdale commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931#discussion_r217732616&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931#discussion_r217732616&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/src/upgrade/release-3.4.x.asciidoc &amp;#8212;&lt;br/&gt;
    @@ -29,6 +29,29 @@ Please see the link:&lt;a href=&quot;https://github.com/apache/tinkerpop/blob/3.4.0/CHANGELOG.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/blob/3.4.0/CHANGELOG.asc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     === Upgrading for Users&lt;/p&gt;

&lt;p&gt;    +==== Changed infix behavior&lt;br/&gt;
    +&lt;br/&gt;
    +The infix notation of `and()` and `or()` now supports an arbitrary number of traversals and `ConnectiveStrategy` produces a traversal with the correct AND and OR semantics. Furthermore,&lt;br/&gt;
    +previous versions failed to apply 3 or more `and()` steps in an infix notation, this is now fixed.&lt;br/&gt;
    +&lt;br/&gt;
    +&lt;span class=&quot;error&quot;&gt;&amp;#91;source,groovy&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +----&lt;br/&gt;
    +gremlin&amp;gt; g.V().has(&quot;name&quot;,&quot;marko&quot;).and().has(&quot;age&quot;, lt(30)).or().has(&quot;name&quot;,&quot;josh&quot;).and().has(&quot;age&quot;, gt(30)).and().out(&quot;created&quot;)&lt;br/&gt;
    +==&amp;gt;v&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +==&amp;gt;v&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +----&lt;br/&gt;
    +&lt;br/&gt;
    +In previous versions the above traversal &lt;br/&gt;
    +&lt;span class=&quot;error&quot;&gt;&amp;#91;source,groovy&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +----&lt;br/&gt;
    +gremlin&amp;gt; g.V().repeat(_&lt;em&gt;.in(&apos;traverses&apos;).repeat(&lt;/em&gt;_.in(&apos;develops&apos;)).emit()).emit().values(&apos;name&apos;)&lt;br/&gt;
    +==&amp;gt;stephen&lt;br/&gt;
    +==&amp;gt;matthias&lt;br/&gt;
    +==&amp;gt;marko&lt;br/&gt;
    +----&lt;br/&gt;
    +&lt;br/&gt;
    +See: link:&lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-967[TINKERPOP-967&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-967[TINKERPOP-967&lt;/a&gt;]&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    There should be a link to this issue as well - &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2029&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-2029&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16614925" author="githubbot" created="Fri, 14 Sep 2018 14:31:31 +0000"  >&lt;p&gt;Github user robertdale commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931#discussion_r217720970&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931#discussion_r217720970&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/src/upgrade/release-3.4.x.asciidoc &amp;#8212;&lt;br/&gt;
    @@ -29,6 +29,29 @@ Please see the link:&lt;a href=&quot;https://github.com/apache/tinkerpop/blob/3.4.0/CHANGELOG.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/blob/3.4.0/CHANGELOG.asc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     === Upgrading for Users&lt;/p&gt;

&lt;p&gt;    +==== Changed infix behavior&lt;br/&gt;
    +&lt;br/&gt;
    +The infix notation of `and()` and `or()` now supports an arbitrary number of traversals and `ConnectiveStrategy` produces a traversal with the correct AND and OR semantics. Furthermore,&lt;br/&gt;
    +previous versions failed to apply 3 or more `and()` steps in an infix notation, this is now fixed.&lt;br/&gt;
    +&lt;br/&gt;
    +&lt;span class=&quot;error&quot;&gt;&amp;#91;source,groovy&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +----&lt;br/&gt;
    +gremlin&amp;gt; g.V().has(&quot;name&quot;,&quot;marko&quot;).and().has(&quot;age&quot;, lt(30)).or().has(&quot;name&quot;,&quot;josh&quot;).and().has(&quot;age&quot;, gt(30)).and().out(&quot;created&quot;)&lt;br/&gt;
    +==&amp;gt;v&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +==&amp;gt;v&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +----&lt;br/&gt;
    +&lt;br/&gt;
    +In previous versions the above traversal &lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Seems like something more is needed here.&lt;/p&gt;</comment>
                            <comment id="16614926" author="githubbot" created="Fri, 14 Sep 2018 14:31:31 +0000"  >&lt;p&gt;Github user robertdale commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931#discussion_r217731843&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931#discussion_r217731843&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/src/upgrade/release-3.4.x.asciidoc &amp;#8212;&lt;br/&gt;
    @@ -29,6 +29,29 @@ Please see the link:&lt;a href=&quot;https://github.com/apache/tinkerpop/blob/3.4.0/CHANGELOG.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/blob/3.4.0/CHANGELOG.asc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     === Upgrading for Users&lt;/p&gt;

&lt;p&gt;    +==== Changed infix behavior&lt;br/&gt;
    +&lt;br/&gt;
    +The infix notation of `and()` and `or()` now supports an arbitrary number of traversals and `ConnectiveStrategy` produces a traversal with the correct AND and OR semantics. Furthermore,&lt;br/&gt;
    +previous versions failed to apply 3 or more `and()` steps in an infix notation, this is now fixed.&lt;br/&gt;
    +&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    The graph example is good for those familiar with the graph but it&apos;s not immediately clear what the difference in behavior is. I really like the example from the comments. I think it would be good to add here (not necessarily verbatim) for clarity. &lt;br/&gt;
    ```&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;BEHAVIOR&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;    Input: a.or.b.and.c.or.d.and.e.or.f.and.g.and.h.or.i&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;BEFORE&lt;br/&gt;
    Output: or(a, or(and(b, c), or(and(d, e), or(and(and(f, g), h), i))))&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;NOW&lt;br/&gt;
    Output: or(a, and(b, c), and(d, e), and(f, g, h), i)&lt;br/&gt;
    ```&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;

</comment>
                            <comment id="16615008" author="githubbot" created="Fri, 14 Sep 2018 15:52:59 +0000"  >&lt;p&gt;Github user dkuppitz commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931#discussion_r217759875&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931#discussion_r217759875&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: docs/src/upgrade/release-3.4.x.asciidoc &amp;#8212;&lt;br/&gt;
    @@ -29,6 +29,29 @@ Please see the link:&lt;a href=&quot;https://github.com/apache/tinkerpop/blob/3.4.0/CHANGELOG.asc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/blob/3.4.0/CHANGELOG.asc&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;     === Upgrading for Users&lt;/p&gt;

&lt;p&gt;    +==== Changed infix behavior&lt;br/&gt;
    +&lt;br/&gt;
    +The infix notation of `and()` and `or()` now supports an arbitrary number of traversals and `ConnectiveStrategy` produces a traversal with the correct AND and OR semantics. Furthermore,&lt;br/&gt;
    +previous versions failed to apply 3 or more `and()` steps in an infix notation, this is now fixed.&lt;br/&gt;
    +&lt;br/&gt;
    +&lt;span class=&quot;error&quot;&gt;&amp;#91;source,groovy&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +----&lt;br/&gt;
    +gremlin&amp;gt; g.V().has(&quot;name&quot;,&quot;marko&quot;).and().has(&quot;age&quot;, lt(30)).or().has(&quot;name&quot;,&quot;josh&quot;).and().has(&quot;age&quot;, gt(30)).and().out(&quot;created&quot;)&lt;br/&gt;
    +==&amp;gt;v&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +==&amp;gt;v&lt;span class=&quot;error&quot;&gt;&amp;#91;4&amp;#93;&lt;/span&gt;&lt;br/&gt;
    +----&lt;br/&gt;
    +&lt;br/&gt;
    +In previous versions the above traversal &lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Ugh, I was going to remove this piece as I mentioned previous versions in the comments above.&lt;/p&gt;</comment>
                            <comment id="16615072" author="githubbot" created="Fri, 14 Sep 2018 16:39:18 +0000"  >&lt;p&gt;Github user robertdale commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    VOTE +1&lt;/p&gt;</comment>
                            <comment id="16618068" author="githubbot" created="Mon, 17 Sep 2018 19:49:14 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    VOTE +1&lt;/p&gt;</comment>
                            <comment id="16619198" author="githubbot" created="Tue, 18 Sep 2018 14:33:16 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/931&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/931&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 8 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3xr2n:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>