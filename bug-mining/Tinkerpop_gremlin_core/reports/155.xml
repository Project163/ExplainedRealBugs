<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:12:33 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-3056] mergeE is updating vertices in certain conditions</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-3056</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
gremlin&amp;gt; g.addV(&lt;span class=&quot;code-quote&quot;&gt;&apos;mytestlabel&apos;&lt;/span&gt;).property(id, &lt;span class=&quot;code-quote&quot;&gt;&apos;testA&apos;&lt;/span&gt;).property(&lt;span class=&quot;code-quote&quot;&gt;&apos;timestamp&apos;&lt;/span&gt;, 1).as(&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;).
......1&amp;gt;   addV(&lt;span class=&quot;code-quote&quot;&gt;&apos;mytestlabel&apos;&lt;/span&gt;).property(id, &lt;span class=&quot;code-quote&quot;&gt;&apos;testA2&apos;&lt;/span&gt;).property(&lt;span class=&quot;code-quote&quot;&gt;&apos;timestamp&apos;&lt;/span&gt;, 1).as(&lt;span class=&quot;code-quote&quot;&gt;&apos;a2&apos;&lt;/span&gt;).
......2&amp;gt;   addE(&lt;span class=&quot;code-quote&quot;&gt;&apos;mytestlabel&apos;&lt;/span&gt;).from(&lt;span class=&quot;code-quote&quot;&gt;&apos;a&apos;&lt;/span&gt;).to(&lt;span class=&quot;code-quote&quot;&gt;&apos;a2&apos;&lt;/span&gt;).property(&lt;span class=&quot;code-quote&quot;&gt;&apos;timestamp&apos;&lt;/span&gt;, 2).valueMap(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
==&amp;gt;[id:2,label:mytestlabel,timestamp:2]
gremlin&amp;gt; g.V().mergeE([(T.label):&lt;span class=&quot;code-quote&quot;&gt;&apos;mytestlabel&apos;&lt;/span&gt;, (Direction.from): &lt;span class=&quot;code-quote&quot;&gt;&apos;testA&apos;&lt;/span&gt;, (Direction.to):&lt;span class=&quot;code-quote&quot;&gt;&apos;testA2&apos;&lt;/span&gt;]).
......1&amp;gt; option(onMatch, sideEffect(property(single, &lt;span class=&quot;code-quote&quot;&gt;&apos;timestamp&apos;&lt;/span&gt;, 4).property(single, &lt;span class=&quot;code-quote&quot;&gt;&apos;edgelabel&apos;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&apos;exists&apos;&lt;/span&gt;)).
......2&amp;gt; constant([:])).valueMap(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
==&amp;gt;[id:2,label:mytestlabel,timestamp:2]
==&amp;gt;[id:2,label:mytestlabel,timestamp:2]
gremlin&amp;gt; g.V().valueMap(&lt;span class=&quot;code-keyword&quot;&gt;true&lt;/span&gt;)
==&amp;gt;[id:testA2,label:mytestlabel,edgelabel:[exists],timestamp:[4]]
==&amp;gt;[id:testA,label:mytestlabel,edgelabel:[exists],timestamp:[4]]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13568302">TINKERPOP-3056</key>
            <summary>mergeE is updating vertices in certain conditions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="1" iconUrl="https://issues.apache.org/jira/images/icons/priorities/blocker.svg">Blocker</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spmallette">Stephen Mallette</assignee>
                                    <reporter username="spmallette">Stephen Mallette</reporter>
                        <labels>
                    </labels>
                <created>Tue, 13 Feb 2024 13:19:58 +0000</created>
                <updated>Tue, 30 Apr 2024 17:36:08 +0000</updated>
                            <resolved>Mon, 25 Mar 2024 23:00:34 +0000</resolved>
                                    <version>3.6.6</version>
                                    <fixVersion>4.0.0</fixVersion>
                    <fixVersion>3.6.7</fixVersion>
                    <fixVersion>3.7.2</fixVersion>
                                    <component>process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17817018" author="githubbot" created="Tue, 13 Feb 2024 14:29:09 +0000"  >&lt;p&gt;spmallette opened a new pull request, #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-3056&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-3056&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Since the current traverser was only being updated onMatch when it was used as a start step doing mutations in a sideEffect() would update whatever the current traverser was. This code may have been leftover from a time when the merge steps operated more readily on the current traverser as an argument to the step.&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17817028" author="githubbot" created="Tue, 13 Feb 2024 14:49:48 +0000"  >&lt;p&gt;codecov-commenter commented on PR #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487#issuecomment-1941684720&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487#issuecomment-1941684720&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Codecov&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2487?src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2487?src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) Report&lt;br/&gt;
   All modified and coverable lines are covered by tests :white_check_mark:&lt;br/&gt;
   &amp;gt; Comparison is base &lt;span class=&quot;error&quot;&gt;&amp;#91;(`c7f3d24`)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/commit/c7f3d2454a654cea57c2a99077d859b115fec4c3?el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/commit/c7f3d2454a654cea57c2a99077d859b115fec4c3?el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) 75.15% compared to head &lt;span class=&quot;error&quot;&gt;&amp;#91;(`7c99643`)&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2487?src=pr&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2487?src=pr&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) 75.16%.&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;   &amp;lt;details&amp;gt;&amp;lt;summary&amp;gt;Additional details and impacted files&amp;lt;/summary&amp;gt;&lt;/p&gt;


&lt;p&gt;   ```diff&lt;br/&gt;
   @@            Coverage Diff             @@&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;3.6-dev    #2487   +/-   ##&lt;br/&gt;
   ==========================================&lt;br/&gt;
     Coverage      75.15%   75.16%           &lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Complexity     12351    12352    +1&lt;br/&gt;
   ==========================================&lt;br/&gt;
     Files           1058     1058           &lt;br/&gt;
     Lines          63610    63610           &lt;br/&gt;
     Branches        6962     6962           &lt;br/&gt;
   ==========================================&lt;br/&gt;
   + Hits           47806    47812    +6     &lt;br/&gt;
   + Misses         13224    13217    -7     &lt;/li&gt;
	&lt;li&gt;Partials        2580     2581    +1&lt;br/&gt;
   ```&lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;   &amp;lt;/details&amp;gt;&lt;/p&gt;

&lt;p&gt;   &lt;span class=&quot;error&quot;&gt;&amp;#91;:umbrella: View full report in Codecov by Sentry&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2487?src=pr&amp;amp;el=continue&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2487?src=pr&amp;amp;el=continue&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;).   &lt;br/&gt;
   :loudspeaker: Have feedback on the report? &lt;span class=&quot;error&quot;&gt;&amp;#91;Share it here&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://about.codecov.io/codecov-pr-comment-feedback/?utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;).&lt;/p&gt;


</comment>
                            <comment id="17817066" author="githubbot" created="Tue, 13 Feb 2024 16:36:31 +0000"  >&lt;p&gt;vkagamlyk commented on code in PR #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487#discussion_r1488215072&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487#discussion_r1488215072&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-test/src/main/resources/org/apache/tinkerpop/gremlin/test/features/map/MergeEdge.feature:&lt;br/&gt;
##########&lt;br/&gt;
@@ -841,3 +841,45 @@ Feature: Step - mergeE()&lt;br/&gt;
       &quot;&quot;&quot;&lt;br/&gt;
     When iterated to list&lt;br/&gt;
     Then the traversal will raise an error with message containing text of &quot;Property key can not be a hidden key: ~label&quot;&lt;br/&gt;
+&lt;br/&gt;
+  Scenario: g_V_mergeEXlabel_knows_out_marko_in_vadasX_optionXonMatch_sideEffectXpropertyXweight_0XX_constantXemptyXX&lt;br/&gt;
+    Given the empty graph&lt;br/&gt;
+    And the graph initializer of&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+      g.addV(&quot;person&quot;).property(&quot;name&quot;, &quot;marko&quot;).as(&quot;a&quot;).&lt;br/&gt;
+        addV(&quot;person&quot;).property(&quot;name&quot;, &quot;vadas&quot;).as(&quot;b&quot;).&lt;br/&gt;
+        addE(&quot;knows&quot;).property(&quot;weight&quot;, 1).from(&quot;a&quot;).to(&quot;b&quot;)&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+    And using the parameter xx1 defined as &quot;m[&lt;/p&gt;
{\&quot;t[label]\&quot;: \&quot;knows\&quot;, \&quot;D[OUT]\&quot;:\&quot;v[marko]\&quot;, \&quot;D[IN]\&quot;:\&quot;v[vadas]\&quot;}
&lt;p&gt;]&quot;&lt;br/&gt;
+    And the traversal of&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+      g.V().mergeE(xx1).&lt;br/&gt;
+              option(Merge.onMatch, _&lt;em&gt;.sideEffect(&lt;/em&gt;_.property(&quot;weight&quot;, 0)).constant(&lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;))&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+    When iterated to list&lt;br/&gt;
+    Then the result should have a count of 2&lt;br/&gt;
+    And the graph should return 2 for count of &quot;g.V()&quot;&lt;br/&gt;
+    And the graph should return 0 for count of &quot;g.E().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;,1)&quot;&lt;br/&gt;
+    And the graph should return 1 for count of &quot;g.E().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;,0)&quot;&lt;br/&gt;
+    And the graph should return 0 for count of &quot;g.V().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;)&quot;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   ```suggestion&lt;br/&gt;
       And the graph should return 0 for count of &quot;g.V().has(\&quot;weight\&quot;)&quot;&lt;br/&gt;
   ```&lt;/p&gt;


</comment>
                            <comment id="17817067" author="githubbot" created="Tue, 13 Feb 2024 16:37:11 +0000"  >&lt;p&gt;vkagamlyk commented on code in PR #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487#discussion_r1488216500&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487#discussion_r1488216500&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-test/src/main/resources/org/apache/tinkerpop/gremlin/test/features/map/MergeEdge.feature:&lt;br/&gt;
##########&lt;br/&gt;
@@ -841,3 +841,45 @@ Feature: Step - mergeE()&lt;br/&gt;
       &quot;&quot;&quot;&lt;br/&gt;
     When iterated to list&lt;br/&gt;
     Then the traversal will raise an error with message containing text of &quot;Property key can not be a hidden key: ~label&quot;&lt;br/&gt;
+&lt;br/&gt;
+  Scenario: g_V_mergeEXlabel_knows_out_marko_in_vadasX_optionXonMatch_sideEffectXpropertyXweight_0XX_constantXemptyXX&lt;br/&gt;
+    Given the empty graph&lt;br/&gt;
+    And the graph initializer of&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+      g.addV(&quot;person&quot;).property(&quot;name&quot;, &quot;marko&quot;).as(&quot;a&quot;).&lt;br/&gt;
+        addV(&quot;person&quot;).property(&quot;name&quot;, &quot;vadas&quot;).as(&quot;b&quot;).&lt;br/&gt;
+        addE(&quot;knows&quot;).property(&quot;weight&quot;, 1).from(&quot;a&quot;).to(&quot;b&quot;)&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+    And using the parameter xx1 defined as &quot;m[&lt;/p&gt;
{\&quot;t[label]\&quot;: \&quot;knows\&quot;, \&quot;D[OUT]\&quot;:\&quot;v[marko]\&quot;, \&quot;D[IN]\&quot;:\&quot;v[vadas]\&quot;}
&lt;p&gt;]&quot;&lt;br/&gt;
+    And the traversal of&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+      g.V().mergeE(xx1).&lt;br/&gt;
+              option(Merge.onMatch, _&lt;em&gt;.sideEffect(&lt;/em&gt;_.property(&quot;weight&quot;, 0)).constant(&lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;))&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+    When iterated to list&lt;br/&gt;
+    Then the result should have a count of 2&lt;br/&gt;
+    And the graph should return 2 for count of &quot;g.V()&quot;&lt;br/&gt;
+    And the graph should return 0 for count of &quot;g.E().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;,1)&quot;&lt;br/&gt;
+    And the graph should return 1 for count of &quot;g.E().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;,0)&quot;&lt;br/&gt;
+    And the graph should return 0 for count of &quot;g.V().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;)&quot;&lt;br/&gt;
+&lt;br/&gt;
+  Scenario: g_mergeEXlabel_knows_out_marko_in_vadasX_optionXonMatch_sideEffectXpropertyXweight_0XX_constantXemptyXX&lt;br/&gt;
+    Given the empty graph&lt;br/&gt;
+    And the graph initializer of&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+      g.addV(&quot;person&quot;).property(&quot;name&quot;, &quot;marko&quot;).as(&quot;a&quot;).&lt;br/&gt;
+        addV(&quot;person&quot;).property(&quot;name&quot;, &quot;vadas&quot;).as(&quot;b&quot;).&lt;br/&gt;
+        addE(&quot;knows&quot;).property(&quot;weight&quot;, 1).from(&quot;a&quot;).to(&quot;b&quot;)&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+    And using the parameter xx1 defined as &quot;m[&lt;/p&gt;
{\&quot;t[label]\&quot;: \&quot;knows\&quot;, \&quot;D[OUT]\&quot;:\&quot;v[marko]\&quot;, \&quot;D[IN]\&quot;:\&quot;v[vadas]\&quot;}
&lt;p&gt;]&quot;&lt;br/&gt;
+    And the traversal of&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+      g.mergeE(xx1).&lt;br/&gt;
+          option(Merge.onMatch, _&lt;em&gt;.sideEffect(&lt;/em&gt;_.property(&quot;weight&quot;, 0)).constant(&lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;))&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+    When iterated to list&lt;br/&gt;
+    Then the result should have a count of 1&lt;br/&gt;
+    And the graph should return 2 for count of &quot;g.V()&quot;&lt;br/&gt;
+    And the graph should return 0 for count of &quot;g.E().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;,1)&quot;&lt;br/&gt;
+    And the graph should return 1 for count of &quot;g.E().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;,0)&quot;&lt;br/&gt;
+    And the graph should return 0 for count of &quot;g.V().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;)&quot;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   ```suggestion&lt;br/&gt;
       And the graph should return 0 for count of &quot;g.V().has(\&quot;weight\&quot;)&quot;&lt;br/&gt;
   ```&lt;/p&gt;


</comment>
                            <comment id="17817085" author="githubbot" created="Tue, 13 Feb 2024 17:24:15 +0000"  >&lt;p&gt;spmallette commented on code in PR #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487#discussion_r1488293645&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487#discussion_r1488293645&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-test/src/main/resources/org/apache/tinkerpop/gremlin/test/features/map/MergeEdge.feature:&lt;br/&gt;
##########&lt;br/&gt;
@@ -841,3 +841,45 @@ Feature: Step - mergeE()&lt;br/&gt;
       &quot;&quot;&quot;&lt;br/&gt;
     When iterated to list&lt;br/&gt;
     Then the traversal will raise an error with message containing text of &quot;Property key can not be a hidden key: ~label&quot;&lt;br/&gt;
+&lt;br/&gt;
+  Scenario: g_V_mergeEXlabel_knows_out_marko_in_vadasX_optionXonMatch_sideEffectXpropertyXweight_0XX_constantXemptyXX&lt;br/&gt;
+    Given the empty graph&lt;br/&gt;
+    And the graph initializer of&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+      g.addV(&quot;person&quot;).property(&quot;name&quot;, &quot;marko&quot;).as(&quot;a&quot;).&lt;br/&gt;
+        addV(&quot;person&quot;).property(&quot;name&quot;, &quot;vadas&quot;).as(&quot;b&quot;).&lt;br/&gt;
+        addE(&quot;knows&quot;).property(&quot;weight&quot;, 1).from(&quot;a&quot;).to(&quot;b&quot;)&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+    And using the parameter xx1 defined as &quot;m[&lt;/p&gt;
{\&quot;t[label]\&quot;: \&quot;knows\&quot;, \&quot;D[OUT]\&quot;:\&quot;v[marko]\&quot;, \&quot;D[IN]\&quot;:\&quot;v[vadas]\&quot;}
&lt;p&gt;]&quot;&lt;br/&gt;
+    And the traversal of&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+      g.V().mergeE(xx1).&lt;br/&gt;
+              option(Merge.onMatch, _&lt;em&gt;.sideEffect(&lt;/em&gt;_.property(&quot;weight&quot;, 0)).constant(&lt;span class=&quot;error&quot;&gt;&amp;#91;:&amp;#93;&lt;/span&gt;))&lt;br/&gt;
+      &quot;&quot;&quot;&lt;br/&gt;
+    When iterated to list&lt;br/&gt;
+    Then the result should have a count of 2&lt;br/&gt;
+    And the graph should return 2 for count of &quot;g.V()&quot;&lt;br/&gt;
+    And the graph should return 0 for count of &quot;g.E().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;,1)&quot;&lt;br/&gt;
+    And the graph should return 1 for count of &quot;g.E().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;,0)&quot;&lt;br/&gt;
+    And the graph should return 0 for count of &quot;g.V().hasLabel(\&quot;knows\&quot;).has(\&quot;weight\&quot;)&quot;&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   bad cut/paste - fixed both - thanks.&lt;/p&gt;


</comment>
                            <comment id="17817091" author="githubbot" created="Tue, 13 Feb 2024 17:37:44 +0000"  >&lt;p&gt;vkagamlyk commented on PR #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487#issuecomment-1942076338&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487#issuecomment-1942076338&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

&lt;p&gt;   not exactly related to the current ticket, but is there same issue for `MergeV`?&lt;/p&gt;



</comment>
                            <comment id="17817094" author="githubbot" created="Tue, 13 Feb 2024 17:47:17 +0000"  >&lt;p&gt;xiazcy commented on PR #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487#issuecomment-1942092498&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487#issuecomment-1942092498&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17817101" author="githubbot" created="Tue, 13 Feb 2024 18:04:12 +0000"  >&lt;p&gt;Cole-Greer commented on PR #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487#issuecomment-1942116756&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487#issuecomment-1942116756&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   LGTM VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17817147" author="githubbot" created="Tue, 13 Feb 2024 20:34:12 +0000"  >&lt;p&gt;spmallette merged PR #2487:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2487&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2487&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17830726" author="JIRAUSER300646" created="Mon, 25 Mar 2024 23:00:19 +0000"  >&lt;p&gt;Resolved through a pair of follow-on fix CTR commits:&lt;br/&gt;
3.6-dev: &lt;a href=&quot;https://github.com/apache/tinkerpop/commit/f7c64dabf07f6d5008bf457690b85b6a86d2c924&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/commit/f7c64dabf07f6d5008bf457690b85b6a86d2c924&lt;/a&gt;&lt;br/&gt;
Master (4.x): &lt;a href=&quot;https://github.com/apache/tinkerpop/commit/3015f370431aa890492c33f94fa31138a0099d92&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/commit/3015f370431aa890492c33f94fa31138a0099d92&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="12310000">
                    <name>Duplicate</name>
                                                                <inwardlinks description="is duplicated by">
                                        <issuelink>
            <issuekey id="13564880">TINKERPOP-3036</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 32 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ndaw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>