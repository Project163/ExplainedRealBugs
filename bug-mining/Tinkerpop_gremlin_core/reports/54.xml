<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:11:50 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-2172] PartitionStrategy doesn&apos;t apply to AddEdgeStartStep</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-2172</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;PartitionStrategy doesn&apos;t apply to traversal started with addE step.&lt;/p&gt;

&lt;p&gt;For instance:&lt;/p&gt;

&lt;p&gt;PartitionStrategy partitionStrategy = PartitionStrategy.build()&lt;br/&gt;
 .partitionKey(&lt;font color=&quot;#660e7a&quot;&gt;partition&lt;/font&gt;).writePartition(&lt;font color=&quot;#008000&quot;&gt;&quot;A&quot;&lt;/font&gt;).readPartitions(&lt;font color=&quot;#008000&quot;&gt;&quot;A&quot;&lt;/font&gt;).create();&lt;br/&gt;
 GraphTraversalSource source = &lt;font color=&quot;#660e7a&quot;&gt;g&lt;/font&gt;.withStrategies(partitionStrategy);&lt;br/&gt;
 Vertex v1 = source.addV().property(&lt;font color=&quot;#008000&quot;&gt;&quot;any&quot;&lt;/font&gt;, &lt;font color=&quot;#008000&quot;&gt;&quot;thing&quot;&lt;/font&gt;).next();&lt;br/&gt;
 Vertex v2 = source.addV().property(&lt;font color=&quot;#008000&quot;&gt;&quot;some&quot;&lt;/font&gt;, &lt;font color=&quot;#008000&quot;&gt;&quot;thing&quot;&lt;/font&gt;).next();&lt;br/&gt;
 Edge e1 = source.withSideEffect(&lt;font color=&quot;#008000&quot;&gt;&quot;v2&quot;&lt;/font&gt;, v2).V(v1.id()).addE(&lt;font color=&quot;#008000&quot;&gt;&quot;connectsTo&quot;&lt;/font&gt;).from(&lt;font color=&quot;#008000&quot;&gt;&quot;v2&quot;&lt;/font&gt;).property(&lt;font color=&quot;#008000&quot;&gt;&quot;every&quot;&lt;/font&gt;, &lt;font color=&quot;#008000&quot;&gt;&quot;thing&quot;&lt;/font&gt;).next();&lt;br/&gt;
 Edge e2 = source.addE(&lt;font color=&quot;#008000&quot;&gt;&quot;relatesTo&quot;&lt;/font&gt;).from(v2).to(v1).property(&lt;font color=&quot;#008000&quot;&gt;&quot;every&quot;&lt;/font&gt;, &lt;font color=&quot;#008000&quot;&gt;&quot;thing&quot;&lt;/font&gt;).next();&lt;/p&gt;

&lt;p&gt;If you check e1 you will see partition property. But edge e2 wont have any partition property.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13219340">TINKERPOP-2172</key>
            <summary>PartitionStrategy doesn&apos;t apply to AddEdgeStartStep</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spmallette">Stephen Mallette</assignee>
                                    <reporter username="vladimir.bogomoloff">Vladimir</reporter>
                        <labels>
                    </labels>
                <created>Mon, 4 Mar 2019 17:14:37 +0000</created>
                <updated>Tue, 9 Apr 2019 19:33:43 +0000</updated>
                            <resolved>Wed, 13 Mar 2019 12:26:05 +0000</resolved>
                                    <version>3.4.1</version>
                                    <fixVersion>3.3.6</fixVersion>
                    <fixVersion>3.4.1</fixVersion>
                                    <component>process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="16783580" author="githubbot" created="Mon, 4 Mar 2019 17:28:27 +0000"  >&lt;p&gt;VladimirBogomolov commented on pull request #1078: &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2172&quot; title=&quot;PartitionStrategy doesn&amp;#39;t apply to AddEdgeStartStep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2172&quot;&gt;&lt;del&gt;TINKERPOP-2172&lt;/del&gt;&lt;/a&gt; Fix PartitionStrategy to apply to AddEdgeStartStep&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1078&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   Fix PartitionStrategy to apply to traversal started with addE step.&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16785548" author="githubbot" created="Wed, 6 Mar 2019 11:57:01 +0000"  >&lt;p&gt;spmallette commented on pull request #1079: &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2172&quot; title=&quot;PartitionStrategy doesn&amp;#39;t apply to AddEdgeStartStep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2172&quot;&gt;&lt;del&gt;TINKERPOP-2172&lt;/del&gt;&lt;/a&gt; Fix PartitionStrategy to apply to AddEdgeStartStep&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1079&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2172&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-2172&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Fix PartitionStrategy to apply to traversal started with addE step. I cherry-picked from #1078 to get this on `tp33` and fix up some other odds/ends.&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16785551" author="githubbot" created="Wed, 6 Mar 2019 11:58:20 +0000"  >&lt;p&gt;spmallette commented on pull request #1078: &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2172&quot; title=&quot;PartitionStrategy doesn&amp;#39;t apply to AddEdgeStartStep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2172&quot;&gt;&lt;del&gt;TINKERPOP-2172&lt;/del&gt;&lt;/a&gt; Fix PartitionStrategy to apply to AddEdgeStartStep&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1078&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1078&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16791641" author="githubbot" created="Wed, 13 Mar 2019 12:25:03 +0000"  >&lt;p&gt;spmallette commented on pull request #1079: &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2172&quot; title=&quot;PartitionStrategy doesn&amp;#39;t apply to AddEdgeStartStep&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2172&quot;&gt;&lt;del&gt;TINKERPOP-2172&lt;/del&gt;&lt;/a&gt; Fix PartitionStrategy to apply to AddEdgeStartStep&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1079&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1079&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16805326" author="gfxman" created="Fri, 29 Mar 2019 18:43:41 +0000"  >&lt;p&gt;I&apos;m not quite sure from the fix version and reported version above. Did this fix make the 3.4.1 release? It still seems to be failing at that level for me. Cheers, Kelvin.&lt;/p&gt;</comment>
                            <comment id="16813750" author="spmallette" created="Tue, 9 Apr 2019 19:33:43 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=gfxman&quot; class=&quot;user-hover&quot; rel=&quot;gfxman&quot;&gt;gfxman&lt;/a&gt; this seems to be working on 3.4.1 for me - when i use the repro steps provided on this issue i see the partition key on both edges:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
gremlin&amp;gt; g = TinkerGraph.open().traversal()
==&amp;gt;graphtraversalsource[tinkergraph[vertices:0 edges:0], standard]
gremlin&amp;gt; partitionStrategy = PartitionStrategy.build().partitionKey(&lt;span class=&quot;code-quote&quot;&gt;&quot;_p&quot;&lt;/span&gt;).writePartition(&lt;span class=&quot;code-quote&quot;&gt;&quot;A&quot;&lt;/span&gt;).readPartitions(&lt;span class=&quot;code-quote&quot;&gt;&quot;A&quot;&lt;/span&gt;).create()
==&amp;gt;PartitionStrategy
gremlin&amp;gt; source = g.withStrategies(partitionStrategy)
==&amp;gt;graphtraversalsource[tinkergraph[vertices:0 edges:0], standard]
gremlin&amp;gt; v1 = source.addV().property(&lt;span class=&quot;code-quote&quot;&gt;&quot;any&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;thing&quot;&lt;/span&gt;).next()
==&amp;gt;v[0]
gremlin&amp;gt; v2 = source.addV().property(&lt;span class=&quot;code-quote&quot;&gt;&quot;some&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;thing&quot;&lt;/span&gt;).next()
==&amp;gt;v[3]
gremlin&amp;gt; e1 = source.withSideEffect(&lt;span class=&quot;code-quote&quot;&gt;&quot;v2&quot;&lt;/span&gt;, v2).V(v1.id()).addE(&lt;span class=&quot;code-quote&quot;&gt;&quot;connectsTo&quot;&lt;/span&gt;).from(&lt;span class=&quot;code-quote&quot;&gt;&quot;v2&quot;&lt;/span&gt;).property(&lt;span class=&quot;code-quote&quot;&gt;&quot;every&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;thing&quot;&lt;/span&gt;).next()
==&amp;gt;e[6][3-connectsTo-&amp;gt;0]
gremlin&amp;gt; e2 = source.addE(&lt;span class=&quot;code-quote&quot;&gt;&quot;relatesTo&quot;&lt;/span&gt;).from(v2).to(v1).property(&lt;span class=&quot;code-quote&quot;&gt;&quot;every&quot;&lt;/span&gt;, &lt;span class=&quot;code-quote&quot;&gt;&quot;thing&quot;&lt;/span&gt;).next()
==&amp;gt;e[7][3-relatesTo-&amp;gt;0]
gremlin&amp;gt; g.E().valueMap()
==&amp;gt;[_p:A,every:thing]
==&amp;gt;[_p:A,every:thing]
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 31 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z00b4o:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>