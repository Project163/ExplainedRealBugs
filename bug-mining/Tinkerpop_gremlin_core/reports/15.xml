<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:11:34 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-1520] Difference between &apos;has&apos; step generated graphson2.0 in java and python glv implementation</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-1520</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;Noticed that between the java and python implementations, the graphson2.0 payload generated for a &lt;tt&gt;has&lt;/tt&gt; step is different.  i.e. for the given traversal:&lt;/p&gt;

&lt;p&gt;&lt;tt&gt;g.E().has(&quot;weight&quot;, 0.2)&lt;/tt&gt;&lt;/p&gt;

&lt;p&gt;The java implementation produces the following graphson:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt;{&lt;span class=&quot;code-quote&quot;&gt;&quot;@type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;g:Bytecode&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;@value&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;step&quot;&lt;/span&gt;:[[&lt;span class=&quot;code-quote&quot;&gt;&quot;E&quot;&lt;/span&gt;],[&lt;span class=&quot;code-quote&quot;&gt;&quot;has&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;weight&quot;&lt;/span&gt;,{&lt;span class=&quot;code-quote&quot;&gt;&quot;@type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;g:P&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;@value&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;predicate&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;eq&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;value&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;@type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;g:&lt;span class=&quot;code-object&quot;&gt;Double&lt;/span&gt;&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;@value&quot;&lt;/span&gt;:0.2}}}]]}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;where the python implementation produces the following:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-javascript&quot;&gt; {&lt;span class=&quot;code-quote&quot;&gt;&quot;@type&quot;&lt;/span&gt;:&lt;span class=&quot;code-quote&quot;&gt;&quot;g:Bytecode&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;@value&quot;&lt;/span&gt;:{&lt;span class=&quot;code-quote&quot;&gt;&quot;step&quot;&lt;/span&gt;:[[&lt;span class=&quot;code-quote&quot;&gt;&quot;E&quot;&lt;/span&gt;],[&lt;span class=&quot;code-quote&quot;&gt;&quot;has&quot;&lt;/span&gt;,&lt;span class=&quot;code-quote&quot;&gt;&quot;weight&quot;&lt;/span&gt;,0.2]]}}
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;In the java case, a &lt;tt&gt;g:P&lt;/tt&gt; typed (predicate) value is provided, where in the python case that isn&apos;t the case.&lt;/p&gt;

&lt;p&gt;I&apos;m assuming the java one is correct (primarily since the graph backend seems to like it and return the expected result).   Should GLV implementations behave this way?  I noticed that &lt;tt&gt;GraphTraversal#has(String propertyKey, Object value)&lt;/tt&gt; in the java TinkerPop api wraps the value in a predicate (&lt;tt&gt;P.eq&lt;/tt&gt;) under the covers (&lt;a href=&quot;https://github.com/apache/tinkerpop/blob/master/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/dsl/graph/GraphTraversal.java#L922&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;link&lt;/a&gt;) so maybe implementors will need to do the same (&lt;a href=&quot;https://github.com/apache/tinkerpop/blob/master/gremlin-python/src/main/jython/gremlin_python/process/graph_traversal.py#L193&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;python link&lt;/a&gt;)?&lt;/p&gt;</description>
                <environment></environment>
        <key id="13013249">TINKERPOP-1520</key>
            <summary>Difference between &apos;has&apos; step generated graphson2.0 in java and python glv implementation</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="okram">Marko A. Rodriguez</assignee>
                                    <reporter username="andrew.tolbert">Andy Tolbert</reporter>
                        <labels>
                    </labels>
                <created>Tue, 18 Oct 2016 17:04:24 +0000</created>
                <updated>Wed, 13 Sep 2017 11:56:46 +0000</updated>
                            <resolved>Wed, 13 Sep 2017 11:56:46 +0000</resolved>
                                    <version>3.2.3</version>
                                    <fixVersion>3.3.0</fixVersion>
                                    <component>python</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15586488" author="andrew.tolbert" created="Tue, 18 Oct 2016 19:48:52 +0000"  >&lt;p&gt;Just to correct my previous comment.  The query appears to work correctly in both cases (whether a predicate is used or not), but would still be good for the behavior to be consistent across implementations.&lt;/p&gt;</comment>
                            <comment id="15675452" author="okram" created="Fri, 18 Nov 2016 01:58:06 +0000"  >&lt;p&gt;This ticket has spawned a beautiful body of tests in the &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1520&quot; title=&quot;Difference between &amp;#39;has&amp;#39; step generated graphson2.0 in java and python glv implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1520&quot;&gt;&lt;del&gt;TINKERPOP-1520&lt;/del&gt;&lt;/a&gt; branch. &lt;tt&gt;tp32/&lt;/tt&gt; PR by end of day tomorrow.&lt;/p&gt;</comment>
                            <comment id="15676743" author="githubbot" created="Fri, 18 Nov 2016 13:43:59 +0000"  >&lt;p&gt;GitHub user okram opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1520&quot; title=&quot;Difference between &amp;#39;has&amp;#39; step generated graphson2.0 in java and python glv implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1520&quot;&gt;&lt;del&gt;TINKERPOP-1520&lt;/del&gt;&lt;/a&gt;: Difference between &apos;has&apos; step generated graphson2.0 in java and python glv implementation&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1520&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-1520&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This branch has done alot around testing and GraphSON.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;We now verify that all translators create Traversals with bytecode identical to the original translated bytecode. (tested against all traversals in ProcessSuite)&lt;/li&gt;
	&lt;li&gt;We now verify that Gremlin-Python&apos;s GraphSON Bytecode representation is identical to Gremlin-Java&apos;s. (tested against all traversals in ProcessSuite)&lt;/li&gt;
	&lt;li&gt;We now verify that GraphTraversal is in one-to-one correspondence with Bytecode. That is, has(&quot;name&quot;) -&amp;gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;has,name&amp;#93;&lt;/span&gt;. (bad ass reflection technique used here)&lt;/li&gt;
	&lt;li&gt;There was a GraphSON 2.0 issue with Edge properties. Changed to the same format a VertexProperties. Smaller footprint and only necessary information.&lt;/li&gt;
	&lt;li&gt;Added VertexID (&quot;vertex&quot;-field) to VertexProperty in GraphSON 2.0 &amp;#8211; how else will you attach?&lt;/li&gt;
	&lt;li&gt;Added Element (&quot;element&quot;-field) to Property in GraphSON 2.0 &amp;#8211; how else will you attach?&lt;/li&gt;
	&lt;li&gt;Added TraversalStrategy classes to GryoMapper as we (@spmallette !!! shame on you) simply dropped `withStrategies()` instructions in Gryo Bytecode serialization.&lt;/li&gt;
	&lt;li&gt;TranslationStrategy is now smart to remove itself from the Bytecode. No longer do the Translators have to be wary of this (lots of code deleted).&lt;/li&gt;
	&lt;li&gt;We now verify that Gryo created bytecode is identical to source bytecode.&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    ...need I go on?&lt;/p&gt;

&lt;p&gt;    VOTE +1&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/apache/tinkerpop&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1520&quot; title=&quot;Difference between &amp;#39;has&amp;#39; step generated graphson2.0 in java and python glv implementation&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1520&quot;&gt;&lt;del&gt;TINKERPOP-1520&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #499&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 6aa6fc5adc47170e1c049bc47970bcaaf54b5ff2&lt;br/&gt;
Author: Marko A. Rodriguez &amp;lt;okrammarko@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-16T23:08:19Z&lt;/p&gt;

&lt;p&gt;    TranslationStrategy (a test framework strategy) now verifies that the Bytecode submitted to the translator is equal to the bytecode of the generated/translated traversal. This was a nightmare to get everything working. We had so many little nick nack bugs. In particular, VertexProperty and Property GraphSON serialization needs to have their element() serialized or else you can&apos;t attach/argument. This is still a problem in Gryo and we will need to solve it for 3.3.0. In short, lots of test cases added, lots of tweaks to the various translators made, graphson.py updated significantly (though backwards compatible), etc. Crazy shiiiiiiiet.&lt;/p&gt;

&lt;p&gt;commit 86e420f4c0e2ef9d163c87b3540ed2058193520e&lt;br/&gt;
Author: Marko A. Rodriguez &amp;lt;okrammarko@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-17T19:16:58Z&lt;/p&gt;

&lt;p&gt;    Element data in VertexProperty and Property are now minimilistic and only what is necessay to attach the Property/VertexProperty. Added more test cases accordingly.&lt;/p&gt;

&lt;p&gt;commit 09bde87e57eb77da7806724a9cbf06181b97f040&lt;br/&gt;
Author: Marko A. Rodriguez &amp;lt;okrammarko@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-17T20:47:02Z&lt;/p&gt;

&lt;p&gt;    changed the Edge property GraphSON serialization to do key/value map like VertexProperty metaProperties. Talking with @spmallette &amp;#8211; we believe the Edge property serialization is a bug. Other random cleanups.&lt;/p&gt;

&lt;p&gt;commit e86372d0733088a2bdd87a0827eaa7abdefcf141&lt;br/&gt;
Author: Marko A. Rodriguez &amp;lt;okrammarko@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-18T00:58:32Z&lt;/p&gt;

&lt;p&gt;    I just did Gods work. TranslationStrategy is now smart about removing itself from the Bytecode so all the Translators no longer have to have IS_TESTING in them. GraphTraversalTest has a sweet method that uses reflection to generate fake arguments to ensure that the Bytecode instruction arguments are identical to the method arguments. Found lots of redirects in GraphTraversal that have since been fixed. Step-&amp;gt;Instruction are in one-to-one correspondence. More work on GraphSON and added more tests around serialization in both Python and Java. Added an IS_TESTING extension to PythonGraphSONTranslator that ensures that the GraphSON representaiton of the java Bytecode is the same as the Python bytecode. TaDa. Added some more cool helper methods to BytecodeHelper. Crazy cool stuff.&lt;/p&gt;

&lt;p&gt;commit 31cdb4bf6cfb02e56cce35e536d85c6c13b03e97&lt;br/&gt;
Author: Marko A. Rodriguez &amp;lt;okrammarko@gmail.com&amp;gt;&lt;br/&gt;
Date:   2016-11-18T13:42:41Z&lt;/p&gt;

&lt;p&gt;    IoPropertyTest had to be tweaked cause graphson v2 without embedded types was turning Neo4j ids to ints instead of longs. We really should get rid of graphson v2-noembedding (@spmallette). Finally, along with doing string comparison of the GraphSON from the bytecode of both Java and Python, I also convert to a Map&amp;lt;String,Object&amp;gt; and test the .equals() of the two. Done with this branch. What a whirl wind tour.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15676750" author="githubbot" created="Fri, 18 Nov 2016 13:47:14 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Oh &amp;#8211; and I forgot. Gremlin-Python now has serializers for Vertex, Edge, Property, VertexProperty... Thus, you can `g.V(v&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;)` from Gremlin-Python to Gremlin-Java.&lt;/p&gt;</comment>
                            <comment id="15677284" author="githubbot" created="Fri, 18 Nov 2016 17:58:04 +0000"  >&lt;p&gt;Github user spmallette commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88705921&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88705921&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: CHANGELOG.asciidoc &amp;#8212;&lt;br/&gt;
    @@ -26,6 +26,12 @@ image::&lt;a href=&quot;https://raw.githubusercontent.com/apache/tinkerpop/master/docs/static/ima&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://raw.githubusercontent.com/apache/tinkerpop/master/docs/static/ima&lt;/a&gt;&lt;br/&gt;
     TinkerPop 3.2.4 (Release Date: NOT OFFICIALLY RELEASED YET)&lt;br/&gt;
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&lt;/p&gt;

&lt;p&gt;    +* Added &quot;attachment requisite&quot; `VertexProperty.element()` and `Property.element()` data in GraphSON serialization.&lt;br/&gt;
    +* Added `Vertex`, `Edge`, `VertexProperty`, and `Property` serializers to Gremlin-Python and exposed tests that use graph object arguments.&lt;br/&gt;
    +* `Bytecode.getSourceInstructions()` and `Bytecode.getStepInstructions()` now returns `List&amp;lt;Instruction&amp;gt;` instead of `Iterable&amp;lt;Instruction&amp;gt;`.&lt;br/&gt;
    +* Added various `TraversalStrategy` registrations with `GryoMapper`.&lt;br/&gt;
    +* Fixed a naming mistake in Gremlin-Python: `IdentityRemoveStrategy` is now called `IdentityRemovalStrategy`. (&lt;b&gt;breaking&lt;/b&gt;)&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I&apos;ve noticed that in the last few versions you&apos;ve started adding &quot;breaking&quot; to changelog entries. I&apos;ve been tying &quot;breaking&quot; to tickets that will then show up in the changelog on release.  We can start doing this from now i guess, but it&apos;s not been done consistently in changelog in any way. I guess that&apos;s a really minor breaking change which wouldn&apos;t warrant a separate ticket. I dunno - do we want to keep doing this and should it be done consistently going forward?&lt;/p&gt;</comment>
                            <comment id="15677311" author="githubbot" created="Fri, 18 Nov 2016 18:06:40 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This is a nice body of work. So you also close this one with this PR?&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1454&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-1454&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Any others?&lt;/p&gt;

&lt;p&gt;    As there are some breaking changes to graphson formatting, can you please add upgrade docs? also, the io documentation needs to be updated and regenerated.&lt;/p&gt;</comment>
                            <comment id="15677320" author="githubbot" created="Fri, 18 Nov 2016 18:09:59 +0000"  >&lt;p&gt;Github user okram commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88707852&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88707852&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: CHANGELOG.asciidoc &amp;#8212;&lt;br/&gt;
    @@ -26,6 +26,12 @@ image::&lt;a href=&quot;https://raw.githubusercontent.com/apache/tinkerpop/master/docs/static/ima&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://raw.githubusercontent.com/apache/tinkerpop/master/docs/static/ima&lt;/a&gt;&lt;br/&gt;
     TinkerPop 3.2.4 (Release Date: NOT OFFICIALLY RELEASED YET)&lt;br/&gt;
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&lt;/p&gt;

&lt;p&gt;    +* Added &quot;attachment requisite&quot; `VertexProperty.element()` and `Property.element()` data in GraphSON serialization.&lt;br/&gt;
    +* Added `Vertex`, `Edge`, `VertexProperty`, and `Property` serializers to Gremlin-Python and exposed tests that use graph object arguments.&lt;br/&gt;
    +* `Bytecode.getSourceInstructions()` and `Bytecode.getStepInstructions()` now returns `List&amp;lt;Instruction&amp;gt;` instead of `Iterable&amp;lt;Instruction&amp;gt;`.&lt;br/&gt;
    +* Added various `TraversalStrategy` registrations with `GryoMapper`.&lt;br/&gt;
    +* Fixed a naming mistake in Gremlin-Python: `IdentityRemoveStrategy` is now called `IdentityRemovalStrategy`. (&lt;b&gt;breaking&lt;/b&gt;)&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    If you don&apos;t like it, lets not do it. I can remove the &quot;breaking&quot; tag in the CHANGELOG on merge.&lt;/p&gt;</comment>
                            <comment id="15677324" author="githubbot" created="Fri, 18 Nov 2016 18:11:05 +0000"  >&lt;p&gt;Github user okram commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88708033&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88708033&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/dsl/graph/GraphTraversalTest.java &amp;#8212;&lt;br/&gt;
    @@ -71,4 +80,89 @@ public void graphTraversalShouldHaveMethodsOfAnonymousGraphTraversal() {&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;br/&gt;
    +&lt;br/&gt;
    +    @Test&lt;br/&gt;
    +    public void graphTraversalMethodsShouldGenerateCorrespondingBytecode() throws Exception {&lt;br/&gt;
    +        final Random random = new Random();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Lets keep it un-seeded. If it breaks down the road, we learn something. If not, then its good.&lt;/p&gt;</comment>
                            <comment id="15677327" author="githubbot" created="Fri, 18 Nov 2016 18:12:01 +0000"  >&lt;p&gt;Github user spmallette commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88708180&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88708180&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: CHANGELOG.asciidoc &amp;#8212;&lt;br/&gt;
    @@ -26,6 +26,12 @@ image::&lt;a href=&quot;https://raw.githubusercontent.com/apache/tinkerpop/master/docs/static/ima&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://raw.githubusercontent.com/apache/tinkerpop/master/docs/static/ima&lt;/a&gt;&lt;br/&gt;
     TinkerPop 3.2.4 (Release Date: NOT OFFICIALLY RELEASED YET)&lt;br/&gt;
     ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~&lt;/p&gt;

&lt;p&gt;    +* Added &quot;attachment requisite&quot; `VertexProperty.element()` and `Property.element()` data in GraphSON serialization.&lt;br/&gt;
    +* Added `Vertex`, `Edge`, `VertexProperty`, and `Property` serializers to Gremlin-Python and exposed tests that use graph object arguments.&lt;br/&gt;
    +* `Bytecode.getSourceInstructions()` and `Bytecode.getStepInstructions()` now returns `List&amp;lt;Instruction&amp;gt;` instead of `Iterable&amp;lt;Instruction&amp;gt;`.&lt;br/&gt;
    +* Added various `TraversalStrategy` registrations with `GryoMapper`.&lt;br/&gt;
    +* Fixed a naming mistake in Gremlin-Python: `IdentityRemoveStrategy` is now called `IdentityRemovalStrategy`. (&lt;b&gt;breaking&lt;/b&gt;)&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    mostly don&apos;t like it because we didn&apos;t do it from the start....my ocd is nagging at me about it now and there&apos;s no easy way to go back through and retroactively fix it. if you&apos;re cool to drop them, i&apos;m fine with that.&lt;/p&gt;</comment>
                            <comment id="15677336" author="githubbot" created="Fri, 18 Nov 2016 18:15:54 +0000"  >&lt;p&gt;Github user okram commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88708851&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88708851&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-groovy/src/main/java/org/apache/tinkerpop/gremlin/groovy/jsr223/GroovyTranslator.java &amp;#8212;&lt;br/&gt;
    @@ -47,8 +49,6 @@&lt;br/&gt;
      */&lt;br/&gt;
     public final class GroovyTranslator implements Translator.ScriptTranslator {&lt;/p&gt;

&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;private static final boolean IS_TESTING = Boolean.valueOf(System.getProperty(&quot;is.testing&quot;, &quot;false&quot;));
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    No. Its just got gutted from all the `XXXTranslators` as they needed to remove the `&lt;span class=&quot;error&quot;&gt;&amp;#91;withStrategies, TranslatorStrategy&amp;#93;&lt;/span&gt;` instruction from the bytecode before compiling. I realized, `TranslationStrategy` can just remove itself from the bytecode before sending the bytecode to the `Translator`. &lt;/p&gt;</comment>
                            <comment id="15677339" author="githubbot" created="Fri, 18 Nov 2016 18:16:59 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yea. I will do the upgrade and io docs. Integration testing Giraph is running right now :| ... once that completes, I will push doc updates.&lt;/p&gt;</comment>
                            <comment id="15677341" author="githubbot" created="Fri, 18 Nov 2016 18:17:26 +0000"  >&lt;p&gt;Github user spmallette commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88709124&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88709124&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/dsl/graph/GraphTraversalTest.java &amp;#8212;&lt;br/&gt;
    @@ -71,4 +80,89 @@ public void graphTraversalShouldHaveMethodsOfAnonymousGraphTraversal() {&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;br/&gt;
    +&lt;br/&gt;
    +    @Test&lt;br/&gt;
    +    public void graphTraversalMethodsShouldGenerateCorrespondingBytecode() throws Exception {&lt;br/&gt;
    +        final Random random = new Random();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Ok - I have a body of tests that are kinda like this. I add this:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/blob/master/gremlin-server/src/test/java/org/apache/tinkerpop/gremlin/server/GremlinServerIntegrateTest.java#L375-L379&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/blob/master/gremlin-server/src/test/java/org/apache/tinkerpop/gremlin/server/GremlinServerIntegrateTest.java#L375-L379&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    so that they only run when `-DassertNonDeterministic` is added to the `mvn clean install`. This should probably be one of those tests. &lt;/p&gt;</comment>
                            <comment id="15678343" author="githubbot" created="Sat, 19 Nov 2016 01:42:33 +0000"  >&lt;p&gt;Github user newkek commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Indeed there seems to be some breaking changes in the protocol. It seems ok for pure TinkerPop since the parsing code is updated accordingly but will cause problems to implementors, just as a note (maybe only for my own remembering)...&lt;/p&gt;</comment>
                            <comment id="15678370" author="githubbot" created="Sat, 19 Nov 2016 02:01:15 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88769301&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88769301&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -175,8 +177,30 @@ public PropertyJacksonSerializer() {&lt;br/&gt;
             public void serialize(final Property property, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider)&lt;br/&gt;
                     throws IOException {&lt;br/&gt;
                 jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jsonGenerator.writeObjectField(GraphSONTokens.KEY, property.key());&lt;br/&gt;
    +            jsonGenerator.writeStringField(GraphSONTokens.KEY, property.key());&lt;br/&gt;
                 jsonGenerator.writeObjectField(GraphSONTokens.VALUE, property.value());&lt;br/&gt;
    +            if (property.element() instanceof VertexProperty) {&lt;br/&gt;
    +                VertexProperty vertexProperty = (VertexProperty) property.element();&lt;br/&gt;
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.ELEMENT);&lt;br/&gt;
    +                jsonGenerator.writeStringField(GraphSONTokens.VALUETYPE, &quot;g:VertexProperty&quot;);
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    It isn&apos;t great to bypass the typing system.. As the type system is dynamic, hardcoding the type can lead to inconsistent types if users overrides the Gremlin standard serializers and types as it is currently possible. But I see why we can&apos;t just jsonGenerator.writeObjectField(GraphSONTokens.ELEMENT, property.element()), because that would, well, re-write VertexProperty&apos;s properties and so on. We can maybe introduce a &quot;g:Element&quot; type? Or maybe just write a simple Map here where the deserializers are aware of what to do with a &quot;element&quot; field? wdyt?&lt;/p&gt;</comment>
                            <comment id="15678383" author="githubbot" created="Sat, 19 Nov 2016 02:07:03 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88769492&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88769492&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -175,8 +177,30 @@ public PropertyJacksonSerializer() {&lt;br/&gt;
             public void serialize(final Property property, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider)&lt;br/&gt;
                     throws IOException {&lt;br/&gt;
                 jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jsonGenerator.writeObjectField(GraphSONTokens.KEY, property.key());&lt;br/&gt;
    +            jsonGenerator.writeStringField(GraphSONTokens.KEY, property.key());&lt;br/&gt;
                 jsonGenerator.writeObjectField(GraphSONTokens.VALUE, property.value());&lt;br/&gt;
    +            if (property.element() instanceof VertexProperty) 
{
    +                VertexProperty vertexProperty = (VertexProperty) property.element();
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.ELEMENT);
    +                jsonGenerator.writeStringField(GraphSONTokens.VALUETYPE, &quot;g:VertexProperty&quot;);
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.VALUEPROP);
    +                jsonGenerator.writeObjectField(GraphSONTokens.ID, vertexProperty.id());
    +                jsonGenerator.writeStringField(GraphSONTokens.LABEL, vertexProperty.label());
    +                jsonGenerator.writeObjectField(GraphSONTokens.VERTEX, vertexProperty.element().id());
    +                jsonGenerator.writeEndObject();
    +                jsonGenerator.writeEndObject();
    +            }
&lt;p&gt; else if (property.element() instanceof Edge) {&lt;br/&gt;
    +                Edge edge = (Edge) property.element();&lt;br/&gt;
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.ELEMENT);&lt;br/&gt;
    +                jsonGenerator.writeStringField(GraphSONTokens.VALUETYPE, &quot;g:Edge&quot;);&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    This will write an object of type &quot;g:Edge&quot; but will not contain the same content than what a Edge serializer would have serialized, and so the contents are inconsistent. Here what is missing is the out/inVLabel&lt;/p&gt;</comment>
                            <comment id="15678390" author="githubbot" created="Sat, 19 Nov 2016 02:11:53 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88769639&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88769639&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -193,44 +217,46 @@ public VertexPropertyJacksonSerializer(final boolean normalize, final boolean in&lt;br/&gt;
             }&lt;/p&gt;

&lt;p&gt;             @Override&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;public void serialize(final VertexProperty property, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider)&lt;br/&gt;
    +        public void serialize(final VertexProperty vertexProperty, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider)&lt;br/&gt;
                     throws IOException {&lt;br/&gt;
                 jsonGenerator.writeStartObject();&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jsonGenerator.writeObjectField(GraphSONTokens.ID, property.id());&lt;/li&gt;
	&lt;li&gt;jsonGenerator.writeObjectField(GraphSONTokens.VALUE, property.value());&lt;/li&gt;
	&lt;li&gt;if (includeLabel)&lt;/li&gt;
	&lt;li&gt;jsonGenerator.writeStringField(GraphSONTokens.LABEL, property.label());&lt;/li&gt;
	&lt;li&gt;tryWriteMetaProperties(property, jsonGenerator, normalize);&lt;br/&gt;
    +            jsonGenerator.writeObjectField(GraphSONTokens.ID, vertexProperty.id());&lt;br/&gt;
    +            jsonGenerator.writeObjectField(GraphSONTokens.VALUE, vertexProperty.value());&lt;br/&gt;
    +            if (null != vertexProperty.element())&lt;br/&gt;
    +                jsonGenerator.writeObjectField(GraphSONTokens.VERTEX, vertexProperty.element().id());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Same as &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499/files#r88769610&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499/files#r88769610&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15678403" author="githubbot" created="Sat, 19 Nov 2016 02:19:47 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88769838&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88769838&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -299,6 +325,7 @@ public void serialize(final TraversalExplanation traversalExplanation, final Jso&lt;br/&gt;
                     intermediate.put(GraphSONTokens.STRATEGY, pair.getValue0().toString());&lt;br/&gt;
                     intermediate.put(GraphSONTokens.CATEGORY, pair.getValue0().getTraversalCategory().getSimpleName());&lt;br/&gt;
                     intermediate.put(GraphSONTokens.TRAVERSAL, getStepsAsList(pair.getValue1()));&lt;br/&gt;
    +                intermediate.put(GraphSONTokens.TRAVERSAL, getStepsAsList(pair.getValue1()));&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Is this line supposed to be duplicated?&lt;/p&gt;</comment>
                            <comment id="15678413" author="githubbot" created="Sat, 19 Nov 2016 02:29:38 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88770063&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88770063&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -459,9 +486,33 @@ public PropertyJacksonDeserializer() {&lt;/p&gt;

&lt;p&gt;             @Override&lt;br/&gt;
             public Property createObject(final Map&amp;lt;String, Object&amp;gt; propData) &lt;/p&gt;
{
    -            return new DetachedProperty(
    -                    (String) propData.get(GraphSONTokens.KEY),
    -                    propData.get(GraphSONTokens.VALUE));
    +            final Object element = propData.get(GraphSONTokens.ELEMENT);
    +            return element instanceof Element ? // graphson-non-embedded is treated differently, but since this is a hard coded embedding...
    +                    new DetachedProperty&amp;lt;&amp;gt;((String) propData.get(GraphSONTokens.KEY), propData.get(GraphSONTokens.VALUE), (Element) element) :
    +                    new DetachedProperty&amp;lt;&amp;gt;((String) propData.get(GraphSONTokens.KEY), propData.get(GraphSONTokens.VALUE));
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    static class VertexPropertyJacksonDeserializer extends AbstractObjectDeserializer&amp;lt;VertexProperty&amp;gt; {&lt;br/&gt;
    +&lt;br/&gt;
    +        protected VertexPropertyJacksonDeserializer() &lt;/p&gt;
{
    +            super(VertexProperty.class);
    +        }
&lt;p&gt;    +&lt;br/&gt;
    +        @Override&lt;br/&gt;
    +        public VertexProperty createObject(final Map&amp;lt;String, Object&amp;gt; propData) {&lt;br/&gt;
    +            return propData.containsKey(GraphSONTokens.VERTEX) ?&lt;br/&gt;
    +                    new DetachedVertexProperty&amp;lt;&amp;gt;(&lt;br/&gt;
    +                            propData.get(GraphSONTokens.ID),&lt;br/&gt;
    +                            (String) propData.get(GraphSONTokens.LABEL),&lt;br/&gt;
    +                            propData.get(GraphSONTokens.VALUE), (Map&amp;lt;String, Object&amp;gt;) propData.get(GraphSONTokens.PROPERTIES),&lt;br/&gt;
    +                            new DetachedVertex(propData.get(GraphSONTokens.VERTEX), Vertex.DEFAULT_LABEL, null)) :&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Supposing it&apos;s a Vertex with VertexProperties that is deserialized (and not only a VertexProperty on its own), will this really make the VertexProperty link to the right parent Vertex? It looks like this will create another one. However, I&apos;ve recently found a nice way to make a deserializer sort of &quot;context aware&quot; in order to, when a Vertex deserializer deserializes its own VertexProperties, it can give to the VertexProperty deserializers the Vertex object that&apos;s &quot;above&quot; them - the VertexProperty&apos;s parent. I haven&apos;t had time to propose a fix here in TP but I intended to do so soon if you guys are interested &lt;/p&gt;</comment>
                            <comment id="15678417" author="githubbot" created="Sat, 19 Nov 2016 02:30:53 +0000"  >&lt;p&gt;Github user newkek commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I sneaked in and made a few comments I hope that&apos;s ok&lt;/p&gt;</comment>
                            <comment id="15683833" author="githubbot" created="Mon, 21 Nov 2016 15:18:09 +0000"  >&lt;p&gt;Github user okram commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88914949&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88914949&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -175,8 +177,30 @@ public PropertyJacksonSerializer() {&lt;br/&gt;
             public void serialize(final Property property, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider)&lt;br/&gt;
                     throws IOException {&lt;br/&gt;
                 jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jsonGenerator.writeObjectField(GraphSONTokens.KEY, property.key());&lt;br/&gt;
    +            jsonGenerator.writeStringField(GraphSONTokens.KEY, property.key());&lt;br/&gt;
                 jsonGenerator.writeObjectField(GraphSONTokens.VALUE, property.value());&lt;br/&gt;
    +            if (property.element() instanceof VertexProperty) 
{
    +                VertexProperty vertexProperty = (VertexProperty) property.element();
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.ELEMENT);
    +                jsonGenerator.writeStringField(GraphSONTokens.VALUETYPE, &quot;g:VertexProperty&quot;);
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.VALUEPROP);
    +                jsonGenerator.writeObjectField(GraphSONTokens.ID, vertexProperty.id());
    +                jsonGenerator.writeStringField(GraphSONTokens.LABEL, vertexProperty.label());
    +                jsonGenerator.writeObjectField(GraphSONTokens.VERTEX, vertexProperty.element().id());
    +                jsonGenerator.writeEndObject();
    +                jsonGenerator.writeEndObject();
    +            }
&lt;p&gt; else if (property.element() instanceof Edge) {&lt;br/&gt;
    +                Edge edge = (Edge) property.element();&lt;br/&gt;
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.ELEMENT);&lt;br/&gt;
    +                jsonGenerator.writeStringField(GraphSONTokens.VALUETYPE, &quot;g:Edge&quot;);&lt;/p&gt;
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    You can&apos;t always expect `outVLabel` and `inVLabel` to exist. Think about `ReferenceEdge`. It would be too expensive to always include such information. The most important think about the serialization is &quot;can it be attached?&quot; The way GraphSON 2.0 was designed, this was not the case. How do you attach a property? an vertex property? Finally, given the attach requirements of an edge, you have the problem of:&lt;/p&gt;

&lt;p&gt;    property -&amp;gt; edge -&amp;gt; vertex (which vertex &amp;#8211; in or out?) ...  &lt;/p&gt;

&lt;p&gt;    The amount of data required to attach a property would be pretty nasty. Hence, the &quot;reference&quot; serialization is smaller.&lt;/p&gt;</comment>
                            <comment id="15683838" author="githubbot" created="Mon, 21 Nov 2016 15:20:19 +0000"  >&lt;p&gt;Github user okram commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r88915459&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r88915459&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -175,8 +177,30 @@ public PropertyJacksonSerializer() {&lt;br/&gt;
             public void serialize(final Property property, final JsonGenerator jsonGenerator, final SerializerProvider serializerProvider)&lt;br/&gt;
                     throws IOException {&lt;br/&gt;
                 jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;jsonGenerator.writeObjectField(GraphSONTokens.KEY, property.key());&lt;br/&gt;
    +            jsonGenerator.writeStringField(GraphSONTokens.KEY, property.key());&lt;br/&gt;
                 jsonGenerator.writeObjectField(GraphSONTokens.VALUE, property.value());&lt;br/&gt;
    +            if (property.element() instanceof VertexProperty) {&lt;br/&gt;
    +                VertexProperty vertexProperty = (VertexProperty) property.element();&lt;br/&gt;
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.ELEMENT);&lt;br/&gt;
    +                jsonGenerator.writeStringField(GraphSONTokens.VALUETYPE, &quot;g:VertexProperty&quot;);&lt;br/&gt;
    +                jsonGenerator.writeObjectFieldStart(GraphSONTokens.VALUEPROP);&lt;br/&gt;
    +                jsonGenerator.writeObjectField(GraphSONTokens.ID, vertexProperty.id());&lt;br/&gt;
    +                jsonGenerator.writeStringField(GraphSONTokens.LABEL, vertexProperty.label());&lt;br/&gt;
    +                jsonGenerator.writeObjectField(GraphSONTokens.VERTEX, vertexProperty.element().id());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Because a `VertexProperty` is attached to a `Vertex` and thus, generalized `Element` semantics would only cause a chain of JSON unnecessary when `Vertex` attachement only requires a single ID &amp;#8211; the vertex id.&lt;/p&gt;</comment>
                            <comment id="15685026" author="githubbot" created="Mon, 21 Nov 2016 23:07:00 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89010143&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89010143&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -153,13 +152,16 @@ public void serialize(final Edge edge, final JsonGenerator jsonGenerator, final&lt;br/&gt;
             }&lt;/p&gt;

&lt;p&gt;             private void writeProperties(final Edge edge, final JsonGenerator jsonGenerator) throws IOException {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; elementProperties = normalize ?&lt;br/&gt;
    +            final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; edgeProperties = normalize ?&lt;br/&gt;
                         IteratorUtils.list(edge.properties(), Comparators.PROPERTY_COMPARATOR).iterator() : edge.properties();&lt;/li&gt;
	&lt;li&gt;if (elementProperties.hasNext()) {&lt;br/&gt;
    +            if (edgeProperties.hasNext()) {&lt;br/&gt;
                     jsonGenerator.writeFieldName(GraphSONTokens.PROPERTIES);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                     jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;elementProperties.forEachRemaining(prop -&amp;gt; safeWriteObjectField(jsonGenerator, prop.key(), prop));&lt;br/&gt;
    +                while (edgeProperties.hasNext()) {
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I had noticed the discrepancy in that VertexProperty&apos;s Properties are not serialized as Properties but instead the values directly are serialized and that&apos;s an oversight from when I implemented GraphSON2. I understand that the same thing is applied here and it makes a smaller footprint but I think we should rather fix the VertexProperty&apos;s properties to be serialized as Map of Properties and not Map of the values, because it reflects directly what is going on underneath and so the deserialization process does not need to any transformation, just set the fields of the newly created object with the rest of the deserialized data, rather than creating. Also it is not consistent because each Vertex, Edge, and VertexProperty derive from Element, which has the same `properties` field, a list of  `? extends Property` so we should come up with the same format for all I believe and here a Vertex would have its properties serialized objects, but the others would have their properties serialized as the values, not sure if that&apos;s a major concern but I would advocate for consistency as much as possible&lt;/p&gt;</comment>
                            <comment id="15685027" author="githubbot" created="Mon, 21 Nov 2016 23:07:26 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89010235&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89010235&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -153,13 +152,16 @@ public void serialize(final Edge edge, final JsonGenerator jsonGenerator, final&lt;br/&gt;
             }&lt;/p&gt;

&lt;p&gt;             private void writeProperties(final Edge edge, final JsonGenerator jsonGenerator) throws IOException {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; elementProperties = normalize ?&lt;br/&gt;
    +            final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; edgeProperties = normalize ?&lt;br/&gt;
                         IteratorUtils.list(edge.properties(), Comparators.PROPERTY_COMPARATOR).iterator() : edge.properties();&lt;/li&gt;
	&lt;li&gt;if (elementProperties.hasNext()) {&lt;br/&gt;
    +            if (edgeProperties.hasNext()) {&lt;br/&gt;
                     jsonGenerator.writeFieldName(GraphSONTokens.PROPERTIES);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                     jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;elementProperties.forEachRemaining(prop -&amp;gt; safeWriteObjectField(jsonGenerator, prop.key(), prop));&lt;br/&gt;
    +                while (edgeProperties.hasNext()) {&lt;br/&gt;
    +                    final Property&amp;lt;?&amp;gt; property = edgeProperties.next();&lt;br/&gt;
    +                    jsonGenerator.writeObjectField(property.key(), property.value());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I had noticed the discrepancy in that VertexProperty&apos;s Properties are not serialized as Properties but instead the values directly are serialized and that&apos;s an oversight from when I implemented GraphSON2. I understand that the same thing is applied here and it makes a smaller footprint but I think we should rather fix the VertexProperty&apos;s properties to be serialized as Map of Properties and not Map of the values, because it reflects directly what is going on underneath and so the deserialization process does not need to any transformation, just set the fields of the newly created object with the rest of the deserialized data, rather than creating. Also it is not consistent because each Vertex, Edge, and VertexProperty derive from Element, which has the same properties field, a list of ? extends Property so we should come up with the same format for all I believe and here a Vertex would have its properties serialized objects, but the others would have their properties serialized as the values, not sure if that&apos;s a major concern but I would advocate for consistency as much as possible&lt;/p&gt;</comment>
                            <comment id="15685033" author="githubbot" created="Mon, 21 Nov 2016 23:07:55 +0000"  >&lt;p&gt;Github user okram commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89010296&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89010296&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -459,9 +486,33 @@ public PropertyJacksonDeserializer() {&lt;/p&gt;

&lt;p&gt;             @Override&lt;br/&gt;
             public Property createObject(final Map&amp;lt;String, Object&amp;gt; propData) &lt;/p&gt;
{
    -            return new DetachedProperty(
    -                    (String) propData.get(GraphSONTokens.KEY),
    -                    propData.get(GraphSONTokens.VALUE));
    +            final Object element = propData.get(GraphSONTokens.ELEMENT);
    +            return element instanceof Element ? // graphson-non-embedded is treated differently, but since this is a hard coded embedding...
    +                    new DetachedProperty&amp;lt;&amp;gt;((String) propData.get(GraphSONTokens.KEY), propData.get(GraphSONTokens.VALUE), (Element) element) :
    +                    new DetachedProperty&amp;lt;&amp;gt;((String) propData.get(GraphSONTokens.KEY), propData.get(GraphSONTokens.VALUE));
    +        }
&lt;p&gt;    +    }&lt;br/&gt;
    +&lt;br/&gt;
    +    static class VertexPropertyJacksonDeserializer extends AbstractObjectDeserializer&amp;lt;VertexProperty&amp;gt; {&lt;br/&gt;
    +&lt;br/&gt;
    +        protected VertexPropertyJacksonDeserializer() &lt;/p&gt;
{
    +            super(VertexProperty.class);
    +        }
&lt;p&gt;    +&lt;br/&gt;
    +        @Override&lt;br/&gt;
    +        public VertexProperty createObject(final Map&amp;lt;String, Object&amp;gt; propData) {&lt;br/&gt;
    +            return propData.containsKey(GraphSONTokens.VERTEX) ?&lt;br/&gt;
    +                    new DetachedVertexProperty&amp;lt;&amp;gt;(&lt;br/&gt;
    +                            propData.get(GraphSONTokens.ID),&lt;br/&gt;
    +                            (String) propData.get(GraphSONTokens.LABEL),&lt;br/&gt;
    +                            propData.get(GraphSONTokens.VALUE), (Map&amp;lt;String, Object&amp;gt;) propData.get(GraphSONTokens.PROPERTIES),&lt;br/&gt;
    +                            new DetachedVertex(propData.get(GraphSONTokens.VERTEX), Vertex.DEFAULT_LABEL, null)) :&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I don&apos;t quite follow what you are saying, but if you have a cool idea with &quot;context awareness,&quot; by all means, push a patch to this branch.&lt;/p&gt;

&lt;p&gt;    Here is the thing about being able to attach an element back to the main graph.&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;`Vertex`: All you need is the vertex ID.&lt;/li&gt;
	&lt;li&gt;`Edge`: Edge ID (but for most dbs, outV id and edge label too)&lt;/li&gt;
	&lt;li&gt;`VertexProperty`: vertex property ID, vertex ID (but for optimization in most dbs, label too).&lt;/li&gt;
	&lt;li&gt;`Property`: key/value, element id. Given that properties are ONLY on vertex properties and edges, then you need the requisite information about the element for attachment.&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="15685042" author="githubbot" created="Mon, 21 Nov 2016 23:10:11 +0000"  >&lt;p&gt;Github user okram commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89010633&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89010633&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -153,13 +152,16 @@ public void serialize(final Edge edge, final JsonGenerator jsonGenerator, final&lt;br/&gt;
             }&lt;/p&gt;

&lt;p&gt;             private void writeProperties(final Edge edge, final JsonGenerator jsonGenerator) throws IOException {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; elementProperties = normalize ?&lt;br/&gt;
    +            final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; edgeProperties = normalize ?&lt;br/&gt;
                         IteratorUtils.list(edge.properties(), Comparators.PROPERTY_COMPARATOR).iterator() : edge.properties();&lt;/li&gt;
	&lt;li&gt;if (elementProperties.hasNext()) {&lt;br/&gt;
    +            if (edgeProperties.hasNext()) {&lt;br/&gt;
                     jsonGenerator.writeFieldName(GraphSONTokens.PROPERTIES);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                     jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;elementProperties.forEachRemaining(prop -&amp;gt; safeWriteObjectField(jsonGenerator, prop.key(), prop));&lt;br/&gt;
    +                while (edgeProperties.hasNext()) {&lt;br/&gt;
    +                    final Property&amp;lt;?&amp;gt; property = edgeProperties.next();&lt;br/&gt;
    +                    jsonGenerator.writeObjectField(property.key(), property.value());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Why don&apos;t you propose a GraphSON 2 format for Vertex, Edge, Property, VertexProperty in a JSON document that we can look at. From there, without how to implenent the serializers/deserailizers, we can see your arguments separate from code. Then if they are good, we take the respective code patch. Thoughts?&lt;/p&gt;</comment>
                            <comment id="15685045" author="githubbot" created="Mon, 21 Nov 2016 23:11:25 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89010812&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89010812&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -153,13 +152,16 @@ public void serialize(final Edge edge, final JsonGenerator jsonGenerator, final&lt;br/&gt;
             }&lt;/p&gt;

&lt;p&gt;             private void writeProperties(final Edge edge, final JsonGenerator jsonGenerator) throws IOException {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; elementProperties = normalize ?&lt;br/&gt;
    +            final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; edgeProperties = normalize ?&lt;br/&gt;
                         IteratorUtils.list(edge.properties(), Comparators.PROPERTY_COMPARATOR).iterator() : edge.properties();&lt;/li&gt;
	&lt;li&gt;if (elementProperties.hasNext()) {&lt;br/&gt;
    +            if (edgeProperties.hasNext()) {&lt;br/&gt;
                     jsonGenerator.writeFieldName(GraphSONTokens.PROPERTIES);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                     jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;elementProperties.forEachRemaining(prop -&amp;gt; safeWriteObjectField(jsonGenerator, prop.key(), prop));&lt;br/&gt;
    +                while (edgeProperties.hasNext()) {&lt;br/&gt;
    +                    final Property&amp;lt;?&amp;gt; property = edgeProperties.next();&lt;br/&gt;
    +                    jsonGenerator.writeObjectField(property.key(), property.value());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Also I had waited before correcting the discrepancy mentioned above for the VertexProperty&apos;s properties because it&apos;s a breaking change and it seems dangerous to make it part of GraphSON 2.*&lt;b&gt;0&lt;/b&gt;* in my opinion&lt;/p&gt;</comment>
                            <comment id="15685112" author="githubbot" created="Mon, 21 Nov 2016 23:37:12 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89014281&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89014281&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -153,13 +152,16 @@ public void serialize(final Edge edge, final JsonGenerator jsonGenerator, final&lt;br/&gt;
             }&lt;/p&gt;

&lt;p&gt;             private void writeProperties(final Edge edge, final JsonGenerator jsonGenerator) throws IOException {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; elementProperties = normalize ?&lt;br/&gt;
    +            final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; edgeProperties = normalize ?&lt;br/&gt;
                         IteratorUtils.list(edge.properties(), Comparators.PROPERTY_COMPARATOR).iterator() : edge.properties();&lt;/li&gt;
	&lt;li&gt;if (elementProperties.hasNext()) {&lt;br/&gt;
    +            if (edgeProperties.hasNext()) {&lt;br/&gt;
                     jsonGenerator.writeFieldName(GraphSONTokens.PROPERTIES);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                     jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;elementProperties.forEachRemaining(prop -&amp;gt; safeWriteObjectField(jsonGenerator, prop.key(), prop));&lt;br/&gt;
    +                while (edgeProperties.hasNext()) {&lt;br/&gt;
    +                    final Property&amp;lt;?&amp;gt; property = edgeProperties.next();&lt;br/&gt;
    +                    jsonGenerator.writeObjectField(property.key(), property.value());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Basically I had written &lt;span class=&quot;error&quot;&gt;&amp;#91;this for some specs&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://gist.github.com/newkek/15e9933dc4b43674c2c60bc9487fc80e#file-graph-types-asciidoc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/newkek/15e9933dc4b43674c2c60bc9487fc80e#file-graph-types-asciidoc&lt;/a&gt;) (note: not sure the Metrics and TraversalMetrics ones are still up to date but the rest should be).&lt;br/&gt;
    What I suggest is &lt;span class=&quot;error&quot;&gt;&amp;#91;the revision here&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://gist.github.com/newkek/15e9933dc4b43674c2c60bc9487fc80e/revisions#diff-5a08d02157ba6ec13bacc40ab3a3a7bc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/newkek/15e9933dc4b43674c2c60bc9487fc80e/revisions#diff-5a08d02157ba6ec13bacc40ab3a3a7bc&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="15685119" author="githubbot" created="Mon, 21 Nov 2016 23:39:18 +0000"  >&lt;p&gt;Github user newkek commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89014561&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89014561&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/structure/io/graphson/GraphSONSerializersV2d0.java &amp;#8212;&lt;br/&gt;
    @@ -153,13 +152,16 @@ public void serialize(final Edge edge, final JsonGenerator jsonGenerator, final&lt;br/&gt;
             }&lt;/p&gt;

&lt;p&gt;             private void writeProperties(final Edge edge, final JsonGenerator jsonGenerator) throws IOException {&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; elementProperties = normalize ?&lt;br/&gt;
    +            final Iterator&amp;lt;Property&amp;lt;Object&amp;gt;&amp;gt; edgeProperties = normalize ?&lt;br/&gt;
                         IteratorUtils.list(edge.properties(), Comparators.PROPERTY_COMPARATOR).iterator() : edge.properties();&lt;/li&gt;
	&lt;li&gt;if (elementProperties.hasNext()) {&lt;br/&gt;
    +            if (edgeProperties.hasNext()) {&lt;br/&gt;
                     jsonGenerator.writeFieldName(GraphSONTokens.PROPERTIES);&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;                     jsonGenerator.writeStartObject();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;elementProperties.forEachRemaining(prop -&amp;gt; safeWriteObjectField(jsonGenerator, prop.key(), prop));&lt;br/&gt;
    +                while (edgeProperties.hasNext()) {&lt;br/&gt;
    +                    final Property&amp;lt;?&amp;gt; property = edgeProperties.next();&lt;br/&gt;
    +                    jsonGenerator.writeObjectField(property.key(), property.value());
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    What you suggest in the PR here is &lt;span class=&quot;error&quot;&gt;&amp;#91;this&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://gist.github.com/newkek/15e9933dc4b43674c2c60bc9487fc80e/revisions#diff-5a08d02157ba6ec13bacc40ab3a3a7bc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/newkek/15e9933dc4b43674c2c60bc9487fc80e/revisions#diff-5a08d02157ba6ec13bacc40ab3a3a7bc&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="15685133" author="githubbot" created="Mon, 21 Nov 2016 23:47:20 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Please put it in a form like: &lt;a href=&quot;https://github.com/apache/tinkerpop/blob/e09309c1210ad5d7d5f33440d4d8d1470bd3f0e2/docs/src/dev/io/graphson.asciidoc&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/blob/e09309c1210ad5d7d5f33440d4d8d1470bd3f0e2/docs/src/dev/io/graphson.asciidoc&lt;/a&gt; .. What you mean by &quot;data&quot; doesn&apos;t make sense to me. If we see:&lt;/p&gt;

&lt;p&gt;    ```json&lt;br/&gt;
    { &quot;@type&quot; : &quot;g:Blah&quot;,&lt;br/&gt;
      &quot;@value&quot;: &lt;/p&gt;
{
        &quot;x&quot; : &quot;y&quot;,
        &quot;a&quot; : &quot;b&quot;
      }
&lt;p&gt;    }&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    ...it will be more clear what you are proposing.&lt;/p&gt;
</comment>
                            <comment id="15685168" author="githubbot" created="Tue, 22 Nov 2016 00:02:09 +0000"  >&lt;p&gt;Github user newkek commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://gist.github.com/newkek/bfc976712f1adcbe76bcea4e34435ea2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gist.github.com/newkek/bfc976712f1adcbe76bcea4e34435ea2&lt;/a&gt; - the rest doesn&apos;t change&lt;/p&gt;</comment>
                            <comment id="15687148" author="githubbot" created="Tue, 22 Nov 2016 16:15:51 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    If we do this, then we would have to change `Edge` back to the same model to be consistent. However, why change it back? We gain the benefit of less verbosity.&lt;/p&gt;</comment>
                            <comment id="15687196" author="githubbot" created="Tue, 22 Nov 2016 16:35:48 +0000"  >&lt;p&gt;Github user newkek commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;gt; If we do this, then we would have to change Edge back to the same model to be consistent&lt;/p&gt;

&lt;p&gt;    Indeed.&lt;/p&gt;

&lt;p&gt;    &amp;gt; why change it back?&lt;/p&gt;

&lt;p&gt;    Because currently it is not consistent, (Detached)Edge/Vertex/VertexProperty all derive from (Detached)Element, for which `properties` have the same structure, but with what&apos;s currently on the PR, Edge and VertexProperty don&apos;t have their `properties` serialized in the same format than Vertex.&lt;br/&gt;
    If we unify all we can make generalize the deserialization of an object that derives from Element and make the deserialization code more readable.&lt;/p&gt;

&lt;p&gt;    In my opinion I don&apos;t believe verbosity should be chosen over consistency here, especially since GraphSON 2 is already very very verbose and not really meant to be compact.&lt;/p&gt;</comment>
                            <comment id="15687202" author="githubbot" created="Tue, 22 Nov 2016 16:37:42 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Talking with @spmallette. There are lots of issues with GraphSON 2.0 that both you and I notice. Lets do this. Lets get this ticket merged as there are lots of other work in here and start up a new ticket for proposed GraphSON 2.0 changes that will target the same branch as the merge. I can create a new JIRA and will add the link.&lt;/p&gt;</comment>
                            <comment id="15687217" author="githubbot" created="Tue, 22 Nov 2016 16:41:07 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @okram what aspect of this PR should we be considering then for purposes of review? do you have a brief synopsis of that and what is on the table for change later?&lt;/p&gt;</comment>
                            <comment id="15687254" author="githubbot" created="Tue, 22 Nov 2016 16:54:40 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1565&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-1565&lt;/a&gt;&lt;/p&gt;
</comment>
                            <comment id="15687258" author="githubbot" created="Tue, 22 Nov 2016 16:56:46 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @spmallette &amp;#8212; we simply can&apos;t abandon the GraphSON 2.0 changes I made cause we need to be able to &quot;attach properties&quot; (vertex properties and element properties). However, there are decisions to be made on how to do that (as outlined by @newkek). Moreover, there are more general decisions to be made about GraphSON 2.0 (&lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1565&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-1565&lt;/a&gt;). I think we should simply review this for what it is (ignore discussions of &quot;best GraphSON 2.0&quot; representation and be sure that we do &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1565&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-1565&lt;/a&gt; to come to a consensus on GraphSON 2.0 for the next release.&lt;/p&gt;</comment>
                            <comment id="15687473" author="githubbot" created="Tue, 22 Nov 2016 18:19:02 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Another thing we can do that I think would be best is target this to `master/`. Why?&lt;/p&gt;

&lt;p&gt;    1. There are changes to Gryo we will need to make so ensure &quot;attach-ability.&quot;&lt;br/&gt;
    2. This gives us more leeway around breaking GraphSON 2.0 changes.&lt;/p&gt;</comment>
                            <comment id="15687478" author="githubbot" created="Tue, 22 Nov 2016 18:20:45 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    If we do that will there be &quot;bad&quot; bugs left in tp32 that won&apos;t get fixed?&lt;/p&gt;</comment>
                            <comment id="15687502" author="githubbot" created="Tue, 22 Nov 2016 18:29:51 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    This ticket doesn&apos;t address a &quot;bug&quot; as much as a consistency issue. The primary issue is that Bytecode and GraphTraversal are not in one-to-one correspondence. You get the same &quot;answer,&quot; but for example: `hasId(1)` is represented in bytecode as `has(T.id,1)`. We can just kick this consistency verification to 3.3.0.&lt;/p&gt;</comment>
                            <comment id="15687636" author="githubbot" created="Tue, 22 Nov 2016 19:25:32 +0000"  >&lt;p&gt;Github user newkek commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks for the separate ticket, I&apos;ll put comments over there. So All the following items (from the PR desc):&lt;/p&gt;

&lt;p&gt;    &amp;gt; - There was a GraphSON 2.0 issue with Edge properties. Changed to the same format a VertexProperties. Smaller footprint and only necessary information.&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Added VertexID (&quot;vertex&quot;-field) to VertexProperty in GraphSON 2.0 &amp;#8211; how else will you attach?&lt;/li&gt;
	&lt;li&gt;Added Element (&quot;element&quot;-field) to Property in GraphSON 2.0 &amp;#8211; how else will you attach?&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Will be handled separately in &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1565&quot; title=&quot;Setup GraphSON 3.0&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1565&quot;&gt;&lt;del&gt;TINKERPOP-1565&lt;/del&gt;&lt;/a&gt;, and GraphSON2 will not change in this PR, right? (just trying to understand because it has external impact to change GraphSON2)&lt;/p&gt;</comment>
                            <comment id="15687650" author="githubbot" created="Tue, 22 Nov 2016 19:28:43 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    No GraphSON will change in this branch but we will solve &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1562&quot; title=&quot;Migrate ScriptEngine-related code to gremlin-core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1562&quot;&gt;&lt;del&gt;TINKERPOP-1562&lt;/del&gt;&lt;/a&gt; in the same release as this branch. Thus, this branch is like a &quot;half-ticket&quot; with &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-1562&quot; title=&quot;Migrate ScriptEngine-related code to gremlin-core&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-1562&quot;&gt;&lt;del&gt;TINKERPOP-1562&lt;/del&gt;&lt;/a&gt;&apos;s completion being the finale. Note that I also targeted this branch to `master/` so we can have breaking changes to GraphSON 2.0 for TinkerPop 3.3.0.&lt;/p&gt;</comment>
                            <comment id="15689762" author="githubbot" created="Wed, 23 Nov 2016 11:01:44 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Integration tests ran against `master/` (the new target branch).&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; BUILD SUCCESS&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Total time: 04:14 h&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Finished at: 2016-11-22T23:02:41-07:00&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; Final Memory: 179M/1656M&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;INFO&amp;#93;&lt;/span&gt; ------------------------------------------------------------------------&lt;br/&gt;
    ```&lt;/p&gt;</comment>
                            <comment id="15690074" author="githubbot" created="Wed, 23 Nov 2016 13:17:08 +0000"  >&lt;p&gt;Github user dkuppitz commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    `docker/build.sh -t -i -n` succeeded.&lt;/p&gt;

&lt;p&gt;    VOTE: +1&lt;/p&gt;

&lt;p&gt;    (don&apos;t blame me for voting on half-done work; @okram assured me that we won&apos;t have a release before the work, started in this PR, is actually done)&lt;/p&gt;</comment>
                            <comment id="15690129" author="githubbot" created="Wed, 23 Nov 2016 13:42:03 +0000"  >&lt;p&gt;Github user okram commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    You are a bad person @dkuppitz. &lt;/p&gt;</comment>
                            <comment id="15690576" author="githubbot" created="Wed, 23 Nov 2016 16:14:32 +0000"  >&lt;p&gt;Github user spmallette commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89348850&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89348850&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/dsl/graph/GraphTraversalTest.java &amp;#8212;&lt;br/&gt;
    @@ -71,4 +80,89 @@ public void graphTraversalShouldHaveMethodsOfAnonymousGraphTraversal() {&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;br/&gt;
    +&lt;br/&gt;
    +    @Test&lt;br/&gt;
    +    public void graphTraversalMethodsShouldGenerateCorrespondingBytecode() throws Exception {&lt;br/&gt;
    +        final Random random = new Random();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    did you see my comment above @okram ? can we go with option 1 for this PR?&lt;/p&gt;</comment>
                            <comment id="15690634" author="githubbot" created="Wed, 23 Nov 2016 16:31:43 +0000"  >&lt;p&gt;Github user okram commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89352742&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89352742&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/dsl/graph/GraphTraversalTest.java &amp;#8212;&lt;br/&gt;
    @@ -71,4 +80,89 @@ public void graphTraversalShouldHaveMethodsOfAnonymousGraphTraversal() {&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;br/&gt;
    +&lt;br/&gt;
    +    @Test&lt;br/&gt;
    +    public void graphTraversalMethodsShouldGenerateCorrespondingBytecode() throws Exception {&lt;br/&gt;
    +        final Random random = new Random();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Ah yea. Thats smart. Do you want to push that to this branch or tell me how to do it with an example?&lt;/p&gt;</comment>
                            <comment id="15690709" author="githubbot" created="Wed, 23 Nov 2016 16:58:33 +0000"  >&lt;p&gt;Github user spmallette commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499#discussion_r89358284&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499#discussion_r89358284&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/dsl/graph/GraphTraversalTest.java &amp;#8212;&lt;br/&gt;
    @@ -71,4 +80,89 @@ public void graphTraversalShouldHaveMethodsOfAnonymousGraphTraversal() {&lt;br/&gt;
                 }&lt;br/&gt;
             }&lt;br/&gt;
         }&lt;br/&gt;
    +&lt;br/&gt;
    +    @Test&lt;br/&gt;
    +    public void graphTraversalMethodsShouldGenerateCorrespondingBytecode() throws Exception {&lt;br/&gt;
    +        final Random random = new Random();&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I can amend the branch&lt;/p&gt;</comment>
                            <comment id="15693051" author="githubbot" created="Thu, 24 Nov 2016 11:42:31 +0000"  >&lt;p&gt;Github user spmallette commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I added the logging of the seed for that test that uses `Random`: 73859cce8563c3951e39fef58b189acb9718e5c3 &lt;/p&gt;

&lt;p&gt;    It&apos;s made for one time use right now - we probably could generalize that a bit for re-use in other tests that use `Random` (and it doesn&apos;t make sense to wholly factor out the `Random`).  &lt;/p&gt;

&lt;p&gt;    VOTE +1&lt;/p&gt;

</comment>
                            <comment id="15693100" author="githubbot" created="Thu, 24 Nov 2016 12:05:16 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/499&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/499&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 51 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i351pz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>