<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:12:25 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-2965] FilterRankingStrategy removing labels it shouldn&apos;t in certain conditions</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-2965</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;This traversal demonstrates it:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
g.V().as(&lt;span class=&quot;code-quote&quot;&gt;&apos;n&apos;&lt;/span&gt;).where(
 __.or(
  __.select(&lt;span class=&quot;code-quote&quot;&gt;&apos;n&apos;&lt;/span&gt;).hasLabel(&lt;span class=&quot;code-quote&quot;&gt;&apos;Tag&apos;&lt;/span&gt;), 
  __.select(&lt;span class=&quot;code-quote&quot;&gt;&apos;n&apos;&lt;/span&gt;).hasLabel(&lt;span class=&quot;code-quote&quot;&gt;&apos;Person&apos;&lt;/span&gt;)
 )
).select(&lt;span class=&quot;code-quote&quot;&gt;&apos;n&apos;&lt;/span&gt;).project(&lt;span class=&quot;code-quote&quot;&gt;&apos;n&apos;&lt;/span&gt;).by(__.valueMap().with(&lt;span class=&quot;code-quote&quot;&gt;&apos;~tinkerpop.valueMap.tokens&apos;&lt;/span&gt;))
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="13542680">TINKERPOP-2965</key>
            <summary>FilterRankingStrategy removing labels it shouldn&apos;t in certain conditions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="2" iconUrl="https://issues.apache.org/jira/images/icons/priorities/critical.svg">Critical</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spmallette">Stephen Mallette</assignee>
                                    <reporter username="spmallette">Stephen Mallette</reporter>
                        <labels>
                    </labels>
                <created>Thu, 6 Jul 2023 10:42:58 +0000</created>
                <updated>Thu, 13 Jul 2023 20:02:28 +0000</updated>
                            <resolved>Thu, 13 Jul 2023 20:02:28 +0000</resolved>
                                    <version>3.6.3</version>
                                    <fixVersion>3.7.0</fixVersion>
                    <fixVersion>3.5.7</fixVersion>
                    <fixVersion>3.6.5</fixVersion>
                                    <component>process</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                <comments>
                            <comment id="17740731" author="githubbot" created="Thu, 6 Jul 2023 17:23:07 +0000"  >&lt;p&gt;spmallette opened a new pull request, #2124:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2124&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2124&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2965&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/TINKERPOP-2965&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   This problem showed up in 3.5.6/3.6.3 after &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2919&quot; title=&quot;Improve performance of FilterRankingStrategy for deeply nested traversals&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2919&quot;&gt;&lt;del&gt;TINKERPOP-2919&lt;/del&gt;&lt;/a&gt; which improved performance. The changes failed to properly propogate labels up from child traversals into the TraversalParent cache it created. As a result, labels started shifting around when they shouldn&apos;t have.&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17740739" author="githubbot" created="Thu, 6 Jul 2023 17:49:40 +0000"  >&lt;p&gt;codecov-commenter commented on PR #2124:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2124#issuecomment-1624088759&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2124#issuecomment-1624088759&lt;/a&gt;&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;Codecov&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=h1&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) Report&lt;br/&gt;
   &amp;gt; Merging &lt;a href=&quot;#2124&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;2124&lt;/a&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) (9fc2637) into &lt;span class=&quot;error&quot;&gt;&amp;#91;3.5-dev&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/commit/1cca37e512ef0e186ab5ba1dfb1267c4288d4989?el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/commit/1cca37e512ef0e186ab5ba1dfb1267c4288d4989?el=desc&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) (1cca37e) will *&lt;b&gt;increase&lt;/b&gt;* coverage by `0.02%`.&lt;br/&gt;
   &amp;gt; The diff coverage is `94.87%`.&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;


&lt;p&gt;   ```diff&lt;br/&gt;
   @@              Coverage Diff              @@&lt;/p&gt;
&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;3.5-dev    #2124      +/-   ##&lt;br/&gt;
   =============================================&lt;br/&gt;
   + Coverage      69.90%   69.92%   +0.02%     &lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;Complexity      8979     8997      +18&lt;br/&gt;
   =============================================&lt;br/&gt;
     Files            865      866       +1     &lt;br/&gt;
     Lines          40967    41001      +34     &lt;br/&gt;
     Branches        5450     5455       +5     &lt;br/&gt;
   =============================================&lt;br/&gt;
   + Hits           28636    28669      +33     &lt;br/&gt;
   + Misses         10425    10423       -2     &lt;/li&gt;
	&lt;li&gt;Partials        1906     1909       +3&lt;br/&gt;
   ```&lt;/li&gt;
&lt;/ul&gt;



&lt;div class=&apos;table-wrap&apos;&gt;
&lt;table class=&apos;confluenceTable&apos;&gt;&lt;tbody&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;Impacted Files&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; Coverage &#916; &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;#8212;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;...remlin/process/traversal/util/DepthComparator.java&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-Z3JlbWxpbi1jb3JlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS90aW5rZXJwb3AvZ3JlbWxpbi9wcm9jZXNzL3RyYXZlcnNhbC91dGlsL0RlcHRoQ29tcGFyYXRvci5qYXZh&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-Z3JlbWxpbi1jb3JlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS90aW5rZXJwb3AvZ3JlbWxpbi9wcm9jZXNzL3RyYXZlcnNhbC91dGlsL0RlcHRoQ29tcGFyYXRvci5qYXZh&lt;/a&gt;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; `80.00% &amp;lt;80.00%&amp;gt; (&#248;)` &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;...l/strategy/optimization/FilterRankingStrategy.java&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-Z3JlbWxpbi1jb3JlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS90aW5rZXJwb3AvZ3JlbWxpbi9wcm9jZXNzL3RyYXZlcnNhbC9zdHJhdGVneS9vcHRpbWl6YXRpb24vRmlsdGVyUmFua2luZ1N0cmF0ZWd5LmphdmE=&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-Z3JlbWxpbi1jb3JlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS90aW5rZXJwb3AvZ3JlbWxpbi9wcm9jZXNzL3RyYXZlcnNhbC9zdHJhdGVneS9vcHRpbWl6YXRpb24vRmlsdGVyUmFua2luZ1N0cmF0ZWd5LmphdmE=&lt;/a&gt;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; `100.00% &amp;lt;100.00%&amp;gt; (&#248;)` &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;
&lt;tr&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; &lt;span class=&quot;error&quot;&gt;&amp;#91;...remlin/process/traversal/util/TraversalHelper.java&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-Z3JlbWxpbi1jb3JlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS90aW5rZXJwb3AvZ3JlbWxpbi9wcm9jZXNzL3RyYXZlcnNhbC91dGlsL1RyYXZlcnNhbEhlbHBlci5qYXZh&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2124?src=pr&amp;amp;el=tree&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache#diff-Z3JlbWxpbi1jb3JlL3NyYy9tYWluL2phdmEvb3JnL2FwYWNoZS90aW5rZXJwb3AvZ3JlbWxpbi9wcm9jZXNzL3RyYXZlcnNhbC91dGlsL1RyYXZlcnNhbEhlbHBlci5qYXZh&lt;/a&gt;) &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; `86.22% &amp;lt;100.00%&amp;gt; (+0.62%)` &lt;/td&gt;
&lt;td class=&apos;confluenceTd&apos;&gt; :arrow_up: &lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;
&lt;/div&gt;


&lt;p&gt;   ... and &lt;span class=&quot;error&quot;&gt;&amp;#91;3 files with indirect coverage changes&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://app.codecov.io/gh/apache/tinkerpop/pull/2124/indirect-changes?src=pr&amp;amp;el=tree-more&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://app.codecov.io/gh/apache/tinkerpop/pull/2124/indirect-changes?src=pr&amp;amp;el=tree-more&amp;amp;utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;)&lt;/p&gt;

&lt;p&gt;   :mega: We&#8217;re building smart automated test selection to slash your CI/CD build times. &lt;span class=&quot;error&quot;&gt;&amp;#91;Learn more&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://about.codecov.io/iterative-testing/?utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://about.codecov.io/iterative-testing/?utm_medium=referral&amp;amp;utm_source=github&amp;amp;utm_content=comment&amp;amp;utm_campaign=pr+comments&amp;amp;utm_term=apache&lt;/a&gt;)&lt;/p&gt;


</comment>
                            <comment id="17740756" author="githubbot" created="Thu, 6 Jul 2023 19:07:54 +0000"  >&lt;p&gt;lvca commented on PR #2124:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2124#issuecomment-1624181105&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2124#issuecomment-1624181105&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   Thanks@ Is it going to be in the next 3.6.5 or 3.7?&lt;/p&gt;

</comment>
                            <comment id="17740793" author="githubbot" created="Thu, 6 Jul 2023 20:21:02 +0000"  >&lt;p&gt;spmallette commented on PR #2124:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2124#issuecomment-1624262406&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2124#issuecomment-1624262406&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   all of them, 3.5.7, 3.6.5 and 3.7.0&lt;/p&gt;

</comment>
                            <comment id="17740800" author="githubbot" created="Thu, 6 Jul 2023 20:36:25 +0000"  >&lt;p&gt;vkagamlyk commented on code in PR #2124:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2124#discussion_r1254893223&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2124#discussion_r1254893223&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/util/DepthComparator.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,54 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ * &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.tinkerpop.gremlin.process.traversal.util;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.tinkerpop.gremlin.process.traversal.Step;&lt;br/&gt;
+import org.apache.tinkerpop.gremlin.process.traversal.step.util.EmptyStep;&lt;br/&gt;
+&lt;br/&gt;
+import java.util.Comparator;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * A &lt;/p&gt;
{@code Comparator}
&lt;p&gt; that compares steps on the depth of the traversal that they are in.&lt;br/&gt;
+ */&lt;br/&gt;
+public final class DepthComparator implements Comparator&amp;lt;Step&amp;lt;?,?&amp;gt;&amp;gt; {&lt;br/&gt;
+&lt;br/&gt;
+    private static final DepthComparator instance = new DepthComparator();&lt;br/&gt;
+&lt;br/&gt;
+    private DepthComparator() {}&lt;br/&gt;
+&lt;br/&gt;
+    public static DepthComparator instance() &lt;/p&gt;
{
+        return instance;
+    }
&lt;p&gt;+&lt;br/&gt;
+    @Override&lt;br/&gt;
+    public int compare(final Step&amp;lt;?, ?&amp;gt; step1, final Step&amp;lt;?, ?&amp;gt; step2) &lt;/p&gt;
{
+        return getDepth(step2) - getDepth(step1);
+    }
&lt;p&gt;+&lt;br/&gt;
+    private int getDepth(final Step&amp;lt;?,?&amp;gt; step) {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   why is the variable `depth` needed here? can this code be simplified to &lt;br/&gt;
   ```&lt;br/&gt;
   private int getDepth(final Step&amp;lt;?,?&amp;gt; step) &lt;/p&gt;
{
   	return step == null || step instanceof EmptyStep ? 0 : getDepth((Step) step.getTraversal().getParent()) + 1;
   }
&lt;p&gt;   ```&lt;/p&gt;


</comment>
                            <comment id="17741928" author="githubbot" created="Tue, 11 Jul 2023 09:44:29 +0000"  >&lt;p&gt;spmallette commented on code in PR #2124:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2124#discussion_r1259489604&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2124#discussion_r1259489604&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;##########&lt;br/&gt;
gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/util/DepthComparator.java:&lt;br/&gt;
##########&lt;br/&gt;
@@ -0,0 +1,54 @@&lt;br/&gt;
+/*&lt;br/&gt;
+ * Licensed to the Apache Software Foundation (ASF) under one&lt;br/&gt;
+ * or more contributor license agreements.  See the NOTICE file&lt;br/&gt;
+ * distributed with this work for additional information&lt;br/&gt;
+ * regarding copyright ownership.  The ASF licenses this file&lt;br/&gt;
+ * to you under the Apache License, Version 2.0 (the&lt;br/&gt;
+ * &quot;License&quot;); you may not use this file except in compliance&lt;br/&gt;
+ * with the License.  You may obtain a copy of the License at&lt;br/&gt;
+ *&lt;br/&gt;
+ * &lt;a href=&quot;http://www.apache.org/licenses/LICENSE-2.0&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/licenses/LICENSE-2.0&lt;/a&gt;&lt;br/&gt;
+ *&lt;br/&gt;
+ * Unless required by applicable law or agreed to in writing,&lt;br/&gt;
+ * software distributed under the License is distributed on an&lt;br/&gt;
+ * &quot;AS IS&quot; BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY&lt;br/&gt;
+ * KIND, either express or implied.  See the License for the&lt;br/&gt;
+ * specific language governing permissions and limitations&lt;br/&gt;
+ * under the License.&lt;br/&gt;
+ */&lt;br/&gt;
+package org.apache.tinkerpop.gremlin.process.traversal.util;&lt;br/&gt;
+&lt;br/&gt;
+import org.apache.tinkerpop.gremlin.process.traversal.Step;&lt;br/&gt;
+import org.apache.tinkerpop.gremlin.process.traversal.step.util.EmptyStep;&lt;br/&gt;
+&lt;br/&gt;
+import java.util.Comparator;&lt;br/&gt;
+&lt;br/&gt;
+/**&lt;br/&gt;
+ * A &lt;/p&gt;
{@code Comparator}
&lt;p&gt; that compares steps on the depth of the traversal that they are in.&lt;br/&gt;
+ */&lt;br/&gt;
+public final class DepthComparator implements Comparator&amp;lt;Step&amp;lt;?,?&amp;gt;&amp;gt; {&lt;br/&gt;
+&lt;br/&gt;
+    private static final DepthComparator instance = new DepthComparator();&lt;br/&gt;
+&lt;br/&gt;
+    private DepthComparator() {}&lt;br/&gt;
+&lt;br/&gt;
+    public static DepthComparator instance() &lt;/p&gt;
{
+        return instance;
+    }
&lt;p&gt;+&lt;br/&gt;
+    @Override&lt;br/&gt;
+    public int compare(final Step&amp;lt;?, ?&amp;gt; step1, final Step&amp;lt;?, ?&amp;gt; step2) &lt;/p&gt;
{
+        return getDepth(step2) - getDepth(step1);
+    }
&lt;p&gt;+&lt;br/&gt;
+    private int getDepth(final Step&amp;lt;?,?&amp;gt; step) {&lt;/p&gt;

&lt;p&gt;Review Comment:&lt;br/&gt;
   oh, yeah, that could be simplified. i think i had something else happening there where `depth` made more sense. good catch.&lt;/p&gt;


</comment>
                            <comment id="17742063" author="githubbot" created="Tue, 11 Jul 2023 15:11:03 +0000"  >&lt;p&gt;vkagamlyk commented on PR #2124:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2124#issuecomment-1631010397&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2124#issuecomment-1631010397&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   VOTE +1&lt;/p&gt;

</comment>
                            <comment id="17742939" author="githubbot" created="Thu, 13 Jul 2023 20:02:04 +0000"  >&lt;p&gt;spmallette merged PR #2124:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/2124&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/2124&lt;/a&gt;&lt;/p&gt;

</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            2 years, 17 weeks, 2 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1izzk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>