<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:11:57 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[TINKERPOP-2274] Test of TinkerGraph Gremlin fail on Windows and non EN locale</title>
                <link>https://issues.apache.org/jira/browse/TINKERPOP-2274</link>
                <project id="12316520" key="TINKERPOP">TinkerPop</project>
                    <description>&lt;p&gt;When compiling the first time TiinkerPop projects under Windows with a locale other than English (in this case Bulgarian), the tests of&#160;TinkerGraph Gremlin fail due to:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;parsing test data using SimpleDateFormat in the default locale&lt;/li&gt;
	&lt;li&gt;parsing UNIX-formatted&#160;path&#160;literal&#160;(with / separator)&#160;searching for the system&apos;s file separator (\ for Windows).&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;The tests of Gremlin Driver fail with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR initializationError(org.apache.tinkerpop.gremlin.driver.ser.binary.GraphBinaryReaderWriterRoundTripTest)  Time elapsed: 0.046 s  &amp;lt;&amp;lt;&amp;lt; ERROR!
java.text.ParseException: Unparseable date: &lt;span class=&quot;code-quote&quot;&gt;&quot;Jan 12, 1952&quot;&lt;/span&gt;
        at org.apache.tinkerpop.gremlin.driver.ser.binary.GraphBinaryReaderWriterRoundTripTest.input(GraphBinaryReaderWriterRoundTripTest.java:180)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;due to locale-specific format used.&lt;/p&gt;

&lt;p&gt;In order to reproduce:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;under Windows 10 clone the&#160;TinkerPop GIT repository&lt;/li&gt;
	&lt;li&gt;git checkout&#160;aee038fe26ba399410720afb96c133602410fd6e&lt;br/&gt;
 (version 3.5.0-SNAPSHOT)&lt;/li&gt;
	&lt;li&gt;in &lt;b&gt;Start \ Settings \ Time and Language \ Regional format&lt;/b&gt; choose Bulgarian&lt;/li&gt;
	&lt;li&gt;mvn clean install&lt;/li&gt;
&lt;/ul&gt;
</description>
                <environment>windows 10&lt;br/&gt;
java version &amp;quot;1.8.0_221&amp;quot;&lt;br/&gt;
Java(TM) SE Runtime Environment (build 1.8.0_221-b11)&lt;br/&gt;
Java HotSpot(TM) 64-Bit Server VM (build 25.221-b11, mixed mode)</environment>
        <key id="13247472">TINKERPOP-2274</key>
            <summary>Test of TinkerGraph Gremlin fail on Windows and non EN locale</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="spmallette">Stephen Mallette</assignee>
                                    <reporter username="popovr">Rusi Popov</reporter>
                        <labels>
                    </labels>
                <created>Sat, 27 Jul 2019 13:56:04 +0000</created>
                <updated>Fri, 8 Nov 2019 12:29:11 +0000</updated>
                            <resolved>Fri, 8 Nov 2019 12:29:11 +0000</resolved>
                                    <version>3.5.0</version>
                                    <fixVersion>3.5.0</fixVersion>
                    <fixVersion>3.4.5</fixVersion>
                    <fixVersion>3.3.10</fixVersion>
                                    <component>build-release</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16897298" author="spmallette" created="Wed, 31 Jul 2019 16:15:06 +0000"  >&lt;p&gt;sorry for the build problem - we don&apos;t really make a big effort to ensure clean builds on windows as none of the core committers works on that OS. also, the build is fairly complex (with all the language variants) and it&apos;s hard enough to get it working in linux like systems without trying to figure out windows too. that said, if you can offer a pull request to fix the problems you&apos;re seeing we&apos;d be happy to review your changes and validate them in our environments. &lt;/p&gt;

&lt;p&gt;If you do offer a pull request, please consider targeting the &lt;tt&gt;tp33&lt;/tt&gt; branch (unless the problems are localized to &lt;tt&gt;master&lt;/tt&gt; only).&lt;/p&gt;</comment>
                            <comment id="16899794" author="popovr" created="Mon, 5 Aug 2019 06:08:07 +0000"  >&lt;p&gt;Please review&#160;&lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1175&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1175&lt;/a&gt;&#160;&lt;/p&gt;</comment>
                            <comment id="16908769" author="popovr" created="Fri, 16 Aug 2019 06:09:56 +0000"  >&lt;p&gt;The tests&#160;in spark-gremlin under Windows fail with:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
INFO Results:
INFO
ERROR Failures:
ERROR org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest.shouldHaveConsistentMemoryVertexPropertiesAndExceptions(org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest)
ERROR   Run 1: GraphComputerTest.shouldHaveConsistentMemoryVertexPropertiesAndExceptions:552 expected:&amp;lt;0&amp;gt; but was:&amp;lt;6&amp;gt;
ERROR   Run 2: GraphComputerTest.shouldHaveConsistentMemoryVertexPropertiesAndExceptions:552 expected:&amp;lt;0&amp;gt; but was:&amp;lt;6&amp;gt;
INFO
ERROR org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest.shouldProcessResultGraphNewWithPersistNothing(org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest)
ERROR   Run 1: GraphComputerTest.shouldProcessResultGraphNewWithPersistNothing:1349 expected:&amp;lt;0&amp;gt; but was:&amp;lt;6&amp;gt;
ERROR   Run 2: GraphComputerTest.shouldProcessResultGraphNewWithPersistNothing:1349 expected:&amp;lt;0&amp;gt; but was:&amp;lt;6&amp;gt;
INFO
ERROR Errors:
ERROR org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest.shouldFailWithImproperTraverserRequirements(org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest)
INFO   Run 1: PASS
ERROR   Run 2: GraphComputerTest.shouldFailWithImproperTraverserRequirements:2525 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest.shouldSupportBroadcastKeys(org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest)
ERROR   Run 1: GraphComputerTest.shouldSupportBroadcastKeys:2378 &#187; Execution org.apache.hadoo...
ERROR   Run 2: GraphComputerTest.shouldSupportBroadcastKeys:2378 &#187; Execution org.apache.hadoo...
INFO
ERROR org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest.shouldSupportPreExistingComputeKeys(org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest)
ERROR   Run 1: GraphComputerTest.shouldSupportPreExistingComputeKeys:2142 &#187; Execution org.apa...
ERROR   Run 2: GraphComputerTest.shouldSupportPreExistingComputeKeys:2142 &#187; Execution org.apa...
INFO
ERROR org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest.shouldSupportTransientKeys(org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest)
INFO   Run 1: PASS
ERROR   Run 2: GraphComputerTest.shouldSupportTransientKeys:2203 &#187; Execution org.apache.hadoo...
INFO
ERROR org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest.testMessagePassingBoth(org.apache.tinkerpop.gremlin.process.computer.GraphComputerTest)
INFO   Run 1: PASS
ERROR   Run 2: GraphComputerTest.testMessagePassingBoth:2727-&amp;gt;runMPTest:2746 &#187; Execution org....
INFO
ERROR org.apache.tinkerpop.gremlin.process.computer.clone.CloneVertexProgramTest.shouldDumpWholeGraph(org.apache.tinkerpop.gremlin.process.computer.clone.CloneVertexProgramTest)
ERROR   Run 1: CloneVertexProgramTest.shouldDumpWholeGraph:42 &#187; Execution org.apache.hadoop.m...
ERROR   Run 2: CloneVertexProgramTest.shouldDumpWholeGraph:42 &#187; Execution org.apache.hadoop.m...
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals.g_V_hasLabelXpersonX_pageRank_byXpageRankX_project_byXnameX_byXvaluesXpageRankX_mathX(org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals)
ERROR   Run 1: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_hasLabelXpersonX_pageRank_byXpageRankX_project_byXnameX_byXvaluesXpageRankX_mathX:146-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
ERROR   Run 2: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_hasLabelXpersonX_pageRank_byXpageRankX_project_byXnameX_byXvaluesXpageRankX_mathX:146-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals.g_V_hasLabelXsoftwareX_hasXname_rippleX_pageRankX1X_byXinEXcreatedXX_timesX1X_byXpriorsX_inXcreatedX_unionXboth__identityX_valueMapXname_priorsX(org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals)
INFO   Run 1: PASS
ERROR   Run 2: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_hasLabelXsoftwareX_hasXname_rippleX_pageRankX1X_byXinEXcreatedXX_timesX1X_byXpriorsX_inXcreatedX_unionXboth__identityX_valueMapXname_priorsX:185-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals.g_V_pageRank_byXoutEXknowsXX_byXfriendRankX_project_byXnameX_byXvaluesXfriendRankX_mathX(org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals)
ERROR   Run 1: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_pageRank_byXoutEXknowsXX_byXfriendRankX_project_byXnameX_byXvaluesXfriendRankX_mathX:114-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
ERROR   Run 2: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_pageRank_byXoutEXknowsXX_byXfriendRankX_project_byXnameX_byXvaluesXfriendRankX_mathX:114-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals.g_V_pageRank_byXpageRankX_asXaX_outXknowsX_pageRank_asXbX_selectXa_bX_by_byXmathX(org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals)
ERROR   Run 1: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_pageRank_byXpageRankX_asXaX_outXknowsX_pageRank_asXbX_selectXa_bX_by_byXmathX:167-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
ERROR   Run 2: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_pageRank_byXpageRankX_asXaX_outXknowsX_pageRank_asXbX_selectXa_bX_by_byXmathX:167-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals.g_V_pageRank_hasXpageRankX(org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals)
INFO   Run 1: PASS
ERROR   Run 2: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_pageRank_hasXpageRankX:73-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals.g_V_pageRank_order_byXpageRank_descX_byXnameX_name(org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals)
INFO   Run 1: PASS
ERROR   Run 2: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_pageRank_order_byXpageRank_descX_byXnameX_name:99-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals.g_V_pageRank_order_byXpageRank_descX_name_limitX2X(org.apache.tinkerpop.gremlin.process.traversal.step.map.PageRankTest$Traversals)
ERROR   Run 1: PageRankTest$Traversals&amp;gt;PageRankTest.g_V_pageRank_order_byXpageRank_descX_name_limitX2X:135-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO   Run 2: PASS
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.PeerPressureTest$Traversals.g_V_peerPressure_byXclusterX_byXoutEXknowsXX_pageRankX1X_byXrankX_byXoutEXknowsXX_timesX2X_group_byXclusterX_byXrank_sumX(org.apache.tinkerpop.gremlin.process.traversal.step.map.PeerPressureTest$Traversals)
ERROR   Run 1: PeerPressureTest$Traversals&amp;gt;PeerPressureTest.g_V_peerPressure_byXclusterX_byXoutEXknowsXX_pageRankX1X_byXrankX_byXoutEXknowsXX_timesX2X_group_byXclusterX_byXrank_sumX:69-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
ERROR   Run 2: PeerPressureTest$Traversals&amp;gt;PeerPressureTest.g_V_peerPressure_byXclusterX_byXoutEXknowsXX_pageRankX1X_byXrankX_byXoutEXknowsXX_timesX2X_group_byXclusterX_byXrank_sumX:69-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.ProgramTest$Traversals.g_V_hasLabelXpersonX_programXpageRank_rankX_order_byXrank_ascX_valueMapXname_rankX(org.apache.tinkerpop.gremlin.process.traversal.step.map.ProgramTest$Traversals)
ERROR   Run 1: ProgramTest$Traversals&amp;gt;ProgramTest.g_V_hasLabelXpersonX_programXpageRank_rankX_order_byXrank_ascX_valueMapXname_rankX:96-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
ERROR   Run 2: ProgramTest$Traversals&amp;gt;ProgramTest.g_V_hasLabelXpersonX_programXpageRank_rankX_order_byXrank_ascX_valueMapXname_rankX:96-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
ERROR org.apache.tinkerpop.gremlin.process.traversal.step.map.ProgramTest$Traversals.g_V_programXpageRankX(org.apache.tinkerpop.gremlin.process.traversal.step.map.ProgramTest$Traversals)
ERROR   Run 1: ProgramTest$Traversals&amp;gt;ProgramTest.g_V_programXpageRankX:82-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
ERROR   Run 2: ProgramTest$Traversals&amp;gt;ProgramTest.g_V_programXpageRankX:82-&amp;gt;AbstractGremlinTest.printTraversalForm:259 &#187; IllegalState
INFO
INFO
ERROR Tests run: 1190, Failures: 2, Errors: 16, Skipped: 155
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;The analysis of the failing org.apache.tinkerpop.gremlin.spark.SparkHadoopGremlinTest and FileSystemStorageCheck&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;
ERROR shouldSupportRemoveAndListMethods(org.apache.tinkerpop.gremlin.hadoop.structure.io.FileSystemStorageCheck)
java.lang.AssertionError: expected:&amp;lt;0&amp;gt; but was:&amp;lt;1&amp;gt;
        at org.apache.tinkerpop.gremlin.hadoop.structure.io.FileSystemStorageCheck.shouldSupportRemoveAndListMethods(FileSystemStorageCheck.java:58)
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;tracks to deleting the storage while the graph and the infrastructure is up and running fails under Windows due to locks held on the Spark files. This is a known not solved problem of Spark, see:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-12216&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-12216&lt;/a&gt; Spark failed to delete temp directory&lt;/li&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-22083&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-22083&lt;/a&gt; When dropping multiple blocks to disk, Spark should release all locks on a failure&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Still trying to overcome...&lt;/p&gt;</comment>
                            <comment id="16925016" author="githubbot" created="Sun, 8 Sep 2019 01:35:49 +0000"  >&lt;p&gt;rpopov commented on pull request #1188: &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2274&quot; title=&quot;Test of TinkerGraph Gremlin fail on Windows and non EN locale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2274&quot;&gt;&lt;del&gt;TINKERPOP-2274&lt;/del&gt;&lt;/a&gt; Fixed the issues revealed while compiling and runnin&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1188&lt;/a&gt;&lt;/p&gt;


&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2274&quot; title=&quot;Test of TinkerGraph Gremlin fail on Windows and non EN locale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2274&quot;&gt;&lt;del&gt;TINKERPOP-2274&lt;/del&gt;&lt;/a&gt; Fixed the issues revealed while compiling and running tests under Windows&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;File system differences&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;Revealed that the Spark context is not closed between the tests, while the tests remove its storage files, therefore explicitluy store Spark Cintext for every test, making the tests independent and (more) corect on Spark use.&lt;/li&gt;
	&lt;li&gt;Revealed that Spark does not close the FileInputStreams it iterates upon, so that locks hang up in the file system. Thus, not being able to fix Spark/Hadoop and specifically the use of MultiIterator, call explicitly System.gc() in order to finalize the streams remaining open after closing the context.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;In Windows the file locking is diffrent than in LINUX, so rm() tests failed.&lt;/li&gt;
	&lt;li&gt;See: &lt;a href=&quot;https://issues.apache.org/jira/browse/SPARK-12216&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/SPARK-12216&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Documentaton&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;Documented the convention to use only UNIX-formatted file paths as of the Storage API.&lt;/li&gt;
	&lt;li&gt;Revealed the use and documented the Storage interface.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;File names and conventions&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;Delegated file parsing to File class for platform independence&lt;/li&gt;
	&lt;li&gt;Migrated to use unform UNIX-formatted paths, even under Windows for platform indepenence.&lt;/li&gt;
	&lt;li&gt;Imposed Path / File classes use instead of manually composing file names.&lt;/li&gt;
	&lt;li&gt;Avoided strings as Storage file system paths.&lt;/li&gt;
	&lt;li&gt;Resolved inconsistency of Storage (file system) API returning null.&lt;/li&gt;
	&lt;li&gt;Refactored FileSystemStorage to match the use &amp;amp; specification.&lt;/li&gt;
	&lt;li&gt;Fixed possible leaking resources.&lt;/li&gt;
	&lt;li&gt;Fixed inconsistencies in the use of / and home directory.&lt;/li&gt;
	&lt;li&gt;Changed Storage.rm() to report if it succeeded to remove at least a file (in scope).&lt;/li&gt;
	&lt;li&gt;Changed Spark tests close use the non-persistent context, this way closing it when not needed&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Changed tests&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;Fixed EarlyLimitStrategyTest to allow running it&lt;/li&gt;
	&lt;li&gt;Fixed the loger matching tests to ignore platform-specific EOLN char(s)&lt;/li&gt;
	&lt;li&gt;Fixed org.apache.tinkerpop.gremlin.hadoop.process.computer.AbstractHadoopGraphComputerTest to delete the temorary files first before attempting to create new ones with the same name. Provided better error diagnostic messages.&lt;/li&gt;
	&lt;li&gt;Renamed org.apache.tinkerpop.gremlin.TestHelper to CoreTestHelper to avoid confusing it with other TestHelper class.&lt;/li&gt;
	&lt;li&gt;Updated AbstractStorageCheck#AbstractStorageCheck tests to ease their understanding and help further improvement of error reporting. Fixed the tests of rm(), cp() methods.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Fixed tests&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;org.apache.tinkerpop.gremlin.spark.SparkGremlinGryoSerializerTest&lt;/li&gt;
	&lt;li&gt;org.apache.tinkerpop.gremlin.spark.SparkGremlinTest&lt;/li&gt;
	&lt;li&gt;that used to fail with:&lt;/li&gt;
	&lt;li&gt;ERROR shouldSupportCopyMethods(org.apache.tinkerpop.gremlin.spark.structure.io.SparkContextStorageCheck)&lt;/li&gt;
	&lt;li&gt;java.lang.AssertionError&lt;br/&gt;
               at org.apache.tinkerpop.gremlin.spark.structure.io.SparkContextStorageCheck.shouldSupportCopyMethods(SparkContextStorageCheck.java:75)&lt;br/&gt;
       (NOTE: this is an example of &quot;cryptic&quot; error message reported on failed tests) &lt;/li&gt;
	&lt;li&gt;Fixed reflection-based test to match their parameters at runtime.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Dates&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;Used SimpleDateFormat with explicit US locale to parse the test data.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;POM changes&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;Changed POM to dump the whole stack trace in case of test failure.&lt;/li&gt;
	&lt;li&gt;Set POM to check if HADOOP_HOME and HADOOP_GREMLIN_LIBS env. vars are set and warn if not, in order not to fail the build with NullPointerException.&lt;/li&gt;
	&lt;li&gt;In order to avoid MAVEN warnings, provided explicitly the most-recent version of jacoco in &amp;lt;pluginManagement&amp;gt; and removed &amp;lt;prerequisite&amp;gt;.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Made the required HADOOP_HOME and HADOOP_GREMLIN_LIBS set up optional to allow Travis build pass, but this basically negates the use of Maven enforcer at all - in case of not installed Hadoop the tests will fail with no indication why, instead of the script to define &amp;amp; test its environment clearly.&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;Artifacts&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul&gt;
	&lt;li&gt;Added generation of the tests jar to publish the TestHelper class, that is used both in core and tests projects, as a preparation to avoid the collistion of TestHelper classes in both projects&lt;/li&gt;
	&lt;li&gt;In hadoop project added Readme.md to describe how to install hadoop, spark and OS integration.&lt;/li&gt;
&lt;/ul&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16970120" author="githubbot" created="Fri, 8 Nov 2019 12:24:05 +0000"  >&lt;p&gt;spmallette commented on pull request #1188: &lt;a href=&quot;https://issues.apache.org/jira/browse/TINKERPOP-2274&quot; title=&quot;Test of TinkerGraph Gremlin fail on Windows and non EN locale&quot; class=&quot;issue-link&quot; data-issue-key=&quot;TINKERPOP-2274&quot;&gt;&lt;del&gt;TINKERPOP-2274&lt;/del&gt;&lt;/a&gt; Fixed the issues revealed while compiling and runnin&#8230;&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/tinkerpop/pull/1188&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/tinkerpop/pull/1188&lt;/a&gt;&lt;/p&gt;




&lt;p&gt;----------------------------------------------------------------&lt;br/&gt;
This is an automated message from the Apache Git Service.&lt;br/&gt;
To respond to the message, please log on to GitHub and use the&lt;br/&gt;
URL above to go to the specific comment.&lt;/p&gt;

&lt;p&gt;For queries about this service, please contact Infrastructure at:&lt;br/&gt;
users@infra.apache.org&lt;/p&gt;</comment>
                            <comment id="16970125" author="spmallette" created="Fri, 8 Nov 2019 12:29:11 +0000"  >&lt;p&gt;As a closing point on this issue, the &quot;fix&quot; really just goes to 3.3.x as that was the only branch tested  with a windows build so there may yet be issues on downstream branches. Also, there are no guarantees that future problems won&apos;t arise on any branch as we really don&apos;t continually/regularly build on a windows system.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            6 years, 1 week, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z053cw:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>