diff --git a/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/computer/traversal/MemoryTraversalSideEffects.java b/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/computer/traversal/MemoryTraversalSideEffects.java
index bf9f8c045a..deea2a5ce2 100644
--- a/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/computer/traversal/MemoryTraversalSideEffects.java
+++ b/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/computer/traversal/MemoryTraversalSideEffects.java
@@ -169,6 +169,11 @@ public final class MemoryTraversalSideEffects implements TraversalSideEffects {
         memoryTraversalSideEffects.phase = phase;
     }
 
+    public static ProgramPhase getMemorySideEffectsPhase(final Traversal.Admin<?, ?> traversal) {
+        return traversal.getSideEffects() instanceof MemoryTraversalSideEffects ?
+                ((MemoryTraversalSideEffects)traversal.getSideEffects()).phase:null;
+    }
+
     public static Set<MemoryComputeKey> getMemoryComputeKeys(final Traversal.Admin<?, ?> traversal) {
         final Set<MemoryComputeKey> keys = new HashSet<>();
         final TraversalSideEffects sideEffects =
diff --git a/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/computer/traversal/TraversalVertexProgram.java b/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/computer/traversal/TraversalVertexProgram.java
index 7472b85ac7..f9a1e347e3 100644
--- a/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/computer/traversal/TraversalVertexProgram.java
+++ b/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/computer/traversal/TraversalVertexProgram.java
@@ -376,7 +376,9 @@ public final class TraversalVertexProgram implements VertexProgram<TraverserSet<
             iterationMetrics.finish(0);
             // reset counts
             iterationMetrics.setCount(TraversalMetrics.TRAVERSER_COUNT_ID,0);
-            this.traversal.get().getSideEffects().add(profileSteps.get(profileStepIndex).getId(), iterationMetrics);
+            if (null != MemoryTraversalSideEffects.getMemorySideEffectsPhase(this.traversal.get())) {
+                this.traversal.get().getSideEffects().add(profileSteps.get(profileStepIndex).getId(), iterationMetrics);
+            }
             iterationMetrics = null;
         }
     }
