diff --git a/gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/util/DefaultTraversalTest.java b/gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/util/DefaultTraversalTest.java
index e212a358a7..3f0e57a7e7 100644
--- a/gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/util/DefaultTraversalTest.java
+++ b/gremlin-core/src/test/java/org/apache/tinkerpop/gremlin/process/traversal/util/DefaultTraversalTest.java
@@ -163,7 +163,47 @@ public class DefaultTraversalTest {
                                         ).outV().filter(__.has("weight", P.lt(1))),
                                         __.as("a").outE("followedBy").choose(
                                                 __.has("weight"), __.has("weight", P.gt(1)), __.identity()
-                                        ).inV().where(__.identity())
+                                        ).inV().where(
+                                                __.coalesce(
+                                                        __.where(
+                                                                __.union(
+                                                                        __.as("a").outE("followedBy").choose(
+                                                                                __.has("weight"), __.has("weight", P.gt(1)), __.identity()
+                                                                        ).inV().has("songType", P.neq("cover")).where(
+                                                                                __.coalesce(
+                                                                                        __.where(
+                                                                                                __.union(
+                                                                                                        __.as("a").outE("followedBy").choose(
+                                                                                                                __.has("weight"), __.has("weight", P.gt(1)), __.identity()
+                                                                                                        ).inV().where(
+                                                                                                                __.coalesce(
+                                                                                                                        __.where(
+                                                                                                                                __.union(
+                                                                                                                                        __.as("a").outE("followedBy").choose(
+                                                                                                                                                __.has("weight"), __.has("weight", P.gt(1)), __.identity()
+                                                                                                                                        ).inV().where(
+                                                                                                                                                __.coalesce(
+                                                                                                                                                        __.where(
+                                                                                                                                                                __.union(
+                                                                                                                                                                        __.as("a").outE("followedBy").choose(
+                                                                                                                                                                                __.has("weight"), __.has("weight", P.gt(1)), __.identity()
+                                                                                                                                                                        ).inV().has("songType", P.within("original"))
+                                                                                                                                                                )
+                                                                                                                                                        )
+                                                                                                                                                )
+                                                                                                                                        )
+                                                                                                                                )
+                                                                                                                        )
+                                                                                                                )
+                                                                                                        )
+                                                                                                )
+                                                                                        )
+                                                                                )
+                                                                        )
+                                                                )
+                                                        )
+                                                )
+                                        )
                                 ).dedup().select("a")
                         )
                 ));
