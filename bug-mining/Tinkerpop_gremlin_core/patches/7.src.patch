diff --git a/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/util/TraversalHelper.java b/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/util/TraversalHelper.java
index 9a98e54307..67e96b770a 100644
--- a/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/util/TraversalHelper.java
+++ b/gremlin-core/src/main/java/org/apache/tinkerpop/gremlin/process/traversal/util/TraversalHelper.java
@@ -129,7 +129,7 @@ public final class TraversalHelper {
                     state = 'u';
                 else if (states.contains('e'))
                     state = 'e';
-                if (state != currState && step instanceof RepeatStep)
+                if (state != currState && (step instanceof RepeatStep || step instanceof MatchStep))
                     return 'x';
             }
         }
