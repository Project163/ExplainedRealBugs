<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:31:35 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[METAMODEL-173] Effecient CSV writing/appending for non-file resources</title>
                <link>https://issues.apache.org/jira/browse/METAMODEL-173</link>
                <project id="12314523" key="METAMODEL">Apache MetaModel (Retired)</project>
                    <description>&lt;p&gt;See &lt;a href=&quot;https://github.com/apache/metamodel/pull/36&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/36&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;In CsvUpdateCallback line 91-100 we have a file-specific optimization that keeps open an output stream and appends to that stream for the duration of many CSV insert operations. On other Resource implementations we use the .append call. But the .append call can be pretty expensive, so it is very ineffecient and sometimes may even provoke application errors.&lt;/p&gt;

&lt;p&gt;Instead we should add to the Resource interface a write() and an append() method that returns OutputStream. With those methods it becomes possible to allow the application more managed control over what is being written. Although I prefer the functional style of the current write(Action) and append(Action) methods, it seems that in practice we also need the more OO-oriented way for writing to Resources.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12856378">METAMODEL-173</key>
            <summary>Effecient CSV writing/appending for non-file resources</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="kaspersor">Kasper S&#248;rensen</assignee>
                                    <reporter username="kaspersor">Kasper S&#248;rensen</reporter>
                        <labels>
                    </labels>
                <created>Sat, 15 Aug 2015 18:04:06 +0000</created>
                <updated>Tue, 18 Aug 2015 20:06:08 +0000</updated>
                            <resolved>Tue, 18 Aug 2015 20:06:08 +0000</resolved>
                                                    <fixVersion>4.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>1</watches>
                                                                                                                <comments>
                            <comment id="14698397" author="githubbot" created="Sat, 15 Aug 2015 18:42:56 +0000"  >&lt;p&gt;GitHub user kaspersorensen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/40&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    CSV writing using Resource.write() and Resource.append()&lt;/p&gt;

&lt;p&gt;    Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-173&quot; title=&quot;Effecient CSV writing/appending for non-file resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-173&quot;&gt;&lt;del&gt;METAMODEL-173&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    See also previous PR #36 which had a different approach. This approach is in my opinion better since it tries to improve the way the CsvUpdateCallback remembers the output stream (in form of a Writer) and reuses it for each line it writes.&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/kaspersorensen/metamodel&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/kaspersorensen/metamodel&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-173&quot; title=&quot;Effecient CSV writing/appending for non-file resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-173&quot;&gt;&lt;del&gt;METAMODEL-173&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/40.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/40.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #40&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 7d21fba0a5579c96a0ab1feb5818621cfa299e9a&lt;br/&gt;
Author: Kasper S&#248;rensen &amp;lt;i.am.kasper.sorensen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-08-15T18:27:24Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-173&quot; title=&quot;Effecient CSV writing/appending for non-file resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-173&quot;&gt;&lt;del&gt;METAMODEL-173&lt;/del&gt;&lt;/a&gt;: Added Resource.append() and Resource.write() methods&lt;/p&gt;

&lt;p&gt;    implemented an abstract Resource class for reuse of common functionality&lt;/p&gt;

&lt;p&gt;commit d1966b3756b92e3eed5943a2d1e76b949928daeb&lt;br/&gt;
Author: Kasper S&#248;rensen &amp;lt;i.am.kasper.sorensen@gmail.com&amp;gt;&lt;br/&gt;
Date:   2015-08-15T18:40:00Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/METAMODEL-173&quot; title=&quot;Effecient CSV writing/appending for non-file resources&quot; class=&quot;issue-link&quot; data-issue-key=&quot;METAMODEL-173&quot;&gt;&lt;del&gt;METAMODEL-173&lt;/del&gt;&lt;/a&gt;: Changed CsvUpdateCallback to use Resource.write() &lt;br/&gt;
    or Resource.append() when necesary.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="14701899" author="githubbot" created="Tue, 18 Aug 2015 20:04:58 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/metamodel/pull/40&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/metamodel/pull/40&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 13 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2iyr3:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>