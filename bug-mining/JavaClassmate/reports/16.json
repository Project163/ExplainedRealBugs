{"url":"https://api.github.com/repos/FasterXML/java-classmate/issues/37","repository_url":"https://api.github.com/repos/FasterXML/java-classmate","labels_url":"https://api.github.com/repos/FasterXML/java-classmate/issues/37/labels{/name}","comments_url":"https://api.github.com/repos/FasterXML/java-classmate/issues/37/comments","events_url":"https://api.github.com/repos/FasterXML/java-classmate/issues/37/events","html_url":"https://github.com/FasterXML/java-classmate/issues/37","id":247581708,"node_id":"MDU6SXNzdWUyNDc1ODE3MDg=","number":37,"title":"Addition of \"properties\" layer on classmate.","user":{"login":"garretwilson","id":627125,"node_id":"MDQ6VXNlcjYyNzEyNQ==","avatar_url":"https://avatars.githubusercontent.com/u/627125?v=4","gravatar_id":"","url":"https://api.github.com/users/garretwilson","html_url":"https://github.com/garretwilson","followers_url":"https://api.github.com/users/garretwilson/followers","following_url":"https://api.github.com/users/garretwilson/following{/other_user}","gists_url":"https://api.github.com/users/garretwilson/gists{/gist_id}","starred_url":"https://api.github.com/users/garretwilson/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/garretwilson/subscriptions","organizations_url":"https://api.github.com/users/garretwilson/orgs","repos_url":"https://api.github.com/users/garretwilson/repos","events_url":"https://api.github.com/users/garretwilson/events{/privacy}","received_events_url":"https://api.github.com/users/garretwilson/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"open","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":9,"created_at":"2017-08-03T03:24:08Z","updated_at":"2018-02-15T17:29:58Z","closed_at":null,"author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"We have a new format, [SURF](https://urf.io/surf/), for which we want to create a marshaling system (like Jackson) for JAX-RS. (We already have [reference implementation parsers/serializers](https://urf.io/surf/impl/ref) in place.) We considered piggy-backing on Jackson to take advantage of the property reflection and annotations (one of our developers, @magnonasc, already communicated with @cowtowncoder on the details), but I think the impedance mismatch is too great and we would wind up rewriting a lot of things. So I've pretty much decided we'll just write everything from scratch (sort of like writing another Jackson, but for SURF).\r\n\r\nLibraries such as Jackson, JAXB, XML encode/decode, and the like have several layers:\r\n\r\n1. reflection / type discovery\r\n2. property determination with optional annotations\r\n3. actual marshaling (converting object propertis from the instance tree to the format and back)\r\n\r\nI have written this stack myself many times over the years (an almost-two-decades old unfinished tutorial [article](http://www.garretwilson.com/education/computers/java/reflection.html) I wrote is slightly amusing in hindsight), but only a few days ago did I realize that I could have been using [`Introspector`](https://docs.oracle.com/javase/8/docs/api/java/beans/Introspector.html) to do steps 1 and 2. Then I realized I'd run into trouble with generics, and found this project, https://github.com/FasterXML/java-classmate . And I'll be glad to use it.\r\n\r\nThe problem is that ClassMate only handles step 1: using reflection to discover methods and types (albeit resolved as mush as possible with generics). I'll still need to use those methods to determine which properties (based upon the getter/setter names and annotations) the marshaled object should have. And this is the step where the wheel has been repeated over and over (my code included). Jackson (I assume) has its own code for determining which \"properties\" exist, based upon the accessor methods and properties. Jackson has its own proprietary [annotations](https://github.com/FasterXML/jackson-annotations/wiki/Jackson-Annotations) (although I see that [Jackson can use JAXB annotations](https://github.com/FasterXML/jackson-module-jaxb-annotations) as well). This is somewhat of a shame, because really the determination of which properties to ignore, what their names should be, and whether to use methods and/or fields is in large part _orthogonal to the actual format being used for marshaling_ (JSON in the case of Jackson, XML in the case of JAXB).\r\n\r\n(A side note: all my historical property determination code would turn `getURL()`/`setURL()` into a `url` property, but just this week reading the JavaBeans specification I see that it prescribes a `URL` property in this case. I wonder which Jackson would use by default.)\r\n\r\nMy point of all this is that, rather than integrate step 2 (property determination with annotations) into the SURF marshaling system, I'm going to spin out that layer into a separate project this time so that it could be used by various libraries. That way we would have a consistent way of determining which properties exist for being marshaled (independent of the marshaling format), and a common set of annotations. You could then annotate your POJO one time, and it would work for SURF, JSON, XML, or whatever. (Of course that's only if Jackson would support these annotations at some point in the future. The other of both our libraries would be sharing a common codebase for property determination and annotations.\r\n\r\nSo I'm filing this issue to ask what the interest on the Jackson/ClassMate side is for such a small, self-contained library for POJO property determination with an annotation set. It's something that could be beneficial to both libraries. I'm going to have to write such a thing one way or another (and I've already started), but I'd love to collaborate. (On the other hand, if you indicate that ClassMate or another library already has this property determination layer built with a format-agnostic API, that would be even better.) I welcome any thoughts.","closed_by":{"login":"cowtowncoder","id":55065,"node_id":"MDQ6VXNlcjU1MDY1","avatar_url":"https://avatars.githubusercontent.com/u/55065?v=4","gravatar_id":"","url":"https://api.github.com/users/cowtowncoder","html_url":"https://github.com/cowtowncoder","followers_url":"https://api.github.com/users/cowtowncoder/followers","following_url":"https://api.github.com/users/cowtowncoder/following{/other_user}","gists_url":"https://api.github.com/users/cowtowncoder/gists{/gist_id}","starred_url":"https://api.github.com/users/cowtowncoder/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/cowtowncoder/subscriptions","organizations_url":"https://api.github.com/users/cowtowncoder/orgs","repos_url":"https://api.github.com/users/cowtowncoder/repos","events_url":"https://api.github.com/users/cowtowncoder/events{/privacy}","received_events_url":"https://api.github.com/users/cowtowncoder/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/FasterXML/java-classmate/issues/37/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/FasterXML/java-classmate/issues/37/timeline","performed_via_github_app":null,"state_reason":null}