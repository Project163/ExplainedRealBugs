[{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1057709243","html_url":"https://github.com/pyca/cryptography/issues/6926#issuecomment-1057709243","issue_url":"https://api.github.com/repos/pyca/cryptography/issues/6926","id":1057709243,"node_id":"IC_kwDOALYunM4_C1y7","user":{"login":"reaperhulk","id":161495,"node_id":"MDQ6VXNlcjE2MTQ5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/161495?v=4","gravatar_id":"","url":"https://api.github.com/users/reaperhulk","html_url":"https://github.com/reaperhulk","followers_url":"https://api.github.com/users/reaperhulk/followers","following_url":"https://api.github.com/users/reaperhulk/following{/other_user}","gists_url":"https://api.github.com/users/reaperhulk/gists{/gist_id}","starred_url":"https://api.github.com/users/reaperhulk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reaperhulk/subscriptions","organizations_url":"https://api.github.com/users/reaperhulk/orgs","repos_url":"https://api.github.com/users/reaperhulk/repos","events_url":"https://api.github.com/users/reaperhulk/events{/privacy}","received_events_url":"https://api.github.com/users/reaperhulk/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T06:07:25Z","updated_at":"2022-03-03T06:07:25Z","body":"Do you see this issue if you compile our `main` branch and test against that? Do you have an example CSR you can share that exhibits this problem?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1057709243/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"reaperhulk","id":161495,"node_id":"MDQ6VXNlcjE2MTQ5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/161495?v=4","gravatar_id":"","url":"https://api.github.com/users/reaperhulk","html_url":"https://github.com/reaperhulk","followers_url":"https://api.github.com/users/reaperhulk/followers","following_url":"https://api.github.com/users/reaperhulk/following{/other_user}","gists_url":"https://api.github.com/users/reaperhulk/gists{/gist_id}","starred_url":"https://api.github.com/users/reaperhulk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reaperhulk/subscriptions","organizations_url":"https://api.github.com/users/reaperhulk/orgs","repos_url":"https://api.github.com/users/reaperhulk/repos","events_url":"https://api.github.com/users/reaperhulk/events{/privacy}","received_events_url":"https://api.github.com/users/reaperhulk/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058025594","html_url":"https://github.com/pyca/cryptography/issues/6926#issuecomment-1058025594","issue_url":"https://api.github.com/repos/pyca/cryptography/issues/6926","id":1058025594,"node_id":"IC_kwDOALYunM4_EDB6","user":{"login":"sanchayanghosh","id":86283153,"node_id":"MDQ6VXNlcjg2MjgzMTUz","avatar_url":"https://avatars.githubusercontent.com/u/86283153?v=4","gravatar_id":"","url":"https://api.github.com/users/sanchayanghosh","html_url":"https://github.com/sanchayanghosh","followers_url":"https://api.github.com/users/sanchayanghosh/followers","following_url":"https://api.github.com/users/sanchayanghosh/following{/other_user}","gists_url":"https://api.github.com/users/sanchayanghosh/gists{/gist_id}","starred_url":"https://api.github.com/users/sanchayanghosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanchayanghosh/subscriptions","organizations_url":"https://api.github.com/users/sanchayanghosh/orgs","repos_url":"https://api.github.com/users/sanchayanghosh/repos","events_url":"https://api.github.com/users/sanchayanghosh/events{/privacy}","received_events_url":"https://api.github.com/users/sanchayanghosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T13:09:11Z","updated_at":"2022-03-03T13:09:11Z","body":"We have a concerning issue with cryptography. The project source is refactored (cryptography.hazmat.bindings._openssl) to another locaiton. So, after building the latest main branch of cryptography, I now get this problem:\r\n```\r\n\r\n[root@581cda299512 cryptopart]# python test_cert.py \r\nTraceback (most recent call last):\r\n  File \"/python-src/cryptopart/test_cert.py\", line 13, in <module>\r\n    key = generate_private_key(SECP384R1())\r\n  File \"/usr/lib/python3.10/site-packages/cryptography-37.0.0.dev1-py3.10-linux-x86_64.egg/cryptography/hazmat/primitives/asymmetric/ec.py\", line 323, in generate_private_key\r\n    from cryptography.hazmat.backends.openssl.backend import backend as ossl\r\n  File \"/usr/lib/python3.10/site-packages/cryptography-37.0.0.dev1-py3.10-linux-x86_64.egg/cryptography/hazmat/backends/openssl/__init__.py\", line 6, in <module>\r\n    from cryptography.hazmat.backends.openssl.backend import backend\r\n  File \"/usr/lib/python3.10/site-packages/cryptography-37.0.0.dev1-py3.10-linux-x86_64.egg/cryptography/hazmat/backends/openssl/backend.py\", line 63, in <module>\r\n    from cryptography.hazmat.bindings.openssl import binding\r\n  File \"/usr/lib/python3.10/site-packages/cryptography-37.0.0.dev1-py3.10-linux-x86_64.egg/cryptography/hazmat/bindings/openssl/binding.py\", line 14, in <module>\r\n    from cryptography.hazmat.bindings._openssl import ffi, lib\r\nModuleNotFoundError: No module named 'cryptography.hazmat.bindings._openssl'\r\n[root@581cda299512 cryptopart]# \r\n```\r\nThe unit test file is - \r\n```\r\n\r\n[root@581cda299512 cryptopart]# cat test_cert.py t\r\nfrom cryptography.x509.oid import ExtendedKeyUsageOID\r\nfrom cryptography.hazmat.primitives.asymmetric.rsa import generate_private_key, RSAPrivateKey\r\n\r\nfrom cryptography.x509.base import CertificateBuilder, CertificateSigningRequest\r\nfrom cryptography import x509\r\nfrom cryptography.x509.oid import NameOID\r\nimport datetime\r\nfrom cryptography.hazmat.primitives import hashes\r\nfrom cryptography.hazmat.primitives.hashes import SHA256\r\nfrom cryptography.hazmat.primitives.asymmetric.ec import generate_private_key, SECP384R1\r\nfrom cryptography.hazmat.primitives.serialization import Encoding\r\n\r\nkey = generate_private_key(SECP384R1())\r\n\r\n\r\ncsr_b = x509.CertificateSigningRequestBuilder().subject_name(x509.Name([\r\n\r\n    # Provide various details about who we are.\r\n\r\n    x509.NameAttribute(NameOID.COUNTRY_NAME, u\"US\"),\r\n\r\n    x509.NameAttribute(NameOID.STATE_OR_PROVINCE_NAME, u\"California\"),\r\n\r\n    x509.NameAttribute(NameOID.LOCALITY_NAME, u\"San Francisco\"),\r\n\r\n    x509.NameAttribute(NameOID.ORGANIZATION_NAME, u\"My Company\"),\r\n\r\n    x509.NameAttribute(NameOID.COMMON_NAME, u\"mysite.com\"),\r\n\r\n])).add_extension(\r\n\r\n    x509.SubjectAlternativeName([\r\n\r\n        # Describe what sites we want this certificate for.\r\n\r\n        x509.DNSName(u\"mysite.com\"),\r\n\r\n        x509.DNSName(u\"www.mysite.com\"),\r\n\r\n        x509.DNSName(u\"subdomain.mysite.com\"),\r\n\r\n    ]),\r\n\r\n    critical=False,\r\n\r\n# Sign the CSR with our private key.\r\n\r\n).sign(key, hashes.SHA256())\r\n\r\ncsr_b.extensions()\r\n\r\n# Write our CSR out to disk.\r\n\r\nwith open(\"csr.pem\", \"wb\") as f:\r\n\r\n    f.write(csr.public_bytes(serialization.Encoding.PEM))\r\n\r\n```\r\n\r\nI copied this unit test from the tutorial - [here](https://cryptography.io/en/latest/x509/tutorial/)","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058025594/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sanchayanghosh","id":86283153,"node_id":"MDQ6VXNlcjg2MjgzMTUz","avatar_url":"https://avatars.githubusercontent.com/u/86283153?v=4","gravatar_id":"","url":"https://api.github.com/users/sanchayanghosh","html_url":"https://github.com/sanchayanghosh","followers_url":"https://api.github.com/users/sanchayanghosh/followers","following_url":"https://api.github.com/users/sanchayanghosh/following{/other_user}","gists_url":"https://api.github.com/users/sanchayanghosh/gists{/gist_id}","starred_url":"https://api.github.com/users/sanchayanghosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanchayanghosh/subscriptions","organizations_url":"https://api.github.com/users/sanchayanghosh/orgs","repos_url":"https://api.github.com/users/sanchayanghosh/repos","events_url":"https://api.github.com/users/sanchayanghosh/events{/privacy}","received_events_url":"https://api.github.com/users/sanchayanghosh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058030974","html_url":"https://github.com/pyca/cryptography/issues/6926#issuecomment-1058030974","issue_url":"https://api.github.com/repos/pyca/cryptography/issues/6926","id":1058030974,"node_id":"IC_kwDOALYunM4_EEV-","user":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T13:15:45Z","updated_at":"2022-03-03T13:15:45Z","body":"This script doesn't actually run, it's got a number of issues. However, if I fix those then it runs to completion without error.\r\n\r\nAre you saying that this script generates the `ValueError` you originally described?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058030974/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058131457","html_url":"https://github.com/pyca/cryptography/issues/6926#issuecomment-1058131457","issue_url":"https://api.github.com/repos/pyca/cryptography/issues/6926","id":1058131457,"node_id":"IC_kwDOALYunM4_Ec4B","user":{"login":"sanchayanghosh","id":86283153,"node_id":"MDQ6VXNlcjg2MjgzMTUz","avatar_url":"https://avatars.githubusercontent.com/u/86283153?v=4","gravatar_id":"","url":"https://api.github.com/users/sanchayanghosh","html_url":"https://github.com/sanchayanghosh","followers_url":"https://api.github.com/users/sanchayanghosh/followers","following_url":"https://api.github.com/users/sanchayanghosh/following{/other_user}","gists_url":"https://api.github.com/users/sanchayanghosh/gists{/gist_id}","starred_url":"https://api.github.com/users/sanchayanghosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanchayanghosh/subscriptions","organizations_url":"https://api.github.com/users/sanchayanghosh/orgs","repos_url":"https://api.github.com/users/sanchayanghosh/repos","events_url":"https://api.github.com/users/sanchayanghosh/events{/privacy}","received_events_url":"https://api.github.com/users/sanchayanghosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T15:03:06Z","updated_at":"2022-03-03T15:03:06Z","body":"Sorry for the wrong snippet. I forgot to include a significant parameter I have set up.\r\n```\r\n\r\n[root@581cda299512 cryptopart]# vim test_cert.py \r\n[root@581cda299512 cryptopart]# python3.11 test_cert.py \r\nTraceback (most recent call last):\r\n  File \"/python-src/cryptopart/test_cert.py\", line 66, in <module>\r\n    print(csr_b.extensions)\r\n          ^^^^^^^^^^^^^^^^\r\nValueError: error parsing asn1 value: ParseError { kind: ShortData }\r\n[root@581cda299512 cryptopart]# vim test_cert.py \r\n[root@581cda299512 cryptopart]# vim test_cert.py \r\n[root@581cda299512 cryptopart]# python3.11 test_cert.py \r\nTraceback (most recent call last):\r\n  File \"/python-src/cryptopart/test_cert.py\", line 66, in <module>\r\n    print(csr_b.extensions)\r\n          ^^^^^^^^^^^^^^^^\r\nValueError: error parsing asn1 value: ParseError { kind: ShortData }\r\n[root@581cda299512 cryptopart]# cat test_cert.py \r\nfrom cryptography.x509.oid import ExtendedKeyUsageOID\r\nfrom cryptography.hazmat.primitives.asymmetric.rsa import generate_private_key, RSAPrivateKey\r\n\r\nfrom cryptography.x509.base import CertificateBuilder, CertificateSigningRequest\r\nfrom cryptography import x509\r\nfrom cryptography.x509.oid import NameOID\r\nimport datetime\r\nfrom cryptography.hazmat.primitives import hashes\r\nfrom cryptography.hazmat.primitives.hashes import SHA256\r\nfrom cryptography.hazmat.primitives.asymmetric.ec import generate_private_key, SECP384R1\r\nfrom cryptography.hazmat.primitives.serialization import Encoding\r\nimport ipaddress\r\nfrom cryptography.hazmat.primitives import serialization\r\n\r\nkey = generate_private_key(SECP384R1())\r\n\r\n\r\ncsr_b = x509.CertificateSigningRequestBuilder().subject_name(x509.Name([\r\n\r\n    # Provide various details about who we are.\r\n\r\n    x509.NameAttribute(NameOID.COUNTRY_NAME, u\"US\"),\r\n\r\n    x509.NameAttribute(NameOID.STATE_OR_PROVINCE_NAME, u\"California\"),\r\n\r\n    x509.NameAttribute(NameOID.LOCALITY_NAME, u\"San Francisco\"),\r\n\r\n    x509.NameAttribute(NameOID.ORGANIZATION_NAME, u\"My Company\"),\r\n\r\n    x509.NameAttribute(NameOID.COMMON_NAME, u\"mysite.com\"),\r\n\r\n])).add_extension(\r\n\r\n    x509.SubjectAlternativeName([\r\n\r\n        # Describe what sites we want this certificate for.\r\n\r\n        x509.DNSName(u\"mysite.com\"),\r\n\r\n        x509.DNSName(u\"www.mysite.com\"),\r\n\r\n        x509.DNSName(u\"subdomain.mysite.com\"),\r\n\r\n        x509.IPAddress(ipaddress.IPv4Address(\"10.220.224.47\"))\r\n    ]),\r\n\r\n    critical=False,\r\n\r\n# Sign the CSR with our private key.\r\n\r\n).add_extension(\r\n\r\nx509.ExtendedKeyUsage(\r\n    [\r\n        ExtendedKeyUsageOID.IPSEC_IKE\r\n    ]\r\n\r\n    ), critical=False\r\n\r\n).add_extension(\r\n        x509.KeyUsage(\r\n            False,False,False,False,False,False,False,False,False\r\n            ), critical=True\r\n        ).sign(key, hashes.SHA256())\r\n\r\nprint(csr_b.extensions)\r\n\r\n# Write our CSR out to disk.\r\n\r\nwith open(\"csr.pem\", \"wb\") as f:\r\n\r\n    f.write(csr_b.public_bytes(serialization.Encoding.PEM))\r\n\r\n\r\n```\r\n\r\nThe KeyUsage parameter causes this.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058131457/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sanchayanghosh","id":86283153,"node_id":"MDQ6VXNlcjg2MjgzMTUz","avatar_url":"https://avatars.githubusercontent.com/u/86283153?v=4","gravatar_id":"","url":"https://api.github.com/users/sanchayanghosh","html_url":"https://github.com/sanchayanghosh","followers_url":"https://api.github.com/users/sanchayanghosh/followers","following_url":"https://api.github.com/users/sanchayanghosh/following{/other_user}","gists_url":"https://api.github.com/users/sanchayanghosh/gists{/gist_id}","starred_url":"https://api.github.com/users/sanchayanghosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanchayanghosh/subscriptions","organizations_url":"https://api.github.com/users/sanchayanghosh/orgs","repos_url":"https://api.github.com/users/sanchayanghosh/repos","events_url":"https://api.github.com/users/sanchayanghosh/events{/privacy}","received_events_url":"https://api.github.com/users/sanchayanghosh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6178817856,"node_id":"MIE_lADOALYunM5FBcqYzwAAAAFwSUdA","url":"https://api.github.com/repos/pyca/cryptography/issues/events/6178817856","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2022-03-03T15:06:30Z","milestone":{"title":"Thirty Seventh Release"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058134890","html_url":"https://github.com/pyca/cryptography/issues/6926#issuecomment-1058134890","issue_url":"https://api.github.com/repos/pyca/cryptography/issues/6926","id":1058134890,"node_id":"IC_kwDOALYunM4_Edtq","user":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T15:06:32Z","updated_at":"2022-03-03T15:06:32Z","body":"Interesting, I can now reproduce on main.\n\nOn Thu, Mar 3, 2022 at 10:03 AM sanchayanghosh ***@***.***>\nwrote:\n\n> Sorry for the wrong snippet. I forgot to include a significant parameter I\n> have set up.\n>\n>\n> ***@***.*** cryptopart]# vim test_cert.py\n> ***@***.*** cryptopart]# python3.11 test_cert.py\n> Traceback (most recent call last):\n>   File \"/python-src/cryptopart/test_cert.py\", line 66, in <module>\n>     print(csr_b.extensions)\n>           ^^^^^^^^^^^^^^^^\n> ValueError: error parsing asn1 value: ParseError { kind: ShortData }\n> ***@***.*** cryptopart]# vim test_cert.py\n> ***@***.*** cryptopart]# vim test_cert.py\n> ***@***.*** cryptopart]# python3.11 test_cert.py\n> Traceback (most recent call last):\n>   File \"/python-src/cryptopart/test_cert.py\", line 66, in <module>\n>     print(csr_b.extensions)\n>           ^^^^^^^^^^^^^^^^\n> ValueError: error parsing asn1 value: ParseError { kind: ShortData }\n> ***@***.*** cryptopart]# cat test_cert.py\n> from cryptography.x509.oid import ExtendedKeyUsageOID\n> from cryptography.hazmat.primitives.asymmetric.rsa import generate_private_key, RSAPrivateKey\n>\n> from cryptography.x509.base import CertificateBuilder, CertificateSigningRequest\n> from cryptography import x509\n> from cryptography.x509.oid import NameOID\n> import datetime\n> from cryptography.hazmat.primitives import hashes\n> from cryptography.hazmat.primitives.hashes import SHA256\n> from cryptography.hazmat.primitives.asymmetric.ec import generate_private_key, SECP384R1\n> from cryptography.hazmat.primitives.serialization import Encoding\n> import ipaddress\n> from cryptography.hazmat.primitives import serialization\n>\n> key = generate_private_key(SECP384R1())\n>\n>\n> csr_b = x509.CertificateSigningRequestBuilder().subject_name(x509.Name([\n>\n>     # Provide various details about who we are.\n>\n>     x509.NameAttribute(NameOID.COUNTRY_NAME, u\"US\"),\n>\n>     x509.NameAttribute(NameOID.STATE_OR_PROVINCE_NAME, u\"California\"),\n>\n>     x509.NameAttribute(NameOID.LOCALITY_NAME, u\"San Francisco\"),\n>\n>     x509.NameAttribute(NameOID.ORGANIZATION_NAME, u\"My Company\"),\n>\n>     x509.NameAttribute(NameOID.COMMON_NAME, u\"mysite.com\"),\n>\n> ])).add_extension(\n>\n>     x509.SubjectAlternativeName([\n>\n>         # Describe what sites we want this certificate for.\n>\n>         x509.DNSName(u\"mysite.com\"),\n>\n>         x509.DNSName(u\"www.mysite.com\"),\n>\n>         x509.DNSName(u\"subdomain.mysite.com\"),\n>\n>         x509.IPAddress(ipaddress.IPv4Address(\"10.220.224.47\"))\n>     ]),\n>\n>     critical=False,\n>\n> # Sign the CSR with our private key.\n>\n> ).add_extension(\n>\n> x509.ExtendedKeyUsage(\n>     [\n>         ExtendedKeyUsageOID.IPSEC_IKE\n>     ]\n>\n>     ), critical=False\n>\n> ).add_extension(\n>         x509.KeyUsage(\n>             False,False,False,False,False,False,False,False,False\n>             ), critical=True\n>         ).sign(key, hashes.SHA256())\n>\n> print(csr_b.extensions)\n>\n> # Write our CSR out to disk.\n>\n> with open(\"csr.pem\", \"wb\") as f:\n>\n>     f.write(csr_b.public_bytes(serialization.Encoding.PEM))\n>\n>\n>\n> The KeyUsage parameter causes this.\n>\n> â€”\n> Reply to this email directly, view it on GitHub\n> <https://github.com/pyca/cryptography/issues/6926#issuecomment-1058131457>,\n> or unsubscribe\n> <https://github.com/notifications/unsubscribe-auth/AAAAGBDDYJQO2XZEGZZMG5DU6DID7ANCNFSM5PZPSABQ>\n> .\n> Triage notifications on the go with GitHub Mobile for iOS\n> <https://apps.apple.com/app/apple-store/id1477376905?ct=notification-email&mt=8&pt=524675>\n> or Android\n> <https://play.google.com/store/apps/details?id=com.github.android&referrer=utm_campaign%3Dnotification-email%26utm_medium%3Demail%26utm_source%3Dgithub>.\n>\n> You are receiving this because you commented.Message ID:\n> ***@***.***>\n>\n\n\n-- \nAll that is necessary for evil to succeed is for good people to do nothing.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058134890/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6178818218,"node_id":"LE_lADOALYunM5FBcqYzwAAAAFwSUiq","url":"https://api.github.com/repos/pyca/cryptography/issues/events/6178818218","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-03-03T15:06:33Z","label":{"name":"x509","color":"fef2c0"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058142035","html_url":"https://github.com/pyca/cryptography/issues/6926#issuecomment-1058142035","issue_url":"https://api.github.com/repos/pyca/cryptography/issues/6926","id":1058142035,"node_id":"IC_kwDOALYunM4_EfdT","user":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T15:13:29Z","updated_at":"2022-03-03T15:13:29Z","body":"Minimized reproducer:\r\n\r\n```\r\nfrom cryptography import x509\r\nfrom cryptography.hazmat.primitives import hashes\r\nfrom cryptography.hazmat.primitives.asymmetric import ec\r\n\r\nkey = ec.generate_private_key(ec.SECP384R1())\r\n\r\n\r\ncsr_b = (\r\n    x509.CertificateSigningRequestBuilder()\r\n    .subject_name(x509.Name([]))\r\n    .add_extension(\r\n        x509.KeyUsage(\r\n            False, False, False, False, False, False, False, False, False\r\n        ),\r\n        critical=True,\r\n    )\r\n    .sign(key, hashes.SHA256())\r\n)\r\n\r\nprint(csr_b.extensions)\r\n```","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058142035/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T15:46:12Z","updated_at":"2022-03-03T15:46:12Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pyca/cryptography/issues/6930","repository_url":"https://api.github.com/repos/pyca/cryptography","labels_url":"https://api.github.com/repos/pyca/cryptography/issues/6930/labels{/name}","comments_url":"https://api.github.com/repos/pyca/cryptography/issues/6930/comments","events_url":"https://api.github.com/repos/pyca/cryptography/issues/6930/events","html_url":"https://github.com/pyca/cryptography/pull/6930","id":1158574302,"node_id":"PR_kwDOALYunM4z5lbo","number":6930,"title":"Fixed serialization of keyusage ext with no bits","user":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2022-03-03T15:46:12Z","updated_at":"2022-03-04T01:35:10Z","closed_at":"2022-03-03T21:24:21Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":11939484,"node_id":"MDEwOlJlcG9zaXRvcnkxMTkzOTQ4NA==","name":"cryptography","full_name":"pyca/cryptography","private":false,"owner":{"login":"pyca","id":5615737,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2MTU3Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/5615737?v=4","gravatar_id":"","url":"https://api.github.com/users/pyca","html_url":"https://github.com/pyca","followers_url":"https://api.github.com/users/pyca/followers","following_url":"https://api.github.com/users/pyca/following{/other_user}","gists_url":"https://api.github.com/users/pyca/gists{/gist_id}","starred_url":"https://api.github.com/users/pyca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyca/subscriptions","organizations_url":"https://api.github.com/users/pyca/orgs","repos_url":"https://api.github.com/users/pyca/repos","events_url":"https://api.github.com/users/pyca/events{/privacy}","received_events_url":"https://api.github.com/users/pyca/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pyca/cryptography","description":"cryptography is a package designed to expose cryptographic primitives and recipes to Python developers.","fork":false,"url":"https://api.github.com/repos/pyca/cryptography","forks_url":"https://api.github.com/repos/pyca/cryptography/forks","keys_url":"https://api.github.com/repos/pyca/cryptography/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pyca/cryptography/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pyca/cryptography/teams","hooks_url":"https://api.github.com/repos/pyca/cryptography/hooks","issue_events_url":"https://api.github.com/repos/pyca/cryptography/issues/events{/number}","events_url":"https://api.github.com/repos/pyca/cryptography/events","assignees_url":"https://api.github.com/repos/pyca/cryptography/assignees{/user}","branches_url":"https://api.github.com/repos/pyca/cryptography/branches{/branch}","tags_url":"https://api.github.com/repos/pyca/cryptography/tags","blobs_url":"https://api.github.com/repos/pyca/cryptography/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pyca/cryptography/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pyca/cryptography/git/refs{/sha}","trees_url":"https://api.github.com/repos/pyca/cryptography/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pyca/cryptography/statuses/{sha}","languages_url":"https://api.github.com/repos/pyca/cryptography/languages","stargazers_url":"https://api.github.com/repos/pyca/cryptography/stargazers","contributors_url":"https://api.github.com/repos/pyca/cryptography/contributors","subscribers_url":"https://api.github.com/repos/pyca/cryptography/subscribers","subscription_url":"https://api.github.com/repos/pyca/cryptography/subscription","commits_url":"https://api.github.com/repos/pyca/cryptography/commits{/sha}","git_commits_url":"https://api.github.com/repos/pyca/cryptography/git/commits{/sha}","comments_url":"https://api.github.com/repos/pyca/cryptography/comments{/number}","issue_comment_url":"https://api.github.com/repos/pyca/cryptography/issues/comments{/number}","contents_url":"https://api.github.com/repos/pyca/cryptography/contents/{+path}","compare_url":"https://api.github.com/repos/pyca/cryptography/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pyca/cryptography/merges","archive_url":"https://api.github.com/repos/pyca/cryptography/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pyca/cryptography/downloads","issues_url":"https://api.github.com/repos/pyca/cryptography/issues{/number}","pulls_url":"https://api.github.com/repos/pyca/cryptography/pulls{/number}","milestones_url":"https://api.github.com/repos/pyca/cryptography/milestones{/number}","notifications_url":"https://api.github.com/repos/pyca/cryptography/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pyca/cryptography/labels{/name}","releases_url":"https://api.github.com/repos/pyca/cryptography/releases{/id}","deployments_url":"https://api.github.com/repos/pyca/cryptography/deployments","created_at":"2013-08-07T02:23:38Z","updated_at":"2025-11-10T02:24:11Z","pushed_at":"2025-11-10T10:09:01Z","git_url":"git://github.com/pyca/cryptography.git","ssh_url":"git@github.com:pyca/cryptography.git","clone_url":"https://github.com/pyca/cryptography.git","svn_url":"https://github.com/pyca/cryptography","homepage":"https://cryptography.io","size":64122,"stargazers_count":7307,"watchers_count":7307,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1673,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":45,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cryptography","python"],"visibility":"public","forks":1673,"open_issues":45,"watchers":7307,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/pyca/cryptography/pulls/6930","html_url":"https://github.com/pyca/cryptography/pull/6930","diff_url":"https://github.com/pyca/cryptography/pull/6930.diff","patch_url":"https://github.com/pyca/cryptography/pull/6930.patch","merged_at":"2022-03-03T21:24:21Z"},"body":"fixes #6926","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/6930/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pyca/cryptography/issues/6930/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":6179113905,"node_id":"REFE_lADOALYunM5FBcqYzwAAAAFwTcux","url":"https://api.github.com/repos/pyca/cryptography/issues/events/6179113905","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"ea2eb7331c66511e83abef50a0aa45400520b9e1","commit_url":"https://api.github.com/repos/alex/cryptography/commits/ea2eb7331c66511e83abef50a0aa45400520b9e1","created_at":"2022-03-03T15:46:13Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058205949","html_url":"https://github.com/pyca/cryptography/issues/6926#issuecomment-1058205949","issue_url":"https://api.github.com/repos/pyca/cryptography/issues/6926","id":1058205949,"node_id":"IC_kwDOALYunM4_EvD9","user":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T16:08:05Z","updated_at":"2022-03-03T16:08:05Z","body":"ok, PR submitted to fix this. thanks for the clear report!","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058205949/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058298762","html_url":"https://github.com/pyca/cryptography/issues/6926#issuecomment-1058298762","issue_url":"https://api.github.com/repos/pyca/cryptography/issues/6926","id":1058298762,"node_id":"IC_kwDOALYunM4_FFuK","user":{"login":"sanchayanghosh","id":86283153,"node_id":"MDQ6VXNlcjg2MjgzMTUz","avatar_url":"https://avatars.githubusercontent.com/u/86283153?v=4","gravatar_id":"","url":"https://api.github.com/users/sanchayanghosh","html_url":"https://github.com/sanchayanghosh","followers_url":"https://api.github.com/users/sanchayanghosh/followers","following_url":"https://api.github.com/users/sanchayanghosh/following{/other_user}","gists_url":"https://api.github.com/users/sanchayanghosh/gists{/gist_id}","starred_url":"https://api.github.com/users/sanchayanghosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanchayanghosh/subscriptions","organizations_url":"https://api.github.com/users/sanchayanghosh/orgs","repos_url":"https://api.github.com/users/sanchayanghosh/repos","events_url":"https://api.github.com/users/sanchayanghosh/events{/privacy}","received_events_url":"https://api.github.com/users/sanchayanghosh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-03T17:27:28Z","updated_at":"2022-03-03T17:27:28Z","body":"@alex \r\nThanks so much for the speedy fix! It works without errors now!","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/comments/1058298762/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"sanchayanghosh","id":86283153,"node_id":"MDQ6VXNlcjg2MjgzMTUz","avatar_url":"https://avatars.githubusercontent.com/u/86283153?v=4","gravatar_id":"","url":"https://api.github.com/users/sanchayanghosh","html_url":"https://github.com/sanchayanghosh","followers_url":"https://api.github.com/users/sanchayanghosh/followers","following_url":"https://api.github.com/users/sanchayanghosh/following{/other_user}","gists_url":"https://api.github.com/users/sanchayanghosh/gists{/gist_id}","starred_url":"https://api.github.com/users/sanchayanghosh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/sanchayanghosh/subscriptions","organizations_url":"https://api.github.com/users/sanchayanghosh/orgs","repos_url":"https://api.github.com/users/sanchayanghosh/repos","events_url":"https://api.github.com/users/sanchayanghosh/events{/privacy}","received_events_url":"https://api.github.com/users/sanchayanghosh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":6179830098,"node_id":"MEE_lADOALYunM5FBcqYzwAAAAFwWLlS","url":"https://api.github.com/repos/pyca/cryptography/issues/events/6179830098","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2022-03-03T17:27:28Z","performed_via_github_app":null},{"id":6179830105,"node_id":"SE_lADOALYunM5FBcqYzwAAAAFwWLlZ","url":"https://api.github.com/repos/pyca/cryptography/issues/events/6179830105","actor":{"login":"alex","id":772,"node_id":"MDQ6VXNlcjc3Mg==","avatar_url":"https://avatars.githubusercontent.com/u/772?v=4","gravatar_id":"","url":"https://api.github.com/users/alex","html_url":"https://github.com/alex","followers_url":"https://api.github.com/users/alex/followers","following_url":"https://api.github.com/users/alex/following{/other_user}","gists_url":"https://api.github.com/users/alex/gists{/gist_id}","starred_url":"https://api.github.com/users/alex/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex/subscriptions","organizations_url":"https://api.github.com/users/alex/orgs","repos_url":"https://api.github.com/users/alex/repos","events_url":"https://api.github.com/users/alex/events{/privacy}","received_events_url":"https://api.github.com/users/alex/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2022-03-03T17:27:28Z","performed_via_github_app":null},{"id":6181088753,"node_id":"CE_lADOALYunM5FBcqYzwAAAAFwa-3x","url":"https://api.github.com/repos/pyca/cryptography/issues/events/6181088753","actor":{"login":"reaperhulk","id":161495,"node_id":"MDQ6VXNlcjE2MTQ5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/161495?v=4","gravatar_id":"","url":"https://api.github.com/users/reaperhulk","html_url":"https://github.com/reaperhulk","followers_url":"https://api.github.com/users/reaperhulk/followers","following_url":"https://api.github.com/users/reaperhulk/following{/other_user}","gists_url":"https://api.github.com/users/reaperhulk/gists{/gist_id}","starred_url":"https://api.github.com/users/reaperhulk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reaperhulk/subscriptions","organizations_url":"https://api.github.com/users/reaperhulk/orgs","repos_url":"https://api.github.com/users/reaperhulk/repos","events_url":"https://api.github.com/users/reaperhulk/events{/privacy}","received_events_url":"https://api.github.com/users/reaperhulk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":null,"commit_url":null,"created_at":"2022-03-03T21:24:21Z","state_reason":null,"performed_via_github_app":null},{"id":6181088889,"node_id":"REFE_lADOALYunM5FBcqYzwAAAAFwa-55","url":"https://api.github.com/repos/pyca/cryptography/issues/events/6181088889","actor":{"login":"reaperhulk","id":161495,"node_id":"MDQ6VXNlcjE2MTQ5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/161495?v=4","gravatar_id":"","url":"https://api.github.com/users/reaperhulk","html_url":"https://github.com/reaperhulk","followers_url":"https://api.github.com/users/reaperhulk/followers","following_url":"https://api.github.com/users/reaperhulk/following{/other_user}","gists_url":"https://api.github.com/users/reaperhulk/gists{/gist_id}","starred_url":"https://api.github.com/users/reaperhulk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reaperhulk/subscriptions","organizations_url":"https://api.github.com/users/reaperhulk/orgs","repos_url":"https://api.github.com/users/reaperhulk/repos","events_url":"https://api.github.com/users/reaperhulk/events{/privacy}","received_events_url":"https://api.github.com/users/reaperhulk/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"b2c4ded952559daa503f0d55064c9dfb3ff29a16","commit_url":"https://api.github.com/repos/pyca/cryptography/commits/b2c4ded952559daa503f0d55064c9dfb3ff29a16","created_at":"2022-03-03T21:24:23Z","performed_via_github_app":null},{"actor":{"login":"phughesion","id":36139669,"node_id":"MDQ6VXNlcjM2MTM5NjY5","avatar_url":"https://avatars.githubusercontent.com/u/36139669?v=4","gravatar_id":"","url":"https://api.github.com/users/phughesion","html_url":"https://github.com/phughesion","followers_url":"https://api.github.com/users/phughesion/followers","following_url":"https://api.github.com/users/phughesion/following{/other_user}","gists_url":"https://api.github.com/users/phughesion/gists{/gist_id}","starred_url":"https://api.github.com/users/phughesion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phughesion/subscriptions","organizations_url":"https://api.github.com/users/phughesion/orgs","repos_url":"https://api.github.com/users/phughesion/repos","events_url":"https://api.github.com/users/phughesion/events{/privacy}","received_events_url":"https://api.github.com/users/phughesion/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2022-03-17T03:25:07Z","updated_at":"2022-03-17T03:25:07Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/pyca/cryptography/issues/6970","repository_url":"https://api.github.com/repos/pyca/cryptography","labels_url":"https://api.github.com/repos/pyca/cryptography/issues/6970/labels{/name}","comments_url":"https://api.github.com/repos/pyca/cryptography/issues/6970/comments","events_url":"https://api.github.com/repos/pyca/cryptography/issues/6970/events","html_url":"https://github.com/pyca/cryptography/issues/6970","id":1171886119,"node_id":"I_kwDOALYunM5F2ZAn","number":6970,"title":"Parse Error in ASN1.value when signing CertificateSigningRequestBuilder with otherName SAN extension","user":{"login":"phughesion","id":36139669,"node_id":"MDQ6VXNlcjM2MTM5NjY5","avatar_url":"https://avatars.githubusercontent.com/u/36139669?v=4","gravatar_id":"","url":"https://api.github.com/users/phughesion","html_url":"https://github.com/phughesion","followers_url":"https://api.github.com/users/phughesion/followers","following_url":"https://api.github.com/users/phughesion/following{/other_user}","gists_url":"https://api.github.com/users/phughesion/gists{/gist_id}","starred_url":"https://api.github.com/users/phughesion/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/phughesion/subscriptions","organizations_url":"https://api.github.com/users/phughesion/orgs","repos_url":"https://api.github.com/users/phughesion/repos","events_url":"https://api.github.com/users/phughesion/events{/privacy}","received_events_url":"https://api.github.com/users/phughesion/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":83603179,"node_id":"MDU6TGFiZWw4MzYwMzE3OQ==","url":"https://api.github.com/repos/pyca/cryptography/labels/bugs","name":"bugs","color":"e11d21","default":false,"description":null},{"id":198687536,"node_id":"MDU6TGFiZWwxOTg2ODc1MzY=","url":"https://api.github.com/repos/pyca/cryptography/labels/x509","name":"x509","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pyca/cryptography/milestones/39","html_url":"https://github.com/pyca/cryptography/milestone/39","labels_url":"https://api.github.com/repos/pyca/cryptography/milestones/39/labels","id":7308423,"node_id":"MI_kwDOALYunM4Ab4SH","number":39,"title":"Thirty Seventh Release","description":"","creator":{"login":"reaperhulk","id":161495,"node_id":"MDQ6VXNlcjE2MTQ5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/161495?v=4","gravatar_id":"","url":"https://api.github.com/users/reaperhulk","html_url":"https://github.com/reaperhulk","followers_url":"https://api.github.com/users/reaperhulk/followers","following_url":"https://api.github.com/users/reaperhulk/following{/other_user}","gists_url":"https://api.github.com/users/reaperhulk/gists{/gist_id}","starred_url":"https://api.github.com/users/reaperhulk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reaperhulk/subscriptions","organizations_url":"https://api.github.com/users/reaperhulk/orgs","repos_url":"https://api.github.com/users/reaperhulk/repos","events_url":"https://api.github.com/users/reaperhulk/events{/privacy}","received_events_url":"https://api.github.com/users/reaperhulk/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":28,"state":"closed","created_at":"2021-10-31T03:37:49Z","updated_at":"2022-04-26T15:25:12Z","due_on":null,"closed_at":"2022-04-26T15:25:12Z"},"comments":4,"created_at":"2022-03-17T03:25:07Z","updated_at":"2022-06-16T00:01:15Z","closed_at":"2022-03-17T05:25:40Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":11939484,"node_id":"MDEwOlJlcG9zaXRvcnkxMTkzOTQ4NA==","name":"cryptography","full_name":"pyca/cryptography","private":false,"owner":{"login":"pyca","id":5615737,"node_id":"MDEyOk9yZ2FuaXphdGlvbjU2MTU3Mzc=","avatar_url":"https://avatars.githubusercontent.com/u/5615737?v=4","gravatar_id":"","url":"https://api.github.com/users/pyca","html_url":"https://github.com/pyca","followers_url":"https://api.github.com/users/pyca/followers","following_url":"https://api.github.com/users/pyca/following{/other_user}","gists_url":"https://api.github.com/users/pyca/gists{/gist_id}","starred_url":"https://api.github.com/users/pyca/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/pyca/subscriptions","organizations_url":"https://api.github.com/users/pyca/orgs","repos_url":"https://api.github.com/users/pyca/repos","events_url":"https://api.github.com/users/pyca/events{/privacy}","received_events_url":"https://api.github.com/users/pyca/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/pyca/cryptography","description":"cryptography is a package designed to expose cryptographic primitives and recipes to Python developers.","fork":false,"url":"https://api.github.com/repos/pyca/cryptography","forks_url":"https://api.github.com/repos/pyca/cryptography/forks","keys_url":"https://api.github.com/repos/pyca/cryptography/keys{/key_id}","collaborators_url":"https://api.github.com/repos/pyca/cryptography/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/pyca/cryptography/teams","hooks_url":"https://api.github.com/repos/pyca/cryptography/hooks","issue_events_url":"https://api.github.com/repos/pyca/cryptography/issues/events{/number}","events_url":"https://api.github.com/repos/pyca/cryptography/events","assignees_url":"https://api.github.com/repos/pyca/cryptography/assignees{/user}","branches_url":"https://api.github.com/repos/pyca/cryptography/branches{/branch}","tags_url":"https://api.github.com/repos/pyca/cryptography/tags","blobs_url":"https://api.github.com/repos/pyca/cryptography/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/pyca/cryptography/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/pyca/cryptography/git/refs{/sha}","trees_url":"https://api.github.com/repos/pyca/cryptography/git/trees{/sha}","statuses_url":"https://api.github.com/repos/pyca/cryptography/statuses/{sha}","languages_url":"https://api.github.com/repos/pyca/cryptography/languages","stargazers_url":"https://api.github.com/repos/pyca/cryptography/stargazers","contributors_url":"https://api.github.com/repos/pyca/cryptography/contributors","subscribers_url":"https://api.github.com/repos/pyca/cryptography/subscribers","subscription_url":"https://api.github.com/repos/pyca/cryptography/subscription","commits_url":"https://api.github.com/repos/pyca/cryptography/commits{/sha}","git_commits_url":"https://api.github.com/repos/pyca/cryptography/git/commits{/sha}","comments_url":"https://api.github.com/repos/pyca/cryptography/comments{/number}","issue_comment_url":"https://api.github.com/repos/pyca/cryptography/issues/comments{/number}","contents_url":"https://api.github.com/repos/pyca/cryptography/contents/{+path}","compare_url":"https://api.github.com/repos/pyca/cryptography/compare/{base}...{head}","merges_url":"https://api.github.com/repos/pyca/cryptography/merges","archive_url":"https://api.github.com/repos/pyca/cryptography/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/pyca/cryptography/downloads","issues_url":"https://api.github.com/repos/pyca/cryptography/issues{/number}","pulls_url":"https://api.github.com/repos/pyca/cryptography/pulls{/number}","milestones_url":"https://api.github.com/repos/pyca/cryptography/milestones{/number}","notifications_url":"https://api.github.com/repos/pyca/cryptography/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/pyca/cryptography/labels{/name}","releases_url":"https://api.github.com/repos/pyca/cryptography/releases{/id}","deployments_url":"https://api.github.com/repos/pyca/cryptography/deployments","created_at":"2013-08-07T02:23:38Z","updated_at":"2025-11-10T02:24:11Z","pushed_at":"2025-11-10T10:09:01Z","git_url":"git://github.com/pyca/cryptography.git","ssh_url":"git@github.com:pyca/cryptography.git","clone_url":"https://github.com/pyca/cryptography.git","svn_url":"https://github.com/pyca/cryptography","homepage":"https://cryptography.io","size":64122,"stargazers_count":7307,"watchers_count":7307,"language":"Python","has_issues":true,"has_projects":false,"has_downloads":true,"has_wiki":false,"has_pages":false,"has_discussions":false,"forks_count":1673,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":45,"license":{"key":"other","name":"Other","spdx_id":"NOASSERTION","url":null,"node_id":"MDc6TGljZW5zZTA="},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["cryptography","python"],"visibility":"public","forks":1673,"open_issues":45,"watchers":7307,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"I am using cryptography 37.0.0.dev1 after I initially attempted to fix this issue by following #6926 \r\npyOpenSSL version 22.0.0\r\n\r\nThe reproducer in #6926 does not give me any errors.\r\n\r\nThe proper otherName string (which works using crypto.x509Req()) is \"otherName:1.3.6.1.4.1.311.20.2.3;UTF8:Administrator\" if that helps at all.\r\n\r\nHere is a short reproducer for this issue:\r\n\r\n```\r\nfrom cryptography import x509\r\nfrom cryptography.x509.oid import NameOID\r\nfrom cryptography.hazmat.primitives import hashes\r\nfrom cryptography.hazmat.primitives.serialization import Encoding\r\nfrom cryptography.hazmat.primitives.asymmetric import rsa\r\nfrom cryptography.x509.oid import NameOID\r\n\r\nCN = \"Administrator\"\r\notherName = x509.OtherName(x509.ObjectIdentifier(\"1.3.6.1.4.1.311.20.2.3\"), b\"Administrator\")\r\n\r\ncsr = x509.CertificateSigningRequestBuilder().subject_name(x509.Name([x509.NameAttribute(NameOID.COMMON_NAME, CN)]))\r\ncsr = csr.add_extension(x509.SubjectAlternativeName([otherName]),critical=False)\r\n\r\nkey = rsa.generate_private_key(public_exponent=65537, key_size=4096)\r\ncert = csr.sign(key, hashes.SHA256())\r\n```\r\n```\r\nTraceback (most recent call last):\r\n  File \"/home/paul/Dev/x509.py\", line 15, in <module>\r\n    cert = csr.sign(key, hashes.SHA256())\r\n  File \"/home/paul/.local/lib/python3.9/site-packages/cryptography/x509/base.py\", line 625, in sign\r\n    return rust_x509.create_x509_csr(self, private_key, algorithm)\r\nValueError: error parsing asn1 value: ParseError { kind: ShortData }\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/6970/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pyca/cryptography/issues/6970/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"id":6723997016,"node_id":"LOE_lADOALYunM5FBcqYzwAAAAGQyA1Y","url":"https://api.github.com/repos/pyca/cryptography/issues/events/6723997016","actor":{"login":"github-actions[bot]","id":41898282,"node_id":"MDM6Qm90NDE4OTgyODI=","avatar_url":"https://avatars.githubusercontent.com/in/15368?v=4","gravatar_id":"","url":"https://api.github.com/users/github-actions%5Bbot%5D","html_url":"https://github.com/apps/github-actions","followers_url":"https://api.github.com/users/github-actions%5Bbot%5D/followers","following_url":"https://api.github.com/users/github-actions%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/github-actions%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/github-actions%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/github-actions%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/github-actions%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/github-actions%5Bbot%5D/repos","events_url":"https://api.github.com/users/github-actions%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/github-actions%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2022-06-02T00:01:32Z","lock_reason":"resolved","performed_via_github_app":null},{"id":10787816733,"node_id":"REFE_lADOALYunM5FBcqYzwAAAAKDAQUd","url":"https://api.github.com/repos/pyca/cryptography/issues/events/10787816733","actor":{"login":"tiran","id":444071,"node_id":"MDQ6VXNlcjQ0NDA3MQ==","avatar_url":"https://avatars.githubusercontent.com/u/444071?v=4","gravatar_id":"","url":"https://api.github.com/users/tiran","html_url":"https://github.com/tiran","followers_url":"https://api.github.com/users/tiran/followers","following_url":"https://api.github.com/users/tiran/following{/other_user}","gists_url":"https://api.github.com/users/tiran/gists{/gist_id}","starred_url":"https://api.github.com/users/tiran/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/tiran/subscriptions","organizations_url":"https://api.github.com/users/tiran/orgs","repos_url":"https://api.github.com/users/tiran/repos","events_url":"https://api.github.com/users/tiran/events{/privacy}","received_events_url":"https://api.github.com/users/tiran/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"55241a4e0c6e85327c30c333135a36bb2137d812","commit_url":"https://api.github.com/repos/tiran/cryptography/commits/55241a4e0c6e85327c30c333135a36bb2137d812","created_at":"2023-10-27T06:37:22Z","performed_via_github_app":null}]