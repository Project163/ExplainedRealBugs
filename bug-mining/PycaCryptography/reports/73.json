{"url":"https://api.github.com/repos/pyca/cryptography/issues/6835","repository_url":"https://api.github.com/repos/pyca/cryptography","labels_url":"https://api.github.com/repos/pyca/cryptography/issues/6835/labels{/name}","comments_url":"https://api.github.com/repos/pyca/cryptography/issues/6835/comments","events_url":"https://api.github.com/repos/pyca/cryptography/issues/6835/events","html_url":"https://github.com/pyca/cryptography/issues/6835","id":1121674114,"node_id":"I_kwDOALYunM5C22OC","number":6835,"title":"sha3 hash algorithms not supported for signatures","user":{"login":"juliusz-musik","id":23240371,"node_id":"MDQ6VXNlcjIzMjQwMzcx","avatar_url":"https://avatars.githubusercontent.com/u/23240371?v=4","gravatar_id":"","url":"https://api.github.com/users/juliusz-musik","html_url":"https://github.com/juliusz-musik","followers_url":"https://api.github.com/users/juliusz-musik/followers","following_url":"https://api.github.com/users/juliusz-musik/following{/other_user}","gists_url":"https://api.github.com/users/juliusz-musik/gists{/gist_id}","starred_url":"https://api.github.com/users/juliusz-musik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/juliusz-musik/subscriptions","organizations_url":"https://api.github.com/users/juliusz-musik/orgs","repos_url":"https://api.github.com/users/juliusz-musik/repos","events_url":"https://api.github.com/users/juliusz-musik/events{/privacy}","received_events_url":"https://api.github.com/users/juliusz-musik/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":198687536,"node_id":"MDU6TGFiZWwxOTg2ODc1MzY=","url":"https://api.github.com/repos/pyca/cryptography/labels/x509","name":"x509","color":"fef2c0","default":false,"description":null}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/pyca/cryptography/milestones/39","html_url":"https://github.com/pyca/cryptography/milestone/39","labels_url":"https://api.github.com/repos/pyca/cryptography/milestones/39/labels","id":7308423,"node_id":"MI_kwDOALYunM4Ab4SH","number":39,"title":"Thirty Seventh Release","description":"","creator":{"login":"reaperhulk","id":161495,"node_id":"MDQ6VXNlcjE2MTQ5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/161495?v=4","gravatar_id":"","url":"https://api.github.com/users/reaperhulk","html_url":"https://github.com/reaperhulk","followers_url":"https://api.github.com/users/reaperhulk/followers","following_url":"https://api.github.com/users/reaperhulk/following{/other_user}","gists_url":"https://api.github.com/users/reaperhulk/gists{/gist_id}","starred_url":"https://api.github.com/users/reaperhulk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reaperhulk/subscriptions","organizations_url":"https://api.github.com/users/reaperhulk/orgs","repos_url":"https://api.github.com/users/reaperhulk/repos","events_url":"https://api.github.com/users/reaperhulk/events{/privacy}","received_events_url":"https://api.github.com/users/reaperhulk/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":28,"state":"closed","created_at":"2021-10-31T03:37:49Z","updated_at":"2022-04-26T15:25:12Z","due_on":null,"closed_at":"2022-04-26T15:25:12Z"},"comments":1,"created_at":"2022-02-02T09:10:14Z","updated_at":"2022-05-10T00:01:18Z","closed_at":"2022-02-08T04:57:22Z","author_association":"NONE","type":null,"active_lock_reason":"resolved","sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Hi, I found possible issue. I was trying to use sha3 hash algorithm to create certificate request, but it is no longer supported.\r\nIt was working on cryptography version 3.4.8.\r\n\r\nOpenSSL 1.1.1m  14 Dec 2021 (tested also on OpenSSL 1.1.1f  31 Mar 2020)\r\nPython 3.8.10\r\npip 20.0.2\r\ncryptography==36.0.1\r\ncffi==1.15.0\r\nsetuptools 60.2.0\r\n\r\nCryptography installed with pip install\r\n\r\nCode to reproduce the issue:\r\n```\r\ncsr = x509.CertificateSigningRequestBuilder().subject_name(x509.Name(name_attributes)).sign(pkey,\r\n                                                                                                hash_digest, <cryptography.hazmat.primitives.hashes.SHA3_512>\r\n                                                                                                default_backend())\r\n```\r\nError msg: Hash algorithm \"sha3-512\" not supported for signatures\r\nSame happens for other sha3-xxx algorithms.\r\nsign () Call works for \"sha512\",  \"md5\", \"sha1\", \"sha224\".\r\n\r\nI guess error msg comes from: https://github.com/pyca/cryptography/blob/main/src/rust/src/x509/sign.rs#L97\r\n\r\n\r\n\r\n","closed_by":{"login":"reaperhulk","id":161495,"node_id":"MDQ6VXNlcjE2MTQ5NQ==","avatar_url":"https://avatars.githubusercontent.com/u/161495?v=4","gravatar_id":"","url":"https://api.github.com/users/reaperhulk","html_url":"https://github.com/reaperhulk","followers_url":"https://api.github.com/users/reaperhulk/followers","following_url":"https://api.github.com/users/reaperhulk/following{/other_user}","gists_url":"https://api.github.com/users/reaperhulk/gists{/gist_id}","starred_url":"https://api.github.com/users/reaperhulk/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/reaperhulk/subscriptions","organizations_url":"https://api.github.com/users/reaperhulk/orgs","repos_url":"https://api.github.com/users/reaperhulk/repos","events_url":"https://api.github.com/users/reaperhulk/events{/privacy}","received_events_url":"https://api.github.com/users/reaperhulk/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/pyca/cryptography/issues/6835/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/pyca/cryptography/issues/6835/timeline","performed_via_github_app":null,"state_reason":"completed"}