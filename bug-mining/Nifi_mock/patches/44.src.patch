diff --git a/nifi-mock/src/main/java/org/apache/nifi/util/MockProcessSession.java b/nifi-mock/src/main/java/org/apache/nifi/util/MockProcessSession.java
index 78ff117d3e..7bf9a03af2 100644
--- a/nifi-mock/src/main/java/org/apache/nifi/util/MockProcessSession.java
+++ b/nifi-mock/src/main/java/org/apache/nifi/util/MockProcessSession.java
@@ -589,6 +589,7 @@ public class MockProcessSession implements ProcessSession {
         final MockFlowFile mock = validateState(flowFile);
 
         final ByteArrayInputStream bais = new ByteArrayInputStream(mock.getData());
+        incrementReadCount(flowFile);
         final InputStream errorHandlingStream = new InputStream() {
             @Override
             public int read() throws IOException {
@@ -602,6 +603,7 @@ public class MockProcessSession implements ProcessSession {
 
             @Override
             public void close() throws IOException {
+                decrementReadCount(flowFile);
                 openInputStreams.remove(mock);
                 bais.close();
             }
diff --git a/nifi-mock/src/test/java/org/apache/nifi/util/TestMockProcessSession.java b/nifi-mock/src/test/java/org/apache/nifi/util/TestMockProcessSession.java
index 295e330c0b..6ba99c7f55 100644
--- a/nifi-mock/src/test/java/org/apache/nifi/util/TestMockProcessSession.java
+++ b/nifi-mock/src/test/java/org/apache/nifi/util/TestMockProcessSession.java
@@ -51,13 +51,11 @@ public class TestMockProcessSession {
 
         assertEquals("hello, world", new String(buffer));
 
-        session.remove(flowFile);
-
         try {
             session.commit();
             Assert.fail("Was able to commit session without closing InputStream");
-        } catch (final FlowFileHandlingException ffhe) {
-            System.out.println(ffhe.toString());
+        } catch (final FlowFileHandlingException | IllegalStateException e) {
+            System.out.println(e.toString());
         }
     }
 
