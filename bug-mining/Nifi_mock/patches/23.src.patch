diff --git a/nifi-mock/src/main/java/org/apache/nifi/util/MockFlowFile.java b/nifi-mock/src/main/java/org/apache/nifi/util/MockFlowFile.java
index 9848a3d856..1ff1a2ffc8 100644
--- a/nifi-mock/src/main/java/org/apache/nifi/util/MockFlowFile.java
+++ b/nifi-mock/src/main/java/org/apache/nifi/util/MockFlowFile.java
@@ -33,6 +33,7 @@ import java.util.Objects;
 import java.util.Set;
 import java.util.UUID;
 
+import org.apache.commons.lang3.builder.HashCodeBuilder;
 import org.apache.nifi.controller.repository.FlowFileRecord;
 import org.apache.nifi.controller.repository.claim.ContentClaim;
 import org.apache.nifi.flowfile.FlowFile;
@@ -142,7 +143,7 @@ public class MockFlowFile implements FlowFileRecord {
 
     @Override
     public int hashCode() {
-        return (int) id;
+        return new HashCodeBuilder(7, 13).append(id).toHashCode();
     }
 
     @Override
@@ -150,8 +151,11 @@ public class MockFlowFile implements FlowFileRecord {
         if (obj == null) {
             return false;
         }
-        if (obj instanceof MockFlowFile) {
-            return ((MockFlowFile) obj).id == this.id;
+        if (obj == this) {
+            return true;
+        }
+        if (obj instanceof FlowFile) {
+            return ((FlowFile) obj).getId() == this.id;
         }
         return false;
     }
@@ -291,10 +295,12 @@ public class MockFlowFile implements FlowFileRecord {
     public long getQueueDateIndex() {
         return 0;
     }
+
     public boolean isAttributeEqual(final String attributeName, final String expectedValue) {
         // unknown attribute name, so cannot be equal.
-        if (attributes.containsKey(attributeName) == false)
+        if (attributes.containsKey(attributeName) == false) {
             return false;
+        }
 
         String value = attributes.get(attributeName);
         return Objects.equals(expectedValue, value);
