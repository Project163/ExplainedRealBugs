<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:46:06 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NIFI-2266] GetHTTP and PutHTTP use hard-coded TLS protocol version</title>
                <link>https://issues.apache.org/jira/browse/NIFI-2266</link>
                <project id="12316020" key="NIFI">Apache NiFi</project>
                    <description>&lt;p&gt;As pointed out on the mailing list &lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt;, the &lt;tt&gt;GetHTTP&lt;/tt&gt; (and likely &lt;tt&gt;PutHTTP&lt;/tt&gt;) processors use a hard-coded TLS protocol version. &lt;tt&gt;PostHTTP&lt;/tt&gt; also did this and was fixed by &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1688&quot; title=&quot;PostHTTP does not honor SSLContextService Protocols&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1688&quot;&gt;&lt;del&gt;NIFI-1688&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;The same fix should apply here and unit tests already exist which can be applied to the other processors as well. &lt;/p&gt;

&lt;p&gt;For future notice, &lt;tt&gt;InvokeHTTP&lt;/tt&gt; is a better processor for generic HTTP operations and has supported reading the TLS protocol version from the &lt;tt&gt;SSLContextService&lt;/tt&gt; for some time. &lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;1&amp;#93;&lt;/span&gt; &lt;a href=&quot;https://lists.apache.org/thread.html/a48e2ebbc2231d685491ae6b856c760620efca5bff2c7249f915b24d@%3Cdev.nifi.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/a48e2ebbc2231d685491ae6b856c760620efca5bff2c7249f915b24d@%3Cdev.nifi.apache.org%3E&lt;/a&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12989578">NIFI-2266</key>
            <summary>GetHTTP and PutHTTP use hard-coded TLS protocol version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="alopresto">Andy LoPresto</assignee>
                                    <reporter username="alopresto">Andy LoPresto</reporter>
                        <labels>
                            <label>https</label>
                            <label>security</label>
                            <label>tls</label>
                    </labels>
                <created>Thu, 14 Jul 2016 21:10:22 +0000</created>
                <updated>Fri, 7 Oct 2016 19:32:47 +0000</updated>
                            <resolved>Thu, 15 Sep 2016 22:12:34 +0000</resolved>
                                    <version>0.7.0</version>
                    <version>0.6.1</version>
                                    <fixVersion>1.1.0</fixVersion>
                    <fixVersion>0.7.1</fixVersion>
                                    <component>Core Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="3600">1h</timeoriginalestimate>
                            <timeestimate seconds="3600">1h</timeestimate>
                                        <comments>
                            <comment id="15393213" author="alopresto" created="Tue, 26 Jul 2016 04:44:16 +0000"  >&lt;p&gt;Removed from 1.0 as I am working on &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1831&quot; title=&quot;Allow encrypted passwords in configuration files&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1831&quot;&gt;&lt;del&gt;NIFI-1831&lt;/del&gt;&lt;/a&gt; and &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1465&quot; title=&quot;Upgrade encryption of sensitive properties&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1465&quot;&gt;&lt;del&gt;NIFI-1465&lt;/del&gt;&lt;/a&gt;. &lt;/p&gt;</comment>
                            <comment id="15452904" author="mosermw" created="Wed, 31 Aug 2016 17:59:40 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alopresto&quot; class=&quot;user-hover&quot; rel=&quot;alopresto&quot;&gt;alopresto&lt;/a&gt;, would like to see this in the 0.x branch.  I was about to pick this ticket up when I saw you changed it to In Progress.&lt;/p&gt;</comment>
                            <comment id="15453306" author="alopresto" created="Wed, 31 Aug 2016 20:43:39 +0000"  >&lt;p&gt;Now that 1.0.0 is released I&apos;m not sure what the official policy is, but I think this is small enough and I don&apos;t mind backporting it to 0.x. &lt;/p&gt;</comment>
                            <comment id="15453326" author="joewitt" created="Wed, 31 Aug 2016 20:51:57 +0000"  >&lt;p&gt;The official policy is that of the Apache Way.  The result of NiFi community discussion on this topic has been documented here &lt;a href=&quot;https://cwiki.apache.org/confluence/display/NIFI/Git+Branching+and+Release+Line+Management&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://cwiki.apache.org/confluence/display/NIFI/Git+Branching+and+Release+Line+Management&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is not a change that requires backporting but all changes are eligible for backporting so as long as there is interest and willingness then good to go.&lt;/p&gt;</comment>
                            <comment id="15453583" author="mosermw" created="Wed, 31 Aug 2016 22:32:17 +0000"  >&lt;p&gt;I&apos;ll be happy to do the work to cherry-pick whatever &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alopresto&quot; class=&quot;user-hover&quot; rel=&quot;alopresto&quot;&gt;alopresto&lt;/a&gt; commits to the master branch.  I believe this is an important security related change for 0.x.&lt;/p&gt;</comment>
                            <comment id="15479020" author="githubbot" created="Sat, 10 Sep 2016 03:12:19 +0000"  >&lt;p&gt;GitHub user alopresto opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-2266&quot; title=&quot;GetHTTP and PutHTTP use hard-coded TLS protocol version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-2266&quot;&gt;&lt;del&gt;NIFI-2266&lt;/del&gt;&lt;/a&gt; Enabled TLSv1.1 and TLSv1.2 protocols for GetHTTP processor&lt;/p&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/alopresto/nifi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/alopresto/nifi&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-2266&quot; title=&quot;GetHTTP and PutHTTP use hard-coded TLS protocol version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-2266&quot;&gt;&lt;del&gt;NIFI-2266&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #999&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e35495ef1f5fbd1fa3b69c959e88ebef3afda46f&lt;br/&gt;
Author: Andy LoPresto &amp;lt;alopresto@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-10T02:00:49Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-2266&quot; title=&quot;GetHTTP and PutHTTP use hard-coded TLS protocol version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-2266&quot;&gt;&lt;del&gt;NIFI-2266&lt;/del&gt;&lt;/a&gt; Refactored GetHTTP processor to use SSLContext protocol vs. hard-coded TLSv1.&lt;br/&gt;
    Added unit tests.&lt;br/&gt;
    Added test resources.&lt;/p&gt;

&lt;p&gt;commit afe79031b10aa71dacd1ef45225ca7a21ca19774&lt;br/&gt;
Author: Andy LoPresto &amp;lt;alopresto@apache.org&amp;gt;&lt;br/&gt;
Date:   2016-09-10T03:08:16Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-2266&quot; title=&quot;GetHTTP and PutHTTP use hard-coded TLS protocol version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-2266&quot;&gt;&lt;del&gt;NIFI-2266&lt;/del&gt;&lt;/a&gt; Converted test handler to return 200 on GET request.&lt;br/&gt;
    Fixed test assertions for HTTP responses and queued flowfiles.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15479028" author="alopresto" created="Sat, 10 Sep 2016 03:17:04 +0000"  >&lt;p&gt;Opened PR 999 fixing &lt;tt&gt;GetHTTP&lt;/tt&gt;. There is no &lt;tt&gt;PutHTTP&lt;/tt&gt; processor. &lt;/p&gt;</comment>
                            <comment id="15485276" author="githubbot" created="Mon, 12 Sep 2016 20:58:59 +0000"  >&lt;p&gt;Github user pvillard31 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Hey @alopresto,&lt;/p&gt;

&lt;p&gt;    I have this unit test failing:&lt;br/&gt;
    ````&lt;br/&gt;
    Tests run: 7, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.999 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.nifi.processors.standard.TestGetHTTPGroovy&lt;br/&gt;
    testGetHTTPShouldConnectToServerWithTLSv1(org.apache.nifi.processors.standard.TestGetHTTPGroovy)  Time elapsed: 0.094 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
    java.lang.AssertionError: expected:&amp;lt;1&amp;gt; but was:&amp;lt;2&amp;gt;&lt;br/&gt;
    	at org.junit.Assert.fail(Assert.java:88)&lt;br/&gt;
    	at org.junit.Assert.failNotEquals(Assert.java:834)&lt;br/&gt;
    	at org.junit.Assert.assertEquals(Assert.java:645)&lt;br/&gt;
    	at org.junit.Assert.assertEquals(Assert.java:631)&lt;br/&gt;
    	at org.apache.nifi.util.StandardProcessorTestRunner.assertTransferCount(StandardProcessorTestRunner.java:318)&lt;br/&gt;
    	at org.apache.nifi.util.StandardProcessorTestRunner.assertAllFlowFilesTransferred(StandardProcessorTestRunner.java:313)&lt;br/&gt;
    	at org.apache.nifi.util.TestRunner$assertAllFlowFilesTransferred$5.call(Unknown Source)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:133)&lt;br/&gt;
    	at org.apache.nifi.processors.standard.TestGetHTTPGroovy$_testGetHTTPShouldConnectToServerWithTLSv1_closure7.doCall(TestGetHTTPGroovy.groovy:331)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
    	at java.lang.reflect.Method.invoke(Method.java:498)&lt;br/&gt;
    	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)&lt;br/&gt;
    	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294)&lt;br/&gt;
    	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019)&lt;br/&gt;
    	at groovy.lang.Closure.call(Closure.java:426)&lt;br/&gt;
    	at groovy.lang.Closure.call(Closure.java:442)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2030)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2015)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2056)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.dgm$162.invoke(Unknown Source)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:274)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)&lt;br/&gt;
    	at org.apache.nifi.processors.standard.TestGetHTTPGroovy.testGetHTTPShouldConnectToServerWithTLSv1(TestGetHTTPGroovy.groovy:324)&lt;br/&gt;
    ````&lt;/p&gt;

&lt;p&gt;    And the logs I have when only running this test in Eclipse:&lt;br/&gt;
    ````&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.util.log - Logging initialized @1147ms&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.nifi.processors.standard.TestGetHTTPGroovy - Created server with supported protocols: &lt;span class=&quot;error&quot;&gt;&amp;#91;TLSv1, TLSv1.1, TLSv1.2&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.nifi.processors.standard.TestGetHTTPGroovy - JCE unlimited strength installed: false&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.nifi.processors.standard.TestGetHTTPGroovy - Supported client cipher suites: &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.nifi.processors.standard.TestGetHTTPGroovy - Created server with supported protocols: &lt;span class=&quot;error&quot;&gt;&amp;#91;TLSv1&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.server.Server - jetty-9.3.9.v20160517&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.server.handler.ContextHandler - Started o.e.j.s.ServletContextHandler@1a914089&lt;/p&gt;
{/,file:///.../nifi/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/test/resources/TestGetHTTP/,AVAILABLE}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.util.ssl.SslContextFactory - x509=X509@2b999ee8(localhost,h=[],w=[]) for SslContextFactory@31ab1e67(&lt;a href=&quot;file:///.../nifi/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/test/resources/localhost-ks.jks,null&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///.../nifi/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/test/resources/localhost-ks.jks,null&lt;/a&gt;)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.util.ssl.SslContextFactory - x509=X509@29bbc391(mykey,h=[],w=[]) for SslContextFactory@31ab1e67(&lt;a href=&quot;file:///.../nifi/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/test/resources/localhost-ks.jks,null&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;file:///.../nifi/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/test/resources/localhost-ks.jks,null&lt;/a&gt;)&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.server.AbstractConnector - Started ServerConnector@5bb8e6fc&lt;/p&gt;
{SSL,[ssl, http/1.1]}{localhost:8456}&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.server.Server - Started @2219ms&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.nifi.processors.standard.TestGetHTTPGroovy - Set context service protocol to TLSv1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.nifi.processors.standard.TestGetHTTPGroovy - GetHTTP supported protocols: TLSv1&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.apache.nifi.processors.standard.TestGetHTTPGroovy - GetHTTP supported cipher suites: &lt;span class=&quot;error&quot;&gt;&amp;#91;...&amp;#93;&lt;/span&gt;&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; WARN org.apache.nifi.processors.standard.GetHTTP - GetHTTP&lt;span class=&quot;error&quot;&gt;&amp;#91;id=7352e3c6-dd19-4954-bcf6-6b25a8870641&amp;#93;&lt;/span&gt; found FlowFile FlowFile&lt;span class=&quot;error&quot;&gt;&amp;#91;0,2652169680397441.mockFlowFile,22B&amp;#93;&lt;/span&gt; in input queue; transferring to success&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;qtp1784053627-18&amp;#93;&lt;/span&gt; INFO / - Groovy servlet initialized on groovy.util.GroovyScriptEngine@6d2347a2.&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;pool-1-thread-1&amp;#93;&lt;/span&gt; INFO org.apache.nifi.processors.standard.GetHTTP - GetHTTP&lt;span class=&quot;error&quot;&gt;&amp;#91;id=7352e3c6-dd19-4954-bcf6-6b25a8870641&amp;#93;&lt;/span&gt; Successfully received FlowFile&lt;span class=&quot;error&quot;&gt;&amp;#91;1,mockFlowfile_1473713477596,0B&amp;#93;&lt;/span&gt; from &lt;a href=&quot;https://localhost:8456/GetHandler.groovy&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://localhost:8456/GetHandler.groovy&lt;/a&gt; at a rate of 0 bytes/sec; transferred to success&lt;br/&gt;
    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.server.AbstractConnector - Stopped ServerConnector@5bb8e6fc{SSL,[ssl, http/1.1]}
{localhost:8456}
&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;main&amp;#93;&lt;/span&gt; INFO org.eclipse.jetty.server.handler.ContextHandler - Stopped o.e.j.s.ServletContextHandler@1a914089&lt;/p&gt;
{/,file:///.../nifi/nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/test/resources/TestGetHTTP/,UNAVAILABLE}
&lt;p&gt;    ````&lt;/p&gt;</comment>
                            <comment id="15487990" author="githubbot" created="Tue, 13 Sep 2016 18:23:03 +0000"  >&lt;p&gt;Github user mosermw commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I had the same unit test failure as @pvillard31.  Once I resolved that locally, I confirmed that this change works against the URL listed in &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-2373&quot; title=&quot;GetHTTP - not working with sites that only support TLS&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-2373&quot;&gt;&lt;del&gt;NIFI-2373&lt;/del&gt;&lt;/a&gt;.  contrib-check passes.&lt;/p&gt;

&lt;p&gt;    This also cherry-picks cleanly into the 0.x branch, but the testDefaultShouldPreferTLSv1_2() method of TestGetHTTPGroovy.groovy doesn&apos;t work with Java 7.  It would need the same mods as the corresponding method in TestPostHTTPGroovy.groovy.&lt;/p&gt;</comment>
                            <comment id="15488473" author="githubbot" created="Tue, 13 Sep 2016 21:22:08 +0000"  >&lt;p&gt;Github user alopresto commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @pvillard31 and @mosermw , thanks for noting that. When I re-ran locally, I encountered the same issue. I have resolved it, but not to my complete satisfaction. The test now accepts that &lt;em&gt;n&lt;/em&gt; flowfiles were routed to `REL_SUCCESS` instead of &lt;em&gt;1&lt;/em&gt; explicitly. As the tests are simply concerned with the TLS protocol version used for the communication, this seems a sufficient fix. However, I am confused, because it appears from the logs and debugging that the test runner &quot;finds&quot; a mock flowfile in the queue even if I assert immediately before enqueuing any message that the queue is empty. &lt;/p&gt;

&lt;p&gt;    I&apos;ll continue investigating, but I did want to push this fix so at least the tests pass for anyone reviewing it. &lt;/p&gt;</comment>
                            <comment id="15488484" author="githubbot" created="Tue, 13 Sep 2016 21:26:55 +0000"  >&lt;p&gt;Github user alopresto commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    And, of course, as soon as I comment, it hits me &amp;#8211; `GetHTTP`, unlike `PostHTTP`, does not require a flowfile input in order to execute. So when I copied the tests I had written for `PostHTTP`, I needed to either remove the `enqueue` action of the message content prior to running, or assert that 2 flowfiles succeeded (the one manually enqueued and the result of the `GET` call). I think the current code is correct and successful, but if desired, I can push my latest changes which remove the manual enqueuing and assert explicitly 1 flowfile succeeded. &lt;/p&gt;</comment>
                            <comment id="15489953" author="githubbot" created="Wed, 14 Sep 2016 09:36:38 +0000"  >&lt;p&gt;Github user pvillard31 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @alopresto your last changes are fine to me but it&apos;s still not working on my side. If I run the unit test individually it works fine, but when running maven build or the whole tests suite of the class in Eclipse, it is not working:&lt;/p&gt;

&lt;p&gt;    ````&lt;br/&gt;
    Tests run: 7, Failures: 1, Errors: 0, Skipped: 0, Time elapsed: 0.868 sec &amp;lt;&amp;lt;&amp;lt; FAILURE! - in org.apache.nifi.processors.standard.TestGetHTTPGroovy&lt;br/&gt;
    testGetHTTPShouldConnectToServerWithTLSv1(org.apache.nifi.processors.standard.TestGetHTTPGroovy)  Time elapsed: 0.019 sec  &amp;lt;&amp;lt;&amp;lt; FAILURE!&lt;br/&gt;
    java.lang.AssertionError: null&lt;br/&gt;
    	at org.junit.Assert.fail(Assert.java:86)&lt;br/&gt;
    	at org.junit.Assert.assertTrue(Assert.java:41)&lt;br/&gt;
    	at org.junit.Assert.assertTrue(Assert.java:52)&lt;br/&gt;
    	at org.apache.nifi.util.StandardProcessorTestRunner.assertQueueEmpty(StandardProcessorTestRunner.java:348)&lt;br/&gt;
    	at org.apache.nifi.util.TestRunner$assertQueueEmpty$7.call(Unknown Source)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:117)&lt;br/&gt;
    	at org.apache.nifi.processors.standard.TestGetHTTPGroovy$_testGetHTTPShouldConnectToServerWithTLSv1_closure7.doCall(TestGetHTTPGroovy.groovy:327)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)&lt;br/&gt;
    	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)&lt;br/&gt;
    	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)&lt;br/&gt;
    	at java.lang.reflect.Method.invoke(Method.java:498)&lt;br/&gt;
    	at org.codehaus.groovy.reflection.CachedMethod.invoke(CachedMethod.java:93)&lt;br/&gt;
    	at groovy.lang.MetaMethod.doMethodInvoke(MetaMethod.java:325)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.metaclass.ClosureMetaClass.invokeMethod(ClosureMetaClass.java:294)&lt;br/&gt;
    	at groovy.lang.MetaClassImpl.invokeMethod(MetaClassImpl.java:1019)&lt;br/&gt;
    	at groovy.lang.Closure.call(Closure.java:426)&lt;br/&gt;
    	at groovy.lang.Closure.call(Closure.java:442)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2030)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2015)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.DefaultGroovyMethods.each(DefaultGroovyMethods.java:2056)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.dgm$162.invoke(Unknown Source)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite$PojoMetaMethodSiteNoUnwrapNoCoerce.invoke(PojoMetaMethodSite.java:274)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.PojoMetaMethodSite.call(PojoMetaMethodSite.java:56)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.CallSiteArray.defaultCall(CallSiteArray.java:48)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:113)&lt;br/&gt;
    	at org.codehaus.groovy.runtime.callsite.AbstractCallSite.call(AbstractCallSite.java:125)&lt;br/&gt;
    	at org.apache.nifi.processors.standard.TestGetHTTPGroovy.testGetHTTPShouldConnectToServerWithTLSv1(TestGetHTTPGroovy.groovy:324)&lt;/p&gt;

&lt;p&gt;    ````&lt;/p&gt;</comment>
                            <comment id="15494075" author="githubbot" created="Thu, 15 Sep 2016 17:52:41 +0000"  >&lt;p&gt;Github user alopresto commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @pvillard31 I really appreciate your persistence with this one. Not sure why I missed that the last time. &lt;/p&gt;

&lt;p&gt;    I added a method to clear the flowfile queue in the test runner, because it seems that multiple test cases are causing side-effects. Each should now be completely independent. &lt;/p&gt;

&lt;p&gt;    (From the latest commit message&lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
    ```&lt;br/&gt;
    All tests pass (in test suite when running individually or as a suite, and when running entire project via Maven).&lt;/p&gt;

&lt;p&gt;        Will raise additional Jira for more full-featured addition of clearQueue mechanics to StandardProcessorTestRunner and related interfaces.```&lt;/p&gt;

&lt;p&gt;    Please verify on your end. &lt;/p&gt;</comment>
                            <comment id="15494655" author="jira-bot" created="Thu, 15 Sep 2016 22:07:42 +0000"  >&lt;p&gt;Commit 639e6d6a76ba92dbefd259861e2efc2ba2247f43 in nifi&apos;s branch refs/heads/0.x from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alopresto&quot; class=&quot;user-hover&quot; rel=&quot;alopresto&quot;&gt;alopresto&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=639e6d6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=639e6d6&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-2266&quot; title=&quot;GetHTTP and PutHTTP use hard-coded TLS protocol version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-2266&quot;&gt;&lt;del&gt;NIFI-2266&lt;/del&gt;&lt;/a&gt; Refactored GetHTTP processor to use SSLContext protocol vs. hard-coded TLSv1.&lt;/p&gt;

&lt;p&gt;This closes #999.&lt;/p&gt;</comment>
                            <comment id="15494658" author="jira-bot" created="Thu, 15 Sep 2016 22:09:06 +0000"  >&lt;p&gt;Commit 022f5a506dfb961dce955a2341544de184327b5e in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=alopresto&quot; class=&quot;user-hover&quot; rel=&quot;alopresto&quot;&gt;alopresto&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=022f5a5&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=022f5a5&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-2266&quot; title=&quot;GetHTTP and PutHTTP use hard-coded TLS protocol version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-2266&quot;&gt;&lt;del&gt;NIFI-2266&lt;/del&gt;&lt;/a&gt; Refactored GetHTTP processor to use SSLContext protocol vs. hard-coded TLSv1.&lt;/p&gt;

&lt;p&gt;This closes #999.&lt;/p&gt;</comment>
                            <comment id="15494660" author="githubbot" created="Thu, 15 Sep 2016 22:09:22 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15494665" author="githubbot" created="Thu, 15 Sep 2016 22:11:23 +0000"  >&lt;p&gt;Github user pvillard31 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks @alopresto, everything is OK! I merged it to master. I also followed recommendations from @mosermw to cherry-pick into 0.x with Java 7 compatibility.&lt;/p&gt;</comment>
                            <comment id="15494677" author="githubbot" created="Thu, 15 Sep 2016 22:15:39 +0000"  >&lt;p&gt;Github user alopresto commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Thanks @pvillard31 . Be careful with `StandardProcessorTestRunner` &amp;#8211; I think my IDE cleaned up the `&amp;lt;String,String&amp;gt;` typing on line 392 which will cause an issue with Java 7 compatibility. &lt;/p&gt;</comment>
                            <comment id="15494682" author="githubbot" created="Thu, 15 Sep 2016 22:17:27 +0000"  >&lt;p&gt;Github user pvillard31 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Yes @alopresto, I noticed it, hopefully I&apos;ve done all the required modifications.&lt;/p&gt;</comment>
                            <comment id="15496424" author="githubbot" created="Fri, 16 Sep 2016 14:10:08 +0000"  >&lt;p&gt;Github user mosermw commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/999&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/999&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I confirmed that this builds fine on the 0.x branch with Java 7.  Thanks @pvillard31 and @alopresto &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="12992038">NIFI-2373</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="12839045">NIFI-700</issuekey>
        </issuelink>
            <issuelink>
            <issuekey id="12953648">NIFI-1688</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 9 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i30zwf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>