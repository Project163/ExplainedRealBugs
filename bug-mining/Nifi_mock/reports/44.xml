<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:46:19 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NIFI-6925] JoltTransformRecord, PutESHttpRecord, PutHive3Streaming fail with various RecordReaders</title>
                <link>https://issues.apache.org/jira/browse/NIFI-6925</link>
                <project id="12316020" key="NIFI">Apache NiFi</project>
                    <description>&lt;p&gt;When using JoltTransformRecord with readers such as AvroReader or CSVReader, an error occurs when trying to transfer the original input flowfile to the &quot;original&quot; relationship. The error indicates that it is reading from multiple callbacks or that the input stream is still open. It happens to work with JsonTreeReader because the underlying JSON parser closes the stream when no more records are available.&lt;/p&gt;

&lt;p&gt;This is a result of not explicitly closing the input stream before trying to transfer the input flow file. It was not caught in the unit tests because MockProcessSession doesn&apos;t keep track of the open reader count, so that should be fixed as well. Fixing MockProcessSession will cause TestJoltTransformRecord to fail before the fix for this case is applied.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13272044">NIFI-6925</key>
            <summary>JoltTransformRecord, PutESHttpRecord, PutHive3Streaming fail with various RecordReaders</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mattyb149">Matt Burgess</assignee>
                                    <reporter username="mattyb149">Matt Burgess</reporter>
                        <labels>
                    </labels>
                <created>Tue, 3 Dec 2019 19:29:26 +0000</created>
                <updated>Fri, 8 May 2020 19:27:46 +0000</updated>
                            <resolved>Tue, 17 Dec 2019 22:00:41 +0000</resolved>
                                                    <fixVersion>1.11.0</fixVersion>
                                    <component>Extensions</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="4200">1h 10m</timespent>
                                <comments>
                            <comment id="16998382" author="jira-bot" created="Tue, 17 Dec 2019 16:42:34 +0000"  >&lt;p&gt;Commit 6d1bcc22e78129b2669c2e41af0c6b246e6780a9 in nifi&apos;s branch refs/heads/master from Matt Burgess&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=nifi.git;h=6d1bcc2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=nifi.git;h=6d1bcc2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-6925&quot; title=&quot;JoltTransformRecord, PutESHttpRecord, PutHive3Streaming fail with various RecordReaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-6925&quot;&gt;&lt;del&gt;NIFI-6925&lt;/del&gt;&lt;/a&gt;: Fixed JoltTransformRecord for RecordReaders, improved MockProcessSession (#3913)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-6925&quot; title=&quot;JoltTransformRecord, PutESHttpRecord, PutHive3Streaming fail with various RecordReaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-6925&quot;&gt;&lt;del&gt;NIFI-6925&lt;/del&gt;&lt;/a&gt;: Fixed JoltTransformRecord for RecordReaders, improved MockProcessSession&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Fixed logic for no records, added unit test&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Fixed PutElasticsearchHttpRecord and PutHive3Streaming, same bug as JoltTransformRecord&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Added null checks&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="16998383" author="jira-bot" created="Tue, 17 Dec 2019 16:42:36 +0000"  >&lt;p&gt;Commit 6d1bcc22e78129b2669c2e41af0c6b246e6780a9 in nifi&apos;s branch refs/heads/master from Matt Burgess&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=nifi.git;h=6d1bcc2&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=nifi.git;h=6d1bcc2&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-6925&quot; title=&quot;JoltTransformRecord, PutESHttpRecord, PutHive3Streaming fail with various RecordReaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-6925&quot;&gt;&lt;del&gt;NIFI-6925&lt;/del&gt;&lt;/a&gt;: Fixed JoltTransformRecord for RecordReaders, improved MockProcessSession (#3913)&lt;/p&gt;

&lt;ul&gt;
	&lt;li&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-6925&quot; title=&quot;JoltTransformRecord, PutESHttpRecord, PutHive3Streaming fail with various RecordReaders&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-6925&quot;&gt;&lt;del&gt;NIFI-6925&lt;/del&gt;&lt;/a&gt;: Fixed JoltTransformRecord for RecordReaders, improved MockProcessSession&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Fixed logic for no records, added unit test&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Fixed PutElasticsearchHttpRecord and PutHive3Streaming, same bug as JoltTransformRecord&lt;/li&gt;
&lt;/ul&gt;


&lt;ul&gt;
	&lt;li&gt;Added null checks&lt;/li&gt;
&lt;/ul&gt;
</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            5 years, 47 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0992g:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>