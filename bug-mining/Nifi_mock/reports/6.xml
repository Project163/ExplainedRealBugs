<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:58 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NIFI-1168] @TriggerWhenEmpty docs and developer guide incompatible onTrigger definitions</title>
                <link>https://issues.apache.org/jira/browse/NIFI-1168</link>
                <project id="12316020" key="NIFI">Apache NiFi</project>
                    <description>&lt;p&gt;The TriggerWhenEmpty javadoc has the following specification for when a processor is executed:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;/**
 * Marker annotation a {@link org.apache.nifi.processor.Processor Processor}
 * implementation can use to indicate that the Processor should still be
 * triggered even when it has no data in its work queue. By &lt;span class=&quot;code-keyword&quot;&gt;default&lt;/span&gt;, Processors
 * which have no non-self incoming edges will be triggered even &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; there is no
 * work in its queue. However, Processors that have non-self incoming edges will
 * only be triggered &lt;span class=&quot;code-keyword&quot;&gt;if&lt;/span&gt; they have work in their queue or they present &lt;span class=&quot;code-keyword&quot;&gt;this&lt;/span&gt;
 * annotation.
 *
 */
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The developer guide, however specifies that: &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;A Processor&#8217;s onTrigger method will be called only when it is scheduled to run and when work exists for the Processor. Work is said to exist for a Processor if any of the following conditions is met:&lt;/p&gt;

&lt;p&gt;		A Connection whose destination is the Processor has at least one FlowFile in its queue&lt;/p&gt;

&lt;p&gt;		The Processors has no incoming Connections&lt;/p&gt;

&lt;p&gt;		The Processor is annotated with the @TriggerWhenEmpty annotation&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The key difference is that TriggerWhenEmpty specifies that if a processor only has self-directed incoming edges/loops, it will still be triggered by the framework, while the Developer Guide seems to not make such provisions.&lt;/p&gt;

&lt;p&gt;The behavior outlined in the developer guide is currently what is seen and this was stumbled upon while reviewing the patches associated with &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1086&quot; title=&quot;Refactor InvokeHttp&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1086&quot;&gt;&lt;del&gt;NIFI-1086&lt;/del&gt;&lt;/a&gt; and introduces a unique case in terms of functionality.  Given that an InvokeHTTP processor can be run with or without inputs, there are certain relationships that would never happen (like the retry or failure) when the processor is driven only by a trigger event.  In this case, loops that were instinctually created while making a sample flow to retry requests prevented the processor from executing.&lt;/p&gt;</description>
                <environment></environment>
        <key id="12913105">NIFI-1168</key>
            <summary>@TriggerWhenEmpty docs and developer guide incompatible onTrigger definitions</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markap14">Mark Payne</assignee>
                                    <reporter username="aldrin">Aldrin Piri</reporter>
                        <labels>
                    </labels>
                <created>Sat, 14 Nov 2015 20:49:22 +0000</created>
                <updated>Wed, 18 Nov 2015 20:42:02 +0000</updated>
                            <resolved>Wed, 18 Nov 2015 20:42:02 +0000</resolved>
                                    <version>0.3.0</version>
                                    <fixVersion>0.4.0</fixVersion>
                                    <component>Core Framework</component>
                    <component>Documentation &amp;amp; Website</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>2</watches>
                                                                                                                                                            <comments>
                            <comment id="15011567" author="aldrin" created="Wed, 18 Nov 2015 18:11:05 +0000"  >&lt;p&gt;Reviewing&lt;/p&gt;</comment>
                            <comment id="15011877" author="aldrin" created="Wed, 18 Nov 2015 20:21:24 +0000"  >&lt;p&gt;Patch was a little wonky in application but was able to make it to work. (nifi-nar-bundles/nifi-framework-bundle/nifi-framework/nifi-documentation/src/main/java/org/apache/nifi/documentation/mock/MockProcessContext.java wouldn&apos;t apply cleanly and I had to manually apply the rejected hunk)&lt;/p&gt;

&lt;p&gt;There was one contrib error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;[WARNING] src/main/java/org/apache/nifi/controller/scheduling/ConnectableProcessContext.java[23:8] (imports) UnusedImports: Unused &lt;span class=&quot;code-keyword&quot;&gt;import&lt;/span&gt; - java.util.List.
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Removed that and everything built appropriately.&lt;/p&gt;

&lt;p&gt;Test was great for all the various scenarios and bases are covered.  Performed some adjustments using the method added to ProcessContext and this greatly aids in the process of handling this emerging class of processors that are both source and input-driven.&lt;/p&gt;

&lt;p&gt;+1 and will merge from my verification environment.&lt;/p&gt;</comment>
                            <comment id="15011912" author="jira-bot" created="Wed, 18 Nov 2015 20:41:27 +0000"  >&lt;p&gt;Commit 69bce2c2db2619e0323434228c31f98630e43372 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=markap14&quot; class=&quot;user-hover&quot; rel=&quot;markap14&quot;&gt;markap14&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=69bce2c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=69bce2c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1168&quot; title=&quot;@TriggerWhenEmpty docs and developer guide incompatible onTrigger definitions&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1168&quot;&gt;&lt;del&gt;NIFI-1168&lt;/del&gt;&lt;/a&gt;: Ensure that processors with only looping&lt;br/&gt;
 connections are scheduled to run, even if the connections have no FlowFiles;&lt;br/&gt;
 expose these details to processor developers; update documentation&lt;/p&gt;

&lt;p&gt;Signed-off-by: Aldrin Piri &amp;lt;aldrin@apache.org&amp;gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12773031" name="0001-NIFI-1168-Ensure-that-processors-with-only-looping-c.patch" size="25315" author="markap14" created="Wed, 18 Nov 2015 17:20:32 +0000"/>
                    </attachments>
                <subtasks>
                            <subtask id="12914231">NIFI-1188</subtask>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oenz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>