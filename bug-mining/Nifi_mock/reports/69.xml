<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:46:28 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NIFI-14164] Mock Framework&apos;s MockPropertyValue only ensures evaluateAttributeExpressions() called if Expression Language present</title>
                <link>https://issues.apache.org/jira/browse/NIFI-14164</link>
                <project id="12316020" key="NIFI">Apache NiFi</project>
                    <description>&lt;p&gt;In the MockPropertyValue, we ensure that if a PropertyDescriptor declares a property to support Expression Language, that &lt;tt&gt;evaluateAttributeExpressions()&lt;/tt&gt; is called before calling &lt;tt&gt;getValue()&lt;/tt&gt;. But we only ensure this if the property value is set to use Expression Language. Rather, if the developer declares that Expression Language is supported and fails to evaluate Expression Language, we should always throw an Exception regardless of whether or not the property is configured to reference EL.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13605128">NIFI-14164</key>
            <summary>Mock Framework&apos;s MockPropertyValue only ensures evaluateAttributeExpressions() called if Expression Language present</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="markap14">Mark Payne</assignee>
                                    <reporter username="markap14">Mark Payne</reporter>
                        <labels>
                    </labels>
                <created>Wed, 15 Jan 2025 19:09:56 +0000</created>
                <updated>Fri, 17 Jan 2025 16:53:32 +0000</updated>
                            <resolved>Fri, 17 Jan 2025 16:53:32 +0000</resolved>
                                                    <fixVersion>2.2.0</fixVersion>
                                    <component>Core Framework</component>
                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                    <progress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="100">
                                    <originalProgress>
                                                    <row percentage="0" backgroundColor="#89afd7"/>
                                                    <row percentage="100" backgroundColor="transparent"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="100" backgroundColor="#51a825"/>
                                                    <row percentage="0" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                            <timeestimate seconds="0">0h</timeestimate>
                            <timespent seconds="2400">40m</timespent>
                                <comments>
                            <comment id="17913786" author="jira-bot" created="Thu, 16 Jan 2025 16:01:31 +0000"  >&lt;p&gt;Commit 08a7e01b8cc40c31a2bed468e7e478edb830e7c1 in nifi&apos;s branch refs/heads/main from Mark Payne&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=nifi.git;h=08a7e01b8c&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=nifi.git;h=08a7e01b8c&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-14164&quot; title=&quot;Mock Framework&amp;#39;s MockPropertyValue only ensures evaluateAttributeExpressions() called if Expression Language present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-14164&quot;&gt;&lt;del&gt;NIFI-14164&lt;/del&gt;&lt;/a&gt;: Ensure that when a PropertyDescriptor indicates that Expression Language is evaluated, that it evaluates EL even if not the property value does not reference EL.&lt;/p&gt;

&lt;p&gt;Signed-off-by: Pierre Villard &amp;lt;pierre.villard.fr@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #9638.&lt;/p&gt;</comment>
                            <comment id="17913840" author="joewitt" created="Thu, 16 Jan 2025 19:08:02 +0000"  >&lt;p&gt;hello this breaks the integration tests when you run the full build.  For instance all the aws processor IT fail now with:&lt;/p&gt;


&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;[ERROR] org.apache.nifi.processors.aws.s3.ITListS3.testObjectTagsWritten -- Time elapsed: 0.008 s &amp;lt;&amp;lt;&amp;lt; FAILURE!
org.opentest4j.AssertionFailedError: Could not invoke methods annotated with @OnScheduled annotation due to: java.lang.reflect.InvocationTargetException
	at org.junit.jupiter.api.AssertionUtils.fail(AssertionUtils.java:42)
	at org.junit.jupiter.api.Assertions.fail(Assertions.java:150)
	at org.apache.nifi.util.StandardProcessorTestRunner.run(StandardProcessorTestRunner.java:215)
	at org.apache.nifi.util.StandardProcessorTestRunner.run(StandardProcessorTestRunner.java:197)
	at org.apache.nifi.util.StandardProcessorTestRunner.run(StandardProcessorTestRunner.java:192)
	at org.apache.nifi.util.StandardProcessorTestRunner.run(StandardProcessorTestRunner.java:187)
	at org.apache.nifi.util.StandardProcessorTestRunner.run(StandardProcessorTestRunner.java:182)
	at org.apache.nifi.processors.aws.s3.ITListS3.testObjectTagsWritten(ITListS3.java:137)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
	at java.base/java.util.ArrayList.forEach(ArrayList.java:1596)
Caused by: java.lang.reflect.InvocationTargetException
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:118)
	at java.base/java.lang.reflect.Method.invoke(Method.java:580)
	at org.apache.nifi.util.ReflectionUtils.invokeMethodsWithAnnotation(ReflectionUtils.java:66)
	at org.apache.nifi.util.StandardProcessorTestRunner.run(StandardProcessorTestRunner.java:213)
	... 8 more
Caused by: java.lang.IllegalStateException: Attempting to retrieve value of PropertyDescriptor[Endpoint Override URL] without first evaluating Expressions, even though the PropertyDescriptor indicates that the Expression Language is Supported. If you realize that this is the case and do not want this error to occur, it can be disabled by calling TestRunner.setValidateExpressionUsage(false)
	at org.apache.nifi.util.MockPropertyValue.ensureExpressionsEvaluated(MockPropertyValue.java:89)
	at org.apache.nifi.util.MockPropertyValue.getValue(MockPropertyValue.java:138)
	at org.apache.nifi.processors.aws.AbstractAWSCredentialsProviderProcessor.getEndpointConfiguration(AbstractAWSCredentialsProviderProcessor.java:258)
	at org.apache.nifi.processors.aws.AbstractAWSCredentialsProviderProcessor.createClient(AbstractAWSCredentialsProviderProcessor.java:248)
	at org.apache.nifi.processors.aws.AbstractAWSCredentialsProviderProcessor.lambda$getClient$0(AbstractAWSCredentialsProviderProcessor.java:311)
	at com.github.benmanes.caffeine.cache.BoundedLocalCache.lambda$doComputeIfAbsent$14(BoundedLocalCache.java:2688)
	at java.base/java.util.concurrent.ConcurrentHashMap.compute(ConcurrentHashMap.java:1916)
	at com.github.benmanes.caffeine.cache.BoundedLocalCache.doComputeIfAbsent(BoundedLocalCache.java:2686)
	at com.github.benmanes.caffeine.cache.BoundedLocalCache.computeIfAbsent(BoundedLocalCache.java:2669)
	at com.github.benmanes.caffeine.cache.LocalCache.computeIfAbsent(LocalCache.java:112)
	at com.github.benmanes.caffeine.cache.LocalManualCache.get(LocalManualCache.java:62)
	at org.apache.nifi.processors.aws.AbstractAWSCredentialsProviderProcessor.getClient(AbstractAWSCredentialsProviderProcessor.java:311)
	at org.apache.nifi.processors.aws.AbstractAWSCredentialsProviderProcessor.getClient(AbstractAWSCredentialsProviderProcessor.java:315)
	at org.apache.nifi.processors.aws.s3.AbstractS3Processor.onScheduled(AbstractS3Processor.java:302)
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103)
	... 11 more
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17914183" author="jira-bot" created="Fri, 17 Jan 2025 16:53:31 +0000"  >&lt;p&gt;Commit 45704230be1fb4e256e35f97da545d5dfe597e2f in nifi&apos;s branch refs/heads/main from Mark Payne&lt;br/&gt;
[ &lt;a href=&quot;https://gitbox.apache.org/repos/asf?p=nifi.git;h=45704230be&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://gitbox.apache.org/repos/asf?p=nifi.git;h=45704230be&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-14164&quot; title=&quot;Mock Framework&amp;#39;s MockPropertyValue only ensures evaluateAttributeExpressions() called if Expression Language present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-14164&quot;&gt;&lt;del&gt;NIFI-14164&lt;/del&gt;&lt;/a&gt;: Fixed integration tests that were missed in initial implementation of &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-14164&quot; title=&quot;Mock Framework&amp;#39;s MockPropertyValue only ensures evaluateAttributeExpressions() called if Expression Language present&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-14164&quot;&gt;&lt;del&gt;NIFI-14164&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Signed-off-by: Pierre Villard &amp;lt;pierre.villard.fr@gmail.com&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #9644.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            42 weeks, 1 day ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1tn1s:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>