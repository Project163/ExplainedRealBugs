<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:45:59 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NIFI-1220] MockProcessSession#penalize does not update FlowFile version</title>
                <link>https://issues.apache.org/jira/browse/NIFI-1220</link>
                <project id="12316020" key="NIFI">Apache NiFi</project>
                    <description>&lt;p&gt;While testing a processor that penalizes a FlowFile, the MockProcessSession#penalize method does not create a new version of that FlowFile. This allows bugs like the following to creep in&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;session.penalize(original);
session.transfer(original, REL_FAILURE);
&lt;span class=&quot;code-comment&quot;&gt;// the call to &lt;span class=&quot;code-quote&quot;&gt;&quot;transfer&quot;&lt;/span&gt; fails in production, passes in the test framework&lt;/span&gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</description>
                <environment></environment>
        <key id="12916222">NIFI-1220</key>
            <summary>MockProcessSession#penalize does not update FlowFile version</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="joewitt">Joe Witt</assignee>
                                    <reporter username="johnathan.gilday">Johnathan Gilday</reporter>
                        <labels>
                    </labels>
                <created>Wed, 25 Nov 2015 17:57:12 +0000</created>
                <updated>Sat, 28 Nov 2015 22:47:06 +0000</updated>
                            <resolved>Sat, 28 Nov 2015 22:47:06 +0000</resolved>
                                                    <fixVersion>0.4.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>4</watches>
                                                                                                                <comments>
                            <comment id="15027359" author="githubbot" created="Wed, 25 Nov 2015 18:49:01 +0000"  >&lt;p&gt;GitHub user gilday opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1220&quot; title=&quot;MockProcessSession#penalize does not update FlowFile version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1220&quot;&gt;&lt;del&gt;NIFI-1220&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    `MockProcessSession` returns a new FlowFile from its `penalty` method instead of mutating then returning the given FlowFile&lt;/p&gt;

&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/gilday/nifi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/gilday/nifi&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1220&quot; title=&quot;MockProcessSession#penalize does not update FlowFile version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1220&quot;&gt;&lt;del&gt;NIFI-1220&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/133.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/133.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #133&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit bbed296ad5ad828b93ca90765b5e2ac1629803d2&lt;br/&gt;
Author: Johnathan Gilday &amp;lt;me@johnathangilday.com&amp;gt;&lt;br/&gt;
Date:   2015-11-25T18:34:06Z&lt;/p&gt;

&lt;p&gt;    Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1220&quot; title=&quot;MockProcessSession#penalize does not update FlowFile version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1220&quot;&gt;&lt;del&gt;NIFI-1220&lt;/del&gt;&lt;/a&gt;: `MockProcessSession` returns a new FlowFile from its `penalty` method instead of mutating then returning the given FlowFile&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="15030675" author="joewitt" created="Sat, 28 Nov 2015 22:20:58 +0000"  >&lt;p&gt;pulled into 0.4.0.  Looks like a good find/fix and is ready to go.  Just doing some testing and if good will merge.&lt;/p&gt;

&lt;p&gt;thanks&lt;/p&gt;</comment>
                            <comment id="15030680" author="jira-bot" created="Sat, 28 Nov 2015 22:45:49 +0000"  >&lt;p&gt;Commit fd35b8ffd7d4a66ef149c1bd1341dfee3ede80c7 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=johnathan.gilday&quot; class=&quot;user-hover&quot; rel=&quot;johnathan.gilday&quot;&gt;johnathan.gilday&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=fd35b8f&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=fd35b8f&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;Fixes &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-1220&quot; title=&quot;MockProcessSession#penalize does not update FlowFile version&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-1220&quot;&gt;&lt;del&gt;NIFI-1220&lt;/del&gt;&lt;/a&gt;.  This closes #133. MockProcessSession returns a new FlowFile from its `penalty` method instead of mutating then returning the given FlowFile&lt;/p&gt;

&lt;p&gt;Signed-off-by: joewitt &amp;lt;joewitt@apache.org&amp;gt;&lt;/p&gt;</comment>
                            <comment id="15030681" author="githubbot" created="Sat, 28 Nov 2015 22:46:01 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/133&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="15030682" author="joewitt" created="Sat, 28 Nov 2015 22:46:44 +0000"  >&lt;p&gt;+1.  Nice catch.  Squashed/merged to master/pushed.  Closed PR.&lt;/p&gt;

&lt;p&gt;and Thank you!&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            9 years, 50 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i2oxun:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>