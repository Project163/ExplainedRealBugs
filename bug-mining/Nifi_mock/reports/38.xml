<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:46:17 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[NIFI-5145] MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs</title>
                <link>https://issues.apache.org/jira/browse/NIFI-5145</link>
                <project id="12316020" key="NIFI">Apache NiFi</project>
                    <description>&lt;p&gt;The method mentioned in the title line cannot handle null inputs, even though the main NiFi execution classes can handle that scenario. This forces hack to pass testing with nulls that looks like this:&lt;/p&gt;

&lt;p&gt;String val = flowFile != null ? context.getProperty(PROP).evaluateExpressionLanguage(flowfile).getValue() : context.getProperty(PROP).evaluateExpressionLanguage(new HashMap()).getValue();&lt;/p&gt;</description>
                <environment></environment>
        <key id="13156828">NIFI-5145</key>
            <summary>MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mike.thomsen">Mike Thomsen</assignee>
                                    <reporter username="mike.thomsen">Mike Thomsen</reporter>
                        <labels>
                    </labels>
                <created>Thu, 3 May 2018 10:31:09 +0000</created>
                <updated>Mon, 18 Jun 2018 13:15:23 +0000</updated>
                            <resolved>Mon, 18 Jun 2018 13:15:23 +0000</resolved>
                                                    <fixVersion>1.7.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="16462253" author="githubbot" created="Thu, 3 May 2018 10:32:25 +0000"  >&lt;p&gt;GitHub user MikeThomsen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile &#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;    Thank you for submitting a contribution to Apache NiFi.&lt;/p&gt;

&lt;p&gt;    In order to streamline the review of the contribution we ask you&lt;br/&gt;
    to ensure the following steps have been taken:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For all changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Is there a JIRA ticket associated with this PR? Is it referenced&lt;br/&gt;
         in the commit message?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Does your PR title start with NIFI-XXXX where XXXX is the JIRA number you are trying to resolve? Pay particular attention to the hyphen &quot;-&quot; character.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Has your PR been rebased against the latest commit within the target branch (typically master)?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Is your initial contribution a single, squashed commit?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For code changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Have you ensured that the full suite of tests is executed via mvn -Pcontrib-check clean install at the root nifi folder?&lt;/li&gt;
	&lt;li&gt;[ ] Have you written or updated unit tests to verify your changes?&lt;/li&gt;
	&lt;li&gt;[ ] If adding new dependencies to the code, are these dependencies licensed in a way that is compatible for inclusion under &lt;span class=&quot;error&quot;&gt;&amp;#91;ASF 2.0&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://www.apache.org/legal/resolved.html#category-a)?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/legal/resolved.html#category-a)?&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;[ ] If applicable, have you updated the LICENSE file, including the main LICENSE file under nifi-assembly?&lt;/li&gt;
	&lt;li&gt;[ ] If applicable, have you updated the NOTICE file, including the main NOTICE file found under nifi-assembly?&lt;/li&gt;
	&lt;li&gt;[ ] If adding new Properties, have you added .displayName in addition to .name (programmatic access) for each of the new properties?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For documentation related changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Have you ensured that format looks appropriate for the output in which it is rendered?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Note:&lt;br/&gt;
    Please ensure that once the PR is submitted, you check travis-ci for build issues and submit an update to your PR as soon as possible.&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/MikeThomsen/nifi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/MikeThomsen/nifi&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2672&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit e717a2c68783815767d0b931f4c0d84fd6e6e0f7&lt;br/&gt;
Author: Mike Thomsen &amp;lt;mikerthomsen@...&amp;gt;&lt;br/&gt;
Date:   2018-05-03T10:28:45Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16462255" author="githubbot" created="Thu, 3 May 2018 10:35:18 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @pvillard31 @joewitt Could one of you do a code review on this? It aims to roll back a little of the new testing behavior that breaks evaluateExpressionLanguage(FlowFile) when the input is null. The work around to get the testing behavior to match the live behavior is &lt;span class=&quot;error&quot;&gt;&amp;#91;pretty hackish&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/NIFI-5145&lt;/a&gt;).&lt;/p&gt;</comment>
                            <comment id="16470946" author="githubbot" created="Thu, 10 May 2018 18:56:34 +0000"  >&lt;p&gt;Github user markap14 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r187425793&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r187425793&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-nar-bundles/nifi-mongodb-bundle/nifi-mongodb-processors/src/main/java/org/apache/nifi/processors/mongodb/AbstractMongoProcessor.java &amp;#8212;&lt;br/&gt;
    @@ -268,7 +268,7 @@ protected WriteConcern getWriteConcern(final ProcessContext context) {&lt;br/&gt;
         protected void writeBatch(String payload, FlowFile parent, ProcessContext context, ProcessSession session,&lt;br/&gt;
                 Map&amp;lt;String, String&amp;gt; extraAttributes, Relationship rel) throws UnsupportedEncodingException {&lt;br/&gt;
             String charset = parent != null ? context.getProperty(CHARSET).evaluateAttributeExpressions(parent).getValue()&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    @MikeThomsen I may be wrong but i think this is supposed to be getting rid of the check for `parent != null`, isn&apos;t it? As-is, it&apos;s saying if parent != null then evaluate with parent flowfile, otherwise still evaluate with parent flowfile... should just be `String charset = context.getProperty(charset).evaluateAttributeExpressions(parent).getValue()`, no?&lt;/p&gt;</comment>
                            <comment id="16470961" author="githubbot" created="Thu, 10 May 2018 19:02:12 +0000"  >&lt;p&gt;Github user markap14 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r187427343&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r187427343&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-mock/src/main/java/org/apache/nifi/util/MockPropertyValue.java &amp;#8212;&lt;br/&gt;
    @@ -202,6 +203,9 @@ public PropertyValue evaluateAttributeExpressions(final AttributeValueDecorator&lt;/p&gt;

&lt;p&gt;         @Override&lt;br/&gt;
         public PropertyValue evaluateAttributeExpressions(final FlowFile flowFile) throws ProcessException {&lt;br/&gt;
    +        if (flowFile == null) {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    This feels a little bit odd to me, as it&apos;s very unclear just from looking at this method what the intent is here - i think it would be cleaner to pass down a boolean argument that indicates whether or not attributes are available. It would be `true` in all cases except for `evaluateAttributeExpressions()` with no arguments and `evaluateAttributeExpressions(AttributeValueDecorator decorator)` - or otherwise to just have the no-arg version call the one that takes only the decorator and implement that method there instead of calling another override of the method. The actual implementation is only about 4-5 lines of code and quite trivial anyway.&lt;/p&gt;</comment>
                            <comment id="16471182" author="githubbot" created="Thu, 10 May 2018 21:53:19 +0000"  >&lt;p&gt;Github user MikeThomsen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r187470996&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r187470996&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-nar-bundles/nifi-mongodb-bundle/nifi-mongodb-processors/src/main/java/org/apache/nifi/processors/mongodb/AbstractMongoProcessor.java &amp;#8212;&lt;br/&gt;
    @@ -268,7 +268,7 @@ protected WriteConcern getWriteConcern(final ProcessContext context) {&lt;br/&gt;
         protected void writeBatch(String payload, FlowFile parent, ProcessContext context, ProcessSession session,&lt;br/&gt;
                 Map&amp;lt;String, String&amp;gt; extraAttributes, Relationship rel) throws UnsupportedEncodingException {&lt;br/&gt;
             String charset = parent != null ? context.getProperty(CHARSET).evaluateAttributeExpressions(parent).getValue()&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Yeah, that was a typo on my parent. It should have been `evaluateAttributeExpressions()`&lt;/p&gt;</comment>
                            <comment id="16471251" author="githubbot" created="Thu, 10 May 2018 22:48:55 +0000"  >&lt;p&gt;Github user MikeThomsen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r187481205&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r187481205&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-mock/src/main/java/org/apache/nifi/util/MockPropertyValue.java &amp;#8212;&lt;br/&gt;
    @@ -202,6 +203,9 @@ public PropertyValue evaluateAttributeExpressions(final AttributeValueDecorator&lt;/p&gt;

&lt;p&gt;         @Override&lt;br/&gt;
         public PropertyValue evaluateAttributeExpressions(final FlowFile flowFile) throws ProcessException {&lt;br/&gt;
    +        if (flowFile == null) {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    &amp;gt; This feels a little bit odd to me, as it&apos;s very unclear just from looking at this method what the intent is here&lt;/p&gt;

&lt;p&gt;    The intent is to mirror the behavior of running NiFi when you pass a null flowfile object into `evaluateExpressionLanguage(FlowFile)`. This works on a running processor:&lt;/p&gt;

&lt;p&gt;    ```&lt;br/&gt;
    FlowFile parent = null;&lt;br/&gt;
    String charset = context.getProperty(CHARSET).evaluateAttributeExpressions(parent).getValue();&lt;br/&gt;
    ```&lt;/p&gt;

&lt;p&gt;    it does not work against the testing framework. So it seems natural to me that the testing framework just handle a null flowfile as an empty set of attributes the way live NiFi does.&lt;/p&gt;</comment>
                            <comment id="16472413" author="githubbot" created="Fri, 11 May 2018 18:23:01 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @markap14 Any feedback?&lt;/p&gt;</comment>
                            <comment id="16473473" author="githubbot" created="Sun, 13 May 2018 12:44:13 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @pvillard31 can you take a look?&lt;/p&gt;</comment>
                            <comment id="16474201" author="githubbot" created="Mon, 14 May 2018 13:25:13 +0000"  >&lt;p&gt;Github user ottobackwards commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think making this consistent for testing is a good idea.  The fact that the Mock classes in nifi can replicate the runtime behavior is very important to implementors.&lt;/p&gt;

&lt;p&gt;    I think that the changes to the other processors might be better suited outside of this pr though.&lt;/p&gt;

&lt;p&gt;    Also, I wouldn&apos;t mind seeing a comment or more comments in the Mock class referencing the runtime behavior they are enforcing.&lt;/p&gt;
</comment>
                            <comment id="16475012" author="githubbot" created="Mon, 14 May 2018 23:05:58 +0000"  >&lt;p&gt;Github user markap14 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r188124392&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r188124392&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-mock/src/main/java/org/apache/nifi/util/MockPropertyValue.java &amp;#8212;&lt;br/&gt;
    @@ -202,6 +203,9 @@ public PropertyValue evaluateAttributeExpressions(final AttributeValueDecorator&lt;/p&gt;

&lt;p&gt;         @Override&lt;br/&gt;
         public PropertyValue evaluateAttributeExpressions(final FlowFile flowFile) throws ProcessException {&lt;br/&gt;
    +        if (flowFile == null) {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Sorry - don&apos;t think I was clear in what I was trying to communicate here. I do understand the intent. But it took me a while to understand how the PR differed logically from what already was there. What would seem natural to me is to simply pass the null FlowFile along to an override, filling in other default values, as it already does. But clearly that is a bug because of how this is handled in the actual implementing override. At first look, though, it seemed to me to be the same logic because in many places an empty map is treated the same as a null map.&lt;/p&gt;

&lt;p&gt;    So while I now understand what it&apos;s doing, I think it&apos;s a bit confusing at first glance. That&apos;s why i suggested passing a boolean down the stack. The PR wouldn&apos;t cause me much angst if there were just some inline comments, I think, about how the implementing override checks if flowfile is null and variables is null and if so handles things differently... but at that point it makes it really easy to change the implementation later and leave comments in the code that are no longer valid. but i&apos;d be okay either way.&lt;/p&gt;</comment>
                            <comment id="16475027" author="githubbot" created="Mon, 14 May 2018 23:17:27 +0000"  >&lt;p&gt;Github user MikeThomsen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r188126334&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r188126334&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-mock/src/main/java/org/apache/nifi/util/MockPropertyValue.java &amp;#8212;&lt;br/&gt;
    @@ -202,6 +203,9 @@ public PropertyValue evaluateAttributeExpressions(final AttributeValueDecorator&lt;/p&gt;

&lt;p&gt;         @Override&lt;br/&gt;
         public PropertyValue evaluateAttributeExpressions(final FlowFile flowFile) throws ProcessException {&lt;br/&gt;
    +        if (flowFile == null) {&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    Ok. I&apos;ll comment it up and make it clear what it&apos;s doing so anyone jumping in there later will understand exactly what&apos;s going on there.&lt;/p&gt;</comment>
                            <comment id="16475578" author="githubbot" created="Tue, 15 May 2018 09:56:03 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @markap14 I added a detailed comment describing why I did what I did and fixed a few processors that had invalid scopes applied to their properties. Build seems totally fine now. Let me know if you need any more changes.&lt;/p&gt;</comment>
                            <comment id="16475816" author="githubbot" created="Tue, 15 May 2018 13:19:01 +0000"  >&lt;p&gt;Github user mattyb149 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think the invalid scopes thing should be done in a separate Jira, there are more than just the ones above (~40 in total) so I think we should tackle them all at once, and have this PR just call evaluateAttributeExpressions with the empty map. I don&apos;t think that&apos;s a hack, it emulates the real behavior (although the real one has a ValueLookup whose constructor skips flow file processing if null).&lt;/p&gt;</comment>
                            <comment id="16476323" author="githubbot" created="Tue, 15 May 2018 18:36:56 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @mattyb149 I just changed the override to be the one without a parameter. I agree that there should be a task for squashing the scope bugs, but do the few that got squashed here need to be cherry picked out or should they just stay in?&lt;/p&gt;</comment>
                            <comment id="16476404" author="githubbot" created="Tue, 15 May 2018 20:01:29 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;span class=&quot;error&quot;&gt;&amp;#91;Added a Jira ticket&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5197&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/NIFI-5197&lt;/a&gt;) to track the issue with the invalid scope bugs.&lt;/p&gt;</comment>
                            <comment id="16477297" author="githubbot" created="Wed, 16 May 2018 11:55:55 +0000"  >&lt;p&gt;Github user mattyb149 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r188596962&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r188596962&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-nar-bundles/nifi-hbase-bundle/nifi-hbase-processors/src/main/java/org/apache/nifi/hbase/GetHBase.java &amp;#8212;&lt;br/&gt;
    @@ -147,14 +146,6 @@&lt;br/&gt;
                 .allowableValues(NONE, CURRENT_TIME)&lt;br/&gt;
                 .defaultValue(NONE.getValue())&lt;br/&gt;
                 .build();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;static final PropertyDescriptor AUTHORIZATIONS = new PropertyDescriptor.Builder()
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Is this an unused property? I see it being removed but didn&apos;t see it moved anywhere&lt;/p&gt;</comment>
                            <comment id="16477450" author="githubbot" created="Wed, 16 May 2018 13:48:01 +0000"  >&lt;p&gt;Github user MikeThomsen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r188631087&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r188631087&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-nar-bundles/nifi-hbase-bundle/nifi-hbase-processors/src/main/java/org/apache/nifi/hbase/GetHBase.java &amp;#8212;&lt;br/&gt;
    @@ -147,14 +146,6 @@&lt;br/&gt;
                 .allowableValues(NONE, CURRENT_TIME)&lt;br/&gt;
                 .defaultValue(NONE.getValue())&lt;br/&gt;
                 .build();&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;static final PropertyDescriptor AUTHORIZATIONS = new PropertyDescriptor.Builder()
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    VisibilityFetchSupport provides a version of it that is fungible.&lt;/p&gt;</comment>
                            <comment id="16477782" author="githubbot" created="Wed, 16 May 2018 17:33:33 +0000"  >&lt;p&gt;Github user mattyb149 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r188710133&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r188710133&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-mock/src/main/java/org/apache/nifi/util/MockPropertyValue.java &amp;#8212;&lt;br/&gt;
    @@ -202,6 +202,17 @@ public PropertyValue evaluateAttributeExpressions(final AttributeValueDecorator&lt;/p&gt;

&lt;p&gt;         @Override&lt;br/&gt;
         public PropertyValue evaluateAttributeExpressions(final FlowFile flowFile) throws ProcessException {&lt;br/&gt;
    +        /*&lt;br/&gt;
    +         * TODO: Come up with a more elegation solution for this.&lt;br/&gt;
    &amp;#8212; End diff &amp;#8211;&lt;/p&gt;

&lt;p&gt;    I&apos;ll remove the TODO on merge&lt;/p&gt;</comment>
                            <comment id="16477790" author="githubbot" created="Wed, 16 May 2018 17:44:23 +0000"  >&lt;p&gt;Github user mattyb149 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672#discussion_r188713507&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672#discussion_r188713507&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/main/java/org/apache/nifi/processors/standard/ListFileTransfer.java &amp;#8212;&lt;br/&gt;
    @@ -43,20 +43,20 @@&lt;br/&gt;
             .description(&quot;The fully qualified hostname or IP address of the remote system&quot;)&lt;br/&gt;
             .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)&lt;br/&gt;
             .required(true)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.expressionLanguageSupported(ExpressionLanguageScope.VARIABLE_REGISTRY)&lt;br/&gt;
    +        .expressionLanguageSupported(ExpressionLanguageScope.FLOWFILE_ATTRIBUTES)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    These are not evaluated against FF attributes (see the createAttributes() method below), I&apos;ll revert them on merge.&lt;/p&gt;</comment>
                            <comment id="16477794" author="githubbot" created="Wed, 16 May 2018 17:51:22 +0000"  >&lt;p&gt;Github user mattyb149 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 LGTM, made a couple of edits before merging (see comments), thanks for the improvement! Merging to master&lt;/p&gt;</comment>
                            <comment id="16477795" author="jira-bot" created="Wed, 16 May 2018 17:51:30 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477796" author="jira-bot" created="Wed, 16 May 2018 17:51:31 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477797" author="jira-bot" created="Wed, 16 May 2018 17:51:32 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477798" author="jira-bot" created="Wed, 16 May 2018 17:51:33 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477799" author="jira-bot" created="Wed, 16 May 2018 17:51:35 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477800" author="jira-bot" created="Wed, 16 May 2018 17:51:36 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477801" author="jira-bot" created="Wed, 16 May 2018 17:51:37 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477802" author="jira-bot" created="Wed, 16 May 2018 17:51:38 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477803" author="jira-bot" created="Wed, 16 May 2018 17:51:39 +0000"  >&lt;p&gt;Commit ea41b41ede3cc9832cf0b95c3f51ca29fda67fc3 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=ea41b41&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Made MockPropertyValue.evaluateExpressionLanguage(FlowFile able to accommodate null flowfiles the way live NiFi does.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a mistake with evaluateAttributeExpressions found in a code review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Removed a property descriptor from GetHBase that was a duplication of the one in VisibilityFetchSupport.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Added comments in the code that were requested in the review.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed check style issue.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed a few improperly scoped items in ListFileTransfer that impacted the FTP processor(s).&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed which override gets called based on code review feedback.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Reverted changes to ListFileTransfer re ExpressionLanguageScope&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Removed TODO from MockPropertyValue javadoc&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2672&lt;/p&gt;</comment>
                            <comment id="16477804" author="githubbot" created="Wed, 16 May 2018 17:52:00 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2672&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2672&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16479360" author="githubbot" created="Thu, 17 May 2018 16:48:30 +0000"  >&lt;p&gt;GitHub user MikeThomsen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2714&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed the override in MockPropertyValue to use a better w&#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;ay of passing over null flowfiles in evaluateExpressionLanguage.&lt;/p&gt;

&lt;p&gt;    Thank you for submitting a contribution to Apache NiFi.&lt;/p&gt;

&lt;p&gt;    In order to streamline the review of the contribution we ask you&lt;br/&gt;
    to ensure the following steps have been taken:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For all changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Is there a JIRA ticket associated with this PR? Is it referenced&lt;br/&gt;
         in the commit message?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Does your PR title start with NIFI-XXXX where XXXX is the JIRA number you are trying to resolve? Pay particular attention to the hyphen &quot;-&quot; character.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Has your PR been rebased against the latest commit within the target branch (typically master)?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Is your initial contribution a single, squashed commit?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For code changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Have you ensured that the full suite of tests is executed via mvn -Pcontrib-check clean install at the root nifi folder?&lt;/li&gt;
	&lt;li&gt;[ ] Have you written or updated unit tests to verify your changes?&lt;/li&gt;
	&lt;li&gt;[ ] If adding new dependencies to the code, are these dependencies licensed in a way that is compatible for inclusion under &lt;span class=&quot;error&quot;&gt;&amp;#91;ASF 2.0&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://www.apache.org/legal/resolved.html#category-a)?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/legal/resolved.html#category-a)?&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;[ ] If applicable, have you updated the LICENSE file, including the main LICENSE file under nifi-assembly?&lt;/li&gt;
	&lt;li&gt;[ ] If applicable, have you updated the NOTICE file, including the main NOTICE file found under nifi-assembly?&lt;/li&gt;
	&lt;li&gt;[ ] If adding new Properties, have you added .displayName in addition to .name (programmatic access) for each of the new properties?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For documentation related changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Have you ensured that format looks appropriate for the output in which it is rendered?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Note:&lt;br/&gt;
    Please ensure that once the PR is submitted, you check travis-ci for build issues and submit an update to your PR as soon as possible.&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/MikeThomsen/nifi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/MikeThomsen/nifi&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2714.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2714.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2714&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 35db02cd771be74779e50a7f419c28904bc671d8&lt;br/&gt;
Author: Mike Thomsen &amp;lt;mikerthomsen@...&amp;gt;&lt;br/&gt;
Date:   2018-05-17T16:47:53Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed the override in MockPropertyValue to use a better way of passing over null flowfiles in evaluateExpressionLanguage.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16479361" author="githubbot" created="Thu, 17 May 2018 16:48:55 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2714&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @mattyb149 Updated it per our email thread about this.&lt;/p&gt;</comment>
                            <comment id="16479606" author="mattyb149" created="Thu, 17 May 2018 19:44:29 +0000"  >&lt;p&gt;Reopening due to minor change needed for mock framework&lt;/p&gt;</comment>
                            <comment id="16479913" author="githubbot" created="Fri, 18 May 2018 00:00:57 +0000"  >&lt;p&gt;Github user mattyb149 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2714&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 LGTM, thanks! (and sorry for my confusion) Merging to master&lt;/p&gt;</comment>
                            <comment id="16479914" author="jira-bot" created="Fri, 18 May 2018 00:01:01 +0000"  >&lt;p&gt;Commit 6bb43bd4716dda44738d4754518cb60467b62ea6 in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mike.thomsen&quot; class=&quot;user-hover&quot; rel=&quot;mike.thomsen&quot;&gt;mike.thomsen&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=6bb43bd&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=6bb43bd&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Changed the override in MockPropertyValue to use a better way of passing over null flowfiles in evaluateExpressionLanguage.&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2714&lt;/p&gt;</comment>
                            <comment id="16479916" author="githubbot" created="Fri, 18 May 2018 00:01:36 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2714&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16479925" author="githubbot" created="Fri, 18 May 2018 00:06:46 +0000"  >&lt;p&gt;Github user mattyb149 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2714&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2714&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    I think I spoke too soon, there are unit test failures. I&apos;ll look into it&lt;/p&gt;
</comment>
                            <comment id="16479945" author="mattyb149" created="Fri, 18 May 2018 00:30:18 +0000"  >&lt;p&gt;PR 2714 was not a complete fix, it caused some unit test failures. I am looking into it and hope to have a PR up soon.&lt;/p&gt;</comment>
                            <comment id="16479956" author="githubbot" created="Fri, 18 May 2018 00:49:58 +0000"  >&lt;p&gt;GitHub user mattyb149 opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2717&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2717&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Fixed MockPropertyValue to call correct evaluateAttributeExpressions when FF is null&lt;/p&gt;

&lt;p&gt;    Thank you for submitting a contribution to Apache NiFi.&lt;/p&gt;

&lt;p&gt;    In order to streamline the review of the contribution we ask you&lt;br/&gt;
    to ensure the following steps have been taken:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For all changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Is there a JIRA ticket associated with this PR? Is it referenced&lt;br/&gt;
         in the commit message?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Does your PR title start with NIFI-XXXX where XXXX is the JIRA number you are trying to resolve? Pay particular attention to the hyphen &quot;-&quot; character.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Has your PR been rebased against the latest commit within the target branch (typically master)?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Is your initial contribution a single, squashed commit?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For code changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Have you ensured that the full suite of tests is executed via mvn -Pcontrib-check clean install at the root nifi folder?&lt;/li&gt;
	&lt;li&gt;&lt;span class=&quot;error&quot;&gt;&amp;#91;x&amp;#93;&lt;/span&gt; Have you written or updated unit tests to verify your changes?&lt;/li&gt;
	&lt;li&gt;[ ] If adding new dependencies to the code, are these dependencies licensed in a way that is compatible for inclusion under &lt;span class=&quot;error&quot;&gt;&amp;#91;ASF 2.0&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://www.apache.org/legal/resolved.html#category-a)?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/legal/resolved.html#category-a)?&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;[ ] If applicable, have you updated the LICENSE file, including the main LICENSE file under nifi-assembly?&lt;/li&gt;
	&lt;li&gt;[ ] If applicable, have you updated the NOTICE file, including the main NOTICE file found under nifi-assembly?&lt;/li&gt;
	&lt;li&gt;[ ] If adding new Properties, have you added .displayName in addition to .name (programmatic access) for each of the new properties?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For documentation related changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Have you ensured that format looks appropriate for the output in which it is rendered?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Note:&lt;br/&gt;
    Please ensure that once the PR is submitted, you check travis-ci for build issues and submit an update to your PR as soon as possible.&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/mattyb149/nifi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/mattyb149/nifi&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2717.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2717.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2717&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit 80377819678d373951e047ca5f6a5f591eb4efc2&lt;br/&gt;
Author: Matthew Burgess &amp;lt;mattyb149@...&amp;gt;&lt;br/&gt;
Date:   2018-05-18T00:48:36Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Fixed MockPropertyValue to call the correct evaluateAttributeExpressions when FF is null&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16479983" author="githubbot" created="Fri, 18 May 2018 01:33:24 +0000"  >&lt;p&gt;Github user mattyb149 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2717&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2717&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Self-merging since Travis passed and the change is to the test framework.&lt;/p&gt;</comment>
                            <comment id="16479984" author="jira-bot" created="Fri, 18 May 2018 01:34:02 +0000"  >&lt;p&gt;Commit 29e96ed0e0b63bc2f5b0f07751fe7efbc10f18ab in nifi&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ca9mbu&quot; class=&quot;user-hover&quot; rel=&quot;ca9mbu&quot;&gt;ca9mbu&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=29e96ed&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=nifi.git;h=29e96ed&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;: Fixed MockPropertyValue to call the correct evaluateAttributeExpressions when FF is null&lt;/p&gt;

&lt;p&gt;Signed-off-by: Matthew Burgess &amp;lt;mattyb149@apache.org&amp;gt;&lt;/p&gt;

&lt;p&gt;This closes #2717&lt;/p&gt;</comment>
                            <comment id="16479985" author="githubbot" created="Fri, 18 May 2018 01:34:34 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2717&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2717&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16497340" author="githubbot" created="Thu, 31 May 2018 23:40:16 +0000"  >&lt;p&gt;GitHub user MikeThomsen opened a pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed evaluateAttributeExpressions in mockpropertyvalue to &#8230;&lt;/p&gt;

&lt;p&gt;    &#8230;make it handle null flowfiles.&lt;/p&gt;

&lt;p&gt;    Thank you for submitting a contribution to Apache NiFi.&lt;/p&gt;

&lt;p&gt;    In order to streamline the review of the contribution we ask you&lt;br/&gt;
    to ensure the following steps have been taken:&lt;/p&gt;

&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For all changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Is there a JIRA ticket associated with this PR? Is it referenced&lt;br/&gt;
         in the commit message?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Does your PR title start with NIFI-XXXX where XXXX is the JIRA number you are trying to resolve? Pay particular attention to the hyphen &quot;-&quot; character.&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Has your PR been rebased against the latest commit within the target branch (typically master)?&lt;/li&gt;
&lt;/ul&gt;


&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Is your initial contribution a single, squashed commit?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For code changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Have you ensured that the full suite of tests is executed via mvn -Pcontrib-check clean install at the root nifi folder?&lt;/li&gt;
	&lt;li&gt;[ ] Have you written or updated unit tests to verify your changes?&lt;/li&gt;
	&lt;li&gt;[ ] If adding new dependencies to the code, are these dependencies licensed in a way that is compatible for inclusion under &lt;span class=&quot;error&quot;&gt;&amp;#91;ASF 2.0&amp;#93;&lt;/span&gt;(&lt;a href=&quot;http://www.apache.org/legal/resolved.html#category-a)?&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://www.apache.org/legal/resolved.html#category-a)?&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;[ ] If applicable, have you updated the LICENSE file, including the main LICENSE file under nifi-assembly?&lt;/li&gt;
	&lt;li&gt;[ ] If applicable, have you updated the NOTICE file, including the main NOTICE file found under nifi-assembly?&lt;/li&gt;
	&lt;li&gt;[ ] If adding new Properties, have you added .displayName in addition to .name (programmatic access) for each of the new properties?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;For documentation related changes:&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;[ ] Have you ensured that format looks appropriate for the output in which it is rendered?&lt;/li&gt;
&lt;/ul&gt;


&lt;ol&gt;
	&lt;li&gt;
	&lt;ol&gt;
		&lt;li&gt;
		&lt;ol&gt;
			&lt;li&gt;Note:&lt;br/&gt;
    Please ensure that once the PR is submitted, you check travis-ci for build issues and submit an update to your PR as soon as possible.&lt;/li&gt;
		&lt;/ol&gt;
		&lt;/li&gt;
	&lt;/ol&gt;
	&lt;/li&gt;
&lt;/ol&gt;



&lt;p&gt;You can merge this pull request into a Git repository by running:&lt;/p&gt;

&lt;p&gt;    $ git pull &lt;a href=&quot;https://github.com/MikeThomsen/nifi&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/MikeThomsen/nifi&lt;/a&gt; &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Alternatively you can review and apply these changes as the patch at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749.patch&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749.patch&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;To close this pull request, make a commit to your master/trunk branch&lt;br/&gt;
with (at least) the following in the commit message:&lt;/p&gt;

&lt;p&gt;    This closes #2749&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;commit db4114a653474d55a0bd8472e8f21bc755b8e2be&lt;br/&gt;
Author: Mike Thomsen &amp;lt;mikerthomsen@...&amp;gt;&lt;br/&gt;
Date:   2018-05-31T23:39:05Z&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://issues.apache.org/jira/browse/NIFI-5145&quot; title=&quot;MockPropertyValue.evaluateExpressionLanguage(FlowFile) cannot handle null inputs&quot; class=&quot;issue-link&quot; data-issue-key=&quot;NIFI-5145&quot;&gt;&lt;del&gt;NIFI-5145&lt;/del&gt;&lt;/a&gt; Fixed evaluateAttributeExpressions in mockpropertyvalue to make it handle null flowfiles.&lt;/p&gt;

&lt;hr /&gt;</comment>
                            <comment id="16497951" author="githubbot" created="Fri, 1 Jun 2018 12:54:24 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @joewitt can you review this commit?&lt;/p&gt;</comment>
                            <comment id="16498041" author="githubbot" created="Fri, 1 Jun 2018 14:11:44 +0000"  >&lt;p&gt;Github user mattyb149 commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749#discussion_r192408467&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749#discussion_r192408467&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/main/java/org/apache/nifi/processors/standard/ListFileTransfer.java &amp;#8212;&lt;br/&gt;
    @@ -43,7 +43,7 @@&lt;br/&gt;
             .description(&quot;The fully qualified hostname or IP address of the remote system&quot;)&lt;br/&gt;
             .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)&lt;br/&gt;
             .required(true)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.expressionLanguageSupported(ExpressionLanguageScope.VARIABLE_REGISTRY)&lt;br/&gt;
    +        .expressionLanguageSupported(ExpressionLanguageScope.FLOWFILE_ATTRIBUTES)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    According to &lt;span class=&quot;error&quot;&gt;&amp;#91;this&amp;#93;&lt;/span&gt;(&lt;a href=&quot;https://github.com/apache/nifi/pull/2749/files#diff-a68a345757d54ad30f79658062d6e794R76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749/files#diff-a68a345757d54ad30f79658062d6e794R76&lt;/a&gt;), the attributes will not be populated with the right information if the attributes come in from flow files as no FlowFile is passed in. &lt;/p&gt;

&lt;p&gt;    This is a weird thing because ListFTP declares a property HOSTNAME that had EL scope VARIABLE_REGISTRY. But it also creates an FTPTransfer object which declares a HOSTNAME property that has EL scope FLOWFILES. Because they have the same name, the context fetches the FTPTransfer property but gets ListFTP&apos;s property instead. Then it calls evaluateAttributeExpressions(flowFile), but that violates ListFTP&apos;s HOSTNAME EL scope.&lt;/p&gt;

&lt;p&gt;    This fix prevents the violation, but the attributes would still be incorrect right? I mention that because I thought of applying this same fix but instead put in the one from #2717 &lt;/p&gt;</comment>
                            <comment id="16498154" author="githubbot" created="Fri, 1 Jun 2018 15:57:04 +0000"  >&lt;p&gt;Github user MikeThomsen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749#discussion_r192440580&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749#discussion_r192440580&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/main/java/org/apache/nifi/processors/standard/ListFileTransfer.java &amp;#8212;&lt;br/&gt;
    @@ -43,7 +43,7 @@&lt;br/&gt;
             .description(&quot;The fully qualified hostname or IP address of the remote system&quot;)&lt;br/&gt;
             .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)&lt;br/&gt;
             .required(true)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.expressionLanguageSupported(ExpressionLanguageScope.VARIABLE_REGISTRY)&lt;br/&gt;
    +        .expressionLanguageSupported(ExpressionLanguageScope.FLOWFILE_ATTRIBUTES)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    Your first link raises a good point about the FTP issue. Do you want to separate this into two tickets with the understanding that the immediate fix will break the master build (due to the FTP processors) but address the issue or do it all here?&lt;/p&gt;

&lt;p&gt;    @joewitt &lt;/p&gt;</comment>
                            <comment id="16498227" author="githubbot" created="Fri, 1 Jun 2018 16:57:16 +0000"  >&lt;p&gt;Github user MikeThomsen commented on a diff in the pull request:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749#discussion_r192455843&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749#discussion_r192455843&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    &amp;#8212; Diff: nifi-nar-bundles/nifi-standard-bundle/nifi-standard-processors/src/main/java/org/apache/nifi/processors/standard/ListFileTransfer.java &amp;#8212;&lt;br/&gt;
    @@ -43,7 +43,7 @@&lt;br/&gt;
             .description(&quot;The fully qualified hostname or IP address of the remote system&quot;)&lt;br/&gt;
             .addValidator(StandardValidators.NON_EMPTY_VALIDATOR)&lt;br/&gt;
             .required(true)&lt;/p&gt;
&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
	&lt;li&gt;.expressionLanguageSupported(ExpressionLanguageScope.VARIABLE_REGISTRY)&lt;br/&gt;
    +        .expressionLanguageSupported(ExpressionLanguageScope.FLOWFILE_ATTRIBUTES)
	&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
		&lt;li&gt;
		&lt;ul class=&quot;alternate&quot; type=&quot;square&quot;&gt;
			&lt;li&gt;End diff &amp;#8211;&lt;/li&gt;
		&lt;/ul&gt;
		&lt;/li&gt;
	&lt;/ul&gt;
	&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;    I spent some time trying to untangle it and found that the reuse of some of these property descriptors between the FTP processors, combine with the processors having different input requirements wrecked havoc on the test framework. So I think we&apos;re going to need to commit the bare minimum fix here and do a separate ticket to refactor the FTP processors.&lt;/p&gt;</comment>
                            <comment id="16503172" author="githubbot" created="Wed, 6 Jun 2018 11:41:50 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @markap14 can you review? Since you brought this up on the dev list, here&apos;s the simple summary:&lt;/p&gt;

&lt;p&gt;    The test framework is too strict on processors where input is optional. In those cases, it&apos;s common to just call `evaluateExpressionLanguage` with a null flowfile, but the test framework won&apos;t allow that. So it reports false negatives on execution that would go through with live execution of the processors.&lt;/p&gt;</comment>
                            <comment id="16503174" author="githubbot" created="Wed, 6 Jun 2018 11:43:07 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @alopresto can you review? See comment above.&lt;/p&gt;</comment>
                            <comment id="16504628" author="githubbot" created="Thu, 7 Jun 2018 12:48:24 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @joewitt can you review?&lt;/p&gt;</comment>
                            <comment id="16510003" author="githubbot" created="Tue, 12 Jun 2018 18:35:29 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @mattyb149 can we close this out?&lt;/p&gt;</comment>
                            <comment id="16510162" author="githubbot" created="Tue, 12 Jun 2018 20:30:05 +0000"  >&lt;p&gt;Github user mattyb149 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    What is the current state of this PR? The tests are passing but they were before that. Does ListFTP or some processor break without this fix? If not, one comment above implies something would be broken without another Jira/PR on its heels. I thought because of the issue between FTPTransfer and ListFTP&apos;s properties, the flow file attributes won&apos;t be honored?&lt;/p&gt;</comment>
                            <comment id="16513344" author="githubbot" created="Fri, 15 Jun 2018 05:05:23 +0000"  >&lt;p&gt;Github user alopresto commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    Sorry, I didn&apos;t get a notification about this one. I&apos;ve been working on some other things but will see if I can look at this tomorrow. It&apos;s 50/50 right now. &lt;/p&gt;</comment>
                            <comment id="16515607" author="githubbot" created="Mon, 18 Jun 2018 11:37:44 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @mattyb149 @alopresto I backed out the FTP-related changes and put a temporary fix in there that handles the edge case that was impacting the FTP processors. There are two cases that cause trouble right now:&lt;/p&gt;

&lt;p&gt;    1. You pass a null flowfile to the `evaluateExpressionLanguage(FlowFile)` method while it is set to use flowfile attributes.&lt;br/&gt;
    2. You pass a null flowfile to that method when it is set to use the variable registry.&lt;/p&gt;

&lt;p&gt;    Since, for the time being, the execution framework doesn&apos;t care about these things, I think this should work as a solution until that changes.&lt;/p&gt;</comment>
                            <comment id="16515609" author="githubbot" created="Mon, 18 Jun 2018 11:39:53 +0000"  >&lt;p&gt;Github user MikeThomsen commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    @mattyb149 Regarding your question about what is blocked by this PR, there are some integration tests in the Mongo package that break without this because the Mongo processors have optional input. Anything with optional input would break without this because you have to have the test framework take a laissez faire attitude toward null flowfiles just like the execution framework does. When no connection is there, all flowfiles passed in will be null and I don&apos;t think forcing a null check in each processor is as clean as funneling that null check into the evaluateExpressionLanguage methods.&lt;/p&gt;</comment>
                            <comment id="16515681" author="githubbot" created="Mon, 18 Jun 2018 13:14:39 +0000"  >&lt;p&gt;Github user mattyb149 commented on the issue:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;    +1 LGTM, let&apos;s tackle the FTP stuff in a different Jira. Thanks for the improvement! Merging to master&lt;/p&gt;</comment>
                            <comment id="16515682" author="githubbot" created="Mon, 18 Jun 2018 13:15:16 +0000"  >&lt;p&gt;Github user asfgit closed the pull request at:&lt;/p&gt;

&lt;p&gt;    &lt;a href=&quot;https://github.com/apache/nifi/pull/2749&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/nifi/pull/2749&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            7 years, 21 weeks, 5 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3taqf:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>