<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:13:31 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BCEL-188] Invalid verification of the returned value of a method</title>
                <link>https://issues.apache.org/jira/browse/BCEL-188</link>
                <project id="12314220" key="BCEL">Commons BCEL</project>
                    <description>&lt;p&gt;The bytecode generated from the following code produces a verification error:&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;    &lt;span class=&quot;code-keyword&quot;&gt;public&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;static&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt; test(){
        &lt;span class=&quot;code-keyword&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;code-keyword&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;code-object&quot;&gt;Object&lt;/span&gt;();
    }
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Here is the error message:&lt;/p&gt;
&lt;blockquote&gt;
&lt;p&gt;Pass 3b, method number 2 [&apos;public static Object test()&apos;]:&lt;br/&gt;
VERIFIED_REJECTED&lt;br/&gt;
Constraint violated in method &apos;public static Object test()&apos;:&lt;br/&gt;
Returned type void does not match Method&apos;s return type java.lang.Object&lt;/p&gt;&lt;/blockquote&gt;

&lt;p&gt;The problem also occurs for all kind of returned value: primitive types (byte, int, etc.), array , null, object, &#8230;&lt;/p&gt;</description>
                <environment></environment>
        <key id="12765098">BCEL-188</key>
            <summary>Invalid verification of the returned value of a method</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="jejecool">J&#233;r&#244;me Leroux</reporter>
                        <labels>
                    </labels>
                <created>Tue, 6 Jan 2015 11:41:33 +0000</created>
                <updated>Thu, 14 Jul 2016 12:48:33 +0000</updated>
                            <resolved>Sat, 7 Mar 2015 19:39:31 +0000</resolved>
                                                    <fixVersion>6.0</fixVersion>
                                    <component>Verifier</component>
                        <due></due>
                            <votes>1</votes>
                                    <watches>3</watches>
                                    <workratio workratioPercent="0"/>
                                    <progress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </progress>
                                    <aggregateprogress percentage="0">
                                    <originalProgress>
                                                    <row percentage="100" backgroundColor="#89afd7"/>
                                            </originalProgress>
                                                    <currentProgress>
                                                    <row percentage="0" backgroundColor="#51a825"/>
                                                    <row percentage="100" backgroundColor="#ec8e00"/>
                                            </currentProgress>
                            </aggregateprogress>
                                    <timeoriginalestimate seconds="14400">4h</timeoriginalestimate>
                            <timeestimate seconds="14400">4h</timeestimate>
                                        <comments>
                            <comment id="14266001" author="jejecool" created="Tue, 6 Jan 2015 11:42:55 +0000"  >&lt;p&gt;Attach patch with:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-188&quot; title=&quot;Invalid verification of the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-188&quot;&gt;&lt;del&gt;BCEL-188&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Test for &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-188&quot; title=&quot;Invalid verification of the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-188&quot;&gt;&lt;del&gt;BCEL-188&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="14266016" author="ebourg" created="Tue, 6 Jan 2015 11:59:33 +0000"  >&lt;p&gt;Thank you for the patch J&#233;r&#244;me. Do you have the &lt;tt&gt;TestReturn01.class&lt;/tt&gt; file you crafted with the invalid return?&lt;/p&gt;</comment>
                            <comment id="14266058" author="jejecool" created="Tue, 6 Jan 2015 13:05:12 +0000"  >&lt;p&gt;I didn&apos;t split correctly the test. The &lt;tt&gt;TestReturn01.class&lt;/tt&gt; file is available in the zip attached to &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-184&quot; title=&quot;JustIce verifier does not check correctly the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-184&quot;&gt;&lt;del&gt;BCEL-184&lt;/del&gt;&lt;/a&gt; (&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/12687705/BCEL-184.zip&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/secure/attachment/12687705/BCEL-184.zip&lt;/a&gt;)&lt;/p&gt;</comment>
                            <comment id="14270749" author="jejecool" created="Fri, 9 Jan 2015 08:24:13 +0000"  >&lt;p&gt;Attach new patch with (supersedes the previous one &lt;tt&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-188&quot; title=&quot;Invalid verification of the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-188&quot;&gt;&lt;del&gt;BCEL-188&lt;/del&gt;&lt;/a&gt;.patch&lt;/tt&gt;):&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-188&quot; title=&quot;Invalid verification of the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-188&quot;&gt;&lt;del&gt;BCEL-188&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Test for &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-188&quot; title=&quot;Invalid verification of the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-188&quot;&gt;&lt;del&gt;BCEL-188&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Previous patch does not manage &lt;tt&gt;byte&lt;/tt&gt; type in &lt;tt&gt;Type.normalizeForStackOrLocal()&lt;/tt&gt;. New patch handles them correctly and also adds a new test.&lt;/p&gt;</comment>
                            <comment id="14271106" author="jejecool" created="Fri, 9 Jan 2015 15:09:52 +0000"  >&lt;p&gt;Attach patch with:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Fix for &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-188&quot; title=&quot;Invalid verification of the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-188&quot;&gt;&lt;del&gt;BCEL-188&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
	&lt;li&gt;Test for &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-188&quot; title=&quot;Invalid verification of the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-188&quot;&gt;&lt;del&gt;BCEL-188&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;Attach zip with:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;Classfile for test for &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-188&quot; title=&quot;Invalid verification of the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-188&quot;&gt;&lt;del&gt;BCEL-188&lt;/del&gt;&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;This patch supersedes previous patches.&lt;br/&gt;
Fix error when returning arrays and error when returning null.&lt;/p&gt;</comment>
                            <comment id="14351216" author="sarahkm1972" created="Sat, 7 Mar 2015 00:26:35 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=jejecool&quot; class=&quot;user-hover&quot; rel=&quot;jejecool&quot;&gt;jejecool&lt;/a&gt; can you add the source for the classfile as well?&lt;/p&gt;</comment>
                            <comment id="14351759" author="markt" created="Sat, 7 Mar 2015 19:39:31 +0000"  >&lt;p&gt;Patch applied. Mnay thanks. It still would be nice to get some form of source for the class file.&lt;/p&gt;</comment>
                            <comment id="14354545" author="jejecool" created="Tue, 10 Mar 2015 08:37:57 +0000"  >&lt;p&gt;The invalid classfiles defined in these tests cannot be generated from Java source. Currently, to produce them I modify a valid classfile with a disassembler.&lt;br/&gt;
This method is not the best to obtain something documented well &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/sad.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;br/&gt;
&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=ebourg&quot; class=&quot;user-hover&quot; rel=&quot;ebourg&quot;&gt;ebourg&lt;/a&gt; suggests in &lt;a href=&quot;https://issues.apache.org/jira/browse/BCEL-184&quot; title=&quot;JustIce verifier does not check correctly the returned value of a method&quot; class=&quot;issue-link&quot; data-issue-key=&quot;BCEL-184&quot;&gt;&lt;del&gt;BCEL-184&lt;/del&gt;&lt;/a&gt; to use Jasmin to generate these classfiles.&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="12691083" name="BCEL-188-2.patch" size="13246" author="jejecool" created="Fri, 9 Jan 2015 08:24:13 +0000"/>
                            <attachment id="12691155" name="BCEL-188-3.patch" size="16187" author="jejecool" created="Fri, 9 Jan 2015 15:09:52 +0000"/>
                            <attachment id="12691156" name="BCEL-188-3.zip" size="512" author="jejecool" created="Fri, 9 Jan 2015 15:09:52 +0000"/>
                            <attachment id="12690324" name="BCEL-188.patch" size="13147" author="jejecool" created="Tue, 6 Jan 2015 11:42:55 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>4.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            10 years, 36 weeks, 4 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i23ziv:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                    <customfield id="customfield_12311021" key="com.atlassian.jira.plugin.system.customfieldtypes:select">
                        <customfieldname>Severity</customfieldname>
                        <customfieldvalues>
                                <customfieldvalue key="10562"><![CDATA[major]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>