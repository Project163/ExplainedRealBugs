<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 17:14:42 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[BCEL-370] CONSTANT_Dynamic is not handled in LDC</title>
                <link>https://issues.apache.org/jira/browse/BCEL-370</link>
                <project id="12314220" key="BCEL">Commons BCEL</project>
                    <description>&lt;p&gt;The &lt;a href=&quot;https://github.com/apache/commons-bcel/blob/master/src/main/java/org/apache/bcel/generic/LDC.java&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;org.apache.bcel.generic.LDC&lt;/a&gt; class does not support &lt;a href=&quot;https://github.com/apache/commons-bcel/blob/master/src/main/java/org/apache/bcel/Const.java#L683C52-L683C52&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Const.CONSTANT_Dynamic&lt;/a&gt; (Condy, Dynamic class-file constant) in the following methods:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;&lt;tt&gt;public Type getType(final ConstantPoolGen cpg);&lt;/tt&gt;&lt;/li&gt;
	&lt;li&gt;&lt;tt&gt;public Object getValue(final ConstantPoolGen cpg);&lt;/tt&gt;&lt;/li&gt;
&lt;/ul&gt;


&lt;p&gt;JaCoCo &amp;gt;= 0.8.4 (see &lt;a href=&quot;https://github.com/jacoco/jacoco/pull/845&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;jacoco/pull/845&lt;/a&gt;) creates class files which have Constant_Dynamic. When visiting the instructions of a method and calling either of the mentioned method of LDC, an IllegalArgumentException occurs: &quot;&lt;tt&gt;Unknown or invalid constant type at 32&lt;/tt&gt;&quot;.&lt;/p&gt;

&lt;p&gt;This error causes a problem, when someone tries to analyze a class file containing condy with spotbugs, which uses BCEL. The error was originally found in spotbugs (see &lt;a href=&quot;https://github.com/spotbugs/spotbugs/issues/2503&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;spotbugs/issues/2503&lt;/a&gt; and &lt;a href=&quot;https://github.com/spotbugs/spotbugs/pull/2512&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;spotbugs/pull/2512&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Attached a class built by Java 17 and JaCoCo 0.8.9., the source of this file is &lt;a href=&quot;https://github.com/spotbugs/spotbugs/issues/2503#issuecomment-1679085646&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;spotbugs/issues/2503/comment&lt;/a&gt;.&lt;br/&gt;
The issue can be reproduced by calling the &lt;a href=&quot;https://github.com/apache/commons-bcel/blob/master/src/test/java/org/apache/bcel/generic/TypeTestCase.java#L71&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;org.apache.bcel.generic.TypeTestCase.testLDC(String className)&lt;/a&gt; method with the attached class file as a parameter.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13553489">BCEL-370</key>
            <summary>CONSTANT_Dynamic is not handled in LDC</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="5" iconUrl="https://issues.apache.org/jira/images/icons/statuses/resolved.png" description="A resolution has been taken, and it is awaiting verification by reporter. From here issues are either reopened, or are closed.">Resolved</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="juditknoll">Judit Knoll</reporter>
                        <labels>
                    </labels>
                <created>Tue, 10 Oct 2023 08:27:32 +0000</created>
                <updated>Tue, 9 Jan 2024 07:57:24 +0000</updated>
                            <resolved>Sat, 6 Jan 2024 20:42:27 +0000</resolved>
                                    <version>6.7.0</version>
                                    <fixVersion>6.8.1</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>3</watches>
                                                                                                                <comments>
                            <comment id="17773655" author="garydgregory" created="Tue, 10 Oct 2023 12:01:04 +0000"  >&lt;p&gt;Hi &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=juditknoll&quot; class=&quot;user-hover&quot; rel=&quot;juditknoll&quot;&gt;juditknoll&lt;/a&gt;&#160;&lt;/p&gt;

&lt;p&gt;Thank you for your report.&lt;/p&gt;

&lt;p&gt;Feel free to create a PR on GitHub with a unit test &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/wink.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="17803862" author="garydgregory" created="Sat, 6 Jan 2024 20:42:27 +0000"  >&lt;p&gt;PR merged to git master.&lt;/p&gt;

&lt;p&gt;Please validate your use case against git master and/or a snapshot build from &lt;a href=&quot;https://repository.apache.org/content/repositories/snapshots/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://repository.apache.org/content/repositories/snapshots/&lt;/a&gt;&lt;/p&gt;</comment>
                    </comments>
                    <attachments>
                            <attachment id="13063443" name="Foo.class" size="770" author="juditknoll" created="Tue, 10 Oct 2023 08:12:06 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311020" key="com.atlassian.jira.plugin.system.customfieldtypes:url">
                        <customfieldname>External issue URL</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[https://github.com/spotbugs/spotbugs/issues/2503]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                            <customfield id="customfield_12314421" key="com.atlassian.jira.plugin.system.customfieldtypes:labels">
                        <customfieldname>Language</customfieldname>
                        <customfieldvalues>
                                        <label>Java</label>
    
                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            1 year, 43 weeks, 6 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                            <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1ku94:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    </customfields>
    </item>
</channel>
</rss>