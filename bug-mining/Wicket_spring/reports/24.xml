<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 22:27:46 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[WICKET-6402] OSGi-Manifest: wicket does not declare BSN</title>
                <link>https://issues.apache.org/jira/browse/WICKET-6402</link>
                <project id="12310561" key="WICKET">Wicket</project>
                    <description>&lt;p&gt;I try to upgrade a project to OSGi and encountered the issue that the current 8.0.0-M6 build seem to have no valid (OSGi-) Manifest&lt;br/&gt;
&lt;span class=&quot;error&quot;&gt;&amp;#91;org.apache.wicket/wicket-util/8.0.0-M6&amp;#93;&lt;/span&gt; is not a valid bundle (bundleSymbolicName and bundleName are null)&lt;/p&gt;

&lt;p&gt;It seems that OSGi-Manifest information is lost on all jar files.&lt;/p&gt;</description>
                <environment></environment>
        <key id="13080816">WICKET-6402</key>
            <summary>OSGi-Manifest: wicket does not declare BSN</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="mgrigorov">Martin Tzvetanov Grigorov</assignee>
                                    <reporter username="laeubi">Christoph L&#228;ubrich</reporter>
                        <labels>
                    </labels>
                <created>Mon, 19 Jun 2017 12:53:26 +0000</created>
                <updated>Fri, 10 Nov 2017 23:29:18 +0000</updated>
                            <resolved>Tue, 20 Jun 2017 08:54:50 +0000</resolved>
                                    <version>8.0.0-M6</version>
                                    <fixVersion>8.0.0-M7</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="16054636" author="mgrigorov" created="Mon, 19 Jun 2017 19:29:53 +0000"  >&lt;p&gt;wicket-util&apos;s META-INF/MANIFEST.MF contains &quot;Bundle-SymbolicName: org.apache.wicket.util&quot;&lt;br/&gt;
hat exactly is wrong with it ? And how to fix it ?&lt;/p&gt;

&lt;p&gt;No one from us uses OSGi, so please suggest what changes have to be applied to improve the OSGi experience!&lt;/p&gt;</comment>
                            <comment id="16055308" author="laeubi" created="Tue, 20 Jun 2017 07:58:02 +0000"  >&lt;p&gt;Hi, I downloaded &lt;a href=&quot;https://mvnrepository.com/artifact/org.apache.wicket/wicket-core/8.0.0-M6&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://mvnrepository.com/artifact/org.apache.wicket/wicket-core/8.0.0-M6&lt;/a&gt;&lt;br/&gt;
The manifest looks like this:&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;Manifest-Version: 1.0
Implementation-Title: Wicket Core
Implementation-Version: 8.0.0-M6
Built-By: andrea
Specification-Vendor: Apache Software Foundation
Specification-Title: Wicket Core
Implementation-Vendor-Id: org.apache.wicket
Created-By: Apache Maven 3.3.9
Build-Jdk: 1.8.0_131
Specification-Version: 8.0
Implementation-URL: http://wicket.apache.org/wicket-core
Implementation-Vendor: Apache Software Foundation
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;So no BSN, no Export/Import headers... Maybe something changed in the packaging between 7 and 8?&lt;br/&gt;
One option to easily improve OSGi-Experience would be to use the felix-bundle plugin &lt;a href=&quot;http://felix.apache.org/documentation/subprojects/apache-felix-maven-bundle-plugin-bnd.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/documentation/subprojects/apache-felix-maven-bundle-plugin-bnd.html&lt;/a&gt; and packaging &quot;bundle&quot; that will compute all headers automatically. For a frist start teh configuration can be as simple as (it could be tweaked later on):&lt;/p&gt;

&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; &amp;lt;plugin&amp;gt;
    &amp;lt;groupId&amp;gt;org.apache.felix&amp;lt;/groupId&amp;gt;
    &amp;lt;artifactId&amp;gt;maven-bundle-plugin&amp;lt;/artifactId&amp;gt;
    &amp;lt;extensions&amp;gt;true&amp;lt;/extensions&amp;gt;
    &amp;lt;configuration&amp;gt;
      &amp;lt;instructions&amp;gt;
        &amp;lt;Export-Package&amp;gt;*&amp;lt;/Export-Package&amp;gt;
        &amp;lt;Import-Package&amp;gt;
          org.apache.wicket.*,
          *;resolution:=optional
        &amp;lt;/Import-Package&amp;gt;
      &amp;lt;/instructions&amp;gt;
    &amp;lt;/configuration&amp;gt;
  &amp;lt;/plugin&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;This produces a good starting point and you can even use this to check semantic versioning between releases (if you are interested) &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/smile.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/p&gt;</comment>
                            <comment id="16055332" author="mgrigorov" created="Tue, 20 Jun 2017 08:16:05 +0000"  >&lt;p&gt;maven-bundle-plugin is already in place and produces all this for me here.&lt;br/&gt;
&lt;a href=&quot;https://github.com/apache/wicket/blob/master/pom.xml#L726-L747&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/master/pom.xml#L726-L747&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16055339" author="mgrigorov" created="Tue, 20 Jun 2017 08:20:23 +0000"  >&lt;p&gt;It must be the maven-jar-plugin because MANIFEST.MF looks good in wicket-core/target/classes/META-INF, but looks bad in wicket-core/target/wicket-core-8.0.0-SNAPSHOT.jar&lt;/p&gt;

&lt;p&gt;Do we need to change the packaging to &quot;bundle&quot; too ?  &lt;a href=&quot;https://github.com/apache/wicket/blob/master/wicket-core/pom.xml#L27&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/wicket/blob/master/wicket-core/pom.xml#L27&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="16055342" author="laeubi" created="Tue, 20 Jun 2017 08:23:33 +0000"  >&lt;p&gt;This looks fine &lt;img class=&quot;emoticon&quot; src=&quot;https://issues.apache.org/jira/images/icons/emoticons/thumbs_up.png&quot; height=&quot;16&quot; width=&quot;16&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt; ... any idea why the files on central is missing the information? I would suggest then to change &lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;Import-Package&amp;gt;org.apache.wicket*&amp;lt;/Import-Package&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;to&lt;/p&gt;
&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;&amp;lt;Import-Package&amp;gt;org.apache.wicket*,*;resolution:=optional&amp;lt;/Import-Package&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;that would list all packages known in advance to be listed at least as optional. In addition, as mentioned in &lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6401&quot; title=&quot;OSGi-Manifest: wicket-util should decalre its dependency to &amp;#39;commons-io&amp;#39; and &amp;#39;commons-fileupload&amp;#39;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6401&quot;&gt;&lt;del&gt;WICKET-6401&lt;/del&gt;&lt;/a&gt; required packages should be marked as those in the indivual sub modules.&lt;/p&gt;
</comment>
                            <comment id="16055347" author="laeubi" created="Tue, 20 Jun 2017 08:26:57 +0000"  >&lt;p&gt;For osgi I normally only use packaging=bundle don&apos;t know if the jar plugin adds any special that requires this packaging type? Since a &quot;bundle&quot; is a jar file also it normaly is no problem to have it bundled just not sure with pom-dependecies that explicitly reference a specific packaging type.&lt;/p&gt;</comment>
                            <comment id="16055365" author="mgrigorov" created="Tue, 20 Jun 2017 08:38:53 +0000"  >&lt;p&gt;Changing the packaging to &quot;bundle&quot; leads to:&lt;/p&gt;

&lt;div class=&quot;code panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;codeContent panelContent&quot;&gt;
&lt;pre class=&quot;code-java&quot;&gt;mvn clean &lt;span class=&quot;code-keyword&quot;&gt;package&lt;/span&gt; -DskipTests 
[INFO] Scanning &lt;span class=&quot;code-keyword&quot;&gt;for&lt;/span&gt; projects...
[ERROR] [ERROR] Some problems were encountered &lt;span class=&quot;code-keyword&quot;&gt;while&lt;/span&gt; processing the POMs:
[ERROR] Unknown packaging: bundle @ org.apache.wicket:wicket-core:[unknown-version], /home/martin/git/apache/wicket/wicket-core/pom.xml, line 27, column 13
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
</comment>
                            <comment id="16055392" author="jira-bot" created="Tue, 20 Jun 2017 08:54:01 +0000"  >&lt;p&gt;Commit 2e8d465c31cf5024c471e1431042c329a822d2fe in wicket&apos;s branch refs/heads/master from &lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=mgrigorov&quot; class=&quot;user-hover&quot; rel=&quot;mgrigorov&quot;&gt;mgrigorov&lt;/a&gt;&lt;br/&gt;
[ &lt;a href=&quot;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2e8d465&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://git-wip-us.apache.org/repos/asf?p=wicket.git;h=2e8d465&lt;/a&gt; ]&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/browse/WICKET-6402&quot; title=&quot;OSGi-Manifest: wicket does not declare BSN&quot; class=&quot;issue-link&quot; data-issue-key=&quot;WICKET-6402&quot;&gt;&lt;del&gt;WICKET-6402&lt;/del&gt;&lt;/a&gt; OSGi-Manifest: wicket does not declare BSN&lt;/p&gt;

&lt;p&gt;Change the packaging type to &quot;bundle&quot;&lt;/p&gt;</comment>
                            <comment id="16055396" author="mgrigorov" created="Tue, 20 Jun 2017 08:54:50 +0000"  >&lt;p&gt;I&apos;ve changed it to &quot;bundle&quot; for all &quot;jar&quot; modules. I hope nothing else broke!&lt;/p&gt;</comment>
                            <comment id="16055401" author="laeubi" created="Tue, 20 Jun 2017 08:59:27 +0000"  >&lt;p&gt;If you search here &lt;a href=&quot;http://felix.apache.org/documentation/subprojects/apache-felix-maven-bundle-plugin-bnd.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;http://felix.apache.org/documentation/subprojects/apache-felix-maven-bundle-plugin-bnd.html&lt;/a&gt; for &quot;Adding OSGi metadata to existing projects without changing the packaging type&quot; they describe a way to keep packaging jar it seems you the need to add&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt; &amp;lt;manifestFile&amp;gt;${project.build.outputDirectory}/META-INF/MANIFEST.MF&amp;lt;/manifestFile&amp;gt;
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;
&lt;p&gt;for the jar plugin so it use the file as its base, maybe this is an alternative solution?&lt;/p&gt;</comment>
                            <comment id="16059465" author="lostiniceland" created="Thu, 22 Jun 2017 14:33:22 +0000"  >&lt;p&gt;Even though the issue is already solved I would like to provide an alternative solution: some time ago, a new &lt;a href=&quot;http://njbartlett.name/2015/03/27/announcing-bnd-maven-plugin.html&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;bnd-maven-plugin&lt;/a&gt; was created which works on standard jar-packaging type.&lt;/p&gt;

&lt;p&gt;The bnd-maven-plugin is imho easier to configure since it uses an additional file (bnd.bnd) next to the pom which contains all OSGi instructions. Version 3.4 of the plugin should be released within the next days. &lt;/p&gt;</comment>
                            <comment id="16059497" author="mgrigorov" created="Thu, 22 Jun 2017 14:56:12 +0000"  >&lt;p&gt;Pull requests/patches are welcome!&lt;/p&gt;

&lt;p&gt;I can only apply your changes and test that they do not break normal Servlet deployments.&lt;br/&gt;
You, the OSGi users, should test that the OSGi configurations are proper and usable.&lt;/p&gt;</comment>
                            <comment id="16190889" author="laeubi" created="Wed, 4 Oct 2017 06:57:36 +0000"  >&lt;p&gt;Manifest-Infos are now back in Wicket, Thanks for fixing this.&lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13080765">WICKET-6401</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                            <issuelinktype id="12310050">
                    <name>Regression</name>
                                            <outwardlinks description="breaks">
                                        <issuelink>
            <issuekey id="13117356">WICKET-6492</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[false]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            8 years, 6 weeks, 3 days ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|i3gfxz:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>