<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:19:29 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MGPG-99] Passcode byte array provided to gpg executable on stdin is not terminated</title>
                <link>https://issues.apache.org/jira/browse/MGPG-99</link>
                <project id="12317521" key="MGPG">Maven GPG Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;We ran into a strange issue using the maven-gpg-plugin with gnu gpg 2.3.7.&lt;/p&gt;

&lt;p&gt;The 2.x versions of gpg prefer to take the passcode for the signing key via stdin and the maven-gpg-plugin does setup the signing process accordingly with the `--passphrase-fd 0` &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/blob/master/src/main/java/org/apache/maven/plugins/gpg/GpgSigner.java#L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;argument&lt;/a&gt; provided to the command process.&lt;/p&gt;

&lt;p&gt;On &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/blob/master/src/main/java/org/apache/maven/plugins/gpg/GpgSigner.java#L106&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Line 106&lt;/a&gt; the passcode is written to as bytes to the input stream that is then provided in &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/blob/master/src/main/java/org/apache/maven/plugins/gpg/GpgSigner.java#L173&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;Line 173&lt;/a&gt; to the gpg process.&lt;/p&gt;

&lt;p&gt;Unfortunately it appears that gpg requires a `CR` or `LF` to recognise that the passcode is provided as arg 0 on stdin. In our case it does not and the process fails with following error: `gpg: signing failed: No pinentry` .&lt;/p&gt;

&lt;p&gt;The use of the loopback pinentry device is properly configured by the plugin but the hint for us was that the gpg executable did not know there was any input on stdin.&lt;/p&gt;

&lt;p&gt;After some experimentation, we found that appending a `CR` character to the passcode will trigger the stdin to provide the passcode to the program.&lt;/p&gt;

&lt;p&gt;This &quot;fix&quot; looks like this in the `settings.xml` file.&lt;/p&gt;

&lt;p&gt;&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13062195/13062195_image-2023-08-15-10-40-10-637.png&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;</description>
                <environment></environment>
        <key id="13547320">MGPG-99</key>
            <summary>Passcode byte array provided to gpg executable on stdin is not terminated</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="4" iconUrl="https://issues.apache.org/jira/images/icons/priorities/minor.svg">Minor</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="cstamas">Tamas Cservenak</assignee>
                                    <reporter username="niels.bertram">Niels Bertram</reporter>
                        <labels>
                    </labels>
                <created>Tue, 15 Aug 2023 00:40:23 +0000</created>
                <updated>Sat, 14 Jun 2025 12:09:15 +0000</updated>
                            <resolved>Tue, 5 Mar 2024 09:05:50 +0000</resolved>
                                    <version>3.1.0</version>
                                    <fixVersion>3.2.0</fixVersion>
                                        <due></due>
                            <votes>0</votes>
                                    <watches>5</watches>
                                                                                                                <comments>
                            <comment id="17823145" author="cstamas" created="Mon, 4 Mar 2024 12:15:11 +0000"  >&lt;p&gt;Using env introduced in &lt;a href=&quot;https://issues.apache.org/jira/browse/MGPG-105&quot; title=&quot;Stop propagating bad practices; but allow for &amp;quot;compat mode&amp;quot;&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MGPG-105&quot;&gt;&lt;del&gt;MGPG-105&lt;/del&gt;&lt;/a&gt; should make it simpler.&lt;/p&gt;</comment>
                            <comment id="17823301" author="githubbot" created="Mon, 4 Mar 2024 19:22:18 +0000"  >&lt;p&gt;cstamas opened a new pull request, #76:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/pull/76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-gpg-plugin/pull/76&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;   When passphrase is being supplied with `--passphrase-fd 0`.&lt;/p&gt;

&lt;p&gt;   &amp;#8212;&lt;/p&gt;

&lt;p&gt;   &lt;a href=&quot;https://issues.apache.org/jira/browse/MGPG-99&quot; class=&quot;external-link&quot; rel=&quot;nofollow&quot;&gt;https://issues.apache.org/jira/browse/MGPG-99&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17823505" author="githubbot" created="Tue, 5 Mar 2024 09:05:44 +0000"  >&lt;p&gt;cstamas merged PR #76:&lt;br/&gt;
URL: &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/pull/76&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://github.com/apache/maven-gpg-plugin/pull/76&lt;/a&gt;&lt;/p&gt;

</comment>
                            <comment id="17883904" author="cstamas" created="Mon, 23 Sep 2024 14:51:42 +0000"  >&lt;p&gt;I know this issue is closed, but possible would like to know following:&lt;/p&gt;
&lt;ul&gt;
	&lt;li&gt;OS&lt;/li&gt;
	&lt;li&gt;Java&lt;/li&gt;
	&lt;li&gt;env (anything specific)&lt;/li&gt;
	&lt;li&gt;Maven version&lt;/li&gt;
&lt;/ul&gt;
</comment>
                            <comment id="17975162" author="JIRAUSER302100" created="Sat, 14 Jun 2025 12:09:15 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/issues/242&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-gpg-plugin#242&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13593090">MGPG-145</issuekey>
        </issuelink>
                            </outwardlinks>
                                                                <inwardlinks description="is related to">
                                        <issuelink>
            <issuekey id="13588787">MGPG-136</issuekey>
        </issuelink>
                            </inwardlinks>
                                    </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13062195" name="image-2023-08-15-10-40-10-637.png" size="11272" author="niels.bertram" created="Tue, 15 Aug 2023 00:40:12 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>1.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z1js80:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>