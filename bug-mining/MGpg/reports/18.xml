<!-- 
RSS generated by JIRA (8.20.10#820010-sha1:ace47f9899e9ee25d7157d59aa17ab06aee30d3d) at Sat Nov 08 20:19:27 UTC 2025

It is possible to restrict the fields that are returned in this document by specifying the 'field' parameter in your request.
For example, to request only the issue key and summary append 'field=key&field=summary' to the URL of your request.
-->
<rss version="0.92" >
<channel>
    <title>ASF JIRA</title>
    <link>https://issues.apache.org/jira</link>
    <description>This file is an XML representation of an issue</description>
    <language>en-uk</language>    <build-info>
        <version>8.20.10</version>
        <build-number>820010</build-number>
        <build-date>22-06-2022</build-date>
    </build-info>


<item>
            <title>[MGPG-79] plugin hangs on first run on Windows Git Bash with Kleopatra</title>
                <link>https://issues.apache.org/jira/browse/MGPG-79</link>
                <project id="12317521" key="MGPG">Maven GPG Plugin (Moved to GitHub Issues)</project>
                    <description>&lt;p&gt;found during release 3.0.0 vote: &lt;a href=&quot;https://lists.apache.org/thread.html/r855a3f8d4b161da297191e5a7ce0e7e5be81895e60fe5b7be16cc604%40%3Cdev.maven.apache.org%3E&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://lists.apache.org/thread.html/r855a3f8d4b161da297191e5a7ce0e7e5be81895e60fe5b7be16cc604%40%3Cdev.maven.apache.org%3E&lt;/a&gt;&lt;/p&gt;

&lt;blockquote&gt;&lt;p&gt;the plugin simply hangs and does not continue if I use 3.0.0 after&lt;br/&gt;
starting Kleopatra (&lt;a href=&quot;https://docs.kde.org/stable5/en/pim/kleopatra/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://docs.kde.org/stable5/en/pim/kleopatra/&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;When I first use 1.6 of the plugin after starting Kleopatra, the&lt;br/&gt;
password dialog pops up (as ususal), the files are signed *and after&lt;br/&gt;
this I am able to use 3.0.0 just fine!*&lt;/p&gt;

&lt;p&gt;So with 3.0.0 the initial communication with the agent seems to be broken...&lt;/p&gt;

&lt;p&gt;$ mvn -version&lt;br/&gt;
Apache Maven 3.6.3 (cecedd343002696d0abb50b32b541b8a6ba2883f)&lt;br/&gt;
Maven home: C:&amp;#95;dev\Maven\latest&lt;br/&gt;
Java version: 11.0.6, vendor: AdoptOpenJDK, runtime: C:&amp;#95;dev\Java\latest&lt;br/&gt;
Default locale: de_DE, platform encoding: Cp1252&lt;br/&gt;
OS name: &quot;windows 10&quot;, version: &quot;10.0&quot;, arch: &quot;amd64&quot;, family: &quot;windows&quot;&lt;/p&gt;

&lt;p&gt;$ gpg --version&lt;br/&gt;
gpg (GnuPG) 2.2.19-unknown&lt;br/&gt;
libgcrypt 1.8.5&lt;/p&gt;

&lt;p&gt;Git Bash.&lt;/p&gt;&lt;/blockquote&gt;</description>
                <environment></environment>
        <key id="13298714">MGPG-79</key>
            <summary>plugin hangs on first run on Windows Git Bash with Kleopatra</summary>
                <type id="1" iconUrl="https://issues.apache.org/jira/secure/viewavatar?size=xsmall&amp;avatarId=21133&amp;avatarType=issuetype">Bug</type>
                                            <priority id="3" iconUrl="https://issues.apache.org/jira/images/icons/priorities/major.svg">Major</priority>
                        <status id="6" iconUrl="https://issues.apache.org/jira/images/icons/statuses/closed.png" description="The issue is considered finished, the resolution is correct. Issues which are not closed can be reopened.">Closed</status>
                    <statusCategory id="3" key="done" colorName="green"/>
                                    <resolution id="1">Fixed</resolution>
                                        <assignee username="-1">Unassigned</assignee>
                                    <reporter username="hboutemy">Herv&#233; Boutemy</reporter>
                        <labels>
                    </labels>
                <created>Thu, 16 Apr 2020 06:20:41 +0000</created>
                <updated>Sat, 14 Jun 2025 12:09:12 +0000</updated>
                            <resolved>Wed, 17 Mar 2021 14:47:40 +0000</resolved>
                                    <version>3.0.0 (cancelled)</version>
                                    <fixVersion>3.0.1</fixVersion>
                                        <due></due>
                            <votes>1</votes>
                                    <watches>11</watches>
                                                                                                                <comments>
                            <comment id="17091478" author="tibor17" created="Fri, 24 Apr 2020 11:15:29 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=famod&quot; class=&quot;user-hover&quot; rel=&quot;famod&quot;&gt;famod&lt;/a&gt;&lt;br/&gt;
Can you attach the Thread dump while the GPG plugin hangs?&lt;br/&gt;
This would simplify our work.&lt;/p&gt;</comment>
                            <comment id="17091877" author="famod" created="Fri, 24 Apr 2020 20:22:37 +0000"  >&lt;p&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/ViewProfile.jspa?name=tibordigana&quot; class=&quot;user-hover&quot; rel=&quot;tibordigana&quot;&gt;tibordigana&lt;/a&gt; I attached the output of &lt;tt&gt;jstack&lt;/tt&gt;: &lt;span class=&quot;nobr&quot;&gt;&lt;a href=&quot;https://issues.apache.org/jira/secure/attachment/13001111/13001111_gpg_jstack.log&quot; title=&quot;gpg_jstack.log attached to MGPG-79&quot;&gt;gpg_jstack.log&lt;sup&gt;&lt;img class=&quot;rendericon&quot; src=&quot;https://issues.apache.org/jira/images/icons/link_attachment_7.gif&quot; height=&quot;7&quot; width=&quot;7&quot; align=&quot;absmiddle&quot; alt=&quot;&quot; border=&quot;0&quot;/&gt;&lt;/sup&gt;&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;This is the process tree:&lt;br/&gt;
&lt;span class=&quot;image-wrap&quot; style=&quot;&quot;&gt;&lt;img src=&quot;https://issues.apache.org/jira/secure/attachment/13001112/13001112_procexplr.PNG&quot; style=&quot;border: 0px solid black&quot; /&gt;&lt;/span&gt;&lt;/p&gt;

&lt;p&gt;The command line of the selected process is:&lt;/p&gt;
&lt;div class=&quot;preformatted panel&quot; style=&quot;border-width: 1px;&quot;&gt;&lt;div class=&quot;preformattedContent panelContent&quot;&gt;
&lt;pre&gt;&quot;C:\Program Files (x86)\GnuPG\bin\gpg.exe&quot;  --pinentry-mode loopback --local-user A18E3376051AAC9D3E67822723BC64F27529BEB6 --armor --detach-sign --output C:\_dev\git\gitflow-incremental-builder\target\gitflow-incremental-builder-3.10.1-SNAPSHOT.jar.asc C:\_dev\git\gitflow-incremental-builder\target\gitflow-incremental-builder-3.10.1-SNAPSHOT.jar
&lt;/pre&gt;
&lt;/div&gt;&lt;/div&gt;</comment>
                            <comment id="17158150" author="lwille" created="Wed, 15 Jul 2020 13:18:25 +0000"  >&lt;p&gt;I hope you&apos;re all well! Is there any progress on this matter? I couldn&apos;t find any further communication about restarting the release vote after closing &lt;a href=&quot;https://issues.apache.org/jira/browse/MGPG-78&quot; title=&quot;gpg version parsing failure on Windows&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MGPG-78&quot;&gt;&lt;del&gt;MGPG-78&lt;/del&gt;&lt;/a&gt;.&lt;/p&gt;</comment>
                            <comment id="17291588" author="frederik.boster" created="Fri, 26 Feb 2021 11:37:01 +0000"  >&lt;p&gt;The root cause is that the &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/blob/8b1ef753e04cb7d61e280966e18560eb915b8678/src/main/java/org/apache/maven/plugins/gpg/GpgSigner.java#L102&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;GpgSigner&lt;/a&gt; always sets the &quot;pinentry-mode&quot; to &quot;loopback&quot; in case a GPG version &amp;gt;= 2.1 is being used.&lt;/p&gt;

&lt;p&gt;With &quot;pinentry-mode&quot; being set to &quot;loopback&quot; the following behavior can be observed:&lt;br/&gt;
If Maven is being run in &quot;non-interactive&quot; mode and the GPG flag &quot;--no-tty&quot; is set it simply fails with &quot;gpg: Sorry, no terminal at all requested - can&apos;t get input&quot;.&lt;br/&gt;
If Maven is being run in &quot;interactive&quot; mode and the GPG flag &quot;&quot;--no-tty&quot; is not set it spawns an input prompt for the passphrase, which causes the plugin to hang indefinitely.&lt;/p&gt;

&lt;p&gt;I submitted &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/pull/9&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;PR #9&lt;/a&gt; in an attempt to fix this issue.&lt;/p&gt;</comment>
                            <comment id="17299002" author="hudson" created="Wed, 10 Mar 2021 17:34:05 +0000"  >&lt;p&gt;Build unstable in Jenkins: Maven &#187; Maven TLP &#187; maven-gpg-plugin &#187; &lt;a href=&quot;https://issues.apache.org/jira/browse/MGPG-79&quot; title=&quot;plugin hangs on first run on Windows Git Bash with Kleopatra&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MGPG-79&quot;&gt;&lt;del&gt;MGPG-79&lt;/del&gt;&lt;/a&gt; #2&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://ci-builds.apache.org/job/Maven/job/maven-box/job/maven-gpg-plugin/job/MGPG-79/2/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Maven/job/maven-box/job/maven-gpg-plugin/job/MGPG-79/2/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17303435" author="hudson" created="Wed, 17 Mar 2021 13:48:42 +0000"  >&lt;p&gt;Build succeeded in Jenkins: Maven &#187; Maven TLP &#187; maven-gpg-plugin &#187; &lt;a href=&quot;https://issues.apache.org/jira/browse/MGPG-79&quot; title=&quot;plugin hangs on first run on Windows Git Bash with Kleopatra&quot; class=&quot;issue-link&quot; data-issue-key=&quot;MGPG-79&quot;&gt;&lt;del&gt;MGPG-79&lt;/del&gt;&lt;/a&gt;B #4&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://ci-builds.apache.org/job/Maven/job/maven-box/job/maven-gpg-plugin/job/MGPG-79B/4/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Maven/job/maven-box/job/maven-gpg-plugin/job/MGPG-79B/4/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17303503" author="hudson" created="Wed, 17 Mar 2021 14:53:37 +0000"  >&lt;p&gt;Build succeeded in Jenkins: Maven &#187; Maven TLP &#187; maven-gpg-plugin &#187; master #24&lt;/p&gt;

&lt;p&gt;See &lt;a href=&quot;https://ci-builds.apache.org/job/Maven/job/maven-box/job/maven-gpg-plugin/job/master/24/&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;https://ci-builds.apache.org/job/Maven/job/maven-box/job/maven-gpg-plugin/job/master/24/&lt;/a&gt;&lt;/p&gt;</comment>
                            <comment id="17975145" author="JIRAUSER302100" created="Sat, 14 Jun 2025 12:09:12 +0000"  >&lt;p&gt;This project has moved from Jira to GitHub Issues. This issue was migrated to &lt;a href=&quot;https://github.com/apache/maven-gpg-plugin/issues/246&quot; class=&quot;external-link&quot; target=&quot;_blank&quot; rel=&quot;nofollow noopener&quot;&gt;apache/maven-gpg-plugin#246&lt;/a&gt;. &lt;/p&gt;</comment>
                    </comments>
                <issuelinks>
                            <issuelinktype id="10030">
                    <name>Reference</name>
                                            <outwardlinks description="relates to">
                                        <issuelink>
            <issuekey id="13478044">HBASE-27312</issuekey>
        </issuelink>
                            </outwardlinks>
                                                        </issuelinktype>
                    </issuelinks>
                <attachments>
                            <attachment id="13001111" name="gpg_jstack.log" size="10403" author="famod" created="Fri, 24 Apr 2020 20:20:17 +0000"/>
                            <attachment id="13001112" name="procexplr.PNG" size="15662" author="famod" created="Fri, 24 Apr 2020 20:20:50 +0000"/>
                    </attachments>
                <subtasks>
                    </subtasks>
                <customfields>
                                                                            <customfield id="customfield_12310310" key="com.atlassian.jira.toolkit:attachments">
                        <customfieldname>Attachment count</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>2.0</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        <customfield id="customfield_12314020" key="com.atlassian.jira.plugins.jira-development-integration-plugin:devsummary">
                        <customfieldname>Development</customfieldname>
                        <customfieldvalues>
                            
                        </customfieldvalues>
                    </customfield>
                                                                                                                        <customfield id="customfield_12313422" key="com.atlassian.jirafisheyeplugin:jobcheckbox">
                        <customfieldname>Enable Automatic Patch Review</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue><![CDATA[no_permission]]></customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    <customfield id="customfield_12310420" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Global Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                        <customfield id="customfield_12312521" key="com.atlassian.jira.toolkit:LastCommentDate">
                        <customfieldname>Last public comment date</customfieldname>
                        <customfieldvalues>
                            21 weeks ago
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                <customfield id="customfield_12311820" key="com.pyxis.greenhopper.jira:gh-lexo-rank">
                        <customfieldname>Rank</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>0|z0dovk:</customfieldvalue>

                        </customfieldvalues>
                    </customfield>
                                                                <customfield id="customfield_12310920" key="com.pyxis.greenhopper.jira:gh-global-rank">
                        <customfieldname>Rank (Obsolete)</customfieldname>
                        <customfieldvalues>
                            <customfieldvalue>9223372036854775807</customfieldvalue>
                        </customfieldvalues>
                    </customfield>
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            </customfields>
    </item>
</channel>
</rss>