{"url":"https://api.github.com/repos/syncthing/syncthing/issues/1092","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/1092/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/1092/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/1092/events","html_url":"https://github.com/syncthing/syncthing/issues/1092","id":51202663,"node_id":"MDU6SXNzdWU1MTIwMjY2Mw==","number":1092,"title":"Drives woken up periodically","user":{"login":"timosl","id":6208555,"node_id":"MDQ6VXNlcjYyMDg1NTU=","avatar_url":"https://avatars.githubusercontent.com/u/6208555?v=4","gravatar_id":"","url":"https://api.github.com/users/timosl","html_url":"https://github.com/timosl","followers_url":"https://api.github.com/users/timosl/followers","following_url":"https://api.github.com/users/timosl/following{/other_user}","gists_url":"https://api.github.com/users/timosl/gists{/gist_id}","starred_url":"https://api.github.com/users/timosl/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/timosl/subscriptions","organizations_url":"https://api.github.com/users/timosl/orgs","repos_url":"https://api.github.com/users/timosl/repos","events_url":"https://api.github.com/users/timosl/events{/privacy}","received_events_url":"https://api.github.com/users/timosl/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":7,"created_at":"2014-12-07T00:47:43Z","updated_at":"2017-06-16T21:10:41Z","closed_at":"2014-12-10T08:19:35Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"I have NAS and a Debian 7 (stable) PC running on my network. The PC runs syncthing (v0.10.9) and has drives mounted from the NAS. Those mounts contain the shared folders from syncthing. The PC never writes data to those folders itself, so I have the rescan intervall set to 12h and until recently, syncthing didn't access the mounts when there was no activity and the NAS was able to put the drives to sleep mode.\n\nHowever, nowadays the drives get woken up once each hour, even if no other nodes are connected to the PC. I ran syncthing with the scanner,files,model,net and discover trace levels set and no warnings or errors popped up when the drives where pulled out of sleep. But I noticed that this seems to happen each time the PC sends an announcement to the discovery server.\n\nUnfortunately, I'm not sure with which version this behaviour started to appear, but I'm fairly certain it was working correctly a month ago.\n\nHere are some logs from the moment the drives were pulled out of sleep mode:\n\n```\n[UTKR7] 2014/12/07 01:27:01.933967 puller.go:137: DEBUG: puller/music@0xc208f1c690 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:02.465351 puller.go:137: DEBUG: puller/pictures@0xc208f1c8c0 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:02.566003 puller.go:137: DEBUG: puller/documents@0xc208f1c5b0 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:02.619405 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:02.934238 puller.go:137: DEBUG: puller/music@0xc208f1c690 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:03.465607 puller.go:137: DEBUG: puller/pictures@0xc208f1c8c0 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:03.566268 puller.go:137: DEBUG: puller/documents@0xc208f1c5b0 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:03.619700 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:03.643719 discover.go:334: DEBUG: discover: read announcement from 192.168.178.24:21025:\n00000000  9d 79 bc 39 00 00 00 20  a4 d5 1f 8f 83 e7 9f e2  |.y.9... ........|\n00000010  31 b1 95 5e 1e fc 48 e1  9e 8e 5b c8 c8 18 46 fb  |1..^..H...[...F.|\n00000020  74 03 c3 34 23 7c 05 a9  00 00 00 01 00 00 00 04  |t..4#|..........|\n00000030  c0 a8 b2 18 00 00 55 f0  00 00 00 00              |......U.....|\n[UTKR7] 2014/12/07 01:27:03.643831 discover.go:334: DEBUG: discover: read announcement from 10.8.0.1:21025:\n00000000  9d 79 bc 39 00 00 00 20  a4 d5 1f 8f 83 e7 9f e2  |.y.9... ........|\n00000010  31 b1 95 5e 1e fc 48 e1  9e 8e 5b c8 c8 18 46 fb  |1..^..H...[...F.|\n00000020  74 03 c3 34 23 7c 05 a9  00 00 00 01 00 00 00 04  |t..4#|..........|\n00000030  c0 a8 b2 18 00 00 55 f0  00 00 00 00              |......U.....|\n[UTKR7] 2014/12/07 01:27:04.265865 discover.go:420: DEBUG: discover: [] from announce.syncthing.net:22026 for NY6JLN4-XOJMZ6F-2NMR5BX-UGVYE2T-LECS6B6-NDQIE37-2245KOY-XAZBEQB\n[UTKR7] 2014/12/07 01:27:04.619964 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:05.620229 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:06.620514 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:07.620834 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:07.974329 discover.go:295: DEBUG: discover: send announcement -> 194.126.249.5:22026\n00000000  9d 79 bc 39 00 00 00 20  a4 d5 1f 8f 83 e7 9f e2  |.y.9... ........|\n00000010  31 b1 95 5e 1e fc 48 e1  9e 8e 5b c8 c8 18 46 fb  |1..^..H...[...F.|\n00000020  74 03 c3 34 23 7c 05 a9  00 00 00 01 00 00 00 00  |t..4#|..........|\n00000030  00 00 55 f0 00 00 00 00                           |..U.....|\n[UTKR7] 2014/12/07 01:27:08.499202 puller.go:137: DEBUG: puller/pictures@0xc208f1c8c0 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:08.621057 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:08.904919 puller.go:137: DEBUG: puller/music@0xc208f1c690 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:09.028715 discover.go:487: DEBUG: discover: announce.syncthing.net:22026: read external:\n00000000  9d 79 bc 39 00 00 00 20  a4 d5 1f 8f 83 e7 9f e2  |.y.9... ........|\n00000010  31 b1 95 5e 1e fc 48 e1  9e 8e 5b c8 c8 18 46 fb  |1..^..H...[...F.|\n00000020  74 03 c3 34 23 7c 05 a9  00 00 00 01 00 00 00 04  |t..4#|..........|\n00000030  5b 60 3d 92 00 00 55 f0  00 00 00 00              |[`=...U.....|\n[UTKR7] 2014/12/07 01:27:09.028865 discover.go:311: DEBUG: discover: announce.syncthing.net:22026 external lookup check: [91.96.61.146:22000]\n[UTKR7] 2014/12/07 01:27:09.499449 puller.go:137: DEBUG: puller/pictures@0xc208f1c8c0 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:09.621294 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:09.905148 puller.go:137: DEBUG: puller/music@0xc208f1c690 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:10.499679 puller.go:137: DEBUG: puller/pictures@0xc208f1c8c0 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:10.543936 puller.go:137: DEBUG: puller/documents@0xc208f1c5b0 skip (curVer == prevVer) 0\n[UTKR7] 2014/12/07 01:27:10.621602 puller.go:137: DEBUG: puller/camera@0xc208bccf50 skip (curVer == prevVer) 0\n```\n","closed_by":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/1092/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/1092/timeline","performed_via_github_app":null,"state_reason":"completed"}