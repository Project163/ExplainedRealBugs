[{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/212144049","html_url":"https://github.com/syncthing/syncthing/issues/2993#issuecomment-212144049","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2993","id":212144049,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjE0NDA0OQ==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-19T21:51:09Z","updated_at":"2016-04-19T21:51:09Z","body":"Steps to repro please?\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/212144049/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/212147067","html_url":"https://github.com/syncthing/syncthing/issues/2993#issuecomment-212147067","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2993","id":212147067,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjE0NzA2Nw==","user":{"login":"alex2108","id":6099511,"node_id":"MDQ6VXNlcjYwOTk1MTE=","avatar_url":"https://avatars.githubusercontent.com/u/6099511?v=4","gravatar_id":"","url":"https://api.github.com/users/alex2108","html_url":"https://github.com/alex2108","followers_url":"https://api.github.com/users/alex2108/followers","following_url":"https://api.github.com/users/alex2108/following{/other_user}","gists_url":"https://api.github.com/users/alex2108/gists{/gist_id}","starred_url":"https://api.github.com/users/alex2108/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex2108/subscriptions","organizations_url":"https://api.github.com/users/alex2108/orgs","repos_url":"https://api.github.com/users/alex2108/repos","events_url":"https://api.github.com/users/alex2108/events{/privacy}","received_events_url":"https://api.github.com/users/alex2108/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-19T21:59:54Z","updated_at":"2016-04-19T22:01:42Z","body":"I have to try this in smaller setup (has to wait until tomorrow), I currently have 4 devices online but I can reproduce it by the following steps:\n- (optional I assume) put some rate limit to have time to observe\n- add file to any folder -> rescan \n- check completion on **another** folder and see how it increases over time starting from 100 until the file is synced, then completion drops to 100%\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/212147067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alex2108","id":6099511,"node_id":"MDQ6VXNlcjYwOTk1MTE=","avatar_url":"https://avatars.githubusercontent.com/u/6099511?v=4","gravatar_id":"","url":"https://api.github.com/users/alex2108","html_url":"https://github.com/alex2108","followers_url":"https://api.github.com/users/alex2108/followers","following_url":"https://api.github.com/users/alex2108/following{/other_user}","gists_url":"https://api.github.com/users/alex2108/gists{/gist_id}","starred_url":"https://api.github.com/users/alex2108/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex2108/subscriptions","organizations_url":"https://api.github.com/users/alex2108/orgs","repos_url":"https://api.github.com/users/alex2108/repos","events_url":"https://api.github.com/users/alex2108/events{/privacy}","received_events_url":"https://api.github.com/users/alex2108/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/212322076","html_url":"https://github.com/syncthing/syncthing/issues/2993#issuecomment-212322076","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2993","id":212322076,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjMyMjA3Ng==","user":{"login":"alex2108","id":6099511,"node_id":"MDQ6VXNlcjYwOTk1MTE=","avatar_url":"https://avatars.githubusercontent.com/u/6099511?v=4","gravatar_id":"","url":"https://api.github.com/users/alex2108","html_url":"https://github.com/alex2108","followers_url":"https://api.github.com/users/alex2108/followers","following_url":"https://api.github.com/users/alex2108/following{/other_user}","gists_url":"https://api.github.com/users/alex2108/gists{/gist_id}","starred_url":"https://api.github.com/users/alex2108/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex2108/subscriptions","organizations_url":"https://api.github.com/users/alex2108/orgs","repos_url":"https://api.github.com/users/alex2108/repos","events_url":"https://api.github.com/users/alex2108/events{/privacy}","received_events_url":"https://api.github.com/users/alex2108/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-20T08:26:13Z","updated_at":"2016-04-20T08:26:13Z","body":"Reproduced with smaller setup using only 2 devices and 2 folder.\n- in my case devices `test1` and `test2` both shared the folders `default` and `testfolder1`\n- `test2` had rate limit of 50 kB/s for up and download\n- `default` has one file `asdf.txt` with some random stuff in it (seems to be needed, first test with empty folder did not work)\n- `testfolder1` started with `test.txt` with some randoms stuff in it (those small files were synced then)\n- add big file `test.mp4` to folder `testfolder1` on device `test1` (was some video I had with ~50MB)\n- test `curl \"[ip and port of device test1]/rest/db/completion?device=ID-OF-TEST2&folder=default\"`\n- get `\"completion\" : 395837540` or something similar\n\nnot checked the code but could it be that temporary index stuff is added to the completion of all folders even if it does not belong to that folder?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/212322076/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"alex2108","id":6099511,"node_id":"MDQ6VXNlcjYwOTk1MTE=","avatar_url":"https://avatars.githubusercontent.com/u/6099511?v=4","gravatar_id":"","url":"https://api.github.com/users/alex2108","html_url":"https://github.com/alex2108","followers_url":"https://api.github.com/users/alex2108/followers","following_url":"https://api.github.com/users/alex2108/following{/other_user}","gists_url":"https://api.github.com/users/alex2108/gists{/gist_id}","starred_url":"https://api.github.com/users/alex2108/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/alex2108/subscriptions","organizations_url":"https://api.github.com/users/alex2108/orgs","repos_url":"https://api.github.com/users/alex2108/repos","events_url":"https://api.github.com/users/alex2108/events{/privacy}","received_events_url":"https://api.github.com/users/alex2108/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/212337487","html_url":"https://github.com/syncthing/syncthing/issues/2993#issuecomment-212337487","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2993","id":212337487,"node_id":"MDEyOklzc3VlQ29tbWVudDIxMjMzNzQ4Nw==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-04-20T08:57:24Z","updated_at":"2016-04-20T08:57:24Z","body":"So there are a few issues here I think. First is probably a race between deregistering a file from temp index and getting an update from a remote device, plus aggregating temp indexes for ignored files.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/212337487/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":644877553,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDY0NDg3NzU1Mw==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/644877553","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"172cbac87730f2228313168119eb5b0cfaf954ff","commit_url":"https://api.github.com/repos/AudriusButkevicius/syncthing/commits/172cbac87730f2228313168119eb5b0cfaf954ff","created_at":"2016-04-28T20:49:13Z","performed_via_github_app":null},{"id":644980005,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDY0NDk4MDAwNQ==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/644980005","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f3fc7815cb78c6d6a5673bd37c74c57790027117","commit_url":"https://api.github.com/repos/AudriusButkevicius/syncthing/commits/f3fc7815cb78c6d6a5673bd37c74c57790027117","created_at":"2016-04-28T22:27:05Z","performed_via_github_app":null},{"id":644980429,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDY0NDk4MDQyOQ==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/644980429","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4123d092c84e05df09120a89c87cf5b721d6b758","commit_url":"https://api.github.com/repos/AudriusButkevicius/syncthing/commits/4123d092c84e05df09120a89c87cf5b721d6b758","created_at":"2016-04-28T22:27:38Z","performed_via_github_app":null},{"id":646798564,"node_id":"MDExOkNsb3NlZEV2ZW50NjQ2Nzk4NTY0","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/646798564","actor":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"29fa05ae0580e9a707171af7f0b00de6b92a5be8","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/29fa05ae0580e9a707171af7f0b00de6b92a5be8","created_at":"2016-05-01T06:49:32Z","state_reason":null,"performed_via_github_app":null},{"id":1127505701,"node_id":"MDEyOkxhYmVsZWRFdmVudDExMjc1MDU3MDE=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/1127505701","actor":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-06-16T21:01:44Z","label":{"name":"frozen-due-to-age","color":"c2e0c6"},"performed_via_github_app":null},{"id":1127505702,"node_id":"MDExOkxvY2tlZEV2ZW50MTEyNzUwNTcwMg==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/1127505702","actor":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2017-06-16T21:01:44Z","lock_reason":null,"performed_via_github_app":null}]