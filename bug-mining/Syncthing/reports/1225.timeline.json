[{"id":4115512827,"node_id":"MDEyOkxhYmVsZWRFdmVudDQxMTU1MTI4Mjc=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4115512827","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-12-15T16:32:36Z","label":{"name":"bug","color":"d93f0b"},"performed_via_github_app":null},{"id":4115512831,"node_id":"MDEyOkxhYmVsZWRFdmVudDQxMTU1MTI4MzE=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4115512831","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2020-12-15T16:32:36Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T09:13:56Z","updated_at":"2020-12-16T09:13:56Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7200","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/7200/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/7200/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/7200/events","html_url":"https://github.com/syncthing/syncthing/pull/7200","id":768615945,"node_id":"MDExOlB1bGxSZXF1ZXN0NTQxMDEwNjc5","number":7200,"title":"lib/db: Remove index ids when dropping folder","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/59","html_url":"https://github.com/syncthing/syncthing/milestone/59","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/59/labels","id":6215237,"node_id":"MDk6TWlsZXN0b25lNjIxNTIzNw==","number":59,"title":"v1.13.0","description":"This release adds configuration options for min/max connections (see https://docs.syncthing.net/advanced/option-connection-limits.html) and moves the storage of pending devices/folders from the config to the database (see https://docs.syncthing.net/dev/rest.html#cluster-endpoints).","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":45,"state":"closed","created_at":"2020-12-15T13:04:43Z","updated_at":"2021-02-02T16:05:22Z","due_on":"2021-02-02T08:00:00Z","closed_at":"2021-02-02T16:05:22Z"},"comments":0,"created_at":"2020-12-16T09:13:56Z","updated_at":"2021-12-22T07:02:47Z","closed_at":"2020-12-21T10:11:00Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:07:32Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77446,"watchers_count":77446,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77446,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/syncthing/syncthing/pulls/7200","html_url":"https://github.com/syncthing/syncthing/pull/7200","diff_url":"https://github.com/syncthing/syncthing/pull/7200.diff","patch_url":"https://github.com/syncthing/syncthing/pull/7200.patch","merged_at":"2020-12-21T10:11:00Z"},"body":"We don't remove index-id entries from the database when removing a folder. I initially thought this is the culprit for https://github.com/syncthing/syncthing/issues/7198, however it is not: We do remove the folder index, thus we cannot reach the existing indexid, even though it still exists, and a new one is created. So all this PR does is clean up those unreachable index ids.","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7200/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/7200/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/746047108","html_url":"https://github.com/syncthing/syncthing/issues/7198#issuecomment-746047108","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/7198","id":746047108,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjA0NzEwOA==","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T10:24:37Z","updated_at":"2020-12-16T10:24:37Z","body":"I am unable to repro. What I did:\r\n\r\n1. Have a folder with a few files and dirs in sync between devices A and B - connection active.\r\n2. Remove the folder on A.\r\n3. Readd the folder on A with same ID but pointing at a new, empty path.\r\n\r\nResult: Files get synced.\r\n\r\nWhat did I do differently?","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/746047108/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/746178057","html_url":"https://github.com/syncthing/syncthing/issues/7198#issuecomment-746178057","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/7198","id":746178057,"node_id":"MDEyOklzc3VlQ29tbWVudDc0NjE3ODA1Nw==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-16T11:58:13Z","updated_at":"2020-12-16T11:58:13Z","body":"So, in my case this was an untrusted folder, being removed and then rm-rf:ed on the untrusted side because it had become full of crap, then re-added. I don't think that should be matter? Will retest.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/746178057/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/750320470","html_url":"https://github.com/syncthing/syncthing/issues/7198#issuecomment-750320470","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/7198","id":750320470,"node_id":"MDEyOklzc3VlQ29tbWVudDc1MDMyMDQ3MA==","user":{"login":"BeayemX","id":3453076,"node_id":"MDQ6VXNlcjM0NTMwNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3453076?v=4","gravatar_id":"","url":"https://api.github.com/users/BeayemX","html_url":"https://github.com/BeayemX","followers_url":"https://api.github.com/users/BeayemX/followers","following_url":"https://api.github.com/users/BeayemX/following{/other_user}","gists_url":"https://api.github.com/users/BeayemX/gists{/gist_id}","starred_url":"https://api.github.com/users/BeayemX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BeayemX/subscriptions","organizations_url":"https://api.github.com/users/BeayemX/orgs","repos_url":"https://api.github.com/users/BeayemX/repos","events_url":"https://api.github.com/users/BeayemX/events{/privacy}","received_events_url":"https://api.github.com/users/BeayemX/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2020-12-23T14:19:56Z","updated_at":"2020-12-23T14:19:56Z","body":"Maybe the problem is related to #7076 ?","author_association":"NONE","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/750320470/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"BeayemX","id":3453076,"node_id":"MDQ6VXNlcjM0NTMwNzY=","avatar_url":"https://avatars.githubusercontent.com/u/3453076?v=4","gravatar_id":"","url":"https://api.github.com/users/BeayemX","html_url":"https://github.com/BeayemX","followers_url":"https://api.github.com/users/BeayemX/followers","following_url":"https://api.github.com/users/BeayemX/following{/other_user}","gists_url":"https://api.github.com/users/BeayemX/gists{/gist_id}","starred_url":"https://api.github.com/users/BeayemX/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/BeayemX/subscriptions","organizations_url":"https://api.github.com/users/BeayemX/orgs","repos_url":"https://api.github.com/users/BeayemX/repos","events_url":"https://api.github.com/users/BeayemX/events{/privacy}","received_events_url":"https://api.github.com/users/BeayemX/received_events","type":"User","user_view_type":"public","site_admin":false}},{"actor":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-14T09:50:30Z","updated_at":"2021-01-14T09:50:30Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7280","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/7280/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/7280/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/7280/events","html_url":"https://github.com/syncthing/syncthing/issues/7280","id":785842454,"node_id":"MDU6SXNzdWU3ODU4NDI0NTQ=","number":7280,"title":"Stopped folder not synchronizing after a rescan","user":{"login":"acolomb","id":6996887,"node_id":"MDQ6VXNlcjY5OTY4ODc=","avatar_url":"https://avatars.githubusercontent.com/u/6996887?v=4","gravatar_id":"","url":"https://api.github.com/users/acolomb","html_url":"https://github.com/acolomb","followers_url":"https://api.github.com/users/acolomb/followers","following_url":"https://api.github.com/users/acolomb/following{/other_user}","gists_url":"https://api.github.com/users/acolomb/gists{/gist_id}","starred_url":"https://api.github.com/users/acolomb/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/acolomb/subscriptions","organizations_url":"https://api.github.com/users/acolomb/orgs","repos_url":"https://api.github.com/users/acolomb/repos","events_url":"https://api.github.com/users/acolomb/events{/privacy}","received_events_url":"https://api.github.com/users/acolomb/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/61","html_url":"https://github.com/syncthing/syncthing/milestone/61","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/61/labels","id":6390092,"node_id":"MDk6TWlsZXN0b25lNjM5MDA5Mg==","number":61,"title":"v1.14.0","description":"This release adds configurable device and folder defaults.\r\n\r\nThe output format of the [/rest/db/browse endpoint](https://docs.syncthing.net/rest/db-browse-get.html) has changed.","creator":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":76,"state":"closed","created_at":"2021-02-03T18:59:12Z","updated_at":"2021-03-02T12:44:15Z","due_on":"2021-03-02T08:00:00Z","closed_at":"2021-03-02T12:44:15Z"},"comments":3,"created_at":"2021-01-14T09:48:49Z","updated_at":"2022-01-15T07:02:25Z","closed_at":"2021-01-14T12:29:02Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:07:32Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77446,"watchers_count":77446,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77446,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Seen on Syncthing v1.12.1, Windows 10 64 bit.\r\n\r\nWhen a folder is not available when starting Syncthing (e.g. on removable storage), it will be in the \"Stopped\" state with an appropriate error message \"folder path missing\".  If the physical path becomes available again, a (manual or timed) rescan will usually suffice to get it back into a working state.\r\n\r\nHowever, when a remote device made changes to the folder while it was stopped, the rescan will lead to an \"Out of Sync\" state and the changes are not pulled from a remote device.  They are correctly listed as out of sync items.  Further rescans do not help, only pausing and unpausing the folder makes it work again.\r\n\r\nI expect it to become \"Up to Date\" again after triggering a rescan.  It used to be like that, so looks like a regression in the recently reworked remote index handling.\r\n\r\n### Steps to reproduce\r\n\r\n1. Stop Synchthing on the local device, which mutually shares a folder with a remote device.\r\n2. Move the shared folder path somewhere else so ST won't find it anymoe.\r\n3. Create a new file in the folder on the remote side.\r\n4. Start local ST again and find the folder \"Stopped\" and a warning notification.\r\n5. Wait for the remote device to be connected again.\r\n6. Move the shared folder back into its original location.\r\n7. Press the \"Rescan\" button on the local folder. (Optionally dismiss the notification first.)\r\n8. Find the folder in \"Out of Sync\" state, with the new file listed among unsynchronized items.\r\n9. To fix, pause and then unpause the folder.  Watch it syncing properly and pulling the new file.","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7280/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/7280/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"actor":{"login":"FabianKramm","id":10119814,"node_id":"MDQ6VXNlcjEwMTE5ODE0","avatar_url":"https://avatars.githubusercontent.com/u/10119814?v=4","gravatar_id":"","url":"https://api.github.com/users/FabianKramm","html_url":"https://github.com/FabianKramm","followers_url":"https://api.github.com/users/FabianKramm/followers","following_url":"https://api.github.com/users/FabianKramm/following{/other_user}","gists_url":"https://api.github.com/users/FabianKramm/gists{/gist_id}","starred_url":"https://api.github.com/users/FabianKramm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FabianKramm/subscriptions","organizations_url":"https://api.github.com/users/FabianKramm/orgs","repos_url":"https://api.github.com/users/FabianKramm/repos","events_url":"https://api.github.com/users/FabianKramm/events{/privacy}","received_events_url":"https://api.github.com/users/FabianKramm/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-01-27T12:24:58Z","updated_at":"2021-01-27T12:24:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/rjeczalik/notify/issues/200","repository_url":"https://api.github.com/repos/rjeczalik/notify","labels_url":"https://api.github.com/repos/rjeczalik/notify/issues/200/labels{/name}","comments_url":"https://api.github.com/repos/rjeczalik/notify/issues/200/comments","events_url":"https://api.github.com/repos/rjeczalik/notify/issues/200/events","html_url":"https://github.com/rjeczalik/notify/issues/200","id":795056570,"node_id":"MDU6SXNzdWU3OTUwNTY1NzA=","number":200,"title":"NonrecursiveTree does not watch recreated folders","user":{"login":"FabianKramm","id":10119814,"node_id":"MDQ6VXNlcjEwMTE5ODE0","avatar_url":"https://avatars.githubusercontent.com/u/10119814?v=4","gravatar_id":"","url":"https://api.github.com/users/FabianKramm","html_url":"https://github.com/FabianKramm","followers_url":"https://api.github.com/users/FabianKramm/followers","following_url":"https://api.github.com/users/FabianKramm/following{/other_user}","gists_url":"https://api.github.com/users/FabianKramm/gists{/gist_id}","starred_url":"https://api.github.com/users/FabianKramm/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FabianKramm/subscriptions","organizations_url":"https://api.github.com/users/FabianKramm/orgs","repos_url":"https://api.github.com/users/FabianKramm/repos","events_url":"https://api.github.com/users/FabianKramm/events{/privacy}","received_events_url":"https://api.github.com/users/FabianKramm/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2021-01-27T12:24:58Z","updated_at":"2021-06-12T13:22:26Z","closed_at":"2021-06-12T13:22:26Z","author_association":"CONTRIBUTOR","active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"repository":{"id":23797984,"node_id":"MDEwOlJlcG9zaXRvcnkyMzc5Nzk4NA==","name":"notify","full_name":"rjeczalik/notify","private":false,"owner":{"login":"rjeczalik","id":1162017,"node_id":"MDQ6VXNlcjExNjIwMTc=","avatar_url":"https://avatars.githubusercontent.com/u/1162017?v=4","gravatar_id":"","url":"https://api.github.com/users/rjeczalik","html_url":"https://github.com/rjeczalik","followers_url":"https://api.github.com/users/rjeczalik/followers","following_url":"https://api.github.com/users/rjeczalik/following{/other_user}","gists_url":"https://api.github.com/users/rjeczalik/gists{/gist_id}","starred_url":"https://api.github.com/users/rjeczalik/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/rjeczalik/subscriptions","organizations_url":"https://api.github.com/users/rjeczalik/orgs","repos_url":"https://api.github.com/users/rjeczalik/repos","events_url":"https://api.github.com/users/rjeczalik/events{/privacy}","received_events_url":"https://api.github.com/users/rjeczalik/received_events","type":"User","user_view_type":"public","site_admin":false},"html_url":"https://github.com/rjeczalik/notify","description":"File system event notification library on steroids.","fork":false,"url":"https://api.github.com/repos/rjeczalik/notify","forks_url":"https://api.github.com/repos/rjeczalik/notify/forks","keys_url":"https://api.github.com/repos/rjeczalik/notify/keys{/key_id}","collaborators_url":"https://api.github.com/repos/rjeczalik/notify/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/rjeczalik/notify/teams","hooks_url":"https://api.github.com/repos/rjeczalik/notify/hooks","issue_events_url":"https://api.github.com/repos/rjeczalik/notify/issues/events{/number}","events_url":"https://api.github.com/repos/rjeczalik/notify/events","assignees_url":"https://api.github.com/repos/rjeczalik/notify/assignees{/user}","branches_url":"https://api.github.com/repos/rjeczalik/notify/branches{/branch}","tags_url":"https://api.github.com/repos/rjeczalik/notify/tags","blobs_url":"https://api.github.com/repos/rjeczalik/notify/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/rjeczalik/notify/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/rjeczalik/notify/git/refs{/sha}","trees_url":"https://api.github.com/repos/rjeczalik/notify/git/trees{/sha}","statuses_url":"https://api.github.com/repos/rjeczalik/notify/statuses/{sha}","languages_url":"https://api.github.com/repos/rjeczalik/notify/languages","stargazers_url":"https://api.github.com/repos/rjeczalik/notify/stargazers","contributors_url":"https://api.github.com/repos/rjeczalik/notify/contributors","subscribers_url":"https://api.github.com/repos/rjeczalik/notify/subscribers","subscription_url":"https://api.github.com/repos/rjeczalik/notify/subscription","commits_url":"https://api.github.com/repos/rjeczalik/notify/commits{/sha}","git_commits_url":"https://api.github.com/repos/rjeczalik/notify/git/commits{/sha}","comments_url":"https://api.github.com/repos/rjeczalik/notify/comments{/number}","issue_comment_url":"https://api.github.com/repos/rjeczalik/notify/issues/comments{/number}","contents_url":"https://api.github.com/repos/rjeczalik/notify/contents/{+path}","compare_url":"https://api.github.com/repos/rjeczalik/notify/compare/{base}...{head}","merges_url":"https://api.github.com/repos/rjeczalik/notify/merges","archive_url":"https://api.github.com/repos/rjeczalik/notify/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/rjeczalik/notify/downloads","issues_url":"https://api.github.com/repos/rjeczalik/notify/issues{/number}","pulls_url":"https://api.github.com/repos/rjeczalik/notify/pulls{/number}","milestones_url":"https://api.github.com/repos/rjeczalik/notify/milestones{/number}","notifications_url":"https://api.github.com/repos/rjeczalik/notify/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/rjeczalik/notify/labels{/name}","releases_url":"https://api.github.com/repos/rjeczalik/notify/releases{/id}","deployments_url":"https://api.github.com/repos/rjeczalik/notify/deployments","created_at":"2014-09-08T16:09:34Z","updated_at":"2025-11-02T12:51:24Z","pushed_at":"2024-02-26T20:32:22Z","git_url":"git://github.com/rjeczalik/notify.git","ssh_url":"git@github.com:rjeczalik/notify.git","clone_url":"https://github.com/rjeczalik/notify.git","svn_url":"https://github.com/rjeczalik/notify","homepage":"","size":749,"stargazers_count":924,"watchers_count":924,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":136,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":49,"license":{"key":"mit","name":"MIT License","spdx_id":"MIT","url":"https://api.github.com/licenses/mit","node_id":"MDc6TGljZW5zZTEz"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":false,"topics":["filesystem-events","filesystem-library","golang","notifications"],"visibility":"public","forks":136,"open_issues":49,"watchers":924,"default_branch":"master","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"body":"Hey there! I think I found a rather severe issue on operating systems that use the NonrecurseTree watcher like linux for recursive watches. The problem is that after you create and delete a folder several times, no subsequent events for that folder will be logged anymore.\r\n\r\nI think that the underlying problem is that the non-recursive tree implementation only adds directories to watch and never deletes them from the internal tree structure (except if you call Stop() manually from the outside). This can be seen in the `func (t *nonrecursiveTree) dispatch(c <-chan EventInfo)` function:\r\nhttps://github.com/rjeczalik/notify/blob/e2a77dcc14cf6732bfa4c361554f27dc696d5d79/tree_nonrecursive.go#L67-L75\r\n\r\nHere only 'Create' events are forwarded to the internal handler that adds new watchpoints. However, when a directory is actually removed and recreated, the underlying inotify watch does not work anymore and the tree implementation does not re-add it because it thinks the folder is still being watched, because there is a node for it already in the internal in-memory tree. This means that all subsequent events are lost for this folder and it is essentially unwatched until you restart the complete watcher.\r\n\r\nI guess this could be also the reason for some other issues like #190 or https://github.com/syncthing/syncthing/issues/7198\r\n\r\nThe problem can be reproduced on linux with this snippet:\r\n```\r\npackage main\r\n\r\nimport (\r\n\t\"context\"\r\n\t\"fmt\"\r\n\t\"github.com/rjeczalik/notify\"\r\n\t\"io/ioutil\"\r\n\t\"log\"\r\n\t\"os\"\r\n\t\"path/filepath\"\r\n\t\"time\"\r\n)\r\n\r\nfunc main() {\r\n        // Cleanup test folder if it is still there\r\n\t_ = os.RemoveAll(\"test\")\r\n\terr := os.Mkdir(\"test\", 0777)\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\ttime.Sleep(time.Second)\r\n\r\n        // Start watching\r\n\tctx, _ := context.WithCancel(context.Background())\r\n\teventChan := make(chan notify.EventInfo, 1000)\r\n\terr = notify.Watch(\"./test/...\", eventChan, notify.All)\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\t\r\n\t// Print events\r\n\tgo func(){\r\n\t\tfor {\r\n\t\t\tselect{\r\n\t\t\tcase e := <-eventChan:\r\n\t\t\t\tfmt.Println(e.Path() + \" - \" + e.Event().String())\r\n\t\t\t}\r\n\t\t}\r\n\t}()\r\n\t\r\n\t// 1. Create a folder and a file within it\r\n        // This will create a node in the internal tree for the subfolder test/folder\r\n        // Will create a new inotify watch for the folder\r\n\tfmt.Println(\"######## First ########\")\r\n\terr = recreateFolder(\"test/folder\")\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\t\r\n\t// 2. Create a folder and a file within it again \r\n        // This will set the events for the subfolder test/folder in the internal tree\r\n        // Will create a new inotify watch for the folder because events differ\r\n\ttime.Sleep(time.Second)\r\n\tfmt.Println(\"######## Second ########\")\r\n\terr = recreateFolder(\"test/folder\")\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\t\r\n\t// 3. Create a folder and a file within it yet again\r\n        // This time no new inotify watch will be created, because the events\r\n        // and node already exist in the internal tree and all subsequent events \r\n        // are lost, hence there is no event for the created file here anymore\r\n\ttime.Sleep(time.Second)\r\n\tfmt.Println(\"######## Third ########\")\r\n\terr = recreateFolder(\"test/folder\")\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\r\n\tfmt.Println(\"Done\")\r\n\t<-ctx.Done()\r\n}\r\n\r\nfunc recreateFolder(dir string) error {\r\n\t// Give the sync some time to process events\r\n\t_ = os.RemoveAll(dir)\r\n\terr := os.Mkdir(dir, 0777)\r\n\tif err != nil {\r\n\t\treturn err\r\n\t}\r\n\r\n\ttime.Sleep(time.Second)\r\n\r\n\t// Create a file\r\n\tfmt.Println(\"######## Create File ########\")\r\n\terr = createFile(filepath.Join(dir, \"file\"))\r\n\tif err != nil {\r\n\t\tlog.Fatal(err)\r\n\t}\r\n\treturn nil\r\n}\r\n\r\nfunc createFile(file string) error {\r\n\t// Now create a file to check if we see that\r\n\terr := ioutil.WriteFile(file, []byte(\"abc\"), 0666)\r\n\tif err != nil {\r\n\t\treturn err\r\n\t}\r\n\r\n\ttime.Sleep(time.Second)\r\n\treturn nil\r\n}\r\n```\r\n","reactions":{"url":"https://api.github.com/repos/rjeczalik/notify/issues/200/reactions","total_count":1,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":1},"timeline_url":"https://api.github.com/repos/rjeczalik/notify/issues/200/timeline","performed_via_github_app":null,"state_reason":"completed"}},"event":"cross-referenced"},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/774928208","html_url":"https://github.com/syncthing/syncthing/issues/7198#issuecomment-774928208","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/7198","id":774928208,"node_id":"MDEyOklzc3VlQ29tbWVudDc3NDkyODIwOA==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-02-08T07:14:55Z","updated_at":"2021-02-08T07:14:55Z","body":"(This happened again yesterday, again with an untrusted folder, so it's real and still there. Still requires investigation.)","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/774928208/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":4301721087,"node_id":"MDE3OlJlbmFtZWRUaXRsZUV2ZW50NDMwMTcyMTA4Nw==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4301721087","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"renamed","commit_id":null,"commit_url":null,"created_at":"2021-02-08T07:15:11Z","rename":{"from":"Removing a folder and re-adding it again makes it not sync until restart","to":"Removing a folder and re-adding it again (untrusted) makes it not sync until restart"},"performed_via_github_app":null},{"id":4301721262,"node_id":"MDE0OlVubGFiZWxlZEV2ZW50NDMwMTcyMTI2Mg==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4301721262","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2021-02-08T07:15:15Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-03-21T19:14:58Z","updated_at":"2021-03-21T19:14:58Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7510","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/7510/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/7510/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/7510/events","html_url":"https://github.com/syncthing/syncthing/pull/7510","id":837141964,"node_id":"MDExOlB1bGxSZXF1ZXN0NTk3NTMyMTkz","number":7510,"title":"lib: Handle adding enc folders on an existing conn (fixes #7509)","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/62","html_url":"https://github.com/syncthing/syncthing/milestone/62","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/62/labels","id":6443170,"node_id":"MDk6TWlsZXN0b25lNjQ0MzE3MA==","number":62,"title":"v1.15.0","description":"This release fixes a vulnerability where Syncthing and the relay server can crash due to malformed relay protocol messages (CVE-2021-21404); see https://github.com/syncthing/syncthing/security/advisories/GHSA-x462-89pf-6r5h.\r\n\r\nThis release updates the CLI to use subcommands and adds the subcommands `cli` (previously standalone `stcli` utility) and `decrypt` (for offline verifying and decrypting encrypted folders).\r\n\r\nWith this release we invite everyone to test the \"untrusted (encrypted) devices\" feature. You should not use it yet on important production data. Thus UI controls are hidden behind a feature flag. For more information, visit: \r\nhttps://forum.syncthing.net/t/testing-untrusted-encrypted-devices/16470","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":88,"state":"closed","created_at":"2021-02-17T10:21:38Z","updated_at":"2021-04-29T20:05:04Z","due_on":"2021-04-06T07:00:00Z","closed_at":"2021-04-06T06:17:01Z"},"comments":1,"created_at":"2021-03-21T17:55:20Z","updated_at":"2022-08-11T07:16:25Z","closed_at":"2021-03-22T20:50:20Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:07:32Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77446,"watchers_count":77446,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77446,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/syncthing/syncthing/pulls/7510","html_url":"https://github.com/syncthing/syncthing/pull/7510","diff_url":"https://github.com/syncthing/syncthing/pull/7510.diff","patch_url":"https://github.com/syncthing/syncthing/pull/7510.patch","merged_at":"2021-03-22T20:50:20Z"},"body":"Fixes #7509 by adding a method to the connection to set new folder passwords. This means that any connection may become (partly) encrypted. Thus there's no longer two separate factory methods, but every connection is a `encryptedConnection`.\r\n\r\nThe passwords on the connection are (re-)set when sending cluster-configs, meaning when a new connection is added, when a new folder is added or when a folder changes.","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7510/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/7510/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":4487219761,"node_id":"MDEzOkFzc2lnbmVkRXZlbnQ0NDg3MjE5NzYx","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4487219761","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"assigned","commit_id":null,"commit_url":null,"created_at":"2021-03-21T21:27:12Z","assignee":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"performed_via_github_app":null},{"id":4487223741,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ0ODcyMjM3NDE=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4487223741","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"4564a088a8a631052fc702727315b9fb6791ec03","commit_url":"https://api.github.com/repos/imsodin/syncthing/commits/4564a088a8a631052fc702727315b9fb6791ec03","created_at":"2021-03-21T21:31:38Z","performed_via_github_app":null},{"id":4489068049,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ0ODkwNjgwNDk=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4489068049","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f756b51cd182a299ee8a91d208209cd97240781a","commit_url":"https://api.github.com/repos/imsodin/syncthing/commits/f756b51cd182a299ee8a91d208209cd97240781a","created_at":"2021-03-22T09:52:52Z","performed_via_github_app":null},{"id":4492910755,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ0OTI5MTA3NTU=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4492910755","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"51aeec62544fc560ea1069fb91e047a38e7a7dc7","commit_url":"https://api.github.com/repos/imsodin/syncthing/commits/51aeec62544fc560ea1069fb91e047a38e7a7dc7","created_at":"2021-03-22T23:00:52Z","performed_via_github_app":null},{"id":4495011522,"node_id":"MDExOkNsb3NlZEV2ZW50NDQ5NTAxMTUyMg==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4495011522","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"0d7a77ba85c69f9e427981b906c9a4941c4c0f9c","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/0d7a77ba85c69f9e427981b906c9a4941c4c0f9c","created_at":"2021-03-23T09:38:47Z","state_reason":null,"performed_via_github_app":null},{"id":4495017495,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDQ0OTUwMTc0OTU=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4495017495","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2021-03-23T09:40:01Z","milestone":{"title":"v1.15.0"},"performed_via_github_app":null},{"id":4550641429,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ1NTA2NDE0Mjk=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4550641429","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"d1011dc48a35d69ca94264d4f73a4279ccb81f41","commit_url":"https://api.github.com/repos/calmh/syncthing/commits/d1011dc48a35d69ca94264d4f73a4279ccb81f41","created_at":"2021-04-05T08:13:59Z","performed_via_github_app":null},{"id":4833824949,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4MzM4MjQ5NDk=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4833824949","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0c3f6e82fd719bf687dd268a3dbb7bad8a22ee91","commit_url":"https://api.github.com/repos/imsodin/syncthing/commits/0c3f6e82fd719bf687dd268a3dbb7bad8a22ee91","created_at":"2021-06-02T19:58:47Z","performed_via_github_app":null},{"id":4833830703,"node_id":"MDE1OlJlZmVyZW5jZWRFdmVudDQ4MzM4MzA3MDM=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/4833830703","actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"24905f277b606cc9002f87126a17ccbb0706dc11","commit_url":"https://api.github.com/repos/imsodin/syncthing/commits/24905f277b606cc9002f87126a17ccbb0706dc11","created_at":"2021-06-02T20:00:18Z","performed_via_github_app":null},{"actor":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2021-06-02T20:19:46Z","updated_at":"2021-06-02T20:19:46Z","source":{"type":"issue","issue":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7739","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/7739/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/7739/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/7739/events","html_url":"https://github.com/syncthing/syncthing/pull/7739","id":909852635,"node_id":"MDExOlB1bGxSZXF1ZXN0NjYwMzY1NTM4","number":7739,"title":"lib/model: Fix passwords on receive-enc needing token (ref #7518)","user":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/67","html_url":"https://github.com/syncthing/syncthing/milestone/67","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/67/labels","id":6820000,"node_id":"MDk6TWlsZXN0b25lNjgyMDAwMA==","number":67,"title":"v1.18.0","description":"","creator":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":42,"state":"closed","created_at":"2021-06-03T13:37:34Z","updated_at":"2021-07-06T13:00:30Z","due_on":"2021-07-06T07:00:00Z","closed_at":"2021-07-06T13:00:30Z"},"comments":0,"created_at":"2021-06-02T20:19:46Z","updated_at":"2022-08-11T07:12:40Z","closed_at":"2021-06-03T13:39:49Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"draft":false,"repository":{"id":14712850,"node_id":"MDEwOlJlcG9zaXRvcnkxNDcxMjg1MA==","name":"syncthing","full_name":"syncthing/syncthing","private":false,"owner":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"html_url":"https://github.com/syncthing/syncthing","description":"Open Source Continuous File Synchronization","fork":false,"url":"https://api.github.com/repos/syncthing/syncthing","forks_url":"https://api.github.com/repos/syncthing/syncthing/forks","keys_url":"https://api.github.com/repos/syncthing/syncthing/keys{/key_id}","collaborators_url":"https://api.github.com/repos/syncthing/syncthing/collaborators{/collaborator}","teams_url":"https://api.github.com/repos/syncthing/syncthing/teams","hooks_url":"https://api.github.com/repos/syncthing/syncthing/hooks","issue_events_url":"https://api.github.com/repos/syncthing/syncthing/issues/events{/number}","events_url":"https://api.github.com/repos/syncthing/syncthing/events","assignees_url":"https://api.github.com/repos/syncthing/syncthing/assignees{/user}","branches_url":"https://api.github.com/repos/syncthing/syncthing/branches{/branch}","tags_url":"https://api.github.com/repos/syncthing/syncthing/tags","blobs_url":"https://api.github.com/repos/syncthing/syncthing/git/blobs{/sha}","git_tags_url":"https://api.github.com/repos/syncthing/syncthing/git/tags{/sha}","git_refs_url":"https://api.github.com/repos/syncthing/syncthing/git/refs{/sha}","trees_url":"https://api.github.com/repos/syncthing/syncthing/git/trees{/sha}","statuses_url":"https://api.github.com/repos/syncthing/syncthing/statuses/{sha}","languages_url":"https://api.github.com/repos/syncthing/syncthing/languages","stargazers_url":"https://api.github.com/repos/syncthing/syncthing/stargazers","contributors_url":"https://api.github.com/repos/syncthing/syncthing/contributors","subscribers_url":"https://api.github.com/repos/syncthing/syncthing/subscribers","subscription_url":"https://api.github.com/repos/syncthing/syncthing/subscription","commits_url":"https://api.github.com/repos/syncthing/syncthing/commits{/sha}","git_commits_url":"https://api.github.com/repos/syncthing/syncthing/git/commits{/sha}","comments_url":"https://api.github.com/repos/syncthing/syncthing/comments{/number}","issue_comment_url":"https://api.github.com/repos/syncthing/syncthing/issues/comments{/number}","contents_url":"https://api.github.com/repos/syncthing/syncthing/contents/{+path}","compare_url":"https://api.github.com/repos/syncthing/syncthing/compare/{base}...{head}","merges_url":"https://api.github.com/repos/syncthing/syncthing/merges","archive_url":"https://api.github.com/repos/syncthing/syncthing/{archive_format}{/ref}","downloads_url":"https://api.github.com/repos/syncthing/syncthing/downloads","issues_url":"https://api.github.com/repos/syncthing/syncthing/issues{/number}","pulls_url":"https://api.github.com/repos/syncthing/syncthing/pulls{/number}","milestones_url":"https://api.github.com/repos/syncthing/syncthing/milestones{/number}","notifications_url":"https://api.github.com/repos/syncthing/syncthing/notifications{?since,all,participating}","labels_url":"https://api.github.com/repos/syncthing/syncthing/labels{/name}","releases_url":"https://api.github.com/repos/syncthing/syncthing/releases{/id}","deployments_url":"https://api.github.com/repos/syncthing/syncthing/deployments","created_at":"2013-11-26T09:48:21Z","updated_at":"2025-11-09T22:07:32Z","pushed_at":"2025-11-04T08:20:50Z","git_url":"git://github.com/syncthing/syncthing.git","ssh_url":"git@github.com:syncthing/syncthing.git","clone_url":"https://github.com/syncthing/syncthing.git","svn_url":"https://github.com/syncthing/syncthing","homepage":"https://syncthing.net/","size":124346,"stargazers_count":77446,"watchers_count":77446,"language":"Go","has_issues":true,"has_projects":true,"has_downloads":true,"has_wiki":true,"has_pages":false,"has_discussions":false,"forks_count":4825,"mirror_url":null,"archived":false,"disabled":false,"open_issues_count":361,"license":{"key":"mpl-2.0","name":"Mozilla Public License 2.0","spdx_id":"MPL-2.0","url":"https://api.github.com/licenses/mpl-2.0","node_id":"MDc6TGljZW5zZTE0"},"allow_forking":true,"is_template":false,"web_commit_signoff_required":true,"topics":["go","p2p","peer-to-peer","synchronization"],"visibility":"public","forks":4825,"open_issues":361,"watchers":77446,"default_branch":"main","permissions":{"admin":false,"maintain":false,"push":false,"triage":false,"pull":true}},"pull_request":{"url":"https://api.github.com/repos/syncthing/syncthing/pulls/7739","html_url":"https://github.com/syncthing/syncthing/pull/7739","diff_url":"https://github.com/syncthing/syncthing/pull/7739.diff","patch_url":"https://github.com/syncthing/syncthing/pull/7739.patch","merged_at":"2021-06-03T13:39:49Z"},"body":"I was testing some encryption related UI changes (not this PR) when suddenly all hell broke loose: The trusted side treated received encrypted file indexes like normal files. Reason is that the change in #7198 is just plain broken, luckily it only matters if you have encrypted folders both ways (folder1: A untrusted <-> B, folder2: A <-> B untrusted). That is uncommon enough that no-one seems to have run into it yet - yeii for not cleaning up old test folders on test setups.\r\n\r\nThe completely broken part is returning early from `generateClusterConfig` with `passwords == nil`, and then ignoring that error in `AddConnection`, thus going ahead and calling `Connection.SetPasswords` with a nil map.\r\n\r\nI basically reverted #7518 and to keep #7198 fixed, I added a new check to `CommitConfiguration`: If a receive-encrypted folder changes, and it doesn't have the token yet, don't just resend a cluster config, but drop the connection (to get the token).","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/7739/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/7739/timeline","performed_via_github_app":null,"state_reason":null}},"event":"cross-referenced"},{"id":7169277339,"node_id":"LE_lADOAOCAEs4tw2efzwAAAAGrUn2b","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/7169277339","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2022-08-11T07:19:07Z","label":{"name":"frozen-due-to-age","color":"eeeeee"},"performed_via_github_app":null},{"id":7169277389,"node_id":"LOE_lADOAOCAEs4tw2efzwAAAAGrUn3N","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/7169277389","actor":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2022-08-11T07:19:08Z","lock_reason":null,"performed_via_github_app":null},{"id":12098066530,"node_id":"REFE_lADOAOCAEs4tw2efzwAAAALRGdhi","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/12098066530","actor":{"login":"FaceAce1","id":31513433,"node_id":"MDQ6VXNlcjMxNTEzNDMz","avatar_url":"https://avatars.githubusercontent.com/u/31513433?v=4","gravatar_id":"","url":"https://api.github.com/users/FaceAce1","html_url":"https://github.com/FaceAce1","followers_url":"https://api.github.com/users/FaceAce1/followers","following_url":"https://api.github.com/users/FaceAce1/following{/other_user}","gists_url":"https://api.github.com/users/FaceAce1/gists{/gist_id}","starred_url":"https://api.github.com/users/FaceAce1/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/FaceAce1/subscriptions","organizations_url":"https://api.github.com/users/FaceAce1/orgs","repos_url":"https://api.github.com/users/FaceAce1/repos","events_url":"https://api.github.com/users/FaceAce1/events{/privacy}","received_events_url":"https://api.github.com/users/FaceAce1/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"0d7a77ba85c69f9e427981b906c9a4941c4c0f9c","commit_url":"https://api.github.com/repos/FaceAce1/syncthing/commits/0d7a77ba85c69f9e427981b906c9a4941c4c0f9c","created_at":"2024-03-13T05:39:53Z","performed_via_github_app":null}]