{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9836","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9836/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9836/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9836/events","html_url":"https://github.com/syncthing/syncthing/issues/9836","id":2696337339,"node_id":"I_kwDOAOCAEs6gtte7","number":9836,"title":"Excessive memory usage from case insensitivity filesystem layer","user":{"login":"clonejo","id":261803,"node_id":"MDQ6VXNlcjI2MTgwMw==","avatar_url":"https://avatars.githubusercontent.com/u/261803?v=4","gravatar_id":"","url":"https://api.github.com/users/clonejo","html_url":"https://github.com/clonejo","followers_url":"https://api.github.com/users/clonejo/followers","following_url":"https://api.github.com/users/clonejo/following{/other_user}","gists_url":"https://api.github.com/users/clonejo/gists{/gist_id}","starred_url":"https://api.github.com/users/clonejo/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/clonejo/subscriptions","organizations_url":"https://api.github.com/users/clonejo/orgs","repos_url":"https://api.github.com/users/clonejo/repos","events_url":"https://api.github.com/users/clonejo/events{/privacy}","received_events_url":"https://api.github.com/users/clonejo/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/128","html_url":"https://github.com/syncthing/syncthing/milestone/128","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/128/labels","id":14036623,"node_id":"MI_kwDOAOCAEs4A1i6P","number":128,"title":"v2.0.11","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":10,"state":"closed","created_at":"2025-11-03T14:16:55Z","updated_at":"2025-11-04T03:46:54Z","due_on":"2025-11-04T08:00:00Z","closed_at":"2025-11-03T14:17:38Z"},"comments":9,"created_at":"2024-11-26T22:43:19Z","updated_at":"2025-11-05T18:01:33Z","closed_at":"2025-10-18T19:56:04Z","author_association":"NONE","type":{"id":818058,"node_id":"IT_kwDOAHRk8s4ADHuK","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T10:48:46Z","updated_at":"2024-07-26T10:15:52Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened?\n\nAfter upgrading to v1.28.0, i am observing a rapid memory leak once Syncthing is started. It takes only a few minutes to fill all my 16GB of RAM. The issue also occurs on [v1.28.1-rc.2](https://github.com/syncthing/syncthing/releases/tag/v1.28.1-rc.2). The issue does not occur on v1.27.12, that version only uses around 700MB of memory (RES).\r\n\r\nI did not see any useful log messages.\r\n\r\nInterestingly enough, the OOM killer on this Debian system does not trigger, and the system just stays unresponsive forever (or at least for 12+ hours).\r\n\r\nStats (rounded):\r\nFiles: 900,000\r\nFolders: 100,00\r\nSize: 4.00 TiB \r\n\r\nI am not much into Go, is there an easy way to debug memory usage, or where allocations are made?\n\n### Syncthing version\n\nv1.28.0\n\n### Platform & operating system\n\nLinux amd64\n\n### Browser version\n\n_No response_\n\n### Relevant log output\n\n_No response_","closed_by":{"login":"imsodin","id":15955093,"node_id":"MDQ6VXNlcjE1OTU1MDkz","avatar_url":"https://avatars.githubusercontent.com/u/15955093?v=4","gravatar_id":"","url":"https://api.github.com/users/imsodin","html_url":"https://github.com/imsodin","followers_url":"https://api.github.com/users/imsodin/followers","following_url":"https://api.github.com/users/imsodin/following{/other_user}","gists_url":"https://api.github.com/users/imsodin/gists{/gist_id}","starred_url":"https://api.github.com/users/imsodin/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/imsodin/subscriptions","organizations_url":"https://api.github.com/users/imsodin/orgs","repos_url":"https://api.github.com/users/imsodin/repos","events_url":"https://api.github.com/users/imsodin/events{/privacy}","received_events_url":"https://api.github.com/users/imsodin/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9836/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9836/timeline","performed_via_github_app":null,"state_reason":"completed"}