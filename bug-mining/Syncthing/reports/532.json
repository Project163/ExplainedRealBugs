{"url":"https://api.github.com/repos/syncthing/syncthing/issues/3511","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/3511/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/3511/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/3511/events","html_url":"https://github.com/syncthing/syncthing/issues/3511","id":171068318,"node_id":"MDU6SXNzdWUxNzEwNjgzMTg=","number":3511,"title":"cmd/stdiscosrv: Could generate a new key pair when one doesn't exist","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767667,"node_id":"MDU6TGFiZWw2Nzc2NzY2Nw==","url":"https://api.github.com/repos/syncthing/syncthing/labels/enhancement","name":"enhancement","color":"0e8a16","default":true,"description":"New features or improvements of some kind, as opposed to a problem (bug)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2016-08-14T17:10:28Z","updated_at":"2017-08-23T08:13:06Z","closed_at":"2016-08-23T06:45:01Z","author_association":"MEMBER","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"https://github.com/syncthing/discosrv/issues/30\n\n@CompuRoot:\n\n> The discosrv is fail to start with error: Failed to load X509 key pair: open cert.pem: no such file or directory\n> \n> There no any documentation or methods described - where and how to get those certificates.\n> I used relaysrv to generate these certificates and was able to start discosrv after that.\n> Just a suggestion - may be it would be better to generate new keys in case if they absent in specified paths as it done by relaysrv.\n> \n> By the way, relaysrv use start-up option -keys for both - private and public keys by pointing to specified directory and discosrv used two separate option for each key as -cert and -key.\n> Since both of the programs use crypto keys for the same purpose, may be it would be a good idea to have the same options in both programs. My suggestion is to add -keys option to discosrv that would specified directory for both public and private keys with default file names and keep -cert and -key for those who hold those keys in separate locations or has non default file names for the keys. The same is for relaysrv - to add ability to keep keys in separate directories add there -cert and -key options.\n> \n> Just one more suggestion(I'm sorry to annoy on this):\n> \n> It would be great if discosrv would generate secure URL on start in the same manner as it done with relaysrv to be able to pass correct link to the clients with correct /?id=XXXX-... hash.\n> \n> Also, option -ext-address would be helpful to generate correct link for the discosrv that running behind NAT/firewall.\n> \n> Thank you in advance !\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/3511/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/3511/timeline","performed_via_github_app":null,"state_reason":"completed"}