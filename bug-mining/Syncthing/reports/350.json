{"url":"https://api.github.com/repos/syncthing/syncthing/issues/2309","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/2309/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/2309/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/2309/events","html_url":"https://github.com/syncthing/syncthing/issues/2309","id":108213651,"node_id":"MDU6SXNzdWUxMDgyMTM2NTE=","number":2309,"title":"Error for broken .stignore files","user":{"login":"Sjlver","id":72059,"node_id":"MDQ6VXNlcjcyMDU5","avatar_url":"https://avatars.githubusercontent.com/u/72059?v=4","gravatar_id":"","url":"https://api.github.com/users/Sjlver","html_url":"https://github.com/Sjlver","followers_url":"https://api.github.com/users/Sjlver/followers","following_url":"https://api.github.com/users/Sjlver/following{/other_user}","gists_url":"https://api.github.com/users/Sjlver/gists{/gist_id}","starred_url":"https://api.github.com/users/Sjlver/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Sjlver/subscriptions","organizations_url":"https://api.github.com/users/Sjlver/orgs","repos_url":"https://api.github.com/users/Sjlver/repos","events_url":"https://api.github.com/users/Sjlver/events{/privacy}","received_events_url":"https://api.github.com/users/Sjlver/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":null,"comments":0,"created_at":"2015-09-24T21:02:14Z","updated_at":"2017-06-16T21:04:55Z","closed_at":"2015-09-29T16:15:09Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"Syncthing should print an error message if an `.stignore` file is broken. This includes cases where an `#include` points to a non-existing file. It might also include other cases, e.g., invalid patterns.\n\nCurrently, it seems that Syncthing ignores errors when loading `.stignore` files ([model.go:1186](https://github.com/syncthing/syncthing/blob/master/lib/model/model.go#L1186)). The comment says this is because there might not be an `.stignore` file. We should differentiate between this condition and actual errors in the `.stignore` file.\n\nIf an `.stignore` file turns out to be broken, the safest thing to do is not touch the folder at all until the error is fixed. Otherwise, data loss might occur (e.g., if the user deletes a file that (s)he thought was ignored, and the deletion is propagated).\n\nForum discussion: https://forum.syncthing.net/t/useful-stignore-patterns/1175/51\n","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/2309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/2309/timeline","performed_via_github_app":null,"state_reason":"completed"}