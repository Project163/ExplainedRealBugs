{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9269","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9269/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9269/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9269/events","html_url":"https://github.com/syncthing/syncthing/issues/9269","id":2031525863,"node_id":"I_kwDOAOCAEs55Fp_n","number":9269,"title":"panic: nil pointer dereference in (*indexHandlerRegistry).startLocked","user":{"login":"syncthing-sentry[bot]","id":50799100,"node_id":"MDM6Qm90NTA3OTkxMDA=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D","html_url":"https://github.com/apps/syncthing-sentry","followers_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/followers","following_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/following{/other_user}","gists_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/subscriptions","organizations_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/orgs","repos_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/repos","events_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing-sentry%5Bbot%5D/received_events","type":"Bot","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"},{"id":628314330,"node_id":"MDU6TGFiZWw2MjgzMTQzMzA=","url":"https://api.github.com/repos/syncthing/syncthing/labels/frozen-due-to-age","name":"frozen-due-to-age","color":"eeeeee","default":false,"description":"Issues closed and untouched for a long time, together with being locked for discussion"}],"state":"closed","locked":true,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/100","html_url":"https://github.com/syncthing/syncthing/milestone/100","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/100/labels","id":10267433,"node_id":"MI_kwDOAOCAEs4AnKsp","number":100,"title":"v1.27.1","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":10,"state":"closed","created_at":"2023-12-05T07:48:30Z","updated_at":"2023-12-13T09:53:53Z","due_on":"2024-01-02T08:00:00Z","closed_at":"2023-12-11T07:19:42Z"},"comments":3,"created_at":"2023-12-07T21:01:38Z","updated_at":"2025-04-09T18:51:41Z","closed_at":"2023-12-08T06:13:15Z","author_association":"NONE","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"```\r\n2023/12/07 21:27:41 INFO: syncthing v1.27.0 \"Gold Grasshopper\" (go1.20.11 linux-amd64) root@buildkitsandbox 2023-12-05 07:12:09 UTC [noupgrade]\r\nPanic at 2023-12-07T21:35:02+01:00\r\npanic: runtime error: invalid memory address or nil pointer dereference\r\n[signal SIGSEGV: segmentation violation code=0x1 addr=0x60 pc=0xd61b6e]\r\n\r\ngoroutine 171032 [running]:\r\ngithub.com/syncthing/syncthing/lib/model.(*indexHandlerRegistry).startLocked(_, {{0xc00512dbc0, 0xb}, {0xc00512dbd0, 0xe}, 0x0, {0xc00116e9e0, 0x20}, 0x0, {0xc000e1bba0, ...}, ...}, ...)\r\n\tgithub.com/syncthing/syncthing/lib/model/indexhandler.go:419 +0x16e\r\ngithub.com/syncthing/syncthing/lib/model.(*indexHandlerRegistry).AddIndexInfo(0xc0015e9400, {0xc0009d0ae0, 0xb}, 0xc00175a500)\r\n\tgithub.com/syncthing/syncthing/lib/model/indexhandler.go:439 +0x4b5\r\ngithub.com/syncthing/syncthing/lib/model.(*model).ccHandleFolders(_, {_, _, _}, {{0x81, 0xc1, 0x8d, 0x7b, 0xd9, 0x97, ...}, ...}, ...)\r\n\tgithub.com/syncthing/syncthing/lib/model/model.go:1431 +0xca6\r\ngithub.com/syncthing/syncthing/lib/model.(*model).ClusterConfig(0xc000002000, {0x13c2688, 0xc000fe6170}, {{0xc0011ac000?, 0xc0000d0088?, 0xc001429d78?}, 0xcf?})\r\n\tgithub.com/syncthing/syncthing/lib/model/model.go:1296 +0x8e8\r\ngithub.com/syncthing/syncthing/lib/protocol.(*connectionWrappingModel).ClusterConfig(0xc001429d78?, {{0xc0011ac000?, 0x10?, 0xe96c40?}, 0x1?})\r\n\tgithub.com/syncthing/syncthing/lib/protocol/protocol.go:1143 +0x43\r\ngithub.com/syncthing/syncthing/lib/protocol.encryptedModel.ClusterConfig(...)\r\n\tgithub.com/syncthing/syncthing/lib/protocol/encryption.go:155\r\ngithub.com/syncthing/syncthing/lib/protocol.(*rawConnection).dispatcherLoop(0xc000d9b9e0)\r\n\tgithub.com/syncthing/syncthing/lib/protocol/protocol.go:496 +0x3b7\r\ngithub.com/syncthing/syncthing/lib/protocol.(*rawConnection).Start.func2()\r\n\tgithub.com/syncthing/syncthing/lib/protocol/protocol.go:307 +0x25\r\ncreated by github.com/syncthing/syncthing/lib/protocol.(*rawConnection).Start\r\n\tgithub.com/syncthing/syncthing/lib/protocol/protocol.go:306 +0x116\r\n```\r\n\r\n`runner` is nil here:\r\n\r\nhttps://github.com/syncthing/syncthing/blob/75310b58a06605055823826b4e63e4356ce2e7c5/lib/model/indexhandler.go#L419\r\n\r\n//@calmh","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9269/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9269/timeline","performed_via_github_app":null,"state_reason":"completed"}