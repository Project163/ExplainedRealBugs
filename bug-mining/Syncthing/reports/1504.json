{"url":"https://api.github.com/repos/syncthing/syncthing/issues/10393","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/10393/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/10393/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/10393/events","html_url":"https://github.com/syncthing/syncthing/issues/10393","id":3417933577,"node_id":"I_kwDOAOCAEs7LuYcJ","number":10393,"title":"Introducer feature keeps sharing encrypted folder with device where it's unencrypted","user":{"login":"Nialit","id":5984704,"node_id":"MDQ6VXNlcjU5ODQ3MDQ=","avatar_url":"https://avatars.githubusercontent.com/u/5984704?v=4","gravatar_id":"","url":"https://api.github.com/users/Nialit","html_url":"https://github.com/Nialit","followers_url":"https://api.github.com/users/Nialit/followers","following_url":"https://api.github.com/users/Nialit/following{/other_user}","gists_url":"https://api.github.com/users/Nialit/gists{/gist_id}","starred_url":"https://api.github.com/users/Nialit/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Nialit/subscriptions","organizations_url":"https://api.github.com/users/Nialit/orgs","repos_url":"https://api.github.com/users/Nialit/repos","events_url":"https://api.github.com/users/Nialit/events{/privacy}","received_events_url":"https://api.github.com/users/Nialit/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":null,"comments":1,"created_at":"2025-09-15T13:17:28Z","updated_at":"2025-09-23T11:17:00Z","closed_at":"2025-09-23T11:17:00Z","author_association":"NONE","type":{"id":818058,"node_id":"IT_kwDOAHRk8s4ADHuK","name":"Bug","description":"An unexpected problem or behavior","color":"red","created_at":"2024-01-25T10:48:46Z","updated_at":"2024-07-26T10:15:52Z","is_enabled":true},"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened?\n\nI have 3 devices: A, B - linux, C - android. All have syncthing v1.30.0.\n\nFirst there was folder shared from A(send only) to C(receive only), no encryption. Then B appeared, A shared folder with B(receive only encrypted) encrypted. \n\nA(encrypted) -> B\nA(unencrypted) -> C\n\nB and C have A as an introducer with auto-accept.\n\nAfter that B and C started trying to share folder to each other, but unsuccessfully because B had this folder encrypted, and C plain. Futhermore due to this these devices were going disconnected to each other.\nError message:\n“remote expects to exchange plain data, but is configured to be encrypted (0 remain)”\nWhen I tried to unsync this folder between B<->C on both devices, that was of no use because that \"ignore\" or manual unsharing didn't help from them trying to sync automatically as if this folder was not ignored.\n\nSo the only option I had was to remove introducer and auto-accept on both devices.\n\nFirst I made a topic on the forum, just for reference: https://forum.syncthing.net/t/syn-thing-keeps-trying-to-share-folders/25250/10\n\nI see 2 approaches on my mind to fix this. \nFirst is just to ignore automatically sharing folders if they are not both in same encryption state. Both unencrypted or both encrypted with same password is good, otherwise don’t share. And probably give a one-time notification if not shared. \nSecond is simpler: if folder is shared as encrypted, just don’t count it as eligible to introducing it to others never mind what. Only manually set up sharing.\n\n### Syncthing version\n\nv1.30.0\n\n### Platform & operating system\n\nLinux Android\n\n### Browser version\n\n---\n\n### Relevant log output\n\n```shell\n\n```","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/10393/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/10393/timeline","performed_via_github_app":null,"state_reason":"completed"}