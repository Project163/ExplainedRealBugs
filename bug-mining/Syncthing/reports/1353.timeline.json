[{"id":8228306630,"node_id":"LE_lADOAOCAEs5baIlyzwAAAAHqcf7G","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8228306630","actor":{"login":"GermanCoding","id":4279661,"node_id":"MDQ6VXNlcjQyNzk2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/4279661?v=4","gravatar_id":"","url":"https://api.github.com/users/GermanCoding","html_url":"https://github.com/GermanCoding","followers_url":"https://api.github.com/users/GermanCoding/followers","following_url":"https://api.github.com/users/GermanCoding/following{/other_user}","gists_url":"https://api.github.com/users/GermanCoding/gists{/gist_id}","starred_url":"https://api.github.com/users/GermanCoding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GermanCoding/subscriptions","organizations_url":"https://api.github.com/users/GermanCoding/orgs","repos_url":"https://api.github.com/users/GermanCoding/repos","events_url":"https://api.github.com/users/GermanCoding/events{/privacy}","received_events_url":"https://api.github.com/users/GermanCoding/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-15T00:39:39Z","label":{"name":"bug","color":"d93f0b"},"performed_via_github_app":null},{"id":8228306631,"node_id":"LE_lADOAOCAEs5baIlyzwAAAAHqcf7H","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8228306631","actor":{"login":"GermanCoding","id":4279661,"node_id":"MDQ6VXNlcjQyNzk2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/4279661?v=4","gravatar_id":"","url":"https://api.github.com/users/GermanCoding","html_url":"https://github.com/GermanCoding","followers_url":"https://api.github.com/users/GermanCoding/followers","following_url":"https://api.github.com/users/GermanCoding/following{/other_user}","gists_url":"https://api.github.com/users/GermanCoding/gists{/gist_id}","starred_url":"https://api.github.com/users/GermanCoding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GermanCoding/subscriptions","organizations_url":"https://api.github.com/users/GermanCoding/orgs","repos_url":"https://api.github.com/users/GermanCoding/repos","events_url":"https://api.github.com/users/GermanCoding/events{/privacy}","received_events_url":"https://api.github.com/users/GermanCoding/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2023-01-15T00:39:39Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1383048414","html_url":"https://github.com/syncthing/syncthing/issues/8749#issuecomment-1383048414","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/8749","id":1383048414,"node_id":"IC_kwDOAOCAEs5Sb6Te","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-15T03:51:08Z","updated_at":"2023-01-15T03:51:08Z","body":"Can we have a non sanitized log? At least for an hour around the last event. ","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1383048414/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1383051309","html_url":"https://github.com/syncthing/syncthing/issues/8749#issuecomment-1383051309","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/8749","id":1383051309,"node_id":"IC_kwDOAOCAEs5Sb7At","user":{"login":"GermanCoding","id":4279661,"node_id":"MDQ6VXNlcjQyNzk2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/4279661?v=4","gravatar_id":"","url":"https://api.github.com/users/GermanCoding","html_url":"https://github.com/GermanCoding","followers_url":"https://api.github.com/users/GermanCoding/followers","following_url":"https://api.github.com/users/GermanCoding/following{/other_user}","gists_url":"https://api.github.com/users/GermanCoding/gists{/gist_id}","starred_url":"https://api.github.com/users/GermanCoding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GermanCoding/subscriptions","organizations_url":"https://api.github.com/users/GermanCoding/orgs","repos_url":"https://api.github.com/users/GermanCoding/repos","events_url":"https://api.github.com/users/GermanCoding/events{/privacy}","received_events_url":"https://api.github.com/users/GermanCoding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-15T04:13:41Z","updated_at":"2023-01-15T04:13:41Z","body":"I have send the full log privately. I don't think it contains useful data though. If you can give me some pointers about which debugging facilities to enable, I could try to reproduce with more logging enabled.","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1383051309/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GermanCoding","id":4279661,"node_id":"MDQ6VXNlcjQyNzk2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/4279661?v=4","gravatar_id":"","url":"https://api.github.com/users/GermanCoding","html_url":"https://github.com/GermanCoding","followers_url":"https://api.github.com/users/GermanCoding/followers","following_url":"https://api.github.com/users/GermanCoding/following{/other_user}","gists_url":"https://api.github.com/users/GermanCoding/gists{/gist_id}","starred_url":"https://api.github.com/users/GermanCoding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GermanCoding/subscriptions","organizations_url":"https://api.github.com/users/GermanCoding/orgs","repos_url":"https://api.github.com/users/GermanCoding/repos","events_url":"https://api.github.com/users/GermanCoding/events{/privacy}","received_events_url":"https://api.github.com/users/GermanCoding/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1383054467","html_url":"https://github.com/syncthing/syncthing/issues/8749#issuecomment-1383054467","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/8749","id":1383054467,"node_id":"IC_kwDOAOCAEs5Sb7yD","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-15T04:39:16Z","updated_at":"2023-01-15T04:39:29Z","body":"Well, the `relay` one to begin with. The relay listener not restarting should be due to its context being cancelled, that is, because of a config change or because Syncthing itself is shutting down. Without any context in the logs I have no idea what's going on.","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1383054467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1383182461","html_url":"https://github.com/syncthing/syncthing/issues/8749#issuecomment-1383182461","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/8749","id":1383182461,"node_id":"IC_kwDOAOCAEs5ScbB9","user":{"login":"GermanCoding","id":4279661,"node_id":"MDQ6VXNlcjQyNzk2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/4279661?v=4","gravatar_id":"","url":"https://api.github.com/users/GermanCoding","html_url":"https://github.com/GermanCoding","followers_url":"https://api.github.com/users/GermanCoding/followers","following_url":"https://api.github.com/users/GermanCoding/following{/other_user}","gists_url":"https://api.github.com/users/GermanCoding/gists{/gist_id}","starred_url":"https://api.github.com/users/GermanCoding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GermanCoding/subscriptions","organizations_url":"https://api.github.com/users/GermanCoding/orgs","repos_url":"https://api.github.com/users/GermanCoding/repos","events_url":"https://api.github.com/users/GermanCoding/events{/privacy}","received_events_url":"https://api.github.com/users/GermanCoding/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-15T15:38:17Z","updated_at":"2023-03-07T21:36:28Z","body":"After restarting & enabling `relay` (+ `connections`) logging, I got lucky and the issue appeared again within a few minutes (due to a router restart this time): Below is an excerpt from the relay shutting down and not coming back. The full logs are also attached.\r\n\r\nI have also set `Relay Reconnect Interval (minutes)Â / relayReconnectIntervalM` to `1`.\r\n\r\n```\r\nJan 15 06:07:49 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:07:49.651819 static.go:81: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token received message protocol.Ping\r\nJan 15 06:07:49 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:07:49.651919 static.go:89: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token sent pong\r\nJan 15 06:08:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:08:19.653569 static.go:81: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token received message protocol.Ping\r\nJan 15 06:08:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:08:19.653658 static.go:89: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token sent pong\r\nJan 15 06:08:49 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:08:49.651743 static.go:81: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token received message protocol.Ping\r\nJan 15 06:08:49 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:08:49.651986 static.go:89: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token sent pong\r\nJan 15 06:09:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:09:19.654217 static.go:81: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token received message protocol.Ping\r\nJan 15 06:09:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:09:19.654459 static.go:89: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token sent pong\r\nJan 15 06:11:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:11:19.655381 static.go:121: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token timed out\r\nJan 15 06:11:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:11:19.655496 static.go:174: DEBUG: StaticClient:0xc0002dc870@relay://my.own.relay:22067/?id=relay-ID&token=relay-token disconnecting\r\nJan 15 06:11:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:11:19.655847 relay_listen.go:65: INFO: Relay listener (relay://my.own.relay:22067/?id=relay-ID&token=relay-token) shutting down\r\nJan 15 06:11:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:11:19.655994 svcutil.go:192: INFO: listenerSupervisor@relay://my.own.relay:22067/?id=relay-ID&token=relay-token: service relay://my.own.relay:22067/?id=relay-ID&token=relay-token failed: timed out\r\nJan 15 06:11:19 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:11:19.656083 relay_listen.go:57: INFO: Relay listener (relay://my.own.relay:22067/?id=relay-ID&token=relay-token) starting\r\nJan 15 06:11:29 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:11:29.661120 static.go:51: DEBUG: Could not connect to relay relay://my.own.relay:22067/?id=relay-ID&token=relay-token: dial tcp 176.9.103.107:22067: i/o timeout\r\nJan 15 06:11:29 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:11:29.661242 relay_listen.go:65: INFO: Relay listener (relay://my.own.relay:22067/?id=relay-ID&token=relay-token) shutting down\r\nJan 15 06:12:15 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:12:15.140587 service.go:423: INFO: Established secure connection to <Device-6> at 192.168.10.34:22000-192.168.10.31:22000/tcp-server/TLS1.3-TLS_AES_128_GCM_SHA256\r\nJan 15 06:12:15 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:12:15.140804 model.go:2213: INFO: Replacing old connection [2003:f1:1f13:8300:c18c:7cce:e08d:9cb7]:22000-[2003:f1:1f19:4800:e48f:4c42:87d1:cb0b]:55492/tcp-server/TLS1.3-TLS_AES_128_GCM_SHA256 with 192.168.10.34:22000-192.168.10.31:22000/tcp-server/TLS1.3-TLS_AES_128_GCM_SHA256 for <Device-6>\r\nJan 15 06:12:15 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:12:15.141633 model.go:1782: INFO: Connection to <Device-6> at [2003:f1:1f13:8300:c18c:7cce:e08d:9cb7]:22000-[2003:f1:1f19:4800:e48f:4c42:87d1:cb0b]:55492/tcp-server/TLS1.3-TLS_AES_128_GCM_SHA256 closed: replacing connection\r\nJan 15 06:12:15 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:12:15.142228 model.go:2264: INFO: Device <Device-6> client is \"syncthing v1.23.0\" named \"Device-6\" at 192.168.10.34:22000-192.168.10.31:22000/tcp-server/TLS1.3-TLS_AES_128_GCM_SHA256\r\nJan 15 06:12:43 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:12:43.784100 model.go:1782: INFO: Connection to <Device-4> at 192.168.10.34:47356-176.9.103.107:22000/tcp-client/TLS1.3-TLS_AES_128_GCM_SHA256 closed: reading length: read tcp4 192.168.10.34:47356->176.9.103.107:22000: read: connection reset by peer\r\nJan 15 06:12:51 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:12:51.016163 service.go:423: INFO: Established secure connection to <Device-4> at [2003:f1:1f19:5900:125:8302:4d0f:d580]:22000-[2a01:4f8:151:506c::2]:22000/tcp-client/TLS1.3-TLS_AES_128_GCM_SHA256\r\nJan 15 06:12:51 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:12:51.016532 model.go:2264: INFO: Device <Device-4> client is \"syncthing v1.23.0\" named \"Device-4\" at [2003:f1:1f19:5900:125:8302:4d0f:d580]:22000-[2a01:4f8:151:506c::2]:22000/tcp-client/TLS1.3-TLS_AES_128_GCM_SHA256\r\nJan 15 06:20:50 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:20:50.563461 api.go:747: INFO: Enabled debug data for \"connections\"\r\nJan 15 06:20:57 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:20:57.402127 service.go:1111: DEBUG: dialing <Device-3> tcp://10.192.3.2:22000 error: dial tcp 10.192.3.2:22000: i/o timeout\r\nJan 15 06:20:57 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:20:57.402460 service.go:1111: DEBUG: dialing <Device-2> tcp://[2003:f1:1f13:8300:256c:4d68:cf91:27a5]:22000 error: dial tcp [2003:f1:1f13:8300:256c:4d68:cf91:27a5]:22000: i/o timeout\r\nJan 15 06:20:57 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:20:57.402582 service.go:1141: DEBUG: failed to connect to <Device-2> 9\r\nJan 15 06:20:57 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:20:57.402644 service.go:1141: DEBUG: failed to connect to <Device-3> 10\r\nJan 15 06:20:57 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:20:57.402706 structs.go:244: DEBUG: dialing <Device-2> tcp://62.226.235.69:22000 prio 10\r\nJan 15 06:21:07 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:21:07.403525 service.go:1111: DEBUG: dialing <Device-2> tcp://62.226.235.69:22000 error: dial tcp 62.226.235.69:22000: i/o timeout\r\nJan 15 06:21:07 Odroid-H2 syncthing[973896]: [<Self>] 2023/01/15 06:21:07.403581 service.go:1141: DEBUG: failed to connect to <Device-2> 10\r\n\r\n```\r\n\r\nThe relay listener shuts shown approximately 5 minutes after startup and then never comes back up.\r\n\r\nI have attached the full logs - a few lines are altered for privacy, but I have not removed anything.\r\n\r\nI am not (intentionally) doing config changes nor is syncthing shutting down while the relay listener shuts down.\r\n\r\n_Logfile removed (no longer needed)_\r\n\r\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1383182461/reactions","total_count":1,"+1":1,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"GermanCoding","id":4279661,"node_id":"MDQ6VXNlcjQyNzk2NjE=","avatar_url":"https://avatars.githubusercontent.com/u/4279661?v=4","gravatar_id":"","url":"https://api.github.com/users/GermanCoding","html_url":"https://github.com/GermanCoding","followers_url":"https://api.github.com/users/GermanCoding/followers","following_url":"https://api.github.com/users/GermanCoding/following{/other_user}","gists_url":"https://api.github.com/users/GermanCoding/gists{/gist_id}","starred_url":"https://api.github.com/users/GermanCoding/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/GermanCoding/subscriptions","organizations_url":"https://api.github.com/users/GermanCoding/orgs","repos_url":"https://api.github.com/users/GermanCoding/repos","events_url":"https://api.github.com/users/GermanCoding/events{/privacy}","received_events_url":"https://api.github.com/users/GermanCoding/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8238943402,"node_id":"UNLE_lADOAOCAEs5baIlyzwAAAAHrFEyq","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8238943402","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"unlabeled","commit_id":null,"commit_url":null,"created_at":"2023-01-16T17:23:59Z","label":{"name":"needs-triage","color":"ce23af"},"performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1384496951","html_url":"https://github.com/syncthing/syncthing/issues/8749#issuecomment-1384496951","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/8749","id":1384496951,"node_id":"IC_kwDOAOCAEs5Shb83","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2023-01-16T20:01:38Z","updated_at":"2023-01-16T20:02:22Z","body":"So this is an interesting one and took me a while to narrow down. The problem occurs when the error is a timeout:\r\n\r\n```\r\ntcp://62.226.235.69:22000 error: dial tcp 62.226.235.69:22000: i/o timeout\r\n```\r\n\r\nThe reason is that the service manager that runs the listener doesn't restart it when it returns a context cancelled or timed out error (because cancelling the context is the way to stop the service):\r\n\r\nhttps://github.com/thejerf/suture/blob/32afe7cf63d192b4b6315eb9613a2221431206b7/v4/supervisor.go#L367-L370\r\n\r\nAnd since Go 1.19, \r\n\r\n> When a net package function or method returns an \"I/O timeout\" error, the error will now satisfy errors.Is(err, context.DeadlineExceeded). \r\n\r\n(https://tip.golang.org/doc/go1.19)\r\n\r\nSo a timeout error cancels the entire listener...","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/1384496951/reactions","total_count":3,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":2,"rocket":0,"eyes":1},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":8239859103,"node_id":"REFE_lADOAOCAEs5baIlyzwAAAAHrIkWf","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8239859103","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"05d02d149cd0e4fcb8b079c9fb7cf8f88e82616a","commit_url":"https://api.github.com/repos/calmh/syncthing/commits/05d02d149cd0e4fcb8b079c9fb7cf8f88e82616a","created_at":"2023-01-16T20:15:18Z","performed_via_github_app":null},{"id":8310403739,"node_id":"CE_lADOAOCAEs5baIlyzwAAAAHvVrKb","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8310403739","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"abdac2caa2866ab1aea79aae4090c50e858b6f51","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/abdac2caa2866ab1aea79aae4090c50e858b6f51","created_at":"2023-01-19T10:15:30Z","state_reason":null,"performed_via_github_app":null},{"id":8331196604,"node_id":"REFE_lADOAOCAEs5baIlyzwAAAAHwk_i8","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8331196604","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"f8b7cc44e5179038b9678eb93410b6cca2045b7b","commit_url":"https://api.github.com/repos/calmh/syncthing/commits/f8b7cc44e5179038b9678eb93410b6cca2045b7b","created_at":"2023-01-23T06:56:34Z","performed_via_github_app":null},{"id":8498604532,"node_id":"MIE_lADOAOCAEs5baIlyzwAAAAH6jmn0","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8498604532","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2023-02-12T16:26:28Z","milestone":{"title":"v1.23.2"},"performed_via_github_app":null},{"id":8577610025,"node_id":"REFE_lADOAOCAEs5baIlyzwAAAAH_Q_Ep","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8577610025","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"22f780736eacbf8ced35b0514eb0f48425ebb498","commit_url":"https://api.github.com/repos/calmh/syncthing/commits/22f780736eacbf8ced35b0514eb0f48425ebb498","created_at":"2023-02-22T06:37:27Z","performed_via_github_app":null},{"id":8689192010,"node_id":"REFE_lADOAOCAEs5baIlyzwAAAAIF6oxK","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/8689192010","actor":{"login":"SimonPickup","id":18005537,"node_id":"MDQ6VXNlcjE4MDA1NTM3","avatar_url":"https://avatars.githubusercontent.com/u/18005537?v=4","gravatar_id":"","url":"https://api.github.com/users/SimonPickup","html_url":"https://github.com/SimonPickup","followers_url":"https://api.github.com/users/SimonPickup/followers","following_url":"https://api.github.com/users/SimonPickup/following{/other_user}","gists_url":"https://api.github.com/users/SimonPickup/gists{/gist_id}","starred_url":"https://api.github.com/users/SimonPickup/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/SimonPickup/subscriptions","organizations_url":"https://api.github.com/users/SimonPickup/orgs","repos_url":"https://api.github.com/users/SimonPickup/repos","events_url":"https://api.github.com/users/SimonPickup/events{/privacy}","received_events_url":"https://api.github.com/users/SimonPickup/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"1172043a063d45dea5e7cf30a68571e12b469a5c","commit_url":"https://api.github.com/repos/MobiusSync/syncthing/commits/1172043a063d45dea5e7cf30a68571e12b469a5c","created_at":"2023-03-07T18:36:07Z","performed_via_github_app":null},{"id":11540918910,"node_id":"LE_lADOAOCAEs5baIlyzwAAAAKv5HJ-","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/11540918910","actor":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2024-01-19T18:44:36Z","label":{"name":"frozen-due-to-age","color":"eeeeee"},"performed_via_github_app":null},{"id":11540918968,"node_id":"LOE_lADOAOCAEs5baIlyzwAAAAKv5HK4","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/11540918968","actor":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2024-01-19T18:44:36Z","lock_reason":null,"performed_via_github_app":null},{"id":11640022970,"node_id":"REFE_lADOAOCAEs5baIlyzwAAAAK1zKe6","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/11640022970","actor":{"login":"jector20","id":106465148,"node_id":"U_kgDOBliHfA","avatar_url":"https://avatars.githubusercontent.com/u/106465148?v=4","gravatar_id":"","url":"https://api.github.com/users/jector20","html_url":"https://github.com/jector20","followers_url":"https://api.github.com/users/jector20/followers","following_url":"https://api.github.com/users/jector20/following{/other_user}","gists_url":"https://api.github.com/users/jector20/gists{/gist_id}","starred_url":"https://api.github.com/users/jector20/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/jector20/subscriptions","organizations_url":"https://api.github.com/users/jector20/orgs","repos_url":"https://api.github.com/users/jector20/repos","events_url":"https://api.github.com/users/jector20/events{/privacy}","received_events_url":"https://api.github.com/users/jector20/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"referenced","commit_id":"abdac2caa2866ab1aea79aae4090c50e858b6f51","commit_url":"https://api.github.com/repos/jector20/syncthing/commits/abdac2caa2866ab1aea79aae4090c50e858b6f51","created_at":"2024-01-30T10:57:37Z","performed_via_github_app":null}]