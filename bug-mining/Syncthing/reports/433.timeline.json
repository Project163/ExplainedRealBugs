[{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201260430","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-201260430","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":201260430,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTI2MDQzMA==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-25T12:21:56Z","updated_at":"2016-03-25T12:21:56Z","body":"It's not the compiler - latest master compiled with Go 1.5.3 behaves the same.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201260430/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201264002","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-201264002","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":201264002,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTI2NDAwMg==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-25T12:31:50Z","updated_at":"2016-03-25T12:31:50Z","body":"Looks like index data kept alive during scanning and index reception...\n\nhttps://nym.se/r/uhvs.svg\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201264002/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201274913","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-201274913","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":201274913,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTI3NDkxMw==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-25T13:24:44Z","updated_at":"2016-03-25T13:24:44Z","body":"git bisect?\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201274913/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201362873","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-201362873","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":201362873,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTM2Mjg3Mw==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-25T16:58:22Z","updated_at":"2016-03-25T16:58:22Z","body":"Yep. I'm first of all creating a reliable benchmark for resource usage during scan (initial + \"fast\") and then running that to narrow this down.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201362873/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201401175","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-201401175","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":201401175,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTQwMTE3NQ==","user":{"login":"lkwg82","id":1891171,"node_id":"MDQ6VXNlcjE4OTExNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1891171?v=4","gravatar_id":"","url":"https://api.github.com/users/lkwg82","html_url":"https://github.com/lkwg82","followers_url":"https://api.github.com/users/lkwg82/followers","following_url":"https://api.github.com/users/lkwg82/following{/other_user}","gists_url":"https://api.github.com/users/lkwg82/gists{/gist_id}","starred_url":"https://api.github.com/users/lkwg82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lkwg82/subscriptions","organizations_url":"https://api.github.com/users/lkwg82/orgs","repos_url":"https://api.github.com/users/lkwg82/repos","events_url":"https://api.github.com/users/lkwg82/events{/privacy}","received_events_url":"https://api.github.com/users/lkwg82/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-25T18:17:33Z","updated_at":"2016-03-25T18:17:33Z","body":"For the finish: Do you get that automated to have a regression test? (I know it can be hard.)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201401175/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lkwg82","id":1891171,"node_id":"MDQ6VXNlcjE4OTExNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1891171?v=4","gravatar_id":"","url":"https://api.github.com/users/lkwg82","html_url":"https://github.com/lkwg82","followers_url":"https://api.github.com/users/lkwg82/followers","following_url":"https://api.github.com/users/lkwg82/following{/other_user}","gists_url":"https://api.github.com/users/lkwg82/gists{/gist_id}","starred_url":"https://api.github.com/users/lkwg82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lkwg82/subscriptions","organizations_url":"https://api.github.com/users/lkwg82/orgs","repos_url":"https://api.github.com/users/lkwg82/repos","events_url":"https://api.github.com/users/lkwg82/events{/privacy}","received_events_url":"https://api.github.com/users/lkwg82/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201404815","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-201404815","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":201404815,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMTQwNDgxNQ==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-25T18:25:41Z","updated_at":"2016-03-25T18:25:41Z","body":"No, but it'll get us nice graphs of the data for every version since forever and into the future, which we can draw conclusions from.\n\nI missed drawing any obvious conclusions so far because I see roughly the same numbers for the last version before the v0.13 split (i.e. before my db format change went in) and current master...\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/201404815/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202012315","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202012315","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202012315,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjAxMjMxNQ==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-27T07:46:23Z","updated_at":"2016-03-27T07:47:24Z","body":"My tests didn't bring up anything unusual. This is from scanning ~50 gigs of data in 200.000 files; both full scan (no database) and quick scan (contents are already scanned) uses about the same amount of memory currently as in v0.12.0. Will dig deeper...\n\nfull-scan.csv:\n\n```\n# Revision,Alloc,Sys,Goroutines,Walltime,Utime,Stime,MaxRSS\nv0.12.0,25441,139966,28,1379.87,636.90,71.37,0\nv0.12.1,30805,141226,28,1215.36,615.25,67.22,0\nv0.12.2,23773,141134,28,1207.37,616.96,67.04,0\nv0.12.3,19180,138630,28,1231.90,626.12,67.76,0\nv0.12.4,22506,145227,29,1209.94,622.62,67.20,0\nv0.12.5,25835,138174,29,1203.43,618.71,66.38,0\nv0.12.6,23213,140086,29,1214.76,624.16,67.10,0\nv0.12.7,30190,141335,29,1207.56,624.77,66.72,0\nv0.12.8,23561,142002,29,1251.62,630.14,67.30,0\nv0.12.9,34176,142130,32,1215.41,626.36,67.64,0\nv0.12.10,27893,144052,32,1213.28,623.66,67.18,0\nv0.12.11,28210,143714,32,1210.04,623.27,66.88,0\nv0.12.12,35595,141555,32,1215.15,623.25,66.74,0\nv0.12.14,33962,143386,32,1210.64,618.76,66.77,0\nv0.12.14,39677,141874,32,1252.67,628.37,67.72,0\nv0.12.15,32330,140682,32,1218.34,626.64,67.06,0\nv0.12.16,42136,142602,32,1254.08,628.86,67.75,0\nv0.12.17,25430,142210,32,1211.14,627.61,67.76,0\nv0.12.18,31863,146887,32,1214.07,620.51,67.52,0\nv0.12.19,39801,143723,32,1205.53,624.03,66.91,0\nv0.12.20,35239,139766,32,1206.08,625.83,67.23,0\nv0.13.0-beta.0+2-g3536898,37225,146294,42,1208.76,616.41,66.26,0\nv0.13.0-beta.0+161-g436fd0b,31030,143459,42,1417.37,599.68,71.17,0\n```\n\nquick-scan.csv:\n\n```\n# Revision,Alloc,Sys,Goroutines,Walltime,Utime,Stime,MaxRSS\nv0.12.0,29701,42818,28,12.26,14.97,5.69,0\nv0.12.1,28670,42562,28,11.78,14.76,5.65,0\nv0.12.2,25257,42562,28,11.71,14.53,5.58,0\nv0.12.3,26439,42818,28,12.62,14.56,5.69,0\nv0.12.4,26860,42818,29,11.81,14.43,5.61,0\nv0.12.5,19863,45990,29,11.45,15.77,5.93,0\nv0.12.6,24419,45990,29,12.84,16.04,6.09,0\nv0.12.7,23466,44934,29,12.75,16.10,6.07,0\nv0.12.8,19330,45990,29,11.40,15.80,5.84,0\nv0.12.9,19725,44934,32,11.66,16.08,5.95,0\nv0.12.10,25019,45734,32,11.73,15.90,5.97,0\nv0.12.11,28464,45734,32,12.56,15.89,6.02,0\nv0.12.12,27922,45734,32,12.84,15.99,6.14,0\nv0.12.14,25187,45990,32,11.45,15.69,5.85,0\nv0.12.14,23637,44934,32,11.61,15.73,5.88,0\nv0.12.15,29007,45734,32,11.54,15.89,5.89,0\nv0.12.16,28798,45734,32,12.15,15.92,6.05,0\nv0.12.17,20917,45478,32,11.72,15.96,5.93,0\nv0.12.18,18474,45222,32,11.48,15.84,5.87,0\nv0.12.19,23520,44678,32,11.45,15.73,5.95,0\nv0.12.20,19629,45990,32,12.34,15.88,6.02,0\nv0.13.0-beta.0+2-g3536898,27924,43618,34,12.76,16.75,5.97,0\nv0.13.0-beta.0+161-g436fd0b,24362,45990,34,12.05,15.02,5.90,0\n```\n\n(I'm mostly looking at the \"Sys\" column which is what the Go allocator has requested from the OS.)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202012315/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202949419","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202949419","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202949419,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk0OTQxOQ==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:19:21Z","updated_at":"2016-03-29T15:19:49Z","body":"For what it's worth I've reproduced it with a bigger folder and narrowed it down to the scanning, and mostly the database walk after the directory walk. Here are some screenshots of resource usage when syncthing's doing a periodic scan.\n\n![screen shot 2016-03-29 at 17 11 36](https://cloud.githubusercontent.com/assets/125426/14113094/c0c7a104-f5d1-11e5-88df-f34791f079e7.png)\n![screen shot 2016-03-29 at 17 11 42](https://cloud.githubusercontent.com/assets/125426/14113097/c5aee218-f5d1-11e5-9d77-c6b6f3aba1f6.png)\n\nCorrelating the times on the \"memory in use\" graph with the console log at the bottom we can see that it hits a minimum of 44M in use at 15:09:10 which is at\n\n```\n[I6KAH] 2016/03/29 17:09:10.686357 walk.go:167: DEBUG: Walk progress done /srv/foto/ [] 131072 &{[{0xc8203121e0 true} {0xc820312320 true} {0xc820312460 true} {0xc82008a0a0 true} {0xc82008a1e0 true} {0xc821cc4000 true} {0xc821cc4140 true} {0xc821cc4280 true}] true 0xc821cca0c0 dcf344213b95af5048d985e7b791f970 0xc8203cf680 0xc8207eb290}\n[I6KAH] 2016/03/29 17:09:10.686385 model.go:1424: DEBUG: model@0xc82008c000 completed walk for default\n[I6KAH] 2016/03/29 17:09:10.686431 verboseservice.go:49: VERBOSE: Scanning folder \"default\", 0% done (0.0 MB/s)\n[I6KAH] 2016/03/29 17:09:10.686471 model.go:1442: DEBUG: model@0xc82008c000 starting database scan for  default\n```\n\nThen it balloons to almost 400M at 15:09:15, which is\n\n```\n[I6KAH] 2016/03/29 17:09:10.686471 model.go:1442: DEBUG: model@0xc82008c000 starting database scan for  default\n[I6KAH] 2016/03/29 17:09:14.867862 model.go:1497: DEBUG: model@0xc82008c000 completed database walk for default\n```\n\ni.e. where we walk the database looking for deleted files.\n\nNote also that this memory isn't _released_ until the next scan, despite me having a `runtime.GC()` run in the background every five seconds. So something is being retained here that should not be...\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202949419/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202951467","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202951467","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202951467,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk1MTQ2Nw==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:25:03Z","updated_at":"2016-03-29T15:25:03Z","body":"Wild guess, disable scan progress reporting (though that was there before).\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202951467/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202956700","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202956700","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202956700,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk1NjcwMA==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:32:29Z","updated_at":"2016-03-29T15:32:29Z","body":"No, that's not the guilty party. Just now I've commented out the entire contents of the fs.WithPrefixedHaveTruncated() call and then usage is fine. I think something is getting retained somewhere there, combined with my XDR changes that keeps references to the underlying buffer, and so on. Haven't narrowed down what yet, though.\n\n<img width=\"1630\" alt=\"screen shot 2016-03-29 at 17 31 54\" src=\"https://cloud.githubusercontent.com/assets/125426/14113646/2f406b32-f5d4-11e5-80cc-58d3f1317dcb.png\">\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202956700/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202963059","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202963059","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202963059,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk2MzA1OQ==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:39:43Z","updated_at":"2016-03-29T15:39:43Z","body":"Yep, found it. The guilty call is\n\n``` go\nif ignores.Match(f.Name) ...\n```\n\nbecause this causes the string `f.Name` to be inserted into the ignore cache, but that string is just a reference to a part of the buffer we deserialized the FileInfo from, which then gets retained.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202963059/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202967577","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202967577","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202967577,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk2NzU3Nw==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:45:12Z","updated_at":"2016-03-29T15:45:12Z","body":"With this:\n\n``` go\nif ignores.Match(string([]byte(f.Name))) ...\n```\n\nit looks as normal:\n\n![screen shot 2016-03-29 at 17 44 10](https://cloud.githubusercontent.com/assets/125426/14114079/f5b01b40-f5d5-11e5-9939-ac98c2c1ff4b.png)\n\nbut that \"fix\" feels a little too magical...\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202967577/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202969176","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202969176","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202969176,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk2OTE3Ng==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:48:14Z","updated_at":"2016-03-29T15:48:14Z","body":"(And yes that's a neat performance tracing tool I've hacked together that I'll publish at some point :)\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202969176/reactions","total_count":2,"+1":1,"-1":0,"laugh":0,"hooray":1,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202970270","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202970270","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202970270,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk3MDI3MA==","user":{"login":"plouj","id":282428,"node_id":"MDQ6VXNlcjI4MjQyOA==","avatar_url":"https://avatars.githubusercontent.com/u/282428?v=4","gravatar_id":"","url":"https://api.github.com/users/plouj","html_url":"https://github.com/plouj","followers_url":"https://api.github.com/users/plouj/followers","following_url":"https://api.github.com/users/plouj/following{/other_user}","gists_url":"https://api.github.com/users/plouj/gists{/gist_id}","starred_url":"https://api.github.com/users/plouj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plouj/subscriptions","organizations_url":"https://api.github.com/users/plouj/orgs","repos_url":"https://api.github.com/users/plouj/repos","events_url":"https://api.github.com/users/plouj/events{/privacy}","received_events_url":"https://api.github.com/users/plouj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:50:41Z","updated_at":"2016-03-29T15:50:41Z","body":"Maybe we should have a NameCopy() method on those objects (or just Name()\nthat does a copy)?\n\nOn Tue, Mar 29, 2016 at 11:48 AM, Jakob Borg notifications@github.com\nwrote:\n\n> (And yes that's a neat performance tracing tool I've hacked together that\n> I'll publish at some point :)\n> \n> â€”\n> You are receiving this because you are subscribed to this thread.\n> Reply to this email directly or view it on GitHub\n> https://github.com/syncthing/syncthing/issues/2882#issuecomment-202969176\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202970270/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"plouj","id":282428,"node_id":"MDQ6VXNlcjI4MjQyOA==","avatar_url":"https://avatars.githubusercontent.com/u/282428?v=4","gravatar_id":"","url":"https://api.github.com/users/plouj","html_url":"https://github.com/plouj","followers_url":"https://api.github.com/users/plouj/followers","following_url":"https://api.github.com/users/plouj/following{/other_user}","gists_url":"https://api.github.com/users/plouj/gists{/gist_id}","starred_url":"https://api.github.com/users/plouj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plouj/subscriptions","organizations_url":"https://api.github.com/users/plouj/orgs","repos_url":"https://api.github.com/users/plouj/repos","events_url":"https://api.github.com/users/plouj/events{/privacy}","received_events_url":"https://api.github.com/users/plouj/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202970992","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202970992","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202970992,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk3MDk5Mg==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:52:43Z","updated_at":"2016-03-29T15:52:43Z","body":"Sure, naming and commenting can explain what's going on, it's just a bit scary as I wonder in how many other places we may have issues like this that are currently not plainly visible by just looking at the code... The XDR changes I did to cause this may be a little dangerous.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202970992/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202973164","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202973164","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202973164,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk3MzE2NA==","user":{"login":"lkwg82","id":1891171,"node_id":"MDQ6VXNlcjE4OTExNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1891171?v=4","gravatar_id":"","url":"https://api.github.com/users/lkwg82","html_url":"https://github.com/lkwg82","followers_url":"https://api.github.com/users/lkwg82/followers","following_url":"https://api.github.com/users/lkwg82/following{/other_user}","gists_url":"https://api.github.com/users/lkwg82/gists{/gist_id}","starred_url":"https://api.github.com/users/lkwg82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lkwg82/subscriptions","organizations_url":"https://api.github.com/users/lkwg82/orgs","repos_url":"https://api.github.com/users/lkwg82/repos","events_url":"https://api.github.com/users/lkwg82/events{/privacy}","received_events_url":"https://api.github.com/users/lkwg82/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T15:58:56Z","updated_at":"2016-03-29T15:58:56Z","body":"In this situation static code analysis comes to my mind. Sth  like findbugs or sonarqube (with rules of easy pitfalls). Is there sth for go, you know of?\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202973164/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"lkwg82","id":1891171,"node_id":"MDQ6VXNlcjE4OTExNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1891171?v=4","gravatar_id":"","url":"https://api.github.com/users/lkwg82","html_url":"https://github.com/lkwg82","followers_url":"https://api.github.com/users/lkwg82/followers","following_url":"https://api.github.com/users/lkwg82/following{/other_user}","gists_url":"https://api.github.com/users/lkwg82/gists{/gist_id}","starred_url":"https://api.github.com/users/lkwg82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lkwg82/subscriptions","organizations_url":"https://api.github.com/users/lkwg82/orgs","repos_url":"https://api.github.com/users/lkwg82/repos","events_url":"https://api.github.com/users/lkwg82/events{/privacy}","received_events_url":"https://api.github.com/users/lkwg82/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202976094","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202976094","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202976094,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk3NjA5NA==","user":{"login":"plouj","id":282428,"node_id":"MDQ6VXNlcjI4MjQyOA==","avatar_url":"https://avatars.githubusercontent.com/u/282428?v=4","gravatar_id":"","url":"https://api.github.com/users/plouj","html_url":"https://github.com/plouj","followers_url":"https://api.github.com/users/plouj/followers","following_url":"https://api.github.com/users/plouj/following{/other_user}","gists_url":"https://api.github.com/users/plouj/gists{/gist_id}","starred_url":"https://api.github.com/users/plouj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plouj/subscriptions","organizations_url":"https://api.github.com/users/plouj/orgs","repos_url":"https://api.github.com/users/plouj/repos","events_url":"https://api.github.com/users/plouj/events{/privacy}","received_events_url":"https://api.github.com/users/plouj/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T16:04:20Z","updated_at":"2016-03-29T16:05:12Z","body":"Then why did you do it? :smile:\n\nPerhaps using getters and making the default behaviour to copy while allowing to use direct references to original buffers possible via alternative getters (... C++ anyone?)\n","author_association":"CONTRIBUTOR","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202976094/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"plouj","id":282428,"node_id":"MDQ6VXNlcjI4MjQyOA==","avatar_url":"https://avatars.githubusercontent.com/u/282428?v=4","gravatar_id":"","url":"https://api.github.com/users/plouj","html_url":"https://github.com/plouj","followers_url":"https://api.github.com/users/plouj/followers","following_url":"https://api.github.com/users/plouj/following{/other_user}","gists_url":"https://api.github.com/users/plouj/gists{/gist_id}","starred_url":"https://api.github.com/users/plouj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plouj/subscriptions","organizations_url":"https://api.github.com/users/plouj/orgs","repos_url":"https://api.github.com/users/plouj/repos","events_url":"https://api.github.com/users/plouj/events{/privacy}","received_events_url":"https://api.github.com/users/plouj/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202977447","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202977447","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202977447,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk3NzQ0Nw==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T16:08:27Z","updated_at":"2016-03-29T16:08:27Z","body":"@lkwg82  I'm not sure how that would catch this. This isn't a bug, this is just strings being larger than they look because we do something unsafe in another place. I think a  manual audit of places were was pass the f.Name and it doesn't go out of scope would be the best way.\n\n@plouj We save doing a shitload of allocations by not copying all strings and `[]byte`s at deserialization time.\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202977447/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":606924157,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NjA2OTI0MTU3","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/606924157","actor":{"login":"lkwg82","id":1891171,"node_id":"MDQ6VXNlcjE4OTExNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1891171?v=4","gravatar_id":"","url":"https://api.github.com/users/lkwg82","html_url":"https://github.com/lkwg82","followers_url":"https://api.github.com/users/lkwg82/followers","following_url":"https://api.github.com/users/lkwg82/following{/other_user}","gists_url":"https://api.github.com/users/lkwg82/gists{/gist_id}","starred_url":"https://api.github.com/users/lkwg82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lkwg82/subscriptions","organizations_url":"https://api.github.com/users/lkwg82/orgs","repos_url":"https://api.github.com/users/lkwg82/repos","events_url":"https://api.github.com/users/lkwg82/events{/privacy}","received_events_url":"https://api.github.com/users/lkwg82/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-29T16:08:27Z","performed_via_github_app":null},{"id":606924158,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDYwNjkyNDE1OA==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/606924158","actor":{"login":"lkwg82","id":1891171,"node_id":"MDQ6VXNlcjE4OTExNzE=","avatar_url":"https://avatars.githubusercontent.com/u/1891171?v=4","gravatar_id":"","url":"https://api.github.com/users/lkwg82","html_url":"https://github.com/lkwg82","followers_url":"https://api.github.com/users/lkwg82/followers","following_url":"https://api.github.com/users/lkwg82/following{/other_user}","gists_url":"https://api.github.com/users/lkwg82/gists{/gist_id}","starred_url":"https://api.github.com/users/lkwg82/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/lkwg82/subscriptions","organizations_url":"https://api.github.com/users/lkwg82/orgs","repos_url":"https://api.github.com/users/lkwg82/repos","events_url":"https://api.github.com/users/lkwg82/events{/privacy}","received_events_url":"https://api.github.com/users/lkwg82/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-29T16:08:27Z","performed_via_github_app":null},{"id":606924160,"node_id":"MDE0Ok1lbnRpb25lZEV2ZW50NjA2OTI0MTYw","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/606924160","actor":{"login":"plouj","id":282428,"node_id":"MDQ6VXNlcjI4MjQyOA==","avatar_url":"https://avatars.githubusercontent.com/u/282428?v=4","gravatar_id":"","url":"https://api.github.com/users/plouj","html_url":"https://github.com/plouj","followers_url":"https://api.github.com/users/plouj/followers","following_url":"https://api.github.com/users/plouj/following{/other_user}","gists_url":"https://api.github.com/users/plouj/gists{/gist_id}","starred_url":"https://api.github.com/users/plouj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plouj/subscriptions","organizations_url":"https://api.github.com/users/plouj/orgs","repos_url":"https://api.github.com/users/plouj/repos","events_url":"https://api.github.com/users/plouj/events{/privacy}","received_events_url":"https://api.github.com/users/plouj/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"mentioned","commit_id":null,"commit_url":null,"created_at":"2016-03-29T16:08:27Z","performed_via_github_app":null},{"id":606924161,"node_id":"MDE1OlN1YnNjcmliZWRFdmVudDYwNjkyNDE2MQ==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/606924161","actor":{"login":"plouj","id":282428,"node_id":"MDQ6VXNlcjI4MjQyOA==","avatar_url":"https://avatars.githubusercontent.com/u/282428?v=4","gravatar_id":"","url":"https://api.github.com/users/plouj","html_url":"https://github.com/plouj","followers_url":"https://api.github.com/users/plouj/followers","following_url":"https://api.github.com/users/plouj/following{/other_user}","gists_url":"https://api.github.com/users/plouj/gists{/gist_id}","starred_url":"https://api.github.com/users/plouj/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/plouj/subscriptions","organizations_url":"https://api.github.com/users/plouj/orgs","repos_url":"https://api.github.com/users/plouj/repos","events_url":"https://api.github.com/users/plouj/events{/privacy}","received_events_url":"https://api.github.com/users/plouj/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"subscribed","commit_id":null,"commit_url":null,"created_at":"2016-03-29T16:08:27Z","performed_via_github_app":null},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202979140","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202979140","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202979140,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk3OTE0MA==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T16:12:30Z","updated_at":"2016-03-29T16:12:30Z","body":"Would it make sense to have many more small buffers potentially capped at //max? Or some other annotation to use a separate buffer pool for one of the attributes?\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202979140/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202981966","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202981966","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202981966,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk4MTk2Ng==","user":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T16:17:44Z","updated_at":"2016-03-29T16:19:37Z","body":"I think the proper solution to this one is to remove the unsafe optimization for strings in the XDR deserializer. The thing we juggle the most is the FileInfo and it only has the one string. Copying that one directly at deserialization time is bearable. The big win is in keeping the optimization for []byte as that affects the potentially large block list.\n\nThen we get rid of the risky and unexpected behavior of strings. Byte slices are already something you _expect_ to have this behavior so won't bite us like this. \n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202981966/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false}},{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202983067","html_url":"https://github.com/syncthing/syncthing/issues/2882#issuecomment-202983067","issue_url":"https://api.github.com/repos/syncthing/syncthing/issues/2882","id":202983067,"node_id":"MDEyOklzc3VlQ29tbWVudDIwMjk4MzA2Nw==","user":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false},"created_at":"2016-03-29T16:20:22Z","updated_at":"2016-03-29T16:20:22Z","body":"Agree\n","author_association":"MEMBER","reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/comments/202983067/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"performed_via_github_app":null,"event":"commented","actor":{"login":"AudriusButkevicius","id":1144861,"node_id":"MDQ6VXNlcjExNDQ4NjE=","avatar_url":"https://avatars.githubusercontent.com/u/1144861?v=4","gravatar_id":"","url":"https://api.github.com/users/AudriusButkevicius","html_url":"https://github.com/AudriusButkevicius","followers_url":"https://api.github.com/users/AudriusButkevicius/followers","following_url":"https://api.github.com/users/AudriusButkevicius/following{/other_user}","gists_url":"https://api.github.com/users/AudriusButkevicius/gists{/gist_id}","starred_url":"https://api.github.com/users/AudriusButkevicius/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/AudriusButkevicius/subscriptions","organizations_url":"https://api.github.com/users/AudriusButkevicius/orgs","repos_url":"https://api.github.com/users/AudriusButkevicius/repos","events_url":"https://api.github.com/users/AudriusButkevicius/events{/privacy}","received_events_url":"https://api.github.com/users/AudriusButkevicius/received_events","type":"User","user_view_type":"public","site_admin":false}},{"id":606973002,"node_id":"MDEyOkxhYmVsZWRFdmVudDYwNjk3MzAwMg==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/606973002","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2016-03-29T16:43:03Z","label":{"name":"bug","color":"fc2929"},"performed_via_github_app":null},{"id":606973074,"node_id":"MDE1Ok1pbGVzdG9uZWRFdmVudDYwNjk3MzA3NA==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/606973074","actor":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"milestoned","commit_id":null,"commit_url":null,"created_at":"2016-03-29T16:43:07Z","milestone":{"title":"Planned"},"performed_via_github_app":null},{"id":607239673,"node_id":"MDExOkNsb3NlZEV2ZW50NjA3MjM5Njcz","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/607239673","actor":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"closed","commit_id":"8044522691b1104b20e75ff7d4d0f659406e762f","commit_url":"https://api.github.com/repos/syncthing/syncthing/commits/8044522691b1104b20e75ff7d4d0f659406e762f","created_at":"2016-03-29T19:55:46Z","state_reason":null,"performed_via_github_app":null},{"id":1127506561,"node_id":"MDEyOkxhYmVsZWRFdmVudDExMjc1MDY1NjE=","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/1127506561","actor":{"login":"st-review","id":16196517,"node_id":"MDQ6VXNlcjE2MTk2NTE3","avatar_url":"https://avatars.githubusercontent.com/u/16196517?v=4","gravatar_id":"","url":"https://api.github.com/users/st-review","html_url":"https://github.com/st-review","followers_url":"https://api.github.com/users/st-review/followers","following_url":"https://api.github.com/users/st-review/following{/other_user}","gists_url":"https://api.github.com/users/st-review/gists{/gist_id}","starred_url":"https://api.github.com/users/st-review/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/st-review/subscriptions","organizations_url":"https://api.github.com/users/st-review/orgs","repos_url":"https://api.github.com/users/st-review/repos","events_url":"https://api.github.com/users/st-review/events{/privacy}","received_events_url":"https://api.github.com/users/st-review/received_events","type":"User","user_view_type":"public","site_admin":false},"event":"labeled","commit_id":null,"commit_url":null,"created_at":"2017-06-16T21:02:16Z","label":{"name":"frozen-due-to-age","color":"c2e0c6"},"performed_via_github_app":null},{"id":1127506562,"node_id":"MDExOkxvY2tlZEV2ZW50MTEyNzUwNjU2Mg==","url":"https://api.github.com/repos/syncthing/syncthing/issues/events/1127506562","actor":{"login":"syncthing","id":7628018,"node_id":"MDEyOk9yZ2FuaXphdGlvbjc2MjgwMTg=","avatar_url":"https://avatars.githubusercontent.com/u/7628018?v=4","gravatar_id":"","url":"https://api.github.com/users/syncthing","html_url":"https://github.com/syncthing","followers_url":"https://api.github.com/users/syncthing/followers","following_url":"https://api.github.com/users/syncthing/following{/other_user}","gists_url":"https://api.github.com/users/syncthing/gists{/gist_id}","starred_url":"https://api.github.com/users/syncthing/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/syncthing/subscriptions","organizations_url":"https://api.github.com/users/syncthing/orgs","repos_url":"https://api.github.com/users/syncthing/repos","events_url":"https://api.github.com/users/syncthing/events{/privacy}","received_events_url":"https://api.github.com/users/syncthing/received_events","type":"Organization","user_view_type":"public","site_admin":false},"event":"locked","commit_id":null,"commit_url":null,"created_at":"2017-06-16T21:02:17Z","lock_reason":null,"performed_via_github_app":null}]