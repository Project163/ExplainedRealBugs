{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9904","repository_url":"https://api.github.com/repos/syncthing/syncthing","labels_url":"https://api.github.com/repos/syncthing/syncthing/issues/9904/labels{/name}","comments_url":"https://api.github.com/repos/syncthing/syncthing/issues/9904/comments","events_url":"https://api.github.com/repos/syncthing/syncthing/issues/9904/events","html_url":"https://github.com/syncthing/syncthing/issues/9904","id":2773623833,"node_id":"I_kwDOAOCAEs6lUiQZ","number":9904,"title":"The browse API response has changed as of Syncthing v1.29.0","user":{"login":"Martchus","id":10248953,"node_id":"MDQ6VXNlcjEwMjQ4OTUz","avatar_url":"https://avatars.githubusercontent.com/u/10248953?v=4","gravatar_id":"","url":"https://api.github.com/users/Martchus","html_url":"https://github.com/Martchus","followers_url":"https://api.github.com/users/Martchus/followers","following_url":"https://api.github.com/users/Martchus/following{/other_user}","gists_url":"https://api.github.com/users/Martchus/gists{/gist_id}","starred_url":"https://api.github.com/users/Martchus/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/Martchus/subscriptions","organizations_url":"https://api.github.com/users/Martchus/orgs","repos_url":"https://api.github.com/users/Martchus/repos","events_url":"https://api.github.com/users/Martchus/events{/privacy}","received_events_url":"https://api.github.com/users/Martchus/received_events","type":"User","user_view_type":"public","site_admin":false},"labels":[{"id":67767665,"node_id":"MDU6TGFiZWw2Nzc2NzY2NQ==","url":"https://api.github.com/repos/syncthing/syncthing/labels/bug","name":"bug","color":"d93f0b","default":true,"description":"A problem with current functionality, as opposed to missing functionality (enhancement)"}],"state":"closed","locked":false,"assignee":null,"assignees":[],"milestone":{"url":"https://api.github.com/repos/syncthing/syncthing/milestones/115","html_url":"https://github.com/syncthing/syncthing/milestone/115","labels_url":"https://api.github.com/repos/syncthing/syncthing/milestones/115/labels","id":12137055,"node_id":"MI_kwDOAOCAEs4AuTJf","number":115,"title":"v1.29.1","description":"","creator":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"open_issues":0,"closed_issues":10,"state":"closed","created_at":"2025-01-08T11:49:04Z","updated_at":"2025-01-10T13:36:18Z","due_on":"2025-02-04T08:00:00Z","closed_at":"2025-01-10T13:36:18Z"},"comments":3,"created_at":"2025-01-07T19:54:39Z","updated_at":"2025-01-09T18:55:56Z","closed_at":"2025-01-08T10:08:36Z","author_association":"CONTRIBUTOR","type":null,"active_lock_reason":null,"sub_issues_summary":{"total":0,"completed":0,"percent_completed":0},"issue_dependencies_summary":{"blocked_by":0,"total_blocked_by":0,"blocking":0,"total_blocking":0},"body":"### What happened?\n\nWhen querying the \"browse\" REST API (e.g. `curl -X GET -H 'Authorization: Bearer â€¦' 'http://localhost:8080/rest/db/browse?folder=music'`) Syncthing returns the type of the items as an integer (e.g. `\"type\": 1`) as of v1.29.0. Before it returned the type as a string (e.g. `\"type\": \"FILE_INFO_TYPE_DIRECTORY\"`). The latter is still documented and I suspect the change is unintended. As there was refactoring done it probably is a side-effect of that.\r\n\r\nI suppose the old behavior should be restored or the documentation should be updated.\r\n\r\n(Note that I don't care about the way the type is returned. I only stumbled across this as it broke the file browser in Syncthing Tray. If integers are more convenient to work with then I'm fine with that. It wasn't hard at all to figure out that the \"magic\" numbers correspond to entries in `enum FileInfoType` (in `syncthing/proto/bep/bep.proto`) although this should then probably be mentioned in the documentation.)\n\n### Syncthing version\n\nv1.29.0\n\n### Platform & operating system\n\nall\n\n### Browser version\n\n_No response_\n\n### Relevant log output\n\n_No response_","closed_by":{"login":"calmh","id":125426,"node_id":"MDQ6VXNlcjEyNTQyNg==","avatar_url":"https://avatars.githubusercontent.com/u/125426?v=4","gravatar_id":"","url":"https://api.github.com/users/calmh","html_url":"https://github.com/calmh","followers_url":"https://api.github.com/users/calmh/followers","following_url":"https://api.github.com/users/calmh/following{/other_user}","gists_url":"https://api.github.com/users/calmh/gists{/gist_id}","starred_url":"https://api.github.com/users/calmh/starred{/owner}{/repo}","subscriptions_url":"https://api.github.com/users/calmh/subscriptions","organizations_url":"https://api.github.com/users/calmh/orgs","repos_url":"https://api.github.com/users/calmh/repos","events_url":"https://api.github.com/users/calmh/events{/privacy}","received_events_url":"https://api.github.com/users/calmh/received_events","type":"User","user_view_type":"public","site_admin":false},"reactions":{"url":"https://api.github.com/repos/syncthing/syncthing/issues/9904/reactions","total_count":0,"+1":0,"-1":0,"laugh":0,"hooray":0,"confused":0,"heart":0,"rocket":0,"eyes":0},"timeline_url":"https://api.github.com/repos/syncthing/syncthing/issues/9904/timeline","performed_via_github_app":null,"state_reason":"completed"}